/*
    Copyright (c) 2015 Anaplan All rights reserved
*///>>built
require({cache:{"anaplan/gridlet/Selection":function(){define("anaplan/constants anaplan/gridlet/selection/FixedCoordinate anaplan/gridlet/selection/ItemCoordinate anaplan/gridlet/selection/CoordinatePair anaplan/gridlet/selection/Range anaplan/Exceptions anaplan/gridlet/selection/_SelectionBase anaplan/utils/JsHelper dojo/_base/array dojo/_base/declare dojo/i18n!anaplan/nls/gridlet".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){function d(a){return a instanceof p||a instanceof s}function a(a){return!(a instanceof
q)?!1:(!(a.x instanceof p)?!1:0!==a.x.offset)||(!(a.y instanceof p)?!1:0!==a.y.offset)}function r(a,b,d){if(!b)return!0;if("fixedIndex"in b)return 0<=b.fixedIndex&&b.fixedIndex<(a===l.COLUMNS?d.getRowNesting():d.getColumnNesting());if(-1===b.index)return null===b.entityLongIds;if(null===b.index)return!1;if(null===b.entityLongIds)return!0;var g=d[a===l.COLUMNS?"getColumnNesting":"getRowNesting"]();if(b.entityLongIds&&b.entityLongIds.length!==g)return!1;var e=d[a===l.COLUMNS?"getColumn":"getRow"](b.index);
if(!e||!e.entityLongIds.every(function(a,d){return a===b.entityLongIds[d]||0<d&&null===b.entityLongIds[d]})||-1===d[a===l.COLUMNS?"getEndColumnIndexOfItem":"getEndRowIndexOfItem"](b.entityLongIds,b.index))return!1;if(e.span)for(a=g-1;0<=a;){if(null!==b.entityLongIds[a])return e.span[a]!==l.SPAN_MIDDLE;a--}return!0}var b=e(n,{currentCellRangeIndex:null,currentCell:null,ranges:null,constructor:function(a){a&&a.ranges?(this.setCurrentCell(a.currentCell,a.currentCellRangeIndex),this.setRanges(a.ranges),
this._setFocusedRangeIndex(a._focusedRangeIndex)):(this.setCurrentCell(new q,0),this.setRanges([new f]))},add:function(a){a&&(a.clone&&a.ranges)&&(a=a.clone(),h.forEach(a.ranges,function(a){this.containsRange(a)||this.addRange(a)},this));return this},addRange:function(a){if(a instanceof f)this.ranges.push(a);else if("topLeft"in a&&"bottomRight"in a)this.ranges.push(new f(a));else throw new k.ClientException("Invalid range object");this._setFocusedRangeIndex(this.ranges.length-1)},containsRange:function(a){var b=
this.ranges,d=b.length,g;for(g=0;g<d;g++)if(b[g].equals(a))return!0;return!1},equals:function(a){var d,g,e;if(!this.inherited(arguments)||!(a instanceof b))return!1;if(this.currentCell){if(!this.currentCell.equals(a.currentCell))return!1}else if(a.currentCell)return!1;if(this.ranges.length!==a.ranges.length||a.currentCellRangeIndex!==this.currentCellRangeIndex)return!1;d=this.ranges;g=d.length;for(e=0;e<g;e++)if(!d[e].equals(a.ranges[e]))return!1;return!0},getCurrentRange:function(){var a=this.currentCellRangeIndex;
if(void 0===a||null===a||0>a||a>=this.ranges.length)throw new k.ClientException("Invalid range index ["+a+"]");return this.ranges[a]},getDX:function(a){var b=0;(a=this.getCurrentRange().getWidthInCells(a))&&(this.isCurrentCellLeftInRange()?b=a-1:this.isCurrentCellRightInRange()&&(b=1-a));return b},getDY:function(a){var b=0;(a=this.getCurrentRange().getHeightInCells(a))&&(this.isCurrentCellTopInRange()?b=a-1:this.isCurrentCellBottomInRange()&&(b=1-a));return b},getEndColumnEntityLongIds:function(a){return this.getCurrentRange().getEndColumnEntityLongIds(a)},
getEndColumnIndex:function(a){return this.getCurrentRange().getEndColumnIndex(a)},getEndColumnIndexInView:function(a){return this.getCurrentRange().getEndColumnIndexInView(a)},getEndColumnSpan:function(a){return this.getCurrentRange().getEndColumnSpan(a)},getEndColumnSpanInView:function(a){return this.getCurrentRange().getEndColumnSpanInView(a)},getEndRowEntityLongIds:function(a){return this.getCurrentRange().getEndRowEntityLongIds(a)},getEndRowIndex:function(a){return this.getCurrentRange().getEndRowIndex(a)},
getEndRowIndexInView:function(a){return this.getCurrentRange().getEndRowIndexInView(a)},getEndRowSpan:function(a){return this.getCurrentRange().getEndRowSpan(a)},getEndRowSpanInView:function(a){return this.getCurrentRange().getEndRowSpanInView(a)},getFocusedRange:function(){return-1!==this._focusedRangeIndex?(this._focusedRangeIndex>=this.ranges.length&&(this._focusedRangeIndex=this.ranges.length-1),this.ranges[this._focusedRangeIndex]):null},getHeightInCells:function(a){return this.getCurrentRange().getHeight(a)},
getLastRange:function(){var a=null;this.ranges.length&&(a=this.ranges[this.ranges.length-1]);return a},getNestingIndices:function(){return h.map(this.ranges,function(a){return a.getNestingIndex()})},getStartColumnEntityLongIds:function(a){return this.getCurrentRange().getStartColumnEntityLongIds(a)},getStartColumnIndex:function(a){return this.getCurrentRange().getStartColumnIndex(a)},getStartColumnIndexInView:function(a){return this.getCurrentRange().getStartColumnIndexInView(a)},getStartColumnSpan:function(a){return this.getCurrentRange().getStartColumnSpan(a)},
getStartColumnSpanInView:function(a){return this.getCurrentRange().getStartColumnSpanInView(a)},getStartRowEntityLongIds:function(a){return this.getCurrentRange().getStartRowEntityLongIds(a)},getStartRowIndex:function(a){return this.getCurrentRange().getStartRowIndex(a)},getStartRowIndexInView:function(a){return this.getCurrentRange().getStartRowIndexInView(a)},getStartRowSpan:function(a){return this.getCurrentRange().getStartRowSpan(a)},getStartRowSpanInView:function(a){return this.getCurrentRange().getStartRowSpanInView(a)},
getView:function(a,b){if(1<this.ranges.length)throw new k.UnsupportedOperationException(g.unsupportedOperationGetView,null,{operation:"getView"});return this.getCurrentRange().getView(a,b)},getViews:function(a,b){var d=[],g=this.ranges,e=g.length,r;for(r=0;r<e;r++)d.push(g[r].getView(a,b));return d},getWidthInCells:function(a){return this.getCurrentRange().getWidth(a)},initializeToDefaults:function(){var a=this.currentCell,b,d;a||(a=new q,this.setCurrentCell(a,0));a.x||a.setX(new p);a.y||a.setY(new p);
b=a.x;a=a.y;b.setIndex(0);b.setOffset(0);b.setEntityLongIds(null);a.setIndex(0);a.setOffset(0);a.setEntityLongIds(null);this.setCurrentCellRangeIndex(0);this.ranges=this.ranges.slice(0,1);d=this.ranges[0];a=d.topLeft;a.x||a.setX(new p);a.y||a.setY(new p);b=a.x;a=a.y;b.setIndex(0);b.setOffset(0);b.setEntityLongIds(null);a.setIndex(0);a.setOffset(0);a.setEntityLongIds(null);a=d.bottomRight;a.setX(null);a.setY(null);return this},isComplete:function(b){if(!b||!b.getRowNesting||!b.getColumnNesting)throw Error("Selection#isComplete: expected model as argument");
return!(this.currentCell instanceof q)||!m.isArray(this.ranges)||1>this.ranges.length||null===this.currentCellRangeIndex||(!isFinite(this.currentCellRangeIndex)||0>this.currentCellRangeIndex)||this.currentCellRangeIndex>this.ranges.length-1||(!d(this.currentCell.x)||!d(this.currentCell.y))||a(this.currentCell)||!r(l.ROWS,this.currentCell.y,b)||!r(l.COLUMNS,this.currentCell.x,b)||this.ranges.some(function(g){return!(g instanceof f)||!(g.topLeft instanceof q)||!(g.bottomRight instanceof q)||(!d(g.topLeft.x)||
!d(g.topLeft.y))||a(g.topLeft)||a(g.bottomRight)||!r(l.COLUMNS,g.topLeft.x,b)||!r(l.ROWS,g.topLeft.y,b)||!r(l.COLUMNS,g.bottomRight.x,b)||!r(l.ROWS,g.bottomRight.y,b)?!0:!1})?!1:!0},isContainedInView:function(a,b){var d,g,e;if(this.currentCell&&!this.currentCell.isContainedInView(a,b))return!1;g=this.ranges;e=g.length;for(d=0;d<e;d++)if(!g[d].isContainedInView(a,b))return!1;return!0},isCurrentCellBottomInRange:function(){var a;if(!this.currentCell)return!1;a=this.getCurrentRange();return a.bottomRight.y?
this.currentCell.y.equals(a.bottomRight.y):!0},isCurrentCellLeftInRange:function(){return!this.currentCell?!1:this.currentCell.x.equals(this.getCurrentRange().topLeft.x)},isCurrentCellRightInRange:function(){var a;if(!this.currentCell)return!1;a=this.getCurrentRange();return a.bottomRight.x?this.currentCell.x.equals(a.bottomRight.x):!0},isCurrentCellTopInRange:function(){return!this.currentCell?!1:this.currentCell.y.equals(this.getCurrentRange().topLeft.y)},isMixedNestingLevel:function(){var a;if(!this.ranges||
!this.ranges.length||!this.isWholeRowSelected()&&!this.isWholeColumnSelected())return!1;a=this.ranges[0].getNestingIndex();return h.some(this.ranges.slice(1),function(b){return b.getNestingIndex()!==a})},isOuterDimensionSelectedOnly:function(){return!this.ranges.length?!1:h.every(this.ranges,function(a){return 0===a.getNestingIndex()})},isSingleDataCellSelected:function(){var a;if(1!==this.ranges.length||!this.currentCell||!this.currentCell.isDataCellSelected())return!1;a=this.getCurrentRange();return a.bottomRight.x&&
!a.bottomRight.x.equals(a.topLeft.x)||a.bottomRight.y&&!a.bottomRight.y.equals(a.topLeft.y)||!a.topLeft.equals(this.currentCell)?!1:!0},isVisible:function(a){var b,d,g;if(this.isWholeGridSelected())return!0;if(!a)return console.warn("anaplan.gridlet.Selection#isVisible: values are required to perform check"),!1;b=this.ranges;d=b.length;for(g=0;g<d;g++)if(b[g].isVisible(a))return!0;return!1},isWholeColumnSelected:function(){return this.getCurrentRange().isWholeColumnSelected()},isWholeGridSelected:function(){var a=
this.ranges,b=a.length,d;for(d=0;d<b;d++)if(a[d].isWholeGridSelected())return!0;return!1},isWholeRowSelected:function(){return this.getCurrentRange().isWholeRowSelected()},removeRange:function(a){var b=null;if(!this.ranges)throw new k.ClientException("this.ranges is null");a=h.indexOf(this.ranges,a);-1!==a&&(b=this.removeRangeAtIndex(a));this._updateCurrentCell();return b},removeRangeAtIndex:function(a){var b;if(!this.ranges)throw new k.ClientException("this.ranges is null");if(0>a||a>=this.ranges.length)throw new k.ClientException("index out of range ["+
a+"]");b=this.ranges[a];this.ranges.splice(a,1);this._updateCurrentCell();return b},resolve:function(a){var b=this.inherited(arguments);this.currentCell&&this.currentCell.resolve(a)&&(b=!0);h.forEach(this.ranges,function(d){d.resolve(a)&&(b=!0)});1<this.ranges.length&&this._checkForOverlappingRanges(a,this.ranges[0].isWholeRowSelected()?"y":"x");return b},setCurrentCell:function(a,b){if(a)if(a instanceof q)this.currentCell=a;else if("x"in a&&"y"in a)this.currentCell=new q(a);else throw new k.ClientException("Invalid coordinate pair object");
else this.currentCellRangeIndex=this.currentCell=null;void 0!==b&&this.setCurrentCellRangeIndex(b)},setCurrentCellRangeIndex:function(a){if(!isFinite(a))throw new k.ClientException("rangeIndex is not a finite number");if(null!==a){if(0>a)throw new k.ClientException("rangeIndex is not a positive integer");this.currentCellRangeIndex=parseInt(a,10)}else this.currentCellRangeIndex=null},setRangeAsCurrent:function(a){var b=!1;if(!this.ranges)throw new k.ClientException("this.ranges is null");a=h.indexOf(this.ranges,
a);-1!==a&&(this.setCurrentCellRangeIndex(a),b=!0);return b},setRangeAtIndexAsCurrent:function(a){if(!this.ranges)throw new k.ClientException("this.ranges is null");if(0>a||a>=this.ranges.length)throw new k.ClientException("index out of range ["+a+"]");this.setCurrentCellRangeIndex(a);return!0},setRanges:function(a){if(!(a instanceof Array))throw new k.ClientException("Expected rangeObjects to be an array");this.ranges=[];h.forEach(a,function(a){this.addRange(a)},this);this._focusedRangeIndex||this._setFocusedRangeIndex(this.ranges.length?
0:-1)},toJSON:function(){return{currentCellRangeIndex:this.currentCellRangeIndex,currentCell:this.currentCell?this.currentCell.toJsonObject():null,ranges:h.map(this.ranges,function(a){return a.toJsonObject()},this),_focusedRangeIndex:this._focusedRangeIndex}},_checkForOverlappingRanges:function(a,b){var d=this.ranges,g,e;for(g=0;g<d.length;g++)for(e=g+1;e<d.length;e++)this._mergeOverlappingRanges(a,b,g,e)&&(e=g)},_mergeOverlappingRanges:function(a,b,d,g){var e,r,h,f,m,n,B;if(!a.values)throw new k.ClientException("Missing values in context");
e=a.values;r=this.ranges[d];h=this.ranges[g];"x"===b?(f=r.getStartColumnIndexInView(e),m=h.getStartColumnIndexInView(e),n=r.getEndColumnIndexInView(e),e=h.getEndColumnIndexInView(e)):(f=r.getStartRowIndexInView(e),m=h.getStartRowIndexInView(e),n=r.getEndRowIndexInView(e),e=h.getEndRowIndexInView(e));B=d===this._focusedRangeIndex?r.anchor:h.anchor;-1===f&&(f=r.topLeft[b].index);-1===m&&(m=h.topLeft[b].index);-1===n&&(n=f);-1===e&&(e=m);if(f<m&&n>e){if(r.topLeft[b].getNestingIndex()>h.topLeft[b].getNestingIndex())return d=
r.clone(),d.topLeft.set(b,{index:e+1,offset:0,entityLongIds:null}),this.addRange(d),d.resolve(a),r.bottomRight.set(b,{index:m-1,offset:0,entityLongIds:null}),r.resolve(a),h.setAnchor(B),this._setFocusedRangeIndex(g),!0;r.setAnchor(B);this.removeRange(h);this._setFocusedRangeIndex(d);return!0}if(f>=m&&n<=e){if(r.topLeft[b].getNestingIndex()>h.topLeft[b].getNestingIndex())return this.removeRange(r),h.setAnchor(B),this._setFocusedRangeIndex(g-1),!0;r.setAnchor(B);r.setTopLeft(h.topLeft);r.setBottomRight(h.bottomRight);
this.removeRange(h);this._setFocusedRangeIndex(d);return!0}if(f<=m&&n<=e&&n>=m){if(r.topLeft[b].getNestingIndex()>h.topLeft[b].getNestingIndex())return r.bottomRight.set(b,{index:m-1,entityLongIds:null,offset:0}),r.resolve(a),h.setAnchor(B),this._setFocusedRangeIndex(g),!0;if(r.topLeft[b].getNestingIndex()<h.topLeft[b].getNestingIndex())return h.topLeft.set(b,{index:n+1,entityLongIds:null,offset:0}),h.resolve(a),h.setAnchor(B),this._setFocusedRangeIndex(g),!0;r.setAnchor(B);r.setBottomRight(h.bottomRight);
this.removeRange(h);this._setFocusedRangeIndex(d);return!0}if(f>=m&&n>=e&&f<=e){if(r.topLeft[b].getNestingIndex()>h.topLeft[b].getNestingIndex())return r.topLeft.set(b,{index:e+1,entityLongIds:null,offset:0}),r.resolve(a),h.setAnchor(B),this._setFocusedRangeIndex(g),!0;if(r.topLeft[b].getNestingIndex()<h.topLeft[b].getNestingIndex())return h.bottomRight.set(b,{index:f-1,entityLongIds:null,offset:0}),h.resolve(a),h.setAnchor(B),this._setFocusedRangeIndex(g),!0;r.setAnchor(B);r.setTopLeft(h.topLeft);
this.removeRange(h);this._setFocusedRangeIndex(d);return!0}return!1},_setFocusedRangeIndex:function(a){this._focusedRangeIndex=a},_updateCurrentCell:function(){var a;this.ranges.length?(a=this.ranges.length-1,this.setCurrentCell(this.ranges[a].topLeft.clone(),a)):this.currentCellRangeIndex=0}});b.FixedCoordinate=s;b.ItemCoordinate=p;b.CoordinatePair=q;b.Range=f;return b})},"anaplan/charts/Waterfall":function(){define("anaplan/data/ModelContentCache anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/AxisHelper anaplan/utils/JsHelper anaplan/format/util dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){function d(a){for(var b,d,g,e,r=0;r<a.length;)if(e=a[r++],e.hasOwnProperty("y")){b=d=g=e.y;break}if(r>=a.length)return null;for(;r<a.length;++r)e=a[r],e.hasOwnProperty("y")&&(b+=e.y,d=Math.min(d,b),g=Math.max(g,b));a=d;b=Math.abs(g-a)*q.chartOptions.waterfall.AUTO_AXIS_MARGIN;b={yMin:a-b,yMax:g+b};0<a?0>b.yMin&&(b.yMin=0):0>g&&0<b.yMax&&(b.yMax=0);return b}function a(a,b){return void 0===a?b:a}function r(a){var b={};0<a.yMin&&(b.min=a.yMin);return b}var b;return e("anaplan.charts.Waterfall",
[s],{_getChartOptions:function(e,h){var f=this._getSeriesData(e,h),k=this._getSubTitle(h,e),m=this._getSubTitleYPosition();b=Highcharts.getOptions().plotOptions.waterfall.colors;if(0===f.length)return!1;var n=a(this._highchartsOptions.waterfallLabels,!0),k={chart:{renderTo:this._chartContainer,type:"waterfall"},legend:{enabled:!1},series:[{color:a(g.getObject("waterfall.downColor",!1,this._highchartsOptions),b[1]),data:f,dataLabels:{align:"center",enabled:n,verticalAlign:"top",y:-18,style:{textOutline:!1},
formatter:function(){return this.point.display}},point:{events:{click:g.partial(this._pointClick,this.id)}},upColor:a(g.getObject("waterfall.upColor",!1,this._highchartsOptions),b[0])}],subtitle:{text:k,y:m},title:{text:this._getTitle(e)},tooltip:{pointFormat:"{point.display}"},xAxis:{type:"category",tickWidth:0},yAxis:{title:{text:null}}};this._highchartsOptions.waterfallInvertAxes&&(k.chart.inverted=!0,g.setObject("xAxis.labels.align","right",k),g.setObject("plotOptions.series.dataLabels.inside",
!1,k),g.setObject("series.0.dataLabels.align","left",k),delete k.series[0].dataLabels.y,delete k.series[0].dataLabels.verticalAlign);this._highchartsOptions.waterfallAutoAxis&&((f=d(f))?g.mixin(k.yAxis,r(f)):console.warn("Could not calculate auto-axis for this chart. No non-aggregate data points?"));return k},_getSeriesData:function(b,d){if(!this._highchartsOptions)return[];var g=[],g=-1,e=a(this._highchartsOptions.waterfallExcludeItems,!1),r=this._model.isLineItemsOnRows(),h=!r&&this._model.isLineItemsOnColumns(),
f=this._model.getColumnAxisIdentifier(),m=this._model.getRowAxisIdentifier();if(!r&&!h&&(g=this._model.getLineItemEntityLongIdForPageInfo(),!p.isLineItemNumeric(g))||k.isVersionSystemAxisIdentifier(m))return[];if(1>=b.columnCount||1<b.rowCount&&1<b.columnCount){if(h&&(g=b.columns.entityLongIds[0][0],!p.isLineItemNumeric(g)))return[];g=k.isLineItemsSystemAxisIdentifier(f)?this._excludeInvalidIntermediates(b,e,d):k.isLineItemsSystemAxisIdentifier(m)?this._excludeInvalidIntermediatesLineItemsOnRows(b,
null,r,e,d):this._excludeInvalidIntermediates(b,e,d)}else{if(r&&(g=b.rows.entityLongIds[0][0],!p.isLineItemNumeric(g)))return[];g=this._excludeInvalidIntermediates(b,e,d)}return g?g:[]},_getSeriesName:function(a){if(1>=a.columnCount||1<a.rowCount&&1<a.columnCount){if(p.getColumnLabel(a,0).length)return p.getColumnLabel(a,0)}else if(0<a.rowCount&&(a=p.getRowLabel(a,0))&&a.length)return a;return null},_getSubTitle:function(a,b){var d=this.inherited(arguments),g=this._getSeriesName(b);return g&&g.length?
d&&d.length?d:g:d},_getTitle:function(a){var b=this.inherited(arguments),d=this._getSeriesName(a);return!b?null:d&&d.length?b&&b.length?b+" - "+d:d:b},_getTopLevelParentId:function(a,b){var d=h.indexOf(a.entityLongIds[0],b);if(-1===d)return null;d=a.parentEntityLongIds[0][d];return-1===d?b:this._getTopLevelParentId(a,d)},_countParents:function(a,b){var d=0,g;h.forEach(a.parentEntityLongIds[0],function(a,g){a===b&&d++});return 1===d&&-1!==b?(g=h.indexOf(a.entityLongIds[0],b),g=a.parentEntityLongIds[0][g],
this._countParents(a,g)):b},_excludeInvalidIntermediates:function(d,e,r){var h=0,f=[],k=[],x=!1,A=!1,l=!0,q,B,C,s,H,L,F,K=d.rows,J=d.cells;b=Highcharts.getOptions().plotOptions.waterfall.colors;for(C=0;C<d.rowCount;C++)if(s=p.getRowLabel(d,C),H=C*d.columnCount,q=d.rows.entityLongIds[0][C],B=d.rows.parentEntityLongIds[0][C],L=p.getCellNumber(d,H),g.exists("formats",J))if(F=p.getCellText(d,H),!1===K.isAggregate[0][C]){if(!1===e||!0===e&&0!==L)f.push({display:F,name:s,y:L}),k.push(q),l=!0;h+="PERCENTAGE"===
J.formats[H].unitsType?L/100:L;this._isParentInCurrentSelection(K,B)||(A=!0)}else if(!1===A){q=K.isAggregate[0][C+1];B=(C+1)*d.columnCount;B=p.getCellNumber(d,B);var M=m.applyFormat(h,J.formats[H],r.staticContext);if(F===M&&!1===A){if(0<k.length&&(!0!==q||L!==B))f.push({color:a(g.getObject("waterfall.totalsColor",!1,this._highchartsOptions),b[2]),display:M,isSum:!0,name:s}),x=!0,l=!1}else A=!0}(A&&0<k.length||!x&&0<k.length||l)&&!n.isNullOrUndefined(H)&&(g.exists("formats",J)&&J.formats.length)&&
f.push({color:a(g.getObject("waterfall.totalsColor",!1,this._highchartsOptions),b[2]),display:m.applyFormat(h,J.formats[H],r.staticContext),isSum:!0,name:"End Total"});return 0===k.length?[]:f},_excludeInvalidIntermediatesLineItemsOnRows:function(d,e,r,h,k){var w=0,x=0,A=-1,q=-1,E=f.getModuleEntityLongIdForViewDefinitionOrReference(l,this.viewDefinition),B=l.getModuleInfo(E),E=[],C=[],s=[],H=[],L=!1,F=!1,K=!0,J,M,I,O,P,N;b=Highcharts.getOptions().plotOptions.waterfall.colors;for(J=0;J<d.rowCount;J++)r&&
(A=d.rows.entityLongIds[0][J]),M=f.getLineItemInfoFromModuleInfo(B,A).isSummary,I=f.getLineItemInfoFromModuleInfo(B,A).parentLineItemEntityLongId,s.push(M),H.push(I);for(J=0;J<d.rowCount;J++)if(B=p.getRowLabel(d,J),r&&(A=d.rows.entityLongIds[0][J]),1===d.cells.writeableLeafCellCounts[e]&&w++,p.isLineItemNumeric(A))if(e=J*d.columnCount,q=s[J],M=H[J],I=p.getCellNumber(d,e),O=p.getCellText(d,e),P=d.rows.entityLongIds[0][J],-1!==M&&!q){if(!1===h||0!==I)E.push({display:O,name:B,y:I}),C.push(P),K=!0;x+=
"PERCENTAGE"===d.cells.formats[e].unitsType?I/100:I}else if(q)if(q=this._countParents(d.rows,M),P=m.applyFormat(x,d.cells.formats[e],k.staticContext),O===P&&!1===F){if(O=s[J+1],N=J+1*d.columnCount,N=p.getCellNumber(d,N),q===M&&0<C.length&&(!O||I!==N))E.push({color:a(g.getObject("waterfall.totalsColor",!1,this._highchartsOptions),b[2]),display:P,isSum:!0,name:B}),L=!0,K=!1}else F=!0;else K=!0;(F&&0<C.length||!L&&0<C.length||K)&&!n.isNullOrUndefined(e)&&(g.exists("cells.formats",d)&&d.cells.formats.length)&&
E.push({color:a(g.getObject("waterfall.totalsColor",!1,this._highchartsOptions),b[2]),display:m.applyFormat(x,d.cells.formats[e],k.staticContext),isSum:!0,name:"End Total"});return 0===C.length?[]:E},_isParentInCurrentSelection:function(a,b){var d=!1;h.forEach(a.entityLongIds[0],function(a){a===b&&(d=!0)});return d},_updateSeries:function(a,b){var d=this._getSeriesData(a,b);this._highChart.series[0].setData(d,!1);return!0},_updateChart:function(a){if(this._highchartsOptions.waterfallAutoAxis&&this._highChart){var b=
this._highChart.options,g=this._getSeriesData(a[0],a[1]);if(g&&g.length){var g=d(g),g=r(g),e={};"undefined"!==typeof b.yAxis[0].min&&(e.min=b.yAxis[0].min);"undefined"!==typeof b.yAxis[0].max&&(e.max=b.yAxis[0].max);if(!n.objectShallowEquals(e,g))return this._createChart(a)}}return this.inherited(arguments)}})})},"anaplan/snav/bulkoperationfactory/_multiselectdelegate":function(){define("anaplan/snav/bulkoperationfactory/_bulkoperationmixin dojo/_base/declare anaplan/snav/widgets/multiselect anaplan/snav/listloader anaplan/data/ModelContentCache dijit/layout/_LayoutWidget dojo/DeferredList dojo/_base/array dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h){return s("anaplan.snav.bulkoperationfactory._multiselectdelegate",[k,l],{hierarchyEntityLongId:-1,isParentItemEditable:null,multiSelectHierarchyEntityLongId:-1,valueAttr:"entityLongId",filterPropertyEntityLongIds:[-1],selectedItems:[],postCreate:function(){try{if(this.inherited(arguments),-1!=this.hierarchyEntityLongId){var e=this._getMultiSelectHierarchyEntityLongId();if(-1!=e){var g=this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),d=f.getUserInfo(),a=-1<
m.indexOf(d.entityTypeIndicesUserCanMaintain,g),r=new p({canMaintain:a,deferredList:this._getDeferredList(e),filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,isParentItemEditable:this.isParentItemEditable,multiSelectHierarchyEntityLongId:e,max:{w:640,h:480},min:{w:320,h:240},region:"center",valueAttr:this.valueAttr,selectedItems:this.selectedItems});this.addChild(r);this._multiSelect=r}}}catch(b){h.publish("anaplan/systemmessage",[b,null,-1,"ERROR"])}},layout:function(){this._multiSelect&&
this._multiSelect.resize(this._contentBox)},_getDeferredList:function(e){return new n([q.getList(e)])},_getMultiSelectHierarchyEntityLongId:function(){return this.multiSelectHierarchyEntityLongId},_isValid:function(){return this._multiSelect&&this._multiSelect.isValid()}})})},"anaplan/api/Fetchers/Base/ViewRequest":function(){define("dojo/_base/lang anaplan/api/watcher dojo/_base/declare anaplan/utils/JsHelper anaplan/data/ModelContentHelper dojo/topic anaplan/common/ViewSerialNumbers dojo/Deferred anaplan/data/RequestFactory".split(" "),
function(l,s,p,q,f,k,n,m,h){return p(null,{_fetch:function(e){var g=new m;q.isObject(e)?(e=h.createRequest(window.workspaceId,[],[e],[]),k.publish("gather",{postData:e,synchronous:!1,loadHandler:function(d){d?d.error?g.reject(d.error):d.result&&d.result.errorInfo?g.reject(d.result.errorInfo.errorMessage,d.result.errorInfo.isKnownError):(s.update(d.result),g.resolve(d.result.viewRequestResults)):g.reject("No response from server")},errorHandler:function(d){g.reject(d)}})):g.reject("No View Request");
return g.promise},getAxesForViewDefinition:function(e,g,d){return f.getAxesForViewDefinition(e,g,d)},buildFetchAllDefinitionsRequest:function(e,g){var d=this.getAxesForViewDefinition([e],[g]),d=l.mixin({type:"MODEL_DEFINITION"},d);return{modelId:window.modelId,pageSelectorLabelsRequired:!1,pageLabelsRequired:!1,viewAs:"grid",cellSelectorLabelsRequired:!1,columnLabelPageRequests:[{start:0,count:-1}],rowLabelPageRequests:[{start:0,count:-1}],dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],
serialNumbers:new n,viewDefinition:d,viewIndex:-1,workspaceId:window.workspaceId}}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){function z(){}var y=s("dijit._MasterTooltip",[r,b],{duration:d.defaultDuration,
templateString:u,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new t(this.domNode);this.fadeIn=p.fadeIn({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onShow")});this.fadeOut=p.fadeOut({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onHide")})},show:function(b,d,g,e,r,h,t){if(!this.aroundNode||!(this.aroundNode===d&&this.containerNode.innerHTML==b))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=
b;r&&this.set("textDir",r);this.containerNode.align=e?"right":"left";var f=a.around(this.domNode,d,g&&g.length?g:w.defaultPosition,!e,m.hitch(this,"orient")),u=f.aroundNodePos;"M"==f.corner.charAt(0)&&"M"==f.aroundCorner.charAt(0)?(this.connectorNode.style.top=u.y+(u.h-this.connectorNode.offsetHeight>>1)-f.y+"px",this.connectorNode.style.left=""):"M"==f.corner.charAt(1)&&"M"==f.aroundCorner.charAt(1)?this.connectorNode.style.left=u.x+(u.w-this.connectorNode.offsetWidth>>1)-f.x+"px":(this.connectorNode.style.left=
"",this.connectorNode.style.top="");n.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=d;this.onMouseEnter=h||z;this.onMouseLeave=t||z}},orient:function(a,b,d,e,r){this.connectorNode.style.top="";var h=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+d];this.domNode.style.width="auto";var t=k.position(this.domNode);if(g("ie")||g("trident"))t.w+=2;var f=Math.min(Math.max(e,1),t.w);k.setMarginBox(this.domNode,{w:f});"B"==d.charAt(0)&&"B"==b.charAt(0)?(a=k.position(a),b=this.connectorNode.offsetHeight,a.h>h?(this.connectorNode.style.top=h-(r.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(r.h/
2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,t.w-e)},_onShow:function(){g("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=z},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";
this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});g("dojo-bidi")&&y.extend({_setAutoTextDir:function(a){this.applyTextDir(a);l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,d,g,e,r,h){d&&(d=l.map(d,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));w._masterTT||(v._masterTT=
w._masterTT=new y);return w._masterTT.show(a,b,d,g,e,r,h)};v.hideTooltip=function(a){return w._masterTT&&w._masterTT.hide(a)};var w=s("dijit.Tooltip",r,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(m.isArrayLike(a)?a:a?[a]:[],function(a){return q.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(a){a=
q.byId(a,this.ownerDocument);var b=this.selector,d=b?function(a){return e.selector(b,a)}:function(a){return a},g=this;return[e(a,d(h.enter),function(){g._onHover(this)}),e(a,d("focusin"),function(){g._onHover(this)}),e(a,d(h.leave),m.hitch(g,"_onUnHover")),e(a,d("focusout"),m.hitch(g,"set","state","DORMANT"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,
a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(m.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&
(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}w.show(b,this._connectNode,this.position,
!this.isLeftToRight(),this.textDir,m.hitch(this,"set","state","SHOWING"),m.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state",
"DORMANT");this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});w._MasterTooltip=y;w.show=v.showTooltip;w.hide=v.hideTooltip;w.defaultPosition=["after-centered","before-centered"];return w})},"anaplan/view/MappedDimensionImportOptions":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/widgets/Button dijit/form/CheckBox dijit/layout/utils dojo/aspect dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/json dojo/on dojo/string dojo/sniff anaplan/data/ModelContentCache anaplan/constants anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/widgets/ConfirmationDialog anaplan/widgets/Dialog anaplan/widgets/ImportDateFormat anaplan/widgets/Tooltip dojo/text!anaplan/templates/MappedDimensionImportOptions.html dojo/i18n!anaplan/nls/mappedDimensionImportOptions dijit/form/RadioButton anaplan/widgets/Button anaplan/widgets/MasterSelector".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I){return a([f,k,n,q],{baseClass:"mappedDimensionImportOptions",widgetsInTemplate:!0,templateString:M,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._importDefinition=a.importDefinition,this._mapping=a.mapping,this._viewDefinition=a.viewDefinition,this._targetAreaSpecification=a.targetAreaSpecification,this._valueMap=a.valueMap||{},this._aliasMap=a.aliasMap||{},this._manualMapRequired=
a.manualMapRequired,this._credentials=a.credentials||{},this._persistCredentials=a.persistCredentials||!1,this._resizeEnabled=!0,this._nls=I,this._tooltips=[]}catch(b){l.throwClientException(this,b)}},displayTargetItemsOptions:function(){this._importDefinition.globalTargetAreaSpecification!=B.importTargetArea.MAPPED_ITEMS_IN_SOURCE?t.remove(this.mappingOptions,"hidden"):t.add(this.mappingOptions,"hidden")},error:function(){return!1},hide:function(a){if(a==B.TIPS){for(a=0;a<this._tooltips.length;a++)this._tooltips[a].destroy();
this._tooltips=[]}},onBusy:function(){},onChange:function(){},onIdle:function(){},postCreate:function(){try{this.inherited(arguments);var a=this._nls;l.setText(this.matchLabel,a.labelMatch);l.setText(this.manualMapLabel,a.labelManualMap);l.setText(this.targetAreaLabel,a.labelTargetArea);l.setText(this.matchedItemsRadioButtonLabel,a.labelMatchedItems);l.setText(this.allItemsRadioButtonLabel,a.labelAllItems);l.setText(this.allMappedItemsRadioButtonLabel,a.labelAllMappedItems);l.setText(this.sourceHeaderTd,
a.labelSourceHeader);l.setText(this.mappedItemsHeader,a.labelMappedToHeader);l.setText(this.targetItemsHeader,a.labelTargetHeader);l.setText(this.customMappingHeader,a.labelCustomMapping);l.setText(this.mapInfoDiv,a.mapDescription);l.setText(this.lblMessages,a.lblNoMessages);this.matchButton.set("label",a.buttonMatch);this.ignoreButton.set("label",a.buttonIgnore);this.clearButton.set("label",a.buttonClear);this.clearAllButton.set("label",a.buttonClearAll);var d=this.id+"_matchRadioButton",g=this.id+
"mapManuallyRadioButton",e=this.id+"_matchedItemsRadioButton",r=this.id+"_allMappedItemsRadioButton",h=this.id+"_allItemsRadioButton",t=this.id+"_matchOrMap",f=this.id+"_matchedOrAllItems";b.set(this.matchRadioButton,"id",d);b.set(this.matchRadioButton,"name",t);b.set(this.mapRadioButton,"id",g);b.set(this.mapRadioButton,"name",t);b.set(this.matchedItemsRadioButton,"id",e);b.set(this.matchedItemsRadioButton,"name",f);b.set(this.allMappedItemsRadioButton,"id",r);b.set(this.allMappedItemsRadioButton,
"name",f);b.set(this.allItemsRadioButton,"id",h);b.set(this.allItemsRadioButton,"name",f);b.set(this.matchLabel,"for",d);b.set(this.manualMapLabel,"for",g);b.set(this.matchedItemsRadioButtonLabel,"for",e);b.set(this.allMappedItemsRadioButtonLabel,"for",r);b.set(this.allItemsRadioButtonLabel,"for",h)}catch(u){console.error(u),l.throwClientException(this,u)}},resize:function(a){try{if(!a||!(0>=a.h||0>=a.w)){var b=r.mixin(v.getMarginBox(this.domNode),a||{}),d=e.marginBox2contentBox(this.domNode,b),g=
v.getMarginBox(this.optionsRow);z.set(this.headerRow,"height",v.getMarginBox(this.mappingActionButtons).h+"px");var h=v.getMarginBox(this.headerRow),t=d.h-(g.h+h.h)-3,f=Math.floor(d.w/3)-1,f=Math.max(30,f),t=Math.max(50,t);y("ie")&&7>=y("ie")&&(f-=10,t-=10);v.setMarginBox(this.domNode,a);z.set(this.sourceItemSelector.domNode,{height:t+"px",width:2*f-1+"px"});z.set(this.targetItemSelector.domNode,{height:t+"px",width:f-1+"px"});z.set(this.sourceHeaderTd,"width",f+"px");z.set(this.mappedHeaderTd,"width",
f+"px");z.set(this.targetHeaderTd,"width",f+"px")}}catch(u){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:resize",u,{widgetId:this.id},event))}},show:function(a){a==B.TIPS&&this._createTooltips()},startup:function(){try{this.inherited(arguments),this.displayTargetItemsOptions(),this._initTargetAreaOptionRadioButton(),this._initItemMappingOptions(),this.own(g.after(this.targetItemSelector,"addEditCellContent",r.hitch(this,this._addEditCellContent),!0)),this._updateMappings(),
this._populateSourceItemSelector(),this.show(B.TIPS)}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._confirmationDialog&&this._confirmationDialog.destroy(),d.forEach(this._tooltips,function(a){a.destroy()}),d.forEach(this._customMappings,function(a){a.checkBox.destroy();a.editButton.destroy()}),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},updateForm:function(){this.displayTargetItemsOptions()},_addEditCellContent:function(a,b){try{var d=this,g=H.entityLongIdToEntityLongIdIdentifier(b);
if("DATE"==this._getDataTypeOfTarget(b)){var e=!1;if(this._importDefinition.dataFormatsByTarget){var r=this._importDefinition.dataFormatsByTarget[g];if(r){var t=this._importDefinition.dataFormatDefinitions[r];t&&"date"==t.type&&(e=!0)}}var f=new h({name:"customFormatCheckBox"+b,value:e});u.place(f.domNode,a);var k=new m({label:"Edit..."});u.place(k.domNode,a);x(k,"Click",function(){d._editFormatDefinition(b,"date")});x(f,"Click",function(){var a=f.get("checked"),g=d._getFormatDefinition(b,"date");
g?g.active=a:a&&d._editFormatDefinition(b,"date")});z.set(k.domNode,"display",e?"":"none");this._customMappings||(this._customMappings=[]);this._customMappings.push({entityLongId:b,targetIdentifier:g,checkBox:f,editButton:k,type:"date"})}}catch(n){l.throwClientException(this,n)}},_getDataTypeOfTarget:function(a){return this._importDefinition.importType==B.importType.MODULE_DATA&&(a=E.getLineItemInfo(a))&&a.format?a.format.dataType:null},_getFormatDefinition:function(a,b){try{var d=H.entityLongIdToEntityLongIdIdentifier(a);
if(this._importDefinition.dataFormatsByTarget){var g=this._importDefinition.dataFormatsByTarget[d];if(g){var e=this._importDefinition.dataFormatDefinitions[g];if(e&&e.type==b)return e}}return null}catch(r){l.throwClientException(this,r)}},_editFormatDefinition:function(a,b){try{var g=H.entityLongIdToEntityLongIdIdentifier(a),e=this._getFormatDefinition(a,b),h=e?r.clone(e):{type:b,active:!0},t=null,f=this._mapping;d.forEach(this._importDefinition.mappings,function(a){"moduleLineItem"===a.targetType&&
""===a.target&&(t=a)});var u=this._autoValueMap;if(this._valueMap)for(var k in this._valueMap)if(this._valueMap.hasOwnProperty(k)){u=this._valueMap;break}var e=[],m;for(m in u)a==u[m]&&e.push(m);var n=new F({title:"Mapping",resizeContentsToFitViewport:!0,style:{width:"780px"}}),v=new K({workspaceId:this._workspaceId,modelId:this._modelId,importDefinition:this._importDefinition,valueMapping:t,selectorMapping:f,selectorValues:e,formatDefinition:h});n.set("content",v.domNode);var y=this,w=x(v,"Submit",
r.hitch(this,function(a,b){n.hide();y._applyFormatDefinition(g,a,"date",b)})),z=x(v,"Cancel",r.hitch(this,function(){n.hide();y._updateCustomMappings()})),B=x(n,"Hide",r.hitch(this,function(){w.remove();z.remove();B.remove();var a=setInterval(function(){"none"===n.domNode.style.display&&(clearInterval(a),n.set("content",null),n.destroy())},250)}));n.startup();n.show()}catch(A){l.throwClientException(this,A)}},_applyFormatDefinition:function(a,b,g,e){try{b.active=!0;var r=e?g:a,h=this._importDefinition;
h.dataFormatDefinitions[r]=b;e?d.forEach(this._customMappings,function(a){a.type==g&&(h.dataFormatsByTarget[a.targetIdentifier]=r)}):h.dataFormatsByTarget[a]=r;this._updateCustomMappings();this.onChange(h)}catch(t){l.throwClientException(this,t)}},_updateCustomMappings:function(){try{z.set(this.customMappingHeader,"display",this._customMappings&&this._customMappings.length?"":"none");var a=this._importDefinition,b={};if(this._valueMap)for(var g in this._valueMap)this._valueMap.hasOwnProperty(g)&&
(b[this._valueMap[g]]=!0);var e=this;d.forEach(this._customMappings,function(d){if(e.mapRadioButton&&e.mapRadioButton.checked&&!b[d.entityLongId])d.checkBox.set("disabled",!0),z.set(d.editButton.domNode,"display","none");else{d.checkBox.set("disabled",!1);var g=!1,r=!1;if(a.dataFormatsByTarget){var h=a.dataFormatsByTarget[d.targetIdentifier];if(h&&(h=a.dataFormatDefinitions[h])&&h.type==d.type)g=!0,r=h.active}d.checkBox.set("value",r);z.set(d.editButton.domNode,"display",g?"":"none")}})}catch(r){l.throwClientException(this,
r)}},_confirm:function(a,b,d,e){try{var h=this;this._confirmationDialog||(this._confirmationDialog=new L);this._confirmationDialog.set("title",b);this._confirmationDialog.set("content",a);var t,f;t=x(this._confirmationDialog,"Cancel",r.hitch(this,function(){try{f&&f.remove(),t&&t.remove(),d()}catch(a){l.showErrorReporter(new G.ClientException("anaplan.view.MappedDimensionImportOptions: _confirm (cancel)",a,{widgetId:h.id}))}}));f=g.after(this._confirmationDialog,"execute",r.hitch(this,function(){try{f&&
f.remove(),t&&t.remove(),e()}catch(a){l.showErrorReporter(new G.ClientException("anaplan.view.MappedDimensionImportOptions: _confirm (execute)",a,{widgetId:h.id}))}}));setTimeout(function(){h._confirmationDialog.show()},500)}catch(u){l.throwClientException(this,u)}},_createTooltip:function(a,b){var d=a.get("label");return new J({label:s.searchAndReplacePlaceholders(this._nls["tooltip"+b]||"$(ANAPEDIA:"+d+")"),connectId:[a.domNode],position:["below","above"],title:d})},_createTooltips:function(){this._tooltips.length?
console.warn(this.id+" expected to find no tooltips found "+this._tooltips.length):(this._tooltips.push(this._createTooltip(this.matchButton,"Match")),this._tooltips.push(this._createTooltip(this.ignoreButton,"Ignore")),this._tooltips.push(this._createTooltip(this.clearButton,"Clear")),this._tooltips.push(this._createTooltip(this.clearAllButton,"ClearAll")))},_initItemMappingOptions:function(){try{var a=!1;if(this._valueMap)for(var b in this._valueMap)if(this._valueMap.hasOwnProperty(b)){a=!0;break}a||
this._manualMapRequired?this.mapRadioButton.set("checked",!0):this.matchRadioButton.set("checked",!0);this.mapRadioButton.set("disabled",this._manualMapRequired);this.matchRadioButton.set("disabled",this._manualMapRequired);this._showOrHideValueMapping(this.mapRadioButton.checked)}catch(d){l.throwClientException(this,d)}},_initTargetAreaOptionRadioButton:function(){try{var a=this._targetAreaSpecification,b=a.target,d=a.area,g=B.importTargetArea,a=!1,e;if(d===g.MATCHED_ITEMS){if(this._valueMap)for(e in this._valueMap)if(this._valueMap.hasOwnProperty(e)){a=
!0;break}a?""===b?this.allMappedItemsRadioButton.set("checked",!0):this.matchedItemsRadioButton.set("checked",!0):this.matchedItemsRadioButton.set("checked",!0)}else if(d===g.ALL_MAPPED_ITEMS)this.allMappedItemsRadioButton.set("checked",!0);else if(d===g.MAPPED_ITEMS_IN_SOURCE)this.matchedItemsRadioButton.set("checked",!0);else if(d===g.ALL_ITEMS)this.allItemsRadioButton.set("checked",!0);else{if(this._valueMap)for(e in this._valueMap)if(this._valueMap.hasOwnProperty(e)){a=!0;break}""===b?a?this.allMappedItemsRadioButton.set("checked",
!0):this.matchedItemsRadioButton.set("checked",!0):this.allItemsRadioButton.set("checked",!0)}}catch(r){l.throwClientException(this,r)}},_onClearButtonClick:function(a){try{var b=this.sourceItemSelector.get("value");b&&b.value&&(delete this._valueMap[b.value],this._updateMappings(this._valueMap))}catch(d){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onClearButtonClick",d,{widgetId:this.id},a))}},_onClearAllButtonClick:function(a){try{for(var b in this._valueMap)this._valueMap.hasOwnProperty(b)&&
delete this._valueMap[b];this.sourceItemSelector&&this.sourceItemSelector.set("value",{});this.targetItemSelector&&this.targetItemSelector.set("value",{});this._updateMappings(this._valueMap)}catch(d){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onClearAllButtonClick",d,{widgetId:this.id},a))}},_onDeleteKeyPressed:function(){try{var a=this.sourceItemSelector.get("value");a&&a.value&&(delete this._valueMap[a.value],this._updateMappings(this._valueMap))}catch(b){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onDeleteKeyPressed",
b,{widgetId:this.id}))}},_onIgnoreButtonClick:function(a){try{var b=this.sourceItemSelector.get("value");b&&b.value&&(this._valueMap[b.value]=-1,this._updateMappings(this._valueMap))}catch(d){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onIgnoreButtonClick",d,{widgetId:this.id},a))}},_onMatchButtonClick:function(a){try{if(this._sourceItemsLabelPage&&this._autoValueMap){for(var b=0;b<this._sourceItemsLabelPage.count;++b){var d=this._sourceItemsLabelPage.labels[0][b],g=this._autoValueMap[d];
g&&(this._valueMap[d]=g)}this.sourceItemSelector&&this.sourceItemSelector.set("value",{});this.targetItemSelector&&this.targetItemSelector.set("value",{});this._updateMappings(this._valueMap)}}catch(e){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onMatchButtonClick",e,{widgetId:this.id},a))}},_onRadioButtonChange:function(a){try{var b=this._targetAreaSpecification,d=B.importTargetArea;this.matchedItemsRadioButton.checked?b.area=this.mapRadioButton.checked?d.MAPPED_ITEMS_IN_SOURCE:
d.MATCHED_ITEMS:this.allMappedItemsRadioButton.checked?b.area=d.ALL_MAPPED_ITEMS:this.allItemsRadioButton.checked&&(b.area=d.ALL_ITEMS);this.onChange()}catch(g){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onRadioButtonChange",g,{widgetId:this.id},a))}},_onMapRadioButtonChange:function(a){this._onMatchOrMapRadioButtonChange(a,!0)},_onMatchRadioButtonChange:function(a){this._onMatchOrMapRadioButtonChange(a,!1)},_onMatchOrMapRadioButtonChange:function(a,b){try{var d;this.sourceItemSelector.set("value",
{});this.targetItemSelector.set("value",{});if(b){for(d in this._autoValueMap)d in this._valueMap||(this._valueMap[d]=this._autoValueMap[d]);this._updateMappings(this._valueMap);this._showOrHideValueMapping(!0);this._onRadioButtonChange(a)}else{var g=!this._autoValueMap,e=0,r=0;if(this._autoValueMap){for(d in this._valueMap){if(this._autoValueMap[d]!==this._valueMap[d]){g=!0;break}++e}if(!g){for(d in this._autoValueMap)++r;g=e!=r}}var h=this;d=function(){for(var a in h._valueMap)h._valueMap.hasOwnProperty(a)&&
delete h._valueMap[a];h._showOrHideValueMapping(!1);h._updateMappings(h._autoValueMap||{});h._onRadioButtonChange()};g?this._confirm(this._nls.clearMappingsConfirmation,this._nls.labelMatch,function(){h.mapRadioButton.set("checked",!0)},d):d()}}catch(t){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onMatchOrMapRadioButtonChange",t,{widgetId:this.id},a))}},_onSourceSelectionChange:function(){try{if(this.mapRadioButton.checked){this.targetItemSelector.set("value",{});var a=
!1,b=!1,d=this.sourceItemSelector.get("value");if(d&&d.value){var g=this._valueMap[d.value];g&&(a=!0);-1!==g&&(b=!0)}this.clearButton.set("disabled",!a);this.ignoreButton.set("disabled",!b)}else this.sourceItemSelector.set("value",{})}catch(e){l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onSourceSelectionChange",e,{widgetId:this.id},event))}},_onTargetSelectionChange:function(){try{if(this.mapRadioButton.checked){var a=this.sourceItemSelector.get("value"),b=this.targetItemSelector.get("value");
if(a&&a.value){if(b&&b.value){var g=d.indexOf(this._targetItemsLabelPage.entityLongIds[0],b.value);this._targetItemsLabelPage.isEditable[0][g]&&(this._valueMap[a.value]=b.value)}else delete this._valueMap[a.value];this._sourceItemsLabelPage&&this._resolveValueMap(this._valueMap,this._aliasMap,this._sourceItemsLabelPage);this.targetItemSelector.set("value",{});this._updateMappings(this._valueMap);this.onChange()}else this.targetItemSelector.set("value",{})}else this.targetItemSelector.set("value",
{})}catch(e){console.error(w.stringify(e)),l.showErrorReporter(new G.ClientException("MappedDimensionImportOptions:_onTargetSelectionChange",e,{widgetId:this.id},event))}},_populateSourceItemSelector:function(){try{this.onBusy(this._nls.labelLoading);this._valuesLoading=!0;this._valuesLoaded=!1;this.mapRadioButton.set("disabled",!0);this.matchRadioButton.set("disabled",!0);l.setText(this.lblMessages,this._nls.lblNoMessages);var a=5E3;switch(y("ie")){case 8:a=2E3;break;default:a=5E3}var b={actionId:"GET_IMPORT_SOURCE_ITEMS",
params:r.mixin(this._credentials||{},{persistParams:this._persistCredentials,modelId:this._modelId,importDefinition:this._importDefinition,sourceId:this._importDefinition.source,targetId:this._importDefinition.target,mapping:this._mapping,limit:a})},d=C.createRequest(this._workspaceId,[],[],[b]),g=this;p.post(d,!1,function(b){try{if(b&&!b.error&&b.result){var d=b.result;if(d.systemActionResults&&d.systemActionResults.length){var e=b.result.systemActionResults[0];if(e.successful){g._sourceItemsLabelPage=
e.sourceItemsLabelPage;g._targetItemsLabelPage=e.targetItemsLabelPage;g._autoValueMap=e.autoValueMap;g._autoAliasMap=e.autoAliasMap;g._capImposed=e.capImposed;if(g._capImposed){var r=A.substitute(g._nls.lblTooManyRows,{limit:a});l.setText(g.lblMessages,r)}else{var h;g.mapRadioButton&&g.mapRadioButton.checked?(g._resolveValueMap(g._valueMap,g._aliasMap,e.sourceItemsLabelPage),h=g._valueMap):h=g._autoValueMap;g.targetItemSelector?(g._customMappings=[],g.targetItemSelector.set("targetLabelPage",e.targetItemsLabelPage),
setTimeout(function(){try{g._updateCustomMappings()}catch(a){console.error(a)}},10)):console.warn("No targetItemSelector");g.sourceItemSelector?(g.sourceItemSelector.set("targetLabelPage",e.targetItemsLabelPage),g.sourceItemSelector.set("labelPage",e.sourceItemsLabelPage)):console.warn("No sourceItemSelector");g._updateMappings(h)}g._valuesLoaded=!0}else console.error("Failed to retrieve items")}}}catch(t){l.showErrorReporter(new G.ClientException("anaplan.view.MappedDimensionImportOptions._populateSourceItemSelector._onGet",
t,{widgetId:g.id}))}finally{g.onIdle(),g._valuesLoading=!1,g.mapRadioButton&&g.mapRadioButton.set("disabled",g._capImposed||g._manualMapRequired),g.matchRadioButton&&g.matchRadioButton.set("disabled",g._capImposed||g._manualMapRequired)}},function(){g.onIdle();g._valuesLoading=!1;g.mapRadioButton&&g.mapRadioButton.set("disabled",g._capImposed||g._manualMapRequired);g.matchRadioButton&&g.matchRadioButton.set("disabled",g._capImposed||g._manualMapRequired);console.error("Failed to retrieve items")})}catch(e){l.throwClientException(this,
e)}},_resolveValueMap:function(a,b,d){try{var g,e,r,h;for(e in b)b.hasOwnProperty(e)&&(r=b[e],a[r]||delete b[e]);for(g=0;g<d.count;++g)if(r=d.labels[0][g],e=d.entityCodes[0][g]){var t=b[e];if(t)t!=r&&(h=a[t],delete a[t],a[r]=h,b[e]=r);else if((h=a[e])&&e!=r)delete a[e],a[r]=h;b[e]=r}}catch(f){l.throwClientException(this,f)}},_showOrHideValueMapping:function(a){try{var b={visibility:a?"visible":"hidden"};z.set(this.mapInfoDiv,b);z.set(this.mappingActionButtons,b);this.sourceItemSelector.set("disabled",
!a);this.targetItemSelector.set("disabled",!1);!a&&this.allMappedItemsRadioButton.checked&&this.allItemsRadioButton.set("checked",!0);this.allMappedItemsRadioButton.set("disabled",!a);l.setText(this.matchedItemsRadioButtonLabel,a?this._nls.labelMappedItems:this._nls.labelMatchedItems);this.matchedItemsRadioButton.value=a?"MAPPED_ITEMS_IN_SOURCE":"MATCHED_ITEMS"}catch(d){l.throwClientException(this,d)}},_updateMappings:function(a){try{this.sourceItemSelector&&a&&(this.sourceItemSelector.set("valueMappings",
a||{}),this.sourceItemSelector.set("value",{}));this.targetItemSelector&&a&&(this.targetItemSelector.set("valueMappings",a||{}),this.targetItemSelector.set("value",{}));var b=!1,d=!1;if(!this._capImposed)for(var g=0;this._sourceItemsLabelPage&&g<this._sourceItemsLabelPage.count;++g){var e=this._sourceItemsLabelPage.labels[0][g];/^#.*/.test(this._sourceItemsLabelPage.entityCodes[0][g])||(b=!0);a[e]&&(d=!0);if(b&&d)break}this.matchButton&&this.matchButton.set("disabled",!b);this.clearAllButton&&this.clearAllButton.set("disabled",
!d);this.ignoreButton&&this.ignoreButton.set("disabled",!0);this.clearButton&&this.clearButton.set("disabled",!0)}catch(r){l.throwClientException(this,r)}}})})},"anaplan/utils/GridletHelper":function(){define(["dojo/_base/lang","dojo/keys","dojo/_base/array"],function(l,s,p){var q={checkHeldCellCount:function(f){if(f.getBreakbackHeldCellsCount){if(0<f.getBreakbackHeldCellsCount())return!0}else if(f.breakbackHoldStatus){if(0<f.breakbackHoldStatus.breakbackHeldCellsCount)return!0}else return!1},getSortAndFilterDefinitions:function(f){var k=
[];f&&(f.rowAxisSpecification&&(f.rowAxisSpecification.axisDefinition&&f.rowAxisSpecification.axisDefinition.sortAndFilterDefinition)&&k.push(f.rowAxisSpecification.axisDefinition.sortAndFilterDefinition),f.columnAxisSpecification&&(f.columnAxisSpecification.axisDefinition&&f.columnAxisSpecification.axisDefinition.sortAndFilterDefinition)&&k.push(f.columnAxisSpecification.axisDefinition.sortAndFilterDefinition),f.pageAxisSpecifications&&f.pageAxisSpecifications.length&&p.forEach(f.pageAxisSpecifications,
function(f){f.axisDefinition&&f.axisDefinition.sortAndFilterDefinition&&k.push(f.axisDefinition.sortAndFilterDefinition)}));return k},getSortDefinitions:function(f){var k=[];f&&(f.rowAxisSpecification&&(f.rowAxisSpecification.axisDefinition&&f.rowAxisSpecification.axisDefinition.sortDefinition)&&k.push(f.rowAxisSpecification.axisDefinition.sortDefinition),f.columnAxisSpecification&&(f.columnAxisSpecification.axisDefinition&&f.columnAxisSpecification.axisDefinition.sortDefinition)&&k.push(f.columnAxisSpecification.axisDefinition.sortDefinition),
f.pageAxisSpecifications&&f.pageAxisSpecifications.length&&p.forEach(f.pageAxisSpecifications,function(f){f.axisDefinition&&f.axisDefinition.sortDefinition&&k.push(f.axisDefinition.sortDefinition)}));return k},getListFormattedCellKeyFilterMap:function(){var f={},k,n;for(k in s)s.hasOwnProperty(k)&&(n=s[k],97>n&&(f[n]=1));return f}};l.setObject("anaplan.utils.GridletHelper",q);return q})},"anaplan/dashboard/dashboardWidgets/_LineChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet",
"anaplan/charts/Line","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._LineChart",[s,l],{})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(l,s){var p={};l.setObject("dojo.date.stamp",p);p.fromISOString=function(l,f){p._isoRegExp||(p._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var k=p._isoRegExp.exec(l),n=null;if(k){k.shift();k[1]&&k[1]--;k[6]&&(k[6]*=
1E3);f&&(f=new Date(f),s.forEach(s.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(e){return f["get"+e]()}),function(e,g){k[g]=k[g]||e}));n=new Date(k[0]||1970,k[1]||0,k[2]||1,k[3]||0,k[4]||0,k[5]||0,k[6]||0);100>k[0]&&n.setFullYear(k[0]||1970);var m=0,h=k[7]&&k[7].charAt(0);"Z"!=h&&(m=60*(k[8]||0)+(Number(k[9])||0),"-"!=h&&(m*=-1));h&&(m-=n.getTimezoneOffset());m&&n.setTime(n.getTime()+6E4*m)}return n};p.toISOString=function(l,f){var k=function(g){return 10>g?"0"+
g:g};f=f||{};var n=[],m=f.zulu?"getUTC":"get",h="";"time"!=f.selector&&(h=l[m+"FullYear"](),h=["0000".substr((h+"").length)+h,k(l[m+"Month"]()+1),k(l[m+"Date"]())].join("-"));n.push(h);if("date"!=f.selector){h=[k(l[m+"Hours"]()),k(l[m+"Minutes"]()),k(l[m+"Seconds"]())].join(":");m=l[m+"Milliseconds"]();f.milliseconds&&(h+="."+(100>m?"0":"")+k(m));if(f.zulu)h+="Z";else if("time"!=f.selector)var m=l.getTimezoneOffset(),e=Math.abs(m),h=h+((0<m?"-":"+")+k(Math.floor(e/60))+":"+k(e%60));n.push(h)}return n.join("T")};
return p})},"anaplan/widgets/ArrowlessMenuItem":function(){define(["dojo/_base/declare","dojo/dom-attr","anaplan/widgets/MenuItem","dojo/text!anaplan/templates/ArrowlessMenuItem.html"],function(l,s,p,q){return l([p],{templateString:q,_setAccelKeyAttr:function(f){this.accelKeyNode&&(this.accelKeyNode.style.display=f?"":"none",this.accelKeyNode.innerHTML=f,s.set(this.containerNode,"colSpan",f?"2":"3"));this._set("accelKey",f)}})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){l._xhrObj=b._create;var u=l.config;l.objectToQuery=q.objectToQuery;l.queryToObject=q.queryToObject;l.fieldToObject=k.fieldToObject;l.formToObject=k.toObject;l.formToQuery=k.toQuery;l.formToJson=k.toJson;l._blockAsync=!1;var v=l._contentHandlers=l.contentHandlers={text:function(a){return a.responseText},json:function(a){return h.fromJson(a.responseText||null)},"json-comment-filtered":function(a){m.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==b||-1==d)throw Error("JSON was not comment filtered");return h.fromJson(a.substring(b+2,d))},javascript:function(a){return l.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(s("dom-qsa2.1")&&!b.querySelectorAll&&s("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(s("ie")&&(!b||!b.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),
d(3),d(2)];g.some(d,function(d){try{var g=new ActiveXObject(d);g.async=!1;g.loadXML(a.responseText);b=g}catch(e){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};l._ioSetArgs=function(a,b,d,g){var r={args:a,url:a.url},h=null;if(a.form){var h=f.byId(a.form),t=h.getAttributeNode("action");r.url=r.url||(t?t.value:null);h=k.toObject(h)}t=[{}];h&&t.push(h);a.content&&t.push(a.content);
a.preventCache&&t.push({"dojo.preventCache":(new Date).valueOf()});r.query=q.objectToQuery(e.mixin.apply(null,t));r.handleAs=a.handleAs||"text";var m=new n(function(a){a.canceled=!0;b&&b(a);var d=a.ioArgs.error;d||(d=Error("request cancelled"),d.dojoType="cancel",a.ioArgs.error=d);return d});m.addCallback(d);var v=a.load;v&&e.isFunction(v)&&m.addCallback(function(b){return v.call(a,b,r)});var x=a.error;x&&e.isFunction(x)&&m.addErrback(function(b){return x.call(a,b,r)});var y=a.handle;y&&e.isFunction(y)&&
m.addBoth(function(b){return y.call(a,b,r)});m.addErrback(function(a){return g(a,m)});u.ioPublish&&(l.publish&&!1!==r.args.ioPublish)&&(m.addCallbacks(function(a){l.publish("/dojo/io/load",[m,a]);return a},function(a){l.publish("/dojo/io/error",[m,a]);return a}),m.addBoth(function(a){l.publish("/dojo/io/done",[m,a]);return a}));m.ioArgs=r;return m};var z=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},y=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},w=function(a){0>=
x&&(x=0,u.ioPublish&&(l.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&l.publish("/dojo/io/stop"))},x=0;a.after(r,"_onAction",function(){x-=1});a.after(r,"_onInFlight",w);l._ioCancelAll=r.cancelAll;l._ioNotifyStart=function(a){u.ioPublish&&(l.publish&&!1!==a.ioArgs.args.ioPublish)&&(x||l.publish("/dojo/io/start"),x+=1,l.publish("/dojo/io/send",[a]))};l._ioWatch=function(a,b,d,g){a.ioArgs.options=a.ioArgs.args;e.mixin(a,{response:a.ioArgs,isValid:function(d){return b(a)},isReady:function(b){return d(a)},
handleResponse:function(b){return g(a)}});r(a);w(a)};l._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};l.xhr=function(a,d,g){var e,r=l._ioSetArgs(d,function(a){e&&e.cancel()},z,y),h=r.ioArgs;"postData"in d?h.query=d.postData:"putData"in d?h.query=d.putData:"rawBody"in d?h.query=d.rawBody:(2<arguments.length&&!g||-1==="POST|PUT".indexOf(a.toUpperCase()))&&l._ioAddQueryToUrl(h);var t={method:a,handleAs:"text",timeout:d.timeout,withCredentials:d.withCredentials,
ioArgs:h};"undefined"!==typeof d.headers&&(t.headers=d.headers);"undefined"!==typeof d.contentType&&(t.headers||(t.headers={}),t.headers["Content-Type"]=d.contentType);"undefined"!==typeof h.query&&(t.data=h.query);"undefined"!==typeof d.sync&&(t.sync=d.sync);l._ioNotifyStart(r);try{e=b(h.url,t,!0)}catch(f){return r.cancel(),r}r.ioArgs.xhr=e.response.xhr;e.then(function(){r.resolve(r)}).otherwise(function(a){h.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);
r.reject(a)});return r};l.xhrGet=function(a){return l.xhr("GET",a)};l.rawXhrPost=l.xhrPost=function(a){return l.xhr("POST",a,!0)};l.rawXhrPut=l.xhrPut=function(a){return l.xhr("PUT",a,!0)};l.xhrDelete=function(a){return l.xhr("DELETE",a)};l._isDocumentOk=function(a){return t.checkStatus(a.status)};l._getText=function(a){var b;l.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};e.mixin(l.xhr,{_xhrObj:l._xhrObj,fieldToObject:k.fieldToObject,formToObject:k.toObject,objectToQuery:q.objectToQuery,
formToQuery:k.toQuery,formToJson:k.toJson,queryToObject:q.queryToObject,contentHandlers:v,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"anaplan/store/Memory":function(){define(["dojo/_base/declare","dojo/store/util/QueryResults","dojo/store/util/SimpleQueryEngine"],function(l,s,p){return l("anaplan.store.Memory",
null,{data:null,idProperty:"id",index:null,queryEngine:p,constructor:function(l){for(var f in l)l.hasOwnProperty(f)&&(this[f]=l[f]);this.setData(this.data||[])},get:function(l){return this.data[this.index[l]]},getIdentity:function(l){return l[this.idProperty]},put:function(l,f){var k=this.data,n=this.index,m=this.idProperty,h,m=l[m]=f&&"id"in f?f.id:m in l?l[m]:Math.random();if(m in n){if(f&&!1===f.overwrite)throw Error("Object already exists");k[n[m]]=l}else if("before"in f){h=this.getIdentity(f.before);
if("undefined"===typeof h)throw Error("Object to insert before doesn't exist");k.splice(n[m]=n[h],0,l);n=n[m]+1;for(h=k.length;n<h;n++)this.index[k[n][this.idProperty]]=n}else n[m]=k.push(l)-1;return m},add:function(l,f){(f=f||{}).overwrite=!1;return this.put(l,f)},remove:function(l){var f=this.index,k=this.data;return l in f?(k.splice(f[l],1),this.setData(k),!0):!1},query:function(l,f){return s(this.queryEngine(l,f)(this.data))},setData:function(l){l.items?(this.idProperty=l.identifier,l=this.data=
l.items):this.data=l;this.index={};for(var f=0,k=l.length;f<k;f++)this.index[l[f][this.idProperty]]=f}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(l,s,p,q,f,k){return l("dijit.MenuSeparator",[p,q,f],{templateString:k,buildRendering:function(){this.inherited(arguments);s.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(l,s,p,q,f,k,n,m,h){var e=f.delegate(m,{mouseenter:k.enter,mouseleave:k.leave,keypress:p._keypress}),g;p=q("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(d){for(var a=d;;)if(1==a.nodeType&&(this._processTemplateNode(a,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&a.firstChild)a=a.firstChild;else{if(a==d)break;for(;!a.nextSibling;)if(a=a.parentNode,a==d)return;a=a.nextSibling}},_processTemplateNode:function(d,a,g){var b=!0,e=this.attachScope||this,h=a(d,"dojoAttachPoint")||a(d,"data-dojo-attach-point");if(h)for(var k=h.split(/\s*,\s*/);h=k.shift();)f.isArray(e[h])?e[h].push(d):e[h]=d,b="containerNode"!=h,this._attachPoints.push(h);if(a=a(d,"dojoAttachEvent")||a(d,"data-dojo-attach-event")){h=a.split(/\s*,\s*/);for(k=f.trim;a=h.shift();)if(a){var m=
null;-1!=a.indexOf(":")?(m=a.split(":"),a=k(m[0]),m=k(m[1])):a=k(a);m||(m=a);this._attachEvents.push(g(d,a,f.hitch(e,m)))}}return b},_attach:function(d,a,r){a=a.replace(/^on/,"").toLowerCase();a="dijitclick"==a?g||(g=l("./a11yclick")):e[a]||a;return n(d,a,r)},_detachTemplateNodes:function(){var d=this.attachScope||this;s.forEach(this._attachPoints,function(a){delete d[a]});this._attachPoints=[];s.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});f.extend(h,{dojoAttachEvent:"",dojoAttachPoint:""});return p})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){var t=s("dijit.CalendarLite",[a,r],{templateString:b,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',
dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",
_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,b){"string"==typeof a&&(a=k.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),
this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),
b=a.getDay(),d=this.dateModule.getDaysInMonth(a),g=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,r=p.getFirstDayOfWeek(this.lang);r>b&&(r-=7);if(!this.summary){var h=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",h[a.getMonth()])}this._date2cell={};l.forEach(this.dateCells,function(h,t){var f=t+r,k=new this.dateClassObj(a),m="dijitCalendar",n=0;f<b?(f=g-b+f+1,n=-1,m+="Previous"):f>=b+d?(f=f-
b-d+1,n=1,m+="Next"):(f=f-b+1,m+="Current");n&&(k=this.dateModule.add(k,"month",n));k.setDate(f);this.dateModule.compare(k,e,"date")||(m="dijitCalendarCurrentDate "+m);this.isDisabledDate(k,this.lang)?(m="dijitCalendarDisabledDate "+m,h.setAttribute("aria-disabled","true")):(m="dijitCalendarEnabledDate "+m,h.removeAttribute("aria-disabled"),h.setAttribute("aria-selected","false"));(n=this.getClassForDate(k,this.lang))&&(m=n+" "+m);h.className=m+"Month dijitCalendarDateTemplate";m=k.valueOf();this._date2cell[m]=
h;h.dijitDateValue=m;this._setText(this.dateLabels[t],k.getDateLocalized?k.getDateLocalized(this.lang):k.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,d=new this.dateClassObj;l.forEach(["previous","current","next"],function(a){d.setFullYear(b++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",
new this.dateClassObj)},constructor:function(a){this.dateModule=a.datePackage?h.getObject(a.datePackage,!1):q;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?h.getObject(a.datePackage+".locale",!1):f},_createMonthWidget:function(){return t._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),
g=p.getFirstDayOfWeek(this.lang);this.dayCellsHtml=d.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[g++%7]});a=d.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);n.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},
_connectControls:function(){var a=h.hitch(this,function(a,b,d){this[a].dojoClick=!0;return e(this[a],"click",h.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,b,d))}))});this.own(a("incrementMonth","month",1),a("decrementMonth","month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var d=this.currentFocus,e=this._getNodeByDate(d);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||
0!=this.dateModule.difference(d,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);d=this._getNodeByDate(a);d.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&d.focus();e&&e!=d&&(g("webkit")?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!m.contains(a,
"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,d){m.toggle(d,"dijitCalendarSelectedDate",a);d.setAttribute("aria-selected",a?"true":"false")}l.forEach(this._selectedCells||[],h.partial(b,!1));this._selectedCells=l.filter(l.map(a,this._getNodeByDate,this),function(a){return a});l.forEach(this._selectedCells,h.partial(b,!0))},onChange:function(){},
isDisabledDate:function(){},getClassForDate:function(){}});t._MonthWidget=s("dijit.CalendarLite._MonthWidget",a,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),d=6==g("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+l.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=d+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});return t})},
"dojo/Evented":function(){define(["./aspect","./on"],function(l,s){function p(){}var q=l.after;p.prototype={on:function(f,k){return s.parse(this,f,k,function(f,m){return q(f,"on"+m,k,!0)})},emit:function(f,k){var n=[this];n.push.apply(n,arguments);return s.emit.apply(s,n)}};return p})},"anaplan/widgets/QuickFilter/EditorFactory":function(){define("anaplan/constants anaplan/utils/FormatHelper anaplan/widgets/QuickFilter/ArityTwoContainer anaplan/widgets/TokenInput dijit/_WidgetBase dijit/form/CheckBox dijit/form/DateTextBox dijit/form/NumberTextBox dijit/form/FilteringSelect dijit/form/TextBox dojo/_base/lang dojo/data/ItemFileReadStore dojo/data/ItemFileWriteStore dojo/i18n!anaplan/nls/filter".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){var b={createEditor:function(b){var d=b.get("comparisonDataType"),e=b.get("arity"),h=document.createElement("div");b.filterConditionValueInner.appendChild(h);return b.getItems().then(g.hitch(this,function(h){if(1===e)return h=this._getSingleArityEditor(d,b.getSingleArityEditorValue(),h),b.filterConditionValueInner.appendChild(h.domNode),h.startup(),h;if(2===e){var k=new p({}),m=b.getDoubleArityEditorValues();k.addChild(this._getSingleArityEditor(d,m.length?m[0]:
"",g.clone(h)));k.addChild(new f({className:"arityTwoEditorSeparator",innerHTML:s.escapeHTML(r.arityTwoEditorSeparator)}));k.addChild(this._getSingleArityEditor(d,m.length?m[1]:"",h));b.filterConditionValueInner.appendChild(k.domNode);k.startup();return k}if(Infinity===e){var n=new q({store:new a({clearOnClose:!0,data:{identifier:"id",label:"name",items:h}}),searchAttr:"name",pageSize:50,value:b.get("comparisonMultiValueOR"),required:!0,requiredMin:1});b.filterConditionValueInner.appendChild(n.domNode);
n.startup();setTimeout(function(){n.resize()},100);return n}return null}))},_getSingleArityEditor:function(a,b,g){var f=l.dataTypes;switch(a){case f.NUMBER:a=new m({required:!0,invalidMessage:r.invalidMessageNumber,value:b});break;case f.BOOLEAN:a=new k({checked:b});break;case f.DATE:a=new n({required:!0,value:b});break;case f.TIME_ENTITY:a=new h({store:new d({data:{identifier:"id",label:"name",items:g}}),searchAttr:"name",value:b,required:!0,autocomplete:!0,hasDownArrow:!0});break;default:a=new e({value:b})}return a}};
g.setObject("anaplan.widgets.QuickFilter.EditorFactory",b);return b})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,s,p,q){p(function(){s("highcontrast")&&l.add(q.body(),"dijit_a11y")});return s})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),function(l,s,p,q,f,k,n){return l("dijit.PopupMenuItem",n,{baseClass:"dijitMenuItem dijitPopupMenuItem",
_fillContent:function(){if(this.srcNodeRef){var f=q("*",this.srcNodeRef);this.inherited(arguments,[f[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(k,h){var e=this.popup;f.open(p.delegate(k,{popup:this.popup,around:this.domNode}));h&&e.focus&&e.focus()},_closePopup:function(){f.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var f=q("[widgetId]",this.dropDownContainer)[0];this.popup=k.byNode(f)}this.ownerDocumentBody.appendChild(this.popup.domNode);
this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&s.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(f){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(f),delete this.popup);this.inherited(arguments)}})})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return f("dijit.form._FormSelectWidget",a,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(h.isArray(a))return l.map(a,"return this.getOptions(item);",this);h.isString(a)&&(a={value:a});h.isObject(a)&&(l.some(b,function(b,d){for(var g in a)if(!(g in b)||b[g]!=a[g])return!1;a=d;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){l.forEach(h.isArray(a)?a:[a],function(a){a&&h.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(h.isArray(a)?
a:[a]);l.forEach(a,function(a){a&&(this.options=l.filter(this.options,function(d){return d.value!==a.value||d.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){l.forEach(h.isArray(a)?a:[a],function(a){var d=this.getOptions({value:a.value}),g;if(d)for(g in a)d[g]=a[g]},this);this._loadChildren()},setStore:function(a,b,d){m.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(a,b,d)},_deprecatedSetStore:function(a,b,e){var f=this.store;e=e||{};if(f!==a){for(var k;k=this._notifyConnections.pop();)k.remove();a.get||(h.mixin(a,{_oldAPI:!0,get:function(a){var b=new s;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var g=new s(function(){e.abort&&e.abort()});g.total=new s;var e=this.fetch(h.mixin({query:a,onBegin:function(a){g.total.resolve(a)},
onComplete:function(a){g.resolve(a)},onError:function(a){g.reject(a)}},b));return new d(g)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[p.after(a,"onNew",h.hitch(this,"_onNewItem"),!0),p.after(a,"onDelete",h.hitch(this,"_onDeleteItem"),!0),p.after(a,"onSet",h.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);e.query&&this._set("query",e.query);e.queryOptions&&this._set("queryOptions",e.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new s,this._queryRes=a.query(this.query,this.queryOptions),g(this._queryRes,h.hitch(this,function(d){if(this.sortByLabel&&!e.sort&&d.length)if(a.getValue)d.sort(q.createSortFunction([{attribute:a.getLabelAttributes(d[0])[0]}],a));else{var g=this.labelAttr;d.sort(function(a,b){return a[g]>b[g]?1:b[g]>
a[g]?-1:0})}e.onFetch&&(d=e.onFetch.call(this,d,e));l.forEach(d,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(h.hitch(this,function(a,b,d){b==d?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=d&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(d):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));return f},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=h.isArray(a)?l.map(a,function(a){return h.isObject(a)?a:{value:a}}):h.isObject(a)?[a]:[{value:a}];a=l.filter(this.getOptions(a),function(a){return a&&a.value});var d=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&d.length)a[0]=d[0];l.forEach(d,
function(b){b.selected=l.some(a,function(a){return a.value===b.value})});d=l.map(a,function(a){return a.value});if(!("undefined"==typeof d||"undefined"==typeof d[0])){var g=l.map(a,function(a){return a.label});this._setDisplay(this.multiple?g:g[0]);this.inherited(arguments,[this.multiple?d:d[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=l.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},
_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(l.forEach(this._getChildren(),function(a){a.destroyRecursive()}),l.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;l.forEach(this._getChildren(),function(d){var g=l.some(a,function(a){return d.option&&
a===d.option.value});g&&!b.multiple&&(b.focusedChild=d);n.toggle(d.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),g);d.domNode.setAttribute("aria-selected",g?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=l.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?l.map(l.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},
_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,d=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:d?b.getIdentity(a):null,label:d,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},
scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?e("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+m._scopeName+"-value")||a.getAttribute("value"),
label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);p.after(this,"onChange",h.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this._deprecatedSetStore(a,this._oValue,
{query:this.query,queryOptions:this.queryOptions});this._storeInitialized=!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"anaplan/data/DataPageCache":function(){define(["dojo/_base/declare","anaplan/data/DataPageCache/_DataPage"],function(l,s){return l("anaplan.data.DataPageCache",[],{constructor:function(l){this._id=l.id||"data";this._rowCount=l.rowCount;this._columnCount=l.columnCount;this._allCurrenciesLabelPage=l.allCurrenciesLabelPage;this.clear()},clear:function(){this._startColumnIndex=
this._startRowIndex=999999999;this._endColumnIndex=this._endRowIndex=-1;this._pages=[]},containsRange:function(l,q,f,k){if(this.isEmpty()||l<this._startRowIndex||q>this._endRowIndex||f<this._startColumnIndex||k>this._endColumnIndex)return!1;for(var n=this._calculateAreaOfRange(l,q,f,k),m=0,h=this._pages,e=h.length,g,d=0;d<e;d++)(g=this._calculatePageRangeIntersection(h[d],l,q,f,k))&&(m+=this._calculateAreaOfRange(g.startRow,g.endRow,g.startColumn,g.endColumn));return n!==m?!1:!0},getItems:function(l,
q,f,k,n,m){if(!this.isEmpty()){var h=l<this._startRowIndex?this._startRowIndex:l;q=q>this._endRowIndex?this._endRowIndex:q;var e=f<this._startColumnIndex?this._startColumnIndex:f,g=k>this._endColumnIndex?this._endColumnIndex:k,d=this._getPage(h,e);if(!d)return n;for(m=m&&m.comparisonMode?m.comparisonMode:null;h<=q;h++)for(var a=e;a<=g;a++){var r=(h-l)*(k-f+1)+(a-f);if(void 0===n.cellText[r]){if(!d.contains(h,a)&&(d=this._getPage(h,a),!d))return n;var b=d.getIndex(h,a);n.cellValues[r]=d.getCellValue(b);
n.formats[r]=d.getFormat(b);var t=d.getComparisonState(b),u="YES"==t;n.isCalculated[r]=d.getIsCalculated(b);n.isEditable[r]=u?!1:d.getIsEditable(b);var v=u?d.getComparisonText(b,m):d.getCellText(b);n.cellText[r]=v;n.originalText[r]=u?v:d.getOriginalText(b);n.comparisonValues[r]=u?d.getComparisonValue(b):null;n.comparisonStates[r]=t;n.writeableLeafCellCounts[r]=d.getWriteableLeafCellCount(b);n.bgColors[r]=d.getBgColor(b);d.getHeldRangeIndices()&&(n.heldRangeIndices||(n.heldRangeIndices=[]),n.heldRangeIndices[r]=
d.getHeldRangeIndex(b))}}}},isEmpty:function(){return this._pages&&this._pages.length?!1:!0},isItem:function(l,q){return this.isEmpty()||l<this._startRowIndex||l>this._endRowIndex||q<this._startColumnIndex||q>this._endColumnIndex?!1:this._getPage(l,q)?!0:!1},setPages:function(l){if(l&&l.length)for(var q=0;q<l.length;q++){var f=l[q];if(!this._getPage(f.startRow,f.startColumn)){var k=new s({allCurrenciesLabelPage:this._allCurrenciesLabelPage,page:f});f.startRow<this._startRowIndex&&(this._startRowIndex=
f.startRow);f.startColumn<this._startColumnIndex&&(this._startColumnIndex=f.startColumn);f.startRow+f.rowCount-1>this._endRowIndex&&(this._endRowIndex=f.startRow+f.rowCount-1);f.startColumn+f.columnCount-1>this._endColumnIndex&&(this._endColumnIndex=f.startColumn+f.columnCount-1);this._pages.push(k)}}},_calculateAreaOfRange:function(l,q,f,k){return(q-l+1)*(k-f+1)},_calculatePageRangeIntersection:function(l,q,f,k,n){return l.getStartRow()>f||l.getStartColumn()>n||l.getEndRow()<q||l.getEndColumn()<
k?null:{startRow:Math.max(l.getStartRow(),q),endRow:Math.min(l.getEndRow(),f),startColumn:Math.max(l.getStartColumn(),k),endColumn:Math.min(l.getEndColumn(),n)}},_getPage:function(l,q){for(var f=0;f<this._pages.length;f++){var k=this._pages[f];if(k.contains(l,q))return k}return null}})})},"anaplan/cf/BaseFormattingDefinition":function(){define(["dojo/_base/declare","dojo/_base/lang","anaplan/common/_DefinitionBase"],function(l,s,p){return l(p,{_serializableProperties:[],constructor:function(l){l&&
s.mixin(this,l)},isEmpty:function(){return!0},toJSON:function(){return{}}})})},"anaplan/yolk/DashboardLoaderUtils":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/loaderutils anaplan/tabs/Dashboard anaplan/utils/getLocalStorage dijit/registry dojo/_base/window dojo/topic".split(" "),function(l,s,p,q,f,k,n,m,h){var e=function(){var a=n.byId("border");a.getChildren().forEach(function(d){a.removeChild(d);d.destroyRecursive()})},g=function(a,d,b){b=
b||[];var g=p.hasEntitlement(l.ENTITLED_FEATURES.DATA_INPUT_UNDO),g=new App.models.DashboardModel(window.workspaceId,window.modelId,a,null,!1,!1,k(),g);g.hideToolbar=!0;g.isFloating=!1;d=new f({dashboardDefinition:d,dashboardEntityLongId:a,showBreakbackMarkersOnStartup:q.breakbackMarkersEnabled(window.modelId),showQuickSumOnStartup:q.quickSumEnabled(),showTipsOnStartup:q.tooltipsEnabled(),dashboardModel:g,region:"center"});n.byId("border").addChild(d);d.setupDefaultObserversWithSharedContext(b);d.initialLoad().then(function(){h.publish("anaplan/cbi/open-dashboard-succeeded",
{workspaceId:window.workspaceId,modelId:window.modelId,dashboardId:String(a)})});d.own(h.subscribe("anaplan/global/context",d.setGlobalContext.bind(d)))},d=function(){s.gather()};return{loadDashboard:function(a,r){e();var b;a:{var t=p.getDashboardInfo(a);if(t)try{b=JSON.parse(t.dashboardDefinitionJsonString);break a}catch(f){console.error("Error parsing dashboard definition: "+a)}b=null}b?(g(a,b,r),d()):h.publish("anaplan/core/error",new m.global.App.errors.InvalidDashboardError(a))},refresh:d}})},
"anaplan/charts/Line":function(){define("anaplan/data/ModelContentHelper anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/utils/LabelPageHelper dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,q,f,k,n,m){return n("anaplan.charts.Line",[s],{_getChartOptions:function(h,e){var g=this._getLineSeries(h,e);if(!this._assertSeries(g))return null;p.setSeriesColourFromConfig(this._originalChartConfig,g);var d=this._getCategories(h,e),a=p.getLabels(d),
d={chart:{type:"line",renderTo:this._chartContainer},xAxis:{categories:d,labels:a,tickmarkPlacement:"on",tickLength:5},yAxis:{title:{text:null}},legend:{y:q.chartOptions.legendYPosition.DEFAULT},plotOptions:{line:{dataLabels:{format:"{point.cellText}",style:{textOutline:!1}}},series:{animation:!1,marker:{radius:2},point:{events:{click:m.partial(this._pointClick,this.id)}}}},series:g};this._setupItemClickHandler(this.chartType,d);this._highchartsOptions&&(this._highchartsOptions.legend&&m.mixin(d,
{legend:this._highchartsOptions.legend}),this._highchartsOptions.dataLabels&&m.mixin(d.plotOptions.line.dataLabels,this._highchartsOptions.dataLabels));k.forEach(g,function(a){k.some(a.data,function(a){return null!==a.y})||k.forEach(a.data,function(a){a.y=0})});return d},_getLineSeries:function(h,e){var g=this._model,d=g.isLineItemsOnRows(),a=!d&&g.isLineItemsOnColumns(),g=g.getLineItemEntityLongIdForPageInfo(),g=p.isLineItemNumeric(g),d=App.interim.charts.getValidRowsAndColumns({selection:h,highChartsHelper:p,
areLineItemsOnRows:d,areLineItemsOnColumns:a,isLineItemOnPagesNumeric:g});return App.interim.charts.getLineChartSeriesData({model:this._model,modelContentHelper:l,labelPageHelper:f,highChartsHelper:p,selection:h,pageInfo:e,rows:d.rows,columns:d.columns,areLineItemsOnColumns:a})},_updateSeries:function(h,e){var g=!1,d=this._getLineSeries(h,e),a;for(a=0;a<d.length;a++)this._highChart.series[a].setData(d[a].data,!1),g=!0;return g}})})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array",
"./html","../NodeList-dom"],function(l,s,p){s=s.NodeList;var q=s.prototype;q.connect=s._adaptAsForEach(function(){return l.connect.apply(this,arguments)});q.coords=s._adaptAsMap(l.coords);s.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");p.forEach(s.events,function(f){var k="on"+f;q[k]=function(f,m){return this.connect(k,f,m)}});return l.NodeList=s})},"anaplan/data/LabelPageCache":function(){define(["dojo/_base/array",
"dojo/_base/declare","anaplan/gridlet/Themes","anaplan/constants","anaplan/utils/FormatHelper"],function(l,s,p,q,f){return s([],{_themeId:null,constructor:function(f){this._id=f.id||"label";this._style=f.style||"normal";this._nesting=f.nesting||1;this._axis=f.axis;this._labelSizes=f.labelSizes||{};this._themeId=f.themeId;this.clear()},clear:function(){this._pages=[];this._pageSizes=[];this._startIndex=999999999;this._endIndex=-1},containsRange:function(f,n){if(this.isEmpty()||f<this._startIndex||
n>this._endIndex)return!1;for(var m=this._calculateAreaOfRange(f,n),h=0,e=this._pages,g=e.length,d,a=0;a<g;a++)(d=this._calculatePageRangeIntersection(e[a],f,n))&&(h+=this._calculateAreaOfRange(d.start,d.end));return m!==h?!1:!0},getCachedLabelsCount:function(){if(this.isEmpty())return 0;for(var f=0,n=this._pages,m=n.length;m--;)f+=n[m].count;return f},getEndIndexOfItem:function(f,n){if(!this._pages.length||!f)return-1;var m=this.getIndexOfItem(f,n);if(-1===m)return-1;for(var h=this._getPage(m),e=
f.length,g=0,d=0;d<e&&null!==f[d];d++)g++;g-=1;if(h.span){if(d=h.span[g][m-h.start],d===q.SPAN_NONE||d===q.SPAN_END)return m}else return m;for(m=l.indexOf(h.span[g],q.SPAN_END,m-h.start);-1===m;){h=this._pages[l.indexOf(this._pages,h)+1];if(!h)break;m=l.indexOf(h.span[g],q.SPAN_END)}if(-1!==m){d=h.entityLongIds;for(g=0;g<e&&null!==f[g];g++)if(d[g][m]!==f[g])return-1;return m+h.start}return-1},getIndexOfItem:function(f,n){var m=this._pages,h=m.length;if(!h||!f)return-1;var e,g,d=0,a=-1;if(isFinite(n)&&
0<=n)for(e=0;e<h;e++)if(g=m[e],n>=g.start&&n<g.start+g.count){d=e;break}var r,b,t=f.length,u=-1,v=d;for(b=0;b<t;b++){r=f[b];if(null===r)break;for(e=v;e<h;e++)if(g=m[e],u=l.indexOf(g.entityLongIds[b],r,-1!==a?a-g.start:0),-1!==u){a=u+g.start;v=e;break}else a=-1;if(-1===a&&0===b)for(e=0;e<d;e++)if(g=m[e],u=l.indexOf(g.entityLongIds[b],r),-1!==u){a=u+g.start;v=e;break}if(-1===a)break}if(-1!==a){g=m[v];u=a-g.start;m=g.entityLongIds;for(b=0;b<t&&null!==f[b];b++)if(m[b][u]!==f[b])return-1}return a},getItems:function(k,
n,m){if(this.isEmpty())return m;var h=Math.max(k,this._startIndex);n=Math.min(n,this._endIndex);var e=this._getPage(h);if(!e||!e.count)return m;for(var g=this._style,d=this._nesting,a,r,b,t=h;t<=n;t++){if(!e||e.start>t||e.start+e.count-1<t)if(e=this._getPage(t),!e)continue;for(r=0;r<d;r++)if(h=t-e.start,a=t-k,void 0==m.labels[r][a]){e.labels[r][h]&&!e.escapedLabels[r][h]&&(e.escapedLabels[r][h]=f.escapeHTML(e.labels[r][h]));m.labels[r][a]=e.escapedLabels[r][h];m.entityIds[r][a]=e.entityIds[r][h];
m.entityLongIds[r][a]=e.entityLongIds[r][h];m.entityCodes[r][a]=e.entityCodes[r][h];m.isAggregate[r][a]=e.isAggregate[r][h];m.isEditable[r][a]=e.isEditable[r][h];m.originalLabels[r][a]=e.labels[r][h];m.parentEntityLongIds[r][a]=e.parentEntityLongIds[r][h];m.styles[r][a]=e.styles&&e.styles[r]&&e.styles[r][h]?e.styles[r][h]:g;m.treeLineSequences[r][a]=e.treeLineSequences[r][h]||null;m.isItemEditable[r][a]=e.isItemEditable[r][h];m.canDelete[r][a]=e.canDelete?e.canDelete[r][h]:!0;m.isItemEditable[r][a]=
e.isItemEditable?e.isItemEditable[r][h]:!0;m.canInsertSibling[r][a]=e.canInsertSibling?e.canInsertSibling[r][h]:!0;if(e.span){if(!m.span){m.span=Array(d);for(b=0;b<d;b++)m.span[b]=[]}m.span[r][a]=e.span[r][h]}if(e.showLabel){if(!m.showLabel){m.showLabel=Array(d);for(b=0;b<d;b++)m.showLabel[b]=[]}m.showLabel[r][a]=e.showLabel[r][h]}if(e.heldRangeIndices){if(!m.heldRangeIndices){m.heldRangeIndices=Array(d);for(b=0;b<d;b++)m.heldRangeIndices[b]=[]}m.heldRangeIndices[r][a]=e.heldRangeIndices[r][h]}}}return m},
getKnownSizes:function(){var f={count:0,widths:[],indices:[],adjustments:[]},n=function(m){m.showLabel&&(f.showLabel||(f.showLabel=[]),l.forEach(m.showLabel,function(h,e){f.showLabel[e]||(f.showLabel[e]=[]);f.showLabel[e]=f.showLabel[e].concat(h)}))};l.forEach(this._pageSizes,function(m){f.count+=m.count;f.widths=f.widths.concat(m.widths);f.indices=f.indices.concat(m.indices);f.adjustments=f.adjustments.concat(m.adjustments);n(m)});return f},getLabelPage:function(){if(this.isEmpty())return console.warn("LabelPageCache: expected to find single label page but instead found "+
this._pages.length),null;if(1==this._pages.length)return this._pages[0];for(var f=null,n=this._startIndex,m=this._endIndex,h=this._nesting,e,g={start:m,count:0,labels:this._createArrays(h,0),entityIds:this._createArrays(h,0),entityLongIds:this._createArrays(h,0),isAggregate:this._createArrays(h,0),isEditable:this._createArrays(h,0),parentEntityLongIds:this._createArrays(h,0),styles:this._createArrays(h,0),treeLineSequences:this._createArrays(h,0),canDelete:this._createArrays(h,0),isItemEditable:this._createArrays(h,
0),canInsertSibling:this._createArrays(h,0)},d=n;d<=m;d++)if(!f||f.start>d||f.start+f.count-1<d){f=this._getPage(d);if(!f)break;for(n=0;n<h;n++){g.count+=f.count;g.start=Math.min(f.start,g.start);g.labels[n]=g.labels[n].concat(f.labels[n]);g.entityIds[n]=g.entityIds[n].concat(f.entityIds[n]);g.entityLongIds[n]=g.entityLongIds[n].concat(f.entityLongIds[n]);g.isAggregate[n]=g.isAggregate[n].concat(f.isAggregate[n]);g.isEditable[n]=g.isEditable[n].concat(f.isEditable[n]);g.parentEntityLongIds[n]=g.parentEntityLongIds[n].concat(f.parentEntityLongIds[n]);
f.styles&&f.styles[n]&&(g.styles[n]=g.styles[n].concat(f.styles[n]));g.treeLineSequences[n]=g.treeLineSequences[n].concat(f.treeLineSequences[n]);g.canDelete[n]=g.canDelete[n].concat(f.canDelete[n]);g.isItemEditable[n]=g.isItemEditable[n].concat(f.isItemEditable[n]);g.canInsertSibling[n]=g.canInsertSibling[n].concat(f.canInsertSibling[n]);if(f.span){if(!g.span){g.span=Array(h);for(e=0;e<h;e++)g.span[e]=[]}g.span[n]=g.span[n].concat(f.span[n])}if(f.showLabel){if(!g.showLabel){g.showLabel=Array(h);
for(e=0;e<h;e++)g.showLabel[e]=[]}g.showLabel[n]=g.showLabel[n].concat(f.showLabel[n])}if(f.heldRangeIndices){if(!g.heldRangeIndices){g.heldRangeIndices=Array(h);for(e=0;e<h;e++)g.heldRangeIndices[e]=[]}g.heldRangeIndices[n]=g.heldRangeIndices[n].concat(f.heldRangeIndices[n])}}}return g},getSpanOnDimensionAtIndex:function(f,n){if(!isFinite(f)||0>f||!isFinite(n)||0>n)return null;var m=this._getPage(n);return m&&m.span&&m.span.length>f?m.span[f][n-m.start]:null},isEmpty:function(){return this._pages&&
this._pages.length?!1:!0},isItem:function(f){return this.isEmpty()||f<this._startIndex||f>this._endIndex?!1:this._getPage(f)?!0:!1},setPages:function(f,n){if(f&&f.length)for(var m=this._nesting,h=f.length,e,g,d=0;d<h;d++)if(e=f[d],!this._getPage(e.start)){e.escapedLabels=Array(m);for(g=0;g<m;g++)e.escapedLabels[g]=[];g=this._calculatePageSize(e,n);var a=0,r=!1;l.forEach(this._pages,function(b){b.start==e.start&&(console.warn("anaplan.data.LabelPageCache setPages is replacing existing page"),r=!0);
e.start>=b.start&&a++});this._pages.splice(a,r?1:0,e);this._pageSizes.splice(a,r?1:0,g);e.start<this._startIndex&&(this._startIndex=e.start);this._endIndex=Math.max(this._endIndex,e.count?e.start+e.count-1:e.start)}},_calculateAreaOfRange:function(f,n){return n-f+1},_calculatePageRangeIntersection:function(f,n,m){return f.start>m||f.start+f.count-1<n?null:{start:Math.max(f.start,n),end:Math.min(f.start+f.count-1,m)}},_calculatePageSize:function(f,n){var m={adjustments:[],count:0,indices:[],start:f.start,
widths:[],showLabel:f.showLabel},h=this._labelSizes,e=this._axis==q.ROWS?p.getPadBorderForAllRowStyles(n):p.getPadBorderForAllColumnStyles(n),g=this._axis==q.ROWS?p.getNormalRowAdjustment(n):p.getNormalColumnAdjustment(n),d,a,r;this._axis==q.ROWS?(d=0,l.forEach(this._labelSizes.rowLabelWidths,function(a){d+=a.width})):d=this._labelSizes.defaultColumnWidth;for(var b=0;b<f.count;b++){for(var t=0,u=[],v=!1,z=!1,y=0;y<f.nestingCount;y++){a=!f.showLabel||f.showLabel[y][b];r=null;if(a){if(this._axis==q.COLUMNS&&
(h[f.entityLongIds[y][b]]?(z=!0,t=h[f.entityLongIds[y][b]]):!z&&(f.styles&&h[f.styles[y][b]])&&(t=Math.max(t,h[f.styles[y][b]]))),f.styles){var w=f.styles[y][b]||"normal",x="normal";0<b&&f.styles[y][b-1]&&(x=f.styles[y][b-1]);var A="normal";b<f.count-1&&f.styles[y][b+1]&&(A=f.styles[y][b+1]);if("normal"!=w||"normal"!=x||"normal"!=A)w=e[w],r={h:0,w:0},a&&(this._axis==q.ROWS?(r=p.getActualBordersUsingNeighbouringRows(e[x],w,e[A],n),r=p.getBorderAdjustmentForActualRowBorders(r,n),r=p.getRowAdjustment(w,
r,n)):(r=p.getActualBordersUsingNeighbouringColumns(e[x],w,e[A],n),r=p.getBorderAdjustmentForActualColumnBorders(r,n),r=p.getColumnAdjustment(w,r,n))),v=v||r.h!=g.h||r.w!=g.w}}else v=!0;u.push(r||(a?g:{h:0,w:0}))}if(t&&t!=d||v)m.count++,m.widths.push(t),m.indices.push(f.start+b),m.adjustments.push(u)}return m},_createArrays:function(f,n){for(var m=Array(f),h=0;h<f;h++)m[h]=Array(n);return m},_getPage:function(f){for(var n=this._pages,m=n.length,h=0;h<m;h++){var e=n[h];if(e.start<=f&&(e.count?e.start+
e.count-1:e.start)>=f)return e}return null}})})},"anaplan/data/SortableLabelPage":function(){define("dojo/_base/declare dojo/Evented dojo/_base/lang dojo/_base/array anaplan/utils/LabelPageHelper anaplan/utils/JsHelper".split(" "),function(l,s,p,q,f,k){return l([s],{_labelPage:null,_locked:[],constructor:function(f,k){this._locked=k||[];this.update(f)},count:function(){return this._labelPage.count},hasUnlockedItems:function(){return 0<this._labelPage.count-this._locked.length},update:function(f){var m=
this;k.isObject(f)?(this._original=f,this._labelPage=p.clone(f),this._lockIndexes={},q.forEach(this._locked,function(h){var e=q.indexOf(m._labelPage.entityLongIds[0],h);m._lockIndexes[h]=e})):console.warn("SortableLabelPage requires a labelPage object as returned by the aggregator")},findNextItemByPhrase:function(f){for(var k=this._labelPage.labels[0],h=[],e=0;e<k.length;e++)RegExp("("+f+")","i").test(k[e])&&h.push(e);return h},reset:function(){this.update(this._original);this.onChanged(this._labelPage)},
moveItemById:function(f,k){this.moveItem(q.indexOf(this._labelPage.entityLongIds[0],f),k)},getIndexById:function(f){return q.indexOf(this._labelPage.entityLongIds[0],f)},moveItem:function(f,m){if(f!==m){var h=p.clone(this._labelPage.entityLongIds[0]),h=k.moveItemInArray(h,f,m);this.reOrderLabelPage(h)}},sortAsc:function(){this._sort()},sortDesc:function(){this._sort(!0)},_sort:function(f){var m=this._labelPage.entityLongIds[0],h=this._labelPage.labels[0],e=p.clone(h);e.sort(function(a,b){if(isNaN(a)&&
isNaN(b)){var d=a.toLowerCase().localeCompare(b.toLowerCase());return 0!==d?d:a<b?-1:a===b?0:1}if(isNaN(a))return 1;if(isNaN(b))return-1;a=parseInt(a.toString(2),10);b=parseInt(b.toString(2),10);return a-b});!0===f&&e.reverse();f=[];for(var g=0;g<this._labelPage.count;g++){var d=q.indexOf(h,e[g]);f.push(m[d])}for(var a in this._lockIndexes)this._lockIndexes.hasOwnProperty(a)&&(m=q.indexOf(f,a),h=this._lockIndexes[a],m!==h&&(f=k.moveItemInArray(f,m,h)));this.reOrderLabelPage(f)},reOrderLabelPage:function(f){var k=
this,h=p.clone(this._labelPage),e=h.entityLongIds[0];this._labelPage.entityLongIds[0]=[];var g=["labels","entityIds","entityLongIds"];this._labelPage.styles&&g.push("styles");q.forEach(g,function(a){k._labelPage[a][0]=[]});for(var d=0;d<h.count;d++)for(var a=q.indexOf(e,f[d]),r=0;r<g.length;r++){var b=g[r];this._labelPage[b][0].push(h[b][0][a])}this.onChanged(this._labelPage)},getValues:function(){for(var k={entityLongIds:[],labels:[],locked:this._lockIndexes,count:this._labelPage.count},m=this._labelPage.entityLongIds[0],
h=0;h<this._labelPage.count;h++)k.entityLongIds.push(m[h]),k.labels.push(f.getItemName(this._labelPage,0,h));return k},isLocked:function(f){return void 0!==this._lockIndexes[f]},getLockedIndexes:function(){return this._lockIndexes},onChanged:function(){}})})},"anaplan/dashboard/DashboardWidget":function(){define("anaplan/common/SelectiveAccess anaplan/constants anaplan/dashboard/_Button anaplan/dashboard/DashboardHelper anaplan/dashboard/dashboardWidgets/_Cell anaplan/dashboard/dashboardWidgets/_ColumnChart anaplan/dashboard/dashboardWidgets/_ColumnRangeChart anaplan/dashboard/dashboardWidgets/_DashboardWidgetToolbar anaplan/dashboard/dashboardWidgets/_FunnelChart anaplan/dashboard/dashboardWidgets/_HierarchyGridlet anaplan/dashboard/dashboardWidgets/_Img anaplan/dashboard/dashboardWidgets/_LineChart anaplan/dashboard/dashboardWidgets/_MapChart anaplan/dashboard/dashboardWidgets/_ModuleGridlet anaplan/dashboard/dashboardWidgets/_PageSelector anaplan/dashboard/dashboardWidgets/_PageSelectorToolbar anaplan/dashboard/dashboardWidgets/_PieChart anaplan/dashboard/dashboardWidgets/_StaticText anaplan/dashboard/dashboardWidgets/_Text anaplan/dashboard/dashboardWidgets/_ToolbarLabel anaplan/dashboard/dashboardWidgets/_WaterfallChart anaplan/dashboard/dashboardWidgets/_CombinationChart anaplan/dashboard/ButtonOptions anaplan/dashboard/ButtonStyles anaplan/dashboard/HeightAndWidth anaplan/dashboard/ImageOption anaplan/dashboard/LayoutHelper anaplan/dashboard/MenuToolbarHelper anaplan/dashboard/MenuToolbarOptions anaplan/dashboard/PageSelectorOptions anaplan/dashboard/StaticTextOptions anaplan/dashboard/ToolbarOptions anaplan/dashboard/UsabilityOptions anaplan/data/Aggregator anaplan/data/ChangeFactory anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/gridlet/_editor/EditorFactory anaplan/gridlet/cellmenu/DynamicCellMenuDelegate anaplan/gridlet/cellmenu/SelectionCellMenuDelegate anaplan/gridlet/Themes anaplan/keyboard/helpers anaplan/keyboard/keyboardEvents anaplan/layout/_ManagedMixin anaplan/layout/ContentPane anaplan/utils/ChangeValidator anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/UIHelper anaplan/validators/HierarchyValidator anaplan/validators/ModuleBlueprintValidator anaplan/widgets/_PageSelectorMixin anaplan/widgets/Button anaplan/widgets/DropDownButton anaplan/widgets/PageSelectorHelper anaplan/widgets/SearchPane dijit/_CssStateMixin dijit/focus dijit/layout/_LayoutWidget dijit/Menu dijit/popup dijit/Tooltip dijit/TooltipDialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/json dojo/on dojo/query dojo/sniff dojo/topic dojox/html/metrics".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea,qa,ka,da,ha,U,sa,ta,Ca,Fa,xa,ma,za,na,Da,V,Ba,ua,la,oa,va,wa,ia,fa,ya,Aa,pa){return Da([Ca,ca,qa,sa],{layoutBox:null,constructor:function(a){this._args=a},buildRendering:function(){this.inherited(arguments);this.containerNode=ua.create("div",{"class":"dashboardWidgetContainerNode"},this.domNode)},focus:function(){this.containedWidget&&(this.containedWidget.focus?this.containedWidget.focus():
this.containedWidget.domNode&&ta.focus(this.containedWidget.domNode))},getArgs:function(){return this._args},getAllArgs:function(){return V.mixin(this.getArgs(),{model:this.getModel(),pageInfo:this.getPageInfo(),pageSelectorOptions:this._getPageSelectorOptions()})},getBaseSize:function(a){var b,d={h:0,w:0},g=this.getArgs(),e=this._isFixedWidth(),r=this._isFixedHeight();b=s.dashboardElementType;if(C.supportsHeightAndWidth2(g.dashboardElementType))g=C.toPixelBox(a,g.size,g.spacing),d.w=g.w,d.h=g.h;
else switch(g.dashboardElementType){case b.GRID:b=this.getMaximumSize(a);e?d.w=b.w:(d.w=Math.min(Math.floor(a.w*g.size.width.units/100),b.w),d.w=Math.max(d.w,-1<g.size.minimumWidth.units?g.size.minimumWidth.units:s.DASHBOARD_MINIMUM_WIDGET_WIDTH));r?d.h=b.h:(d.h=Math.min(Math.floor(a.h*g.size.height.units/100),b.h),d.h=Math.max(d.h,-1<g.size.minimumHeight.units?g.size.minimumHeight.units:s.DASHBOARD_MINIMUM_WIDGET_HEIGHT));d.h===b.h&&d.w<b.w?d.h=r?b.h+16:Math.min(b.h+16,Math.floor(a.h*g.size.height.units/
100)):d.w===b.w&&d.h<b.h&&(d.w=e?b.w+16:Math.min(b.w+16,Math.floor(a.w*g.size.width.units/100)));break;case b.PAGE_SELECTOR:b=this.getMaximumSize(a);d.w=b.w;d.h=b.h;break;case b.CHART:d.w=Math.max(Math.floor(a.w*g.size.width.units/100),g.size.minimumWidth.units,s.DASHBOARD_MINIMUM_WIDGET_WIDTH);-1<g.size.maximumWidth.units&&(d.w=Math.min(d.w,g.size.maximumWidth.units));d.h=Math.max(Math.floor(a.h*g.size.height.units/100),g.size.minimumHeight.units,s.DASHBOARD_MINIMUM_WIDGET_HEIGHT);-1<g.size.maximumHeight.units&&
(d.h=Math.min(d.h,g.size.maximumHeight.units));break;case b.TEXT:a=pa.getTextBox(g.value,{width:a.w-g.spacing.horizontal+"px"},"dashboardText");d.w=a.w+g.spacing.horizontal;d.h=a.h+g.spacing.vertical;break;case b.STATIC_TEXT:e=0;-1!==g.size.width.units&&"PERCENTAGE"===g.size.width.unitsType&&(e=Math.floor(a.w*g.size.width.units/100));d.w=Math.max(e,g.size.minimumWidth.units,s.DASHBOARD_MINIMUM_WIDGET_WIDTH);-1<g.size.maximumWidth.units&&(d.w=Math.min(d.w,g.size.maximumWidth.units));-1<g.size.minimumHeight.units?
d.h=g.size.minimumHeight.units+g.spacing.vertical:(a=oa.getMarginBox(this.containedWidget.domNode),d.h=a.h+g.spacing.vertical);break;case b.CELL:a=null;-1<g.size.minimumWidth.units&&"BOOLEAN"!==this.containedWidget.getDataType()?d.w=g.size.minimumWidth.units+g.spacing.horizontal:(a=oa.getMarginBox(this.containedWidget.domNode),d.w=a.w+g.spacing.horizontal);-1<g.size.minimumHeight.units&&"BOOLEAN"!==this.containedWidget.getDataType()?d.h=g.size.minimumHeight.units+g.spacing.vertical:(a||(a=oa.getMarginBox(this.containedWidget.domNode)),
d.h=a.h+g.spacing.vertical);break;case b.BUTTON:b=this.getMaximumSize(a);d.w=b.w;d.h=b.h;break;default:console.warn(this.id+" getBaseSize: unhandled widget type "+g.dashboardElementType)}return d},getPublishedThemeId:function(){var a=this.getArgs();return"undefined"!==typeof a.themeId?a.themeId:"classic"},getMaximumSize:function(a){var b="",b={h:0,w:0},d=this.getArgs(),g=s.dashboardElementType;this._heightAdjustment=this._getHeightAdjustment();if(C.supportsHeightAndWidth2(d.dashboardElementType))g=
this.getBaseSize(a),b.w=g.w,b.h=g.h;else switch(d.dashboardElementType){case g.GRID:b=this.getPublishedThemeId();b=this.containedWidget.getMaximumSize(b);b.w+=d.spacing.horizontal;b.h+=d.spacing.vertical+this._heightAdjustment;break;case g.PAGE_SELECTOR:b.w=oa.getMarginSize(this.pageSelectorToolbar.domNode).w+d.spacing.horizontal;b.h=this._heightAdjustment+d.spacing.vertical;break;case g.CHART:g=null;-1<d.size.maximumWidth.units?b.w=d.size.maximumWidth.units:(g=this.getBaseSize(a),b.w=g.w);b.h=-1<
d.size.maximumHeight.units?d.size.maximumHeight.units:null!==g?g.h:this.getBaseSize(a).h;break;case g.CELL:case g.TEXT:g=this.getBaseSize(a);b.w=g.w;b.h=g.h;break;case g.STATIC_TEXT:g=this.getBaseSize(a);b.h=g.h;b.w=-1<d.size.maximumWidth.units?d.size.maximumWidth.units:a.w;break;case g.BUTTON:a=oa.getMarginBox(this.containedWidget._button.domNode);b.w=(-1===d.size.width.units?a.w:d.size.width.units)+d.spacing.horizontal;b.h=a.h+d.spacing.vertical;break;default:console.warn(this.id+" getMaximumSize: unhandled widget type "+
d.dashboardElementType)}return b},getModel:function(){return this.getArgs().model||null},getPageInfo:function(){var a=this.getModel();return a?a.getPageInfo():null},isDirty:function(){var a=this.getModel();return a?a.isDirty():null},isFixedHeight:function(){return this._isFixedHeight()},isFixedWidth:function(){return this._isFixedWidth()},isVisible:function(){var a;try{var b=this.get("layoutBox"),d=this.getParent()._scrollContainer;a=b.t<d.scrollTop||b.l<d.scrollLeft?!1:b.t+b.h>d.scrollTop+d.clientHeight||
b.l+b.w>d.scrollLeft+d.clientWidth?!1:!0}catch(g){console.error(this.id,"isVisible",g),a=!1}finally{return a}},layout:function(){var a=this.model&&this.model._viewDefinition&&this.model._viewDefinition.themeId?this.model._viewDefinition.themeId:W.getFallBackTheme(),b,d,g;if(this._contentBox){if(void 0==this._heightAdjustment&&(this._heightAdjustment=this._getHeightAdjustment()),b=this.containedWidget,d=V.clone(this._contentBox),b.resize(V.mixin(d,{h:d.h-this._heightAdjustment})),d=this.getArgs(),
d.initialValues){if(g=d.initialValues[2])b.setInitialHeight&&b.setInitialHeight(g.getHeight(a)),b.setInitialWidth&&b.setInitialWidth(g.getWidth(a));b.update(d.initialValues);delete d.initialValues}}else console.warn(this.id+" layout ",this._contentBox)},onContentSizeChange:function(){},onDashboardElementChange:function(){},onDashboardElementRemove:function(){},onMaximize:function(){},onRestore:function(){},postCreate:function(){var a,b,d,g,e;this.inherited(arguments);b=this.getArgs();d=b.themeId;
g=this.domNode;la.add(this.domNode,["dashboardWidget dashboardWidget-"+b.dashboardElementType,b.dashboardElementType===s.dashboardElementType.GRID?" "+d:""].join(""));this.__connections=[];(this.containedWidget=this._getContainedWidget(b))&&this.containedWidget.update?this.__connections.push(Ba.around(this.containedWidget,"update",function(a){return function(){var b;va.set(g,"overflow","hidden");b=a.apply(this,arguments);va.set(g,"overflow","visible");return b}})):va.set(g,"overflow","visible");if(b.dashboardElementType===
s.dashboardElementType.IMAGE)this.addChild(this.containedWidget),this.own(ia(this.containedWidget,"DashboardElementChange",V.hitch(this,"onDashboardElementChange")));else if(b.dashboardElementType===s.dashboardElementType.TEXT||b.dashboardElementType===s.dashboardElementType.BUTTON)this.addChild(this.containedWidget);else if(b.dashboardElementType===s.dashboardElementType.STATIC_TEXT)this.addChild(this.containedWidget),this.own(ia(this.containedWidget,"DashboardElementChange",V.hitch(this,"onDashboardElementChange")),
ia(this.containedWidget,"ContentSizeChange",V.hitch(this,"onContentSizeChange")),ia(this.containedWidget,"Update",V.hitch(this,"_onUpdate"))),l.isAuthorized(s.userActions.MAINTAIN_CUSTOM_DASHBOARDS)&&(va.set(this.domNode,"visibility","hidden"),a=this._createOptionsMenuButton(!1),this.addChild(a),a=a.dropDown,va.set(this.domNode,"visibility","visible"),this.containedWidget._enableStaticTextOptions=!0);else if(b.dashboardElementType===s.dashboardElementType.CELL)this.addChild(this.containedWidget),
this.own(ia(this.containedWidget,"dashboardElementChange",V.hitch(this,"onDashboardElementChange")),ia(this.containedWidget,"contentSizeChange",V.hitch(this,"onContentSizeChange")),ia(this.containedWidget,"update",V.hitch(this,"_onUpdate"))),va.set(this.domNode,"visibility","hidden"),a=this._createOptionsMenuButton(!1),this.addChild(a),this.containedWidget._optionsMenu=a.dropDown,this.containedWidget._enableMenuToolbarOptions=null!==G.getDefaultMenuToolbarOptionsForElement(this),this.containedWidget.setMenuToolbarOptions(b.menuToolbarOptions),
this.containedWidget.populateContextMenu();else{d={};b.dashboardElementType===s.dashboardElementType.PAGE_SELECTOR&&(d["class"]="pageSelectorWidget");d=new t(d);this.addChild(d);a=this._createOptionsMenuButton(!0);d.addChild(a);if(b.dashboardElementType===s.dashboardElementType.CHART)e=new ka({"class":"anaplanInformationButton",iconClass:"anaplanEditorIcon anaplanEditorIconInformationMessage",showLabel:!1,style:"display:none;"}),d.addChild(e);else if(b.dashboardElementType===s.dashboardElementType.GRID){var r=
new m({});d.addChild(r);this.containedWidget.populateToolbarButtons(r,this._getPageIndicesToExcludeFromSearchResult.bind(this));this.own(Y.addListener(this.domNode,T.ANAPLAN_SEARCH,V.hitch(this,function(){this._displaySearchDialog()})))}this.addChild(this.containedWidget);a=a.dropDown;-1<b.dashboardEntityLongId&&(this.containedWidget._optionsMenu=a,this.containedWidget.populateContextMenu(),this.containedWidget.setMenuToolbarOptions(b.menuToolbarOptions),b.dashboardElementType!==s.dashboardElementType.PAGE_SELECTOR&&
(this.containedWidget._enablePageSelectorOptions=!0,null!==G.getDefaultMenuToolbarOptionsForElement(this)&&(this.containedWidget._enableMenuToolbarOptions=!0)));this.own(ia(this.containedWidget,"dashboardElementChange",V.hitch(this,"onDashboardElementChange")),ia(this.containedWidget,"contentSizeChange",V.hitch(this,"onContentSizeChange")),ia(this.containedWidget,"update",V.hitch(this,"_onUpdate")),ia(this.containedWidget,"maximize",V.hitch(this,"_onMaximize")),ia(this.containedWidget,"restore",V.hitch(this,
"_onRestore")));this._informationButton=e;this.pageSelectorToolbar=d;this._setPageSelectorOptions(null,b.pageSelectorOptions);va.set(this.domNode,"visibility","hidden");(b=this.getModel())&&this.own(Ba.after(b,"onViewDefinitionChanged",V.hitch(this,function(a){this.onDashboardElementChange({viewDefinition:a})}),!0));this._updateTooltip()}},remove:function(){this.onDashboardElementRemove(this.id)},setGlobalContext:function(a,b){return!this._synchronisedPaging(b)?!1:this.inherited(arguments)},setLayoutPosition:function(a){this.getArgs().layoutPosition=
a},setReadOnly:function(a){this.pageSelectorToolbar&&(a?this.disablePageSelectors():this.enablePageSelectors());this.containedWidget&&(this.containedWidget.setReadOnly?this.containedWidget.setReadOnly(a):this.containedWidget.set("readOnly",a))},setSize:function(a){this.getArgs().size=a},setTabIndex:function(a){this.containedWidget&&(this.dashboardElementType!==s.dashboardElementType.STATIC_TEXT?this.containedWidget.set("tabIndex",a):l.isAuthorized(s.userActions.MAINTAIN_CUSTOM_DASHBOARDS)&&this.dashboardElementType===
s.dashboardElementType.STATIC_TEXT&&this.containedWidget.set("tabIndex",a))},uninitialize:function(){this._searchPane&&(this._searchPane.destroy(),this._searchPane=null);this._searchDialog&&(this._searchDialog.destroy(),this._searchDialog=null);this._informationTooltip&&(this._informationTooltip.destroy(),this._informationTooltip=null);this._tooltip&&(this._tooltip.destroy(),this._tooltip=null);this.inherited(arguments)},_createModuleName:function(){var a=this.getArgs(),a=new y(a),b=this.pageSelectorToolbar.getChildren().length;
this.pageSelectorToolbar&&(this._pageSelectors&&(b-=this._pageSelectors.length),this._tooltipIcon&&(b-=1),this.pageSelectorToolbar.addChild(a,b),this.moduleName=a)},_createOptionsMenuButton:function(a){var b=new Fa,b=new da({showLabel:!1,dropDown:b,"class":"contextMenu","data-anaplan-element-name":"toolbar-button-options",closeDropDown:function(){this._opened&&(xa.close(this.dropDown),this._opened=!1)}});a&&va.set(b.domNode,"opacity","0.3");return b},_createPageSelectorButtons:function(a){var b,d;
if(!this._args||"PAGE_SELECTOR"!==this._args.dashboardElementType)this.inherited(arguments);else{this._destroyPageSelectors();if(1===a.pageAxisSpecifications.length)this._pageSelectorIndex=0;else{b=this._args.viewDefinition;if(1!==b.pageAxisSpecifications.length){console.warn(this.id+": _createPageSelectorButtons: unexpected number of pageAxisSpecifications ("+b.pageAxisSpecifications.length+")");return}b=b.pageAxisSpecifications[0];b=P.getAllDimensionIdentifiersForAxisSpecification(b);if(1!==b.length){console.warn(this.id+
": _createPageSelectorButtons: unexpected number of dimension identifiers ("+b.length+")");return}d=ha.getPageSelectorIndex(a,b[0]);if(-1===d){console.warn(this.id+": _createPageSelectorButtons: failed to find dimension identifier in page info",a,b[0]);return}this._pageSelectorIndex=d}if(b=this._createPageSelectorButton(a,this._pageSelectorIndex))this._pageSelectors.push(b),this.pageSelectorToolbar.addChild(b)}},_createStaticContext:function(){var a;this.pageSelectorToolbar&&(a=new y(this.getArgs()),
this.pageSelectorToolbar.addChild(a,this.moduleName?2:1),this.staticContext=a)},_destroyLabelsOnly:function(){null==this.labelsOnly?console.warn(this.id+" _destroyLabelsOnly expected to find labelsOnly and did not"):this.pageSelectorToolbar&&(this.pageSelectorToolbar.removeChild(this.labelsOnly),this.labelsOnly.destroy(),this.labelsOnly=null)},_destroyModuleName:function(){null==this.moduleName?console.warn(this.id+" _destroyModuleName expected to find moduleName and did not"):this.pageSelectorToolbar&&
(this.pageSelectorToolbar.removeChild(this.moduleName),this.moduleName.destroy(),this.moduleName=null)},_destroyPageSelectors:function(){null!=this.labelsOnly?this._destroyLabelsOnly():this.inherited(arguments)},_destroyStaticContext:function(){null==this.staticContext?console.warn(this.id+" _destroyStaticContext expected to find staticContext and did not"):this.pageSelectorToolbar&&(this.pageSelectorToolbar.removeChild(this.staticContext),this.staticContext.destroy(),this.staticContext=null)},_displayHeightAndWidthDialog:function(){aa.showErrorReporter(new N.ClientException("DashboardWidgets._displayHeightAndWidthDialog is no longer supported."))},
getHeightAndWidthPanel:function(){var a=this.getArgs(),b=C.getDashboardContainerBox(this.getParent().domNode,a.spacing.horizontal,a.spacing.vertical),a=new E(V.mixin(a,C.supportsHeightAndWidth2(a.dashboardElementType)?{containerBox:b}:{}));a.own(ia(a,"afterHeightAndWidth",V.hitch(this,function(a){var b;try{b=this.getArgs();var d;a:{var g=b.size,e;for(e in g)if(g.hasOwnProperty(e)&&a.hasOwnProperty(e)&&g[e].units!==a[e].units){d=!1;break a}d=!0}d||(V.mixin(b,{size:a}),this.onDashboardElementChange({size:a}))}catch(r){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayHeightAndWidthDialog (onAfterHeightAndWidth)",
r))}})));return a},_displayMenuToolbarOptionsDialog:function(){aa.showErrorReporter(new N.ClientException("DashboardWidgets._displayMenuToolbarOptionsDialog is no longer supported."))},getMenuToolbarOptionsPanel:function(){if(!this.containedWidget._enableMenuToolbarOptions)return null;var a=this.getArgs(),b=wa.parse(a.menuToolbarOptions),d=b.hasOwnProperty("showToolbar")?b.showToolbar:null,a=new H(a);a.own(ia(a,"afterMenuToolbarOptions",V.hitch(this,function(a){var b,g;try{if(null!==d){var e=wa.parse(a);
V.mixin(e,{showToolbar:d});a=wa.stringify(e)}if(b=this.containedWidget)b.setMenuToolbarOptions(a),g=this.getArgs(),V.mixin(g,{menuToolbarOptions:a}),this.onDashboardElementChange({menuToolbarOptions:a})}catch(r){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayMenuToolbarOptionsDialog (onAfterMenuToolbarOptions)",r))}})));return a},_displayPageSelectorOptionsDialog:function(){aa.showErrorReporter(new N.ClientException("DashboardWidgets._displayPageSelectorOptionsDialog is no longer supported."))},
getButtonOptionsPanel:function(){if(!this.containedWidget._enableButtonOptions)return null;var a=V.mixin(this.getArgs(),{contentBox:this._contentBox}),b=new A(a);b.own(ia(b,"AfterHeightAndWidth",V.hitch(this,function(b){try{b.hasOwnProperty("size")&&b.size.width.units!==a.size.width.units&&(a.size=b.size,this.containedWidget.set("customWidth",-1!==b.size.width.units),this.onDashboardElementChange({size:b.size}))}catch(d){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayButtonOptions (onAfterHeightAndWidth)",
d))}})));return b},getButtonStylesPanel:function(){if(!this.containedWidget._enableButtonStyles)return null;var a=this.getArgs(),a=new D(a);a.own(ia(a,"AfterJsonProperties",V.hitch(this,function(a){try{var b=wa.parse(a);b.hasOwnProperty("buttonStyle")?this.containedWidget.set("buttonStyle",b.buttonStyle):this.containedWidget.set("buttonStyle",null);this.onDashboardElementChange({jsonProperties:a})}catch(d){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayButtonStyles (onAfterJsonProperties)",
d))}})));return a},getPageSelectorOptionsPanel:function(){if(!this.containedWidget._enablePageSelectorOptions)return null;var a=new L(this.getAllArgs());a.own(ia(a,"afterPageSelectorOptions",V.hitch(this,function(a){var b=[],d=(new I).getViewChangeGenerator(s.viewChangeType.SYNC_SELECTION_SET),g,e,r,h,t;try{e=function(a,g){var e,f,k,u;for(e in a)a.hasOwnProperty(e)&&a[e]&&(t=!1,f=a[e],u=(k=P.getAxisDefinitionOfDimensionInAxisSpecification(g,f.dimensionIdentifier))&&k.type===s.AXIS_DEFINITION_TYPE_SYNC_BRANCH,
f.selection?(u&&(r=k&&k.listeningDimensionIdentifiers||[],h=f.listeningDimensionIdentifiers||[],t=!Z.arrayEquals(r,h)),(!u||t)&&b.push(d.getViewChange(f.dimensionIdentifier,!0,f.listeningDimensionIdentifiers))):!f.selection&&u&&b.push(d.getViewChange(f.dimensionIdentifier,!1,f.listeningDimensionIdentifiers)))},g=this.model.getPageInfo(),e(a.branchData.columnAxis,g.columnAxisSpecification),e(a.branchData.rowAxis,g.rowAxisSpecification),this._setPageSelectorOptions(this.getArgs().pageSelectorOptions,
a),b.length&&(this.model.reset(),this.model.addViewChanges(b)),this.onDashboardElementChange(V.mixin({pageSelectorOptions:a}))}catch(f){aa.showErrorReporter(new N.ClientException("DashboardWidget#getPageSelectorOptionsPanel (onAfterPageSelectorOptions)",f))}})));return a},getStaticTextOptionsPanel:function(){if(!this.containedWidget._enableStaticTextOptions)return null;var a=new F(this.getArgs());a.own(ia(a,"afterStaticTextOptions",V.hitch(this,function(a){try{var b=this.getArgs();b.styleName=a.style;
this.containedWidget._changeStyleName(b.styleName)}catch(d){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayStaticTextOptions (onAfterStaticTextOptions)",d))}})));return a},getImageOptionPanel:function(){if(!this.containedWidget._enableImageOption)return null;var a=new B(this.getArgs());a.own(ia(a,"afterImageOption",V.hitch(this,function(a){try{var b=this.getArgs();a.hasOwnProperty("viewDefinition")&&a.hasOwnProperty("value")&&(b.viewDefinition=a.viewDefinition,b.value=a.value,
this.containedWidget.updateImageOption({value:b.value,viewDefinition:b.viewDefinition}));a.hasOwnProperty("size")&&(b.size=a.size,this.onDashboardElementChange({size:a.size}))}catch(d){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayImageOption (onAfterImageOption)",d))}})));return a},getToolbarOptionsPanel:function(){if(!this.containedWidget._enableToolbarOptions)return null;var a=new K(this.getArgs());a.own(ia(a,"afterMenuToolbarOptions",V.hitch(this,function(a){var b,d;try{if(b=
this.containedWidget)b.setMenuToolbarOptions(a),d=this.getArgs(),V.mixin(d,{menuToolbarOptions:a}),this.onDashboardElementChange({menuToolbarOptions:a})}catch(g){aa.showErrorReporter(new N.ClientException("DashboardWidget#_displayToolbarOptions (onAfterMenuToolbarOptions)",g))}})));return a},getUsabilityOptionsPanel:function(){var a=this.getArgs(),b=a.dashboardElementType;if(b!==s.dashboardElementType.GRID&&b!==s.dashboardElementType.CELL&&b!==s.dashboardElementType.BUTTON)return null;a=new J({allowTooltipIcon:b===
s.dashboardElementType.CELL||b===s.dashboardElementType.GRID,displayTooltipIcon:a.displayTooltipIcon,tooltip:a.tooltip});a.own(ia(a,"change",function(a){var b=this.getArgs();b.displayTooltipIcon=a.displayTooltipIcon;b.tooltip=a.tooltip;this._updateTooltip();this.onDashboardElementChange({displayTooltipIcon:a.displayTooltipIcon,tooltip:a.tooltip})}.bind(this)));return a},_displaySearchDialog:function(){if(this.containedWidget){var a=this.getArgs();if(!0===wa.parse(a.menuToolbarOptions).showToolbar)this.containedWidget.displaySearch();
else{a=this.containedWidget;this._searchDialog&&this._searchDialog.destroyRecursive();var b=new U({widget:a,model:this.getModel(),pageIndicesToExcludeFromSearchResult:this._getPageIndicesToExcludeFromSearchResult()});this._searchDialog=new za({content:b,"class":"searchTooltipDialog"});b.on("execute",V.hitch(this._searchDialog,"onExecute"));this._searchDialog.on("blur",V.hitch(this._searchDialog,"onCancel"));this._searchDialog.startup();a=oa.position(a.domNode,!0);xa.open({parent:this,popup:this._searchDialog,
x:a.x,y:a.y,onExecute:V.hitch(this,function(){xa.close(this._searchDialog);this.containedWidget.focus();setTimeout(V.hitch(this,function(){this._searchDialog.destroyRecursive();this._searchDialog=null}),100)}),onCancel:V.hitch(this,function(){xa.close(this._searchDialog);this.containedWidget.focus();setTimeout(V.hitch(this,function(){this._searchDialog.destroyRecursive();this._searchDialog=null}),100)})});this._searchDialog.focus()}}},_enableButtons:function(){var a=this.get("maximized");this._heightAndWidthMenuItem&&
this._heightAndWidthMenuItem.set("disabled",a);this._deleteWidgetMenuItem&&this._deleteWidgetMenuItem.set("disabled",a);this._menuToolbarMenuItem&&this._menuToolbarMenuItem.set("disabled",a)},_getContainedWidget:function(t){if(t.dashboardElementType===s.dashboardElementType.GRID){if(this._getIsModuleView())return!ya("ios")&&!ya("android")&&V.mixin(t,{dynamicCellMenuDelegate:new S,selectionCellMenuDelegate:new R({drillDownLevel:this._args.drillDownLevel||0,drillDownId:this._args.drillDownId||null,
searchDelegateId:this.id}),drillDownLevel:this._args.drillDownLevel||0,drillDownId:this._args.drillDownId||null}),V.mixin(t,{changeValidator:new ba({validators:[new ea]}),dashboardWidget:!0,editorFactory:new Q}),t=new r.create(t),t.own(ia(t,"pivot",V.hitch(this,function(){var a=this.getArgs(),b;if(this.isFixedWidth()||this.isFixedHeight())b=V.clone(a.size),this.isFixedWidth()&&(b.width.units=100,b.width.unitsType=s.DashboardSizeUnitsType.PERCENTAGE),this.isFixedHeight()&&(b.height.units=100,b.height.unitsType=
s.DashboardSizeUnitsType.PERCENTAGE),V.mixin(a,{size:b}),this.onDashboardElementChange({size:b})})),Aa.subscribe("anaplan/search/"+this.id,function(){this._displaySearchDialog()}.bind(this))),t;V.mixin(t,{changeValidator:new ba({validators:[new ga]}),editorFactory:new Q});return e.create(t)}if(t.dashboardElementType===s.dashboardElementType.CHART){V.mixin(t,{chartConfig:wa.parse(t.chartConfig)});var m=null;t.chartType===s.chartType.COLUMN?m=new k(t):t.chartType===s.chartType.LINE?m=new d(t):t.chartType===
s.chartType.PIE?m=new u(t):t.chartType===s.chartType.COLUMNRANGE?m=new n(t):t.chartType===s.chartType.MAP?m=new a(t):t.chartType===s.chartType.WATERFALL?m=new w(t):t.chartType===s.chartType.FUNNEL?m=new h(t):t.chartType===s.chartType.COMBINATION&&(m=new x(t));null!==m&&m.own(ia(m,"InformationMessageChange",V.hitch(this,function(a){var b=this._informationButton.domNode;null===a?(va.set(b,"display","none"),Z.isNullOrUndefined(this._informationTooltip)||this._informationTooltip.set("label","")):(va.set(b,
"display",""),Z.isNullOrUndefined(this._informationTooltip)&&(this._informationTooltip=new ma({connectId:[this._informationButton.domNode],position:["below-centered","before-centered","above-centered","after-centered"]}),this._informationTooltip.startup()),this._informationTooltip.set("label",a))})));return t.chartType===s.chartType.COMBINATION?new x(t):m}if(t.dashboardElementType===s.dashboardElementType.IMAGE)return new g(t);if(t.dashboardElementType===s.dashboardElementType.TEXT)return new z(t);
if(t.dashboardElementType===s.dashboardElementType.STATIC_TEXT)return new v(t);if(t.dashboardElementType===s.dashboardElementType.CELL)return V.mixin(t,{changeValidator:new ba({validators:[new ga]})}),new f(t);if(t.dashboardElementType===s.dashboardElementType.PAGE_SELECTOR)return new b(t);if(t.dashboardElementType===s.dashboardElementType.BUTTON)return new p(V.mixin(wa.parse(t.jsonProperties),{customWidth:-1!==this._args.size.width.units,showTipsOnStartup:this._args.showTipsOnStartup,tooltip:this._args.tooltip}));
console.warn(this.id+" TODO: replace with exception unsupported argument dashboard element type "+t.dashboardElementType);return null},_getHeightAdjustment:function(){return this.pageSelectorToolbar?oa.getMarginSize(this.pageSelectorToolbar.domNode).h:0},_getIsModuleView:function(){var a=this.getModel();if(!a)return!1;a=a.getViewDefinition();return-1!==P.getModuleEntityLongIdForViewDefinitionOrReference(O,a)},_getLabel:function(){var a=this.getModel(),b;if(!a)return null;b=a.getModuleEntityLongId();
if(-1!==b)return P.getModuleLabel(O,b);a=a.getHierarchyEntityLongId();return-1!==a?P.getHierarchyLabel(O,a):null},_getMaximizedAttr:function(){return this.containedWidget?this.containedWidget.get("maximized"):!1},_getPageAxisIdentifierArray:function(a){var b=[];a&&a.pageAxisSpecifications&&na.forEach(a.pageAxisSpecifications,function(a){b.push(P.getAllDimensionIdentifiersForAxisSpecification(a)[0])});return b},_getPageIndicesToExcludeFromSearchResult:function(){var a=[];try{if(!0===O.getApplicationProperty(s.FEATURE_FLAGS.EXCLUDE_PAGES_AS_LABELS_FROM_SEARCH_RESULTS)){var b=
this._pageInfo;if(!Z.isNullOrUndefined(b))for(var d=b.pageAxisSpecifications,b=0;b<d.length;b++){var g=P.getAllDimensionIdentifiersForAxisSpecification(d[b])[0];this._showPageSelector(g)||a.push(b)}}}catch(e){console.error(this.id,"_getPageIndicesToExcludeFromSearchResult",e)}finally{return a}},_getPageSelectorOptions:function(){var a=this.getArgs(),a=V.clone(a.pageSelectorOptions),b=this._getPageAxisIdentifierArray(this._pageInfo),d=a.synchronisedPagingInfos,g=[],e,r;for(e=d.length-1;0<=e;e--)r=
d[e],-1===na.indexOf(b,r.pageAxisIdentifier)?d.splice(e,1):g.push(r.pageAxisIdentifier);na.forEach(na.filter(b,function(a){return-1===na.indexOf(g,a)}),function(a){d.push({pageAxisIdentifier:a,synchronisedPaging:!0,initialPage:null,showLabel:!0,showPageSelector:!0})});return a},_isFixedHeight:function(){var a=this.getArgs();return a.size&&a.size.height&&-1==a.size.height.units},_isFixedWidth:function(){var a=this.getArgs();return a.size&&a.size.width&&-1==a.size.width.units},_getSynchronisedPagingInfo:function(a){var b=
this.getArgs().pageSelectorOptions,d,g;if(!b)return null;b=b.synchronisedPagingInfos;if(!b)return null;for(d=0;d<b.length;d++)if(g=b[d],g.pageAxisIdentifier==a)return g;return null},_setMaximizedAttr:function(a){this.containedWidget&&(this.containedWidget.set("maximized",a),this._enableButtons())},_synchronisedPaging:function(a){var b=this._getPageSelectorOptions(),b=na.map(na.filter(b.synchronisedPagingInfos,function(a){return!1===a.synchronisedPaging}),function(a){return a.pageAxisIdentifier});
if(-1<na.indexOf(b,a))return!1;b=$.entityLongIdIdentifiersToEntityLongIds(b);b=na.filter(na.map(b,function(a){return P.getTopLevelMainHierarchyEntityLongId(O,a)}),function(a){return-1<a});a=$.entityLongIdIdentifierToEntityLongId(a);if(-1<na.indexOf(b,a))return!1;a=P.getTopLevelMainHierarchyEntityLongId(O,a);return-1<na.indexOf(b,a)?!1:!0},_showLabel:function(a){a=this._getSynchronisedPagingInfo(a);return!a?!1:a.showLabel},_showPageSelector:function(a){a=this._getSynchronisedPagingInfo(a);return!a?
!0:a.showPageSelector},_onMaximize:function(){var a=this.params&&this.params.dashboardElementType&&"GRID"===this.params.dashboardElementType&&this.containedWidget&&this.containedWidget._selection?this.containedWidget._selection.clone():null;if(this.containedWidget)if(this.containedWidget.get("maximized"))this.onRestore(this);else this.onMaximize(this);this.focus&&(this.focus(),a&&(this.containedWidget._selection=a,this.containedWidget._setSelection(a)))},_onPageSelectionChange:function(a,b){this._synchronisedPaging(b)?
this.inherited(arguments):(Aa.publish("anaplan/"+this.containedWidget.id+"/globalContext",a,b),this._destroyPageSelectors(),M.gather())},_onRestore:function(){if(this.containedWidget)if(this.containedWidget.get("maximized"))this.onRestore(this);else this.onMaximize(this)},_onUpdate:function(a){var b,d,g,e,r,h;try{if(a&&(this._pageInfo=b=a[1],d=this.getArgs(),g=d.pageSelectorOptions,g.showModuleName&&this._updateName(this._getLabel()),e=a[0].serialNumbers.pageInfoSerialNumber,r=this._heightAdjustment,
this._updatePageSelectors(b,e,g.synchronisedPagingInfos),this._heightAdjustment=this._getHeightAdjustment(),h=this._heightAdjustment>r))this.onContentSizeChange()}catch(t){aa.showErrorReporter(new N.ClientException("anaplan.dashboard.DashboardWidget#_onUpdate",t,{widgetId:this.id}))}finally{this._visible||(va.set(this.domNode,"visibility","visible"),this._visible=!0)}},_setPageSelectorOptions:function(a,b){var d,g,e,r,h,t;if(a){d=!1;g=!0;e=a.synchronisedPagingInfos;r=b.synchronisedPagingInfos;if(e.length!==
r.length)g=d=!0;else for(t=0;t<e.length;t++)h=r[t],e[t].showLabel!==h.showLabel&&(d=!0),e[t].showPageSelector!==h.showPageSelector&&(d=!0),e[t].synchronisedPaging!==h.synchronisedPaging&&(d=!0);g&&this.staticContext&&this._destroyStaticContext();d&&this._destroyPageSelectors();a.showModuleName!==b.showModuleName&&a.showModuleName&&this._destroyModuleName()}b.showModuleName&&this._updateName(this._getLabel());V.mixin(this.getArgs(),{pageSelectorOptions:b});this._updatePageSelectors(this._pageInfo,
this._pageInfoSerialNumber,b.synchronisedPagingInfos)},_updateName:function(a){this.pageSelectorToolbar&&(this.moduleName||this._createModuleName(),this.moduleName.set("label",a))},_updatePageSelectors:function(a,b,d){var g,e,r,h;this._updateStaticContext(a,d);if(!this._args||"PAGE_SELECTOR"!==this._args.dashboardElementType)this.inherited(arguments);else if(a)if(this._pageInfoSerialNumber!==b)this._createPageSelectorButtons(a),this._pageInfoSerialNumber=b;else if(g=a.currentPageLabels,e=g.entityLongIds[0],
e=e[this._pageSelectorIndex],r=a.pageAxisSpecifications[this._pageSelectorIndex],r=P.getAllDimensionIdentifiersForAxisSpecification(r)[0],this._showPageSelector(r)||this._showLabel(r))h=this._pageSelectors[this._pageSelectorIndex],g=-1!==e?g.labels[0][this._pageSelectorIndex]:ha.getInvalidSelectionLabel(a,this._pageSelectorIndex),h.domNode.style.visibility="",h.set("label",ja.escapeHTML(g)),h.set("disabled",!1),h.set("iconClass",this._getPageSelectorIconClass(e,r))},_updateStaticContext:function(){var a=
this.getModel(),b;a&&(b=a.getViewDefinition(),this.moduleName&&P.isSubsidiaryView(b)?(b=a.getLineItemEntityLongIdForPageInfo(),a=O.getModuleInfo(a.getModuleEntityLongId()),a=P.getLineItemLabelFromModuleInfo(a,b),this.staticContext||this._createStaticContext(),this.staticContext.set("label",a)):this.staticContext&&this._destroyStaticContext())},_updateTooltip:function(){var a=this.getArgs(),b=a.displayTooltipIcon||!1,d=a.tooltip||null,a=a.dashboardElementType;a===s.dashboardElementType.CELL||a===s.dashboardElementType.BUTTON?
this.containedWidget&&(a===s.dashboardElementType.CELL&&this.containedWidget.set("displayTooltipIcon",b),this.containedWidget.set("tooltip",d)):a===s.dashboardElementType.GRID&&(this.moduleName&&this.moduleName.set("tooltip",b?null:d),b?this._tooltipIcon?(this._tooltip&&this._tooltip.destroy(),this._tooltip=q.createDashboardElementTooltip(d,this._tooltipIcon.domNode)):this.pageSelectorToolbar&&(this._tooltipIcon=new X({"class":"dijitInline anaplanEditorIcon anaplanEditorIconInformationMessage grid__tooltipIcon"}),
b=0,this.moduleName?b=this.pageSelectorToolbar.getIndexOfChild(this.moduleName)+1:(b=this.pageSelectorToolbar.getChildren().length,this._pageSelectors&&(b-=this._pageSelectors.length)),this.pageSelectorToolbar.addChild(this._tooltipIcon,b),this._tooltip=q.createDashboardElementTooltip(d,this._tooltipIcon.domNode)):this._tooltipIcon&&(this._tooltip&&(this._tooltip.destroy(),this._tooltip=null),this.pageSelectorToolbar&&this.pageSelectorToolbar.removeChild(this._tooltipIcon),this._tooltipIcon.destroy(),
this._tooltipIcon=null))}})})},"anaplan/view/ReOrder":function(){define("anaplan/utils/JsHelper anaplan/utils/TestAttributesHelper anaplan/utils/UIHelper dojo/_base/declare anaplan/widgets/Dialog2 dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/view/ReOrder/dataprovider anaplan/data/SortableLabelPage dojo/_base/lang dojo/has dojo/on dojo/dom-geometry dojo/dom-style dojo/query dojo/_base/array anaplan/widgets/SortableList anaplan/Exceptions dojo/i18n!anaplan/nls/move dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ReOrder.html dojo/NodeList-traverse dijit/form/TextBox anaplan/widgets/Button anaplan/widgets/FlatButton".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x){return q("anaplan.view.ReOrder",[k,n,m,f.ContentMixin],{templateString:x,baseClass:"reorder",lockedEntityIds:[],_selectedItems:null,_hasChanged:!1,nls:y,lblCancel:w.buttonCancel,constructor:function(a){this._selectedItems=a.selectedItems;this.lockedEntityIds=a.lockedEntityIds;delete a.selectedItems;this.dataProvider=new h(a)},postCreate:function(){this.inherited(arguments);s.add(this,"dialogReOrder");s.add(this.btnOk,"buttonOk");s.add(this.btnCancel,
"buttonCancel");s.add(this.btnReset,"buttonReset");s.add(this.btnMoveUp,"buttonUp");s.add(this.btnMoveDown,"buttonDown");s.add(this.btnMoveTop,"buttonTop");s.add(this.btnMoveBottom,"buttonBottom");s.add(this.btnSortAsc,"buttonAsc");s.add(this.btnSortDesc,"buttonDesc");s.add(this.lblMatches,"labelNoMatches");s.add(this.tbSearch,"textboxSearch");this.showMessageLabel=!1},startup:function(){this.inherited(arguments);this._list=new v({},this.listNode);this.dataProvider.initialize();this._attach()},_attach:function(){this.own(a(this.dataProvider,
"Updated",g.hitch(this,function(a){this.setModel(a)})));this.own(a(this.dataProvider,"CommitFinished",g.hitch(this,function(){this.onSubmitted()})));this.own(a(this._list,"SelectionChanged",g.hitch(this,function(){this._validate()})));this.own(a(this._list,"SearchNoMatches",g.hitch(this,function(){this._displaySearchResultMessage(this.showMessageLabel,y.labelNoMatches)})));this.own(a(this._list,"SearchMatches",g.hitch(this,function(a){this._displaySearchResultMessage(this.showMessageLabel,1===a.length?
"1 match found":a.length+" matches found")})));this.own(a(this._list,"ViewChanged",g.hitch(this,function(){this.resetSearch();this._updateSelectionInList()})));this.own(a(this.searchBoxClearButtonCell,"click",g.hitch(this,function(a){this._clearSearchField()})))},_updateSelectionInList:function(){if(l.isArray(this._selectedItems)){var a=this._selectedItems;l.isObject(this._selectedItems[0])&&(a=u.map(this._selectedItems,function(a){return a.entityLongId}));this._list.setSelected(a);this._selectedItems=
[]}},setModel:function(b){!1===l.isObject(this._sortableLabelPage)?(this._sortableLabelPage=new e(b,this.lockedEntityIds),this.own(a(this._sortableLabelPage,"Changed",g.hitch(this,function(){this._hasChanged=!0;this._validate()}))),this._list.setLabelPage(this._sortableLabelPage)):this._sortableLabelPage.update(b);this._hasChanged=!1},onDialogShow:function(){this._list.resize()},_displaySearchResultMessage:function(a,d){a&&d?(this.lblMatches.innerHTML=d,b.set(this.lblMatches,"display","block")):b.set(this.lblMatches,
"display","none");this._resizeList()},_resizeList:function(){var a=r.getMarginBox(this.lblMatches),b=r.getMarginBox(this.lblSearchBar),d=r.getContentBox(this.layoutLeft);r.setMarginBox(this.listNodeWrapper,{h:d.h-(a.h+b.h)})},resize:function(a){this.inherited(arguments);if(a){var b=a.h-100;r.setMarginBox(this.domNode,{h:540>b?540:b});t(".calc-remaining-height",this.domNode).forEach(function(a){var b=0;t(a).siblings().forEach(function(a){a=r.getMarginBox(a);b+=a.h});var d=r.getMarginBox(a.parentNode);
r.setMarginBox(a,{h:d.h-b})})}},_clearSearchField:function(){try{this.tbSearch.set("value",""),this.tbSearch.focus()}catch(a){p.throwClientException(this,a)}},_onSubmit:function(a){try{this.dataProvider.commitOrder(this._sortableLabelPage.getValues())}catch(b){p.showErrorReporter(new z.ClientException(this.declaredClass+"._onSubmit",b,{widgetId:this.id},a))}},_onSortDesc:function(){this._selectedItems=this._list.getSelected();this._sortableLabelPage.sortDesc()},_onSortAsc:function(){this._selectedItems=
this._list.getSelected();this._sortableLabelPage.sortAsc()},_onMoveUp:function(){this._list.moveSelectedItemsUp()},_onMoveDown:function(){this._list.moveSelectedItemsDown()},_onMoveTop:function(){this._list.moveSelectedItemsTop()},_onMoveBottom:function(){this._list.moveSelectedItemsBottom()},_onCancel:function(){this.onCancel()},onSubmitted:function(){},onCancel:function(){},_onReset:function(){var a=this._list.getSelected();this._sortableLabelPage.reset();this._hasChanged=!1;this.resetSearch();
this._list.setSelected(a);this._validate()},resetSearch:function(){this._list.removeHighlight();this.tbSearch.set("value","")},_onSearchChange:function(){var a=this.tbSearch.get("value");0<a.length?this.showMessageLabel=!0:this._displaySearchResultMessage(!1);this._list.highlightItemContaining(a)},_validate:function(){this._sortableLabelPage.hasUnlockedItems()?(this.btnReset.set("disabled",!1===this._hasChanged),this.btnOk.set("disabled",!1===this._hasChanged),this.btnMoveBottom.set("disabled",!1===
this._list.hasSelection()),this.btnMoveUp.set("disabled",!1===this._list.hasSelection()),this.btnMoveDown.set("disabled",!1===this._list.hasSelection()),this.btnMoveTop.set("disabled",!1===this._list.hasSelection())):(this.btnMoveBottom.set("disabled",!0),this.btnMoveUp.set("disabled",!0),this.btnMoveDown.set("disabled",!0),this.btnMoveTop.set("disabled",!0),this.btnSortDesc.set("disabled",!0),this.btnSortAsc.set("disabled",!0))}})})},"anaplan/api/Entity/LineItemSubset":function(){define(["anaplan/api/Entity/Base/Entity",
"dojo/_base/declare"],function(l,s){return s([l],{})})},"anaplan/data/OtherAction":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/data/OptimizerLineItemHelper dojo/_base/array dojo/_base/declare dojo/i18n!anaplan/nls/actionEditor dojo/json".split(" "),function(l,s,p,q,f,k,n,m,h,e){return m("anaplan.data.OtherAction",null,{ERROR:"#ERROR#",constructor:function(g){this._actionType=
g.actionType;g.hasOwnProperty("taskElement")?this._taskElement=e.parse(g.taskElement):(this._taskElement=null,this.hierarchyIdentifier=g.hierarchyIdentifier,this.filterLineItemIdentifier=g.filterLineItemIdentifier)},getDisplayValue:function(){var g,d;if(this._actionType===l.ACTION_TYPE_TASK_ELEMENT){g=this._taskElement;if("OPTIMIZER"===g.operation)return d=h[g.operation]||g.operation,this.validateOptimizer(g.data)?d:this.ERROR;if("BULK_OPERATION"===g.taskElementType)return d=h[g.operation]||g.operation,
this.isValid()?d:this.ERROR;if("DASHBOARD"===g.taskElementType)return this.isValid()?h[g.taskElementType]:this.ERROR}else if(this._actionType===l.ACTION_TYPE_DELETE_BY_SELECTION)return this.hierarchyIdentifier&&this.hierarchyIdentifier.length?(g=this.replace("hierarchyEntityLongId",q.entityLongIdIdentifierToEntityLongId(this.hierarchyIdentifier)),g===this.ERROR?g:h[l.ACTION_TYPE_DELETE_BY_SELECTION].replace(/List/,f.escapeHTML(g))):this.ERROR;return h[this._actionType]},getTaskElement:function(){return this._taskElement},
isValid:function(){var g,d,a,e,b,h,f,k,m,y;if(this._actionType!==l.ACTION_TYPE_TASK_ELEMENT)return!0;g=this._taskElement;for(d in g)if(g.hasOwnProperty(d))if(a=g[d],"dashboardEntityLongId"===d&&g.dashboardPropertyMap)b=!0;else if(this.ERROR===this.replace(d,a))return!1;if(b&&this.ERROR===this.replace("dashboardEntityLongId",g.dashboardEntityLongId)){a=!1;for(d in g.dashboardPropertyMap)this.ERROR!==this.replace("dashboardEntityLongId",g.dashboardPropertyMap[d])&&(a=!0);if(!a)return!1}if("BULK_OPERATION"===
g.taskElementType){if("BULK_DELETE_ENTITIES"===g.operation&&(d=s.getHierarchyInfo(g.hierarchyEntityLongId),!d||!d.isNumberedList))return!1;if("BULK_ENTITY_COPY"===g.operation){d=s.getHierarchyInfo(g.hierarchyEntityLongId);if(!d||!(d.isNumberedList&&0<d.parentHierarchyEntityLongId))return!1;e=s.getHierarchyInfos();a={};for(b=0;b<e.length;b++)if(h=e[b],h.isNumberedList&&0<h.parentHierarchyEntityLongId){a[h.entityLongId]=h;h=h.subsetEntityLongIds;for(f=0;f<h.length;f++)k=h[f],m=s.getHierarchySubsetInfo(k),
a[k]=m}for(b=0;b<e.length;b++)h=e[b],0<h.parentHierarchyEntityLongId&&delete a[h.parentHierarchyEntityLongId];e=s.getHierarchySubsetInfos();for(b=0;b<e.length;b++)h=e[b],0<h.parentHierarchyEntityLongId&&delete a[h.parentHierarchyEntityLongId];for(y in a)if(a.hasOwnProperty(y)){if(y==g.hierarchyEntityLongId)return!0;b=a[y];do{h=b.parentHierarchyEntityLongId;if(h==g.hierarchyEntityLongId||0<=n.indexOf(d.subsetEntityLongIds,h))return!0;b=e=s.getHierarchyInfo(h);b||(b=s.getHierarchySubsetInfo(h),e=s.getHierarchyInfoForHierarchySubsetEntityLongId(h))}while(b&&
e&&0<b.parentHierarchyEntityLongId&&e.isNumberedList)}return!1}}return g.taskElementType===l.taskElementType.DELETE_BY_SELECTION?null!==s.getHierarchyInfo(q.entityLongIdIdentifierToEntityLongId(g.hierarchyIdentifier)):!0},validateOptimizer:function(g){try{if(!g)return!0;var d=JSON.parse(g);if(!d.objective||!d.objective.lineItem)return!1;var a=k.getFormattedLineItems();return k.validateLineItems(d.objective.lineItem,d.variables,d.constraints,a.numberLineItems,a.booleanLineItems)}catch(e){return console.warn(e),
!1}},replace:function(g,d){var a=this.ERROR,e,b,h,f;if(-1<n.indexOf("hierarchyEntityLongId multiSelectHierarchyEntityLongId parentHierarchyEntityLongId targetHierarchyEntityLongId entityLongId newPropertyHierarchyEntityLongId source0HierarchyEntityLongId source1HierarchyEntityLongId".split(" "),g)&&-1<d)return e=p.getHierarchyId(s,d),null==e?a:e;e=s.getHierarchyInfos();if("filterPropertyEntityLongIds"===g&&0<d.length){for(b=0;b<e.length;b++)if(h=e[b],h=h.propertiesLabelPage,f=n.indexOf(h.entityLongIds,
d[0]),-1<f)return[h.labels[f]];return a}if("propertyEntityLongId"===g&&-1<d){for(b=0;b<e.length;b++)if(h=e[b],h=h.propertiesLabelPage,f=n.indexOf(h.entityLongIds,d),-1<f)return h.labels[f];return a}e=s.getDashboardsLabelPage();return"dashboardEntityLongId"===g&&-1<d?(b=n.indexOf(e.entityLongIds[0],d),-1<b?e.labels[0][b]:a):d},toString:function(){return e.stringify(this._taskElement,this.replace,"  ")}})})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(l,s,p,q,f,k,n,m,h){function e(a,b){h(document.body,a,".dgrid-scrollbar-measure");var d=a["offset"+b]-a["client"+b];a.className="";document.body.removeChild(a);return d}function g(a){var b=a?"."+a.replace(v,"."):"";this._class&&(b="!"+this._class.replace(v,"!")+b);h(this.domNode,b);this._class=a}function d(){return this._class}function a(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function r(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}m("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var b,t;f.add("dom-scrollbar-width",function(a,b,d){return e(d,"Width")});f.add("dom-scrollbar-height",function(a,b,d){return e(d,"Height")});f.add("dom-rtl-scrollbar-left",function(a,b,d){a=h("div");h(document.body,d,".dgrid-scrollbar-measure[dir\x3drtl]");h(d,a);b=!!f("ie")||!!f("trident")||a.offsetLeft>=f("dom-scrollbar-width");d.className="";document.body.removeChild(d);h(a,"!");d.removeAttribute("dir");
return b});var u=0,v=/ +/g,z=7>f("ie")&&!f("quirks")?function(){var a,b,d;if(this._started&&(a=document.documentElement,b=a.clientWidth,a=a.clientHeight,d=this._prevWinDims||[],d[0]!==b||d[1]!==a))this.resize(),this._prevWinDims=[b,a]}:function(){this._started&&this.resize()};return s(f("touch")?n:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,b){var d=this;
(this._Row=function(a,b,d){this.id=a;this.data=b;this.element=d}).prototype.remove=function(){d.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,b){var d=this.domNode=b||h("div"),e;a?(this.params=a,s.safeMixin(this,a),e=a["class"]||a.className||d.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&
this.postMixInProperties();this.id=d.id=d.id||this.id||"dgrid_"+u++;null===this.useTouchScroll&&(this.useTouchScroll=!f("dom-scrollbar-width"));this.buildRendering();e&&g.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,b=this.addUiClasses,d=this,g,e,r,t;t=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();a.className="";h(a,"[role\x3dgrid].dgrid.dgrid-"+
this.listType+(b?".ui-widget":""));g=this.headerNode=h(a,"div.dgrid-header.dgrid-header-row"+(b?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(f("quirks")||8>f("ie"))&&h(a,"div.dgrid-spacer");e=this.bodyNode=h(a,"div.dgrid-scroller");f("ff")&&(e.tabIndex=-1);this.headerScrollNode=h(a,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(b?".ui-widget-header":""));r=this.footerNode=h("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));h(a,r);t&&(a.className+=
" dgrid-rtl"+(f("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));q(e,"scroll",function(b){d.showHeader&&(g.scrollLeft=b.scrollLeft||e.scrollLeft);b.stopPropagation();q.emit(a,"scroll",{scrollTarget:e})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=h(this.bodyNode,"div.dgrid-content"+(b?".ui-widget-content":""));this._listeners.push(this._resizeHandle=q(window,"resize",k.throttleDelayed(z,this)))},postCreate:f("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:
function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,d=this.headerNode,g=this.footerNode,e=d.offsetHeight,r=this.showFooter?g.offsetHeight:0,h=f("quirks")||7>f("ie");this.headerScrollNode.style.height=a.style.marginTop=e+"px";a.style.marginBottom=r+"px";h&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-e-r,0)+"px",r&&(g.style.bottom=
"1px",setTimeout(function(){g.style.bottom=""},0)));b||(b=f("dom-scrollbar-width"),t=f("dom-scrollbar-height"),f("ie")&&(b++,t++),k.addCssRule(".dgrid-scrollbar-width","width: "+b+"px"),k.addCssRule(".dgrid-scrollbar-height","height: "+t+"px"),17!=b&&!h&&(k.addCssRule(".dgrid-header-row","right: "+b+"px"),k.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+b+"px")));h&&(d.style.width=a.clientWidth+"px",setTimeout(function(){d.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,b){var d=k.addCssRule(a,
b);this.cleanAddedRules&&this._listeners.push(d);return d},on:function(a,b){var d=q(this.domNode,a,b);f("dom-addeventlistener")||this._listeners.push(d);return d},cleanup:function(){var a=this.observers,b;for(b in this._rowIdToObject)if(this._rowIdToObject[b]!=this.columns){var d=document.getElementById(b);d&&this.removeRow(d,!0)}for(b=0;b<a.length;b++)(d=a[b])&&d.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();h(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,b,d,g,e){if(b){var r=this.insertRow(a,b,d,g,e);h(r,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){h(r,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return r}},adjustRowIndices:function(a){var b=
a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&h(a,"."+(1==b%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==b%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!=b)}},renderArray:function(a,b,d){function g(){var b=arguments;if(-1<n)for(var r=0;r<b.length;r++){var h=b[r],f=u[h?0:u.length-1];if(f=f&&e(f)){var k=f[h?"previousSibling":"nextSibling"];k&&(k=t.row(k));k&&k.element!=f&&(h=h?"unshift":"push",a[h](k.data),
u[h](k.element),d.count++)}}}function e(a){return!p.isDescendant(a,t.domNode)&&document.getElementById(a.id)?t.row(a.id.slice(t.id.length+5)).element:a}function r(a){l=t.insertRow(a,z,null,f++,d);l.observerIndex=n;return l}function h(a){q=a.slice(0);(m=b?b.parentNode:t.contentNode)&&m.parentNode&&(m!==t.contentNode||a.length)?(m.insertBefore(z,b||null),(l=a[a.length-1])&&t.adjustRowIndices(l)):k[n]&&t.cleanEmptyObservers&&"undefined"!==typeof n&&(k[n].cancel(),k[n]=0,t._numObservers--);u=a;v&&(v.rows=
u)}d=d||{};var t=this,f=d.start||0,k=this.observers,u,m,n;b||(this._lastCollection=a);if(a.observe){t._numObservers++;var v=a.observe(function(r,h,f){var k,v,z;-1<h&&u[h]&&(k=u.splice(h,1)[0],k.parentNode==m&&((v=k.nextSibling)&&h!=f&&v.rowIndex--,t.removeRow(k)),d.count--,t._processScroll&&t._processScroll());if(-1<f){if(u.length)if(0===f)z=(z=u[f])&&e(z);else{if(z=u[f-1])z=e(z),z=(z.connected||z).nextSibling}else z=t._getFirstRowSibling&&t._getFirstRowSibling(m);k&&(z&&k.id===z.id)&&(z=(z.connected||
z).nextSibling);z&&!z.parentNode&&(z=document.getElementById(z.id));k=b&&b.parentNode||z&&z.parentNode||t.contentNode;if(k=t.newRow(r,k,z,d.start+f,d))if(k.observerIndex=n,u.splice(f,0,k),!v||f<h)v=k.previousSibling,v=!v||v.rowIndex+1==k.rowIndex||0==k.rowIndex?k:v;d.count++}0===h?g(1,1):h===a.length-(-1===f?0:1)&&g(0,0);h!=f&&v&&t.adjustRowIndices(v);t._onNotification(u,r,h,f)},!0);n=k.push(v)-1}var z=document.createDocumentFragment(),l,q;if(a.map){if(u=a.map(r,console.error),u.then)return a.then(function(b){a=
b;return u.then(function(a){h(a);g(1,1,0,0);return q})})}else{u=[];for(var s=0,N=a.length;s<N;s++)u[s]=r(a[s])}h(u);g(1,1,0,0);return q},_onNotification:function(a,b,d,g){},renderHeader:function(){},_autoId:0,insertRow:function(a,b,d,g,e){var r=e.parentId,r=this.id+"-row-"+(r?r+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),h=document.getElementById(r),t=h&&h.previousSibling;h&&(h===d&&(d=(d.connected||d).nextSibling),this.removeRow(h));h=this.renderRow(a,e);
h.className=(h.className||"")+" dgrid-row "+(1==g%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[h.id=r]=a;b.insertBefore(h,d||null);t&&this.adjustRowIndices(t);h.rowIndex=g;return h},renderRow:function(a,b){return h("div",""+a)},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||h(a,"!")},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var d=a.id;if(b=this._rowIdToObject[d])return new this._Row(d.substring(this.id.length+
5),b,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?b=this.store.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,d,g){var e,r;r=e=a.element;b=b||1;do if(a=e[0>b?"previousSibling":"nextSibling"]){do if((e=a)&&-1<(e.className+" ").indexOf(d+" ")){r=e;b+=0>b?1:-1;break}while(a=(!g||!e.hidden)&&e[0>b?"lastChild":"firstChild"])}else if(e=e.parentNode,
!e||e===this.bodyNode||e===this.headerNode)break;while(b);return r},up:function(a,b,d){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",d))},down:function(a,b,d){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",d))},scrollTo:f("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):r.call(this,a)}:r,getScrollPosition:f("touch")?function(){return this.useTouchScroll?this.inherited(arguments):a.call(this)}:a,get:function(a){var b=
"_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var d in a)this.set(d,a[d]);else d="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[d]?this[d].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:d,_setClass:g,_getClassName:d,_setClassName:g,_setSort:function(a,b){this._sort="string"!=typeof a?a:[{attribute:a,descending:b}];this.refresh();
this._lastCollection&&(a.length&&("string"!=typeof a&&(b=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(d,g){var e=d[a],r=g[a];void 0===e&&(e="");void 0===r&&(r="");return e==r?0:e>r==!b?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,b){l.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,b)},_getSort:function(){return this._sort},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;h(b,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){l.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;h(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"anaplan/gridlet/cellmenu/SelectionCellMenuDelegate":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/Exceptions anaplan/gridlet/cellmenu/_CellMenuMixin anaplan/gridlet/cellmenu/CellMenuDelegate anaplan/utils/JsHelper anaplan/utils/SelectionHelper anaplan/utils/UIHelper dijit/MenuSeparator dojo/_base/declare dojo/i18n!anaplan/nls/gridlet dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return e("anaplan.gridlet.cellmenu.SelectionCellMenuDelegate",[f,q],{getMenuItems:function(a,e,b){var t=[],f=a.getGridlet(),m=f._menuToolbarOptions;try{!d("ios")&&!d("android")&&(t.push(this._createCopyMenuItem(a,e)),t.push(this._createPasteMenuItem(a)),t.push(new h));t.push(this._createHideMenuItem(e?g.messageHide:g.messageHideSelection,a,e||f._selection));t.push(this._createShowMenuItem(e?g.messageShow:g.messageShowSelection,a,e||f._selection));"rows"===b?t.push(this._createShowAllRowsMenuItem(a,
e)):"columns"===b?t.push(this._createShowAllColumnsMenuItem(a,e)):t.push(this._createShowAllMenuItem(a,e));t.push(this._createMenuItemSelectLevels(a,e));t.push(this._createMenuItemSelectItems(a,e));t.push(new h);t.push(this._createBreakbackContextMenu(a,e));t.push(new h);t.push(this._createHistoryMenuItem(a,e,m?m.menuItemHistory:!0));t.push(new h);t.push(this._createDrillDownMenuItem(a,e));t.push(this._createDrillToTransactionMenuItem(a,e));t.push(new h);t.push(this._createMenuItemFilter(a,e,m?m.menuItemFilter:
!0));if(s.hasEntitlement(l.ENTITLED_FEATURES.QUICK_FILTER)&&!k.isUndefined(m)){if(n.canQuickFilter(e||a.getSelectionObject(),a.getContext()))t.push(this._createMenuItemQuickFilter(a,e||a.getSelectionObject()))}else{if(n.canListFilter(e||f._selection,a.getContext()))t.push(this._createMenuItemListFilter(a,e||f._selection,m?m.menuItemFilter:!0));if(n.canResetListFilter(e||f._selection,a.getContext()))t.push(this._createMenuItemResetListFilter(a,e||f._selection,m?m.menuItemFilter:!0))}var z=m?m.menuItemSort:
!0;s.hasEntitlement(l.ENTITLED_FEATURES.QUICK_FILTER)?t.push(this._createSortContextMenu(a,e,z)):t.push(this._createMenuItemSort(a,e,z));t.push(new h);t.push(this._createColumnSettingsMenuItem(a,m?m.menuItemColumnSettings:!0));t.push(new h);t.push(this._createSearchMenuItem(a))}catch(y){throw new p.ClientException("anaplan.gridlet.cellmenu.SelectionCellMenuDelegate.getMenuItems",y);}return t},populateCellMenu:function(a,d,b,e){var f=d.getGridlet(),v=f._menuToolbarOptions;try{this._hideMenuItem=this._createHideMenuItem(b?
g.messageHide:g.messageHideSelection,d,b||f._selection);a.addChild(this._hideMenuItem);this._showMenuItem=this._createShowMenuItem(b?g.messageShow:g.messageShowSelection,d,b||f._selection);a.addChild(this._showMenuItem);"rows"===e?(this._showAllRowsMenuItem=this._createShowAllRowsMenuItem(d,b),a.addChild(this._showAllRowsMenuItem)):"columns"===e?(this._showAllColumnsMenuItem=this._createShowAllColumnsMenuItem(d,b),a.addChild(this._showAllColumnsMenuItem)):(this._showAllMenuItem=this._createShowAllMenuItem(d),
a.addChild(this._showAllMenuItem));this._menuItemSelectLevels=this._createMenuItemSelectLevels(d,b);a.addChild(this._menuItemSelectLevels);this._menuItemSelectItems=this._createMenuItemSelectItems(d,b);a.addChild(this._menuItemSelectItems);a.addChild(new h);a.addChild(this._createBreakbackContextMenu(d,b));var z=n.canListFilter(b||f._selection,d.getContext()),y=n.canResetListFilter(b||f._selection,d.getContext()),w=s.hasEntitlement(l.ENTITLED_FEATURES.QUICK_FILTER)&&!k.isUndefined(v);(z||y||w)&&a.addChild(new h);
if(w){if(n.canQuickFilter(b||d.getSelectionObject(),d.getContext()))this._menuItemQuickFilter=this._createMenuItemQuickFilter(d,b||d.getSelectionObject()),a.addChild(this._menuItemQuickFilter)}else z&&(this._menuItemListFilter=this._createMenuItemListFilter(d,b||f._selection,v?v.menuItemFilter:!0),a.addChild(this._menuItemListFilter)),y&&(this._menuItemResetListFilter=this._createMenuItemResetListFilter(d,b||f._selection),a.addChild(this._menuItemResetListFilter));a.addChild(new h);a.addChild(this._createColumnSettingsMenuItem(d,
v?v.menuItemColumnSettings:!0));a.addChild(new h);a.addChild(this._createSearchMenuItem(d));this._enableCellMenuItems(d,b);this._hideMenuItem.get("disabled")?a.focusChild(this._showAllMenuItem):a.focusChild(this._hideMenuItem)}catch(x){m.throwClientException(this,x)}}})})},"anaplan/widgets/Menu":function(){define(["dojo/_base/declare","dijit/Menu","dijit/registry","dojo/dom-class"],function(l,s,p,q){return l(s,{childSelector:function(f){var k=p.getEnclosingWidget(f);return f.parentNode===this.containerNode&&
k&&k.focus},postCreate:function(){this.inherited(arguments);q.add(this.domNode,"qa-menu")}})})},"anaplan/api/Fetchers/colourPalettes":function(){define(["dojo/_base/declare","./Base/Fetchable","./Entities/ColourPalettes","anaplan/constants"],function(l,s,p,q){return new (l([s],{entitiesClass:p,axesIdentifiers:{rows:q.SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_IDENTIFIER,columns:q.SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_PROPERTY_IDENTIFIER}}))})},"anaplan/utils/PromiseUtil":function(){define(["dojo/_base/declare",
"dojo/aspect","dojo/Deferred","anaplan/Exceptions"],function(l,s,p,q){var f=l(null,{});f.IntentionalAbort=l([],{type:"IntentionalAbort"});f.UserCancelled=l([],{type:"UserCancelled"});f.AlreadyHandledError=l([],{type:"AlreadyHandledError"});f.resolve=function(f){var n=new p;n.resolve(f);return n.promise};f.reject=function(f){var n=new p;n.reject(f);return n.promise};f.setTimeout=function(k){var n=new p,m=setTimeout(function(){n.resolve()},k||0);k=function(){};k.prototype=n.promise;k=new k;k.abort=
function(){if(n.isFulfilled())return!1;clearTimeout(m);n.reject(new f.IntentionalAbort);return!0};return k};f.after=function(f,n){var m=new p;if("function"!==typeof f.own)throw new q.ClientException("PromiseUtil.after can only be used on dijit/Destroyable objects");var h=s.after(f,n,function(){h.remove();m.resolve()});f.own(h);f.own(m);return m.promise};f.always=function(f,n){return f.then(function(f){n();return f},function(f){try{n()}catch(h){throw new q.MultipleException("PromiseUtil.always callback threw an exception handling an already-rejected promise",
h,f);}throw f;})};return f})},"anaplan/gridlet/MobileGridlet":function(){define("anaplan/Exceptions anaplan/gridlet/_LinkMixin anaplan/gridlet/Gridlet anaplan/utils/UIHelper dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-geometry dojo/on dojo/text!anaplan/templates/MobileGridlet.html".split(" "),function(l,s,p,q,f,k,n,m,h,e){return f([p,s],{templateString:e,postCreate:function(){var g=this._outerwrapper;try{this.inherited(arguments),this.own(h(g,"touchstart",k.hitch(this,"_onTouchStart")),h(g,
"touchmove",k.hitch(this,"_onTouchMove")),h(g,"touchend",k.hitch(this,"_onTouchEnd")),h(g,"touchcancel",k.hitch(this,"_onTouchCancel"))),this._tapHoldTimer=this._doubleTapTimer=this._gesture=null}catch(d){throw new l.ClientException("anaplan.gridlet.MobileGridlet#postCreate",d);}},uninitialize:function(){try{this._cancelGesture(),this.inherited(arguments)}catch(g){throw new l.ClientException("anaplan.gridlet.MobileGridlet#uninitialize",g);}},_cancelGesture:function(){try{this._gesture=null,this._doubleTapTimer&&
(clearTimeout(this._doubleTapTimer),this._doubleTapTimer=null),this._tapHoldTimer&&(clearTimeout(this._tapHoldTimer),this._tapHoldTimer=null)}catch(g){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_cancelGesture",g);}},_doActionEdit:function(g,d){var a=d.touches;try{1===a.length&&this._startEdit(d,!1,!0),this._cancelGesture()}catch(e){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_doActionEdit",e);}},_doActionRangeSelect:function(g,d){var a,e,b,h,f,k,m,n,w,x,q;try{if(d){d.preventDefault();
q=d.touches;f=g.id;x=q.length;for(w=0;w<x;w++)if(q[w].identifier===f){n=q[w];break}if(n){if(m=this._getCellSelectionAtClientXY(n.clientX,n.clientY))a={values:this._values},k=m.currentCell,e=g.selection.currentCell,b=k.calculateColumnDelta(e,a),h=k.calculateRowDelta(e,a),this._updateSelectionDelta(b,h),g.lastEventType=d.type,g.clientX=n.clientX,g.clientY=n.clientY,g.selection=m}else this._cancelGesture()}else this._setSelection(g.selection)}catch(p){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_doActionRangeSelect",
p);}},_doActionSingleSelect:function(g,d){var a=d.touches,e=this,b,h,f,k,z,y,w,x;try{if(a.length)this._cancelGesture();else if(this._values){x=this._selection&&g.selection?this._isSameCell(this._selection,g.selection):!1;this._setSelection(g.selection);this.scrollToSelection();this._onSelect();g.id=null;g.lastEventType=d.type;b=this._selection.currentCell.getIndices({values:this._values});if(this._selection.isSingleDataCellSelected()){h=this._selection.currentCell.getCellIndexInView(this._values,
this._pageInfo);if((f=this._values.cells.formats[h])&&"BOOLEAN"===f.dataType)if(k=n.byId(this._generateCheckboxId(b.x,b.y,b.nx,b.ny)))if(z=m.position(k,!1),g.clientX>=z.x-5&&g.clientX<z.x+z.w+5&&g.clientY>=z.y&&g.clientY<z.y+z.h+5){this._toggleCheckbox(k);this._cancelGesture();return}f&&("ENTITY"===f.dataType||"TIME_ENTITY"===f.dataType)&&x&&this._startEdit(d,!1,!0)}this._isValidLinkCell(g.selection.currentCell)&&(w=this._getLink(g.selection.currentCell),y=function(){e._openLink(w)});this._startDoubleTapTimer(y)}}catch(q){throw new l.ClientException("anplan.gridlet.MobileGridlet#_doActionSingleSelect",
q);}},_isSameCell:function(g,d){return g&&d&&g.currentCell&&d.currentCell?g.currentCell.x.entityLongIds&&d.currentCell.x.entityLongIds&&g.currentCell.y.entityLongIds&&d.currentCell.y.entityLongIds?g.currentCell.x.entityLongIds[0]===d.currentCell.x.entityLongIds[0]&&g.currentCell.y.entityLongIds[0]===d.currentCell.y.entityLongIds[0]?!0:!1:!1:!1},_onTouchCancel:function(g){this._cancelGesture()},_onTouchEnd:function(g){var d;try{if(this._tapHoldTimer&&(clearTimeout(this._tapHoldTimer),this._tapHoldTimer=
null),d=this._gesture)d.type?this._cancelGesture():(d.type="SINGLE_SELECT",this._processGesture(d,g))}catch(a){q.showErrorReporter(new l.ClientException("anaplan.gridlet.MobileGridlet#_onTouchEnd",a,{widgetId:this.id},g))}},_onTouchMove:function(g){var d;try{this._tapHoldTimer&&(clearTimeout(this._tapHoldTimer),this._tapHoldTimer=null),(d=this._gesture)&&d.type&&this._processGesture(d,g)}catch(a){q.showErrorReporter(new l.ClientException("anaplan.gridlet.MobileGridlet#_onTouchMove",a,{widgetId:this.id},
g))}},_onTouchStart:function(g){var d,a;try{if(!this.isLocked()&&(this.focus(),!(1<g.touches.length)&&!this._blockTouches))if(this._gesture)"SINGLE_SELECT"===this._gesture.type&&(this._gesture.type="EDIT",this._processGesture(this._gesture,g)),this._cancelGesture();else if(a=g.touches[0],d=this._getCellSelectionAtClientXY(a.clientX,a.clientY))this._gesture={id:a.identifier,type:null,clientX:a.clientX,clientY:a.clientY,lastEventType:g.type,selection:d,startInRowLabels:d.currentCell.x.isFixed(),startInColumnLabels:d.currentCell.y.isFixed()},
this._startTapHoldTimer()}catch(e){q.showErrorReporter(new l.ClientException("anaplan.gridlet.MobileGridlet#_onTouchStart",e,{widgetId:this.id},g))}},_processGesture:function(g,d){try{switch(g.type){case "SINGLE_SELECT":this._doActionSingleSelect(g,d);break;case "RANGE_SELECT":this._doActionRangeSelect(g,d);break;case "EDIT":this._doActionEdit(g,d);break;default:console.error("anaplan.gridlet.MobileGridlet#_processGesture - unknown gesture type "+g.type)}}catch(a){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_processGesture",
a);}},_startDoubleTapTimer:function(g){try{this._doubleTapTimer&&clearTimeout(this._doubleTapTimer),this._doubleTapTimer=setTimeout(k.hitch(this,function(){this._cancelGesture();g&&g()}),250)}catch(d){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_startDoubleTapTimer",d);}},_startTapHoldTimer:function(){try{this._tapHoldTimer&&clearTimeout(this._tapHoldTimer),this._tapHoldTimer=setTimeout(k.hitch(this,function(){this._gesture&&(this._gesture.type="RANGE_SELECT",this._processGesture(this._gesture,
null))}),500)}catch(g){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_startTapHoldTimer",g);}},_update:function(){try{this.inherited(arguments),this._blockTouches=!1}catch(g){throw new l.ClientException("anaplan.gridlet.MobileGridlet#_update",g);}},_usesHtmlRenderer:function(){return!0}})})},"anaplan/tabs/Dashboard":function(){define("anaplan/dashboard/definitionUtils anaplan/anapediaKeys anaplan/common/SelectiveAccess anaplan/constants anaplan/dashboard/_buttonmixin anaplan/dashboard/_InitialModelObserver anaplan/dashboard/DashboardExport anaplan/dashboard/DashboardWidget anaplan/dashboard/dashboardWidgets/_PageSelector anaplan/dashboard/LayoutFactory anaplan/dashboard/LayoutHelper anaplan/dashboard/LayoutMode anaplan/dashboard/LayoutPosition anaplan/dashboard/LayoutPositionManager anaplan/dashboard/DesignControls anaplan/dashboard/dashboardState/ClientDefinition anaplan/dashboard/dashboardState/ServerDefinition anaplan/data/Aggregator anaplan/data/ChangeFactory anaplan/data/ContextCache anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/gridlet/Selection anaplan/gridlet/Themes anaplan/layout/_ManagedMixin anaplan/quicksum/QuickSum anaplan/utils/dashboardDefinition anaplan/utils/JsHelper anaplan/utils/PromiseUtil anaplan/utils/SubmissionHandler anaplan/utils/TestAttributesHelper anaplan/utils/topics anaplan/utils/UIHelper anaplan/view/NewDashboard anaplan/view/Process anaplan/widgets/ConfirmationDialog anaplan/widgets/FloatingWindow anaplan/widgets/MenuItem anaplan/widgets/Tooltip anaplan/utils/EntityLongIdHelper dijit/focus dijit/layout/ContentPane dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx dojo/fx/easing dojo/has dojo/i18n!anaplan/nls/dashboard dojo/i18n!anaplan/nls/exportLabels dojo/i18n!anaplan/nls/process dojo/i18n!anaplan/nls/quickSum dojo/i18n!dijit/nls/loading dojo/io/iframe dojo/json dojo/on dojo/promise/all dojo/topic dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea,qa,ka,da,ha,U,sa,ta,Ca,Fa,xa,ma,za,na){function Da(a,b){var d=a._clientDefinition._currentDefinition,g=[];b=b||0;null!==d&&(g=d.dashboardElements,b&&(g=g.slice(0,-b)),g=X.clone(g));return g}function V(a,b,d){for(var g=0;g<a.length;g++){var e=b[g];e&&d(a[g],e)}}function Ba(a,b){a.size=b.getArgs().size;a.layoutPosition=b.getArgs().layoutPosition}function ua(a,b){b.size=g.getDefaultSizeForElement(b,
a._contentBox);b.size.width.units=b.size.height.units=100;b.size.width.unitsType=q.DashboardSizeUnitsType.PERCENTAGE;b.size.height.unitsType=q.DashboardSizeUnitsType.PERCENTAGE;b.layoutPosition="r0,c0"}function la(a){a.viewDefinition&&(a.viewDefinition.currentPageIdentifiers=[])}function oa(a,b){var d=b.getModel();d&&(a.viewDefinition=d.getViewDefinition())}return ca([Y,B,f],{constructor:function(a){this._dashboardEntityLongId=a.dashboardEntityLongId;this._uuid=a.uuid;this.dashboardModel=a.dashboardModel;
this._clientDefinition=new t(this,a.dashboardDefinition);this._serverDefinition=new u(this);this._widgets=[];this._initialModelObservers=[];this._focusedWidgetIndex=-1;H.isNullOrUndefined(a.viewInfos)||(this._setViewInfos(a.viewInfos),this._enterDesignModeOnLoad=!0);this._layoutPositionsArray=[];this._dashboardBeingDestroyed=!1;this._showTipsOnStartup=a.showTipsOnStartup;this._showBreakbackMarkersOnStartup=a.showBreakbackMarkersOnStartup||!1;this._quickSumEnabledByUser=a.showQuickSumOnStartup||!1;
this._drillDownLevel=a.drillDownLevel||0;this._drillDownId=a.drillDownId||null;this._titleCellFormats=a.titleCellFormats||null;this._currentTabIndex=0;this.spacing=a.spacing||x.getDashboardSpacing(w,M.hasTouch());a.hasOwnProperty("result")&&a.hasOwnProperty("task")?this._tabParams={result:a.result||null,task:a.task||null}:this._tabParams=null},postCreate:function(){this.inherited(arguments);Z.add(this.domNode,"dashboardTab");this._createContainers();var a=na.subscribe("anaplan/selecteditems",X.hitch(this,
function(a,b){this._suspended||this._publishSelectedItems(a,b)})),b=na.subscribe("anaplan/process",X.hitch(this,function(a,b,d,g,e){this._suspended||e!==this.dashboardEntityLongId||this._displayProcessDialog(a,b,d,g)})),d=na.subscribe("anaplan/dashboards/"+this._uuid+"/updateText",X.hitch(this,function(a){this._updateTextElement(a)}));this._doLayoutFocusHandler=ba.after(this,"_doLayout",X.hitch(this,this.focusIfInViewport));this.own(b,a,d,this._doLayoutFocusHandler);l.cleanDefinition(this._clientDefinition._currentDefinition,
this._contentBox,this._showBreakbackMarkersOnStartup);w.addObserver(this);this._gridletSelectionChangeTopic="anaplan/tabs/Dashboard/"+this.id+"/selectionChange";this._createQuickSum()},initialLoad:function(){this.inherited(arguments);this._showLoadingIndicator();return this._renderDashboard().then(function(){this.dashboardModel.isMasterView&&this.setCurrentContextAsBaseLine()}.bind(this),function(a){a&&"IntentionalAbort"===a.type||a&&"CancelError"===a.name||console.warn("Dashboard loading interrupted",
a)})},_isDetached:!1,setDetached:function(){this._isDetached=!0},setAttached:function(){this._isDetached=!1},hide:function(a){a===q.QUICK_SUM&&(this._quickSumEnabledByUser=!1,this._destroyQuickSum())},show:function(a){a===q.QUICK_SUM&&(this._quickSumEnabledByUser=!0,this._createQuickSum())},_recreateDashboard:function(){this._layoutWidget&&this._layoutWidget.set("selected",null);this._setLayoutMode(!1);this._showLoadingIndicator();return this._renderDashboard()},checkAggregatorBusy:function(){var a=
this._widgets&&0<this._widgets.length;return(this._isLoading()||this.dashboardModel.isSaving||this._hasAnyDirtyWidgets())&&(a||this.isClientDirty())?(J.systemMessage(ha.aggregatorBusyToasterMessage),!0):!1},_onPreviewToggleClick:function(){this._setPreviewMode(!this.isInPreviewMode())},_onMenuAddImage:function(){this._addElementToDashboard({dashboardElementType:q.dashboardElementType.IMAGE,value:"",viewDefinition:null})},_onMenuAddText:function(){this._addElementToDashboard({dashboardElementType:q.dashboardElementType.STATIC_TEXT,
themeId:void 0,value:ha.staticTextDefault,styleName:q.DashboardStyleType[3][1]})},_onMenuEnterDDM:function(){this.onAttachFloatingDashboard();var a=this._isLoading(),b=this.getServerDashboardDefinitionChanged();a?(this._enterDesignModeOnLoad=!0,b&&this.resetDefinitionToLatest()):v.isInFlight()||b?this.resetDefinitionToLatest().then(function(){this._setDashboardDesignMode(!0)}.bind(this)):this._setDashboardDesignMode(!0)},_onMenuRefresh:function(){this.refreshAllGridsAndCharts()&&v.gather()},_onMenuExportPdf:function(){var a,
b;try{a=M.getSharedDialog(),b=new n,a.set("title",ha.titleDashboardExport),a.set("refocus",!1),a.set("content",b.domNode),b.own(ma(b,"export",X.hitch(this,function(d){v.gather();this._exportDashboardToPdf(d,this._dashboardEntityLongId).then(function(d){d?b.monitorExportTask(d).then(function(b){var d;"CANCELLED"===b.taskState?(d=U.msgCancelled,b.cancelledBy&&(d=U.msgCancelledBy.replace(/\$\{cancellingUser\}/,b.cancelledBy)),M.showInfoDialog(d,{title:U.msgExportCancelled})):b.taskResult&&(b.taskResult.successful?
(d=b.taskResult.localMessageText)&&M.showInfoDialog(d,{title:U.msgExportWarning}):(d=U[b.taskResult.messageKey],d||(d=b.taskResult.localMessageText),M.showInfoDialog(d,{title:U.msgExportFailed})));a.onCancel()},function(a){b.reset();console.error(a)}):(b.reset(),console.warn("anaplan.tabs.Dashboard#_onMenuExportPdf: no task id"))},function(a){b.reset();console.error(a)})})),ma(b,"cancel",function(){try{b.cancelExportTask(),a.onCancel()}catch(d){M.showErrorReporter(new A.ClientException("anaplan.tabs.Dashboard#_onMenuExportPdf (onCancel)",
d))}})),a.setHelpContent(s.dashboardExport),a.show()}catch(d){M.showErrorReporter(new A.ClientException("anaplan.tabs.Dashboard#_onMenuExportPdf",d))}},_onMenuExitDDM:function(){this.checkAggregatorBusy(this)||(this.isClientDirty()||this.getServerDashboardDefinitionChanged()?this.resetDefinitionToLatest().then(function(){this._hideLoadSaveIndicator();this._setDashboardDesignMode(!1)}.bind(this)):this._setDashboardDesignMode(!1))},_onUndo:function(){J.undoManagerUndo()},_getTitleAttr:function(){return this.getParent().get("title")},
getCurrentContext:function(){var a=[];this._widgets.forEach(function(b,d){var g={currentPages:[]},e=b.model&&b.model.getPageInfo();e&&e.currentPageLabels&&(e=b.model._pageInfo.currentPageLabels.entityLongIds,1===e.length&&(g.currentPages=e[0]));a.push(g)});return a},setCurrentContextAsBaseLine:function(){this.checkIfClosing()||(this.dashboardModel.dashboardContext=this.getCurrentContext(),this._handleDashboardContextAfterUpdate(),this._clientDefinition.invalidateCachedDirtyFlag())},removeInitialModelObserversFromAggregator:function(){this._initialModelObservers.forEach(function(a){a=
a.getModel();try{a&&v.isObserver(a)&&v.deleteObserver(a)}catch(b){console.warn("Could not remove observer",a)}})},setInitialModelObservers:function(a){this.removeInitialModelObserversFromAggregator();this._initialModelObservers=a},setupDefaultObservers:function(){var a=l.getObserversForDefinitionWithGlobalContext(this._clientDefinition._currentDefinition,y.getContextIdentifiers(),this._dashboardEntityLongId);this.setInitialModelObservers(a)},setupDefaultObserversWithSharedContext:function(a){a=R.entityLongIdsToEntityLongIdIdentifiers(a);
a=l.getObserversForGivenSharedContext(this._clientDefinition._currentDefinition,a,this._dashboardEntityLongId);this.setInitialModelObservers(a)},setupSpecificObservers:function(a){a=l.getObserversForGivenContext(this._clientDefinition._currentDefinition,a,this._dashboardEntityLongId);this.setInitialModelObservers(a)},setupEndUserViewInitialLoadObservers:function(){var a=l.getObserversForInitialEndUserView(this._clientDefinition._currentDefinition,y.getContextIdentifiers(),this.dashboardModel.dashboardContext,
this._dashboardEntityLongId);this.setInitialModelObservers(a)},resetDefinitionToLatest:function(){this._serverDefinition.reset();this._clientDefinition.reset(this._serverDefinition.getSeedDefinition());this.setupDefaultObservers();return this._recreateDashboard()},resetDefinitionAndContext:function(a){if(this.checkIfClosing())return L.resolve();this.dashboardModel.isMasterView?(this._serverDefinition.reset(),this._clientDefinition.reset(this._serverDefinition.getSeedDefinition())):this._clientDefinition.reset(a);
this.setupSpecificObservers(this.dashboardModel.dashboardContext);return this._recreateDashboard()},switchToEndUserDefinition:function(a){if(this.checkIfClosing())return L.resolve();this._clientDefinition.reset(a);this.setupSpecificObservers(this.dashboardModel.dashboardContext);return this._recreateDashboard()},switchToMasterDefinition:function(){if(this.checkIfClosing())return L.resolve();this._serverDefinition.reset();this._clientDefinition.reset(this._serverDefinition.getSeedDefinition());this.setupDefaultObservers();
return this._recreateDashboard().then(function(){this.setCurrentContextAsBaseLine()}.bind(this))},isSettingsPanelExpanded:function(){return!this._isControlPanelMinimized},getGridModelSizerByElementIndex:function(a){return this._clientDefinition._currentDefinition.dashboardElements[a].dashboardElementType!==q.dashboardElementType.GRID?null:this._initialModelObservers[a]?this._initialModelObservers[a]._model._getSizer():null},getGridModelThemeByElementIndex:function(a){return this._clientDefinition._currentDefinition.dashboardElements[a].dashboardElementType!==
q.dashboardElementType.GRID?null:this._initialModelObservers[a]?this._initialModelObservers[a]._model._themeId:"classic"},_broadcastServerDirtyState:function(){this.onUpdateMenu();na.publish("anaplan/tabs/"+M.generateId(this._dashboardEntityLongId)+"/serverDashboardDefinitionStateChange",this.getServerDashboardDefinitionChanged())},onUpdateMenu:function(){},containsMaximizedElement:function(){return-1<this._maximizedElementIndex},focus:function(){this._focus(!1)},focusIfInViewport:function(){this._focus(!0)},
getHelpId:function(){return"dashboard"},getMaximizedElementIndex:function(){return this._maximizedElementIndex},getNextTabIndex:function(){return++this._currentTabIndex},isEdited:function(){return this._clientDefinition.isDirty()||this.dashboardModel.isSaving||this.dashboardModel.isDashboardContextDirty},isDirty:function(){return p.isAuthorized(q.userActions.MAINTAIN_CUSTOM_DASHBOARDS)&&this.isEdited()||this._hasAnyDirtyWidgets()},_hasAnyDirtyWidgets:function(){return T.some(this._widgets||[],function(a){return a.isDirty&&
a.isDirty()})},isClientDirty:function(){return this._clientDefinition.isDirty()},getServerDashboardDefinitionChanged:function(){return this._serverDefinition.hasChanged()},isInDesignMode:function(){return this._dashboardDesignMode},isInPreviewMode:function(){return this._previewMode},isInDesignerView:function(){return this.isInPreviewMode()||this.isInDesignMode()},resume:function(a){this.inherited(arguments);this._isLoading()||(H.isNullOrUndefined(this._contentBoxWhenSuspended)||(this._contentBox.w!==
this._contentBoxWhenSuspended.w||this._contentBox.h!==this._contentBoxWhenSuspended.h)&&this._redoLayoutInTimeout(),this._processActionResult(a),this.focus());this._createQuickSum()},suspend:function(){this.inherited(arguments);this._contentBoxWhenSuspended=X.clone(this._contentBox);this._destroyQuickSum()},uninitialize:function(){this._destroyQuickSum();this.removeInitialModelObserversFromAggregator();w.deleteObserver(this);this._initialModelObservers=null;this._state=q.DashboardState.CLOSING;this._clientDefinition.destroy();
this._serverDefinition.destroy();null!==this._loadingIndicator&&(aa.destroy(this._loadingIndicator),this._loadingIndicator=null);this.inherited(arguments)},update:function(){this._serverDefinition.checkIfChanged();this.defer(X.hitch(this,this._onAfterUpdate))},_createQuickSum:function(){this._quickSumEnabledByUser&&!this._quickSum&&(this._quickSum=new C(this._gridletSelectionChangeTopic),this._quickSumOnShowHandle=ma(this._quickSum,"Show",this._showQuickSum.bind(this)),this._quickSumOnHideHandle=
ma(this._quickSum,"Hide",this._hideQuickSum.bind(this)))},_destroyQuickSum:function(){this._quickSumOnShowHandle&&(this._quickSumOnShowHandle.remove(),this._quickSumOnShowHandle=null);this._quickSumOnHideHandle&&(this._quickSumOnHideHandle.remove(),this._quickSumOnHideHandle=null);this._quickSum&&(this._quickSum.destroy(),this._quickSum=null)},_showQuickSum:function(a,b){this._quickSum&&(this._quickSumContainer||(ea.set(this._scrollContainer,"bottom","30px"),this._quickSumContainer=aa.create("div",
{"class":"aui ap-db-quicksum-container",style:"height: 30px"},this.domNode)),this._quickSum.render(this._quickSumContainer,b))},_hideQuickSum:function(){this._quickSumContainer&&(this._quickSum.unmount(this._quickSumContainer),aa.destroy(this._quickSumContainer),this._quickSumContainer=null,ea.set(this._scrollContainer,"bottom","0"))},_onAfterUpdate:function(){this._updateClientDefinitionWithCurrentRootItems();this._handleDashboardContextAfterUpdate();this._clientDefinition.invalidateCachedDirtyFlag();
this._updateWidgetMenus(!0)},_updateClientDefinitionWithCurrentRootItems:function(){this._clientDefinition._currentDefinition.dashboardElements.forEach(function(a,b){var d=this._widgets[b];d&&(d=d.model&&d.model.getPageInfo(),x.setRowAxisCurrentRootItems(a.viewDefinition,d),x.setColumnAxisCurrentRootItems(a.viewDefinition,d))}.bind(this))},_handleDashboardContextAfterUpdate:function(){this.isInDesignerView()||!this.dashboardModel.canAccessPersonalSavedDashboards?this.dashboardModel.isDashboardContextDirty=
!1:this.dashboardModel.isDashboardContextDirty=!this.dashboardModel.isContextEqual(this.getCurrentContext())},_addElementToDashboard:function(a){this.publishItemsToDashboard([a])},_calculateLayout:function(){this._currentTabIndex=0;return this._layoutPositionsArray=e.getLayoutAdapter(this).calculateLayout(this.domNode,this._widgets)},_calculateShadowBlurRadius:function(){return Math.min(Math.floor(this._scrollContainer.scrollLeft/2),10)},isInClosableState:function(){return!this.isEdited()||!this.isInDesignerView()},
canCloseDashboard:function(){if(this.checkAggregatorBusy(this))return L.resolve(!1);if(this.isInClosableState())return L.resolve(!0);var a=this._serverDefinition.hasChanged();return this._showCloseTabConfirmation(a)},getLatestServerDefinition:function(){return this._serverDefinition.getSeedDefinition()},_showCloseTabConfirmation:function(a){var b=new $,d={label:ha.labelSaveAndPublish,isPrimary:!0,handler:function(){this._showClosingIndicator();return L.always(this._saveDashboard(),this._hideLoadSaveIndicator.bind(this)).then(function(){b.resolve(!0)})}.bind(this)},
g={label:ha.labelSaveAs,isPrimary:!0,handler:function(){return this._saveDashboardAs().then(function(){return this.resetDefinitionToLatest()}.bind(this)).then(function(){b.resolve(!1)})}.bind(this)},e={label:ha.labelDiscard,handler:function(){b.resolve(!0)}.bind(this)},h={isCancel:!0,handler:function(){b.resolve(!1)}.bind(this)},r=a?ha.titleDashboardCantBeSaved:ha.titleSaveAndPublish,t=a?ha.confirmExitDesignerModeWithServerChanges:this.dashboardModel.canAccessPersonalSavedDashboards?ha.confirmExitDashboardWithUserSavedViewsEnabled:
ha.confirmExitDashboardMessage,t=t.replace(/!!dashboard!!/g,this.get("title")),f=new P({title:r,content:t,buttons:[a?g:d,e,h]});f.on("hide",function(){f.destroy()});f.show();return b.promise},_renderDashboard:function(){this._showLoadingIndicator();l.cleanDefinition(this._clientDefinition._currentDefinition,this._contentBox,this._showBreakbackMarkersOnStartup);var a=function(){this.domNode.classList.remove("qa-dashboard--loading");this.domNode.classList.add("qa-dashboard--loaded")}.bind(this);if(0===
this._initialModelObservers.length)return this._hideLoadSaveIndicator(),this._createDashboardContent().then(a);var b=new $;this._loading=b.promise;this._loading.otherwise(function(){}.bind(this));this.onUpdateMenu();v.gather();var d=function(d){this.onUpdateMenu();this.dashboardModel.isMasterView&&(this.dashboardModel.dashboardContext=this.getCurrentContext());b.resolve();a();this._hideLoadSaveIndicator();return d}.bind(this);return L.always(za(this._initialModelObservers),function(){this._loading=
null}.bind(this)).then(function(){return this._suspended&&this._state!==q.DashboardState.CLOSING?L.after(this,"resume").then(this._createDashboardContent.bind(this)).then(d):this._createDashboardContent().then(d)}.bind(this)).otherwise(function(a){a&&"CancelError"===a.name||(b.resolve(),this._hideLoadSaveIndicator(),M.showErrorReporter(new A.ClientException("dashboard.renderDashboard",a)))}.bind(this))},_createDashboardContent:function(){this.domNode.classList.add("qa-dashboard--loading");var a=this,
b,d;this._elementContainer&&aa.destroy(this._elementContainer);d=aa.create("div",{"class":"dashboardElementContainer"});aa.place(d,this._scrollContainer);this._elementContainer=d;if(!this.domNode||!this._initialModelObservers)return this._tabParams=null,L.resolve();b=[];null!==this._clientDefinition._currentDefinition&&(b=this._clientDefinition._currentDefinition.dashboardElements);this._widgets=this._createWidgets(b);T.forEach(this._widgets,function(a){aa.place(a.domNode,d);a.startup()});this._layoutTimer&&
clearTimeout(this._layoutTimer);this._redoLayout();b=this._getDashboardDefinitionForComparison(this._clientDefinition._elementsAddedWhenInvalid);this._clientDefinition.setBaseDefinitionOnce(b);this.onUpdateMenu();null!==this._tabParams&&setTimeout(function(){try{a._processActionResult(a._tabParams)}catch(b){console.error(b)}finally{a._tabParams=null}},150);b=this._enterDesignModeOnLoad;this._enterDesignModeOnLoad=!1;return this._dashboardDesignMode?(this._setLayoutMode(!0),this._layoutWidget.set("selected",
this._getInitialLayoutModeSelection()),this._layoutWidget.scrollToSelection(),L.resolve()):b?(this.onAttachFloatingDashboard(),this._setDashboardDesignMode(!0).then(function(){this._layoutWidget.scrollToSelection()}.bind(this))):L.resolve()},_isLoading:function(){return null!==this._loading},onToolbarPinChanged:function(){ea.set(this._scrollContainer,"top",this.dashboardModel.toolbarHeightPx+"px");ea.set(this._leftPanel,"top",this.dashboardModel.toolbarHeightPx+"px");this.dashboardModel.showToolbar()?
this._contentBox.h-=this.dashboardModel.toolbarHeightPx:this._contentBox.h+=this.dashboardModel.toolbarHeightPx;this.resize()},_createContainers:function(){var a="top: "+this.dashboardModel.toolbarHeightPx+"px;";this._outerContainer=aa.create("div",{"class":"dashboardOuterContainer"});this._leftPanel=aa.create("div",{"class":"dashboardLeftPanel",style:a+"width:"+q.DASHBOARD_CONTROL_PANEL_WIDTH+"px;"},this._outerContainer);this._scrollContainer=aa.create("div",{"class":"dashboardScrollContainer",style:a+
"left:"+q.DASHBOARD_CONTROL_PANEL_WIDTH+"px"},this._outerContainer);this.set("content",this._outerContainer)},_onControlPanelToggle:function(){null===this._ddmSlideAnimation&&(this._setControlPanelMinimized(!this._isControlPanelMinimized),this._isControlPanelMinimized?this._minimizeDesignControlsPanel():this._expandDesignControlsPanel())},onAttachFloatingDashboard:function(){},_createLeftPanelShadowHandler:function(){this._setLeftPanelBoxShadow(this._calculateShadowBlurRadius());this._scrollContainerEventHandle=
ma(this._scrollContainer,"scroll",X.hitch(this,function(){var a=this._calculateShadowBlurRadius();a!==this._shadowBlurRadius&&(this._setLeftPanelBoxShadow(a),ea.set(this._leftPanel,"box-shadow","0 0 "+Math.floor(Math.min(this._scrollContainer.scrollLeft/2,10))+"px rgba(0, 0, 0, 0.22)"))}));this.own(this._scrollContainerEventHandle)},checkIfClosing:function(){return this._state===q.DashboardState.CLOSING},_saveDashboardAs:function(){var a,b,d,g,e,h,r,t,f,k=new $;b=this._getDashboardElementsForPersistence();
d=x.getDashboardLabel(w,this._dashboardEntityLongId);g=w.getDashboardsLabelPage();e=d+" - "+ha.copy;h=T.indexOf(g.labels[0],e);for(r=2;-1<h;)e=d+" - "+ha.copy+" ("+r+")",h=T.indexOf(g.labels[0],e),r++;d=w.getDashboardInfo(this._dashboardEntityLongId).functionalAreaEntityLongId;t=new I({dashboardElements:b,dashboardName:e,functionalAreaEntityLongId:d});a=M.getSharedDialog();a.set("title",ha.titleSaveAsDashboard);a.set("refocus",!1);a.set("content",t.domNode);f=-1;t.own(ma(t,"save",function(b){f=b;
a.onCancel();k.resolve(!0)}),ma(t,"cancel",function(){a.onCancel();k.reject(new L.UserCancelled)}),ma(t,"dialogHide",function(){-1<f&&na.publish("anaplan/views",f);k.resolve(!1)}));a.setHelpContent(s.dashboardSaveAs);a.show();setTimeout(function(){t.focus()},250);return k.promise},_createWidgets:function(a){var b=[],d=a.length,g=null,e;for(e=0;e<d;e++)g=this._createWidget(a[e],this._initialModelObservers[e],e),b.push(g),this._initialModelObservers[e].deleteAsObserver();a=new r({widgets:b,spacing:this.spacing});
d=this._getLayoutPositionsMap(b);a.normalizeLayoutPositions(d);return b},_updateWidgetChangedState:function(){if(this._clientDefinition._currentDefinition){var a=this._clientDefinition._currentDefinition.dashboardElements;if(a)if(this._widgets.length!==a.length)console.warn("anaplan.tabs.Dashboard#_updateWidgetChangedState: Dashboard widgets and elements are out of sync");else for(var b=0;b<a.length;++b)Z.toggle(this._widgets[b].domNode,"dashboardElementChanged",this._clientDefinition.isWidgetChanged(b));
else console.warn("anaplan.tabs.Dashboard#_updateWidgetChangedState: Dashboard definition is invalid")}else console.warn("anaplan.tabs.Dashboard#_updateWidgetChangedState: No dashboard definition")},_createWidget:function(a,b,d){var g=H.isUndefined(a.themeId)?E.getDefaultThemeIdFromModelProperties():a.themeId;a=X.mixin(X.clone(a),{dashboardEntityLongId:this._dashboardEntityLongId,model:b.getModel(),initialValues:b.getInitialValues(),selection:(new D).initializeToDefaults(),showTipsOnStartup:this._showTipsOnStartup,
showBreakbackMarkersOnStartup:this._showBreakbackMarkersOnStartup,drillDownLevel:this._drillDownLevel,drillDownId:this._drillDownId,titleCellFormat:this._titleCellFormats?this._titleCellFormats[d]:null,spacing:this.spacing,themeId:g,inDesignMode:this._dashboardDesignMode,gridletSelectionChangeTopic:this._gridletSelectionChangeTopic});var e=new m(a);!this._layoutWidget&&e.dashboardElementType===q.dashboardElementType.STATIC_TEXT&&e.setReadOnly(!0);Z.toggle(e.domNode,"dashboardElementChanged",this._clientDefinition.isWidgetChanged(d));
a=ma(e,"contentSizeChange",X.hitch(this,function(){this._redoLayoutInTimeout()}));e.own(a);a=ma(e,"dashboardElementChange",X.hitch(this,function(a){var b;if(-1!==this._dashboardEntityLongId){b=this._getWidgetIndex(e.id);e&&e.domNode&&Z.toggle(e.domNode,"dashboardElementChanged",!0);a.pageSelectorOptions&&(this._clientDefinition._currentDefinition.dashboardElements[b].pageSelectorOptions=a.pageSelectorOptions);a.chartConfig&&(this._clientDefinition._currentDefinition.dashboardElements[b].chartConfig=
a.chartConfig);a.hasOwnProperty("chartType")&&(this._clientDefinition._currentDefinition.dashboardElements[b].chartType=a.chartType);a.hasOwnProperty("chartStacking")&&(this._clientDefinition._currentDefinition.dashboardElements[b].chartStacking=a.chartStacking);a.hasOwnProperty("chartVariation")&&(this._clientDefinition._currentDefinition.dashboardElements[b].chartVariation=a.chartVariation);a.hasOwnProperty("viewDefinition")&&(this._clientDefinition._currentDefinition.dashboardElements[b].viewDefinition=
a.viewDefinition);a.size&&(this._clientDefinition._currentDefinition.dashboardElements[b].size=a.size);a.menuToolbarOptions&&(this._clientDefinition._currentDefinition.dashboardElements[b].menuToolbarOptions=a.menuToolbarOptions);a.themeId&&(this._clientDefinition._currentDefinition.dashboardElements[b].themeId=a.themeId,e.model._viewDefinition.themeId=a.themeId,this._widgets[b].themeId=a.themeId);a.hasOwnProperty("value")&&(this._clientDefinition._currentDefinition.dashboardElements[b].value=a.value);
a.hasOwnProperty("jsonProperties")&&(this._clientDefinition._currentDefinition.dashboardElements[b].jsonProperties=a.jsonProperties,this._redoLayoutInTimeout());a.hasOwnProperty("tooltip")&&(this._clientDefinition._currentDefinition.dashboardElements[b].tooltip=a.tooltip||void 0);a.hasOwnProperty("displayTooltipIcon")&&(this._clientDefinition._currentDefinition.dashboardElements[b].displayTooltipIcon=a.displayTooltipIcon||!1);try{a.size||a.themeId?a.themeId?(this.setupSpecificObservers(this.getCurrentContext()),
this._recreateDashboard()):this._doLayout(this._calculateLayout()):a.chartType&&(this.setupSpecificObservers(this.getCurrentContext()),this._recreateDashboard())}catch(d){console.error(e.id+" onDashboardElementChange doLayout failed "+d)}this._clientDefinition.invalidateCachedDirtyFlag()}}));e.own(a);a=ma(e,"dashboardElementRemove",X.hitch(this,this._onDashboardElementRemove,e));e.own(a);a=ma(e,"maximize",X.hitch(this,function(a){this._maximizeWidget(a)}));e.own(a);a=ma(e,"restore",X.hitch(this,function(){this._restore()}));
e.own(a);a=ma(e,"focus",X.hitch(this,function(){this._focusedWidgetIndex=d}));e.own(a);a=ma(e,"blur",X.hitch(this,function(){var a;if(e.hasOwnProperty("containedWidget")&&(a=e.containedWidget,X.isFunction(a.getGridController)||a instanceof h))this._lastWidgetWithFocus=e}));e.own(a);return e},_destroyDashboard:function(){this._dashboardBeingDestroyed=!0;this._maximizedElementIndex=-1;try{T.forEach(this._widgets,function(a){a&&a.destroyRecursive()}),this._elementContainer&&aa.destroy(this._elementContainer),
this._widgets=[],this._layoutPositionsArray=[],this._previousContentBox=null}catch(a){throw new A.ClientException("anaplan.tabs.Dashboard#_destroyDashboard",a);}finally{this._dashboardBeingDestroyed=!1}},_focus:function(a){var b=this._widgets||[],d=this._layoutPositionsArray||[],g=b[this._focusedWidgetIndex],e=this._scrollContainer,h;this._doLayoutFocusHandler.remove();if(!g){if(b.length!==d.length)throw new A.ClientException("anaplan/tabs/Dashboard#focus: widgets/layout mismatch");T.some(d,X.hitch(this,
function(a){var b=this._getWidget(a.widgetId).dashboardElementType;if(b===q.dashboardElementType.GRID||b===q.dashboardElementType.CELL)return this._focusedWidgetIndex=this._getWidgetIndex(a.widgetId),h=a,!0}));g=b[this._focusedWidgetIndex]}if(g){if(a&&(h=g.get("layoutBox"),h.t<e.scrollTop||h.l<e.scrollLeft||h.t+h.h>e.scrollTop+e.clientHeight||h.l+h.w>e.scrollLeft+e.clientWidth))return;g.focus()}},_forceReflow:function(a){var b,d,g;if(da("chrome")&&(b=window.navigator&&window.navigator.platform?window.navigator.platform.toLowerCase():
null,0<=b.search("win")))for(b=a.length;b--;)if(d=a[b],0<=d.search("anaplan_tabs_Dashboard_")&&(d=dijit.byId(d)))d=d.domNode,g=d.style.border,d.style.border="16px solid #fff",d.offsetHeight,d.style.border=g,d.offsetHeight},_displayProcessDialog:function(a,b,d,g){var e,h,r=this;if(!this._suspended){var t=W.activeStack;a={workspaceId:workspaceId,modelId:modelId,processEntityLongId:a,processDefinitionJson:b,processEntityLabel:d,fromButton:!0};e=M.getSharedDialog();h=new O(a);g||(g="titleAction");e.set("title",
sa[g]);e.set("refocus",!1);e.set("content",h.domNode);e.set("preventhide",!0);e.own(ma(e,"cancel",function(){h.cancelProcess()}));h.own(ma(h,"processCompletion",X.hitch(this,function(){e.hide(null,!0).then(X.hitch(r,function(){r._forceReflow(t);setTimeout(function(){J.refresh(!0)},150)}))})));h.own(ma(h,"cancel",X.hitch(this,function(){e.onCancel().then(function(){r._forceReflow(t)})})));e.show()}},_doLayout:function(a){var b=null,d,e,h,r,t;if(!a||!this._widgets.length)return b;d=a.length;b={h:0,
w:0};for(r=0;r<d;r++)e=a[r],h=this._getWidget(e.widgetId),!h||!h.domNode?console.warn(this.id+" expected to find widget with id "+e.widgetId+" and did not"):(h.set("layoutBox",e),this.containsMaximizedElement()?(Z.contains(this.domNode,"maximized")||Z.add(this.domNode,"maximized"),ea.set(h.domNode,{position:"absolute",top:e.t+"px",left:e.l+"px"}),h.pageSelectorToolbar&&1>=h.pageSelectorToolbar.getChildren().length&&(e.h-=this.scrollbarSize),t=this._getWidgetIndex(e.widgetId),this._maximizedElementIndex===
t&&h.resize({w:e.w,h:e.h})):(Z.contains(this.domNode,"maximized")&&Z.remove(this.domNode,"maximized"),ea.set(h.domNode,{position:"absolute",top:e.t+"px",left:e.l+"px","margin-top":"0px"}),h.resize({w:e.w,h:e.h}))),b.h=Math.max(b.h,e.t+e.h),b.w=Math.max(b.w,e.l+e.w);a=this.spacing;d=g.getDashboardContainerBox(this.domNode,a.horizontal,a.vertical);d.h-=this.dashboardModel.toolbarHeightPx;b.h=Math.max(b.h,d.h-20);b.w=Math.max(b.w,d.w-20);this.containsMaximizedElement()||(b.h+=a.vertical,b.w+=a.horizontal);
this._elementContainer&&ea.set(this._elementContainer,{height:b.h+"px",width:b.w+"px"});this._dashboardBox=b;this._clientDefinition._currentDefinition.dashboardElements=this._getDashboardElements();this._updateLayoutMode();this._updateDesignControls();return b},_exportDashboardToPdf:function(a,b){var d=new $,g=document.createElement("form"),e,h;g.id="formPostExport";g.action="servlet";g.method="post";g.encoding="multipart/form-data";this.domNode.appendChild(g);v.post({workspaceId:workspaceId,requestType:"PROGRESS",
modelId:modelId},!1,X.hitch(this,function(r){var t,f;r.error?d.reject(r.error):r.taskId?(r=r.taskId,t=w.getModelInfo(),t=t.modelSerialNumber,t={context:xa.stringify({workspaceId:workspaceId,modelId:modelId,modelName:modelName,modelSerialNumber:t}),taskId:r},X.mixin(t,a),h=T.map(this._widgets,function(a){return a.getPageInfo()}),e=this._getDashboardDefinitionForExport(),G.prepareForExport(e,h),f=xa.stringify(e),X.mixin(t,{exportLayout:"DASHBOARD",fileType:"PDF",dashboardDefinition:f,auditDashboardEntityLongId:b}),
Fa.send({url:"servlet?taskType\x3dexport",content:t,form:g,timeout:50,preventCache:!0}),d.resolve(r)):d.reject("no task id")}),function(a){d.reject(a)});return d},_getLayoutPositionsMap:function(a){var b={};T.forEach(a,function(a){var d=a.getArgs();b[a.id]=d.layoutPosition});return b},_getWidget:function(a){a=this._getWidgetIndex(a);return-1===a?null:this._widgets[a]},_getWidgetIndex:function(a){var b;for(b=0;b<this._widgets.length;b++)if(this._widgets[b].id===a)return b;return-1},_getInitialLayoutModeSelection:function(){var a=
this._widgets[this._focusedWidgetIndex];return a&&!a._destroyed?a:null},_layoutChildren:function(){var a,b;if(this._previousContentBox&&(a=this._previousContentBox,b=this._contentBox,a.h===b.h&&a.w===b.w)){this._previousContentBox=b;return}a={l:this._containerLeftOffsetPx,w:this._contentBox.w+q.DASHBOARD_CONTROL_PANEL_WIDTH,h:this._contentBox.h};b={w:this._contentBox.w-q.DASHBOARD_CONTROL_PANEL_WIDTH-this._containerLeftOffsetPx};var d={};this._isDetached?(b.l=0,a.l=0,d.w=0):(a.l=this._containerLeftOffsetPx,
b.w=b.w,b.l=q.DASHBOARD_CONTROL_PANEL_WIDTH,d.w=q.DASHBOARD_CONTROL_PANEL_WIDTH);ga.setMarginBox(this._outerContainer,a);ga.setMarginBox(this._scrollContainer,b);ga.setMarginBox(this._leftPanel,d);this._previousContentBox=this._contentBox;this.onUpdateMenu();this._redoLayoutInTimeout();this._quickSum&&this._quickSumContainer&&setTimeout(function(){this._quickSumContainer&&this._showQuickSum(null,this._contentBox.w)}.bind(this),500)},_saveDashboard:function(){if(this.dashboardModel.isSaving)throw Error("Cannot save while a save is already in progress.");
return new Promise(function(a,b){this.dashboardModel.isSaving=!0;var d=this._getDashboardElementsForPersistence(),d=xa.stringify({dashboardElements:d}),d=[(new z).getCellChangeGenerator().getCellChange({modelId:window.modelId,originalText:this._serverDefinition.getSeedJsonString(),entityLongIds:[this._dashboardEntityLongId,q.SYSTEM_PROPERTY_DASHBOARD_DEFINITION],cellText:d})],d=[{workspaceId:window.workspaceId,cellChanges:d,modelChanges:[]}],d=(new F({showPleaseWait:!1})).post(d);d.then(function(a){a&&
a.result&&a.result.errorInfo?b():(this._clientDefinition.replaceBaseWithCurrent(),this._serverDefinition.reset())}.bind(this));d=L.always(d,function(){this.dashboardModel.isSaving=!1;this._onDirtyFlagChanged()}.bind(this));d.then(a,b)}.bind(this))},_getDashboardElements:function(a){a=Da(this,a);V(a,this._widgets,Ba);return a},_getDashboardElementsForPersistence:function(){var a=this._getDashboardElements();if(this._widgets.length!==a.length)throw new A.ClientException("Dashboard#_getDashboardElementsForPersistence: Elements out of sync with widgets");
V(a,this._widgets,function(a,b){la(a,b);a.viewDefinition&&x.removeCurrentRootItemIdentifiers(a.viewDefinition)});return a},_getDashboardElementsForSavePersonalView:function(){var a=this._getDashboardElements();if(this._widgets.length!==a.length)throw new A.ClientException("Dashboard#_getDashboardElementsForSaveMyView: Elements out of sync with widgets");V(a,this._widgets,la);return a},_getDashboardDefinitionForComparison:function(a){a=this._getDashboardElements(a);V(a,this._widgets,function(a,b){oa(a,
b)});return{dashboardElements:a}},_getDashboardDefinitionForExport:function(){var a=Da(this),b=this._widgets;this.containsMaximizedElement()?(a=a[this._maximizedElementIndex],ua(this,a),a=[a],b=b.slice(this._maximizedElementIndex,this._maximizedElementIndex+1)):V(a,b,Ba);V(a,b,function(a,b){oa(a,b);if(a.dashboardElementType===q.dashboardElementType.CHART){var d=b.containedWidget._highChart;d&&(a.svg=d.getSVG())}});return{dashboardElements:a}},_maximizeWidget:function(a){var b;this._maximizedElementIndex=
a?this._getWidgetIndex(a.id):-1;if(this.containsMaximizedElement()){for(a=0;a<this._widgets.length;a++)a!==this._maximizedElementIndex&&(b=this._widgets[a],X.isFunction(b.suspend)?b.suspend():console.warn(this.id+" found widget with no suspend - TODO: publish?",b.id));this._doLayout(this._calculateLayout());this._widgets[this._maximizedElementIndex].set("maximized",!0)}this.onUpdateMenu()},_onDashboardElementRemove:function(a){var b;-1!==this._dashboardEntityLongId&&(b=new P({content:ha.confirmRemoveDashboardElement}),
b.on("execute",X.hitch(this,this._removeDashboardElement,a)),b.on("hide",function(){b.destroy()}),b.show())},_processActionResult:function(a){if(a&&a.hasOwnProperty("task")&&a.hasOwnProperty("result")&&null!==a.task&&null!==a.result){var b=a.task;!0===b.promptToShowNewlyCreatedItems&&this.promptToShowNewlyCreatedItems(a.result,b)}},_redoLayoutInTimeout:function(){if(!this._layoutWidget||!this._layoutWidget.isResizing())this._layoutTimer&&clearTimeout(this._layoutTimer),this._layoutTimer=setTimeout(function(){try{this._dashboardBeingDestroyed||
this._isLoading()||this._suspended||this._redoLayout()}catch(a){console.error(this.id,a)}finally{this._layoutTimer=null}}.bind(this),25)},_redoLayout:function(){this._doLayout(this._calculateLayout());this._layoutMode&&(this._setLayoutMode(!1),this._setLayoutMode(!0))},refreshAllGridsAndCharts:function(){var a=!1;T.forEach(this.getChildren(),function(b){var d=null;b.containedWidget&&b.containedWidget.getGridController?d=b.containedWidget.getGridController():b.containedWidget&&b.containedWidget.getChartController&&
(d=b.containedWidget.getChartController());null!==d&&(d.refresh(!0),a=!0)});return a},_removeDashboardElement:function(a){var b,d;b=this._getWidgetIndex(a.id);this._widgets[b].destroyRecursive();this._widgets.splice(b,1);this._clientDefinition._currentDefinition.dashboardElements.splice(b,1);b=new r({widgets:this._widgets,spacing:this.spacing});d=this._getLayoutPositionsMap(this._widgets);b.normalizeLayoutPositions(d);try{this._layoutWidget&&(this._layoutWidget.set("selected",null),this._focusedWidgetIndex=
-1),this._doLayout(this._calculateLayout()),this._clientDefinition.invalidateCachedDirtyFlag()}catch(g){this._hideLoadSaveIndicator(),M.showErrorReporter(new A.ClientException("anaplan.tabs.Dashboard: attempt to layout failed",g,{widgetId:a.id}))}},_removeLeftPanelBoxShadow:function(){ea.set(this._leftPanel,"box-shadow",null)},_removeLeftPanelShadowHandler:function(){this._removeLeftPanelBoxShadow();this._scrollContainerEventHandle&&this._scrollContainerEventHandle.remove()},_restore:function(){var a,
b;this._widgets[this._maximizedElementIndex].set("maximized",!1);this._maximizedElementIndex=-1;this._doLayout(this._calculateLayout());for(a=0;a<this._widgets.length;a++)b=this._widgets[a],X.isFunction(b.resume)?b.resume():console.warn(this.id+" _restore found widget without resume TODO: publish?",b.id);this.onUpdateMenu()},_onDirtyFlagChanged:function(){this.onUpdateMenu();var a=this.isEdited();this._lastBroadcastEditedFlag!==a&&this.publishClientDashboardDefinitionStateChange()},publishClientDashboardDefinitionStateChange:function(){var a=
this.isEdited();this._lastBroadcastEditedFlag=a;na.publish("anaplan/tabs/"+M.generateId(this._dashboardEntityLongId)+"/clientDashboardDefinitionStateChange",a)},_updateWidgetMenus:function(a){H.isNullOrUndefined(a)&&(a=!1);T.forEach(this._widgets,X.hitch(this,function(b){var d=b.containedWidget;d&&d.populateContextMenu&&(d.populateContextMenu(this._dashboardDesignMode),b.getArgs&&d.setMenuToolbarOptions(a&&b.containedWidget._menuToolbarOptions?xa.stringify(b.containedWidget._menuToolbarOptions):b.getArgs().menuToolbarOptions))}))},
_updateWidgetToolbars:function(a){T.forEach(this._widgets,function(b){(b=b.containedWidget)&&b.enableDisableToolbarButtons&&b.enableDisableToolbarButtons(a)})},_expandDesignControlsPanel:function(){this._dashboardDesignControls.watchDashboard(this._layoutWidget);return this._slideDesignControlsIn()},_minimizeDesignControlsPanel:function(){return this._slideDesignControlsOut(!0).then(function(){this._dashboardDesignControls.unwatchDashboard(!0)}.bind(this))},_setControlPanelMinimized:function(a){this._isControlPanelMinimized=
a},_activateDesignControlsSlideAnimation:function(a){var b=new $;this._ddmSlideAnimation=b;var d=qa.slideTo(X.mixin(a,{onEnd:function(){this._ddmSlideAnimation=null;b.resolve()}.bind(this)}));setTimeout(function(){d.play()},0);return b.promise},_doDesignControlsSlideAnimation:function(a){var b=a?0:-q.DASHBOARD_CONTROL_PANEL_WIDTH;a=this._outerContainer;var d=this._scrollContainer,g=ga.getMarginSize(this.domNode);a={onAnimate:X.hitch(this,function(a){this._containerLeftOffsetPx=H.pxSizeToNumber(a.left)}),
node:a,duration:q.DASHBOARD_CONTROL_SLIDE_DURATION_MS,easing:ka.quadIn(),left:b};return this._activateDesignControlsSlideAnimation(a).then(function(){ga.setContentSize(d,{w:g.w-q.DASHBOARD_CONTROL_PANEL_WIDTH-b});this.onUpdateMenu()}.bind(this))},_slideDesignControlsIn:function(){return this._doDesignControlsSlideAnimation(!0)},_slideDesignControlsOut:function(){return this._doDesignControlsSlideAnimation(!1)},_setPreviewMode:function(a){if(a&&this._previewMode||!a&&!this._previewMode||null!==this._ddmSlideAnimation)return L.resolve();
this._previewMode=a;this._dashboardDesignMode=!a;this.onUpdateMenu();this._updateWidgetMenus(!0);this._updateWidgetToolbars(this._dashboardDesignMode);var b=a?null:this._getInitialLayoutModeSelection();this._setLayoutMode(!a,b);if(a)return this._minimizeDesignControlsPanel();if(this.isSettingsPanelExpanded())return this._expandDesignControlsPanel();this._dashboardDesignControls.unwatchDashboard(!1);return L.resolve()},_setDashboardDesignMode:function(a){this._dashboardDesignMode=a;this._previewMode=
!1;this._updateWidgetMenus(!0);this._updateWidgetToolbars(a);if(a){this._setControlPanelMinimized(!1);var b=this._getInitialLayoutModeSelection();this._initLeftPanel(b);this._setLayoutMode(a,b);return this._expandDesignControlsPanel().then(function(){this.setCurrentContextAsBaseLine()}.bind(this))}return this._minimizeDesignControlsPanel().then(function(){this._setLayoutMode(a);this._destroyLeftPanel();this.setCurrentContextAsBaseLine()}.bind(this))},_initLeftPanel:function(a){this._createLeftPanelShadowHandler();
null===this._dashboardDesignControls&&(this._dashboardDesignControls=new b({idPrefix:"DashDesign",container:this._leftPanel,selected:a}),this._dashboardDesignControls.startup(),this.own(ma(this._dashboardDesignControls,"CloseDesigner",function(){this._onControlPanelToggle()}.bind(this))))},_destroyLeftPanel:function(){this._removeLeftPanelShadowHandler();this._dashboardDesignControls&&(this._dashboardDesignControls.destroyRecursive(),this._dashboardDesignControls=null)},_updateDesignControls:function(){this._dashboardDesignControls&&
this._dashboardDesignControls.updateValues()},_setLayoutMode:function(a,b){var e,h;a&&this._layoutWidget||!a&&!this._layoutWidget||(a?this._destroyQuickSum():this._createQuickSum(),this.domNode&&Z.toggle(this.domNode,"dashboardDesignMode",a),a?(e=this._getLayoutPositionsMap(this._widgets),h=document.createElement("div"),Z.add(h,"dashboardLayout"),aa.place(h,this._elementContainer,"first"),ga.setMarginBox(h,ga.getContentBox(this._elementContainer)),e=new d({dashboardBox:this._dashboardBox,layout:this._layoutPositionsArray,
layoutPositionMap:e,widgets:this._widgets,spacing:this.spacing,initialSelection:b,scrollContainer:this._scrollContainer},h),e.own(ma(e,"error",X.hitch(this,function(a){L.always(this._setDashboardDesignMode(!1),X.hitch(this,function(){this._hideLoadSaveIndicator();M.showErrorReporter(a)})).otherwise(L.resolve)})),ma(e,"change",X.hitch(this,function(a){var b=this.spacing,d,e,h;try{d=g.getDashboardContainerBox(this.domNode,b.horizontal,b.vertical),h=this._getLayoutPositionsMap(this._widgets),e=new r({containerBox:d,
widgets:this._widgets,spacing:b}),e.applyElementChange(h,a),this._doLayout(this._calculateLayout()),this._clientDefinition.invalidateCachedDirtyFlag()}catch(t){this._hideLoadSaveIndicator(),M.showErrorReporter(new A.ClientException(ha.layoutWidgetError,t,{widgetId:this.id}))}}))),e.startup(),this._layoutWidget=e,this._dashboardDesignControls.watchDashboard(this._layoutWidget)):(this._dashboardDesignControls.unwatchDashboard(!1),this._layoutWidget&&(this._layoutWidget.destroy(),this._layoutWidget=
null)),this.domNode&&T.forEach(this._widgets,function(b){b&&b.dashboardElementType===q.dashboardElementType.STATIC_TEXT&&b.setReadOnly(!a)}))},_setLeftPanelBoxShadow:function(a){this._shadowBlurRadius=a;ea.set(this._leftPanel,"box-shadow","0 0 "+a+"px #333333")},_setViewInfos:function(a){for(var b=E.getDefaultThemeIdFromModelProperties(),d=0;d<a.length;++d){var g=a[d];g.dashboardElementType===q.dashboardElementType.GRID&&H.isUndefined(g.themeId)&&(g.themeId=b)}this._clientDefinition.addNewElements(a);
this._focusedWidgetIndex=this._clientDefinition.elementCount()-1},publishItemsToDashboard:function(a,b){if(this.dashboardModel.isMasterView)return this.containsMaximizedElement()&&this._restore(),this._setViewInfos(a),this.setupDefaultObservers(),this._enterDesignModeOnLoad=!0,this._recreateDashboard()},_showLoadingIndicator:function(){this._showLoadSaveIndicator(Ca.loadingState)},_showClosingIndicator:function(){this._layoutWidget&&(this._layoutWidget.set("selected",null),this._focusedWidgetIndex=
-1);this._showLoadSaveIndicator(ha.savingAndClosingState)},_showLoadSaveIndicator:function(a){if(!this.checkIfClosing()&&!this._loadingIndicator){this._loadingIndicator=aa.create("div",null,this._scrollContainer);var b=this.isSettingsPanelExpanded()?"calc(100% + "+q.DASHBOARD_CONTROL_PANEL_WIDTH+"px)":"100%";ea.set(this._loadingIndicator,{width:b,height:"100%",backgroundColor:"white",position:"absolute",top:"0",left:"0",zIndex:"1001"});b=aa.create("div",{"class":"loadingMessage"},this._loadingIndicator);
b=aa.create("span",{"class":"loadingMessageLabel"},b);K.add(b,"dashboard-loading-message");M.setText(b,a)}},_hideLoadSaveIndicator:function(){!this.checkIfClosing()&&this._loadingIndicator&&(aa.destroy(this._loadingIndicator),this._loadingIndicator=null)},_updateLayoutMode:function(){var a;this._layoutWidget&&(a=this._layoutWidget.get("selected"),this._setLayoutMode(!1),this._setLayoutMode(!0,a))},_updateTextElement:function(a){var b=this._getWidgetIndex(a.id),d=this._getDashboardElements();null!==
a.value&&void 0!==a.value?d[b].value=a.value:d[b].styleName=a.styleName;this._clientDefinition._currentDefinition.dashboardElements=d;this._clientDefinition.invalidateCachedDirtyFlag()},_getWidgetDefinition:function(a){if(this._clientDefinition._currentDefinition){var b=X.clone(this._clientDefinition._currentDefinition.dashboardElements[a]),d=this._widgets[a];if(!d)throw Error("Expected to find a widget at index "+a);Ba(b,d);oa(b,d);return b}return{}},dashboardModel:null,spacing:null,scrollbarSize:15,
_dashboardDesignControls:null,_enterDesignModeOnLoad:!1,_initialModelObservers:null,_state:null,_loading:null,_clientDefinition:null,_lastBroadcastEditedFlag:null,_serverDefinition:null,_createContentOnResume:!1,_containerLeftOffsetPx:-q.DASHBOARD_CONTROL_PANEL_WIDTH,_ddmSlideAnimation:null,_isControlPanelMinimized:!1})})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(l,s,
p,q,f,k,n){return p("dijit.tree.ObjectStoreModel",n,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(k){f.mixin(this,k);this.childrenCache={}},getRoot:function(m,h){if(this.root)m(this.root);else{var e=this.store.query(this.query);e.then&&this.own(e);k(e,f.hitch(this,function(g){if(1!=g.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+g.length+" items, but must return exactly one");this.root=g[0];m(this.root);e.observe&&e.observe(f.hitch(this,
function(d){this.onChange(d)}),!0)}),h)}},mayHaveChildren:function(){return!0},getChildren:function(m,h,e){var g=this.store.getIdentity(m);if(this.childrenCache[g])k(this.childrenCache[g],h,e);else{var d=this.childrenCache[g]=this.store.getChildren(m);d.then&&this.own(d);d.observe&&this.own(d.observe(f.hitch(this,function(a,g,b){this.onChange(a);g!=b&&k(d,f.hitch(this,"onChildrenChange",m))}),!0));k(d,h,e)}},isItem:function(){return!0},getIdentity:function(f){return this.store.getIdentity(f)},getLabel:function(f){return f[this.labelAttr]},
newItem:function(f,h,e,g){return this.store.put(f,{parent:h,before:g})},pasteItem:function(k,h,e,g,d,a){var r=new q;if(h===e&&!g&&!a)return r.resolve(!0),r;h&&!g?this.getChildren(h,f.hitch(this,function(b){b=[].concat(b);var d=l.indexOf(b,k);b.splice(d,1);this.onChildrenChange(h,b);r.resolve(this.store.put(k,{overwrite:!0,parent:e,oldParent:h,before:a}))})):r.resolve(this.store.put(k,{overwrite:!0,parent:e,oldParent:h,before:a}));return r},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},
"anaplan/utils/ChangeValidator":function(){define("anaplan/constants anaplan/utils/CookieHelper dojo/_base/declare dojo/_base/lang dojo/cookie dojo/json".split(" "),function(l,s,p,q,f,k){return p("anaplan.utils.ChangeValidator",null,{addValidator:function(f){this._validators.push(f)},constructor:function(f){this._validators=f.validators||[];this._confirmationKeys=[]},disableLastConfirmations:function(){if(f.isSupported()&&0<this._confirmationKeys.length){var k=(s.loadCookie(l.DISABLED_CONFIRMATIONS_COOKIE)||
[]).concat(this._confirmationKeys);s.createCookie(l.DISABLED_CONFIRMATIONS_COOKIE,k)}},validateUpdatesCache:function(f,k){this._confirmationKeys=[];for(var h=s.loadCookie(l.DISABLED_CONFIRMATIONS_COOKIE),e={},g=this._validators,d=g.length,a,r,b,t=0;t<d;t++)for(r in a=g[t],a.setDisabledConfirmationKeys(h),a)if(r&&0===r.search(/^(confirm|validate)/)&&(b=a[r],"function"===typeof b)){b=b.apply(a,[f,k]);for(var u in b)b.hasOwnProperty(u)&&this._confirmationKeys.push(a.name+"."+b[u]);q.mixin(e,b)}var h=
[],v;for(v in e)e.hasOwnProperty(v)&&h.push(v);return h}})})},"anaplan/api/Entities/LineItems":function(){define(["dojo/_base/declare","anaplan/utils/JsHelper","./Base/LabelPageWithInfos"],function(l,s,p){return l([p],{_populateInfo:function(l){var f=this.inherited(arguments);s.isObject(l)?(f.hasFormula=l.formula&&0<l.formula.length,f.formula=l.formula,f.formulaScope=l.formulaScope,f.isSummary=l.isSummary,f.resolvedFormulae=l.resolvedFormulae,f.parentLineItemEntityLongId=l.parentLineItemEntityLongId,
f.format=l.format):console.warn("Expected an info for the Line Item when trying to _populateInfo");return f}})})},"anaplan/data/ItemsFactory":function(){define(["anaplan/Exceptions","dojo/_base/declare"],function(l,s){return s("anaplan.data.ItemsFactory",null,{createLabelItems:function(p,q){if(isNaN(p)||null===p||1>p)throw new l.InvalidArgumentException("anaplan.data.ItemsFactory#createLabelItems: invalid nesting argument",{value:p});if(isNaN(q)||null===q||0>q)throw new l.InvalidArgumentException("anaplan.data.ItemsFactory#createLabelItems: invalid count argument",
{value:q});return{count:q,entityIds:this._createArrays(p,q,null),entityLongIds:this._createArrays(p,q,-1),entityCodes:this._createArrays(p,q,null),parentEntityLongIds:this._createArrays(p,q,-1),entityTypes:this._createArrays(p,q,null),isEditable:this._createArrays(p,q,!1),isItemEditable:this._createArrays(p,q,!1),isAggregate:this._createArrays(p,q,!1),labels:this._createArrays(p,q,null),originalLabels:this._createArrays(p,q,null),styles:this._createArrays(p,q,null),treeLineSequences:this._createArrays(p,
q,null),canDelete:this._createArrays(p,q,!1),canInsertSibling:this._createArrays(p,q,!1),breakBack:this._createArrays(p,q,null)}},createDataItems:function(p){if(isNaN(p)||null===p||0>p)throw new l.InvalidArgumentException("anaplan.data.ItemsFactory#createDataItems: invalid count argument",{value:p});return{count:p,cellText:Array(p),cellValues:Array(p),comparisonStates:Array(p),comparisonValues:Array(p),comparisonResult:Array(p),formats:Array(p),isCalculated:Array(p),isEditable:Array(p),originalText:Array(p),
styles:Array(p),writeableLeafCellCounts:Array(p),bgColors:Array(p),breakBack:Array(p)}},_createArrays:function(l,q,f){var k=Array(l),n,m,h;for(n=0;n<l;n++){m=Array(q);for(h=0;h<m.length;h++)m[h]=f;k[n]=m}return k}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(l,s,p,q){return l("dijit.form._ListMouseMixin",q,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown",
"_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(f,k){this._setSelectedAttr(k,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(k)})},_onMouseDown:function(f,k){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(k,!1)},_onMouseUp:function(f,
k){this._isDragging=!1;var n=this.selected,m=this._hoveredNode;n&&k==n?this.defer(function(){this._onClick(f,n)}):m&&this.defer(function(){this._onClick(f,m)})},_onMouseOut:function(f,k){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(f,k){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=k;this.onHover(k);this._isDragging&&
this._setSelectedAttr(k,!1)}})})},"anaplan/dashboard/dashboardWidgets/_PieChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/Pie","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._PieChart",[s,l],{})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,s){return l("RequestTimeoutError",null,s,{dojoType:"timeout"})})},"anaplan/charts/_HighChartlet":function(){define("anaplan/charts/ChartController anaplan/charts/HighChartsHelper anaplan/charts/ViewRequestChartletModel anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/LabelPageHelper anaplan/utils/UIHelper dijit/layout/_LayoutWidget dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/highchartlet dojo/i18n!dijit/nls/loading dojo/topic dojox/lang/functional highcharts/anaplan-highcharts".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return b([a],{constructor:function(a){this._model=a.model?a.model:new p(t.mixin(a,{maxRowsToRequestFromServer:s.getMaxRowsToRequestFromServer(a.chartType)}));this._originalChartConfig=t.clone(a.chartConfig);this._highchartsOptions=a.chartConfig;this._viewDefinition=a.viewDefinition||null;this._showPageLabels=a.showPageLabels||!1;this._showModuleName=a.showModuleName||!1;this._informationMessage=null},startup:function(){this.inherited(arguments);
this._chartController=new l({model:this._model,chart:this})},onDisablePublishButtons:function(){},error:function(){console.error(this.id)},getChartController:function(){return this._chartController},getModel:function(){return this._model},layout:function(){if(this._chartContainer){var a=z.getMarginBox(this._chartContainer);if(a.w!==this._contentBox.w||a.h!==this._contentBox.h)z.setMarginBox(this._chartContainer,this._contentBox),this._model&&(this.reset(),this._model.getValues())}},onError:function(){},
onInformationMessageChange:function(a){},onUpdate:function(){},postCreate:function(){this.inherited(arguments);this._model.addObserver(this);this._isObserver=!0;y.set(this.domNode,"position","relative");this._createChartContainer();this._createWaitMessage();this._showWaitMessage();this.own(A.subscribe("anaplan/"+this.id+"/suspend",t.hitch(this,"_suspend")),A.subscribe("anaplan/"+this.id+"/resume",t.hitch(this,"_resume")),A.subscribe("anaplan/"+this.id+"/globalContext",t.hitch(this,"_setGlobalContext")))},
reset:function(){this._count=-1;this._serialNumbers=null;this._showWaitMessage()},setChartOptions:function(a){this._originalChartConfig=t.clone(a);this._highchartsOptions=a},setViewDefinition:function(a){this._model.setViewDefinition(a)},uninitialize:function(){this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=null);this._isObserver&&this._model.deleteObserver(this);this._model.destroy();this._model=null;this._highChart&&(this._highChart.destroy(),this._highChart=null);this._chartController&&
(this._chartController.destroy(),this._chartController=null);this.inherited(arguments)},update:function(a){if(this.domNode&&a&&a[0]&&a[0].columns&&a[0].rows){var b=this._model.getSerialNumbers();if(!this._serialNumbers||this._serialNumbers.pageInfoSerialNumber!==b.pageInfoSerialNumber||this._serialNumbers.rowAxisSerialNumber!==b.rowAxisSerialNumber||this._serialNumbers.columnAxisSerialNumber!==b.columnAxisSerialNumber){if(this._createChart(a),this._serialNumbers=b,this.chartType!==q.chartType.COLUMNRANGE&&
this.chartType!==q.chartType.MAP){b=this._getInformationMessage(a[0],this._model.getPageInfo());if(b!==this._informationMessage)this.onInformationMessageChange(b);this._informationMessage=b}}else this._serialNumbers.dataSerialNumber!==b.dataSerialNumber&&this._updateChart(a),this._serialNumbers=b;this._hideWaitMessage();this.onUpdate(a)}},view:function(){console.warn(this.id+" view: did not expect to be called; are we sure using ViewRequestChartletModel not PagingChartModel?")},_applyLegendVisibilityTo:function(a,
b){a===q.chartType.PIE?this._highchartsOptions.legend&&this._highchartsOptions.legend.visibility&&D.forIn(this._highchartsOptions.legend.visibility,function(a){b.series[0].data[a.index]&&a.hidden&&(b.series[0].data[a.index].visible=!1)}):this._highchartsOptions.legend&&this._highchartsOptions.legend.visibility&&D.forIn(this._highchartsOptions.legend.visibility,function(a){b.series[a.index]&&a.hidden&&(b.series[a.index].visible=!1)})},_assertSeries:function(a){var b,d,g;if(!a||!a.length)return!1;g=
a.length;for(b=0;b<g;b++)if(d=a[b],!d||!d.data||!d.data.length)return!1;return!0},_createChart:function(a){var b=q.chartOptions,g,e,h,r,f,k;try{if(this._chartContainer){g=a[0];e=a[1];this._highChart&&(this._highChart.destroy(),this._highChart=null);h=this._getChartOptions(g,e);if(!h)return this.onDisablePublishButtons(),this._displayMessage(s.getInvalidSelectionMessage()),!1;h.series&&h.series.forEach(function(a,b){a._colorIndex=b%9});h.legend.y=!0===this.chartConfig.dialogChart2&&"top"===h.legend.verticalAlign?
b.legendYPosition.POPUP:"top"===h.legend.verticalAlign&&"undefined"===typeof h.legend.y?h.plotOptions.pie?b.legendYPosition.PIE:b.legendYPosition.DEFAULT:0;r=this._getSubTitleYPosition();f={subtitle:{text:this._getSubTitle(e,g),y:r},title:{text:this._getTitle(g)}};k=t.mixin(this._options||{},f,h);this._applyLegendVisibilityTo(this.chartType,k);this._createHighchartsChart(k)}}catch(u){d.showErrorReporter(new m.ClientException(this.id+"_createChart",u,{widgetId:this.id}))}},_createChartContainer:function(){this._chartContainer=
v.create("div",null,this.domNode)},_createHighchartsChart:function(a){try{t.mixin(this._highchartsOptions,a),this._highChart=new Highcharts.Chart(a)}catch(b){d.showErrorReporter(new m.ClientException(this.id+"_createHighchartsChart",b,{widgetId:this.id}))}},_createWaitMessage:function(){var a=document.createElement("div"),b=document.createElement("div"),d=document.createElement("span");y.set(a,"overflow","hidden");y.set(a,"width","100%");y.set(a,"height","100%");y.set(a,"paddingTop","50px");u.add(b,
"loadingMessage");u.add(d,"loadingMessageLabel");d.innerHTML=x.loadingState;b.appendChild(d);a.appendChild(b);v.place(a,this.domNode);this._waitMessage=a},_displayMessage:function(a){var b=document.createElement("div");v.place(b,this._chartContainer,"only");y.set(b,"paddingTop","40px");y.set(b,"paddingLeft","18px");b.innerHTML=a;this.onError()},_getCategories:function(a,b){var d=null,d=this._model.isLineItemsOnColumns()&&!n.axisSpecificationContainsEmpty(b.rowAxisSpecification)?s.cleanUpChartLabels(a.rows,
0):this._model.isLineItemsOnRows()&&!n.axisSpecificationContainsEmpty(b.columnAxisSpecification)?s.cleanUpChartLabels(a.columns,0):n.axisSpecificationContainsEmpty(b.columnAxisSpecification)||n.axisSpecificationContainsEmpty(b.rowAxisSpecification)?[" "]:s.cleanUpChartLabels(a.columns,0);return r.map(d,function(a){return s.getLabel(a)})},_getChartOptions:function(){},_getInformationMessage:function(a,b){var d=[];try{a.dataRowCount>a.rowCount&&d.push(a.rowCount+" rows are shown from "+n.getSingleDimensionLabelFromAxisSpecification(k,
b.rowAxisSpecification,0)),a.dataColumnCount>a.columnCount&&d.push(a.columnCount+" columns are shown from "+n.getSingleDimensionLabelFromAxisSpecification(k,b.columnAxisSpecification,0))}catch(g){console.error(this.id+"_getInformationMessage ",g)}return d.length?d.join("\x3cbr\x3e"):null},_getSubTitle:function(a){if(!this._showPageLabels||!a)return null;a=a.currentPageLabels;if(!a||!a.labels)return null;a=r.map(a.labels[0],function(a){return 24<(a&&a.length)?a.substring(0,20)+"...":a||"-"});return e.escapeHTML(a.join(", "))},
_getSubTitleYPosition:function(){var a;!0===this.chartConfig.dialogChart2?a=q.chartOptions.subtitleYPosition.POPUP:(a=q.chartOptions.subtitleYPosition.DEFAULT,delete this.chartConfig.dialogChart2);return a},_getTitle:function(){var a=[],b;this._showModuleName&&(b=this._model.getModuleEntityLongId(),a.push(n.getModuleLabel(k,b)));b=this._model.getViewDefinition();n.isSubsidiaryView(b)&&(b=this._model.getLineItemEntityLongIdForPageInfo(),a.push(s.getLineItemLabel(b,this._model.getModuleEntityLongId())));
return a.join(" - ").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;")},_hideWaitMessage:function(){this._waitMessage.style.display="none";this._chartContainer.style.display=""},_pointClick:function(a){var b=this.itemContext,b=b[b.length-1];A.publish("anaplan/global/context",{label:b.label,entityLongId:b.entityLongId},b.axisIdentifier,a);f.gather()},_resume:function(){this._suspended?(this._model.resume(),this._suspended=!1):console.warn(this.id+" resume called when not suspended. NOOP")},_setGlobalContext:function(a,
b,d){!(d&&d===this.id)&&this._model.setPageSelectorEntityLongId(a.entityLongId,b)&&(this.reset(),this._model.reset(),this._model.resetViewDefinitionSerialNumber())},_setupItemClickHandler:function(a,b){var d=this,g=b.plotOptions,e=q.chartType,h=function(){var b=this.name,g,h;d._highchartsOptions.legend||(d._highchartsOptions.legend={});g=d._highchartsOptions.legend;g.visibility||(g.visibility={});h=g.visibility;h[b]||(h[b]={});h[b].hidden=this.visible;a===e.PIE?r.forEach(this.series.data,function(a,
d){if(a.name===b)return h[b].index=d,!1}):h[b].index=this.index};g&&g.series&&(g=g.series,a===e.PIE?(g.point||(g.point={}),g.point.events||(g.point.events={}),g.point.events.legendItemClick=h):(g.events||(g.events={}),g.events.legendItemClick=h))},_showWaitMessage:function(){this._waitMessage.style.display="";this._chartContainer.style.display="none"},_suspend:function(){this._suspended?console.warn(this.id+" suspend"):(this._model.suspend(),this._suspended=!0)},_updateChart:function(a){var b,g;try{if(!this._highChart)return this._createChart(a);
b=a[0];g=a[1];this._updateSeries(b,g)&&(this._applyLegendVisibilityTo(this.chartType,this._highChart),this._highChart.redraw())}catch(e){d.showErrorReporter(new m.ClientException(this.id+" _updateChart",e,{widgetId:this.id}))}},_updateSeries:function(){console.warn("anaplan.charts._HighChartlet._updateSeries should be overridden in class "+this.declaredClass);return!1}})})},"anaplan/dashboard/DesignControlsEmpty":function(){define("anaplan/utils/UIHelper dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/text!anaplan/templates/dashboard/DesignControlsEmpty.html dojo/i18n!anaplan/nls/dashboard".split(" "),
function(l,s,p,q,f,k,n,m){return s([p,q,f,k],{baseClass:"DashboardDesignControlsEmpty",templateString:n,heading:null,bodyText:null,postCreate:function(){l.setText(this.heading,m.designControlsEmptyHeading);l.setText(this.bodyText,m.designControlsEmptyBody)}})})},"anaplan/widgets/QuickFilter/ArityTwoContainer":function(){define("anaplan/utils/JsHelper dijit/_Container dijit/_FocusMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,q,f,k){return f([q,s,p],{baseClass:"arityTwoEditor",
value:null,focus:function(){if(this.getChildren().length){var f=this.getChildren()[0];f.hasOwnProperty("focusNode")&&f.focusNode.select()}else this.domNode.focus()},validate:function(){return this.getChildren().length?!this.getChildren().some(function(f){return k.isFunction(f.validate)?!f.validate():!1}):!1},_getValueAttr:function(){return this.getChildren().map(function(f){return f.get("value")}).filter(function(f){return!l.isNullOrUndefined(f)})}})})},"anaplan/utils/WorkflowEntityHelper":function(){define(["dojo/_base/declare"],
function(l){return l("anaplan.utils.WorkflowEntityHelper",[],{getIconClass:function(l,p){return!l?null:"Not Started"==l?p?["anaplanWorkflowIcon",p," WorkflowNotStarted",p].join(""):"anaplanWorkflowIcon WorkflowNotStarted":"In Progress"==l?p?["anaplanWorkflowIcon",p," WorkflowInProgress",p].join(""):"anaplanWorkflowIcon WorkflowInProgress":"Complete"==l?p?["anaplanWorkflowIcon",p," WorkflowComplete",p].join(""):"anaplanWorkflowIcon WorkflowComplete":p?["anaplanWorkflowIcon",p," Workflow",l,p].join(""):
["anaplanWorkflowIcon Workflow",l].join("")},getImage:function(l){return!l?null:"Not Started"==l?"Workflow - Not Started.bmp":"In Progress"==l?"Workflow - In Progress.bmp":"Complete"==l?"Workflow - Complete.bmp":["Workflow ",l,".bmp"].join("")},getCellText:function(l,p){return p?l:!l?null:l}})})},"anaplan/dashboard/dashboardState/ClientDefinition":function(){define(["anaplan/dashboard/DashboardHelper","anaplan/utils/JsHelper","dojo/_base/declare","dojo/json"],function(l,s,p,q){s=p([],{constructor:function(f,
k){this._dashboard=f;this._currentDefinition=k;this._dirtyFlagCache=!1},destroy:function(){this._currentDefinition=this._baseDefinition=this._dashboard=null},stateIsValid:function(){return null!==this._baseHash},hasNewElements:function(){return 0<this._elementsAddedWhenInvalid},addNewElements:function(f){this._currentDefinition.dashboardElements=this._currentDefinition.dashboardElements.concat(f);this.stateIsValid()||(this._elementsAddedWhenInvalid+=f.length);this._dirtyFlagHint=!0;this.invalidateCachedDirtyFlag()},
elementCount:function(){return!this._currentDefinition||!this._currentDefinition.dashboardElements?!0:this._currentDefinition.dashboardElements.length},invalidateCachedDirtyFlag:function(){this._dirtyFlagCache=null;null!==this._baseHash&&this._dashboard._updateWidgetChangedState();this._dashboard._onDirtyFlagChanged()},replaceBaseWithCurrent:function(){var n=this._dashboard._getDashboardDefinitionForComparison();this._baseDefinition=f.apply(n);this._baseHash=k.apply(this._baseDefinition);this._elementsAddedWhenInvalid=
0;this.invalidateCachedDirtyFlag()},reset:function(f){this._currentDefinition=f;this._baseDefinition=this._baseHash=null;this._elementsAddedWhenInvalid=0;this._dirtyFlagHint=!1;this.invalidateCachedDirtyFlag()},isWidgetChanged:function(n){if(!this._dashboard._widgets[n]||!this._baseDefinition)return n>=this._currentDefinition.dashboardElements.length-this._elementsAddedWhenInvalid;if(!this._baseDefinition.dashboardElements)return!0;var m=f.apply(this._dashboard._getWidgetDefinition(n));n=f.apply(this._baseDefinition.dashboardElements[n]);
m=k.apply(m);n=k.apply(n);return m!==n},isDirty:function(){if(!this.stateIsValid())return this._dirtyFlagHint;if("boolean"===typeof this._dirtyFlagCache)return this._dirtyFlagCache;if(null===this._baseHash)throw Error("Server state is currently unknown.");var n=this._dashboard._getDashboardDefinitionForComparison(),n=f.apply(n);null===n&&(n={});n=k.apply(n);return this._dirtyFlagCache=this._baseHash!==n},setBaseDefinitionOnce:function(n){null===this._baseHash&&(n=f.apply(n),null===n&&(n={}),this._baseDefinition=
n,this._baseHash=k.apply(n),this._dirtyFlagHint=!0)},_baseDefinition:null,_baseHash:null,_dirtyFlagCache:null,_dirtyFlagHint:!1,_elementsAddedWhenInvalid:0,_dashboard:null,_currentDefinition:null});var f=l.createNormalizedDashboardDefinitionTransformer(),k=l.createHashTransformer();return s})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(l,s,p,q,f,k,n,m,h){function e(b,
d,g,e){return e.replace(/([a-z])\1*/ig,function(h){var r,f,k=h.charAt(0);h=h.length;var m=["abbr","wide","narrow"];switch(k){case "G":r=d[4>h?"eraAbbr":"eraNames"][0>b.getFullYear()?0:1];break;case "y":r=b.getFullYear();switch(h){case 1:break;case 2:if(!g.fullYear){r=String(r);r=r.substr(r.length-2);break}default:f=!0}break;case "Q":case "q":r=Math.ceil((b.getMonth()+1)/3);f=!0;break;case "M":case "L":r=b.getMonth();3>h?(r+=1,f=!0):(k=["months","L"==k?"standAlone":"format",m[h-3]].join("-"),r=d[k][r]);
break;case "w":r=a._getWeekOfYear(b,0);f=!0;break;case "d":r=b.getDate();f=!0;break;case "D":r=a._getDayOfYear(b);f=!0;break;case "e":case "c":if(r=b.getDay(),2>h){r=(r-q.getFirstDayOfWeek(g.locale)+8)%7;break}case "E":r=b.getDay();3>h?(r+=1,f=!0):(k=["days","c"==k?"standAlone":"format",m[h-3]].join("-"),r=d[k][r]);break;case "a":k=12>b.getHours()?"am":"pm";r=g[k]||d["dayPeriods-format-wide-"+k];break;case "h":case "H":case "K":case "k":f=b.getHours();switch(k){case "h":r=f%12||12;break;case "H":r=
f;break;case "K":r=f%12;break;case "k":r=f||24}f=!0;break;case "m":r=b.getMinutes();f=!0;break;case "s":r=b.getSeconds();f=!0;break;case "S":r=Math.round(b.getMilliseconds()*Math.pow(10,h-3));f=!0;break;case "v":case "z":if(r=a._getZone(b,!0,g))break;h=4;case "Z":k=a._getZone(b,!1,g);k=[0>=k?"+":"-",n.pad(Math.floor(Math.abs(k)/60),2),n.pad(Math.abs(k)%60,2)];4==h&&(k.splice(0,0,"GMT"),k.splice(3,0,":"));r=k.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+e);}f&&
(r=n.pad(r,h));return r})}function g(a,d,g,e){var h=function(a){return a};d=d||h;g=g||h;e=e||h;var r=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);s.forEach(r,function(a,b){a?(r[b]=(f?g:d)(a.replace(/''/g,"'")),f=!f):r[b]=""});return e(r.join(""))}function d(a,d,g,e){e=k.escapeString(e);g.strict||(e=e.replace(" a"," ?a"));return e.replace(/([a-z])\1*/ig,function(e){var h;h=e.charAt(0);var r=e.length,f="",k="";g.strict?(1<r&&(f="0{"+(r-1)+"}"),2<r&&(k="0{"+(r-2)+"}")):(f="0?",k="0{0,2}");switch(h){case "y":h=
"\\d{2,4}";break;case "M":case "L":h=2<r?"\\S+?":"1[0-2]|"+f+"[1-9]";break;case "D":h="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+k+"[1-9]";break;case "d":h="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":h="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":h=".+?";break;case "h":h="1[0-2]|"+f+"[1-9]";break;case "k":h="1[01]|"+f+"\\d";break;case "H":h="1\\d|2[0-3]|"+f+"\\d";break;case "K":h="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":h="[0-5]\\d";break;case "S":h="\\d{"+r+"}";
break;case "a":r=g.am||d["dayPeriods-format-wide-am"];f=g.pm||d["dayPeriods-format-wide-pm"];h=r+"|"+f;g.strict||(r!=r.toLowerCase()&&(h+="|"+r.toLowerCase()),f!=f.toLowerCase()&&(h+="|"+f.toLowerCase()),-1!=h.indexOf(".")&&(h+="|"+h.replace(/\./g,"")));h=h.replace(/\./g,"\\.");break;default:h=".*"}a&&a.push(e);return"("+h+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var a={};l.setObject(h.id.replace(/\//g,"."),a);a._getZone=function(a,d,g){return d?p.getTimezoneName(a):a.getTimezoneOffset()};a.format=
function(b,d){d=d||{};var h=f.normalizeLocale(d.locale),r=d.formatLength||"short",h=a._getGregorianBundle(h),k=[],m=l.hitch(this,e,b,h,d);if("year"==d.selector)return g(h["dateFormatItem-yyyy"]||"yyyy",m);var n;"date"!=d.selector&&(n=d.timePattern||h["timeFormat-"+r])&&k.push(g(n,m));"time"!=d.selector&&(n=d.datePattern||h["dateFormat-"+r])&&k.push(g(n,m));return 1==k.length?k[0]:h["dateTimeFormat-"+r].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return k[b]})};a.regexp=function(b){return a._parseInfo(b).regexp};
a._parseInfo=function(b){b=b||{};var e=f.normalizeLocale(b.locale),e=a._getGregorianBundle(e),h=b.formatLength||"short",r=b.datePattern||e["dateFormat-"+h],k=b.timePattern||e["timeFormat-"+h],h="date"==b.selector?r:"time"==b.selector?k:e["dateTimeFormat-"+h].replace(/\{(\d+)\}/g,function(a,b){return[k,r][b]}),m=[];return{regexp:g(h,l.hitch(this,d,m,e,b)),tokens:m,bundle:e}};a.parse=function(b,d){var g=/[\u200E\u200F\u202A\u202E]/g,e=a._parseInfo(d),h=e.tokens,r=e.bundle,g=RegExp("^"+e.regexp.replace(g,
"")+"$",e.strict?"":"i").exec(b&&b.replace(g,""));if(!g)return null;var f=["abbr","wide","narrow"],k=[1970,0,1,0,0,0,0],m="",g=s.every(g,function(a,b){if(!b)return!0;var g=h[b-1],e=g.length,g=g.charAt(0);switch(g){case "y":if(2!=e&&d.strict)k[0]=a;else if(100>a)a=Number(a),g=""+(new Date).getFullYear(),e=100*g.substring(0,2),g=Math.min(Number(g.substring(2,4))+20,99),k[0]=a<g?e+a:e-100+a;else{if(d.strict)return!1;k[0]=a}break;case "M":case "L":if(2<e){if(e=r["months-"+("L"==g?"standAlone":"format")+
"-"+f[e-3]].concat(),d.strict||(a=a.replace(".","").toLowerCase(),e=s.map(e,function(a){return a.replace(".","").toLowerCase()})),a=s.indexOf(e,a),-1==a)return!1}else a--;k[1]=a;break;case "E":case "e":case "c":e=r["days-"+("c"==g?"standAlone":"format")+"-"+f[e-3]].concat();d.strict||(a=a.toLowerCase(),e=s.map(e,function(a){return a.toLowerCase()}));a=s.indexOf(e,a);if(-1==a)return!1;break;case "D":k[1]=0;case "d":k[2]=a;break;case "a":e=d.am||r["dayPeriods-format-wide-am"];g=d.pm||r["dayPeriods-format-wide-pm"];
if(!d.strict){var u=/\./g;a=a.replace(u,"").toLowerCase();e=e.replace(u,"").toLowerCase();g=g.replace(u,"").toLowerCase()}if(d.strict&&a!=e&&a!=g)return!1;m=a==g?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;k[3]=a;break;case "m":k[4]=a;break;case "s":k[5]=a;break;case "S":k[6]=a}return!0}),e=+k[3];"p"===m&&12>e?k[3]=e+12:"a"===m&&12==e&&(k[3]=0);e=new Date(k[0],k[1],k[2],k[3],k[4],k[5],k[6]);d.strict&&e.setFullYear(k[0]);var n=h.join(""),l=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!g||n&&e.getMonth()>k[1]||l&&e.getDate()>k[2])return null;if(n&&e.getMonth()<k[1]||l&&e.getDate()<k[2])e=p.add(e,"hour",1);return e};var r=[];a.addCustomFormats=function(a,d){r.push({pkg:a,name:d})};a._getGregorianBundle=function(a){var d={};s.forEach(r,function(g){g=f.getLocalization(g.pkg,g.name,a);d=l.mixin(d,g)},this);return d};a.addCustomFormats(h.id.replace(/\/date\/locale$/,".cldr"),"gregorian");a.getNames=function(b,d,g,e){var h;e=a._getGregorianBundle(e);b=[b,g,d];
"standAlone"==g&&(g=b.join("-"),h=e[g],1==h[0]&&(h=void 0));b[1]="format";return(h||e[b.join("-")]).concat()};a.isWeekend=function(a,d){var g=q.getWeekend(d),e=(a||new Date).getDay();g.end<g.start&&(g.end+=7,e<g.start&&(e+=7));return e>=g.start&&e<=g.end};a._getDayOfYear=function(a){return p.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};a._getWeekOfYear=function(b,d){1==arguments.length&&(d=0);var g=(new Date(b.getFullYear(),0,1)).getDay(),e=Math.floor((a._getDayOfYear(b)+(g-d+7)%7-
1)/7);g==d&&e++;return e};return a})},"anaplan/gridlet/ViewRequestCellModel":function(){define("dojo/_base/declare dojo/_base/lang anaplan/data/ModelContentCache anaplan/data/_WritableModel anaplan/data/CacheVisitor anaplan/utils/EntityLongIdHelper anaplan/Exceptions".split(" "),function(l,s,p,q,f,k,n){return l("anaplan.gridlet.ViewRequestCellModel",[q],{error:function(f){var h=!1;this._pendingPageRequests=[];try{if(!this._pendingUpdates.isEmpty()||!this._newUpdates.isEmpty()){this._pendingUpdates.clear();
this._newUpdates.clear();this._updateObservers();for(var e=this._observers,g=0,d=e.length;g<d;g++)e[g].error(f)&&(h=!0)}}catch(a){console.error(a)}return h},getText:function(){try{var k=new f({dataRowCount:1,dataColumnCount:1,fixedRowCount:this._readCache.getFixedRowCount()||1,fixedColumnCount:this._readCache.getFixedColumnCount()||1,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),serialNumbers:{},view:this._getView(),viewDefinition:this._viewDefinition});
k.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return k.getText(-1,-1)}catch(h){throw new n.ClientException("anaplan.gridlet.Cell.getText",h);}},getValues:function(){if(!this._initialized)throw new n.IllegalStateException("anaplan.gridlet.ViewRequestCellModel.getValues: must call initialize before getValues");try{this._readCache.isItem(0,0)||this._requestView(),this.notifyObservers(this._getValues(),this.getPageInfo())}catch(f){throw new n.ClientException("anaplan.gridlet.ViewRequestCellModel.getValues",
f);}},getView:function(){return this._getView()},initialize:function(){try{if(this._initialized)throw new n.IllegalStateException("Already initialized");var f=s.hitch(this,function(d){d=d.result;var a=d.viewRequestResults;if(1!==a.length)throw new n.IllegalStateException("Expected single view request result but found ${length}",null,{length:a.length});p.populateCache(d);this._updateState(a[0]);this._update()}),h=s.hitch(this,function(d){this.error(d)}),e=this._requestGenerator.getRequest(s.mixin({modelId:modelId,
pageRequests:[{startRow:0,startColumn:0,rowCount:1,columnCount:1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,viewIndex:-1},this._viewDefinition?{viewDefinition:this._viewDefinition}:{viewReference:this._viewReference}));this._aggregator.post(e,!1,f,h)}catch(g){throw new n.ClientException("anaplan.gridlet.ViewRequestCellModel.initialize",g);}},setValue:function(f){var h=this._getCell(),e=null;try{this._assertIsEditable(h)}catch(g){return console.warn("anaplan.gridlet.ViewRequestCellModel#setValue: cell is not editable"),
e}return e=this._setValue(h,{rowIndex:0,columnIndex:0,value:f})},_getCell:function(){var m={cellValue:null,cellText:null,originalText:null,format:null,dataType:null,isCalculated:null,isEditable:null,style:null,entityLongIds:null,entityTypes:null,writeableLeafCellCount:null};try{var h=this._readCache.getRowCount(),e=this._readCache.getColumnCount();if(!h||!e)return m;var g=k.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers),d=this._getStaticContextEntityLongIds().concat(g),
a=this._readCache.getRowNesting(),r=this._readCache.getColumnNesting(),b=new f({dataRowCount:h,dataColumnCount:e,fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),rowNesting:a,columnNesting:r,view:{x:[0,0],y:[0,0]},viewDefinition:this._viewDefinition});b.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);var t,u=b.getRowLabelsObject();if(u&&u.entityLongIds){var v=u.entityLongIds;for(t=0;t<a;t++)d=d.concat(v[t])}var l=b.getColumnLabelsObject();
if(l&&l.entityLongIds){var y=l.entityLongIds;for(t=0;t<r;t++)d=d.concat(y[t])}for(var h=[],w=d.length,e=0;e<w;e++){var x=k.getEntityTypeIndex(d[e]);if(x&&-1!=x)var q=p.getEntityType(x),h=h.concat(q)}var D=b.getCellsObject();return!D?(console.warn(this.id+": _getCell failed to find row/column"),m):s.mixin(m,{cellValue:D.cellValues[0],cellText:D.cellText[0],originalText:D.originalText[0],format:D.formats[0]?D.formats[0]:null,dataType:D.formats[0]?D.formats[0].dataType:null,isCalculated:D.isCalculated[0]||
!1,isEditable:D.isEditable[0]||!1,style:D.styles[0],entityLongIds:d,entityTypes:h,writeableLeafCellCount:D.writeableLeafCellCounts[0]||0})}catch(E){throw new n.ClientException("anaplan.gridlet.ViewRequestCellModel._getCell",E);}},_getPageRequests:function(){return[{startRow:0,startColumn:0,rowCount:1,columnCount:1}]},_getValues:function(){var k=null;try{var h=new f({dataRowCount:this._readCache.getRowCount(),dataColumnCount:this._readCache.getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount()||
1,fixedColumnCount:this._readCache.getFixedColumnCount()||1,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),serialNumbers:this._getSerialNumbersForPageRequests(this._pendingPageRequests),view:{x:[0,0],y:[0,0]},viewDefinition:this._viewDefinition});h.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);k=h.getValues()}catch(e){throw new n.ClientException("anaplan.gridlet.ViewRequestCellModel._getValues",e);}return k},_getView:function(){return{x:[0,
0],y:[0,0]}},_isAlreadyRequested:function(){return 0<this._pendingPageRequests.length},_requestView:function(){try{for(var f=this._getPageRequests(),h=0,e=f.length;h<e;h++){var g=f[h];if(!this._readCache.isItem(g.startRow,g.startColumn)&&!this._isAlreadyRequested()){this._aggregator.gather();break}}}catch(d){throw new n.ClientException("anaplan.gridlet.ViewRequestCellModel._requestView",d);}}})})},"anaplan/data/ViewRequestRequestGenerator":function(){define(["anaplan/common/ViewSerialNumbers","anaplan/data/ChangeFactory",
"anaplan/data/RequestFactory","dojo/_base/declare"],function(l,s,p,q){return q("anaplan.data.ViewRequestRequestGenerator",null,{constructor:function(f){this._workspaceId=f},getColumnLabelPageRequests:function(f){var k=[],n,m;for(n=0;n<f.length;n++)m=f[n],k.push({start:m.startColumn,count:m.columnCount});return k},getRequest:function(f){var k=f.pendingUpdates?this._getSubmissions(f.pendingUpdates):[];f=f.pageRequests||f.rowLabelPageRequests||f.columnLabelPageRequests?this._getViewRequests(f):[];return p.createRequest(this._workspaceId,
k,f)},getRowLabelPageRequests:function(f){var k=[],n,m;for(n=0;n<f.length;n++)m=f[n],k.push({start:m.startRow,count:m.rowCount});return k},_getCellChanges:function(f){var k=[],n=new s;f=f.getItemsArray();var m,h,e;for(m=0;m<f.length;m++)h=f[m],e=n.getCellChangeGenerator(h.format.dataType),k.push(e.getCellChange(h));return k},_getModelChanges:function(f){var k=[],n=new s,m=f.getRowLabelUpdates().getItemsArray(),h,e,m=m.concat(f.getColumnLabelUpdates().getItemsArray());for(f=0;f<m.length;f++)h=m[f],
e=n.getModelChangeGenerator(h.entityType),k.push({modelId:h.modelId,moduleId:h.moduleId||"",modelChangeXml:e.getModelChangeXml("UPDATE",{entityLongId:h.entityLongId,currentName:h.originalLabel,newName:h.label})});return k},_getSubmissions:function(f){var k=[];k.push({workspaceId:this._workspaceId,cellChanges:this._getCellChanges(f.getCellUpdates()),modelChanges:this._getModelChanges(f),operation:f._operations[0]});return k},_getViewRequests:function(f){var k=[],n=[],m=[],h=[],e={},g={},d,a;if(f.pageRequests&&
f.pageRequests.length)for(d=0;d<f.pageRequests.length;d++)a=f.pageRequests[d],n.push(a),g[a.startRow]||(h.push({start:a.startRow,count:a.rowCount}),g[a.startRow]=!0),e[a.startColumn]||(m.push({start:a.startColumn,count:a.columnCount}),e[a.startColumn]=!0);else f.columnLabelPageRequests&&(m=f.columnLabelPageRequests),f.rowLabelPageRequests&&(h=f.rowLabelPageRequests);n={workspaceId:this._workspaceId,dataPageRequests:n,rowLabelPageRequests:h,columnLabelPageRequests:m,cellSelectorLabelsRequired:f.cellSelectorLabelsRequired,
pageSelectorLabelsRequired:f.pageSelectorLabelsRequired,serialNumbers:new l({columnAxisSerialNumber:f.serialNumbers?f.serialNumbers.columnAxisSerialNumber:l.DEFAULT_SERIAL_NUMBER,rowAxisSerialNumber:f.serialNumbers?f.serialNumbers.rowAxisSerialNumber:l.DEFAULT_SERIAL_NUMBER,pageInfoSerialNumber:f.serialNumbers?f.serialNumbers.pageInfoSerialNumber:l.DEFAULT_SERIAL_NUMBER,dataSerialNumber:f.serialNumbers?f.serialNumbers.dataSerialNumber:l.DEFAULT_SERIAL_NUMBER,breakbackHeldCellsSerialNumber:f.serialNumbers?
f.serialNumbers.breakbackHeldCellsSerialNumber:l.DEFAULT_SERIAL_NUMBER,viewDefinitionSerialNumber:f.serialNumbers?f.serialNumbers.viewDefinitionSerialNumber:l.DEFAULT_SERIAL_NUMBER}),viewIndex:f.viewIndex||-1,viewGuid:f.viewGuid||null,containerEntityLongId:f.hasOwnProperty("containerEntityLongId")?f.containerEntityLongId:-1,state:f.state||{}};f.modelId&&(n.modelId=f.modelId);f.viewDefinition?n.viewDefinition=f.viewDefinition:f.viewReference&&(n.viewReference=f.viewReference);f.viewChanges&&(n.viewChanges=
f.viewChanges);k.push(n);return k}})})},"anaplan/dashboard/ToolbarOptions":function(){define("anaplan/dashboard/_ControlPanelMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/json dojo/i18n!anaplan/nls/toolbarOptions dojo/text!anaplan/templates/ToolbarOptions.html dijit/form/CheckBox".split(" "),function(l,s,p,q,f,k,n,m,h){return f([p,s,q,l],{baseClass:"toolbarOptions",labelShowToolbar:m.labelShowToolbar,templateString:h,constructor:function(e){this._args=
e},postCreate:function(){this.inherited(arguments);this._hookupOnChangeHandlers([this.cbShowToolbar],k.hitch(this,function(e){var g=n.parse(this._args.menuToolbarOptions);g.showToolbar!==e&&(k.mixin(g,{showToolbar:e}),this.onAfterMenuToolbarOptions(n.stringify(g)))}));this._setMenuToolbarOptions(this._args.menuToolbarOptions)},onAfterMenuToolbarOptions:function(e){},updateValues:function(e){this._setMenuToolbarOptions(e.menuToolbarOptions)},_setMenuToolbarOptions:function(e){e=n.parse(e);e.hasOwnProperty("showToolbar")&&
this.cbShowToolbar.get("checked")!==e.showToolbar&&this.cbShowToolbar.set("checked",e.showToolbar)}})})},"anaplan/gridlet/_ConfirmMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/on anaplan/Exceptions anaplan/widgets/ConfirmationDialog anaplan/utils/UIHelper dojo/i18n!anaplan/nls/gridlet dojo/i18n!anaplan/nls/confirmation".split(" "),function(l,s,p,q,f,k,n,m,h){return s([],{confirm:function(e,g,d,a,h,b,f){this.focus();f?this.showDialog(e,g,b,d,a):this.showLegacyDialog(e,
g,d,a,h)},showDialog:function(e,g,d,a,h,b){this.removeConfirmationHandles();var t=this;e={anapediaHelpKey:b,title:e,content:g,confirmText:d,messageIcon:"alertLarge",onConfirm:function(){try{t.removeConfirmationHandles(),a(),t.focus()}catch(b){n.showErrorReporter(b,b instanceof f.KnownException)}},onCancel:function(){try{h&&h(),t.removeConfirmationHandles(),t.focus()}catch(a){n.showErrorReporter(new f.ClientException("anaplan.gridlet._ConfirmMixin.confirm (cancel)",a))}}};App.interim.modals.showConfirmationModal(App.interim.getReduxDispatch(),
e)},showLegacyDialog:function(e,g,d,a,r){this._confirmationDialog||(this._confirmationDialog=new k({refocus:!1}),this._confirmationHandles=[]);this._confirmationDialog.set("changeValidator",r||null);this.removeConfirmationHandles();r=g;if(g instanceof Array){var b=[];b.push(m.messagePreConfirmation);b.push("\x3cul\x3e");l.forEach(g,function(a){b.push("\x3cli\x3e");b.push(a);b.push("\x3c/li\x3e")});b.push("\x3c/ul\x3e");b.push(m.messageConfirmation);r=b.join("")}this._confirmationDialog.set("content",
r);this._confirmationDialog.set("title",e||h.titleConfirm);this._confirmationHandles.push(q(this._confirmationDialog,"execute",p.hitch(this,function(){try{this.removeConfirmationHandles(),d(),this.focus()}catch(a){n.showErrorReporter(a,a instanceof f.KnownException)}})));this._confirmationHandles.push(q(this._confirmationDialog,"cancel",p.hitch(this,function(){try{a&&a(),this.removeConfirmationHandles(),this.focus()}catch(b){n.showErrorReporter(new f.ClientException("anaplan.gridlet._ConfirmMixin.confirm (cancel)",
b))}})));this._confirmationDialog.show()},removeConfirmationHandles:function(){l.forEach(this._confirmationHandles,function(e){e.remove()});this._confirmationHandles=[]},uninitialize:function(){this._confirmationHandles&&l.forEach(this._confirmationHandles,dojo.disconnect);this._confirmationDialog&&this._confirmationDialog.destroy();this.inherited(arguments)}})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,s,p,q,f){function k(a,
b){var d=a.xhr;a.status=a.xhr.status;try{a.text=d.responseText}catch(g){}"xml"===a.options.handleAs&&(a.data=d.responseXML);if(!b)try{p(a)}catch(e){b=e}b?this.reject(b):q.checkStatus(d.status)?this.resolve(a):(b=new l("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}function n(a){return this.xhr.getResponseHeader(a)}function m(t,u,y){var w=f("native-formdata")&&u&&u.data&&u.data instanceof FormData,x=q.parseArgs(t,q.deepCreate(b,u),w);t=x.url;u=x.options;var p,D=q.deferred(x,a,e,g,
k,function(){p&&p()}),E=x.xhr=m._create();if(!E)return D.cancel(new l("XHR was not created")),y?D:D.promise;x.getHeader=n;d&&(p=d(E,D,x));var B=u.data,C=!u.sync,G=u.method;try{E.open(G,t,C,u.user||r,u.password||r);u.withCredentials&&(E.withCredentials=u.withCredentials);f("native-response-type")&&u.handleAs in h&&(E.responseType=h[u.handleAs]);var H=u.headers;t=w?!1:"application/x-www-form-urlencoded";if(H)for(var L in H)"content-type"===L.toLowerCase()?t=H[L]:H[L]&&E.setRequestHeader(L,H[L]);t&&
!1!==t&&E.setRequestHeader("Content-Type",t);(!H||!("X-Requested-With"in H))&&E.setRequestHeader("X-Requested-With","XMLHttpRequest");q.notify&&q.notify.emit("send",x,D.promise.cancel);E.send(B)}catch(F){D.reject(F)}s(D);E=null;return y?D:D.promise}f.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",function(){if(f("native-xhr")){var a=
new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});f.add("native-formdata",function(){return"undefined"!==typeof FormData});f.add("native-response-type",function(){return f("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});f.add("native-xhr2-blob",function(){if(f("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===
b}});var h={blob:f("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},e,g,d,a;f("native-xhr2")?(e=function(a){return!this.isFulfilled()},a=function(a,b){b.xhr.abort()},d=function(a,b,d){function g(a){b.handleResponse(d)}function e(a){a=new l("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function h(a){a.lengthComputable?(d.loaded=a.loaded,d.total=a.total,b.progress(d)):3===d.xhr.readyState&&(d.loaded=a.position,b.progress(d))}a.addEventListener("load",
g,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",h,!1);return function(){a.removeEventListener("load",g,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",h,!1);a=null}}):(e=function(a){return a.xhr.readyState},g=function(a){return 4===a.xhr.readyState},a=function(a,b){var d=b.xhr,g=typeof d.abort;("function"===g||"object"===g||"unknown"===g)&&d.abort()});var r,b={data:null,query:null,sync:!1,method:"GET"};m._create=function(){throw Error("XMLHTTP not available");
};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))m._create=function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),m._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(t){try{new ActiveXObject("Microsoft.XMLHTTP"),m._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}q.addCommonMethods(m);return m})},"anaplan/api/SystemActions/GetSyncPairRevisionInfo":function(){define(["dojo/_base/declare","./Base/SystemAction",
"anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.targetModelId)||p.isEmptyString(this._params.targetModelId)?f.errors.targetModelIdRequired:!p.isString(this._params.sourceModelId)||p.isEmptyString(this._params.sourceModelId)?f.errors.sourceModelIdRequired:!p.isString(this._params.targetWorkspaceId)||p.isEmptyString(this._params.targetWorkspaceId)?
f.errors.targetWorkspaceIdRequired:!p.isString(this._params.sourceWorkspaceId)||p.isEmptyString(this._params.sourceWorkspaceId)?f.errors.sourceWorkspaceIdRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_SYNC_PAIR_REVISION_INFO,params:{sourceModelGuid:this._params.sourceModelId,targetModelGuid:this._params.targetModelId,targetWorkspaceId:this._params.targetWorkspaceId,sourceWorkspaceId:this._params.sourceWorkspaceId}}}})})},"anaplan/utils/HierarchyInsertValidator":function(){define("dojo/_base/declare dojo/string anaplan/data/ModelContentCache anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper dojo/i18n!anaplan/nls/hierarchyInsertHelper".split(" "),
function(l,s,p,q,f,k,n,m){return l("anaplan.utils.HierarchyInsertValidator",[],{constructor:function(h){this._entityTypeIndices=h.entityTypeIndices},getValidationError:function(){if(this.isCompositeHierarchy()){var h=this._entityTypeIndices,e=h[1];return s.substitute(m.labelInsertNotAllowed,{insertType:f.getHierarchyIdFromItemsEntityTypeIndex(p,h[0]),parentType:f.getHierarchyIdFromItemsEntityTypeIndex(p,e)})}console.warn("anaplan.utils.HierarchyInsertHelper: getValidationError called for non-composite hierarchy")},
isCompositeHierarchy:function(){var h=!1;try{this._entityTypeIndices&&(h=1<this._entityTypeIndices.length)}catch(e){n.throwClientException(this,e)}return h},isInsertAllowedAsChildOf:function(h,e){var g=!0;try{this.isCompositeHierarchy()&&h?k.getEntityTypeIndex(h)!=this._entityTypeIndices[1]?g=!1:2===this._entityTypeIndices.length&&e&&(g=!1):p.isNumberedList(this._entityTypeIndices[0])&&(g=!1)}catch(d){n.throwClientException(this,d)}return g},isInsertAllowedAsSiblingOf:function(h){var e=!0;try{if(this.isCompositeHierarchy()&&
h&&(k.getEntityTypeIndex(h)!=this._entityTypeIndices[0]&&(e=!1),k.getEntityIndex(h)==q.TOP_LEVEL_ITEM_ENTITY_INDEX))return!1}catch(g){n.throwClientException(this,g)}return e}})})},"anaplan/dashboard/ImageOption":function(){define("anaplan/constants anaplan/dashboard/_ControlPanelMixin anaplan/data/ContextCache anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper anaplan/widgets/LineItemSelector dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/popup dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Evented dojo/i18n!anaplan/nls/actionEditor dojo/i18n!anaplan/nls/filter dojo/i18n!anaplan/nls/imageOptions dojo/text!anaplan/templates/ImageOption.html anaplan/widgets/DropDownButton dijit/TooltipDialog".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return r([e,h,g,s,t],{baseClass:"imageOption",labelClear:v.buttonClear,labelLineItem:z.labelLineItem,imageOptionNote:z.imageOptionNote,templateString:y,constructor:function(a){this._args=a},postCreate:function(){this.inherited(arguments);this._setImageOption(this._args)},updateValues:function(a){this._setImageOption(a)},_assertFormat:function(a){a=q.getLineItemInfo(a);this._setMessage(null===a?u.messageLineItemHasBeenDeleted:"TEXT"===a.format.dataType&&
a.format.textType===l.textFormatType.DRILLTHRU_URI?"":z.messageInvalidFormat)},_emitIfChanged:function(a,b){var d={};this._args.value!==a&&(d.value=a,d.viewDefinition=b,d.size=this._args.size,this.emit("afterImageOption",d))},_getViewDefinition:function(a,d){var g=f.getAxesSpecificationsForViewDefinition([[l.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER]],[],[],[k.entityLongIdToEntityLongIdIdentifier(a)]);g.rowAxisSpecification=f.addSelectionToAxisSpecification(g.rowAxisSpecification,l.SELECTION_RULE_MODIFIER_SHOW,
[[k.entityLongIdToEntityLongIdIdentifier(d)]]);return b.mixin(g,{currentPageIdentifiers:[],globalContextIdentifiers:p.getContextIdentifiers(),type:"MODEL_DATA"})},_onClear:function(){this._emitIfChanged("",null)},_setImageOption:function(a){this._args.size=a.size;this._args.viewDefinition=a.viewDefinition;this._args.value=a.value;var b=a.value.length?JSON.parse(a.value):a.value,d=q.getModuleInfo(b.moduleEntityLongId);null!==d?(this.selectLineItemDropDownButton.set("label",[f.getModuleLabel(q,b.moduleEntityLongId),
f.getLineItemLabelFromModuleInfo(d,b.lineItemEntityLongId)||""].join(": ")),this._assertFormat(b.lineItemEntityLongId)):(this.selectLineItemDropDownButton.set("label",this.labelLineItem),this._setMessage(z.instructionsSelectLineItem));this.clearAnchor.style.display=a.value.length?"":"none"},_setMessage:function(a){n.setText(this.imageOptionMessage,a||"")},_setViewDefinition:function(a,b,d){b=this._getViewDefinition(b,d);this._emitIfChanged(a,b)},_showLineItemSelector:function(){try{var g=function(a){a=
q.getLineItemInfo(a.entityLongIds[0]).format;return"TEXT"===a.dataType&&a.textType===l.textFormatType.DRILLTHRU_URI},e=a.filter(q.getModulesLabelPage().entityLongIds[0],function(b){return a.some(q.getLineItemsLabelPage(b).entityLongIds[0],function(a){return g({entityLongIds:[a]})})}).map(function(a){return{entityLongId:a,name:f.getModuleLabel(q,a),children:[]}}),h=this._args.value&&this._args.value.length?JSON.parse(this._args.value):{moduleEntityLongId:-1,lineItemEntityLongId:-1};this.selectLineItemTooltipDialog.set("content",
(new m({modules:e,lineItemFilter:g,currentModuleEntityLongId:h.moduleEntityLongId,selectedItemEntityLongId:h.lineItemEntityLongId,onSelectionChange:b.hitch(this,function(a,b){try{var g=f.getModuleEntityLongIdForLineItem(q,a),e=JSON.stringify({moduleEntityLongId:g,lineItemEntityLongId:a});this._setViewDefinition(e,g,a);d.close(this.selectLineItemTooltipDialog)}catch(h){console.error(this.id,"onSelectionChange",h)}})})).domNode)}catch(r){console.error(r)}}})})},"anaplan/utils/SelectorFactory/TreeletPageSelector":function(){define("anaplan/Exceptions anaplan/gridlet/Selection anaplan/treelet/Treelet anaplan/utils/SelectorFactory/PageSelector dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n){return k("anaplan.utils.SelectorFactory.TreeletPageSelector",[q],{constructor:function(k){try{var h=new p(n.mixin(k,{name:"treeletSelector","class":"pageSelector"}));k.dialog.set("content",h.domNode);var e=this;h.on("Selection",function(a){e.onPageSelectionChange(a,k.pageAxisIdentifier)});var g=f.indexOf(k.labelPage.entityLongIds[0],k.pageSelectorEntityLongId),d=k.pageSelectorEntityLongId;-1===g&&(g=0,d=null);var a=new s,r=a.currentCell,b=a.getCurrentRange();r.setX({fixedIndex:0});
r.setY({index:g,offset:0,entityLongIds:null!==d?[d]:null});b.setTopLeft(r.clone());b.bottomRight.setX({index:-1,offset:0,entityLongIds:null});h.setCurrentSelection(a);h.focus()}catch(t){throw new l.ClientException("anaplan.utils.TreeletPageSelector",t);}}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){return s("dijit._MenuBase",[d,b,r,a],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){f.toggle(this.domNode,"dijitMenuActive",a);f.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=g.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,b="string"==typeof this.childSelector?this.childSelector:k.hitch(this,"childSelector");this.own(m(this.containerNode,m.selector(b,n.enter),function(){a.onItemHover(g.byNode(this))}),m(this.containerNode,m.selector(b,n.leave),function(){a.onItemUnhover(g.byNode(this))}),m(this.containerNode,m.selector(b,e),function(b){a.onItemClick(g.byNode(this),b);b.stopPropagation()}),
m(this.containerNode,m.selector(b,"focusin"),function(){a._onItemFocus(g.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,d,g){this.inherited(arguments);if(a&&(-1==g||a.popup&&1==g))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var d=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,d)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var d=a.popup;d.parentMenu=this;this.own(this._mouseoverHandle=m.once(d.domNode,"mouseover",k.hitch(this,"_onPopupHover")));var g=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&
g.focusChild(a);g._cleanUp()},onExecute:k.hitch(this,"_cleanUp",!0),onClose:function(){g._mouseoverHandle&&(g._mouseoverHandle.remove(),delete g._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(q.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return s("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var g=this.getParent();this._childOfLayoutWidget=g&&g.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(h.on("resize",k.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var g=[],d=!1;n("\x3e *",this.containerNode).some(function(a){var e=
m.byNode(a);e&&e.resize?g.push(e):!/script|link|style/i.test(a.nodeName)&&a.offsetHeight&&(d=!0)});this._singleChild=1==g.length&&!d?g[0]:null;p.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(g,d){this._resizeCalled=!0;this._scheduleLayout(g,d)},_scheduleLayout:function(g,d){this._isShown()?this._layout(g,d):(this._needLayout=!0,this._changeSize=g,this._resultSize=d)},_layout:function(g,d){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
g&&q.setMarginBox(this.domNode,g);var a=this.containerNode;if(a===this.domNode){var h=d||{};k.mixin(h,g||{});if(!("h"in h)||!("w"in h))h=k.mixin(q.getMarginBox(a),h);this._contentBox=e.marginBox2contentBox(a,h)}else this._contentBox=q.getContentBox(a);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var g=this._contentBox||q.getContentBox(this.containerNode);this._singleChild.resize({w:g.w,h:g.h})}else for(var g=this.getChildren(),
d,a=0;d=g[a++];)d.resize&&d.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var g=this.domNode,d=this.domNode.parentNode;return"none"!=g.style.display&&"hidden"!=g.style.visibility&&!p.contains(g,"dijitHidden")&&d&&d.style&&"none"!=d.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"anaplan/widgets/Button":function(){define(["dojo/_base/declare",
"dijit/form/Button","anaplan/widgets/_DomVisibleMixin"],function(l,s,p){return l([s,p],{})})},"anaplan/utils/CookieHelper":function(){define("anaplan/constants anaplan/utils/JsHelper dojo/_base/lang dojo/cookie dojo/json dojox/validate/web".split(" "),function(l,s,p,q,f,k){var n={isSingleIp:function(){return!0===this.loadCookie(l.IS_SINGLE_IP_COOKIE)},isSupported:function(){return q.isSupported()},loadCookie:function(k){var h=null;try{if(q.isSupported()){var e=q(k);e&&0<e.length&&(h=f.parse(e))}}catch(g){console.error("loadCookie failed to load cookie "+
k+" "+g)}finally{return h}},createCookie:function(k,h){if(q.isSupported()){var e=new Date;e.setFullYear(2050,0,1);q(k,f.stringify(h),{domain:this._getDomainNameForCookieFromWindow(),expires:e,path:this._getPathForCookie(this._isLocal())})}else console.warn("this.createCookie cookies are not supported/enabled")},deleteCookie:function(f){q.isSupported()?q(f,null,{domain:this._getDomainNameForCookieFromWindow(),expires:-1,path:this._getPathForCookie(this._isLocal())}):console.warn("this.deleteCookie cookies are not supported/enabled")},
_getDomainNameForCookieFromWindow:function(){if(this._domainName)return this._domainName;if("undefined"===typeof window)throw Error("Hostname unavailable - window is undefined");return this._domainName=this._getDomainNameForCookie(window.location.hostname)},_getDomainNameForCookie:function(f){if(!s.isString(f))throw Error("CookieHelper#_getDomainNameForCookie: hostname is not a string");return-1===f.indexOf(".")||k.isIpAddress(f)?f:"."+this._getDomainNameFromHostName(f)},_getDomainNameFromHostName:function(f){if(!s.isString(f))throw Error("CookieHelper#_getDomainNameFromHostName: hostname is not a string");
var h=this.isSingleIp()?f.match(/[^.]+\.[^.]+\.[^.]+$/):f.match(/[^.]+\.[^.]+$/);return h&&h.length?h[0]:f},_getPathForCookie:function(f){return this.isSingleIp()&&!f?"/":"/anaplan"},_isLocal:function(){if(void 0===typeof window)return!1;var f=window.location.hostname;return"localhost"===f||"127.0.0.1"===f}};p.setObject("anaplan.utils.CookieHelper",n);return n})},"anaplan/data/ViewRequestReadCache":function(){define("anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/DataPageCache anaplan/data/LabelPageCache anaplan/data/ModelContentHelper anaplan/gridlet/Themes anaplan/utils/FormatHelper dojo/_base/declare".split(" "),
function(l,s,p,q,f,k,n,m,h){return h(null,{constructor:function(){this._serialNumbers=new s;this.clear()},accept:function(e){this._rows.isEmpty()||e.visitRows1(this._rows);this._columns.isEmpty()||e.visitColumns1(this._columns);this._cells.isEmpty()||e.visitCells1(this._cells)},clear:function(){this._fixedColumnCount=this._fixedRowCount=this._rowCount=this._columnCount=this._columnNesting=this._rowNesting=0;this._resetSerialNumbers();this._labelSizes=null;this._cells&&this._cells.clear();this._rows&&
this._rows.clear();this._columns&&this._columns.clear();this._sizerSerialNumber=-1;this._isEmpty=!0},containsRange:function(e,g,d,a){return this.isEmpty()?!1:-1===e&&-1===d?!0:-1===e?this._columns.containsRange(d,a):-1===d?this._rows.containsRange(e,g):this._cells.containsRange(e,g,d,a)},getCachedColumnLabelCount:function(){return this._columns?this._columns.getCachedLabelsCount():0},getCachedRowLabelCount:function(){return this._rows?this._rows.getCachedLabelsCount():0},getColumnCount:function(){return this._columnCount},
getColumnIndexOfItem:function(e,g){return!this._columns?-1:this._columns.getIndexOfItem(e,g)},getColumnLabelPage:function(){return this._columns?this._columns.getLabelPage():null},getColumnNesting:function(){return this._columnNesting},getEndColumnIndexOfItem:function(e,g){return!this._columns?-1:this._columns.getEndIndexOfItem(e,g)},getEndRowIndexOfItem:function(e,g){return!this._rows?-1:this._rows.getEndIndexOfItem(e,g)},getFixedColumnCount:function(){return this._fixedColumnCount},getFixedRowCount:function(){return this._fixedRowCount},
getKnownColumns:function(){return this._columns?this._columns.getKnownSizes():0},getKnownRows:function(){return this._rows?this._rows.getKnownSizes():0},getRowCount:function(){return this._rowCount},getRowIndexOfItem:function(e,g){return!this._rows?-1:this._rows.getIndexOfItem(e,g)},getRowLabelPage:function(){return this._rows?this._rows.getLabelPage():null},getRowNesting:function(){return this._rowNesting},getSizerSerialNumber:function(){return this._sizerSerialNumber},getSerialNumbers:function(){return new s(this._serialNumbers)},
getSpanOnDimensionAtColumnIndex:function(e,g){return!this._columns?null:this._columns.getSpanOnDimensionAtIndex(e,g)},getSpanOnDimensionAtRowIndex:function(e,g){return!this._rows?null:this._rows.getSpanOnDimensionAtIndex(e,g)},isEmpty:function(){return this._isEmpty},isItem:function(e,g){return this.isEmpty()?!1:-1==e&&-1==g||this._cells.isItem(e,g)?!0:-1==e?this._columns.isItem(g):-1==g?this._rows.isItem(e):!1},resetViewDefinitionSerialNumber:function(){this._serialNumbers.resetViewDefinitionSerialNumber()},
setResult:function(e){var g,d,a;if(e){g=this._serialNumbers;d=this._serialNumbers=new s(e.serialNumbers);this._isEmpty=!1;this._labelSizes||(this._labelSizes=k.getLabelSizes(e.viewDefinition,e.pageInfo));g.dataSerialNumber!==d.dataSerialNumber&&(a=l.getAllCurrenciesLabelPage(),this._cells=new q({allCurrenciesLabelPage:a,columnCount:e.columnCount,rowCount:e.rowCount}));g.rowAxisSerialNumber!==d.rowAxisSerialNumber&&(this._rows=new f({axis:p.ROWS,labelSizes:this._labelSizes,nesting:e.rowNesting,themeId:"undefined"===
typeof e.viewDefinition.themeId?n.getFallBackTheme():e.viewDefinition.themeId}),this._sizerSerialNumber=m.createUUID());g.columnAxisSerialNumber!==d.columnAxisSerialNumber&&(this._columns=new f({axis:p.COLUMNS,labelSizes:this._labelSizes,nesting:e.columnNesting,themeId:"undefined"===typeof e.viewDefinition.themeId?n.getFallBackTheme():e.viewDefinition.themeId}),this._sizerSerialNumber=m.createUUID());this._rowCount=e.rowCount;this._columnCount=e.columnCount;this._rowNesting=e.rowNesting;this._columnNesting=
e.columnNesting;this._fixedRowCount=e.fixedRowCount;this._fixedColumnCount=e.fixedColumnCount;if(e.rowLabelPages&&e.rowLabelPages.length){for(g=0;g<e.rowLabelPages.length;g++)if(d=e.rowLabelPages[g],!this._rows.isItem(d.start)){this._sizerSerialNumber=m.createUUID();break}this._rows.setPages(e.rowLabelPages,e.viewDefinition.themeId)}if(e.columnLabelPages&&e.columnLabelPages.length){for(g=0;g<e.columnLabelPages.length;g++)if(d=e.columnLabelPages[g],!this._columns.isItem(d.start)){this._sizerSerialNumber=
m.createUUID();break}this._columns.setPages(e.columnLabelPages,e.viewDefinition.themeId)}e.dataPages&&e.dataPages.length&&this._cells.setPages(e.dataPages,e.viewDefinition.themeId)}},_resetSerialNumbers:function(){this._serialNumbers.resetBreakbackHeldCellsSerialNumber();this._serialNumbers.resetColumnAxisSerialNumber();this._serialNumbers.resetDataSerialNumber();this._serialNumbers.resetPageInfoSerialNumber();this._serialNumbers.resetRowAxisSerialNumber()}})})},"anaplan/widgets/MailToEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/keys dojo/sniff dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/_TextBoxMixin anaplan/Exceptions anaplan/utils/UIHelper anaplan/utils/LinkFormatter dojo/i18n!anaplan/nls/mailToEditor dojo/text!anaplan/templates/MailToEditor.html dijit/form/TextBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return l([n,k,m],{baseClass:"linkEditor",templateString:r,isEnterMode:!1,value:null,emailTextBox:null,emailTextBoxLabel:null,labelTextBox:null,labelTextBoxLabel:null,focus:function(){var a=this._focusWidget||this.emailTextBox;h.selectInputText(a.textbox,a.get("value").length)},onChange:function(a,d){},onKeyDown:function(a){},postCreate:function(){this.inherited(arguments);g.setText(this.labelTextBoxLabel,a.labelDisplayText);g.setText(this.emailTextBoxLabel,a.labelEmail);
p.set(this.labelTextBoxLabel,"for",this.labelTextBox.id);p.set(this.emailTextBoxLabel,"for",this.emailTextBox.id)},reset:function(){this.emailTextBox.reset()},startup:function(){this.inherited(arguments);9>f("ie")&&setTimeout(s.hitch(this,function(){try{this.labelTextBox.textbox.style.fontFamily=this.emailTextBox.textbox.style.fontFamily="Myriad, Helvetica, Tahoma, Arial, clean, sans-serif"}catch(a){}}),500)},_getValueAttr:function(){return(new d).formatMailTo(this.emailTextBox.get("value"),this.labelTextBox.get("value"))},
_onLabelTextBoxChange:function(a){this.onChange(a,this.emailTextBox.get("value"))},_onLabelTextBoxKeyDown:function(a){if(a.ctrlKey&&a.metaKey||!(a.keyCode===q.TAB&&a.shiftKey))this.onKeyDown(a)},_onEmailTextBoxChange:function(a){this.onChange(this.labelTextBox.get("value"),a)},_onEmailTextBoxKeyDown:function(a){if(a.ctrlKey&&a.metaKey||a.keyCode!==q.TAB||a.shiftKey)this.onKeyDown(a)},_setValueAttr:function(a){var g=new d,h="",r="",f;try{this._set("value",a),this._focusWidget=this.emailTextBox,a&&
(f=g.parseCellValueAsMailTo(a),h=f.label,r=f.displayUri,h&&(this._focusWidget=this.labelTextBox),this.isEnterMode&&(h?h="":r="")),this.labelTextBox.set("value",h),this.emailTextBox.set("value",r)}catch(k){throw new e.ClientException("anaplan.widgets.MailToEditor#_setValueAttr",k);}}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(l,s,p){return l("dijit.form.ComboBox",[s,p],{})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],
function(l){var s={};l.setObject("dojo.data.util.sorter",s);s.basicComparator=function(l,q){var f=-1;null===l&&(l=void 0);null===q&&(q=void 0);if(l==q)f=0;else if(l>q||null==l)f=1;return f};s.createSortFunction=function(l,q){function f(a,d,b,g){return function(e,h){var f=g.getValue(e,a),k=g.getValue(h,a);return d*b(f,k)}}for(var k=[],n,m=q.comparatorMap,h=s.basicComparator,e=0;e<l.length;e++){n=l[e];var g=n.attribute;if(g){n=n.descending?-1:1;var d=h;m&&("string"!==typeof g&&"toString"in g&&(g=g.toString()),
d=m[g]||h);k.push(f(g,n,d,q))}}return function(a,d){for(var b=0;b<k.length;){var g=k[b++](a,d);if(0!==g)return g}return 0}};return s})},"anaplan/gridlet/GridController":function(){define("anaplan/anapediaKeys anaplan/cf/ConditionalFormatting anaplan/cf/FormattingDefinition anaplan/common/PageInfo anaplan/common/ViewDefinition anaplan/constants anaplan/data/Aggregator anaplan/data/ChangeFactory anaplan/data/ContextCache anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/format/util anaplan/Exceptions anaplan/gridlet/isGrid2Enabled anaplan/gridlet/Selection anaplan/keyboard/ClipboardHelp anaplan/undo/confirmUndo anaplan/utils/AxisHelper anaplan/utils/axisSpecification anaplan/utils/CopyHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper anaplan/utils/FormatHelper anaplan/utils/IdChecker anaplan/utils/JsHelper anaplan/utils/LabelPageHelper anaplan/utils/SelectionHelper anaplan/utils/SubmissionHandler anaplan/utils/topics anaplan/utils/UIHelper anaplan/view/BulkDelete anaplan/view/CellHistoryDateRange anaplan/view/ColumnSettings anaplan/view/FastInsert anaplan/view/Filter anaplan/view/History anaplan/view/InsertActions anaplan/view/InsertVersions anaplan/view/ManageImportSources anaplan/view/Move anaplan/view/MoveHierarchyItem anaplan/view/ReOrder anaplan/view/RunExistingImport anaplan/view/SelectItems anaplan/view/SelectLevels anaplan/view/SimpleSort anaplan/view/TotalGroupingDialog anaplan/widgets/ConfirmationDialog anaplan/widgets/FullScreenDialog anaplan/widgets/ListFilter anaplan/widgets/QuickFilter/Main dijit/popup dijit/TooltipDialog dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/clipboardHelp dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/conditionalFormatting dojo/i18n!anaplan/nls/filter dojo/i18n!anaplan/nls/gridlet dojo/i18n!anaplan/nls/runExistingImport dojo/i18n!anaplan/nls/totalgrouping dojo/i18n!anaplan/nls/view dojo/i18n!anaplan/nls/hierarchyConfigureView dojo/i18n!anaplan/nls/undo dojo/i18n!anaplan/nls/userListValidator dojo/json dojo/on dojo/string dojo/date/stamp dojo/topic dojox/lang/functional anaplan/utils/SortUtils".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea,qa,ka,da,ha,U,sa,ta,Ca,Fa,xa,ma,za,na,Da,V,Ba,ua,la,oa,va,wa,ia,fa,ya,Aa,pa,Ea,ra){return ha("anaplan.gridlet.GridController",[],{_drillDownIdCounter:0,constructor:function(a){this._model=a.model;this._gridView=a.gridView;this._changeValidator=a.changeValidator||null;this._subscriptions=[];this._subscriptions.push(pa.subscribe("anaplan/"+this._gridView.id+"/globalContext",U.hitch(this,
"setGlobalContext")));this._subscriptions.push(pa.subscribe("anaplan/"+this._gridView.id+"/suspend",U.hitch(this,"suspend")));this._subscriptions.push(pa.subscribe("anaplan/"+this._gridView.id+"/resume",U.hitch(this,"resume")));this._subscriptions.push(pa.subscribe("anaplan/"+this._gridView.id+"/undo",U.hitch(this,"_undo")));this._subscriptions.push(pa.subscribe("anaplan/show",U.hitch(this,"_onShow")));this._subscriptions.push(pa.subscribe("anaplan/hide",U.hitch(this,"_onHide")));this._subscriptions.push(pa.subscribe("anaplan/gridlet/readOnly",
U.hitch(this,"_setReadOnly")));this._connections=[];this._idChecker=new E;this._breakbackMarkersEnabled=a.showBreakbackMarkersOnStartup||!1;this._pendingRefreshObject=null},applyAxisSelectionChange:function(a,b){var d=(new m).getViewChangeGenerator(k.viewChangeType.AXIS_SELECTION_CHANGE),e=[],h,r,f,t;if(b){r=this.getPageInfo();if(b.isWholeRowSelected())h="_forceLoadRowLabels",t=r.rowAxisSpecification;else if(b.isWholeColumnSelected())h="_forceLoadColumnLabels",t=r.columnAxisSpecification;else{console.warn("anaplan.gridlet.GridController#applyAxisSelectionChange: data cell selections are not supported");
return}if((a===k.axisSelectionChange.SHOW||a===k.axisSelectionChange.HIDE)&&g.axisSpecificationContainsBranchSync(t))return F.showInfoDialog(za.labelSelectionToSyncBranchMessage,{title:za.labelSelectionToSyncBranchTitle});r=G.getSelectedDimensionIdentifiers(b,this.getContext());if(da.some(r,function(a){return(a=g.getAxisDefinitionOfDimensionInAxisSpecification(t,a))&&g.axisDefinitionContainsBranchSync(a)}))return F.showInfoDialog(za.labelSelectionToSyncBranchMessage,{title:za.labelSelectionToSyncBranchTitle});
r=b.getViews(this.getContext(),!0);if(!r||!r.length)console.warn("anaplan.gridlet.GridController#applyAxisSelectionChange: no selection views found");else this[h](r,!1,U.hitch(this,function(b){var g={},h=b.isWholeColumnSelected()?k.COLUMNS:k.ROWS;if(a===k.axisSelectionChange.SHOW_EVERY_OCCURRENCE||a===k.axisSelectionChange.HIDE_EVERY_OCCURRENCE||b.isOuterDimensionSelectedOnly()){if(g.independent=this._createIndependentAxisSelection(h,b),!g.independent.length)return}else if(g.ragged=this._createRaggedAxisSelection(h,
b),!g.ragged.length)return;e.push(d.getViewChange(h,a,g));this._submitViewChanges(e)},b.clone()))}else{if(a===k.axisSelectionChange.SHOW_ALL_COLUMNS||a===k.axisSelectionChange.SHOW_ALL){h=[];r=this._model.getColumnNesting();for(f=0;f<r;f++)h.push({type:k.itemSelection.ALL});e.push(d.getViewChange(k.COLUMNS,a,{independent:h}))}if(a===k.axisSelectionChange.SHOW_ALL_ROWS||a===k.axisSelectionChange.SHOW_ALL){h=[];r=this._model.getRowNesting();for(f=0;f<r;f++)h.push({type:k.itemSelection.ALL});e.push(d.getViewChange(k.ROWS,
a,{independent:h}))}this._submitViewChanges(e)}},applyLevelSelectionChange:function(a,b){var d=(new m).getViewChangeGenerator(k.viewChangeType.LEVEL_SELECTION_SET),g=[];g.push(d.getViewChange(a,b));this._submitViewChanges(g)},attemptClear:function(a){if(this._assertDataRange(a)){var b=a.getView(this.getContext(),!1);if(b){this._model.assertSupportedRange(b);var d=[],g=this;this._forceLoad([b],!1,function(){var a=g._model.attemptClear(b).updatesCache;g._changeValidator&&(d=d.concat(g._changeValidator.validateUpdatesCache(a,
k.validatorActions.CLEAR)));d.length?g._gridView.confirm(null,d,function(){g._model.addNewUpdates(a,!0)},function(){g._model.cancelChanges()},g._changeValidator):g._model.addNewUpdates(a,!0)})}else F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable})}},attemptCopy:function(a,b){var d=new ta;if(!this._assertDataRange(a)||!this._gridView.setSelectionText)return d.reject(),d.promise;var g=this,e=a.getView(this.getContext(),!0);if(!e)return b||F.showInfoDialog(V.messageOperationUnavailableDueToSelection,
{title:V.titleOperationUnavailable}),d.reject(),d.promise;var h=-1,r=-1;if(a.isWholeGridSelected())r=h=0;else{var f=this.getContext(),t=a.currentCell;a.isWholeColumnSelected()&&(h=t.getFixedRowIndex(f));a.isWholeRowSelected()&&(r=t.getFixedColumnIndex(f))}this._forceLoad([e],!0,function(a){g._gridView.setSelectionText(g._model.getText(e,h,r));d.resolve(a)},function(a){d.reject(a)});return d.promise},attemptCopyToClipboard:function(a,b){if(!a.queryCommandSupported||!a.queryCommandSupported("copy"))this._showClipboardHelp();
else if(b)try{this.attemptCopy(b,!1).then(function(){try{a.execCommand("copy")?L.systemMessage(ma.systemMessageCopiedToClipboard):this._showClipboardHelp()}catch(b){console.error("attemptCopyToClipboard",b)}}.bind(this),function(a){console.error("attemptCopyToClipboard",a)})}catch(d){d instanceof r.KnownException?F.showErrorReporter(d,!0):F.showErrorReporter(new r.ClientException("anaplan.gridlet.GridController#attemptCopyToClipboard",d))}},attemptPasteFromClipboard:function(a){if(!a.queryCommandSupported||
!a.queryCommandSupported("paste"))this._showClipboardHelp();else{this._gridView.focusPasteNode();try{a.execCommand("paste")}catch(b){console.error("attemptPasteFromClipboard",b)}}},getSelectedColumnStyle:function(a){var b=null,d=this.getContext();try{if(a&&!a.isWholeRowSelected()&&!a.isWholeGridSelected()){var g=G.getColumnsSelection(a,d);if(g&&g.length)var e=g[0],b=e.style?e.style:null}}catch(h){F.throwClientException(this,h)}return b},beginColumnSettings:function(){var a=new M({model:this._model}),
b=F.getSharedDialog({roles:["column-settings"]}),d=this._gridView;b.set("title",la.titleColumnSettings);b.set("refocus",!1);b.set("content",a);a.on("cancel",U.hitch(this,function(){b.onCancel()}));a.on("apply",U.hitch(this,function(a){this.setColumnSizes(a.extraData.columnSettings);n.gather();b.hide()}));b.on("hide",U.hitch(this,function(){d.focus()}));b.setHelpContent(l.columnSettings);b.show()},_getSelectionView:function(){var a=this._gridView._selection;if(!this._assertDataRange(a))return null;
a=a.getView(this.getContext(),!0);return!a?(F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable}),null):a},attemptCopyAcross:function(a){var d,g,e=this._getSelectionView();if(e)if(b()){var h=this._model.getPrimarySelection(),r=this._model._viewDefinition,f=this._model.getContainerId();h&&w.copySelection(r,h,a,f)}else{var t,k,m,u,n=this._gridView.editorActive();switch(a){case "down":h=n?e.y[0]:e.y[1]+1;r=e.x[0];f=this._model.getRowCount()-1;t=e.x[1];d=e.y[0];
k=r;m=f;u=t;break;case "left":h=e.y[0];r=0;f=e.y[1];t=n?e.x[1]:e.x[0]-1;d=h;k=r;m=f;u=e.x[0];break;case "up":h=0;r=e.x[0];f=n?e.y[1]:e.y[0]-1;t=e.y[1];d=h;k=r;m=e.y[0];u=t;break;default:h=e.y[0],r=n?e.x[0]:e.x[1]+1,f=e.y[1],t=this._model.getColumnCount()-1,d=h,k=e.x[0],m=f,u=t}d={x:[k,u],y:[d,m]};g={x:[r,t],y:[h,f]};var v=this;this._forceLoad([d],!1,function(){var b=[];if(n){var d=v._model.getCell(e.y[0],e.x[0]),h=v._gridView.getEditorValue();if("NUMBER"===d.format.dataType&&!v._model._isNumeric(h,
d.format))return;h="NUMBER"===d.format.dataType?v._model._parseNumber(h,d.format):h;d=U.mixin(U.clone(d),{originalText:h});b.push([d])}else{var r;for(r=e.y[0];r<=e.y[1];r++){d=[];for(h=e.x[0];h<=e.x[1];h++)d.push(v._model.getCell(r,h));b.push(d)}}var f=v._model.attemptCopyAcross(g,b,a).updatesCache,b=[];v._changeValidator&&(b=v._changeValidator.validateUpdatesCache(f));b.length?v._gridView.confirm(null,b,function(){v._model.addNewUpdates(f,!0);v._gridView.editorActive()&&(v._gridView.endEditor(),
v._gridView.focus())},function(){v._model.cancelChanges()},v._changeValidator):(v._model.addNewUpdates(f,!0),v._gridView.editorActive()&&(v._gridView.endEditor(),v._gridView.focus()))});this._gridView.focus()}},attemptPaste:function(a,b,d,g){this._attemptPaste(a,b,d,g)},attemptToggle:function(a){if(this._assertDataRange(a)){var b=a.getView(this.getContext(),!1);if(b){this._model.assertSupportedRange(b);var d=this;this._forceLoad([b],!1,function(){var a=d._model.attemptToggle(b).updatesCache,g=[],
e=null,h=null,r=!1;if(d._changeValidator){var g=d._changeValidator.validateUpdatesCache(a),f=d.isProductionListChange(a);f.hasValue&&(e="true"===f.value?oa.titleConfirmRemoveProductionData:oa.titleConfirmSetProductionData,h="true"===f.value?oa.buttonUnset:oa.buttonSet,r=!0)}g.length?d._gridView.confirm(e,g,function(){d._model.addNewUpdates(a,!0)},function(){d._model.cancelChanges()},d._changeValidator,h,r):d._model.addNewUpdates(a,!0)})}else F.showInfoDialog(V.messageOperationUnavailableDueToSelection,
{title:V.titleOperationUnavailable})}},beginBulkDelete:function(){var a=this._gridView,b=a._selection,d=this._model,h,f;this.getPageInfo()&&(b&&d)&&(f=this.getContext(),h=b.getViews(this.getContext(),!0),this[G.isOperationOnColumns(b,f)?"_forceLoadColumnLabels":"_forceLoadRowLabels"](h,!1,U.hitch(this,function(){var h,t,k,m,u,n,v,x,w,y,B,q;try{if(b=a._selection,x=G.getNestingIndexForCurrentCell(b,f),-1!==x)if(n=G.getSelection(b,f),h=d.getViewDefinition(),t=U.clone(h),k=g.getHierarchyEntityLongIdForViewDefinition(e,
h),m=-1!==k?g.getHierarchyLabel(e,k):G.getSingleDimensionLabel(b,f),u=G.getSingleDimensionIdentifier(b,f),v=-1,v=G.isOperationOnColumns(b,f)?this._model.getColumnCount():this._model.getRowCount(),n.count){g.useAxisSpecification(t)?t.rowAxisSpecification=g.getAxisSpecification([u]):t.rows=u;this._adaptViewDefinition(t,u,n,x);w=z.getSystemAxisLabel(u,m);y=new K({dimensionIdentifier:u,listSize:v,listLabel:w,selectedItems:this._toUniqueSelectedItems(n,x),viewDefinition:t,model:d});B=new Z({roles:["bulk-delete"],
anapediaKey:l.deleteDialog,roles:["delete"],title:ya.substitute(V.titleBulkDelete,{listName:D.escapeHTML(w)}),refocus:!1,content:y});var p=fa(B,"Hide",function(){setTimeout(function(){B.destroy();p.remove();a.focus()},100)});y.own(fa(y,"Delete",U.hitch(this,function(){B.hide();a.fixSelection()})),fa(y,"Cancel",U.hitch(this,function(){B.onCancel()})));if(q=B.show())q.then(function(){y.onShow()});else y.onShow()}else F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable})}catch(A){F.showErrorReporter(new r.ClientException("anaplan.gridlet.GridController#beginBulkDelete (after force load)",
A))}})))},beginBulkInsert:function(a,b){try{this._bulkInsertDialog&&(this._bulkInsertDialog.destroy(),this._bulkInsertDialog=null);var d=this._gridView._selection,g=null,e=null,h=b&&b.systemAxisEntityLongIdIdentifier?b.systemAxisEntityLongIdIdentifier:G.getSingleDimensionIdentifier(d,this.getContext()),f=b&&b.systemAxisLabel?b.systemAxisLabel:G.getSingleDimensionLabel(d,this.getContext()),t=b&&b.entityTypeIndices?b.entityTypeIndices:G.getSingleDimensionEntityTypeIndices(d,this.getContext()),k=this.getContext(),
m=G.getNestingIndexForCurrentCell(d,k);if(-1!=m){var u=null;G.isOperationOnColumns(d,k)?(u=G.getColumnsSelection(d,k),g=this._gridView.getSelectedColumnLabelDomNode()):(u=G.getRowsSelection(d,this.getContext()),g=this._gridView.getSelectedRowLabelDomNode());u.count&&(e={isItemEditable:u.isItemEditable[m][0],canInsertSibling:u.canInsertSibling[m][0],entityLongId:u.entityLongIds[m][0],isAggregate:u.isAggregate[m][0],label:u.originalLabels[m][0]});a?this._bulkInsertDialog=a:z.isVersionSystemAxisIdentifier(h)?
this._bulkInsertDialog=new Q({model:this._model,viewDefinition:this._model.getViewDefinition(),systemAxisEntityLongIdIdentifier:h,systemAxisLabel:f}):z.isActionSystemAxisIdentifier(h)?this._bulkInsertDialog=new N(U.mixin({model:this._model,viewDefinition:this._model.getViewDefinition(),systemAxisEntityLongIdIdentifier:h,systemAxisLabel:f},b||{})):this._bulkInsertDialog=new I({model:this._model,viewDefinition:this._model.getViewDefinition(),systemAxisEntityLongIdIdentifier:h,systemAxisLabel:f});this._connections.push(fa(this._bulkInsertDialog,
"insert",U.hitch(this,"_doBulkInsert")));7!==xa("ie")&&this._gridView.scrollToSelection();this._bulkInsertDialog.show(U.mixin({relativeDomNode:g,relativeItem:e,hierarchyId:this._model.getHierarchyId(),moduleId:this._model.getModuleId(),systemAxisEntityLongIdIdentifier:h,systemAxisLabel:f,entityTypeIndices:t},b))}}catch(n){F.showErrorReporter(new r.UnsupportedOperationException(null,n,{operation:"Insert"}))}},beginEndUserImport:function(a){try{var b,d=F.getSharedDialog({roles:["end-user-import"]}),
h={workspaceId:workspaceId,modelId:modelId,importType:null,targetId:null};a?(h.moduleEntityLongId=this._model.getHierarchyEntityLongId(),h.importType=k.importType.HIERARCHY_DATA,h.targetId=x.entityLongIdToEntityLongIdIdentifier(h.moduleEntityLongId)):(b=g.getModuleEntityLongIdForViewDefinitionOrReference(e,this._model.getViewDefinition()),h.moduleEntityLongId=b,h.importType=this._model.isDataView()?k.importType.MODULE_DATA:k.importType.LINE_ITEM_DEFINITION,h.targetId=x.entityLongIdToEntityLongIdIdentifier(b));
var r=new T(h);d.set("title",Ba.titleRunImport);d.set("refocus",!1);d.set("content",r.domNode);d.setHelpContent(l.importDialog);var f=fa(r,"AtLeastOneImportAvailableToUser",function(){d.show()}),t=fa(r,"NoImportsAvailableToUser",function(){F.showInfoDialog(Ba.messageNoImportsAvailableToUser,{title:"Anaplan"})}),m=fa(r,"Close",function(){d.onCancel();f.remove();t.remove();m.remove()});r.prepare()}catch(u){F.throwClientException(this,u)}},beginImport:function(){try{var a=g.getModuleEntityLongIdForViewDefinitionOrReference(e,
this._model.getViewDefinition()),b=x.entityLongIdToEntityLongIdIdentifier(a),d=this._model.isDataView()?k.importType.MODULE_DATA:k.importType.LINE_ITEM_DEFINITION,h=F.getSharedDialog({roles:["import"]}),r=new S({workspaceId:workspaceId,modelId:modelId,importType:d,targetId:b});h.set("title","Select Source");h.set("refocus",!1);h.set("content",r.domNode);var f=fa(r,"Close",U.hitch(this,function(){h.onCancel();f.remove()}));h.setHelpContent(l.gridImport);h.show()}catch(t){F.throwClientException(this,
t)}},beginManageConditionalFormatting:function(){try{var a,b,d;d=this._gridView;a=F.getSharedDialog({roles:["conditional-formatting"]});b=new s({viewDefinition:this.getDataViewDefinition(),pageInfo:this.getDataPageInfo(),selectedLineItemIdentifiers:this._getSelectedLineItemIdentifiers()});a.set("title",la.titleConditionalFormatting);a.set("refocus",!1);a.set("content",b);b.own(fa(a,"hide",function(){a.reset();d.focus()}));b.own(fa(b,"cancel",function(){a.hide()}));b.own(fa(b,"submit",U.hitch(this,
function(b){var d;try{a.hide(),b.hasCompareDefinition()&&(d=b.getConditionalFormattingDefinition())&&(d.isActive&&!d.isEmpty())&&b.removeCompareDefinition(),this.setViewDefinition(b.toJSON()),n.gather()}catch(g){F.showErrorReporter(new r.ClientException("anaplan.gridlet.GridController.beginManageConditionalFormatting (onOk)",g))}})));a.show()}catch(g){throw new r.ClientException("anaplan.gridlet.GridController.beginManageConditionalFormatting",g);}},beginFilter:function(){var a,b,d,g,h,f,t,k,m,u;
try{if(g=this._gridView,u=g._selection,a=this.getContext(),this.getPageInfo()&&this._model)if((m=G.getCurrentRow(u,a))||(m=G.getFirstRow(a)),(k=G.getCurrentColumn(u,a))||(k=G.getFirstColumn(a)),f=this.getModuleEntityLongId(),t=e.getModuleInfo(f),h=t.lineItemsLabelPage,h.count)if(!m&&!k)F.showInfoDialog(la.messageFilterAbortNoSelection,{title:la.titleFilter});else{b=F.getSharedDialog({roles:["filter"]});d=new O({context:a,gridSelection:u,selectedRow:m,selectedColumn:k,gridController:this});b.set("title",
la.titleFilter);b.set("refocus",!1);b.set("content",d.domNode);b.set("isLayoutContainer",!1);var n=fa(d,"Cancel",function(){b.onCancel()}),v=fa(d,"ApplyFilter",function(){b.hide()}),x=fa(d,"DialogHide",function(){g.focus()});d.own(n,v,x);b.setHelpContent(l.filter);b.show()}else F.showInfoDialog(la.messageFilterAbortNoLineItems,{title:la.titleFilter})}catch(z){F.showErrorReporter(new r.UnsupportedOperationException(null,z,{operation:"Filter"}))}},beginMove:function(){try{var a=this._gridView._selection,
b=this.getContext();if(this.getPageInfo()&&a&&this._model){var d=G.getSelection(a,b);if(d.count){var e=G.getNestingIndexForCurrentCell(a,b);if(-1!==e){var h=U.clone(this._model.getViewDefinition()),f=G.getSingleDimensionIdentifier(a,b);g.useAxisSpecification(h)?h.rowAxisSpecification=g.getAxisSpecification([f]):h.rows=f;this._adaptViewDefinition(h,f,d,e);var t=F.getSharedDialog({roles:["move"]}),a=null,k=this._toUniqueSelectedItems(d,e),m;m=1<k.length?la.titleMultipleMove.replace("%item%",k[0].originalLabel).replace("%num%",
k.length-1):la.titleMove.replace("%item%",k[0].originalLabel);m=D.escapeHTML(m,!0);if(z.isCustomHierarchySystemAxisIdentifier(f)||z.isEntitySystemAxisIdentifier(f))var u=G.getHierarchyEntityLongIdForLabelsObject(d,e),a=new W({hierarchyId:u,itemsToMove:k,viewDefinition:h});else a=new R({moduleId:this._model.getModuleId(),hierarchyId:this._model.getHierarchyId(),selectedItems:k,viewDefinition:h});var n=fa(a,"Move",function(){t.hide()}),v=fa(a,"Cancel",function(){t.onCancel()}),x=fa(a,"DialogHide",function(){x.remove();
v.remove();n.remove()});t.set("title",m);t.set("refocus",!1);t.set("content",a.domNode);t.show()}}else F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable})}}catch(l){F.showErrorReporter(new r.UnsupportedOperationException(null,l,{operation:"Move"}))}},beginListFilter:function(a,b){try{var d=this.getPageInfo();if(d&&this._model){var e=this._gridView,h=A.getFilterSpecification(d,a,this.getContext()),f=new aa(U.mixin(h,{gridController:this,showJustItemsInView:b})),
t=h.targetAxis,m=h.lineItemEntityLongId,u=h.contextIdentifiers,n=this._getSelectedDomNode(t,e,a);this._commonFilterTooltipDialog=this._displayWidgetInTooltipAroundDomNode(f,n,t,la.titleListFilter);f.own(f.on("change",U.hitch(this,function(a){try{var b=t===k.ROWS?g.getAllDimensionIdentifiersForAxisSpecification(d.rowAxisSpecification):g.getAllDimensionIdentifiersForAxisSpecification(d.columnAxisSpecification);this._model.addListFilterChange(b,U.mixin(a,{lineItemEntityLongId:m,contextIdentifiers:u}))}catch(e){console.error("beginListFilter filter applied but attempt to add change to ViewRequestGridModel failed",
e)}})))}}catch(v){F.showErrorReporter(new r.UnsupportedOperationException(null,v,{operation:"ListFilter"}))}},beginQuickFilter:function(a){var b=this.getPageInfo();if(b&&this._model){var d=a||this.getSelectionObject();a=A.getFilterSpecification(b,d,this.getContext(),k.filterConditionType.QUICK);b=a.targetAxis===k.ROWS?b.rowAxisSpecification:b.columnAxisSpecification;if(g.axisSpecificationContainsSortAndFilterDefinition(b)&&!1===b.axisDefinition.sortAndFilterDefinition.isActive)F.showInfoDialog(Da.abortQuickFilterExistingFilterNotActive,
{title:Da.titleQuickFilter});else{b=new ga(U.mixin(a,{gridController:this,selection:d,onAddFilterCondition:U.hitch(this,function(a,b){ea.close(this._commonFilterTooltipDialog);this.addQuickFilterCondition(a,b).then(U.hitch(this,function(){d&&this._gridView.setCurrentSelection(d);this._gridView.focus()}),U.hitch(this,function(a){console.error("onAddFilterCondition",a)}))}),onRemoveFilterCondition:U.hitch(this,function(a,b){ea.close(this._commonFilterTooltipDialog);this.removeQuickFilterCondition(a,
b).then(U.hitch(this,function(){d&&this._gridView.setCurrentSelection(d);this._gridView.focus()}),U.hitch(this,function(a){console.error("onRemoveFilterCondition",a)}))}),onUpdateFilterCondition:U.hitch(this,function(a,b,g){ea.close(this._commonFilterTooltipDialog);this.updateQuickFilterCondition(a,b,g).then(U.hitch(this,function(){d&&this._gridView.setCurrentSelection(d);this._gridView.focus()}),U.hitch(this,function(a){console.error("onUpdateFilterCondition",a)}))})}));a=a.targetAxis;var e=this._getSelectedDomNode(a,
this._gridView,d);this._commonFilterTooltipDialog=this._displayWidgetInTooltipAroundDomNode(b,e,a,la.titleListFilter)}}},beginResetListFilter:function(a){try{var b=this.getPageInfo();if(b&&this._model){var d=a.isWholeRowSelected()?k.COLUMNS:g.isLineItemsOnRows(b)?k.COLUMNS:k.ROWS,e=d===k.COLUMNS?b.columnAxisSpecification:b.rowAxisSpecification,h=g.getAllDimensionIdentifiersForAxisSpecification(e);U.exists("axisDefinition.sortAndFilterDefinition.filterConditions",e);for(var f=this._model.getListFilterChanges(h),
t,m,u,n=f.length-1;0<=n;n--){var v=f[n];if(v.hasOwnProperty("added"))t=A.getExistingFilterConditionIndexForListFilter(e,v.lineItemEntityLongId,x.entityLongIdIdentifiersToEntityLongIds(v.contextIdentifiers)),-1<t&&(m=e.axisDefinition.sortAndFilterDefinition,u=m.filterConditions[t],da.forEach(v.added,function(a){a=da.indexOf(u.comparisonMultiValueOR,a);-1<a&&u.comparisonMultiValueOR.splice(a,1)}),u.comparisonMultiValueOR.length||(m.filterConditions.splice(t,1),m.filterConditions.length||delete e.axisDefinition.sortAndFilterDefinition));
else if(v.hasOwnProperty("removed"))if(t=A.getExistingFilterConditionIndexForListFilter(e,v.lineItemEntityLongId,x.entityLongIdIdentifiersToEntityLongIds(v.contextIdentifiers)),-1<t)m=e.axisDefinition.sortAndFilterDefinition,u=m.filterConditions[t],da.forEach(v.removed,function(a){u.comparisonMultiValueOR.push(a)});else{var l={comparisonDataType:"ENTITY",comparisonMultiValueOR:v.removed,comparisonOperator:"EQUALS",comparisonValue:null,contextIdentifiers:v.contextIdentifiers,lineItemIdentifier:x.entityLongIdToEntityLongIdIdentifier(v.lineItemEntityLongId),
moduleIdentifier:null};g.axisSpecificationContainsSortAndFilterDefinition(e)?e.axisDefinition.sortAndFilterDefinition.filterConditions.push(l):U.mixin(e.axisDefinition,{sortAndFilterDefinition:{filterConditions:[l],isActive:!0,filterMatchType:"ALL"}})}}var z=this._model.getViewDefinition();d===k.ROWS?U.mixin(z,{rowAxisSpecification:e}):U.mixin(z,{columnAxisSpecification:e});this.setViewDefinition(z);(new H({aggregatorObserver:this._model,showPleaseWait:!0})).gather([],[],[],!1).then(U.hitch(this,
function(){this._model.clearListFilterChangesForDimensionIdentifiers(h)}),U.hitch(this,function(a){console.error("beginResetListFilter",a)}))}}catch(w){F.showErrorReporter(new r.UnsupportedOperationException(null,w,{operation:"ResetListFilter"}))}},beginReOrder:function(){try{var a=this._gridView,b=a._selection,d=this.getContext();if(this.getPageInfo()&&b&&this._model){var e=G.getSelection(b,d);if(e.count){var h=G.getNestingIndexForCurrentCell(b,d);if(-1!==h){var f=U.clone(this._model.getViewDefinition()),
t=G.getSingleDimensionIdentifier(b,d);g.useAxisSpecification(f)?f.rowAxisSpecification=g.getAxisSpecification([t]):f.rows=t;this._adaptViewDefinition(f,t,e,h);var m=G.getSingleDimensionLabel(b,d),u=z.getSystemAxisLabel(t,m),n=new Z({roles:["reorder"],anapediaKey:l.reorder,roles:["reorder"],title:ya.substitute(la.titleReOrder,{listName:D.escapeHTML(u)}),refocus:!1}),v=this._toUniqueSelectedItems(e,h);if(z.isCustomHierarchySystemAxisIdentifier(t)||z.isEntitySystemAxisIdentifier(t))console.warn("Can't reorder a hierarchy");
else{var x=new Y({moduleId:this._model.getModuleId(),hierarchyId:this._model.getHierarchyId(),selectedItems:v,viewDefinition:f,lockedEntityIds:[k.BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID]}),w=fa(n,"Hide",function(){setTimeout(function(){n.destroy();a.focus()},100)}),y=fa(x,"cancel",function(){n.onCancel()}),B=fa(x,"submitted",function(){n.hide()});n.own(B,y,w);n.set("content",x.domNode);n.show()}}}else F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable})}}catch(q){F.showErrorReporter(new r.UnsupportedOperationException(null,
q,{operation:"ReOrder"}))}},beginShowHistory:function(a,b){if("RANGE"===b){var d=this.getGridlet(),g=new J;dialog=new Z({roles:["history","history-date-range"],anapediaKey:l.showHistory,title:la.titleHistoryDateRange,refocus:!1,content:g});dialog.own(fa(dialog,"hide",function(){dialog.destroyRecursive();d.focus()}),fa(g,"cancel",function(){dialog.hide()}),fa(g,"applyChanges",function(){var d=ka.byId("showCellHistoryFromDate").get("value"),g=null,e=null;d&&(g=this._convertToIsoDate(d));(d=ka.byId("showCellHistoryToDate").get("value"))&&
(e=this._convertToIsoDate(d));dialog.hide();this.beginShowHistoryImpl(a,b,g,e)}.bind(this)));dialog.show()}else this.beginShowHistoryImpl(a,b,null,null)},_convertToIsoDate:function(a){var b={selector:"date"};return a?Aa.toISOString(a,b):a},beginShowHistoryImpl:function(a,b,d,g){var e=this.getGridlet(),h=[],r=[],f,t,k,m,u;if(a&&!a.isWholeRowSelected()){t=G.getColumnsSelection(a,this.getContext());for(k=0;k<t.count;k++){m=[];for(u=0;u<t.entityLongIds.length;u++)m.push(t.entityLongIds[u][k]);r.push(m)}}if(a&&
!a.isWholeColumnSelected()){a=G.getRowsSelection(a,this.getContext());for(t=0;t<a.count;t++){k=[];for(m=0;m<a.entityLongIds.length;m++)k.push(a.entityLongIds[m][t]);h.push(k)}}a=e._model.getViewDefinition();t=U.clone(this.getPageInfo());b=new P({allowRestore:!1,includeFullModelHistory:!1,viewDefinition:a,pageInfo:t,historyDuration:b,rowsSelectionEntityLongIds:h,columnsSelectionEntityLongIds:r,historyFromDate:d,historyToDate:g});f=new Z({roles:["history"],anapediaKey:l.showHistory,title:la.titleHistory,
refocus:!1,content:b});f.own(fa(f,"hide",function(){f.destroyRecursive();e.focus()}),fa(b,"cancel",function(){f.hide()}));f.show()},beginSelectItems:function(a){try{var b=this.getContext(),d=this._gridView,e=a||d._selection,h=G.getSelectedAxisSpecification(e,b);if(h){var f=this.getPageInfo(),t=this._getRhsViewDefinitionForSelectItems(h,f.staticContext.entityLongIds[0]),k=new ca({rhsViewDefinition:t}),m=g.axisSpecificationContainsSelection(h),u=new Z({roles:["select-items"],anapediaKey:l.selectItemsDialog,
autofocus:!1,content:k,title:m?la.titleReselectItems:la.titleSelectItems});k.own(u.on("hide",function(){d.focus()}),k.on("submit",U.hitch(this,function(a){try{var b=this._model.getViewDefinition();if(e.isWholeRowSelected())b.rowAxisSpecification=a.itemIdentifiers.length?g.addSelectionToAxisSpecification(h,a.modifier,a.itemIdentifiers):g.removeSelectionFromAxisSpecification(h);else if(e.isWholeColumnSelected())b.columnAxisSpecification=a.itemIdentifiers.length?g.addSelectionToAxisSpecification(h,a.modifier,
a.itemIdentifiers):g.removeSelectionFromAxisSpecification(h);else{F.showInfoDialog(V.messageSelectItemsDenied,{title:V.titleSelectItemsDenied});return}this.setViewDefinition(b);n.gather()}catch(r){console.error(d.id,r,a)}finally{u.hide()}})),k.on("cancel",function(){u.hide()}),k.on("abort",function(a){u.hide();F.showInfoDialog(a,la.titleSelectItems)}));u.show().then(function(){k.focus()})}else F.showInfoDialog(V.messageSelectItemsDenied,{title:V.titleSelectItemsDenied})}catch(v){console.error("beginSelectItems",
v),F.showErrorReporter(new r.ClientException(null,v,{}))}},beginSelectLevels:function(a){var b=this._gridView;a=a||b._selection;var d=this.getContext(),h,r,f,t,k;G.canSelectLevels(a,d)?(f=G.getSelectedAxisSpecification(a,d))?(k=G.getSelectedDimensionIdentifiers(a,d),0===k.length?F.showInfoDialog(V.messageSelectLevelsDenied,{title:V.titleSelectLevelsDenied}):(1<k.length&&console.warn("anaplan/gridlet/GridController#beginSelectLevels: unexpected number of dimensions selected ("+k.length+")"),t=k[0],
(f=g.getAxisDefinitionOfDimensionInAxisSpecification(f,t))?g.axisDefinitionContainsBranchSync(f)?F.showInfoDialog(za.messageSelectLevelsOnSyncBranch,{title:za.titleSelectLevelsOnSyncBranch}):(h=F.getSharedDialog({autofocus:!1,roles:["select-levels"]}),k=x.entityLongIdIdentifierToEntityLongId(t),f=g.getLabelForDimensionIdentifier(e,t),k=z.isLineItemsSystemAxisIdentifier(t)||z.isLineItemSubsetSystemAxisIdentifier(t)?[{label:f,entityLongId:k,parentId:-1}]:g.getHierarchyLevels(e,k),r=new X({levels:k,
selectedLevels:G.getSelectedLevelsFromAxisDefinition(a,d)}),r.own(h.on("hide",function(){b.focus()}),r.on("submit",U.hitch(this,function(a){this.applyLevelSelectionChange(t,a);h.hide()})),r.on("cancel",function(){h.hide()})),a=G.selectedListContainsLevelBasedSelection(a,d)?la.titleReselectLevels:la.titleSelectLevels,a=ya.substitute(a,{listName:D.escapeHTML(f)}),h.set("title",a),h.set("content",r),h.setHelpContent(l.selections),h.show().then(function(){r.focus()})):console.error("anaplan.gridlet.GridController#beginSelectLevels: selected axis definition not found"))):
console.error("anaplan.gridlet.GridController#beginSelectLevels: selected axis specification not found"):F.showInfoDialog(V.messageSelectLevelsDenied,{title:V.titleSelectLevelsDenied})},beginSimpleSort:function(){try{var a=this._gridView,b=a._selection,d=this.getContext(),g=G.getCurrentColumn(b,d);g||(g=G.getFirstColumn(d));var h=G.getCurrentRow(b,d);h||(h=G.getFirstRow(d));var f=this.getModuleEntityLongId();if(e.getModuleInfo(f).lineItemsLabelPage.count){var t=F.getSharedDialog({roles:["sort"]}),
k=new ba({selection:b,selectedRow:h,selectedColumn:g,gridController:this,setTitle:function(a){t.set("title",a)}});t.set("refocus",!1);t.set("content",k.domNode);var m=fa(k,"ApplySort",function(){t.hide()}),u=fa(k,"Cancel",function(){t.onCancel()}),n=fa(k,"DialogHide",function(){a.focus();m.remove();n.remove();u.remove()});t.setHelpContent(l.sort);t.show()}else F.showInfoDialog(la.messageSortAbortNoLineItems,{title:la.titleSort})}catch(v){r.isClientException(v)||F.showErrorReporter(new r.UnsupportedOperationException(null,
v,{operation:"SimpleSort"}))}},beginTotalGrouping:function(){var a=this.getModuleEntityLongId(),b=this._gridView,d,h;a?(a=e.getModuleInfo(a))?(a=a.lineItemsLabelPage,a.count?(a=(a=this.getSelectionObject())?a.isWholeRowSelected():!1,h=this.getPageInfo(),h=a?h.columnAxisSpecification:h.rowAxisSpecification,y.containsNestedDimensions(h)?F.showInfoDialog(ua.messageTotalGroupingAbortNestedDimensions,{title:ua.titleNestedError}):g.axisSpecificationContainsEmpty(h)?F.showInfoDialog(ua.messageTotalGroupingAbortEmptyAxis,
{title:ua.titleEmptyError}):g.axisSpecificationContainsVersion(h)?F.showInfoDialog(ua.messageTotalGroupingAbortVersions,{title:ua.titleVersionsError}):g.axisSpecificationContainsLineItems(h)?(g.axisSpecificationContainsAxisOrder(h)&&(h.axisDefinition.axisOrder=null),F.showInfoDialog(ua.messageTotalGroupingAbortLineItems,{title:ua.titleLineItemsError})):(d=F.getSharedDialog({roles:["total-position"]}),h=new $({gridController:this,targetAxisSpecification:h,isRowSelected:a}),d.set("refocus",!1),d.set("content",
h.domNode),d.set("title",a?ua.titleColumns:ua.titleRows),h.own(fa(h,"applyTotalGroupings",function(){d.hide()}),fa(h,"cancel",function(){d.onCancel()}),fa(d,"hide",function(){b.focus()})),d.setHelpContent(l.totals),d.show())):F.showInfoDialog(la.messageTotalGroupingAbortNoLineItems,{title:la.titleTotalGrouping})):console.warn("anaplan/gridlet/GridController#beginTotalGrouping: failed to retrieve module info"):console.warn("anaplan/gridlet/GridController#beginTotalGrouping: called on non-module view")},
checkBreakbackHoldMessages:function(){var a=this._model.getSerialNumbers();if(a.pageInfoSerialNumber!==this._lastBreakbackHoldMessageSerialNumber&&(this._lastBreakbackHoldMessageSerialNumber=a.pageInfoSerialNumber,a=new q(this.getPageInfo()),a=a.getBreakbackHoldStatus()))a=a.getErrorMessages(),a.length&&F.showErrorReporter(new r.KnownException(a.join("\x3cp\x3e")))},destroy:function(){da.forEach(this._connections,function(a){a.remove()});da.forEach(this._subscriptions,function(a){a.remove()});this._bulkInsertDialog&&
(this._bulkInsertDialog.destroy(),this._bulkInsertDialog=null);this._commonFilterTooltipDialog&&(ea.close(this._commonFilterTooltipDialog),this._commonFilterTooltipDialog=null);this._gridView&&L.undoManagerClear(this._gridView.id);this._model=this._gridView=null},drillDown:function(a,b,d){if(this.isDataView()&&this._assertDataRange(a)){var g=a.getViews(this.getContext(),!1);!g||!g.length?F.showInfoDialog(V.messageOperationUnavailableDueToSelection,{title:V.titleOperationUnavailable}):(this._model.assertSupportedRanges(g),
this._forceLoad(g,!1,U.hitch(this,function(){this._drillDown(a,b,d)})))}},drillToTransaction:function(a){var b,g,e;a=a||this._gridView._selection;this.isDataView()&&(this._assertDataRange(a)&&a.isSingleDataCellSelected())&&(a=a.getViews(this.getContext(),!0),g=this._model.getLabelsAndCellsObjects(a[0]),b=g.cellsObject,a=g.rowLabelsObject,g=g.columnLabelsObject,!b.isCalculated[0]&&b.isEditable[0]||"NONE"===b.formats[0].dataType?F.showInfoDialog(V.messageDrillToTransactionRestricted,{title:V.titleDrillToTransaction}):
(b=this._model.getPageInfo(),a={actionId:"DRILL_DOWN_TRANSACTION",params:{modelId:modelId,cells:{rowEntityLongIds:a.entityLongIds,columnEntityLongIds:g.entityLongIds,currentPageEntityLongIds:b.currentPageLabels.entityLongIds,staticContextEntityLongIds:b.staticContext.entityLongIds}}},a=d.createRequest(workspaceId,[],[],[a]),e=function(a){F.hidePleaseWaitDialog();F.showErrorReporter(new r.KnownException(a.error||a));return!0},b=U.hitch(this,function(a){F.hidePleaseWaitDialog();if(!a||!a.result||!a.result.systemActionResults||
!a.result.systemActionResults[0]||!a.result.systemActionResults[0].moduleEntityLongId||!a.result.systemActionResults[0].viewDefinition)return e(a);a=a.result.systemActionResults[0];var b=!1;a.viewDefinition.currentPageIdentifiers&&0<a.viewDefinition.currentPageIdentifiers.length&&(b=!0);pa.publish("anaplan/views",a.moduleEntityLongId,{viewDefinition:a.viewDefinition,overrideDefaultPages:b})}),n.post(a,!1,b,e)))},endCellEdit:function(a){if(a){var b=this.getContext(),d=a.currentCell,e=d.getStartRowIndex(b),
b=d.getStartColumnIndex(b),d=this.getPageInfo();-1===e&&g.axisSpecificationContainsEmpty(d.rowAxisSpecification)&&(e=0);-1===b&&g.axisSpecificationContainsEmpty(d.columnAxisSpecification)&&(b=0);if(-1===e||-1===b)return console.warn("anaplan.gridlet.GridController.endCellEdit: failed to find row/column index"),null;a.rowIndex=e;a.columnIndex=b}var b=this._model.setValue(a),h=b.updatesCache,d=[],r=null,f="OK",t=!1,m="";this._changeValidator&&(d=this._changeValidator.validateUpdatesCache(h),!0===this.isProductionListChange(h).hasValue?
(r="true"===a.value?oa.titleConfirmSetProductionData:oa.titleConfirmRemoveProductionData,f="true"===a.value?oa.buttonSet:oa.buttonUnset,t=!0,m="default.htm#cshid\x3d1409"):!0===this.isUserListChange(h).hasValue&&a.value.entityId===k.roles.NO_ACCESS&&(r=wa.titleSetRoleToNoAccess,t=!0,a=this._model.getCell(e,0).cellValue,e=this._model.getCell(e,1).cellValue,d[0]=ya.substitute(d[0],{firstName:a,lastName:e})));if(d.length||!0===t){var u=this;this._gridView.confirm(r,d,function(){u._model.addNewUpdates(h,
!1)},function(){u._model.cancelChanges()},u._changeValidator,f,t,m)}else this._model.addNewUpdates(h,!1);return b.valuesUpdate},isUserListChange:function(a){var b=!1,d="";a=a.getCellUpdates();if(!a.isEmpty()){a=a.getItemsArray();for(var g=a.length,e=0;e<g;e++)b=a[e],d=b.currentDisplayText,b=-1!==da.indexOf(b.entityLongIds,k.SYSTEM_PROPERTY_USER_MODEL_ROLE)}return{hasValue:b,value:d}},isProductionListChange:function(a){var b=!1,d="";a=a.getCellUpdates();if(!a.isEmpty()){a=a.getItemsArray();for(var g=
a.length,e=0;e<g;e++)b=a[e],d=b.currentDisplayText,b=-1!==da.indexOf(b.entityLongIds,k.SYSTEM_PROPERTY_HIERARCHY_PRODUCTION_DATA)}return{hasValue:b,value:d}},endColumnLabelEdit:function(a){try{if(a&&a.currentCell)if(this._idChecker.checkId(a.value)){var b=this.getContext(),d=a.currentCell,g=d.getStartColumnIndex(b),e=d.getColumnNestingIndex();-1===g||-1===e?console.warn("anaplan.gridlet.GridController.endColumnLabelEdit: failed to find column/nesting index"):(a.rowIndex=-1,a.columnIndex=g,a.columnNestingIndex=
e,this._model.setColumnLabel(a))}else F.showErrorReporter(new r.ClientException(this._idChecker.getInvalidIdMessage()),!0)}catch(h){throw this._gridView.error(h),new r.ClientException("GridController: endColumnLabelEdit",h,{value:a.value,columnIndex:a.columnIndex,columnNestingIndex:a.columnNestingIndex});}},endRowLabelEdit:function(a){try{if(a&&a.currentCell)if(this._idChecker.checkId(a.value)){var b=this.getContext(),d=a.currentCell,g=d.getStartRowIndex(b),e=d.getRowNestingIndex();-1===g||-1===e?
console.warn("anaplan.gridlet.GridController.endRowLabelEdit: failed to find row/nesting index"):(a.rowIndex=g,a.columnIndex=-1,a.rowNestingIndex=e,this._model.setRowLabel(a))}else F.showErrorReporter(new r.ClientException(this._idChecker.getInvalidIdMessage()),!0)}catch(h){throw this._gridView.error(h),new r.ClientException("GridController: endRowLabelEdit",h,{value:a.value,rowIndex:a.rowIndex,rowNestingIndex:a.rowNestingIndex});}},forceLoadSelection:function(a){var b=new ta;if(!this._assertDataRange(a))return b.reject("no cells selected"),
b.promise;var d;try{d=this.getCellCountInSelection(a)}catch(e){return b.reject(e),b.promise}if(d>k.quickSum.FORCE_LOAD_CELL_LIMIT)return b.reject("selection exceeds limit of "+k.quickSum.FORCE_LOAD_CELL_LIMIT+" cells"),b.promise;d=this._model.getViewDefinition();if(!d||"MODEL_DATA"!==d.type)return b.reject("not a MODEL_DATA view"),b.promise;var h=d.rowAxisSpecification,r=d.columnAxisSpecification,f=this._model.getRowNesting(),t=this._model.getColumnNesting(),u=[],n;if(!a.isWholeGridSelected()){var v=
(new m).getViewChangeGenerator(k.viewChangeType.AXIS_SELECTION_CHANGE);n=f-1;if(!a.isWholeColumnSelected()&&0<=n){if(g.axisSpecificationContainsBranchSync(h))return b.reject("row axis contains a branch sync"),b.promise;if(g.getAllDimensionIdentifiersForAxisSpecification(h).some(function(a){return z.isEntitySystemAxisIdentifier(a)||z.isPropertySystemAxisIdentifier(a)}))return b.reject("not a valid axis for a show selection"),b.promise;h=G.getSelectedRows(a,this.getContext());if(h.length>k.SERVER_SELECTION_DEFINITION_SIZE_LIMIT)return b.reject("selection definition exceeds server limit"),
b.promise;if(h.some(function(a){return-1!==a.entityLongIds[n].indexOf(-1)}))return b.reject("insufficient data to make selection on rows"),b.promise;h={};1===f||a.isOuterDimensionSelectedOnly()?h.independent=this._createIndependentAxisSelection(k.ROWS,a):h.ragged=this._createRaggedAxisSelection(k.ROWS,a);u.push(v.getViewChange(k.ROWS,k.SELECTION_RULE_MODIFIER_SHOW,h))}n=t-1;if(!a.isWholeRowSelected()&&0<=n){if(g.axisSpecificationContainsBranchSync(r))return b.reject("column axis contains a branch sync"),
b.promise;if(g.getAllDimensionIdentifiersForAxisSpecification(r).some(function(a){return z.isEntitySystemAxisIdentifier(a)||z.isPropertySystemAxisIdentifier(a)}))return b.reject("not a valid axis for a show selection"),b.promise;r=G.getSelectedColumns(a,this.getContext());if(r.length>k.SERVER_SELECTION_DEFINITION_SIZE_LIMIT)return b.reject("selection definition exceeds server limit"),b.promise;if(r.some(function(a){return-1!==a.entityLongIds[n].indexOf(-1)}))return b.reject("insufficient data to make selection on columns"),
b.promise;r={};1===t||a.isOuterDimensionSelectedOnly()?r.independent=this._createIndependentAxisSelection(k.COLUMNS,a):r.ragged=this._createRaggedAxisSelection(k.COLUMNS,a);u.push(v.getViewChange(k.COLUMNS,k.SELECTION_RULE_MODIFIER_SHOW,r))}}a={workspaceId:workspaceId,modelId:modelId,dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],rowLabelPageRequests:[],columnLabelPageRequests:[],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:U.mixin({},this._model.getSerialNumbers(),
{dataSerialNumber:-1}),viewDefinition:d,viewIndex:u.length?-1:this._model.getViewIndex(),viewChanges:u};try{this._forceLoadSelectionSubmissionHandler&&this._forceLoadSelectionSubmissionHandler.cancel(),this._forceLoadSelectionSubmissionHandler=new H({showPleaseWait:!1}),this._forceLoadSelectionSubmissionHandler.post(null,[a],null,!1).then(function(a){if(!a||!a.result)return b.reject("no response");if(a.error)return b.reject(a.error);if(a.result.errorInfo)return b.reject(a.result.errorInfo);a=U.getObject("result.viewRequestResults",
!1,a);if(!a||!a.length)return b.reject("no view request results");a=a[0].dataPages;if(!a||!a.length)return b.reject("no data pages");this._forceLoadSelectionSubmissionHandler.cancel();b.resolve(a)}.bind(this),function(a){this._forceLoadSelectionSubmissionHandler.cancel();b.reject(a)}.bind(this))}catch(x){this._forceLoadSelectionSubmissionHandler&&this._forceLoadSelectionSubmissionHandler.cancel(),b.reject(x)}return b.promise},getCellCountInSelection:function(a){if(!(void 0===a?this._gridView._selection:
a))return 0;a=a.getViews(this.getContext(),!0);if(!a.length)throw Error("invalid selection");return this._countCellsInSelectionViews(a)},getSelectionObject:function(){return this._gridView._selection},setBestSelection:function(){var a=[],b=[];if(this._selectionCoords){var d=this.getPageInfo(),e=this._selectionCoords,h=g.getAllDimensionIdentifiersForAxisSpecification(d.rowAxisSpecification);da.forEach(h,function(b){z.isLineItemsSystemAxisIdentifier(b)?e[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER]&&
a.push(e[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER].entityLongId):e[b]&&a.push(e[b].entityLongId)});d=g.getAllDimensionIdentifiersForAxisSpecification(d.columnAxisSpecification);da.forEach(d,function(a){z.isLineItemsSystemAxisIdentifier(a)?e[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER]&&b.push(e[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER].entityLongId):e[a]&&b.push(e[a].entityLongId)})}d=new t;d.initializeToDefaults();if(b.length||a.length)b.length&&(d.currentCell.setX({index:null,offset:0,
entityLongIds:b}),a.length||(d.currentCell.setY({fixedIndex:0}),d.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null}))),a.length&&(d.currentCell.setY({index:null,offset:0,entityLongIds:a}),b.length||(d.currentCell.setX({fixedIndex:0}),d.getCurrentRange().bottomRight.setX({index:-1,offset:0,entityLongIds:null}))),d.getCurrentRange().setTopLeft(d.currentCell.clone());else if(h=this._gridView.getValues())h.dataRowCount||(d.currentCell.setY({fixedIndex:0}),d.getCurrentRange().topLeft.setY(d.currentCell.y.clone()),
d.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null})),h.dataColumnCount||(d.currentCell.setX({fixedIndex:0}),d.getCurrentRange().topLeft.setX(d.currentCell.x.clone()),d.getCurrentRange().bottomRight.setX({index:-1,offset:0,entityLongIds:null}));this._gridView._setSelection(d)},getButtonInfosForDashboardElements:function(){try{if(this._gridView&&this._gridView._selection){for(var a=G.getSelection(this._gridView._selection,this.getContext()),b=[],d=0;d<a.entityLongIds[0].length;d++)b.push({dashboardElementType:k.dashboardElementType.BUTTON,
jsonProperties:ia.stringify({taskElements:[{actionEntityLongId:a.entityLongIds[0][d],actionLabel:a&&a.labels&&a.labels[0]&&a.labels[0][d]?a.labels[0][d]:""}]})});return b}}catch(g){throw new r.ClientException("anaplan.gridlet.GridController.getButtonInfosForDashboardElements",g);}},getLineItemCellViewInfosForDashboardElements:function(){var a=new ta;try{var b=null,d=[],e={},h=this._gridView._selection,f,t,m,u,n,v,l,z,w,y=!1,B=-1;if(this.isDataView()){w=this.getViewDefinition();z=this.getPageInfo();
n=z.pageAxisSpecifications;v=n.length;for(u=0;u<v;u++)if(f=g.getAllDimensionIdentifiersForAxisSpecification(n[u]),l=g.getAxisSpecification(f),g.axisSpecificationContainsLineItems(l)){var b=l,q=x.entityLongIdToEntityLongIdIdentifier(z.currentPageLabels.entityLongIds[0][u]);e[q]=!0}else d.push(l);f=g.getAllDimensionIdentifiersForAxisSpecification(z.rowAxisSpecification);t=f.length;for(m=0;m<t;m++)l=g.getAxisSpecification([f[m]]),g.axisSpecificationContainsLineItems(l)?(b=l,y=!0,B=m):g.axisSpecificationContainsEmpty(l)||
d.push(l);f=g.getAllDimensionIdentifiersForAxisSpecification(z.columnAxisSpecification);t=f.length;for(m=0;m<t;m++)l=g.getAxisSpecification([f[m]]),g.axisSpecificationContainsLineItems(l)?(b=l,y=!1,B=m):g.axisSpecificationContainsEmpty(l)||d.push(l)}else{w=this.getDataViewDefinition();z=this.getDataPageInfo();n=z.pageAxisSpecifications;v=n.length;for(u=0;u<v;u++)f=g.getAllDimensionIdentifiersForAxisSpecification(n[u]),l=g.getAxisSpecification(f),g.axisSpecificationContainsLineItems(l)?b=l:d.push(l);
f=g.getAllDimensionIdentifiersForAxisSpecification(z.rowAxisSpecification);t=f.length;for(m=0;m<t;m++)l=g.getAxisSpecification([f[m]]),g.axisSpecificationContainsLineItems(l)?b=l:g.axisSpecificationContainsEmpty(l)||d.push(l);f=g.getAllDimensionIdentifiersForAxisSpecification(z.columnAxisSpecification);t=f.length;for(m=0;m<t;m++)l=g.getAxisSpecification([f[m]]),g.axisSpecificationContainsLineItems(l)?b=l:g.axisSpecificationContainsEmpty(l)||d.push(l);y=!0;B=0}if(!h)return F.showInfoDialog(V.messagePublishLineItemsToDashboardNoSelection,
{title:V.titlePublishLineItemsToDashboard}),a;if(-1!==B){var p=h.getViews(this.getContext(),!1);if(!p||!p.length)return a.reject("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements: invalid selection"),a;y?da.forEach(p,function(a){a.x[0]=a.x[1]=-1}):da.forEach(p,function(a){a.y[0]=a.y[1]=-1});this._model.assertSupportedRanges(p);y?this._forceLoadRowLabels(p,!1,U.hitch(this,function(){var g=G.getSelectionOnRows(h,this.getContext()),r;if(g)for(var f=0,t=g.count;f<t;f++)r=g.entityLongIds[B][f],
x.getEntityTypeIndex(r)!==k.MODULE_ENTITY_TYPE_INDEX&&(e[x.entityLongIdToEntityLongIdIdentifier(r)]=!0);else a.reject("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements: failed to retrieve selected Line Items on rows");a.resolve(this._createCellViewInfos(Ea.keys(e),b,d,U.clone(w.staticContextIdentifiers)))},function(){a.reject("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements: error loading row labels")})):this._forceLoadColumnLabels(p,!1,U.hitch(this,
function(){var g=G.getSelectionOnColumns(h,this.getContext());if(g)for(var r=0,f=g.count;r<f;r++)e[x.entityLongIdToEntityLongIdIdentifier(g.entityLongIds[B][r])]=!0;else a.reject("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements: failed to retrieve selected Line Items on columns");a.resolve(this._createCellViewInfos(Ea.keys(e),b,d,U.clone(w.staticContextIdentifiers)))},function(){a.reject("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements: error loading column labels")}))}else a.resolve(this._createCellViewInfos(Ea.keys(e),
b,d,U.clone(w.staticContextIdentifiers)))}catch(A){throw new r.ClientException("anaplan.gridlet.GridController.getLineItemCellViewInfosForDashboardElements",A);}return a},getColumnSizes:function(){return this._model.getColumnSizes()},getContext:function(){var a={};if(this._gridView){var b=this._gridView.getValues();b&&(a.values=b)}this._model&&(a.model=this._model,a.pageInfo=this.getPageInfo());return a},getDataPageInfo:function(){return this.isDataView()?this.getPageInfo():this._dataPageInfo},getDataViewDefinition:function(){return this.isDataView()?
this.getViewDefinition():this._dataView},getGridlet:function(){return this._gridView},getLabelPage:function(a,b,d,g){return this._model.getLabelPage(a,b,d,g)},getLabelPages:function(a,b,d){return this._model.getLabelPages(a,b,d)},getModuleEntityLongId:function(){return this._model.getModuleEntityLongId()},getPageInfo:function(){return this._model.getPageInfo()},getPageSelectorViewInfosForDashboardElements:function(){var a=[],b=[],d=[],e,h,f,t,m,u,n,v,l;try{e=this.getViewDefinition();h=this.getPageInfo();
f=g.getAllDimensionIdentifiersForAxisSpecification(h.rowAxisSpecification);if(1===f.length&&z.isSubsetSystemAxisIdentifier(f[0])){t=G.getSelectionOnRows(this._gridView._selection,this.getContext());m=t.count;for(u=0;u<m;u++)b.push(k.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER),d.push([x.entityLongIdToEntityLongIdIdentifier(t.entityLongIds[0][u])])}else 1===f.length&&z.isEntitySystemAxisIdentifier(f[0])?(b.push(k.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER),d.push(e.staticContextIdentifiers.slice())):(this.isDataView()||
(e=this.getDataViewDefinition(),h=this.getDataPageInfo()),da.forEach(g.getAllDimensionIdentifiersForPageInfo(h),function(a){!z.isEmptySystemAxisIdentifier(a)&&(!z.isLineItemsSystemAxisIdentifier(a)&&!z.isLineItemSubsetSystemAxisIdentifier(a))&&(z.isTimeSystemAxisIdentifier(a)||z.isVersionSystemAxisIdentifier(a)?(b.push(a),d.push(e.staticContextIdentifiers.slice())):(b.push(k.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER),d.push([a])))}));n=b.length;for(v=0;v<n;v++)l=[g.getAxisSpecification([b[v]])],a.push({dashboardElementType:k.dashboardElementType.PAGE_SELECTOR,
pageInfo:{pageAxisSpecifications:l},viewDefinition:{type:"MODEL_DATA",rowAxisSpecification:{axisDefinition:null,axisDefinitionIdentifier:k.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER},columnAxisSpecification:{axisDefinition:null,axisDefinitionIdentifier:k.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER},pageAxisSpecifications:l,staticContextIdentifiers:d[v]}})}catch(w){throw new r.ClientException("anaplan.gridlet.GridController#getPageSelectorViewInfosForDashboardElements",w);}return a},getPropertyOrSubsetCellViewInfosForDashboardElements:function(){var a=
new ta;try{var b=this.getViewDefinition(),d=this.getPageInfo(),g=this._gridView._selection,e=[{axisDefinition:null,axisDefinitionIdentifier:x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_ENTITY_ENTITY_LONG_ID)}],h=g.getViews(this.getContext(),!1);if(!h||!h.length)return a.reject("anaplan.gridlet.GridController.getPropertyOrSubsetCellViewInfosForDashboardElements: invalid selection"),a;this._model.assertSupportedRanges(h);this._forceLoadRowLabels(h,!1,U.hitch(this,function(){for(var h=
G.getSelectionOnRows(g,this.getContext()),r={},f=h.count,t,m=null,u=0;u<f;u++)if((t=h.entityLongIds[0][u])&&-1!==t)m||x.getEntityTypeIndex(t)===k.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX&&(m=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_PROPERTY_IS_MEMBER_OF)),r[x.entityLongIdToEntityLongIdIdentifier(t)]=!0;h=Ea.keys(r);r=U.clone(b.staticContextIdentifiers);m&&r.push(m);a.resolve(this._createCellViewInfos(h,d.rowAxisSpecification,e,r))}))}catch(f){throw new r.ClientException("anaplan.gridlet.GridController.getPropertyOrSubsetCellViewInfosForDashboardElements",
f);}return a},getSelectorLabelPage:function(a,b,d){a=x.getEntityTypeIndex(a);a=x.getEntityTypeEntityLongId(a);return b?(this.getSelectorLabelPageForHierarchyEntityLongId(a,b,d),null):this.getSelectorLabelPageForHierarchyEntityLongId(a)},getSelectorLabelPageForHierarchyEntityLongId:function(a,b,d){return b?(this._model.getSelectorLabelPage(a,b,d),null):this._model.getSelectorLabelPage(a)},getViewDefinition:function(){return this._model.getViewDefinition()},getViewName:function(){return this._model.getViewName()},
getViewReference:function(){return this._model.getViewReference()},holdCells:function(a){(a=a||this._gridView._selection)?this._addBreakbackHoldOrReleaseViewChange(k.viewChangeType.BREAKBACK_HOLD,a):console.warn("anaplan.gridlet.GridController#holdCells: no selection in the grid")},isDataView:function(){return this._model.isDataView()},isSavedView:function(){return this._model.isSavedView()},isSubsidiaryView:function(){return this._model.isSubsidiaryView()},pivot:function(a){var b=this.getViewDefinition(),
d=this.getPageInfo(),h=d.rowAxisSpecification,r=d.columnAxisSpecification,f=d.pageAxisSpecifications,t={},m,u,n;t[this._createAxisKey(h)]=h;t[this._createAxisKey(r)]=r;da.forEach(f,function(a){t[this._createAxisKey(a)]=a},this);m=t[this._createAxisKey(a.rowAxisSpecification)];b.rowAxisSpecification=m?m:this._cleanUpAxisSpecificationAfterPivot(a.rowAxisSpecification);m=t[this._createAxisKey(a.columnAxisSpecification)];b.columnAxisSpecification=m?m:this._cleanUpAxisSpecificationAfterPivot(a.columnAxisSpecification);
b.pageAxisSpecifications=[];da.forEach(a.pageAxisSpecifications,function(a){m=t[this._createAxisKey(a)];b.pageAxisSpecifications.push(m&&!g.axisSpecificationContainsBranchSync(m)?m:this._cleanUpAxisSpecificationAfterPivot(a,!0))},this);this._updateSelectionCoords();f=this._selectionCoords||{};u=[];for(n in f)if(f.hasOwnProperty(n)&&!(g.axisSpecificationContains(a.rowAxisSpecification,n)||a.rows==n))g.axisSpecificationContains(a.columnAxisSpecification,n)||a.columns==n||u.push(f[n].entityLongId);b.currentPageIdentifiers=
x.entityLongIdsToEntityLongIdIdentifiers(u);this._isPageAxisEqual(d.rowAxisSpecification,a.rowAxisSpecification||a.rows)||(a.rows?this._clearStartIndexForDimensionIdentifiers([a.rows]):this._clearStartIndexForDimensionIdentifiers(g.getAllDimensionIdentifiersForAxisSpecification(a.rowAxisSpecification)));this._isPageAxisEqual(d.columnAxisSpecification,a.columnAxisSpecification||a.columns)||(a.columns?this._clearStartIndexForDimensionIdentifiers([a.columns]):this._clearStartIndexForDimensionIdentifiers(g.getAllDimensionIdentifiersForAxisSpecification(a.columnAxisSpecification)));
if(e.hasEntitlement(k.ENTITLED_FEATURES.QUICK_FILTER)){var v=function(a){for(var b=a.sortAndFilterDefinition.filterConditions,d=b.length-1;-1<d;d--)A.isQuickFilterCondition(b[d])&&b.splice(d,1);0===b.length&&delete a.sortAndFilterDefinition};b.pageAxisSpecifications.forEach(function(a){A.hasQuickFilter(a)&&v(a.axisDefinition)});A.hasQuickFilter(b.rowAxisSpecification)&&this._createAxisKey(b.columnAxisSpecification)!==this._createAxisKey(r)&&v(b.rowAxisSpecification.axisDefinition);A.hasQuickFilter(b.columnAxisSpecification)&&
this._createAxisKey(b.rowAxisSpecification)!==this._createAxisKey(h)&&v(b.columnAxisSpecification.axisDefinition)}this.reset();d=Math.max(this._getStartRowIndex(a),0);a=Math.max(this._getStartColumnIndex(a),0);this._model.setViewDefinition(b,d,a);this._model.resetIndexSelectorLabelPageMap()},refresh:function(a){this._updateSelectionCoords();this._gridView.reset();this._model.refresh();a||n.gather()},refreshWithAttemptPreserveScrollPositionAndSelection:function(a){try{if(null===this._pendingRefreshObject){var b=
{startRowIndex:0,startColumnIndex:0,selection:(new t).initializeToDefaults()},d=this.getContext();d&&d.values?U.mixin(b,{startRowIndex:d.values.startRow,startColumnIndex:d.values.startColumn}):console.warn("refreshWithAttemptPreserveScrollPosition did not find values");null!==this._gridView._selection?U.mixin(b,{selection:U.clone(this._gridView._selection)}):console.warn("refreshWithAttemptPreserveScrollPosition did not find selection");this._pendingRefreshObject=b}else try{this._pendingRefreshObject.aspectHandle.remove()}catch(g){console.error("refreshWithAttemptPreserveScrollPosition aspectHandle.remove",
g)}finally{this._pendingRefreshObject.aspectHandle=null}U.mixin(this._pendingRefreshObject,{focus:a});this._pendingRefreshObject.aspectHandle=sa.after(this._gridView,"update",U.hitch(this,function(){try{try{this._pendingRefreshObject.aspectHandle.remove()}catch(a){console.error("refreshWithAttemptPreserveScrollPosition AFTER aspectHandle.remove",a)}var b=this._pendingRefreshObject;(0<b.startRowIndex||0<b.startColumnIndex)&&console.warn("TODO: 4 refreshWithAttemptPreserveScrollPosition AFTER scroll bars broken? 826127");
var d=b.selection;d.isWholeRowSelected()||d.isWholeColumnSelected()?console.warn("TODO: 5 refreshWithAttemptPreserveScrollPosition AFTER not attempting to restore selection to avoid page change 826835"):this._gridView.setCurrentSelection(d);b.focus&&this._gridView.focus()}catch(g){console.error("anaplan.gridlet.GridController#refreshWithAttemptPreserveScrollPosition AFTER",g)}finally{this._pendingRefreshObject.aspectHandle.remove(),this._pendingRefreshObject=null}}));this._gridView.reset();this._model.refresh(this._pendingRefreshObject.startRowIndex,
this._pendingRefreshObject.startColumnIndex)}catch(e){F.showErrorReporter(new anaplan.Exceptions.ClientException("anaplan.gridlet.GridController#refreshWithAttemptPreserveScrollPosition",e)),this._pendingRefreshObject=null}},releaseAllCells:function(){var a=(new q(this.getPageInfo())).getBreakbackHeldCells();!a||!a.itemRanges.length?console.warn("anaplan.gridlet.GridController#releaseAllCells: no held ranges"):this._addBreakbackHoldOrReleaseViewChange(k.viewChangeType.BREAKBACK_RELEASE,{itemRanges:a.itemRanges})},
releaseCells:function(a){a=a||this._gridView._selection;var b,d,g,e=[];if(a){if(b=(new q(this.getPageInfo())).getBreakbackHeldCells())a=G.getCellSelections(a,this.getContext()),d=[],g={},da.forEach(a,function(a){"heldRangeIndices"in a&&da.forEach(a.heldRangeIndices,function(a){-1!==a&&!g[a]&&(d.push(a),g[a]=!0)})}),da.forEach(d,function(a){e.push(b.itemRanges[a])});e.length?this._addBreakbackHoldOrReleaseViewChange(k.viewChangeType.BREAKBACK_RELEASE,{itemRanges:e}):console.warn("anaplan.gridlet.GridController#releaseCells: no ranges found in selection to release")}else console.warn("anaplan.gridlet.GridController#releaseCells: no selection in the grid")},
_addBreakbackHoldOrReleaseViewChange:function(a,b){var d=(new m).getViewChangeGenerator(a).getViewChange(b),g=this;pa.publish("anaplan/gridlet/readOnly",!0);this._model.addViewChange(d).then(function(){pa.publish("anaplan/gridlet/readOnly",!1);g._gridView.focus()},function(a){pa.publish("anaplan/gridlet/readOnly",!1);console.error("anaplan.gridlet.GridController#_addBreakbackHoldOrReleaseViewChange",a);g._gridView.focus()})},reset:function(){this._gridView.reset();this._model.reset()},resume:function(){this._gridView.setScrollBarPosition();
this._model.resume()},revertView:function(a){a?(this._updateSelectionCoords(),this.reset(),this._model.setViewDefinition(a.viewDefinition),this._model.setViewReference(a.viewReference),this._model.setAllListFilterChanges(a.listFilterChanges)):console.warn("anaplan.gridlet.GridController revertView: cachedView is required")},scroll:function(a){this._model.getValues(a.inView)},setColumnSizes:function(a){var b,d;a&&(d=U.mixin(this._model.getViewDefinition(),{columnSizes:a}),this._updateSelectionCoords(),
b=this.getPageInfo(),a=Math.max(this._getStartRowIndex(b),0),b=Math.max(this._getStartColumnIndex(b),0),this.reset(),this._model.setViewDefinition(d,a,b))},setGlobalContext:function(a,b,d){this._updateSelectionCoords();var g=this.getContext().values,e=g&&g.startColumn?g.startColumn:0,g=g&&g.startRow?g.startRow:0;if(!(d&&d==this._gridView.id)){if(a=this._model.setPageSelectorEntityLongId(a.entityLongId,b,g,e))this.reset(),this._model.resetViewDefinitionSerialNumber();return a}},setSearchResult:function(a){if(a.currentCell){var b=
a.currentCell,d={x:[0,29],y:[0,49]};this._gridView.view()?d=U.clone(this._gridView.view()):console.warn("setSearchResult grid does not have view: using default");var g=d.y[0],e=d.x[0],h=!1;if(a.ranges[0].isRowLabelSelected()){var r=b.y.index;if(r<d.y[0]||r>d.y[1])h=!0,g=r}if(a.ranges[0].isColumnLabelSelected()&&(b=b.x.index,b<d.x[0]||b>d.x[1]))h=!0,e=b;h?(d=this._model._getBufferedView({x:[e,e],y:[g,g]}),this._forceLoad([d],!1,U.hitch(this,function(){this._gridView.setScroll(e,g);this._gridView.setCurrentSelection(a)}))):
this._gridView.setCurrentSelection(a)}},setViewReference:function(a){this.reset();this._model.setViewDefinition(null);this._model.setViewReference(a)},setViewDefinition:function(a){this.reset();this._model.setViewDefinition(a)},suspend:function(){this._gridView.hideCellButtonMenu&&this._gridView.hideCellButtonMenu();this._commonFilterTooltipDialog&&(ea.close(this._commonFilterTooltipDialog),this._commonFilterTooltipDialog=null);this._model.suspend()},switchView:function(a){if(!a)return console.warn("anaplan.gridlet.GridController switchView: newViewReference is "+
a),null;this.reset();var b=this._model.getViewDefinition(),d=this._model.getViewReference();this._model.setViewReference(a);this._model.setViewDefinition(null);return{viewReference:d,viewDefinition:b,listFilterChanges:this._model.clearAllListFilterChanges()}},toggleConditionalFormatting:function(a){var b,d=this,g=function(a){d.setViewDefinition(a);n.gather();d._gridView.focus()},e=new f(this.getViewDefinition());a&&e.hasCompareDefinition()?(b=new ja({title:na.titleEnableConditionalFormatting,content:na.confirmRemoveCompareDefinition}),
Fa.set(b.domNode,"width","400px"),b.own(b.on("execute",function(){e.removeCompareDefinition();e.setConditionalFormattingIsActive(a);g(e)})),b.own(b.on("cancel",function(){g(e)})),b.own(b.on("hide",function(){b.destroyRecursive()})),b.show()):(e.setConditionalFormattingIsActive(a),g(e))},toggleFilter:function(a){var b,d,e,h;d=this.getPageInfo();h=this.getViewDefinition();e=d.rowAxisSpecification;b=d.columnAxisSpecification;d=d.pageAxisSpecifications;h.rowAxisSpecification=g.toggleSortAndFilterDefinitionActiveState(e,
a);h.columnAxisSpecification=g.toggleSortAndFilterDefinitionActiveState(b,a);h.pageAxisSpecifications=[];da.forEach(d,function(b){h.pageAxisSpecifications.push(g.toggleSortAndFilterDefinitionActiveState(b,a))},this);this.setViewDefinition(h);n.gather();this._gridView.focus()},toggleSort:function(a){var b,d,e,h;d=this.getPageInfo();h=this.getViewDefinition();e=d.rowAxisSpecification;b=d.columnAxisSpecification;d=d.pageAxisSpecifications;e=g.stripSortRuleInfosFromAxisSpecification(e);b=g.stripSortRuleInfosFromAxisSpecification(b);
h.rowAxisSpecification=g.toggleSortDefinitionActiveState(e,a);h.columnAxisSpecification=g.toggleSortDefinitionActiveState(b,a);h.pageAxisSpecifications=[];da.forEach(d,function(b){b=g.stripSortRuleInfosFromAxisSpecification(b);h.pageAxisSpecifications.push(g.toggleSortDefinitionActiveState(b,a))},this);this.setViewDefinition(h);n.gather();this._gridView.focus()},toggleBlueprintView:function(){var a=this.getViewDefinition();if(a&&a.staticContextIdentifiers){this._updateSelectionCoords();var b=this._model.isDataView();
if(b){this._dataView=a;this._listFilterChanges=this._model.clearAllListFilterChanges();this._dataPageInfo=this.getPageInfo();var a={type:"MODEL_DEFINITION",staticContextIdentifiers:[x.entityLongIdToEntityLongIdIdentifier(this._model.getModuleEntityLongId())]},d=g.getAxesForViewDefinition([k.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_IDENTIFIER],[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_IDENTIFIER]);U.mixin(a,d);this.setViewDefinition(a)}else this._model.setAllListFilterChanges(this._listFilterChanges),
this._dataView?this.setViewDefinition(this._dataView):this.setViewReference({entityDefaultViewEntityLongId:this._model.getModuleEntityLongId(),globalContextIdentifiers:h.getContextIdentifiers()});this._gridView.focus();n.gather();return b}},_adaptViewDefinition:function(a,b,d,e){if(g.useAxisSpecification(a)){if(b==x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_ENTITY_LONG_ID))a.rowAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID)]);
else if(b==x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_ENTITY_LONG_ID))if(b=x.getEntityTypeIndex(d.entityLongIds[e][0]),b==k.ACTION_ENTITY_TYPE_INDEX)a.rowAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_ACTION_ENTITY_LONG_ID)]);else if(b==k.EXPORT_ENTITY_TYPE_INDEX)a.rowAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_EXPORT_ENTITY_LONG_ID)]);else if(b==
k.IMPORT_ENTITY_TYPE_INDEX)a.rowAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_IMPORT_ENTITY_LONG_ID)]);else if(b==k.PROCESS_ENTITY_TYPE_INDEX)a.rowAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_PROCESS_ENTITY_LONG_ID)]);else throw new r.IllegalStateException(null,null,{state:b});a.columnAxisSpecification=g.getAxisSpecification([x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_ENTITY_LONG_ID)])}else this._adaptViewDefinitionWithoutAxisSpecification(a,
b,d)},_adaptViewDefinitionWithoutAxisSpecification:function(a,b,d){if(b==x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_ENTITY_LONG_ID))a.rows=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID);else if(b==x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_ENTITY_LONG_ID))if(b=x.getEntityTypeIndex(d.entityLongIds[0][0]),b==k.ACTION_ENTITY_TYPE_INDEX)a.rows=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_ACTION_ENTITY_LONG_ID);
else if(b==k.EXPORT_ENTITY_TYPE_INDEX)a.rows=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_EXPORT_ENTITY_LONG_ID);else if(b==k.IMPORT_ENTITY_TYPE_INDEX)a.rows=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_IMPORT_ENTITY_LONG_ID);else throw new r.IllegalStateException(null,null,{state:b});a.columns=x.entityLongIdToEntityLongIdIdentifier(k.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_ENTITY_LONG_ID)},addQuickFilterCondition:function(a,b){var d=this.getPageInfo(),d=a===k.ROWS?
d.rowAxisSpecification:d.columnAxisSpecification,e=k.filterConditionType;g.axisSpecificationContainsSortAndFilterDefinition(d)?d.axisDefinition.sortAndFilterDefinition.filterConditions.push(U.mixin(b,{filterConditionType:e.QUICK})):(e={filterConditions:[U.mixin(b,{filterConditionType:e.QUICK})],isActive:!0,filterMatchType:"ALL"},U.exists("axisDefinition",d)||(console.warn("_applyFilter converting axisSpecification",d),g.convertAxisSpecificationToUseAxisDefinition(d)),U.mixin(d.axisDefinition,{sortAndFilterDefinition:e}));
e=U.clone(this.getViewDefinition());a===k.ROWS?U.mixin(e,{rowAxisSpecification:d}):U.mixin(e,{columnAxisSpecification:d});this.setViewDefinition(e);return(new H({aggregatorObserver:this._model,showPleaseWait:!1})).gather([],[],[],!1)},removeAllQuickFilter:function(){var a=U.clone(this.getViewDefinition());[a.rowAxisSpecification,a.columnAxisSpecification].concat(a.pageAxisSpecifications||[]).filter(function(a){return A.hasQuickFilter(a)}).forEach(function(a){var b=a.axisDefinition.sortAndFilterDefinition.filterConditions.filter(function(a){return!A.isQuickFilterCondition(a)});
b.length?a.axisDefinition.sortAndFilterDefinition.filterConditions=b:delete a.axisDefinition.sortAndFilterDefinition});this.setViewDefinition(a);return(new H({aggregatorObserver:this._model,showPleaseWait:!1})).gather([],[],[],!1)},removeQuickFilterCondition:function(a,b){var d=U.clone(this.getViewDefinition()),e=a===k.ROWS?d.rowAxisSpecification.axisDefinition:d.columnAxisSpecification.axisDefinition;1===e.sortAndFilterDefinition.filterConditions.length?delete e.sortAndFilterDefinition:e.sortAndFilterDefinition.filterConditions.splice(b,
1);this.setViewDefinition(d);return(new H({aggregatorObserver:this._model,showPleaseWait:!1})).gather([],[],[],!1)},updateQuickFilterCondition:function(a,b,d){var e=U.clone(this.getViewDefinition());(a===k.ROWS?e.rowAxisSpecification.axisDefinition:e.columnAxisSpecification.axisDefinition).sortAndFilterDefinition.filterConditions.splice(b,1,U.mixin(d,{filterConditionType:k.filterConditionType.QUICK}));this.setViewDefinition(e);return(new H({aggregatorObserver:this._model,showPleaseWait:!1})).gather([],
[],[],!1)},_addNewUpdatesWithConfirmation:function(b){var d=b.updatesReport;if(0<d.invalidNumberCount||0<d.invalidEntityCount||0<d.invalidDateCount||0<d.noValueSuppliedCount||0<d.readOnlyCount||d.invalidJsonCount){var g=this,h=0;0<d.invalidNumberCount&&(h+=d.invalidNumberCount);0<d.invalidEntityCount&&(h+=d.invalidEntityCount);0<d.invalidDateCount&&(h+=d.invalidDateCount);0<d.noValueSuppliedCount&&(h+=d.noValueSuppliedCount);0<d.readOnlyCount&&(h+=d.readOnlyCount);0<d.invalidJsonCount&&(h+=d.invalidJsonCount);
var r=["\x3cp\x3e",1<h?h+" cells ":"Cell"," will not be updated:"];r.push("\x3cul\x3e");if(0<d.invalidNumberCount){var f=e.getAllCurrenciesLabelPage();r.push("\x3cli\x3e");r.push(1<h?d.invalidNumberCount+" ":"");r.push(1<d.invalidNumberCount?"invalid numbers":"invalid number");if(d.invalidNumberFormats&&d.invalidNumberFormats.length){r.push("\x3cul\x3e");for(var t=d.invalidNumberFormats,k=0;k<t.length;k++){for(var m=t[k],u=a.applyFormat(-1234.567890123457,m.targetFormat,f),n=[],v=[],m=m.cellTexts,
x=0,l=90-u.length,z=0;z<m.length;z++){var w=m[z];x++;if(0<l-w.length){var y=da.indexOf(n,w);-1===y?(n.push(D.escapeHTML(w)),v.push(1)):v[y]++;l-=w.length}else{n.length||(n.push(w.substring(0,l)+" ... "),v.push(1));break}}for(l=[];x<m.length;x++)z=m[x],-1===da.indexOf(l,z)&&-1===da.indexOf(n,z)&&l.push(z);m=[];for(x=0;x<n.length;x++)m.push([n[x],1<v[x]?" (*"+v[x]+")":""].join(""));r.push("\x3cli\x3e"+m.join(", ")+(l.length?" + "+l.length+" more":"")+" target format "+u+"\x3c/li\x3e")}r.push("\x3c/ul\x3e")}r.push("\x3c/li\x3e")}0<
d.invalidEntityCount&&r.push("\x3cli\x3e"+(1<h?d.invalidEntityCount+" ":"")+"ambiguous item name\x3c/li\x3e");0<d.invalidDateCount&&r.push("\x3cli\x3e"+(1<h?d.invalidDateCount+" ":"")+"invalid date\x3c/li\x3e");0<d.invalidJsonCount&&r.push("\x3cli\x3e"+(1<h?d.invalidJsonCount+" ":"")+"invalid object\x3c/li\x3e");0<d.noValueSuppliedCount&&r.push("\x3cli\x3e"+(1<h?d.noValueSuppliedCount+" ":"")+"no value supplied\x3c/li\x3e");0<d.readOnlyCount&&r.push("\x3cli\x3e"+(1<h?d.readOnlyCount+" ":"")+"read only\x3c/li\x3e");
r.push("\x3c/ul\x3e\x3c/p\x3e");this._gridView.confirm?setTimeout(function(){g._gridView.confirm(null,r.join(""),function(){g._model.addNewUpdates(b.updatesCache,!0)},function(){g._model.cancelChanges()})},1E3):(console.warn("anaplan.gridlet.GridController adding new updates without confirmation"),g._model.addNewUpdates(b.updatesCache,!0))}else this._model.addNewUpdates(b.updatesCache,!0)},_assertDataRange:function(a){if(!a)return!1;var b=this._model.getRowCount();if(a.isWholeColumnSelected()&&0===
b)return!1;var d=this._model.getColumnCount();return a.isWholeRowSelected()&&0===d?!1:!(a.isWholeGridSelected()&&(0===b||0===d))},_attemptPaste:function(a,b,d,e){if(a){var g=-1,h=-1,r=this._model,f=r.getFixedColumnCount(),r=r.getFixedRowCount();if(a.isWholeGridSelected())h=g=0;else{var t=this.getContext(),k=a.currentCell;a.isWholeColumnSelected()&&(g=k.getFixedRowIndex(t));a.isWholeRowSelected()&&(h=k.getFixedColumnIndex(t))}if(-1<g)for(t=0;t<b.length;t++)b[t]=b[t].slice(r-g);-1<h&&(b=b.slice(f-h));
var m=!0;0===b.length?m=!1:da.forEach(b,function(a){0===a.length&&(m=!1)});if(m){var u=a.getView(this.getContext(),!1);if(u){u.x[1]==u.x[0]&&u.y[1]==u.y[0]&&(u.x[1]-u.x[0]+1<b.length&&(u.x[1]=u.x[0]+b.length-1,a=this._model._getColumnCount(),u.x[1]>a-1&&(u.x[1]=a-1)),a=b[0].length,u.y[1]-u.y[0]+1<a&&(u.y[1]=u.y[0]+a-1,a=this._model._getRowCount(),u.y[1]>a-1&&(u.y[1]=a-1)));var n=this;this._forceLoad([u],!1,function(){var a=n._model.attemptPaste(u,b,d);if(!(1===b.length&&1===b[0].length&&e&&1==a.updatesReport.invalidEntityCount)||
!e(b[0][0])){var g=a.updatesCache,h=[];n._changeValidator&&(h=n._changeValidator.validateUpdatesCache(g));h.length?n._gridView.confirm(null,h,function(){n._addNewUpdatesWithConfirmation(a)},function(){n._model.cancelChanges()},n._changeValidator):n._addNewUpdatesWithConfirmation(a)}})}else a=V,F.showInfoDialog(a.messageOperationUnavailableDueToSelection,{title:a.titleOperationUnavailable})}else a=V,F.showInfoDialog(a.messagePasteNotAllowed,{title:a.titlePasteNotAllowed})}},_cleanUpAxisDefinitionAfterPivot:function(a,
b,d,e){var h;if(!a)return a;d="boolean"!==typeof d?1<g.getAllDimensionIdentifiersForAxisDefinition(a).length:d;e="boolean"!==typeof e?!1:e;a.hasOwnProperty("sortAndFilterDefinition")&&delete a.sortAndFilterDefinition;d&&(a.hasOwnProperty("sortDefinition")&&delete a.sortDefinition,a.hasOwnProperty("axisOrder")&&delete a.axisOrder);if(a.type===k.AXIS_DEFINITION_TYPE_CROSS_PRODUCT)da.forEach(a.childAxisDefinitions,function(a){this._cleanUpAxisDefinitionAfterPivot(a,b,d,e)},this);else if(a.type===k.AXIS_DEFINITION_TYPE_SELECTION)this._cleanUpAxisDefinitionAfterPivot(a.baseAxis,
b,d,!0);else if(a.type===k.AXIS_DEFINITION_TYPE_SYNC_BRANCH&&(b||e)){for(h in a)a.hasOwnProperty(h)&&"dimensionIdentifier"!==h&&delete a[h];a.type=k.AXIS_DEFINITION_TYPE_FULL_DIMENSION}return a},_cleanUpAxisSpecificationAfterPivot:function(a,b){var d,e;a&&a.axisDefinition&&(d=1<g.getAllDimensionIdentifiersForAxisSpecification(a).length,e=g.axisSpecificationContainsDependentSelection(a),this._cleanUpAxisDefinitionAfterPivot(a.axisDefinition,b,d,e));return a},_clearStartIndexForDimensionIdentifiers:function(a){if(this._selectionCoords){var b=
this._selectionCoords;da.forEach(a,function(a){b[a]&&(b[a].startIndex=-1)})}},_countCellsInSelectionViews:function(a){if(!a)return 0;var b=this._model.getRowCount(),d=this._model.getColumnCount();return a.reduce(function(a,e){if(!e)throw Error("unable to obtain accurate cell count");var g=e.y[0],h=e.y[1],r=e.x[0],f=e.x[1],t=0,k=0;0>g&&(g=0);0>h&&(h=b-1);0>r&&(r=0);0>f&&(f=d-1);0<=g&&0<=h&&(t=h-g+1);0<=r&&0<=f&&(k=f-r+1);return t*k+a},0)},_createAxisKey:function(a){return!a?null:ia.stringify(g.getAllDimensionIdentifiersForAxisSpecification(a))},
_createCellViewInfos:function(a,b,d,e){var h=[],f,t,m;try{for(var u=0,n=a.length;u<n;u++){m=a[u];f={type:"MODEL_DATA",rowAxisSpecification:g.addSelectionToAxisSpecification(b,k.SELECTION_RULE_MODIFIER_SHOW,[[m]]),columnAxisSpecification:{axisDefinition:null,axisDefinitionIdentifier:k.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER},pageAxisSpecifications:d,staticContextIdentifiers:e};if(t=this._getActiveFormattingDefinitionForTargetIdentifier(m))f.formatting=t;h.push({dashboardElementType:k.dashboardElementType.CELL,
pageInfo:{pageAxisSpecifications:d},viewDefinition:f})}}catch(v){throw new r.ClientException("anaplan.gridlet.GridController._createCellViewInfos",v);}return h},_createDataPageRequestsForSelectionViews:function(a){return!a?[]:a.map(function(a){return{startRow:a.y[0],startColumn:a.x[0],rowCount:a.y[1]-a.y[0]+1,columnCount:a.x[1]-a.x[0]+1}})},_createIndependentAxisSelection:function(a,b){var d=this._getItemIdentifiersForAxisSelection(a,b),e=[],g,h,r;if(!d.length)return e;g=a===k.ROWS?this._model.getRowNesting():
this._model.getColumnNesting();h=da.indexOf(d[0],null)-1;0>h&&(h=g-1);for(r=0;r<g;r++)r===h?e.push({type:k.itemSelection.ITEMS,parameters:da.map(d,function(a){return a[h]})}):e.push({type:k.itemSelection.ALL});return e},_createRaggedAxisSelection:function(a,b){var d=this._getItemIdentifiersForAxisSelection(a,b),e=[],g=d.length,h=k.itemSelection.ALL,r;if(!g)return e;for(r=0;r<g;r++)e.push(da.map(d[r],function(a){return a||h}));return e},_displayWidgetInTooltipAroundDomNode:function(a,b,d,e){var g=
Ca.position(b);b=g.y+k.COLUMN_LABEL_HEIGHT/2;d=d===k.ROWS&&20<g.w?g.x+g.w-20:g.x;var g={x:0,y:k.COLUMN_LABEL_HEIGHT/2},h=new qa({className:"dijitTooltipDialog pointyConnector"});ea.moveOffScreen(h);h.addChild(a);h.startup();var r=this._gridView;a.own(a.on("blur",function(){ea.close(h)}),a.on("close",function(){ea.close(h);r.focus()}),a.on("abort",function(a){ea.close(h);F.showInfoDialog(a,{title:e})}));ea.open({orient:["above","above-alt","below","below-alt"],popup:h,padding:g,x:d,y:b,onExecute:function(){ea.close(h)},
onCancel:function(){ea.close(h)},onClose:U.hitch(this,function(){h.destroyRecursive();this._commonFilterTooltipDialog=null})});a.focus();return h},_doBulkInsert:function(a){try{this._model.addSubmissions(a)}catch(b){F.showErrorReporter(new r.ClientException("anaplan.gridlet.GridController: _doBulkInsert",b))}},_drillDown:function(a,b,d){var e=a.getViews(this.getContext(),!0);if(e.length){var g=this._model,h,f,t,k=g.getRowNesting();a=[];var m={};for(h=0;h<k;h++)a.push([]);var u=g.getColumnNesting(),
g=[],n={};for(h=0;h<u;h++)g.push([]);var v=e.length,x=!0,l=0,z,w,y,B,q;for(t=0;t<v;t++){z=this._model.getLabelsAndCellsObjects(e[t]);B=z.cellsObject;w=z.rowLabelsObject.count;y=z.columnLabelsObject.count;l+=B.count;for(h=0;x&&h<w;h++)for(f=0;x&&f<y;f++)if(q=h*y+f,(B.isCalculated[q]||!B.isEditable[q])&&"NONE"!==B.formats[q].dataType)x=!1;for(f=0;f<w;f++){B=[];for(h=0;h<k;h++)B.push(z.rowLabelsObject.entityLongIds[h][f]);h=B.join("-");if(!m[h]){m[h]=!0;for(h=0;h<k;h++)a[h].push(B[h])}}for(f=0;f<y;f++){B=
[];for(h=0;h<u;h++)B.push(z.columnLabelsObject.entityLongIds[h][f]);h=B.join("-");if(!n[h]){n[h]=!0;for(h=0;h<u;h++)g[h].push(B[h])}}}if(x)F.showInfoDialog(V.messageDrillDownRestricted,{title:V.titleDrillDown});else if(20<l)F.showInfoDialog(ya.substitute(V.messageDrillDownCellCountExceeded,{limit:20}),{title:V.titleDrillDown});else{var e=this._model.getPageInfo(),p=d||this.createDrillDownId();b={actionId:"DRILL_DOWN",params:{modelId:modelId,drillDownId:p,drillDownLevel:b||0,cells:{rowEntityLongIds:a,
columnEntityLongIds:g,currentPageEntityLongIds:e.currentPageLabels.entityLongIds,staticContextEntityLongIds:e.staticContext.entityLongIds}}};d=U.hitch(this,function(a){if(a&&a.result&&a.result.systemActionResults)if(a=a.result.systemActionResults[0],!a||!a.drillDownDashboard)!a.drillDownDashboard&&a.infoMessages&&F.showInfoDialog(a.infoMessages,{title:V.titleDrillDown});else try{var b="";if(a.drillDownTitleLines){var d=[];da.forEach(a.drillDownTitleLines,function(a){d.push(D.escapeHTML(a))});b=d.join("\x3cbr\x3e")}pa.publish("anaplan/drilldown/dashboard",
{drillDownDashboard:a.drillDownDashboard,drillDownLevel:a.drillDownLevel,drillDownIdForWindow:p,titleCellFormats:a.titleCellFormats,drillDownTitleLines:a.drillDownTitleLines,title:b,refocusWidget:this._gridView,sizeToContent:!1})}catch(e){F.showErrorReporter(new r.ClientException("anaplan.gridlet.GridController._drillDown (_onLoad)",e))}});(new H).post(null,null,[b]).then(d,function(){return!1})}}},createDrillDownId:function(){return"DrillDown-"+this._drillDownIdCounter++},_forceLoad:function(a,b,
d,e){var g=setTimeout(function(){F.showPleaseWaitDialog()},500);try{this._model.forceLoad(a,b,function(){d&&d();g&&clearTimeout(g);F.hidePleaseWaitDialog()},function(){e&&e();g&&clearTimeout(g);F.hidePleaseWaitDialog()})}catch(h){throw g&&clearTimeout(g),h;}},_forceLoadColumnLabels:function(a,b,d,e){var g=setTimeout(function(){F.showPleaseWaitDialog()},500);try{this._model.forceLoadColumnLabels(a,b,function(){d&&d();g&&clearTimeout(g);F.hidePleaseWaitDialog()},function(){e&&e();g&&clearTimeout(g);
F.hidePleaseWaitDialog()})}catch(h){throw g&&clearTimeout(g),h;}},_forceLoadRowLabels:function(a,b,d,e){var g=setTimeout(function(){F.showPleaseWaitDialog()},500);try{this._model.forceLoadRowLabels(a,b,function(){d&&d();g&&clearTimeout(g);F.hidePleaseWaitDialog()},function(){e&&e();g&&clearTimeout(g);F.hidePleaseWaitDialog()})}catch(h){throw g&&clearTimeout(g),h;}},_getConfirmationMessage:function(a,b){var d;d=x.getEntityTypeIndex(b)==k.MODULE_ENTITY_TYPE_INDEX?V.messageConfirmDeleteModule:V.messageConfirmDelete;
return D.escapeHTML(d.replace("%s",a))},_getConfirmationMessageMultiple:function(a,b){var d;d=x.getEntityTypeIndex(b)==k.MODULE_ENTITY_TYPE_INDEX?V.messageConfirmDeleteModuleMultiple:V.messageConfirmDeleteMultiple;return D.escapeHTML(d.replace("%n",a))},_getItemIdentifiersForAxisSelection:function(a,b){var d=[],e=!1,g,h,f,t,m,u,n,v,l,z,w,y,B;if(!b||!b.ranges.length)return d;g=b.ranges;h=g.length;m=a===k.ROWS?"y":"x";n=a===k.ROWS?this._model.getRowNesting():this._model.getColumnNesting();for(f=0;f<
h;f++)if(t=g[f],t.topLeft[m].entityLongIds&&(!t.bottomRight[m]||t.bottomRight[m].equals(t.topLeft[m])))d.push(x.entityLongIdsToEntityLongIdIdentifiers(t.topLeft[m].entityLongIds));else{a===k.ROWS?(u=t.topLeft.getRowNestingIndex(),t=G.getRowsSelection(t,this.getContext())):(u=t.topLeft.getColumnNestingIndex(),t=G.getColumnsSelection(t,this.getContext()));(v=t.count)||(e=!0);for(l=0;l<v;l++){z=[];for(w=0;w<n;w++)w<=u?z.push(t.entityLongIds[w][l]):z.push(null);y&&(B=da.every(z,function(a,b){return a===
y[b]}));(!y||!B)&&d.push(x.entityLongIdsToEntityLongIdIdentifiers(z));y=z}}return e?(F.showErrorReporter(new r.UnsupportedOperationException(V.unsupportedOperationAddSelectionLimitExceeded),!0),[]):d},_getActiveFormattingDefinitionForTargetIdentifier:function(a){var b=(new f(this.getDataViewDefinition())).getConditionalFormattingDefinition();if(!b||!b.isActive)return null;a=b.getRuleDefinitionForTarget(a);if(!a||!a.isActive)return null;b=new p;b.addConditionalRuleDefinition(a);return b},_getLineItemsNestingIndex:function(a){var b;
try{b=-1,da.some(g.getAllDimensionIdentifiersForAxisSpecification(a),function(a,d){return z.isLineItemsSystemAxisIdentifier(a)?(b=d,!0):!1})}catch(d){throw new r.ClientException("anaplan.gridlet.GridController._getLineItemsNestingIndex",d);}return b},_getSelectedDomNode:function(a,b,d){a=a===k.ROWS?b.getColumnLabelDomNodeForSelection(d):b.getRowLabelDomNodeForSelection(d);a||(console.warn(b.id,"failed to obtain selected row or column dom node"),a=b.domNode);return a},_getSelectedLineItemIdentifiers:function(){var a,
b,d,e,h,f,t,k,m,u,n;try{if(k=[],n=this.getViewDefinition(),f=this.getPageInfo(),da.some(f.pageAxisSpecifications,function(a,b){return g.axisSpecificationContainsLineItems(a)?(k.push(n.currentPageIdentifiers[b]),!0):!1}),!k.length&&(m=this._gridView._selection))if(g.isLineItemsOnRows(f)?(u=G.getSelectionOnRows(m,this.getContext()),h=this._getLineItemsNestingIndex(f.rowAxisSpecification)):g.isLineItemsOnColumns(f)&&(u=G.getSelectionOnColumns(m,this.getContext()),h=this._getLineItemsNestingIndex(f.columnAxisSpecification)),
0<=h&&u&&u.count){d={};t=u.entityLongIds[h];e=0;for(a=t.length;e<a;e++)b=t[e],d[b]||(k.push(x.entityLongIdToEntityLongIdIdentifier(b)),d[b]=!0)}}catch(v){throw new r.ClientException("anaplan.gridlet.GridController._getSelectedLineItemEntityLongIds",v);}return k},_getStartColumnIndex:function(a){return!a?-1:a.columns?this._getStartIndexForDimensionIdentifier(a.columns):this._getStartIndexForAxisSpecification(a.columnAxisSpecification)},_getStartIndexForAxisSpecification:function(a){if(!a)return-1;
a=g.getAllDimensionIdentifiersForAxisSpecification(a);for(var b=0;b<a.length;b++){var d=this._getStartIndexForDimensionIdentifier(a[b]);if(-1<d)return d}return-1},_getStartRowIndex:function(a){return!a?-1:a.rows?this._getStartIndexForDimensionIdentifier(a.rows):this._getStartIndexForAxisSpecification(a.rowAxisSpecification)},_getStartIndexForDimensionIdentifier:function(a){if(!a||!this._selectionCoords)return-1;var b=-1,d=this._selectionCoords;d[a]&&-1<d[a].startIndex&&(b=d[a].startIndex);return b},
_getRhsViewDefinitionForSelectItems:function(a,b){var d=g.getAllDimensionIdentifiersForAxisSpecification(a);1!==d.length&&console.warn(this.id,"expected to find single dimension identifier but found",d);d=g.getAxesSpecificationsForViewDefinition([d],[[k.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]],[]);U.mixin(d.rowAxisSpecification,{axisDefinition:U.clone(a.axisDefinition)});d.rowAxisSpecification.axisDefinition.hasOwnProperty("guid")&&delete d.rowAxisSpecification.axisDefinition.guid;return U.mixin({type:"MODEL_DATA",
staticContextIdentifiers:x.entityLongIdsToEntityLongIdIdentifiers(b)},d)},_isPageAxisEqual:function(a,b){if(!a&&b||a&&!b)return!1;var d=g.getAllDimensionIdentifiersForAxisSpecification(a),e=null,e="string"===typeof b?[b]:g.getAllDimensionIdentifiersForAxisSpecification(b);if(d.length!=e.length)return!1;for(var h=0;h<d.length;h++)if(d[h]!=e[h])return!1;return!0},_onHide:function(a){a===k.BREAKBACK_MARKERS&&this._breakbackMarkersEnabled&&(this._breakbackMarkersEnabled=!1,this._gridView.setBreakbackMarkersEnabled(!1),
this._model.setBreakbackMarkersEnabled&&this._model.setBreakbackMarkersEnabled(!1),this._model.getValues(this._gridView.view()))},_onShow:function(a){a===k.BREAKBACK_MARKERS&&!this._breakbackMarkersEnabled&&(this._breakbackMarkersEnabled=!0,this._gridView.setBreakbackMarkersEnabled(!0),this._model.setBreakbackMarkersEnabled&&this._model.setBreakbackMarkersEnabled(!0),this._model.getValues(this._gridView.view()))},_setReadOnly:function(a){this._gridView.setReadOnly(a)},_showClipboardHelp:function(){F.showInfoDialog(new u,
{title:ma.title,anapediaKey:l.keyboardShortcuts,actionButtonLabel:ma.buttonClose,actionButtonPrimary:!1})},_submitViewChanges:function(a){var b=this._gridView,d=this._model,e=this.getPageInfo(),g,h;a&&a.length&&(this._updateSelectionCoords(),this.reset(),g=Math.max(this._getStartRowIndex(e),0),e=Math.max(this._getStartColumnIndex(e),0),pa.publish("anaplan/gridlet/readOnly",!0),h=d.addViewChanges(a,g,e),h.always(function(a){pa.publish("anaplan/gridlet/readOnly",!1);b.focus();h.isRejected()&&console.error("anaplan.gridlet.GridController#_submitViewChanges",
a)}))},_toUniqueSelectedItems:function(a,b){if(!a.count)return[];for(var d=[],e=[],g=0;g<a.count;g++){var h=a.entityLongIds[b][g];if(-1==da.indexOf(d,h)){var r={canDelete:a.canDelete[b][g],isItemEditable:a.isItemEditable[b][g],canInsertSibling:a.canInsertSibling[b][g],entityLongId:h,entityLongIds:a.entityLongIds[b][g],isAggregate:a.isAggregate[b][g],label:C.getItemName(a,b,g),originalLabel:a.originalLabels[b][g],entityId:a.entityIds[b][g]};e.push(r);d.push(h)}}return e},_undo:function(a,b){try{var d=
this._model;if(d.isSuspended())b.reject(k.dataInputUndoRejectReasons.NOT_ACTIVE_TAB);else if(d.getSerialNumbers().viewDefinitionSerialNumber!==a.serialNumber)b.reject(k.dataInputUndoRejectReasons.GRID_DEFINITION_CHANGED);else{var e=d.attemptUndo(a.cellUpdates),g=function(){d.addNewUpdates(e.updatesCache,!0);var a=[sa.before(d,"update",function(){a.forEach(function(a){a.remove()});b.resolve(1<e.count?va.resolveMultipleCellChanges.replace(/\$0/,e.count):va.resolveSingleCellChange.replace(/\$0/,e.preview[0].from).replace(/\$1/,
e.preview[0].to))}),sa.before(d,"error",function(d){a.forEach(function(a){a.remove()});b.reject(k.dataInputUndoRejectReasons.SERVER_ERROR)})]},h=function(){b.reject(k.dataInputUndoRejectReasons.CANCELLED)},r=U.isFunction(this._gridView.getParent().isVisible)?this._gridView.getParent().isVisible():!0;1===e.count&&e.visibleCount&&r?g():v(a.operation,e.count,e.preview).then(g,h)}}catch(f){b.reject(f.toString())}},_updateSelectionCoords:function(){try{var a=this._selectionCoords||{},b=this.getPageInfo(),
d=b.currentPageLabels;if(b.pageAxisSpecifications)for(var e=b.pageAxisSpecifications,h=e.length,r,f,t,m,u=0;u<h;u++){r=e[u];f=g.getAllDimensionIdentifiersForAxisSpecification(r);t=f.length;for(m=0;m<t;m++)a[f[m]]={entityLongId:d.entityLongIds[m][u],startIndex:-1}}var n=this._gridView._selection;if(n&&n.currentCell){for(var v=n.currentCell,x=this.getContext(),l=x.values.startRow,w=x.values.startColumn,y=v.getRowEntityLongIds(x),B=g.getAllDimensionIdentifiersForAxisSpecification(b.rowAxisSpecification),
d=0;d<B.length;d++)if(y&&(y[d]||0<d))z.isLineItemsSystemAxisIdentifier(B[d])?a[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER]={entityLongId:y[d],startIndex:l}:a[B[d]]={entityLongId:y[d],startIndex:l};for(var q=v.getColumnEntityLongIds(x),p=g.getAllDimensionIdentifiersForAxisSpecification(b.columnAxisSpecification),b=0;b<p.length;b++)if(q&&(q[b]||0<b))z.isLineItemsSystemAxisIdentifier(p[b])?a[k.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER]={entityLongId:q[b],startIndex:w}:a[p[b]]={entityLongId:q[b],
startIndex:w};this._selectionCoords=a}}catch(A){console.error("anaplan.gridlet.GridController.prototype._updateSelectionCoords",A)}},_getSelectedRow:function(a){var b=this.getContext();return G.getCurrentRow(a,b)||G.getFirstRow(b)},_getSelectedColumn:function(a){var b=this.getContext();return G.getCurrentColumn(a,b)||G.getFirstColumn(b)},applyQuickSort:function(a,b){var d=(b=b||this._gridView._selection)?b.isWholeRowSelected():!1,g=this.getPageInfo(),h=d?g.columnAxisSpecification:g.rowAxisSpecification,
r=this._getSelectedRow(b),f=this._getSelectedColumn(b);if(ra.onInvalidTargetAxis(h,d?f:r))return!1;var t=d?g.rowAxisSpecification:g.columnAxisSpecification,k=h.axisDefinition?h.axisDefinition.sortDefinition||null:null,m=!0,u=!1,g={direction:a,moduleIdentifier:null,lineItemIdentifier:null,propertyIdentifier:null,contextIdentifiers:[]},v=ra.getLineItemOrModuleEntityLongIdFromAxisSpecification(h,{moduleEntityLongId:this.getModuleEntityLongId(),pageInfo:this.getPageInfo(),selectedRow:r,selectedColumn:f}),
l=x.entityLongIdIdentifierToEntityLongId(v);ra.isModuleEntityLongId(l)?g.moduleIdentifier=v:g.lineItemIdentifier=v;r=d?r.entityLongIds:f.entityLongIds;f=e.getModuleInfo(this.getModuleEntityLongId());g.contextIdentifiers=ra.getValidDimensionIdentifiersForSelectedIds(r,{pageInfo:this.getPageInfo(),lineItemOrModuleEntityLongId:l,targetAxisSpecification:h,sortByAxisSpecification:t,moduleInfo:f});if(k)try{ra.equivalentSortRules(k.sortRules[0],g)||(u=!0),k.isActive||(u=!0),m=!1}catch(z){console.warn("Could not apply quick sort. Existing sort definition is not in the expected format",
z)}m?(t=h.axisDefinition?h.axisDefinition.axisOrder:null,h.axisDefinition.sortDefinition=ra.createDefaultSort(g,ra.getLevels(e.getModelInfo(),h),t),u=!0):u&&(h.axisDefinition.sortDefinition=ra.getActiveSortDefinitionFromSource(k,g));return u?(g=this.getViewDefinition(),d?g.columnAxisSpecification=h:g.rowAxisSpecification=h,this.setViewDefinition(g),n.gather(),!0):!1}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return s("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(g){this._set("disabled",g);p.set(this.focusNode,"disabled",g);this.valueNode&&p.set(this.valueNode,"disabled",g);this.focusNode.setAttribute("aria-disabled",g?"true":"false");g?(this._set("hovering",!1),this._set("active",
!1),g="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(f.isArray(g)?g:[g],function(d){d=this[d];m("webkit")||e.hasDefaultTabStop(d)?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(g){if("mouse"==g&&this.isFocusable())var d=this.own(n(this.focusNode,"focus",function(){e.remove();d.remove()}))[0],a=m("pointer-events")?"pointerup":
m("MSPointer")?"MSPointerUp":m("touch-events")?"touchend, mouseup":"mouseup",e=this.own(n(this.ownerDocumentBody,a,f.hitch(this,function(a){e.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){h.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=q.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(g){}},
compare:function(g,d){return"number"==typeof g&&"number"==typeof d?isNaN(g)&&isNaN(d)?0:g-d:g>d?1:g<d?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(g,d){if(void 0==this._lastValueReported&&(null===d||!this._onChangeActive))this._resetValue=this._lastValueReported=g;this._pendingOnChange=this._pendingOnChange||typeof g!=typeof this._lastValueReported||0!=this.compare(g,this._lastValueReported);if((this.intermediateChanges||d||void 0===d)&&this._pendingOnChange)this._lastValueReported=
g,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(g)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dojox/math/random/Secure":function(){define(["dojo"],function(l){l.declare("dojox.math.random.Secure",
null,{constructor:function(s,p){this.prng=s;for(var q=this.pool=Array(s.size),f=this.pptr=0,k=s.size;f<k;){var n=Math.floor(65536*Math.random());q[f++]=n>>>8;q[f++]=n&255}this.seedTime();p||(this.h=[l.connect(l.body(),"onclick",this,"seedTime"),l.connect(l.body(),"onkeypress",this,"seedTime")])},destroy:function(){this.h&&l.forEach(this.h,l.disconnect)},nextBytes:function(l){var p=this.state;if(!p){this.seedTime();p=this.state=this.prng();p.init(this.pool);for(var q=this.pool,f=0,k=q.length;f<k;q[f++]=
0);this.pptr=0}f=0;for(k=l.length;f<k;++f)l[f]=p.next()},seedTime:function(){this._seed_int((new Date).getTime())},_seed_int:function(l){var p=this.pool,q=this.pptr;p[q++]^=l&255;p[q++]^=l>>8&255;p[q++]^=l>>16&255;p[q++]^=l>>24&255;q>=this.prng.size&&(q-=this.prng.size);this.pptr=q}});return dojox.math.random.Secure})},"anaplan/api/Submissions/Base/poster":function(){define("./Submission anaplan/api/watcher dojo/_base/declare anaplan/utils/JsHelper anaplan/data/ModelContentHelper anaplan/data/ModelContentCache dojo/topic dojo/Deferred anaplan/data/RequestFactory dojo/i18n!anaplan/nls/api".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return{submit:function(g,d){var a=new m;if(g instanceof l){var r=g.validate();q.isString(r)?a.reject({actionError:!0,error:r}):(r=h.createRequest(g.getWorkspaceId(),[g.buildSubmission()],[d],[],null,!1,g.getModelId()),g.reset(),this.post(r).then(function(b){b.result.errorInfo&&b.result.errorInfo.errorMessage?a.reject({actionError:!0,isKnownError:b.result.errorInfo.isKnownError,error:b.result.errorInfo.errorMessage}):(b=g.extractResult(b),!1===b.success||!1===b.isSuccess?
a.reject({actionError:!0,error:b.message}):(b=g.parseResponse(b),a.resolve(b)))},a.reject))}else a.reject({fatalError:!0,error:e.errors.invalidSystemAction});return a.promise},post:function(g){var d=new m;n.publish("gather",{postData:g,synchronous:!1,loadHandler:function(a){if(a&&a.error)return d.reject({serverError:!0,error:a.error}),!0;a.result&&(k.populateCache(a.result),s.update(a.result));d.resolve(a)},errorHandler:function(a){d.reject({serverError:!0,error:a})}});return d.promise}}})},"anaplan/api/SystemActions/GetWorkspaces":function(){define("dojo/_base/declare ./Base/SystemAction anaplan/utils/JsHelper anaplan/constants anaplan/api/Entities/Base/LabelPage dojo/i18n!anaplan/nls/api".split(" "),
function(l,s,p,q,f,k){return l([s],{applyDefaults:function(f){f=f||{};f.workspaceId=f.workspaceId||window.workspaceId;return f},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_DATA_SOURCES,params:{workspaceId:this._params.workspaceId,userName:this._params.userName,password:this._params.password}}},parseResponse:function(k){return(new f(k.workspaces)).getItems()}})})},"anaplan/api/Services/workspace":function(){define(["anaplan/api/SystemActions/index"],function(l){var s={workspaceName:"",
workspaceId:"",modelIds:[],workspaceSizeAllowance:0,currentWorkspaceSize:0,modelSources:[],activeModelOnly:[],modelSummaries:[],allowedToRunCMPLSolver:!1,allowedToRunOptimizer:!1,enabledEntitlements:[],modelNames:[]};return{setInfo:function(l){s=l},isActiveModelOnly:function(){return s.activeModelOnly},isAllowedToRunCMPLSolver:function(){return s.allowedToRunCMPLSolver},hasEntitlement:function(l){return!l?(console.warn("Key not provided to hasEntitlement"),!1):s.enabledEntitlements&&-1<s.enabledEntitlements.indexOf(l)},
getWorkspaces:function(){return l.getWorkspaces()},createModelFromRevision:function(p,q,f){return l.createModelFromRevision(p,q,f)}}})},"anaplan/utils/axisDefinition":function(){define(["../constants","../data/ModelContentHelper","../utils/EntityLongIdHelper","dojo/_base/array"],function(l,s,p,q){var f=function(k,m){var h;k&&m&&(m(k),h=k.type,h===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?q.forEach(k.childAxisDefinitions,function(e){f(e,m)}):h===l.AXIS_DEFINITION_TYPE_SELECTION&&f(k.baseAxis,m))},k=function(f,
m){var h;if(f&&m){if(m(f))return!0;h=f.type;if(h===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT)return q.some(f.childAxisDefinitions,function(e){return k(e,m)});if(h===l.AXIS_DEFINITION_TYPE_SELECTION)return k(f.baseAxis,m)}return!1};return{containsDimension:function(f,k){var h=s.getAllDimensionIdentifiersForAxisDefinition(f);return-1!==q.indexOf(h,k)},containsNestedDimensions:function(f){return f?1<s.getAllDimensionIdentifiersForAxisDefinition(f).length:!1},forEach:f,some:k,prepareForExport:function(f){f&&
(f.type===l.AXIS_DEFINITION_TYPE_SYNC_BRANCH&&f.currentRootItemInfo)&&(f.defaultRootItemIdentifier=p.entityLongIdToEntityLongIdIdentifier(f.currentRootItemInfo.entityLongIds[0][0]),delete f.currentRootItemInfo)}}})},"anaplan/view/RunExistingImport/_FailedView":function(){define("anaplan/utils/UIHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_WidgetBase dojo/_base/declare dojo/i18n!anaplan/nls/importLabels dojo/i18n!anaplan/nls/runExistingImport dojo/i18n!dijit/nls/common dojo/keys dojo/string dojo/text!anaplan/templates/RunExistingImport/FailedView.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return k([f,s,p,q],{baseClass:"runExistingImportFailedView",templateString:d,onConfirm:function(){},onHelpChange:function(){},_onShow:function(){this.okButton.focus();this.onHelpChange(null)},postCreate:function(){this.inherited(arguments);this._defaultMessage=m.messageRetrievalFailed;l.setText(this.failureMessage,this._defaultMessage);this.okButton.set("label",h.buttonOk)},setDetail:function(a){try{if(a&&a.messageKey in n){var d="";try{var b=n[a.messageKey];b||(b=
a.localMessageText);d=g.substitute(b,a.substitutions)}catch(e){console.error(e),d+=a.localMessageText}l.setText(this.failureMessage,d)}else l.setText(this.failureMessage,this._defaultMessage)}catch(h){l.throwClientException(this,h)}},_onConfirm:function(){this.onConfirm()},_onKeyDown:function(a){a.keyCode===e.ENTER&&this._onConfirm()}})})},"anaplan/api/Services/imports":function(){define(["anaplan/api/Entities/Imports"],function(l){return new l})},"anaplan/utils/FormatHelper":function(){define("dojo/_base/lang dojo/number dojo/string dojo/i18n dojo/date/locale anaplan/constants anaplan/utils/UrlHelper anaplan/utils/JsHelper dojo/i18n!anaplan/nls/util".split(" "),
function(l,s,p,q,f,k,n,m,h){var e=/(\/|\.|\*|\+|\?|\$|\^|\||\(|\)|\[|\]|\{|\}|\\)/g,g={sanitizeText:function(d,a){if("string"!==typeof d)return"";var e;e=d.trim();e=e.replace(/\t+/g," ");e=e.replace(/[\u0000-\u0009\u000B-\u001F\u007F-\u009F]+/g,"");var b=parseInt(a);isFinite(b)&&0<=b&&(e=e.substr(0,b));return e},ignoreCase:function(d){return RegExp("^"+d.replace(e,"\\$1")+"$","i")},formatCellCount:function(d){if(null===d)return d;var a=Number(Number(d).toPrecision(3));return 1<=a/1E12?(d/=1E12,100<=
d&&(d=Math.round(d)),[s.format(d,{pattern:"#,##0.#"}),h.trillion,h.cells].join(" ")):1<=a/1E9?(d/=1E9,100<=d&&(d=Math.round(d)),[s.format(d,{pattern:"#,##0.#"}),h.billion,h.cells].join(" ")):1<=d/1E7?(d/=1E6,100<=d&&(d=Math.round(d)),[s.format(d,{pattern:"#,##0.#"}),h.million,h.cells].join(" ")):[s.format(d),h.cells].join(" ")},formatBytes:function(d){return 1<=d/1073741824?Math.round(100*(d/1073741824))/100+" GB":1<=d/1048576?Math.round(10*(d/1048576))/10+" MB":1<=d/1024?Math.round(d/1024)+" kB":
d+" B"},searchAndReplacePlaceholders:function(d){if(d)return d.replace(/\$\{([^\s\:\}]+)(?:\:([^\:\}]+))(?:\:([^\s\:\}]+))?\}/g,l.hitch(this,function(a,d,b,e){if("ANAPEDIA"==d)return a=n.createAnapediaAnchor(b,e),e=document.createElement("span"),e.appendChild(a),e.innerHTML;if("ANAPLAN"==d)return a=document.createElement("a"),b=b.split("!").join(":"),e=e?e.split("!").join(":"):b,e=e.split("|").join(" "),a.href='javascript: dojo.publish("anaplan/actions", ["'+b+'", "'+e+'"])',a.appendChild(document.createTextNode(b)),
e=document.createElement("span"),e.appendChild(a),e.innerHTML;if(d==k.LIVE_CHAT)return a=document.createElement("a"),a.href='javascript: dojo.publish("anaplan/show", ["'+k.LIVE_CHAT+'"])',a.appendChild(document.createTextNode(b)),e=document.createElement("span"),e.appendChild(a),e.innerHTML;a=n.createExternalLinkAnchor(d,b);e=document.createElement("span");e.appendChild(a);return e.innerHTML}))},safeParseXhr:function(d){var a={httpStatus:null,httpStatusText:null};try{d&&(a.httpStatus=d.status,a.httpStatusText=
d.statusText)}catch(e){console.error("safeParseXhr has caught exception "+e)}finally{return a}},parseDate:function(d){var a=f.parse(d,{selector:"date"});return null!=a?a:f.parse(d,{selector:"date",datePattern:"yyyy-MM-dd"})},escapeHTML:function(d,a){if(m.isNullOrUndefined(d))return null;"string"!==typeof d&&(console.warn("escapeHTML() passed a non-string"),d+="");var e=d.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;");a&&(e=e.replace(/'/gm,"\x26apos;"));
return e},unescapeHTML:function(d,a){if(null===d||void 0===d||!d.replace)return d;var e=d.replace(/&amp;/gm,"\x26").replace(/&lt;/gm,"\x3c").replace(/&gt;/gm,"\x3e").replace(/&quot;/gm,'"');a&&(e=e.replace(/&apos;/gm,"'"));return e},formatSystemStatusTooltip:function(d){return!d?"":d.replace(/\n/g,"\x3cbr /\x3e")},formatPercentage:function(d){return Math.floor(100*d)+"%"},safeMultiplyByHundred:function(d){if(!m.isEmptyString(d)){var a=d.indexOf("."),e=d.substr(a+1)||"";d=-1===a?d+"00":0===e.length?
d.substr(0,a)+d.substr(a+1)+"00":1===e.length?d.substr(0,a)+d.substr(a+1)+"0":d.substr(0,a)+d.substr(a+1,2)+"."+d.substr(a+3);return(d=this._stripTrailingDots(this._stripLeadingZeroes(d)))||"0"}throw Error("FormatHelper.safeMultiplyByHundred: input is not a valid string:",d);},safeDivideByHundred:function(d){var a;if(!m.isEmptyString(d)){var e=d.split(".");a=e[0];e=e[1];d=d.indexOf(".");-1===d?3>a.length?(a=p.pad(a,3,"0",!1),a=a.substr(0,1)+"."+a.substr(1)):a=a.substr(0,a.length-2)+"."+a.substr(a.length-
2):3>a.length?(a=p.pad(a,3,"0",!1),a=a.substr(0,1)+"."+a.substr(1)+(e||"")):a=a.substr(0,d-2)+"."+a.substr(d-2)+e;return a=this._stripTrailingDots(this._stripLeadingZeroes(this._stripTrailingZeroes(a)))}throw Error("FormatHelper.safeDivideByHundred: input is not a valid string:",d);},_stripTrailingZeroes:function(d){return d?d.replace(/0+$/,""):""},_stripLeadingZeroes:function(d){return d?d.replace(/^0+(?!\.)/,""):""},_stripTrailingDots:function(d){return d?d.replace(/\.*$/,""):""},normaliseNumber:function(d,
a){var e,b=q.getLocalization("dojo.cldr","number",q.normalizeLocale(a||dojo.locale));if(!b)return d;e=b.group;160===e.charCodeAt(0)?(e=(160).toString(16),e=d.replace(RegExp("\\u00"+e,"g"),""),e=e.replace(/ /g,"")):e=d.replace(RegExp("\\"+e,"g"),"");return e=e.replace(b.decimal,".")},formatSeconds:function(d){return s.format(d)+" "+(1===d?h.second:h.seconds)},replaceNewLinePlaceHolders:function(d){var a=RegExp(this.getNewLinePlaceHolder(),"gim");return d.replace(a,"\x3cbr\x3e")},replaceBreakElement:function(d){return d.replace(/<\s*\/?br>/ig,
"\r\n")},replaceNewLineCharacters:function(d){return d.replace(/\r\n?|\n/g,"\x3cbr\x3e")},escapeHtmlRetainFormatting:function(d,a){if(!d)return d;for(var e=this.getNewLinePlaceHolder(),e=d.replace(/\n/gim,e),b=RegExp(this.getAnaplanHtmlStartMarker()+"(.*?)"+this.getAnaplanHtmlEndMarker(),"gim").exec(d),g=b?b.length:0,h=[];g--;)h[g]=["@@@ANAPLAN-PLACEHOLDER-","@@@"].join(g),e=e.replace(this.getAnaplanHtmlStartMarker()+b[g]+this.getAnaplanHtmlEndMarker(),h[g]);e=this.escapeHTML(e,a);for(g=b?b.length:
0;g--;)e=e.replace(h[g],b[g]);return e=this.replaceNewLinePlaceHolders(e)},cleanEscapeHTML:function(d,a){return this.escapeHTML(this.unescapeHTML(d,a),a)},getNewLinePlaceHolder:function(){return k.PLACEHOLDER.NEWLINE},getAnaplanHtmlStartMarker:function(){return k.PLACEHOLDER.HTML_START_MARKER},getAnaplanHtmlEndMarker:function(){return k.PLACEHOLDER.HTML_END_MARKER},addNewLinePlaceHolders:function(d){return d.replace("\n",this.getNewLinePlaceHolder())},isPercentage:function(d){return!d?!1:-1!=d.indexOf("%")},
isScientificNotation:function(d){return!d?!1:null!==d.match(/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/)},makeActionHelpKey:function(d){return"action-"+d.replace(/_/gi,"-").toLowerCase()},createUUID:function(){for(var d=[],a=0;32>a;a++)d[a]="0123456789ABCDEF".substr(Math.floor(16*Math.random()),1);d[12]="4";d[16]="0123456789ABCDEF".substr(d[16]&3|8,1);return d.join("")},createViewGuid:function(){return this.createUUID()},formatSystemStatusMessage:function(d,a){if(!d)return"";d=this.escapeHtmlRetainFormatting(d);
return-1==a?d:[d," (",this.formatPercentage(a)," ",h.systemStatusMessageComplete,")"].join("")},splitWithQuoteDelimiter:function(d,a,e){var b=[];if(null===d)return b;if(null===a||0===a.length)return b.push(d),b;var g="\x00";null!==e&&1===e.length&&(g=e);e=d.length;for(var h=a.length,f=0;f<=e;){var k;k=d.indexOf(a,f);if(0>k){k=d.substring(f,e);"\x00"!==g&&g===k.substring(0,1)&&g===k.substring(k.length-1)&&b.push(k.substring(1,k.length-1));b.push(k);break}else{if("\x00"!==g){var m=d.indexOf(g,f);if(-1<
m&&m<k){var n=d.indexOf(g,m+1);if(-1<n){k=d.substring(m+1,n);b.push(k);f=d.indexOf(a,n);if(-1==f)break;f+=h;continue}}}k=d.substring(f,k);b.push(k)}f+=k.length+h}return b}};l.setObject("anaplan.utils.FormatHelper",g);return g})},"anaplan/gridlet/isGrid2Enabled":function(){define(["anaplan/constants","anaplan/data/ModelContentCache","anaplan/utils/CookieHelper"],function(l,s,p){return function(){return s.getApplicationProperty(l.FEATURE_FLAGS.GRID2)?p.loadCookie("grid2OptOut")?!1:!0:s.hasEntitlement(l.ENTITLED_FEATURES.GRID2)&&
p.loadCookie("grid2BetaOptIn")?!0:!1}})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){return e("dijit.layout.ContentPane",[p,q,f],{href:"",content:"",extractContent:!1,parseOnLoad:!0,
parserScope:l._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,
b,d){var e=new d(a,b);return!e.href&&e._contentSetter&&e._contentSetter.parseDeferred&&!e._contentSetter.parseDeferred.isFulfilled()?e._contentSetter.parseDeferred.then(function(){return e}):e},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=d.byId(b);for(var e=b.ownerDocument.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);a=s.delegate(a,{content:e})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=
t.getLocalization("dijit","loading",this.lang);this.loadingMessage=k.substitute(this.loadingMessage,a);this.errorMessage=k.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&h.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&s.isFunction(a.startup))&&(a.startup(),a._started=
!0)},this)},_startChildren:function(){h.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&s.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&h.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&s.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){l.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();
this.onLoadDeferred=new g(s.hitch(this,"cancel"));this.onLoadDeferred.then(s.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){l.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new g(s.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(s.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new g(s.hitch(this,"cancel"));this.onLoadDeferred.then(s.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,d={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};s.isObject(this.ioArgs)&&s.mixin(d,this.ioArgs);var e=this._xhrDfd=(this.ioMethod||
b.get)(d),g;e.then(function(b){g=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(d){a._onError("Content",d)}},function(b){e.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return g});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;h.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(h.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||
r.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var d=this._contentSetter;d&&d instanceof n._ContentSetter||(d=this._contentSetter=new n._ContentSetter({node:this.containerNode,_onError:s.hitch(this,this._onError),onContentError:s.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));var e=s.mixin({cleanContent:this.cleanContent,
extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),e=d.set(s.isObject(a)&&a.domNode?a.domNode:a,e),g=this;return u(e&&e.then?e:d.parseDeferred,function(){delete g._contentSetterParams;b||(g._started&&(g._startChildren(),g._scheduleLayout()),g._onLoadHandler(a))})},_onError:function(a,b,d){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);
d?console.error(d,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"anaplan/treelet/Treelet":function(){define("anaplan/gridlet/Themes anaplan/common/ViewSerialNumbers anaplan/data/CacheVisitor anaplan/data/LabelPageCache anaplan/gridlet/GridletFactory anaplan/gridlet/GridSizer anaplan/utils/Observable anaplan/view/_TreeletLabelDecorator dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/on".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){var b=e(q,{accept:function(a){a.visitRows1(this)}}),t=e(n,{constructor:function(a){this._themeId=a.themeId;this._fixedCount=a.fixedCount||1;this._labelPageReadCache=new b(g.mixin(a,{nesting:1,style:null}));this._labelPageReadCache.setPages([a.labelPage],a.themeId);this._labelDecorators=a.labelDecorators||[new m];this._rowLabelWidth=a.rowLabelWidth||0},destroy:function(){this._labelPageReadCache.clear()},forceLoad:function(a,b,d){d&&d()},getColumnCount:function(){return this._getColumnCount()},
getPageInfo:function(){return this._getPageInfo()},getRow:function(a,b){var d=new p({dataRowCount:this._getRowCount(),fixedColumnCount:this._getFixedColumnCount(),view:{x:[b,b],y:[a,a]}});d.visitCache([this._labelPageReadCache]);d=d.getRowLabelsObject();return{label:d.labels[0][0],entityLongId:d.entityLongIds[0][0]}},getRowCount:function(){return this._getRowCount()},getSerialNumbers:function(){return new s},getText:function(a){a=new p({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),
fixedRowCount:this._getFixedRowCount(),fixedColumnCount:this._getFixedColumnCount(),pageInfo:this._getPageInfo(),serialNumbers:this.getSerialNumbers(),sizesOnly:!0,view:a,viewDefinition:this._getViewDefinition()});a.visitCache([this._labelPageReadCache]);return a.getText()},getValues:function(a){var b=this._getPageInfo();this.notifyObservers(this._getValues(a),b,this._getSizer(b))},getViewDefinition:function(){return this._getViewDefinition()},update:function(){var a=this._getPageInfo();this.notifyObservers(this._getInitialValues(),
a,this._getSizer(a))},_getColumnCount:function(){return 0},_getFixedColumnCount:function(){return this._fixedCount},_getFixedRowCount:function(){return 0},_getInitialValues:function(){return{startRow:0,startColumn:-1,serialNumbers:this.getSerialNumbers()}},_getPageInfo:function(){return{}},_getRowCount:function(){return this._labelPageReadCache._endIndex-this._labelPageReadCache._startIndex+1},_getSizer:function(){this._sizer||(this._sizer=new k({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),
rowLabelWidths:[{entityLongId:1,width:this._rowLabelWidth}],fixedRowCount:this._getFixedRowCount(),fixedColumnCount:this._getFixedColumnCount(),serialNumber:-1,viewDefinition:this._getViewDefinition()}));return this._sizer},_getValues:function(a){a=new p({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._getFixedRowCount(),fixedColumnCount:this._getFixedColumnCount(),pageInfo:this._getPageInfo(),serialNumbers:this.getSerialNumbers(),sizesOnly:!0,view:a,viewDefinition:this._getViewDefinition(),
labelDecorators:this._labelDecorators});a.visitCache([this._labelPageReadCache]);return a.getValues()},_getViewDefinition:function(){return{themeId:this._themeId}}});return e("anaplan.treelet.Treelet",h,{baseClass:"treelet",constructor:function(a){this._args=a;"undefined"===typeof this._args.themeId&&(this._args.themeId=l.getFallBackTheme())},focus:function(){this._gridlet.focus()},onSelection:function(){},resize:function(){},setCurrentSelection:function(a){this._gridlet.setCurrentSelection(a)},startup:function(){var b,
e,h,k,m;this.inherited(arguments);b=a.getContentBox(this.domNode);e=new t(g.mixin(this._args,{rowLabelWidth:b.w-2-20}));h=new f;k={model:e,readOnly:!0,enableMultiple:!1,enableRange:!1,enableDeselect:!1,labelsCanBeAmbiguous:!1};"undefined"!==typeof this._args.themeId&&(k.themeId=this._args.themeId);m=h.createGridlet(k);d.place(m.domNode,this.domNode);this.own(r(m,"select",g.hitch(this,function(a){var b=m.getGridController();a=a.getStartRowIndex(b.getContext());a=e.getRow(a);this.onSelection(a)})));
m.startup();m.resize(b);e.update();this._gridlet=m},uninitialize:function(){this._gridlet&&(this._gridlet.destroy(),this._gridlet=null);this.inherited(arguments)}})})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(l,s,p,q,f){function k(f,m){var h=function(e,g){return s(e,f,function(d){if(m)return m(d,g);if(!q.isDescendant(d.relatedTarget,e))return g.call(this,d)})};h.bubble=function(e){return k(f,function(g,d){var a=e(g.target),h=g.relatedTarget;
if(a&&a!=(h&&1==h.nodeType&&e(h)))return d.call(a,g)})};return h}p.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);p.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));p.add("events-mousewheel",f.doc&&"onmousewheel"in f.doc);f=p("dom-quirks")&&p("ie")||!p("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(f,k){return f.button&k},isLeft:function(f){return f.button&1},isMiddle:function(f){return f.button&4},isRight:function(f){return f.button&2}}:{LEFT:0,
MIDDLE:1,RIGHT:2,isButton:function(f,k){return f.button==k},isLeft:function(f){return 0==f.button},isMiddle:function(f){return 1==f.button},isRight:function(f){return 2==f.button}};l.mouseButtons=f;l=p("events-mousewheel")?"mousewheel":function(f,k){return s(f,"DOMMouseScroll",function(h){h.wheelDelta=-h.detail;k.call(this,h)})};return{_eventHandler:k,enter:k("mouseover"),leave:k("mouseout"),wheel:l,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}})},"anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin":function(){define(["dojo/_base/declare",
"anaplan/constants","dojo/i18n!anaplan/nls/toolbar"],function(l,s,p){return l("anaplan.dashboard.dashboardWidgets._ContainedWidgetMixin",[],{maximized:!1,displaySearch:function(){},onContentSizeChange:function(){},onDashboardElementChange:function(){},populateContextMenu:function(l){if(void 0===l||null===l)l=this.getParent().inDesignMode;var f=this.dashboardElementType,k=this._optionsMenu,n;k&&(n=k.getChildren());if(!n||!n.length)this.populateRuntimeModeMenu(!l);else{a:{var m=p.labelMaximize,h,e=
n.length,g;for(g=0;g<e;g++)if((h=n[g])&&h.get("label")===m){n=h;break a}n=null}l?n&&k.removeChild(n):(f===s.dashboardElementType.GRID||f===s.dashboardElementType.CHART)&&!this._get("maximized")&&!n&&k.addChild(this._createMaximizeMenuItem(),0)}},populateRuntimeModeMenu:function(){},populateToolbarButtons:function(){},enableDisableToolbarButtons:function(l){},setMenuToolbarOptions:function(){},_setMaximizedAttr:function(l){this._set("maximized",l);var f=this._maximizeMenuItem;f&&(f.set("label",l?p.labelRestore:
p.labelMaximize),f.set("iconClass",l?"anaplanIcon anaplanIconCollapse":"anaplanEditorIcon anaplanEditorIconMaximize"),this._enableButtons&&this._enableButtons());if(f=this._maximizeButton)f.set("label",l?p.labelRestore:p.labelMaximize),f.set("iconClass",l?"anaplanIcon anaplanIconCollapse":"anaplanEditorIcon anaplanEditorIconMaximize")}})})},"anaplan/yolk/GlobalStateInitializer":function(){define("anaplan/constants anaplan/common/SelectiveAccess anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/JsHelper dojo/_base/window dojo/topic".split(" "),
function(l,s,p,q,f,k,n){return{initialize:function(){var m=p.getUserInfo();if(f.isNullOrUndefined(m))n.publish("anaplan/core/error",new k.global.App.errors.InvalidUserError);else{k.global.userId=m.loggedInUserGuid;m=p.getWorkspaceInfo();if(!f.isNullOrUndefined(m)&&(k.global.workspaceId=m.workspaceId,k.global.workspaceName=m.workspaceName,!f.isNullOrUndefined(k.global.modelId))){var h=s.isAuthorized(l.userActions.CAN_ASSERT_MODEL);if(!q.assertModel(m,k.global.modelId,h)){n.publish("anaplan/core/error",
new k.global.App.errors.InvalidModelError(k.global.modelId));return}h=m.modelIds.indexOf(k.global.modelId);-1<h&&(k.global.modelName=m.modelNames[h])}return k.global}}}})},"anaplan/api/Fetchers/functionalAreas":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Base/Fetchable","anaplan/constants"],function(l,s,p){return new (l([s],{axesIdentifiers:{rows:p.SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_IDENTIFIER,columns:p.SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_PROPERTY_IDENTIFIER}}))})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(l,s,p,q,f,k,n,m){return l("dojo.dnd.Avatar",null,{constructor:function(h){this.manager=h;this.construct()},construct:function(){var h=k.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),e=this.manager.source,g,d=k.create("tbody",null,h),a=k.create("tr",null,d),r=k.create("td",null,a),b=Math.min(5,this.manager.nodes.length),f=0;n("highcontrast")&&k.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},r);k.create("span",{innerHTML:e.generateText?
this._generateText():""},r);for(q.set(a,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});f<b;++f)e.creator?g=e._normalizedCreator(e.getItem(this.manager.nodes[f].id).data,"avatar").node:(g=this.manager.nodes[f].cloneNode(!0),"tr"==g.tagName.toLowerCase()&&(a=k.create("table"),k.create("tbody",null,a).appendChild(g),g=a)),g.id="",a=k.create("tr",null,d),r=k.create("td",null,a),r.appendChild(g),q.set(a,{"class":"dojoDndAvatarItem",style:{opacity:(9-f)/10}});this.node=h},destroy:function(){k.destroy(this.node);
this.node=!1},update:function(){f.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(n("highcontrast")){var h=p.byId("a11yIcon"),e="+";this.manager.canDropFlag&&!this.manager.copy?e="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?e="o":this.manager.canDropFlag||(e="x");h.innerHTML=e}m("tr.dojoDndAvatarHeader td span"+(n("highcontrast")?" span":""),this.node).forEach(function(e){e.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"anaplan/api/Entity/Dashboard":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"anaplan/view/UnmappedDimensionImportOptions":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/TooltipDialog dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on anaplan/common/ViewSerialNumbers anaplan/data/ViewRequestRequestGenerator anaplan/utils/EntityLongIdHelper anaplan/utils/SelectorFactory anaplan/widgets/DropDownButton dojo/text!anaplan/templates/UnmappedDimensionImportOptions.html dojo/i18n!anaplan/nls/unmappedDimensionImportOptions dojo/i18n!dijit/nls/loading".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return h([f,q,k],{templateString:z,baseClass:"unmappedDimensionImportOptions",constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._viewDefinition=a.viewDefinition,this._mapping=a.mapping,this._isApiImport=a.isApiImport,this._importDefinition=a.importDefinition,this._serialNumbers=new r,this._viewIndex=null,this._nls=y}catch(b){l.throwClientException(this,b)}},error:function(){return!1},onBusy:function(){},onChange:function(){},
onIdle:function(){},postCreate:function(){this.inherited(arguments);l.setText(this.promptOptionLabel,y.labelPrompt);l.setText(this.fixedOptionLabel,y.labelFixed);l.setText(this.ignoreOptionLabel,y.labelIgnore);l.setText(this.unmappedOptionLabel,y.labelUnmapped);l.setText(this.fixedOptionError,y.labelFixedError)},startup:function(){try{this.inherited(arguments);this.onBusy(this._nls.labelLoading);p.addObserver(this);this._isObserver=!0;p.gather();var a=this._mapping.sourceType;"prompt"===a?g.set(this.promptOptionWrapper,
{display:""}):"constant"===a?g.set(this.fixedOptionWrapper,{display:""}):"ignore"===a?g.set(this.ignoreOptionWrapper,{display:""}):g.set(this.unmappedOptionWrapper,{display:""})}catch(b){l.throwClientException(this,b)}},uninitialize:function(){try{this._isObserver&&p.deleteObserver(this),this._destroyFixedSourceSelector(),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},update:function(a){try{var b=a[0],d=this._serialNumbers,e=this._serialNumbers=new r(b.serialNumbers);this._viewIndex=
b.viewIndex;d.rowAxisSerialNumber!==e.rowAxisSerialNumber&&(this._labelPage=b.rowLabelPages[0],this._destroyFixedSourceSelector(),this._createFixedSourceSelector(),this.validate(),g.set(this.domNode,"display",""),this.onIdle())}catch(h){l.throwClientException(this,h)}},validate:function(a){var b=!0;try{"constant"===this._mapping.sourceType&&(!this._mapping.sourceValue&&a?(b=!1,g.set(this.fixedOptionError,{display:""})):g.set(this.fixedOptionError,{display:"none"}))}catch(d){l.throwClientException(this,
d)}return b},view:function(){var a=null;try{a=(new b(this._workspaceId)).getRequest({modelId:this._modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(d){l.throwClientException(this,d)}return a},_createFixedSourceSelector:function(){try{var b=this,g=this._createTooltipDialog();g.startup();var h=a(g,"Open",d.hitch(this,
function(){setTimeout(function(){var a=document.createElement("div");g.set("content",a);u.createSelector({labelPage:b._labelPage,onSelectionChange:function(a,d){b._setFixedSourceValue(a,d)},style:"height: 250px; width: 250px;",widgetContainer:a})},25)}));this.own(h);h="";this._mapping.sourceValue&&(h=this._getLabelForIdentifier(this._mapping.sourceValue));var r=new v({label:h,showLabel:!0,dropDown:g,autoWidth:!1});e.place(r.domNode,this.fixedOptionLabel,"after");r.startup();this._fixedSourceDropDownButton=
r}catch(f){l.throwClientException(this,f)}},_createTooltipDialog:function(){var b=null;try{var b=new n,e=a(b,"Close",d.hitch(this,function(){b.destroyDescendants()}));this.own(e);var g=a(b,"Show",d.hitch(this,function(){var a=document.createElement("div");a.className="loadingMessage";var d=document.createElement("span");d.className="loadingMessageLabel";d.appendChild(document.createTextNode(w.loadingState));a.appendChild(d);b.set("content",a)}));this.own(g);this._tooltipDialog=b}catch(h){l.throwClientException(this,
h)}return b},_destroyFixedSourceSelector:function(){try{this._tooltipDialog&&this._tooltipDialog.destroy(),this._fixedSourceDropDownButton&&this._fixedSourceDropDownButton.destroy()}catch(a){l.throwClientException(this,a)}},_getLabelForIdentifier:function(a){var b="";try{if(a)var d=t.entityLongIdIdentifierToEntityLongId(a),e=m.indexOf(this._labelPage.entityLongIds[0],d),b=s.escapeHTML(this._labelPage.labels[0][e])}catch(g){l.throwClientException(this,g)}return b},_setFixedSourceValue:function(a,b){try{a?
this._mapping.sourceValue=t.entityLongIdToEntityLongIdIdentifier(a):delete this._mapping.sourceValue,b=this._getLabelForIdentifier(this._mapping.sourceValue),this._fixedSourceDropDownButton.set("label",b),this._mapping.sourceValueLabel=b,this.onChange()}catch(d){l.throwClientException(this,d)}}})})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(l,s,
p,q,f,k,n,m){return l("dijit.form.Form",[f,k,n,m],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(h){s.set(this.domNode,
"encType",h);q("ie")&&(this.domNode.encoding=h);this._set("encType",h)},reset:function(h){var e={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:h?h.target:this.domNode,target:h?h.target:this.domNode};!1!==this.onReset(e)&&e.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(h){this.reset(h);h.stopPropagation();h.preventDefault();return!1},_onSubmit:function(h){var e=this.constructor.prototype;if(this.execute!=
e.execute||this.onExecute!=e.onExecute)p.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(h)&&(h.stopPropagation(),h.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"anaplan/api/Fetchers/modules":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Entities/Modules","anaplan/api/Fetchers/Base/Fetchable",
"anaplan/constants"],function(l,s,p,q){return new (l([p],{entitiesClass:s,axesIdentifiers:{rows:q.SYSTEM_AXIS_IDENTIFIER_MODULE_ALL_IDENTIFIER,columns:q.SYSTEM_AXIS_IDENTIFIER_MODULE_PROPERTY_IDENTIFIER}}))})},"anaplan/widgets/_DialogHelpMixin":function(){define("dijit/layout/ContentPane dojo/_base/declare dojo/_base/event dojo/_base/fx dojo/_base/html dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx/easing dojo/has dojo/on dojo/sniff dojo/topic dojo/window anaplan/utils/UIHelper anaplan/utils/UrlHelper dojo/i18n!anaplan/nls/dialog2".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z){return s([],{helpUrl:null,helpPanel:null,_drawerConfig:{verticalGap:20,defaultWidth:280,percentageWidth:0},_openHelpDrawerOffset:{l:0,t:0},_moveable:null,_dragStartHandle:null,_dragEndHandle:null,_dragMoveHandle:null,_resizeMonitorHandle:null,_relativePosition:!1,_marginBox:{t:-1,l:-1,h:-1,w:-1},constructor:function(a){a.helpUrl&&(this.helpUrl=a.helpUrl);a.helpPanel&&(this.helpPanel=a.helpPanel)},addHelpLink:function(a,b){this._nls=z;this.helpLink=m.create("a",
{className:"anaplanDialogHelpButton",label:this._nls.tooltipHelp,href:v.createAnapediaUrl(b),target:"_blank"});u.setText(this.helpLink,this._nls.buttonHelp);m.place(this.helpLink,a)},addHelpButton:function(b,e){this._nls=z;this._helpDrawer=this.createHelpDrawer();this._clearHelpDrawer();m.place(this._helpDrawer.domNode,n.body());this._setHelpContent(e);this._helpButton=this.createHelpButton();u.setText(this._helpButton,this._nls.buttonHelp);m.place(this._helpButton,b);this.own(a(this.closeButtonNode,
"mousedown",k.hitch(this,"_onCloseButtonMouseDown")));d("ios")||d("android")?this.own(a(this._helpButton,"touchstart",function(a){p.stop(a);this._onHelpButtonClick(a,"touchstart")})):this.own(a(this._helpButton,"click",function(a){p.stop(a);this._onHelpButtonClick(a,"click")}));this.own(a(this.domNode,"contextmenu",function(a){this.allowOnContextMenuEventPropagation(a)||a.stopPropagation()}));this.draggable&&(this._subscribeToDragStart(),this._subscribeToDragEnd());this._startResizeMonitor()},allowOnContextMenuEventPropagation:function(a){return a&&
a.target&&(a=a.target.nodeName,"INPUT"===a||"TEXTAREA"===a)?!1:!0},dialogHelpTearDown:function(){this.helpPanel&&this.draggable&&(this._isHelpDrawerOpen()&&this._hideHelpDrawer(null,!0),this._unsubscribeToDragStart(),this._unsubscribeToDragEnd(),this.stopDragMoveHandler(),this._stopResizeMonitor(),this._helpDrawer.destroy())},_onCloseButtonMouseDown:function(){this.dialogHelpTearDown()},_isHelpDrawerOpen:function(){return"none"!==e.get(this._helpDrawer.domNode,"display")},_hideHelpDrawer:function(a,
b){var d=this;if(b)e.set(d._helpDrawer.domNode,"display","none"),a&&a();else{var h=f.coords(this._helpDrawer.domNode);q.animateProperty({node:this._helpDrawer.domNode,properties:{width:{start:h.w,end:0}},easing:g.sineIn,onEnd:function(){e.set(d._helpDrawer.domNode,"display","none");a&&a();d._keepInViewport(!0)}}).play()}},_showHelpDrawer:function(){var a=this,b=f.coords(this.domNode),d=this._drawerConfig.defaultWidth;this._drawerConfig.percentageWidth&&(d=b.w*this._drawerConfig.percentageWidth/100);
var r=b.h-2*this._drawerConfig.verticalGap,t={h:r,w:d,l:b.l+b.w,t:b.t+this._drawerConfig.verticalGap};h.setMarginBox(this._helpDrawer.domNode,t);this._openHelpDrawerOffset={l:t.l-b.l,t:t.t-b.t};e.set(this._helpDrawer.domNode,"display","");b=this._helpDrawer.getChildren();0<b.length&&h.setMarginBox(b[0].domNode,{w:d-10,h:r-12});q.animateProperty({node:this._helpDrawer.domNode,properties:{width:{start:0,end:d}},easing:g.sineOut,onPlay:function(){e.set(a._helpDrawer.domNode,"display","")},onEnd:function(){a._keepInViewport(!0)}}).play()},
_onHelpButtonClick:function(a){this._isHelpDrawerOpen()?this._hideHelpDrawer():this._showHelpDrawer();p.stop(a)},addHelpControls:function(a){this.helpUrl?this.addHelpLink(a,this.helpUrl):this.helpPanel&&this.addHelpButton(a,this.helpPanel)},createHelpDrawer:function(){return new l({"class":"helpDrawer dijitDialog",style:"display: none;",parseOnLoad:!1})},_clearHelpDrawer:function(){this._helpDrawer.set("content",null)},createHelpButton:function(){return m.create("button",{className:"anaplanDialogHelpButton",
label:this._nls.tooltipHelp})},setDrawerPercentageWidth:function(a){this._drawerConfig.percentageWidth=a},_setHelpContent:function(a){this._helpDrawer.set("content",a)},_subscribeToDragStart:function(){this._dragStartHandle=b.subscribe("dnd/move/start",k.hitch(this,"_dragStart"))},_subscribeToDragEnd:function(){this.draggable&&(this._dragEndHandle=b.subscribe("dnd/move/stop",k.hitch(this,"_dragStop")))},_unsubscribeToDragStart:function(){this._dragStartHandle&&(this._dragStartHandle.remove(),this._dragStartHandle=
null)},_unsubscribeToDragEnd:function(){this._dragEndHandle&&(this._dragEndHandle.remove(),this._dragEndHandle=null)},_dragStart:function(){var a=this;this.stopDragMoveHandler();this._dragMoveHandle=setInterval(function(){a._dragUpdate.call(a)},0)},_dragUpdate:function(){var a=null,b=!1,d=null;if(this._isHelpDrawerOpen()){a=h.getMarginBox(this.domNode);if(this._marginBox.w!==a.w||this._marginBox.h!==a.h)d=f.coords(this.domNode),this._openHelpDrawerOffset={l:a.l+d.w,t:a.t+this._drawerConfig.verticalGap},
b=!0;(this._marginBox.l!==a.l||this._marginBox.t!==a.t||b)&&e.set(this._helpDrawer.domNode,{left:this._marginBox.l+this._openHelpDrawerOffset.l+"px",top:this._marginBox.t+this._openHelpDrawerOffset.t+"px"})}},stopDragMoveHandler:function(){this._dragMoveHandle&&(clearInterval(this._dragMoveHandle),this._keepInViewport(!1),this._dragUpdate())},_dragStop:function(){this.stopDragMoveHandler()},_nudgeIntoViewport:function(a){var b=this._isHelpDrawerOpen(),d=t.getBox(),r=h.getMarginBox(this.domNode),f=
0>r.l?0:r.l,k=0>r.t?0:r.t+r.h>d.h?d.h-r.h:r.t,m=b?h.getMarginBox(this._helpDrawer.domNode):null,u=r.l+r.w,n=r.w;b&&(u=m.l+m.w,n=u-r.l);u>d.w&&(f=d.w-n);if(f!==r.l||k!==r.t)b&&(a?q.animateProperty({node:this._helpDrawer.domNode,properties:{left:{start:m.l,end:f+this._openHelpDrawerOffset.l},top:{start:m.t,end:k+this._openHelpDrawerOffset.t}},easing:g.sineOut}).play():e.set(this._helpDrawer.domNode,{left:f+this._openHelpDrawerOffset.l+"px",top:k+this._openHelpDrawerOffset.t+"px"})),a?q.animateProperty({node:this.domNode,
properties:{left:{start:r.l,end:f},top:{start:r.t,end:k}},easing:g.sineOut}).play():e.set(this.domNode,{left:f+"px",top:k+"px"})},_centreInViewport:function(a){var b=this._isHelpDrawerOpen(),d=t.getBox(),r=h.getMarginBox(this.domNode),f=r.w,k=r.h,m=null;b&&(m=h.getMarginBox(this._helpDrawer.domNode),f=m.l+m.w-r.l);f=d.l+(d.w-f)/2|0;d=d.t+(d.h-k)/2|0;if(f!=r.l||d!=r.t)b&&(a?q.animateProperty({node:this._helpDrawer.domNode,properties:{left:{start:m.l,end:f+this._openHelpDrawerOffset.l},top:{start:m.t,
end:d+this._openHelpDrawerOffset.t}},easing:g.sineOut}).play():e.set(this._helpDrawer.domNode,{left:f+this._openHelpDrawerOffset.l+"px",top:d+this._openHelpDrawerOffset.t+"px"})),a?q.animateProperty({node:this.domNode,properties:{left:{start:r.l,end:f},top:{start:r.t,end:d}},easing:g.sineOut}).play():e.set(this.domNode,{left:f+"px",top:d+"px"})},_keepInViewport:function(a){this._relativePosition?this._nudgeIntoViewport(a):this._centreInViewport(a)},_startResizeMonitor:function(){var a=this;this._stopResizeMonitor();
this._resizeMonitorHandle=setInterval(function(){a._dragUpdate.call(a)},500)},_stopResizeMonitor:function(){this._resizeMonitorHandle&&(clearInterval(this._resizeMonitorHandle),this._resizeMonitorHandle=null)}})})},"anaplan/gridlet/_editor/ActionEditor":function(){define("anaplan/data/DataLoaders/list anaplan/data/DataLoaders/dashboards anaplan/data/OptimizerLineItemHelper anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/LabelPageReadStore anaplan/data/ModelContentHelper anaplan/data/OtherAction anaplan/Exceptions anaplan/data/ModelContentCache anaplan/formula/DataReference anaplan/gridlet/_editor/PopupEditor anaplan/utils/EntityLongIdHelper anaplan/utils/SelectionHelper anaplan/utils/SubmissionHandler anaplan/widgets/TokenInput dijit/registry dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin anaplan/widgets/Button dijit/form/FilteringSelect dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileWriteStore dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/actionEditor dojo/i18n!dijit/nls/common dojo/json dojo/on dojo/query dojo/store/Memory dojo/string dojo/text!anaplan/templates/BulkDeleteEntitiesEditor.html dojo/text!anaplan/templates/BulkEntityCopyEditor.html dojo/text!anaplan/templates/DashboardEditor.html dojo/text!anaplan/templates/DefineEntitiesEditor.html dojo/text!anaplan/templates/DeleteBySelectionEditor.html dojo/text!anaplan/templates/SelectChildrenEditor.html dojo/text!anaplan/templates/SetPropertyAndSynchroniseHierarchyEditor.html dojo/text!anaplan/templates/SimpleCreateEditor.html dojo/text!anaplan/templates/CmplScriptEditorTemplate.html dijit/form/CheckBox dijit/form/FilteringSelect".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$){var ja=B(null,{getLineItems:function(){var a=this._getViewRequest();return(new u({showPleaseWait:!0,delay:0})).post([],[a],[]).then(function(a){var d=a.result.viewRequestResults[0],e=d.columnLabelPages[0];a=E.indexOf(e.entityLongIds[0],n.SYSTEM_PROPERTY_APPLIES_TO);var g=E.indexOf(e.entityLongIds[0],n.SYSTEM_PROPERTY_LEAF_PERIOD_TYPE),h=E.indexOf(e.entityLongIds[0],n.SYSTEM_PROPERTY_LINE_ITEM_FORMAT),
e=E.indexOf(e.entityLongIds[0],n.SYSTEM_PROPERTY_VERSION_SELECTION),r=d.columnCount,f=d.rowLabelPages[0],d=d.dataPages[0],t=[],k,m,u,v;for(k=0;k<f.count;k++)m=b.getEntityTypeIndex(f.entityLongIds[0][k]),u=k*r,v={label:f.labels[0][k],entityLongId:f.entityLongIds[0][k],parentEntityLongId:f.parentEntityLongIds[0][k],appliesTo:d.cellValues[a+u],leafPeriodType:d.cellText[g+u],versionSelection:d.cellText[e+u]},m==n.MODULE_ENTITY_TYPE_INDEX?t.push(C.mixin(v,{lineItems:[]})):t[t.length-1].lineItems.push(C.mixin(v,
{format:I.parse(d.cellValues[h+u])}));return t})},_getViewRequest:function(){var a=C.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[]},h.getAxesForViewDefinition([n.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_IDENTIFIER],[n.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_IDENTIFIER]));return{modelId:modelId,viewDefinition:a,columnLabelPageRequests:[{start:0,count:-1}],dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],rowLabelPageRequests:[{start:0,count:-1}],cellSelectorLabelsRequired:!1,
pageSelectorLabelsRequired:!1,serialNumbers:new k,viewIndex:-1}}});F=B(null,{postCreate:function(){this.inherited(arguments);q.setText(this.labelFilterProperty,J.labelFilterProperty)},uninitialize:function(){this.filterPropertyTokenInput&&(this.filterPropertyTokenInput.destroy(),this.filterPropertyTokenInput=null);this.inherited(arguments)},getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement);C.mixin(b,{filterPropertyEntityLongIds:this.filterPropertyTokenInput.get("value")});
return{actionType:a.actionType,taskElement:I.stringify(b)}},_getFilterProperties:function(a){var b=d.getHierarchyInfo(a),e,g,r,f,t,k;b||(b=d.getHierarchyInfoForHierarchySubsetEntityLongId(a));if(!b)return[];a=h.getHierarchyLabel(d,a);e=[];g=b.propertiesInfo;r=b.propertiesLabelPage;b=r.entityLongIds;f=r.labels;k=r.count;for(r=0;r<k;r++)t=g[r],t=t.format,"ENTITY"===t.dataType&&e.push({name:[a,f[r]].join("."),id:b[r]});return e},_onChange:function(a){var b=I.parse(this._actionDefinition.taskElement);
C.mixin(b,I.parse(a));var d=this._getFilterProperties(b.multiSelectHierarchyEntityLongId||b.parentHierarchyEntityLongId);a=E.filter(b.filterPropertyEntityLongIds||[],function(a){return E.some(d,function(b){return b.id==a})});this._setTokenInput(d,a)},_onFilterPropertyChange:function(a){var b=I.parse(this._actionDefinition.taskElement);C.mixin(b,I.parse((this.propertiesFilteringSelect||this.hierarchyFilteringSelect).get("value")),{filterPropertyEntityLongIds:a})},_setTokenInput:function(a,b){var d;
this.filterPropertyTokenInput&&(this.filterPropertyTokenInput.destroy(),this.filterPropertyTokenInput=null);d=new v({onChange:C.hitch(this,"_onFilterPropertyChange"),pageSize:50,searchAttr:"name",store:new G({clearOnClose:!0,urlPreventCache:!0,data:{identifier:"id",label:"name",items:a||[]}}),value:b||[]},L.create("div",{},this.filterPropertyDomNode,"only"));d.startup();this.filterPropertyTokenInput=d}});var Z=B([w,y],{baseClass:"deleteBySelectionEditor",name:"",tabIndex:-1,templateString:T,constructor:function(a){this._actionDefinition=
a},focus:function(){this._hierarchiesFilteringSelect.focus()},isValid:function(){return!this._hierarchiesFilteringSelect||!this._lineItemsFilteringSelect?!1:this._hierarchiesFilteringSelect.isValid()&&this._lineItemsFilteringSelect.isValid()},onComplete:function(){},postCreate:function(){var a,e,g,h,r;this.inherited(arguments);q.setText(this.labelHierarchy,J.labelHierarchy);q.setText(this.labelFilterLineItem,J.labelFilterLineItem);a=this._getInitialValue();e=d.getCustomHierarchiesLabelPage();g=new D({searchAttr:"label",
required:!0,store:new m({labelPage:e})},this.selectHierarchy);h=new m({labelPage:{count:0}});this._lineItemsFilteringSelect=r=new D({searchAttr:"label",required:!0,store:h},this.selectFilterLineItem);this._lineItemsFilteringSelectStore=h;h=b.entityLongIdIdentifierToEntityLongId(a.hierarchyIdentifier);h=E.indexOf(e.entityLongIds[0],h);-1<h?g.set("displayedValue",e.labels[0][h]):(console.warn(this.id+" invalid identifier "+a.hierarchyIdentifier),g.set("displayedValue",""));this._hierarchiesFilteringSelect=
g;this.own(O(g,"change",C.hitch(this,"_onHierarchiesFilteringSelectChange")),O(r,"change",C.hitch(this,"_onComplete")));this._displayError(null)},getValue:function(){return C.mixin(this._getDefaultValue(),{hierarchyIdentifier:b.entityLongIdToEntityLongIdIdentifier(this._hierarchiesFilteringSelect.get("value")),filterLineItemIdentifier:b.entityLongIdToEntityLongIdIdentifier(this._lineItemsFilteringSelect.get("value"))})},_displayError:function(a){a?(L.place(document.createTextNode(J[a]||a),this.divActionError,
"only"),K.set(this.divActionError,"visibility","visible")):K.set(this.divActionError,"visibility","hidden")},_getDefaultValue:function(){return{actionType:n.ACTION_TYPE_DELETE_BY_SELECTION,hierarchyIdentifier:-1,filterLineItemIdentifier:-1}},_getCombinedLineItemsLabelPage:function(b){return(new ja).getLineItems().then(C.hitch(this,function(e){function g(a,b){k[b.entityLongId]=t.generateTwoPartIdentifier(a,b.label)}function r(a,b,d){return"BOOLEAN"!==d.format.dataType||"Not Applicable"!==d.leafPeriodType||
"Not Applicable"!==d.versionSelection?!1:a&&"-"===d.appliesTo||-1<E.indexOf(b,d.appliesTo)}var f=d.getHierarchyAndHierarchySubsetEntityLongIds(b),f=E.map(f,function(a){a=h.getHierarchyLabel(d,a);return null!==a&&-1<a.indexOf(",")?'"'+a+'"':a}),t=new a,k={},m,u,n,v,l,x,z;for(m=0;m<e.length;m++)u=e[m],n=u.label,E.forEach(u.lineItems,C.hitch(this,g,n)),n=-1<E.indexOf(f,u.appliesTo),u.lineItems=E.filter(u.lineItems,C.hitch(this,r,n,f));v=0;l=[];x=[];z=[];E.forEach(e,function(a){v+=a.lineItems.length;
x=x.concat(E.map(a.lineItems,function(a){return k[a.entityLongId]}));l=l.concat(E.map(a.lineItems,function(a){return a.entityLongId}));z=z.concat(E.map(a.lineItems,function(a){return a.parentEntityLongId}))});this._allLineItemLabels=k;return{count:v,entityLongIds:[l],labels:[x],parentEntityLongIds:[z]}}))},_getInitialValue:function(){return this._actionDefinition},_onComplete:function(){this._lineItemsFilteringSelect.isValid()&&this._displayError();this.onComplete(this._hierarchiesFilteringSelect.get("displayedValue"),
this._lineItemsFilteringSelect.get("displayedValue"))},_onHierarchiesFilteringSelectChange:function(a){this._refreshLineItemsFilteringSelectStore(a)},_refreshLineItemsFilteringSelectStore:function(a){this._getCombinedLineItemsLabelPage(a).then(C.hitch(this,function(d){var e=this._lineItemsFilteringSelectStore,g;e.close();e._jsonData=e._convertLabelPageToStoreFormat(d);e.fetch();e=this._getInitialValue();g=b.entityLongIdIdentifierToEntityLongId(e.hierarchyIdentifier);a==g?(e=b.entityLongIdIdentifierToEntityLongId(e.filterLineItemIdentifier),
-1<E.indexOf(d.entityLongIds[0],e)?this._lineItemsFilteringSelect.set("displayedValue",this._allLineItemLabels[e]):this._errorDisplayedOnce?(this._lineItemsFilteringSelect.set("displayedValue",""),this._displayError()):(d="",this._allLineItemLabels.hasOwnProperty(e)&&(d=this._allLineItemLabels[e]),this._lineItemsFilteringSelect.set("displayedValue",d),d.length?this._displayError("messageLineItemIsNoLongerValid"):this._displayError("messageLineItemHasBeenDeleted"),this._errorDisplayedOnce=!0)):(this._lineItemsFilteringSelect.set("displayedValue",
""),this._displayError())}))}}),aa=B([w,y,x,F],{baseClass:"selectChildrenEditor",name:"",tabIndex:-1,templateString:ca,constructor:function(a){this._actionDefinition=a},focus:function(){this.propertiesFilteringSelect.focus()},isValid:function(){return this.propertiesFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){var a,b;this.inherited(arguments);q.setText(this.labelProperty,J.labelSelectChildrenProperty);this.propertiesFilteringSelect.set("store",new N({data:this._getProperties()}));
a=this._actionDefinition;a.taskElement&&(a=new e(a),b=a.getTaskElement(),a.isValid()&&this.propertiesFilteringSelect.set("value",I.stringify({hierarchyEntityLongId:b.hierarchyEntityLongId,multiSelectHierarchyEntityLongId:b.multiSelectHierarchyEntityLongId,parentHierarchyEntityLongId:b.parentHierarchyEntityLongId,propertyEntityLongId:b.propertyEntityLongId})))},getValue:function(){var a=this.inherited(arguments),b,d;if(a){b=I.parse(a.taskElement);d=this.propertiesFilteringSelect.get("value");if(!d)return null;
try{C.mixin(b,I.parse(d)),a.taskElement=I.stringify(b)}catch(e){return console.warn(e),null}}return a},_getProperties:function(){var a=d.getModelInfo().hierarchiesInfo,b=a.hierarchiesLabelPage,e=b.labels[0],g=b.entityLongIds[0],h=[];E.forEach(a.hierarchyInfos,function(a){var b,d,r,f,t,k,m;if(a.isNumberedList&&-1<a.parentHierarchyEntityLongId){b=e[E.indexOf(g,a.entityLongId)];d=a.propertiesInfo;r=a.propertiesLabelPage;f=r.entityLongIds;t=r.labels;for(k=0;k<r.count;k++)m=d[k],m=m.format,"ENTITY"===
m.dataType&&m.hierarchyEntityLongId!==n.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID&&h.push({name:[b,t[k]].join("."),id:I.stringify({hierarchyEntityLongId:a.entityLongId,multiSelectHierarchyEntityLongId:m.hierarchyEntityLongId,parentHierarchyEntityLongId:a.parentHierarchyEntityLongId,propertyEntityLongId:f[k]})})}});return h},_onComplete:function(){this.onComplete(this.getValue())}}),ga=B([w,y,x],{baseClass:"defineEntitiesEditor",name:"",tabIndex:-1,templateString:Y,constructor:function(a){this._actionDefinition=
a},focus:function(){this.hierarchyFilteringSelect.focus()},isValid:function(){return this.hierarchyFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){var a;this.inherited(arguments);q.setText(this.labelHierarchy,J.labelDefineEntitiesHierarchy);a=this._getHierarchies();this.hierarchyFilteringSelect.set("store",new N({data:a}));a=this._actionDefinition;a.taskElement&&(a=I.parse(a.taskElement),-1<a.hierarchyEntityLongId&&this.hierarchyFilteringSelect.set("value",I.stringify({hierarchyEntityLongId:a.hierarchyEntityLongId,
parentHierarchyEntityLongId:a.parentHierarchyEntityLongId,includeInSubsetEntityLongIds:a.includeInSubsetEntityLongIds,associatedDataChanges:a.associatedDataChanges})))},getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement),d=this.hierarchyFilteringSelect.get("value"),e;if(!d)return null;try{e=I.parse(d),C.mixin(b,e)}catch(g){return console.warn(g),null}return{actionType:a.actionType,taskElement:I.stringify(b)}},_getHierarchies:function(){var a=d.getModelInfo().hierarchiesInfo,
b=a.hierarchiesLabelPage,e=b.labels[0],g=b.entityLongIds[0],h=[],r;E.forEach(a.hierarchyInfos,function(a){a.isNumberedList&&-1<a.parentHierarchyEntityLongId&&(r=e[E.indexOf(g,a.entityLongId)],h.push({name:r,id:I.stringify({hierarchyEntityLongId:a.entityLongId,parentHierarchyEntityLongId:a.parentHierarchyEntityLongId,includeInSubsetEntityLongIds:[],associatedDataChanges:[]})}))});return h},_onComplete:function(){this.onComplete(this.getValue())}}),ea=B([w,y,x],{baseClass:"bulkDeleteEntitiesEditor",
name:"",tabIndex:-1,templateString:S,constructor:function(a){this._actionDefinition=a},focus:function(){this.hierarchyFilteringSelect.focus()},isValid:function(){return this.hierarchyFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){var a;this.inherited(arguments);q.setText(this.labelHierarchy,J.labelBulkDeleteEntitiesHierarchy);this.hierarchyFilteringSelect.set("store",new N({data:this._getHierarchies()}));q.setText(this.labelDeletionMode,J.labelDeletionMode);this.deletionModeFilteringSelect.set("store",
new N({data:[{id:I.stringify({deletionMode:"ALL_LEVELS"}),name:J.labelDeletionMode_ALL_LEVELS},{id:I.stringify({deletionMode:"IMMEDIATE_CHILDREN_ONLY"}),name:J.labelDeletionMode_IMMEDIATE_CHILDREN_ONLY}]}));a=this._actionDefinition;a.taskElement&&(a=I.parse(a.taskElement),-1<a.hierarchyEntityLongId&&this.hierarchyFilteringSelect.set("value",I.stringify({hierarchyEntityLongId:a.hierarchyEntityLongId})),this.deletionModeFilteringSelect.set("value",I.stringify({deletionMode:a.deletionMode||"IMMEDIATE_CHILDREN_ONLY"})))},
getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement),d=this.hierarchyFilteringSelect.get("value"),e;if(!d)return null;try{e=I.parse(d),C.mixin(b,e)}catch(g){return console.warn(g),null}d=this.deletionModeFilteringSelect.get("value");if(!d)return null;try{e=I.parse(d),C.mixin(b,e)}catch(h){return console.warn(h),null}return{actionType:a.actionType,taskElement:I.stringify(b)}},_getHierarchies:function(){var a=d.getModelInfo().hierarchiesInfo,b=a.hierarchiesLabelPage,e=b.labels[0],
g=b.entityLongIds[0],h=[],r;E.forEach(a.hierarchyInfos,function(a){a.isNumberedList&&(r=e[E.indexOf(g,a.entityLongId)],h.push({name:r,id:I.stringify({hierarchyEntityLongId:a.entityLongId})}))});return h},_onComplete:function(){this.onComplete(this.getValue())}}),qa=B([w,y,x,F],{baseClass:"bulkEntityCopyEditor",name:"",tabIndex:-1,templateString:R,constructor:function(a){this._actionDefinition=a},focus:function(){this.hierarchyFilteringSelect.focus()},isValid:function(){return this.hierarchyFilteringSelect.isValid()},
onComplete:function(a){},postCreate:function(){var a,b;this.inherited(arguments);q.setText(this.labelHierarchy,J.labelBulkEntityCopyHierarchy);this.hierarchyFilteringSelect.set("store",new N({data:this._getHierarchies()}));q.setText(this.labelCopyMode,J.labelCopyMode);q.setText(this.labelCopyMode,J.labelCopyMode);q.setText(this.labelDashboard,J.labelDashboard);q.setText(this.labelPromptToShowNewlyCreatedItems,J.labelPromptToShowNewlyCreatedItems);this.copyModeFilteringSelect.set("store",new N({data:[{id:I.stringify({copyMode:"ALL_LEVELS"}),
name:J.labelCopyMode_ALL_LEVELS},{id:I.stringify({copyMode:"IMMEDIATE_CHILDREN_ONLY"}),name:J.labelCopyMode_IMMEDIATE_CHILDREN_ONLY}]}));a=this._actionDefinition;a.taskElement&&(b=I.parse(a.taskElement),-1<b.hierarchyEntityLongId&&this.hierarchyFilteringSelect.set("value",I.stringify({hierarchyEntityLongId:b.hierarchyEntityLongId,parentHierarchyEntityLongId:b.parentHierarchyEntityLongId,includeInSubsetEntityLongIds:b.includeInSubsetEntityLongIds,associatedDataChanges:b.associatedDataChanges})),this.copyModeFilteringSelect.set("value",
I.stringify({copyMode:b.copyMode||"IMMEDIATE_CHILDREN_ONLY"})),s.fetchRowLabelPage(n.MAX_DASHBOARDS_TO_FETCH).then(C.hitch(this,function(a){a=this._toArray(a);this.dashboardsFilteringSelect.set("store",new N({data:a}));b.hasOwnProperty("dashboardEntityLongId")&&-1<b.dashboardEntityLongId&&this.dashboardsFilteringSelect.set("value",Number(b.dashboardEntityLongId))})),b.hasOwnProperty("promptToShowNewlyCreatedItems")&&this.checkBoxPromptToShowNewlyCreatedItems.set("checked",b.promptToShowNewlyCreatedItems))},
getValue:function(){var a=this.inherited(arguments),b=I.parse(a.taskElement),d;d=this.hierarchyFilteringSelect.get("value");if(!d)return null;try{C.mixin(b,I.parse(d))}catch(e){return console.warn(e),null}d=this.copyModeFilteringSelect.get("value");if(!d)return null;try{C.mixin(b,I.parse(d));var g=this.dashboardsFilteringSelect.get("value");g.length||(g=-1);C.mixin(b,{dashboardEntityLongId:g,promptToShowNewlyCreatedItems:this.checkBoxPromptToShowNewlyCreatedItems.get("checked")})}catch(h){return console.warn(h),
null}a.taskElement=I.stringify(b);return a},_getHierarchies:function(){var a=d.getModelInfo().hierarchiesInfo,b=a.hierarchiesLabelPage,g=b.labels[0],h=b.entityLongIds[0],r=[];E.forEach(a.hierarchyInfos,function(a){var b;a.isNumberedList&&-1<a.parentHierarchyEntityLongId&&(b=new e({actionType:n.ACTION_TYPE_TASK_ELEMENT,taskElement:I.stringify({taskElementType:"BULK_OPERATION",operation:"BULK_ENTITY_COPY",hierarchyEntityLongId:a.entityLongId,parentHierarchyEntityLongId:a.parentHierarchyEntityLongId})}),
b.isValid()&&(b=g[E.indexOf(h,a.entityLongId)],r.push({name:b,id:I.stringify({hierarchyEntityLongId:a.entityLongId,parentHierarchyEntityLongId:a.parentHierarchyEntityLongId,includeInSubsetEntityLongIds:[],associatedDataChanges:[]})})))});return r},_onComplete:function(){this.onComplete(this.getValue())},_toArray:function(a){var b=a.entityLongIds[0],d=a.labels[0],e=[],g;for(g=0;g<a.count;g++)e.push({name:d[g],id:b[g]});return e}}),ka=B([w,y,x],{baseClass:"setPropertyAndSynchroniseHierarchyEditor",
name:"",tabIndex:-1,templateString:X,LEVELS:3,constructor:function(a){this._actionDefinition=a},focus:function(){this.targetHierarchiesFilteringSelect.focus()},isValid:function(){return this.targetHierarchiesFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){var a;this.inherited(arguments);q.setText(this.labelSelectTargetHierarchy,J.labelSelectTargetHierarchy);q.setText(this.labelSelectNewPropertyHierarchy,J.labelSelectNewPropertyHierarchy);q.setText(this.labelSelectSource0Hierarchy,
J.labelSelectSource0Hierarchy);q.setText(this.labelSelectSource1Hierarchy,J.labelSelectSource1Hierarchy);this.targetHierarchiesFilteringSelect.set("store",new N({data:this._getTargetHierarchies(this.LEVELS)}));a=this._actionDefinition;a.taskElement&&(a=new e(a),a.isValid()&&(a=a.getTaskElement(),a.hasOwnProperty("targetHierarchyEntityLongId")&&(this._populateFilteringSelectUsingTargetHierarchy(a.targetHierarchyEntityLongId),this.targetHierarchiesFilteringSelect.set("value",a.targetHierarchyEntityLongId),
this.newPropertyHierarchyFilteringSelect.set("value",a.newPropertyHierarchyEntityLongId),this.source0HierarchyFilteringSelect.set("value",a.source0HierarchyEntityLongId),this.source1HierarchyFilteringSelect.set("value",a.source1HierarchyEntityLongId))))},getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement),d=this.targetHierarchiesFilteringSelect.get("value"),e=this._getEntityLongId(d),g=this.newPropertyHierarchyFilteringSelect.get("value"),h=this.source0HierarchyFilteringSelect.get("value"),
r=this.source1HierarchyFilteringSelect.get("value");C.mixin(b,{targetHierarchyEntityLongId:d,entityLongId:e,newPropertyHierarchyEntityLongId:g,source0HierarchyEntityLongId:h,source1HierarchyEntityLongId:r});return{actionType:a.actionType,taskElement:I.stringify(b)}},_getEntityLongId:function(a){var b=this._getNumberedLists(),d=this._getNumberedListIndexMap(),e;if(!d.hasOwnProperty(a))return-1;e=b[d[a]];for(a=0;a<this.LEVELS-1;)if(d.hasOwnProperty(e.parentHierarchyEntityLongId))e=d[e.parentHierarchyEntityLongId],
e=b[e],a++;else break;return a<this.LEVELS-1?-1:e.parentHierarchyEntityLongId},_getNumberedListIndexMap:function(){var a,b,d;if(!this._numberedListIndexMap){a={};b=this._getNumberedLists();for(d=0;d<b.length;d++)a[b[d].entityLongId]=d;this._numberedListIndexMap=a}return this._numberedListIndexMap},_getNumberedLists:function(){var a,b,e,g,h,r;if(!this._numberedLists){a=d.getModelInfo();b=a.hierarchiesInfo;a=b.hierarchyInfos;b=b.hierarchiesLabelPage;e=b.labels[0];h=[];for(g=0;g<b.count;g++)r=a[g],r.isNumberedList&&
h.push({entityLongId:r.entityLongId,label:e[g],parentHierarchyEntityLongId:r.parentHierarchyEntityLongId});this._numberedLists=h}return this._numberedLists},_getHierarchyProperties:function(a){var b=d.getHierarchyInfo(a);a=b.propertiesInfo;var b=b.propertiesLabelPage,e=[],g,r,f;for(g=0;g<b.count;g++)r=a[g],r=r.format,"ENTITY"===r.dataType&&(f=h.getHierarchyLabel(d,r.hierarchyEntityLongId),e.push({name:f,id:r.hierarchyEntityLongId}));return e},_getTargetHierarchies:function(a){var b=this._getNumberedLists(),
d=this._getNumberedListIndexMap(b),e,g,h,r;e=E.filter(b,C.hitch(this,function(e){g=0;for(h=e;g<a-1;)if(d.hasOwnProperty(h.parentHierarchyEntityLongId))r=d[h.parentHierarchyEntityLongId],h=b[r],g++;else break;return g>=a-1&&-1<h.parentHierarchyEntityLongId}));return E.map(e,function(a){return{id:a.entityLongId,name:a.label}})},_onComplete:function(){this.onComplete(this.getValue())},_onNewPropertyHierarchyChange:function(a){},_onTargetHierarchiesChange:function(a){this._populateFilteringSelectUsingTargetHierarchy(a)},
_populateFilteringSelectUsingTargetHierarchy:function(a){var b=this._getEntityLongId(a),d;-1!==b&&(b=this._getHierarchyProperties(b),this.newPropertyHierarchyFilteringSelect.set("store",new N({data:b})),b=this._getNumberedLists(),d=this._getNumberedListIndexMap(),d=d[a],b=b[d],b=this._getHierarchyProperties(b.parentHierarchyEntityLongId),this.source0HierarchyFilteringSelect.set("store",new N({data:b})),a=this._getHierarchyProperties(a),this.source1HierarchyFilteringSelect.set("store",new N({data:a})))}}),
da=B([w,y,x],{baseClass:"dashboardEditor",name:"",tabIndex:-1,templateString:W,constructor:function(a){this._actionDefinition=a},focus:function(){this.dashboardsFilteringSelect.focus()},isValid:function(){var a=P(".insertActionsInputText")[0];return a&&(a=z.byNode(a),a=a.getValue(),!a)?!1:this.dashboardsFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){this.inherited(arguments);q.setText(this.labelDashboard,J.labelDashboard);q.setText(this.labelContext,J.labelContext);q.setText(this.labelHierachy,
J.labelHierachy);q.setText(this.labelSelectedListPropertyValue,J.labelSelectedListPropertyValue);q.setText(this.labelDashboardToOpen,J.labelDashboardToOpen);q.setText(this.labelButtonText,J.labelButtonText);this.dashboardSelector.style.display="none";s.fetchRowLabelPage(n.MAX_DASHBOARDS_TO_FETCH).then(C.hitch(this,function(a){a=this._toArray(a);var b=this._getHierarchies();this.storeDashboards=new N({data:a});this.storeHierarchies=new N({data:b});this.dashboardsFilteringSelect.set("store",this.storeDashboards);
this.hierarchiesFilteringSelect.set("store",this.storeHierarchies);this.startup()}))},startup:function(){try{this.inherited(arguments);var a,b,d;a=this._actionDefinition;a.taskElement&&(b=new e(a),d=b.getTaskElement(),d.hasOwnProperty("dashboardEntityLongId")&&-1<d.dashboardEntityLongId&&this.dashboardsFilteringSelect.set("value",d.dashboardEntityLongId),d.hasOwnProperty("hierarchyEntityLongId")&&-1<d.hierarchyEntityLongId?(this.hierarchiesFilteringSelect.set("value",d.hierarchyEntityLongId),setTimeout(C.hitch(this,
function(){d.hasOwnProperty("hierarchyPropertyEntityLongId")&&Number(d.hierarchyPropertyEntityLongId)?(this.hierarchyPropertiesFilteringSelect.set("value",Number(d.hierarchyPropertyEntityLongId)),this.hierarchyPropertiesFilteringSelect.set("disabled",!1)):"0"!==d.hierarchyPropertyEntityLongId&&this._onHierarchiesFilteringSelectChange(-1)}),200)):setTimeout(C.hitch(this,function(){this._onHierarchiesFilteringSelectChange(-1)}),200))}catch(g){}},getValue:function(){if(!this.isValid())return null;var a=
this._actionDefinition,b=I.parse(a.taskElement),d=this.dashboardsFilteringSelect.get("value"),e=this.hierarchiesFilteringSelect.get("value");e.length||(e=-1);C.mixin(b,{dashboardEntityLongId:d,hierarchyEntityLongId:e});d=this._dashboardPropertyMap||{};e=this.hierarchyPropertiesFilteringSelect.get("value");e.length||(e=-1);C.mixin(b,{hierarchyPropertyEntityLongId:e,dashboardPropertyMap:d});return{actionType:a.actionType,taskElement:I.stringify(b)}},_getHierarchies:function(){var a=this._toArray(d.getHierarchiesLabelPage()),
a=a.concat(this._toArray(d.getHierarchySubsetsLabelPage()));return a=a.concat(this._toArray(d.getLineItemSubsetsLabelPage()))},_getListFormattedPropertiesForHierarchyEntityLongId:function(a){var b=d.getHierarchyInfo(a),e,g,h;if(null===b)return[];a=b.propertiesLabelPage;b=b.propertiesInfo;e=[];for(g=0;g<a.count;g++)h=b[g],"ENTITY"===h.format.dataType&&e.push({name:a.labels[g],id:a.entityLongIds[g]});return e},_onComplete:function(){this.onComplete(this.getValue())},_onDashboardsFilteringSelectChange:function(a){a&&
this.hierarchiesFilteringSelect.isValid()&&(this.hierarchiesFilteringSelect.get("value")?this.hierarchyPropertiesFilteringSelect.isValid()?(a=this.hierarchyPropertiesFilteringSelect.get("value"),"0"!==a&&this._onHierarchyPropertiesFilteringSelectChange(a)):this._onHierarchyPropertiesFilteringSelectChange(-1):this._onHierarchyPropertiesFilteringSelectChange(-1))},_onHierarchiesFilteringSelectChange:function(a){a=this._getListFormattedPropertiesForHierarchyEntityLongId(a);var b=[{name:J.notApplicable,
id:0}].concat(a);this.hierarchyPropertiesFilteringSelect.set("store",new N({data:b}));b=this.hierarchyPropertiesFilteringSelect.store;this.hierarchyPropertiesFilteringSelect.set("value",b.getIdentity(b.data[0]));0<a.length?this.hierarchyPropertiesFilteringSelect.set("disabled",!1):(this.hierarchyPropertiesFilteringSelect.set("disabled",!0),L.empty(this.properties),this._toggleDashboardSelector("hide"));this._repositionDialog(this.domNode.offsetParent)},_onHierarchyPropertiesFilteringSelectChange:function(a){var b,
e,g,h,r,t,k={};try{this._dashboardPropertyMap={},a?(b=this.hierarchiesFilteringSelect.get("value"),e=d.getHierarchyInfo(b),null===e?console.warn("expected to find hierarchy and did not",b):(g=this.hierarchyPropertiesFilteringSelect.get("value"),h=E.indexOf(e.propertiesLabelPage.entityLongIds,Number(g)),-1===h?console.warn("expected to find property and did not",g):(r=e.propertiesInfo[h],"ENTITY"!==r.format.dataType?console.warn("expected property data type to be ENTITY and was not",g):(t=r.format.hierarchyEntityLongId,
l.fetch(t).then(C.hitch(this,function(a){if(a.rowCount){var b=a.rowLabelPages[0],d=b.labels[0],g=b.entityLongIds[0];s.fetchRowLabelPage(350).then(C.hitch(this,function(b){var h=this._toArray(b);a.rowCount>n.OPEN_DASHBOARD_MAX_ITEM_LIMIT?(b=J.openDashboardLimitExceed,b=Q.substitute(b,{maxItemLimit:n.OPEN_DASHBOARD_MAX_ITEM_LIMIT,listName:e.propertiesLabelPage.labels[0]}),q.setText(this.openDashboardAlertText,b),K.set(this.openDashboardAlert,"display","block")):K.set(this.openDashboardAlert,"display",
"none");L.empty(this.properties);var r={};E.forEach(d,function(a,b){r[a]?r[a]++:r[a]=1});E.forEach(g,C.hitch(this,function(a,b){var e=d[b],t=g[b],m=f.cleanEscapeHTML(e,!0);1<r[e]&&(m+=[" (#",b,")"].join(""));var m='\x3clabel class\x3d"actionEditorLabel enforce-text-wrap"\x3e'+m+"\x3c/label\x3e",u=L.create("div",{},this.properties);L.create("div",{"class":"label-column",innerHTML:m},u,"first");var m=L.create("div",{"class":"property-column"},u,"last"),u=new N({}),n=this.dashboardsFilteringSelect._getDisplayedValueAttr();
u.put({id:"anaplan_default",name:J.defaultDashboardMarker+(n?[" (",n,")"].join(""):""),dojoAttachPoint:"default_"+e,parentValue:"default_"+t,parentId:t,parentLabel:"default",isDefault:!0});for(n=0;n<h.length;n++)u.put({id:h[n].id,name:h[n].name,parentValue:t,parentLabel:e});e=L.create("div",{});L.place(e,m,"only");e=new D({"data-anaplan-element-name":"dashboard-property-"+t,required:!0,store:u,dojoAttachPoint:t,searchAttr:"name",onChange:function(a){this.item&&(this.item.isDefault?delete k[String(this.item.parentId)]:
k[String(this.item.parentValue)]=this.get("value"))}},e);e.startup();m=this._actionDefinition;if(m.taskElement){u=(new anaplan.data.OtherAction(m)).getTaskElement();m=!1;if(u.hasOwnProperty("dashboardPropertyMap")){var u=u.dashboardPropertyMap,v;for(v in u)if(u.hasOwnProperty(v)&&Number(v)===t)try{e.set("value",u[v]);m=!0;break}catch(l){console.warn(l)}}m||e.set("value","anaplan_default");this._dashboardPropertyMap=k}}));this._toggleDashboardSelector("show");this._repositionDialog(this.domNode.offsetParent)}))}else console.warn("expected to find item(s) and did not",
a)})))))):(this._toggleDashboardSelector("hide"),this._repositionDialog(this.domNode.offsetParent),console.warn("expected to find dashboard and did not",a))}catch(m){console.error(m)}},_toggleDashboardSelector:function(a){q.toggleNode(this.dashboardSelector,"show"===a)},_repositionDialog:function(a){dijit.getEnclosingWidget(a).resize()},_toArray:function(a){var b=a.entityLongIds[0],d=a.labels[0],e=[],g;for(g=0;g<a.count;g++)e.push({name:d[g],id:b[g]});return e}}),ha=B([w,y,x],{baseClass:"simpleCreateEditor",
name:"",tabIndex:-1,templateString:ba,constructor:function(a){this._actionDefinition=a},isValid:function(){return this.hierarchyAndHierarchySubsetsFilteringSelect.isValid()},onComplete:function(a){},postCreate:function(){var a,b;this.inherited(arguments);q.setText(this.labelDashboard,J.labelDashboard);q.setText(this.labelCreateHierarchy,J.labelCreateHierarchy);q.setText(this.labelPromptForParent,J.labelPromptForParent);q.setText(this.labelPromptToShowNewlyCreatedItems,J.labelPromptToShowNewlyCreatedItems);
this.hierarchyAndHierarchySubsetsFilteringSelect.set("store",new N({data:this._getHierarchiesAndHierarchySubsets()}));a=this._actionDefinition;a.taskElement&&(a=new e(a),b=a.getTaskElement(),b.hasOwnProperty("hierarchyEntityLongId")&&(b.hasOwnProperty("includeInSubsetEntityLongIds")&&b.includeInSubsetEntityLongIds.length?this.hierarchyAndHierarchySubsetsFilteringSelect.set("value",b.includeInSubsetEntityLongIds[0]):this.hierarchyAndHierarchySubsetsFilteringSelect.set("value",b.hierarchyEntityLongId)),
s.fetchRowLabelPage(n.MAX_DASHBOARDS_TO_FETCH).then(C.hitch(this,function(a){a=this._toArray(a);this.dashboardsFilteringSelect.set("store",new N({data:a}));b.hasOwnProperty("dashboardEntityLongId")&&-1<b.dashboardEntityLongId&&this.dashboardsFilteringSelect.set("value",b.dashboardEntityLongId)}),C.hitch(this,function(a){console.error(this.id,a)})),b.hasOwnProperty("promptForParent")&&this.checkBoxPromptForParent.set("checked",b.promptForParent),b.hasOwnProperty("promptToShowNewlyCreatedItems")&&this.checkBoxPromptToShowNewlyCreatedItems.set("checked",
b.promptToShowNewlyCreatedItems))},getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement),d=this.dashboardsFilteringSelect.get("value");d.length||(d=-1);var e=-1,g=[],h=this.hierarchyAndHierarchySubsetsFilteringSelect.get("value");if(0>h)return null;this._isHierarchySubset(h)?(e=this._getHierarchyEntityLongIdForHierarchySubsetEntityLongId(h),g.push(h)):e=h;h=this._getParentHierarchyEntityLongId(e);C.mixin(b,{dashboardEntityLongId:d,hierarchyEntityLongId:e,parentHierarchyEntityLongId:h,
promptForParent:this.checkBoxPromptForParent.get("checked"),promptToShowNewlyCreatedItems:this.checkBoxPromptToShowNewlyCreatedItems.get("checked"),includeInSubsetEntityLongIds:g});return{actionType:a.actionType,taskElement:I.stringify(b)}},_getHierarchiesAndHierarchySubsets:function(){for(var a=d.getModelInfo(),b=a.hierarchiesInfo,e=b.hierarchyInfos,b=b.hierarchiesLabelPage,g=b.labels[0],h=b.entityLongIds[0],a=a.hierarchySubsetsInfo.hierarchySubsetsLabelPage,r=[],f=0;f<b.count;f++){var t=e[f];if(t.isNumberedList&&
-1<t.parentHierarchyEntityLongId){var k=t.entityLongId,m=g[E.indexOf(h,k)];r.push({name:m,id:k});for(k=0;k<t.subsetEntityLongIds.length;k++){var m=t.subsetEntityLongIds[k],u=E.indexOf(a.entityLongIds[0],[m]);r.push({name:a.labels[0][u]+" (subset)",id:m})}}}return r},_getHierarchyEntityLongIdForHierarchySubsetEntityLongId:function(a){return-1===a?-1:(a=d.getHierarchyInfoForHierarchySubsetEntityLongId(a))?a.entityLongId:-1},_getParentHierarchyEntityLongId:function(a){return-1==a?-1:(a=d.getHierarchyInfo(a))?
a.parentHierarchyEntityLongId:-1},_isHierarchySubset:function(a){var b=d.getHierarchySubsetsLabelPage();return-1<E.indexOf(b.entityLongIds[0],a)},_onComplete:function(){this.onComplete(this.getValue())},_toArray:function(a){var b=a.entityLongIds[0],d=a.labels[0],e=[],g;for(g=0;g<a.count;g++)e.push({name:d[g],id:b[g]});return e}}),U=B([w],{name:"",tabIndex:-1,_editMode:!1,_numberLineItems:null,_booleanLineItems:null,constructor:function(a){this._actionDefinition=a},postCreate:function(){this.reactNode=
App.interim.createReactEntryPoint(this.domNode);var a=p.getFormattedLineItems();this._numberLineItems=a.numberLineItems;this._booleanLineItems=a.booleanLineItems;var b=p.getInitialStateForReducer(this._actionDefinition.taskElement,a.numberLineItems,a.booleanLineItems);App.interim.optimizer.triggerInitializeAction(App.interim.getReduxDispatch(),b,a.numberLineItems,a.booleanLineItems);this.renderOptimizerContainer();this.inherited(arguments)},renderOptimizerContainer:function(){var a=App.interim.getReduxStore();
try{App.interim.renderReactNodeWithProvider(this.reactNode,App.components.OptimizerContainer,{},a)}catch(b){uiHelper.throwClientException(this,"Failed to render ReactContainer for optimizer")}},focus:function(){},destroy:function(){App.interim.unmountReactNode(this.reactNode);App.interim.optimizer.triggerResetAction(App.interim.getReduxDispatch())},insertPostAttach:function(){this.domNode&&(this.domNode.parentElement&&this.domNode.parentElement.parentElement)&&this.domNode.parentElement.parentElement.classList.add("optimizer_editor_content")},
isValid:function(){var a=P(".insertActionsInputText")[0];if(a&&(a=z.byNode(a),a=a.getValue(),!a||0===a.trim().length))return!1;a=App.interim.getReduxState().optimizer;return!p.validateLineItems(a.objectiveLineItem,a.variables,a.constraints,this._numberLineItems,this._booleanLineItems)?!1:App.interim.optimizer.validateOptimizerState(a)},actionDefinition:function(a){a={taskElementType:"BULK_OPERATION",operation:"OPTIMIZER",data:Json.stringify(a)};return{actionType:"TASK_ELEMENT",taskElement:Json.stringify(a)}},
getOptimizerStateFromRedux:function(){var a=App.interim.getReduxState().optimizer;a.variables.forEach(function(a){a.upper||delete a.upper;a.lower||delete a.lower});return{timeOut:a.timeout,problem:a.problem,objective:{type:a.objective,lineItem:a.objectiveLineItem},constraints:a.constraints,variables:a.variables}},getActionDefinition:function(a){a={taskElementType:"BULK_OPERATION",operation:"OPTIMIZER",data:I.stringify(a)};return{actionType:"TASK_ELEMENT",taskElement:I.stringify(a)}},getValue:function(){return!this.isValid()?
null:_actionDefinition=this.getActionDefinition(this.getOptimizerStateFromRedux())}}),sa=B([w,y,x],{baseClass:"cmplScriptEditor",name:"",tabIndex:-1,templateString:$,constructor:function(a){this._actionDefinition=a},isValid:function(){return this.cmplScript&&0<this.cmplScript.get("value").length},onComplete:function(a){},postCreate:function(){var a,b,d="";this.inherited(arguments);q.setText(this.labelScript,J.labelScript);a=this._actionDefinition;a.taskElement&&(a=new e(a),b=a.getTaskElement(),a.isValid()&&
(b.hasOwnProperty("cmplScript")&&(d=b.cmplScript),this.cmplScript.set("value",d)))},getValue:function(){var a=this._actionDefinition,b=I.parse(a.taskElement);C.mixin(b,{cmplScript:this.cmplScript.get("value")});return{actionType:a.actionType,taskElement:I.stringify(b)}},_onComplete:function(){this.onComplete(this.getValue())}}),ta=B(null,{getActionEditor:function(a){var b;if(!a||!a.actionType)throw new g.InvalidArgumentException(null,null,{value:a});if(a&&a.actionType===n.ACTION_TYPE_DELETE_BY_SELECTION)return new Z(a);
if(a&&a.actionType===n.ACTION_TYPE_TASK_ELEMENT){b=I.parse(a.taskElement);if("BULK_OPERATION"===b.taskElementType){if("SELECT_CHILDREN"===b.operation||"COPY_TO_NUMBERED_LIST"===b.operation)return new aa(a);if("DEFINE_ENTITIES"===b.operation)return new ga(a);if("BULK_DELETE_ENTITIES"===b.operation)return new ea(a);if("BULK_ENTITY_COPY"===b.operation)return new qa(a);if("SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY"===b.operation||"SYNCHRONISE_HIERARCHY"===b.operation)return new ka(a);if("SIMPLE_CREATE"===
b.operation)return new ha(a);if(b.operation===n.taskElementOperation.RUN_CMPL_SCRIPT)return new sa(a);if("OPTIMIZER"===b.operation)return new U(a)}if("DASHBOARD"===b.taskElementType)return new da(a)}throw new g.InvalidArgumentException(null,null,{value:a.actionType});}}),Ca=B(w,{constructor:function(a){this._args=a},isValid:function(){return!this._widget?!1:this._widget.isValid()},onCancel:function(){},onChange:function(){},postCreate:function(){var a;this.inherited(arguments);H.add(this.domNode,
"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft actionEditor");this._widget=a=(new ta).getActionEditor(this._args);L.place(a.domNode,this.domNode);this._okButton=new A({label:M.buttonOk});H.add(this._okButton.domNode,"primary-button");this._cancelButton=new A({label:M.buttonCancel});a=document.createElement("div");L.place(a,this.domNode);H.add(a,"actionEditorOkCancelContainer buttons");L.place(this._okButton.domNode,a);L.place(this._cancelButton.domNode,a);this.own(O(this._okButton,
"click",C.hitch(this,"_onOkButtonClick")),O(this._cancelButton,"click",C.hitch(this,"_onCancelButtonClick")))},uninitialize:function(){this._okButton&&this._okButton.destroy();this._cancelButton&&this._cancelButton.destroy();this._widget&&this._widget.destroy();this.inherited(arguments)},_onCancelButtonClick:function(){this.onCancel()},_onOkButtonClick:function(){if(this._widget){var a=this._widget.getValue();if(null!==a)this.onChange(a)}}});r=B("anaplan.gridlet._editor.ActionEditor",r,{getValue:function(){return this._value},
prepare:function(a){var b=this.inherited(arguments),d=C.mixin({},this._params,a),e;if(!d.context)return b.reject("anaplan.gridlet._editor.ActionEditor#prepare - no context provided"),b;if(!d.underlyingValue)return b.reject("anaplan.gridlet._editor.ActionEditor#prepare - no underlying value"),b;if(!this._dialog)return b.reject("anaplan.gridlet._editor.ActionEditor#prepare - no dialog provided"),b;e=t.getRowsSelection(d.selection,d.context);e=e.count?e.labels[0][0]:J.labelActionEditor;this._dialog.set("title",
e);this.widget=new Ca(d.underlyingValue,e);this.connect(this.widget,"change",C.hitch(this,"_onChange"));this.connect(this.widget,"cancel",C.hitch(this,"onCancel"));this._dialog.set("content",this.widget.domNode);b.resolve();return b},_onChange:function(a){this.widget&&this.widget.isValid()&&(this._value=a,this.onChange(a))}});r.Widget=Ca;r.Factory=ta;return r})},"anaplan/widgets/FullScreenDialog":function(){define("dojo/_base/declare dijit/Dialog anaplan/widgets/_WidgetMixin anaplan/utils/UrlHelper anaplan/widgets/Button dojo/window dojo/_base/lang dojo/has dojo/on dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/dialog2 dojo/_base/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return l([s,p],{draggable:!1,dialogMarginPixels:50,minimumContentSize:1,constructor:function(a){this._roles=a.roles||[]},layout:function(){"none"!==this.domNode.style.display&&(dijit._underlay&&dijit._underlay.layout(),m("ios")||this._position(),this._singleChild&&this._singleChild.resize&&this._singleChild.resize(this._getFullScreenSizeForContent()))},postCreate:function(){this.inherited(arguments);var a=h(this.closeButtonNode,"touchstart",n.hitch(this,"onCancel")),
b=h(this.domNode,"contextmenu",n.hitch(this,"onContextMenu")),d=this.domNode;e.add(d,"anaplan_fs_dialog");e.add(d,"qa-dialog");this._roles.forEach(function(a){e.add(d,"qa-dialog-"+a)});var g=this.on("keydown",function(a){(a.altKey||a.shiftKey||a.metaKey||a.ctrlKey)&&a.stopPropagation()});this.own(a,b,g)},onContextMenu:function(a){this.allowOnContextMenuEventPropagation(a)||a.stopPropagation()},resize:function(){"none"!==this.domNode.style.display&&(this._size(),this._position())},show:function(){e.add(this.domNode,
"qa-dialog-is-displayed");this.anapediaKey&&this._createHelpButton();return this.inherited(arguments)},onHide:function(){e.remove(this.domNode,"qa-dialog-is-displayed")},uninitialize:function(){this._helpButton&&this._helpButton.destroy();this._singleChild&&(this._singleChild.domNode&&this._singleChild.destroy)&&this._singleChild.destroy();this.inherited(arguments)},_createHelpButton:function(){var d=this;this._helpButton=new f({label:a.buttonHelp,title:a.tooltipHelp,baseClass:"anaplanDialogHelpButton"});
var b=this._helpButton.on("click",function(){window.open(q.createAnapediaUrl(d.anapediaKey),"_blank")});this.own(b);g.place(this._helpButton.domNode,this.titleBar)},_getFullScreenSizeForContent:function(){var a={},b=k.getBox(),e=d.getMarginBox(this.titleBar);a.w=Math.max(b.w-2*this.dialogMarginPixels,this.minimumContentSize);a.h=Math.max(b.h-(2*this.dialogMarginPixels+e.h),this.minimumContentSize);return a},_size:function(){this._checkIfSingleChild();this._singleChild&&this._singleChild.resize&&this._singleChild.resize(this._getFullScreenSizeForContent())}})})},
"anaplan/keyboard/symbolLookup":function(){define([],function(){return{metaKey:"\u2318",shiftKey:"Shift",altKey:"Alt",ctrlKey:"Ctrl",space:"Space","delete":"Del",",":",",".":".","/":"/","\x3c":"\x3c","\x3e":"\x3e","?":"?",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z",f1:"F1",f2:"F2",f3:"F3",f4:"F4",f5:"F5",f6:"F6",f7:"F7",f8:"F8",f9:"F9",f10:"F10",f11:"F11",f12:"F12"}})},"dojo/topic":function(){define(["./Evented"],
function(l){var s=new l;return{publish:function(l,q){return s.emit.apply(s,arguments)},subscribe:function(l,q){return s.on.apply(s,arguments)}}})},"anaplan/api/service":function(){define("anaplan/utils/JsHelper anaplan/api/Services/lineItemSubsets anaplan/api/Services/versions anaplan/api/Services/modules anaplan/api/Services/functionalAreas anaplan/api/Services/actions anaplan/api/Services/dashboards anaplan/api/Services/lists anaplan/api/Services/listSubsets anaplan/api/Services/views anaplan/api/Services/imports anaplan/api/Services/Model anaplan/api/Services/workspace anaplan/api/watcher".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){var b={versions:p,lineItemSubsets:s,modules:q,functionalAreas:f,actions:k,dashboards:n,lists:m,listSubsets:h,views:e,imports:g,workspace:a,hasData:!1,clear:function(){for(var a in this)this[a]&&this[a].clear&&this[a].clear();this.hasData=!1;this.invalidate()},invalidate:function(){this.modelDefinitionSerialNumber=(new Date).getTime()},getServicesList:function(){var a=[],b;for(b in this)l.isFunction(this[b].getNamesById)&&a.push(b);return a}};b.model=new d(b);
r.on("activeStateChange",function(a){b.model.lastModelActiveState=a});r.on("modelInfoChange",function(a){b.modelDefinitionSerialNumber!==a.modelDefinitionSerialNumber&&(b.modelDefinitionSerialNumber=a.modelDefinitionSerialNumber,b.hasData=!0,b.model.resetCache(),b.functionalAreas.setInfos(a.functionalAreasInfo.functionalAreaInfos,a.functionalAreasLabelPage),b.views.setLabelPageAndModuleIds(a.viewsInfo),b.modules.setInfos(a.moduleInfos,a.modulesLabelPage),b.lineItemSubsets.setInfos(a.lineItemSubsetsInfo.lineItemSubsetInfos,
a.lineItemSubsetsInfo.lineItemSubsetsLabelPage),b.versions.setInfos(a.versionInfos,a.versionsLabelPage),b.actions.setInfos(a.actionsInfo.actionInfos,a.actionsInfo.actionsLabelPage),b.dashboards.setInfos(a.dashboardsInfo.dashboardInfos,a.dashboardsInfo.dashboardsLabelPage),b.lists.setInfos(a.hierarchiesInfo.hierarchyInfos,a.hierarchiesInfo.hierarchiesLabelPage),b.listSubsets.setInfos(a.hierarchySubsetsInfo.hierarchySubsetInfos,a.hierarchySubsetsInfo.hierarchySubsetsLabelPage),b.imports.setLabelPage(a.importsInfo.importsLabelPage),
l.isObject(a.modelProperties)&&(b.model.modelProperties={nonSyncableModelProperties:l.parseObjectProperties(JSON.parse(a.modelProperties.nonSyncableModelProperties)),syncableModelProperties:l.parseObjectProperties(JSON.parse(a.modelProperties.syncableModelProperties))}))});r.on("workspaceInfoChange",function(a){b.workspace.setInfo(a)});return b})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(l,s,p){var q=l.NodeList;s.extend(q,{_buildArrayFromCallback:function(f){for(var k=
[],n=0;n<this.length;n++){var m=f.call(this[n],this[n],k);m&&(k=k.concat(m))}return k},_getUniqueAsNodeList:function(f){for(var k=[],n=0,m;m=f[n];n++)1==m.nodeType&&-1==p.indexOf(k,m)&&k.push(m);return this._wrap(k,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(f,k){var n=this._getUniqueAsNodeList(f),n=k?l._filterResult(n,k):n;return n._stash(this)},_getRelatedUniqueNodes:function(f,k){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(k),f)},children:function(f){return this._getRelatedUniqueNodes(f,
function(f,n){return s._toArray(f.childNodes)})},closest:function(f,k){return this._getRelatedUniqueNodes(null,function(n,m){do if(l._filterResult([n],f,k).length)return n;while(n!=k&&(n=n.parentNode)&&1==n.nodeType);return null})},parent:function(f){return this._getRelatedUniqueNodes(f,function(f,n){return f.parentNode})},parents:function(f){return this._getRelatedUniqueNodes(f,function(f,n){for(var m=[];f.parentNode;)f=f.parentNode,m.push(f);return m})},siblings:function(f){return this._getRelatedUniqueNodes(f,
function(f,n){for(var m=[],h=f.parentNode&&f.parentNode.childNodes,e=0;e<h.length;e++)h[e]!=f&&m.push(h[e]);return m})},next:function(f){return this._getRelatedUniqueNodes(f,function(f,n){for(var m=f.nextSibling;m&&1!=m.nodeType;)m=m.nextSibling;return m})},nextAll:function(f){return this._getRelatedUniqueNodes(f,function(f,n){for(var m=[],h=f;h=h.nextSibling;)1==h.nodeType&&m.push(h);return m})},prev:function(f){return this._getRelatedUniqueNodes(f,function(f,n){for(var m=f.previousSibling;m&&1!=
m.nodeType;)m=m.previousSibling;return m})},prevAll:function(f){return this._getRelatedUniqueNodes(f,function(f,n){for(var m=[],h=f;h=h.previousSibling;)1==h.nodeType&&m.push(h);return m})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(f,k){return 0!=k%2})},odd:function(){return this.filter(function(f,k){return 0==
k%2})}});return q})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(l,s,p,q,f,k,n,m){return s("dijit._KeyNavMixin",m,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);p.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var h=this._keyNavCodes={};h[q.HOME]=f.hitch(this,"focusFirstChild");h[q.END]=f.hitch(this,"focusLastChild");
h[this.isLeftToRight()?q.LEFT_ARROW:q.RIGHT_ARROW]=f.hitch(this,"_onLeftArrow");h[this.isLeftToRight()?q.RIGHT_ARROW:q.LEFT_ARROW]=f.hitch(this,"_onRightArrow");h[q.UP_ARROW]=f.hitch(this,"_onUpArrow");h[q.DOWN_ARROW]=f.hitch(this,"_onDownArrow")}var e=this,h="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(k(this.domNode,"keypress",f.hitch(this,"_onContainerKeypress")),k(this.domNode,"keydown",f.hitch(this,"_onContainerKeydown")),k(this.domNode,"focus",
f.hitch(this,"_onContainerFocus")),k(this.containerNode,k.selector(h,"focusin"),function(g){e._onChildFocus(n.getEnclosingWidget(this),g)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(h,e){h&&(this.focusedChild&&h!==this.focusedChild&&this._onChildBlur(this.focusedChild),h.set("tabIndex",this.tabIndex),h.focus(e?"end":"start"))},_onContainerFocus:function(h){h.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){p.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(h){p.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(h){h&&h!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),h.set("tabIndex",this.tabIndex),this.lastFocused=h,this._set("focusedChild",h))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(h,e,g,d){h&&this.focusChild(h)},_keyboardSearchCompare:function(h,e){var g=h.domNode,g=(h.label||(g.focusNode?
g.focusNode.label:"")||g.innerText||g.textContent||"").replace(/^\s+/,"").substr(0,e.length).toLowerCase();return e.length&&g==e?-1:0},_onContainerKeydown:function(h){var e=this._keyNavCodes[h.keyCode];e?(e(h,this.focusedChild),h.stopPropagation(),h.preventDefault(),this._searchString=""):h.keyCode==q.SPACE&&(this._searchTimer&&!h.ctrlKey&&!h.altKey&&!h.metaKey)&&(h.stopImmediatePropagation(),h.preventDefault(),this._keyboardSearch(h," "))},_onContainerKeypress:function(h){h.charCode<=q.SPACE||(h.ctrlKey||
h.altKey||h.metaKey)||(h.preventDefault(),h.stopPropagation(),this._keyboardSearch(h,String.fromCharCode(h.charCode).toLowerCase()))},_keyboardSearch:function(h,e){var g=null,d,a=0;f.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=e;var h=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;d=this._searchString.substr(0,h);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var b=this.focusedChild||
null;if(1==h||!b)if(b=this._getNextFocusableChild(b,1),!b)return;h=b;do{var f=this._keyboardSearchCompare(b,d);f&&0==a++&&(g=b);if(-1==f){a=-1;break}b=this._getNextFocusableChild(b,1)}while(b!=h)})();this.onKeyboardSearch(g,h,d,a)},_onChildBlur:function(){},_getNextFocusableChild:function(h,e){var g=h;do{if(h)h=this._getNext(h,e);else if(h=this[0<e?"_getFirst":"_getLast"](),!h)break;if(null!=h&&h!=g&&h.isFocusable())return h}while(h!=g);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(h,e){if(h)for(h=h.domNode;h;)if((h=h[0>e?"previousSibling":"nextSibling"])&&"getAttribute"in h){var g=n.byNode(h);if(g)return g}return null}})})},"anaplan/gridlet/_editor/dataTypes/Text":function(){define("dojo/_base/declare dojox/lang/functional/object anaplan/gridlet/_editor/dataTypes/Base dojo/text!anaplan/templates/DataType/Text.html dojo/i18n!anaplan/nls/dataType dijit/form/RadioButton".split(" "),function(l,s,p,q,f){return l([p],{templateString:q,nlsLabels:f,_inputs:{},dataType:"TEXT",
startup:function(){this.inherited(arguments);this._prepare()},postCreate:function(){this.inherited(arguments);this._inputs={GENERAL:this.inputTextTypeGeneral,DRILLTHRU_URI:this.inputTextTypeDrillThruUri,EMAIL_ADDRESS:this.inputTextTypeEmailAddress}},buildFormat:function(){var f;s.forIn(this._inputs,function(n,m){f=n.get("checked")?m:f});return{dataType:this.dataType,textType:f}},setFormat:function(f){(f=this._inputs[f.textType])&&f.set("checked",!0)},_prepare:function(){},_update:function(){this.emit("update")},
_onInputTextTypeClick:function(){this._update()}})})},"anaplan/gridlet/Cell":function(){define("anaplan/constants anaplan/dashboard/DashboardHelper anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/format/util anaplan/gridlet/_ConfirmMixin anaplan/gridlet/_editor/BooleanEditor anaplan/gridlet/_editor/EditorFactory anaplan/gridlet/_editor/LinkEditor anaplan/gridlet/_LinkMixin anaplan/undo/confirmUndo anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/LinkFormatter anaplan/utils/topics anaplan/utils/UIHelper dijit/_CssStateMixin dijit/_FocusMixin dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/focus dijit/form/_TextBoxMixin dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/aspect dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/undo dojo/keys dojo/on dojo/query dojo/string dojo/text!anaplan/templates/Cell.html dojo/topic dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X){return H([A,w,y,x,D,z,m,d],{baseClass:"cell",changeValidator:null,displayTooltipIcon:!1,label:null,model:null,modeType:{NORMAL:"normal",EDIT:"edit",ENTER:"enter"},readOnly:!1,tabIndex:0,templateString:ca,tooltip:null,DOUBLE_TAP_TIMEOUT:250,error:function(a){var b=this,d=function(){setTimeout(function(){b.refresh();b.focus()},150)};this._dataSerialNumber=null;this._showError(!0);a instanceof k.KnownException?
v.showErrorReporter(a,!0,null,d):k.isException(a)?v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#error",a),!1,null,d):a.isKnownError?v.showErrorReporter(new k.BaseException(a.errorMessage),!0,null,d):a.errorMessage?(a=new k.ServerException(a.errorMessage),a.setModelRestored(!0),v.showErrorReporter(a,!1,null,d)):console.error(this.id+": error",a);return!0},focus:function(){try{this._isEditMode()?this._inputControl.focus():this._valueContainer&&E.focus(this._valueContainer)}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#focus",
a);}},destroy:function(){u.undoManagerClear(this.id);this.inherited(arguments)},getDataType:function(){var a="NONE";try{this._values&&(this._values.cells&&this._values.cells.formats&&this._values.cells.formats.length)&&(a=this._values.cells.formats[0].dataType),"NONE"!==a&&(this._dataType=a)}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#getDataType",b);}return this._dataType||a},getTextType:function(){var a,b=this._values;try{b&&(b.cells&&b.cells.formats&&b.cells.formats.length)&&(a=
b.cells.formats[0].textType)}catch(d){throw new k.ClientException("anaplan.gridlet.Cell#getTextType",d);}return a},isCell:function(){return!0},isError:function(){return I.contains(this.domNode,"cellError")},isPending:function(){return I.contains(this.domNode,"cellPending")},onChange:function(){},onContentSizeChange:function(){},onPendingEnd:function(){},onPendingStart:function(){},onUpdate:function(){},postCreate:function(){try{this.inherited(arguments),this.own(W(this.domNode,"focus",F.hitch(this,
"_onCellFocus")),X.subscribe("anaplan/"+this.id+"/globalContext",F.hitch(this,"_setGlobalContext")),X.subscribe("anaplan/"+this.id+"/suspend",F.hitch(this,"suspend")),X.subscribe("anaplan/"+this.id+"/resume",F.hitch(this,"resume")),X.subscribe("anaplan/"+this.id+"/undo",F.hitch(this,"_undo"))),this._inputControlConnections=[],this._inputControl=null,this._mode=this.modeType.NORMAL,this._previousBackgroundColor=this._previousValue=this._previousLabel=null,this._editorFactory=new e({containerNode:this.inputContainer,
wrapperNode:null,parentWidget:this})}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#postCreate",a);}},refresh:function(){try{this.reset(),p.gather()}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#refresh",a);}},reset:function(){try{this._partialReset(),this.model.reset()}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#reset",a);}},resize:function(a){var b,d,e,g,h,r,f;try{var t=!this.displayTooltipIcon!==!this._infoIcon;if(a||t)if(a&&(this._size=a),a=a||this._size,
this._values&&(this._isEditMode()||this._forceBoolean(this.getDataType())?b=this._isTypeTextLink()?this._valueContainer:this._inputControl.getDomNode():this._valueContainer&&(b=this._valueContainer),b)){d=P.getMarginBox(this.domNode);h=r=0;if(a.w){e=a.w-d.w;g=P.getMarginBox(b);var m=23;this.displayTooltipIcon&&!this._infoIcon?e-=m:!this.displayTooltipIcon&&this._infoIcon&&(e+=m);h=Math.max(g.w+e,0)}h=Math.max(g.w+e,0);a.h&&(e=a.h-d.h,g||(g=P.getMarginBox(b)),r="TEXT"===this.getDataType()?P.getContentBox(this.domNode).h+
e:Math.max(g.h+e,0));if(h||r)f={},h&&(f.w=h),r&&(f.h=r),P.setMarginBox(b,f),this._valueNodeSize=f;this.displayTooltipIcon?this._infoIcon||(this._infoIcon=O.create("div",{"class":"dijitInline dijitIcon anaplanEditorIcon anaplanEditorIconInformationMessage cell__tooltipIcon"},this.inputContainer),this._setTooltip(),"BOOLEAN"===this.getDataType()&&(P.setMarginBox(this.domNode,{w:Math.max(d.w+m,0)}),this.onContentSizeChange())):this._infoIcon&&(O.destroy(this._infoIcon),this._infoIcon=null,this._setTooltip(),
"BOOLEAN"===this.getDataType()&&(P.setMarginBox(this.domNode,{w:Math.max(d.w-m,0)}),this.onContentSizeChange()))}}catch(u){throw new k.ClientException("anaplan.gridlet.Cell#resize",u);}},resume:function(){try{this.model&&this.model.resume()}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#resume",a);}},startup:function(){try{this.inherited(arguments),this.model&&this.model.addObserver(this),this.own(W(this.domNode,"dblclick",F.hitch(this,"_onDblClick")),W(this.domNode,"keydown",F.hitch(this,
"_onCellKeyDown")),this.on("mousedown",F.hitch(this,"_onCellMouseDown")),this.on("click",F.hitch(this,"_onCellClick")),W(this.pasteNode,"paste",F.hitch(this,"_pasteNodePasteHandler"))),Q("safari")&&this.own(W(document,"beforepaste",F.hitch(this,"_documentBeforePasteHandler")),W(document,"beforecopy",F.hitch(this,"_documentBeforeCopyHandler"))),(Q("ios")||Q("android"))&&this.own(W(this.domNode,"touchstart",F.hitch(this,"_onCellTouchStart")))}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#startup",
a);}},suspend:function(){try{this.model&&this.model.suspend()}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#suspend",a);}},uninitialize:function(){try{this._tooltip&&(this._tooltip.destroy(),this._tooltip=null),G.forEach(this._inputControlConnections,function(a){a.remove()}),this._editorFactory&&this._editorFactory.destroy(),this.model&&(this.model.deleteObserver(this),this.model.destroy()),this.inherited(arguments)}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#uninitialize",
a);}},update:function(a){try{this._fullValues=a;this._values=a[0];this._pageInfo=a[1];var b=this._values.serialNumbers.dataSerialNumber;if(b!==this._dataSerialNumber&&(this._dataSerialNumber=b,!this.isError())){if(!this._values.dataRowCount){console.error(this.id+": update found no rows");return}this._preloadEditor();this._showPending(!1);this._setTextAreaLabel();this._buildContent();this.onUpdate(a)}this.focused&&this.focus()}catch(d){throw new k.ClientException("anaplan.gridlet.Cell#update",d);
}},_addArrowButton:function(){this._valueContainer&&(this._arrowButton=O.create("div",{"class":"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer",role:"presentation"},this._valueContainer),this._arrowButtonInner=O.create("input",{"class":"dijitReset dijitInputField dijitArrowButtonInner",type:"text",tabindex:"-1",readonly:"readonly",role:"presentation"},this._arrowButton))},_addLineBreak:function(){this._inputControl&&this._inputControl.addLineBreak()},
_addSelectionButton:function(){this.inputContainer&&(this._selectionButton=O.create("div",{"class":"selectionButton"},this.inputContainer),v.setText(this._selectionButton,"..."))},_buildContent:function(){var a=this._values.cells,b=a.formats[0].dataType,d,e;try{if("BOOLEAN"===b||this._forceBoolean(b))this._buildInputControl();else if(this._mode===this.modeType.NORMAL||this.isPending())this._inputControl&&!("popup"in this._inputControl)&&this._hideInputControl(),this._valueContainer?N.set(this._valueContainer,
"display",""):(this._valueContainer=O.create("div",{id:this.id+"_ValueContainer","class":"dijitReset dijitInline "+this.baseClass+"Value "+this.baseClass+"Value"+b,tabindex:this.tabIndex},this.inputContainer),this._previousBackgroundColor=null,this._previousValue=void 0,this._valueNodeSize&&P.setMarginBox(this._valueContainer,this._valueNodeSize)),e=a.bgColors&&null!==a.bgColors[0]?a.bgColors[0]:"transparent",e!==this._previousBackgroundColor&&(this._previousBackgroundColor=e,a.bgColors&&a.bgColors[0]&&
N.set(this._valueContainer,"backgroundColor",e)),this._previousValue=d=a.cellText[0],I.toggle(this._valueContainer,"link",this._isValidTextLink()),this._valueContainer.innerHTML=!d||!d.length?"\x26nbsp;":r.replaceNewLineCharacters(d),this._isEditable()?("ENTITY"===b||"TIME_ENTITY"===b||"DATE"===b?this._addArrowButton():this._isTypeTextLink()&&(this._selectionButton||this._addSelectionButton()),!1!==this.get("readOnly")&&this.set("readOnly",!1)):this.set("readOnly",!0),this.focused&&this.focus()}catch(g){throw new k.ClientException("anaplan.gridlet.Cell#_buildContent",
g);}},_buildInputControl:function(a,b,d){if(!this._valueContainer||!(this._valueContainer.style&&"none"===this._valueContainer.style.display)){var e=this._values,g=e.cells.formats[0],h=g.dataType,r=g.textType,f=l.textFormatType,t=null,m=null,u=null,x,z,w,B=this._forceBoolean(h);try{!this._isTypeTextLink()&&this._valueContainer&&(z=P.getMarginBox(this._valueContainer),x={h:z.h,w:z.w},N.set(this._valueContainer,"display","none"));if("NUMBER"===h)"PERCENTAGE"===g.unitsType?(t=e.cells.cellValues[0],m=
n.applyDecimalSeparatorUsingCellFormat(e.cells.cellText[0],g)):(t=e.cells.cellValues[0],m=n.formatNonPercentageOriginalNumberTextForEditor(e.cells.originalText[0],g));else if(B||"BOOLEAN"===h||"DATE"===h)t=e.cells.cellValues[0],m=e.cells.cellText[0];else if("NONE"===h)t=m=this._previousValue;else{if("TEXT"===h&&(r===f.DRILLTHRU_URI||r===f.EMAIL_ADDRESS))u=this._valueContainer;t=e.cells.cellValues[0];m=e.cells.originalText[0]}this._currentValue="";if(null!==m&&(a===this.modeType.EDIT||"BOOLEAN"===
h||B))this._currentValue=String(m);var y={cellNode:u,event:d||null,format:B?{dataType:"BOOLEAN"}:g,value:m,underlyingValue:t,isSelectionButtonClick:b||!1,isEnterMode:a?a===this.modeType.ENTER:!1,context:this._getContext(),moduleEntityLongId:null,selection:this.selection,rowEntityLongIds:null,size:x};this._inputControl&&"NONE"===g.dataType?w=this._inputControl:(w=this._editorFactory.getEditor(y),this.set("readOnly",!0),M.set(this.labelElement,"for",w.widget.id),w!==this._inputControl&&this._hideInputControl(),
this._inputControlConnections=[w.on("Change",F.hitch(this,"_onChange")),w.on("Cancel",F.hitch(this,"_onCancel")),w.on("KeyDown",F.hitch(this,"_onEditorKeyDown"))],"TEXT"===g.dataType&&(g.textType===f.DRILLTHRU_URI||g.textType===f.EMAIL_ADDRESS?this._inputControlConnections.push(w.popup.on("blur",F.hitch(this,"_onInputControlBlur"))):w.createSizerDiv(document.body,x.w+"px")),this._inputControl=w);this._infoIcon&&O.place(this._infoIcon,this.inputContainer);w.prepare(y).then(F.hitch(this,function(){this._showPending(-1!==
e.cells.styles[0].indexOf("pending"));this.set("readOnly",!this._isEditable());"BOOLEAN"!==h&&!B&&(w.show(),w.focus())}),F.hitch(this,function(a){this._endEdit();this.focus();v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_buildInputControl",a,{widgetId:this.id}))}))}catch(q){throw new k.ClientException("anaplan.gridlet.Cell#_buildInputControl",q);}}},_checkView:function(){return{x:[0,0],y:[0,0]}},_clear:function(){var a=this.getDataType();if(this._isEditable()&&("BOOLEAN"===a||!this._isEditMode()))this._submitChange("BOOLEAN"===
a?!1:"")},_copySelection:function(){try{var a=this.model.getText();a&&(this.pasteNode.value=a,B.selectInputText(this.pasteNode))}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_copySelection",b);}},_documentBeforeCopyHandler:function(a){try{this.focused&&this._copySelection()}catch(b){b instanceof k.KnownException?v.showErrorReporter(b,!0):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_documentBeforeCopyHandler",b,{widgetId:this.id},a))}},_documentBeforePasteHandler:function(a){try{this.focused&&
this.pasteNode.focus()}catch(b){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_documentBeforePasteHandler",b,{widgetId:this.id},a))}},_doPaste:function(a,b){var d=this,e=[],g=[],h,r,f;try{if(!a||!b)return!1;a.blur();this.focus();f=b.length;this._isGeneralTextType()?g.push([b]):(b.lastIndexOf("\n")===f-1&&(b=b.substr(0,f-1)),g=this._fromCSV(b));if(0===g.length)return!1;h=this.model.attemptPaste(this.model.getView(),g);r=h.updatesCache;this.changeValidator&&(e=this.changeValidator.validateUpdatesCache(r));
e.length?this.confirm(null,e,function(){this._showPending(!0);d.model.addNewUpdates(r,!1)},function(){d._partialReset();d.model.cancelChanges()},d.changeValidator):(this._showPending(!0),this.model.addNewUpdates(r))}catch(t){throw new k.ClientException("anaplan.gridlet.Cell#_doPaste",t);}return!0},_endEdit:function(){try{this._mode=this.modeType.NORMAL,this._isTypeTextLink()?this._hideInputControl():"BOOLEAN"!==this.getDataType()&&this._buildContent()}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#_endEdit",
a);}},_forceBoolean:function(a){if("NONE"!==a)return!1;if(!b.isNullOrUndefined(this._inputControl))return this._inputControl instanceof h;a=this._values.rows.entityLongIds[0];if(1===a.length)if(a=a[0],f.isLineItemsOnRows(this._pageInfo)){var d=f.getLineItemInfo(q,a);if(b.isNull(d))console.warn(this.id,"expected to find line item info and did not",a);else return"BOOLEAN"===d.format.dataType}else{var e=this._pageInfo.staticContext.entityLongIds[0][0],d=q.getHierarchyInfo(e);if(b.isNull(d))console.warn(this.id,
"expected to find hierarchy info and did not",e);else{e=G.indexOf(d.propertiesLabelPage.entityLongIds,a);if(-1<e)return"BOOLEAN"===d.propertiesInfo[e].format.dataType;console.warn(this.id,"expected to find property info and did not",a)}}else console.warn(this.id,"expected to find single entityLongId on rows and did not",a);return!1},_fromCSV:function(a,b,d){var e,g;try{b||(b="\n");d||(d="\t");e=a.split(b);for(g=e.length-1;0<=g;g--)e[g]=e[g].split(d);return this._transpose(e)}catch(h){throw new k.ClientException("anaplan.gridlet.Cell#_fromCSV",
h);}},_getContext:function(){return{values:this._values,model:this.model}},_getLink:function(){var a=this._values.cells,b;this._isTypeTextLink()&&(b=a.cellValues[0],b=a.formats[0].textType===l.textFormatType.DRILLTHRU_URI?(new t).parseCellValueAsLink(b,!0).href:(new t).parseCellValueAsMailTo(b).safeUri);return b||""},_hideInputControl:function(){try{this._inputControl&&(G.forEach(this._inputControlConnections,function(a){a.remove()}),this._inputControl.hide())}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#_hideInputControl",
a);}},_isEditable:function(){return!this._values||!this._values.cells||!this._values.cells.isEditable.length?!1:this._values.cells.isEditable[0]},_isGeneralTextType:function(){var a=this.getDataType(),b=this.getTextType();return"TEXT"===a&&"GENERAL"===b?!0:!1},_isEditMode:function(){return this._mode===this.modeType.ENTER||this._mode===this.modeType.EDIT||"BOOLEAN"===this.getDataType()},_isTypeTextLink:function(){var a,b;return"TEXT"===this.getDataType()?(b=anaplan.constants.textFormatType,a=this.getTextType(),
a===b.DRILLTHRU_URI||a===b.EMAIL_ADDRESS):!1},_isValidTextLink:function(){return this._isTypeTextLink()?!!this._getLink():!1},_navigateToNextCell:function(a,b){var d,e,g;try{if(!this.domNode||this._destroyed)return!1;d=Y("#"+this.domNode.id).parents(".dashboardElementContainer")[0];if(!d||a&&b===R.TAB&&1>this.tabIndex-1)return!1;e=a?Math.max(this.tabIndex-1,1):this.tabIndex+1;g=Y(".cell .cellValue[tabindex\x3d'"+e+"'],.staticText .valueContainer[tabindex\x3d'"+e+"'],.cell .dijitCheckBoxInput[tabindex\x3d'"+
e+"']",d);if(g.length)return C.getEnclosingWidget(g[0]).focus(),!0}catch(h){throw new k.ClientException("anaplan.gridlet.Cell#_navigateToNextCell",h);}return!1},_onBlur:function(){this.inherited(arguments);if(this.isError())this._refreshTimer=setTimeout(F.hitch(this,function(){this.refresh()}),150);else if(this._mode===this.modeType.EDIT||this._mode===this.modeType.ENTER)if(!this._inputControl||!this._inputControl.isInstanceOf(g))this._onChange()||this._onCancel()},_onCancel:function(){try{this._endEdit(),
this.focus()}catch(a){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onCancel",a))}},_onCellClick:function(a){var b=a.target,d;try{if(b===this._selectionButton)this._mode===this.modeType.NORMAL&&this._startEdit(this.modeType.EDIT,!0,a);else if(b===this._valueContainer&&this._isValidTextLink()&&(d=this._getLink())&&this._linkSelectTimer)clearTimeout(this._linkSelectTimer),this._linkSelectTimer=null,this._linkOpenTimer&&clearTimeout(this._linkOpenTimer),this._linkOpenTimer=setTimeout(F.hitch(this,
"_openLink",d),this.LINK_OPEN_DELAY)}catch(e){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onCellClick",e))}},_onCellKeyDown:function(a){var b=a.keyCode,d=this.getDataType();try{if(!Q("mac")&&a.ctrlKey||Q("mac")&&a.metaKey){if(a.shiftKey)return;if(!this._isEditMode()){Q("safari")&&this.pasteNode.focus();if(86===b){this.pasteNode.focus();return}if(67===b){Q("safari")||this._copySelection();return}}}b===R.ENTER&&!a.altKey&&!a.ctrlKey||b===R.TAB?this._navigateToNextCell(a.shiftKey,
b)?L.stop(a):this._isEditMode()&&(this._onChange(),this._isEditMode()&&this._endEdit()):b===R.F2?this._isEditMode()||(this._startEdit(this.modeType.EDIT,!1),L.stop(a)):"BOOLEAN"===d?b===R.DELETE&&this._clear():this._isEditMode()||(b===R.DELETE?this._clear():!a.ctrlKey&&!a.metaKey&&40<b&&(112>b||123<b)&&this._startEdit(this.modeType.ENTER,!1,a))}catch(e){e instanceof k.KnownException?v.showErrorReporter(e,!0):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onCellKeyDown",e))}},_onCellFocus:function(){try{setTimeout(F.hitch(this,
function(){this.focused&&this.focus()}),25)}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#_onCellFocus",a);}},_onCellMouseDown:function(a){var b=a.target;try{b===this._arrowButton||b===this._arrowButtonInner?(L.stop(a),this._startEdit(this.modeType.EDIT,!0,a)):b===this._valueContainer&&this._isValidTextLink()&&(this._linkSelectTimer=setTimeout(F.hitch(this,function(){this._linkSelectTimer=null}),this.LINK_SELECT_DELAY))}catch(d){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onCellMouseDown",
d))}},_onCellTouchStart:function(a){var b;try{1<a.touches.length||(b=Date.now?Date.now():(new Date).getTime(),this._lastTouchStartTime&&b-this._lastTouchStartTime<=this.DOUBLE_TAP_TIMEOUT&&(a.preventDefault(),this._startEdit(this.modeType.EDIT,!1,a)),this._lastTouchStartTime=b)}catch(d){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onCellTouchStart",d,{widgetId:this.id},a))}},_onChange:function(){var a;try{if(!this._inputControl)return!1;if(this._showingConfirmation)return!0;if(!this._isEditable()||
!this._inputControl.isValid())return!1;a=this._inputControl.getValue();"string"===typeof a||"boolean"===typeof a?a=String(a).trim():b.isNullOrUndefined(a)&&(a="");if("ENTITY"===this.getDataType()?a.entityId!==this._currentValue:a!==this._currentValue)return this._submitChange(a),this.onChange(a),!0}catch(d){d instanceof k.KnownException?v.showErrorReporter(d,!0):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onChange",d))}return!1},_onDblClick:function(a){try{C.getEnclosingWidget(a.target)===
this&&a.target!==this._selectionButton&&(this._linkOpenTimer&&(clearTimeout(this._linkOpenTimer),this._linkOpenTimer=null),this._isEditable()&&(L.stop(a),this._startEdit(this.modeType.EDIT)))}catch(b){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onDblClick",b))}},_onEditorKeyDown:function(a){var b=a.keyCode,d=this._values.cells.formats[0].dataType,e;try{b===R.ENTER||b===R.TAB?this._isGeneralTextType()?a.ctrlKey&&(a.altKey&&b===R.ENTER)&&(this._addLineBreak(),a.preventDefault()):
"DATE"===d?void 0===this._inputControl.getValue()&&this._endEdit():(("ENTITY"===d||"TIME_ENTITY"===d)&&this.pasteNode.focus(),this._inputControl&&"popup"in this._inputControl&&(e=this._inputControl.getValue(),String(e)!==String(this._currentValue)||""===String(e)&&""===String(this._currentValue)?(this._submitChange(e),this.onChange(e)):this._endEdit()),this._navigateToNextCell(a.shiftKey)&&L.stop(a)):b===R.ESCAPE&&this._onCancel()}catch(g){g instanceof k.KnownException?v.showErrorReporter(g,!0):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onEditorKeyDown",
g))}},_onInputControlBlur:function(){var a=this;try{if(this.isError())this._refreshTimer=setTimeout(function(){a.refresh()},150);else if(this._mode===this.modeType.EDIT||this._mode===this.modeType.ENTER)this._onChange()||this._onCancel()}catch(b){v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_onInputControlBlur",b))}},_onLabelContainerFocus:function(){this.focus()},_partialReset:function(){try{I.toggle(this.domNode,"cellError",!1),I.toggle(this.domNode,"cellPending",!1),this._dataSerialNumber=
-1}catch(a){throw new k.ClientException("anaplan.gridlet.Cell#_partialReset",a);}},_pasteNodePasteHandler:function(a){var b=a.target,d;try{if(a.clipboardData)d=a.clipboardData.getData("text/plain");else if(K.clipboardData)d=K.clipboardData.getData("Text");else{setTimeout(F.hitch(this,function(){if(d=b.value)this._doPaste(b,d),b.value=""}),25);return}d&&(this._doPaste(b,d),b.value="")}catch(e){e instanceof k.KnownException?v.showErrorReporter(e,!0):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_pasteNodePasteHandler",
e,{widgetId:this.id},a))}},_preloadEditor:function(){var a,b,d,e;try{this._values&&(this._values.cells&&this._values.cells.formats&&this._values.cells.formats.length)&&(a=this._values.cells.formats[0],b=a.dataType,"NUMBER"===b?this._editorFactory.preloadDefaultEditor({style:"display: none;"}):"DATE"===b?this._editorFactory.preloadDateEditor({style:"display: none;"}):"TEXT"===b?(d=a.textType,e=l.textFormatType,d===e.DRILLTHRU_URI?this._editorFactory.preloadLinkEditor():d===e.EMAIL_ADDRESS?this._editorFactory.preloadMailToEditor():
this._editorFactory.preloadTextEditor({style:"display: none;"})):"ENTITY"===b?this._editorFactory.preloadListEditor({style:"display: none;"}):"TIME_ENTITY"===b&&this._editorFactory.preloadTimeEntityEditor({style:"display: none;"}))}catch(g){throw new k.ClientException("anaplan.gridlet.Cell#_preloadEditor",g);}},_setDisplayTooltipIconAttr:function(a){this._set("displayTooltipIcon",a);this._values&&this.resize();I.toggle(this.domNode,this.baseClass+"--hasTooltipIcon",a)},_setGlobalContext:function(a,
b){try{this.model.setPageSelectorEntityLongId(a.entityLongId,b)&&(this.reset(),this.model.resetViewDefinitionSerialNumber())}catch(d){throw new k.ClientException("anaplan.gridlet.Cell#_setGlobalContext",d);}},_setTextAreaLabel:function(){var a;try{if((a=this.label||this._values.rows.labels[0][0])&&a!==this._previousLabel)this._previousLabel=a,this.labelElement.innerHTML=r.escapeHTML(r.unescapeHTML(a))}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_setLabel",b);}},_setLabelAttr:function(a){try{this._set("label",
a),this._setTextAreaLabel()}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_setLabelAttr",b);}},_setReadOnlyAttr:function(a){try{this._set("readOnly",a),this._showReadOnly(a)}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_setReadOnlyAttr",b);}},_setTabIndexAttr:function(a){try{this._set("tabIndex",a),this._isEditMode()?this._inputControl.setTabIndex(a):this._valueContainer&&M.set(this._valueContainer,"tabindex",a)}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_setTabIndexAttr",
b);}},_setTooltip:function(){this._tooltip&&(this._tooltip.destroy(),this._tooltip=null);this._tooltip=s.createDashboardElementTooltip(this.tooltip,this._infoIcon||this.labelElement,this._infoIcon?["after","above","below","before"]:["above","below","after","before"])},_setTooltipAttr:function(a){this._set("tooltip",a);this._setTooltip()},_showError:function(a){try{this._isEditMode()&&this._inputControl.setDisabled(this.readOnly),I.toggle(this.domNode,"cellPending",!1),I.toggle(this.domNode,"cellError",
a)}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_showError",b);}},_showPending:function(a){try{if(this._inputControl&&this._isEditMode()&&this._inputControl.setDisabled(this.readOnly||a),I.toggle(this.domNode,"cellError",!1),I.toggle(this.domNode,"cellPending",a),a!==this._isPending)if(this._isPending=a)this.onPendingStart();else this.onPendingEnd()}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_showPending",b);}},_showReadOnly:function(a){try{I.toggle(this.domNode,"cellReadOnly",
a),this._inputControl&&this._inputControl.setDisabled(a)}catch(b){throw new k.ClientException("anaplan.gridlet.Cell#_showReadOnly",b);}},_startEdit:function(a,b,d){try{this._isEditable()&&!this.isPending()&&(this._mode=a,this._buildInputControl(a,b,d))}catch(e){throw new k.ClientException("anaplan.gridlet.Cell#_startEdit",e);}},_submitChange:function(a){var b=this,d,e,g,h;try{this._refreshTimer&&clearTimeout(this._refreshTimer);this._currentValue="BOOLEAN"===this.getDataType()?String(a):a;try{if(d=
this.model.setValue(a))if(e=d.updatesCache,g=[],this.changeValidator&&(g=this.changeValidator.validateUpdatesCache(e)),g.length)this._showingConfirmation=!0,this.confirm(null,g,function(){b._endEdit();v.setText(b._valueContainer,a);b._showPending(!0);b.model.addNewUpdates(e,!1);b._showingConfirmation=!1},function(){b._endEdit();b._partialReset();b.model.cancelChanges();b._showingConfirmation=!1},b.changeValidator);else{switch(this.getDataType()){case "ENTITY":v.setText(this._valueContainer,a.label);
this._showPending(!0);break;case "BOOLEAN":break;default:v.setText(this._valueContainer,a),this._showPending(!0)}this._endEdit();this.model.addNewUpdates(e)}}catch(r){this._dataSerialNumber=null,this._showError(!0),h=function(){setTimeout(function(){b.refresh();b.focus()},150)},r instanceof k.KnownException?v.showErrorReporter(r,!0,null,h):v.showErrorReporter(new k.ClientException("anaplan.gridlet.Cell#_submitChange",r),null,null,h)}}catch(f){throw new k.ClientException("anaplan.gridlet.Cell#_submitChange",
f);}},_transpose:function(a){var b,d,e;try{b=Array(a[0].length);for(d=0;d<a.length;d++)for(e=0;e<a[d].length;e++)b[e]||(b[e]=Array(a.length)),b[e][d]=a[d][e];return b}catch(g){throw new k.ClientException("anaplan.gridlet.Cell#_transpose",g);}},_undo:function(b,d){try{var e=this.model;if(e.isSuspended())d.reject(l.dataInputUndoRejectReasons.NOT_ACTIVE_TAB);else if(e.getSerialNumbers().viewDefinitionSerialNumber!==b.serialNumber)d.reject(l.dataInputUndoRejectReasons.CELL_DEFINITION_CHANGED);else{var g=
e.attemptUndo(b.cellUpdates),h=function(){e.addNewUpdates(g.updatesCache,!0);var a=[J.before(e,"update",function(){a.forEach(function(a){a.remove()});d.resolve(S.resolveSingleCellChange.replace(/\$0/,g.preview[0].from).replace(/\$1/,g.preview[0].to))}),J.before(e,"error",function(b){a.forEach(function(a){a.remove()});d.reject(l.dataInputUndoRejectReasons.SERVER_ERROR)})]},r=function(){d.reject(l.dataInputUndoRejectReasons.CANCELLED)};this.getParent().isVisible()?(this._showPending(!0),h()):a(b.operation,
g.count,g.preview).then(h).otherwise(r)}}catch(f){d.reject(f.toString())}}})})},"dojox/validate/_base":function(){define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(l,s,p,q){var f=l.getObject("dojox.validate",!0);f.isText=function(f,n){n="object"==typeof n?n:{};return/^\s*$/.test(f)||"number"==typeof n.length&&n.length!=f.length||"number"==typeof n.minlength&&n.minlength>f.length||"number"==typeof n.maxlength&&n.maxlength<f.length?!1:!0};f._isInRangeCache={};f.isInRange=function(k,
n){k=p.parse(k,n);if(isNaN(k))return!1;n="object"==typeof n?n:{};var m="number"==typeof n.max?n.max:Infinity,h="number"==typeof n.min?n.min:-Infinity,e=f._isInRangeCache,g=k+"max"+m+"min"+h+"dec"+("string"==typeof n.decimal?n.decimal:".");if("undefined"!=typeof e[g])return e[g];e[g]=!(k<h||k>m);return e[g]};f.isNumberFormat=function(f,n){return RegExp("^"+q.numberFormat(n)+"$","i").test(f)};f.isValidLuhn=function(f){var n=0,m,h;l.isString(f)||(f=String(f));f=f.replace(/[- ]/g,"");m=f.length%2;for(var e=
0;e<f.length;e++)h=parseInt(f.charAt(e)),e%2==m&&(h*=2),9<h&&(h-=9),n+=h;return!(n%10)};return f})},"anaplan/gridlet/_editor/MultiSelectListEditor":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/utils/SubmissionHandler anaplan/gridlet/_editor/MultiSelect anaplan/gridlet/_editor/PopupEditor anaplan/utils/FormatHelper anaplan/utils/JsHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/i18n!anaplan/nls/gridlet".split(" "),function(l,s,p,q,f,k,n,
m,h,e,g,d){return h(f,{getValue:function(){var a="",d,b,e;if(this._pairs){d=this._pairs;b=[];e=d.length;for(var g=0;g<e;g++){var h=d[g].value;null!==h&&-1<h.indexOf(",")&&(h='"'+h+'"');b.push(h)}b.length&&(a=b.join())}return a},prepare:function(a){var g=this.inherited(arguments),b=e.mixin({},this._params,a),h=b.format.dataType,f=d[h],b=k.splitWithQuoteDelimiter(b.value,", ",'"'),m=b.length,n=[],l,w;for(w=0;w<m;w++)l=b[w],l=l.replace(/^\s*/,"").replace(/\s*$/,""),n.push({name:l,value:l});this._pairs=
n;this._dialog.set("title",f);this._getMultiSelectValues(h).then(e.hitch(this,function(a){this.widget=new q({multiValue:this._pairs,values:a});this._dialog.set("content",this.widget.domNode);this.connect(this.widget,"submit",e.hitch(this,"_onChange"));this.connect(this.widget,"cancel",e.hitch(this,"onCancel"));g.resolve()}),e.hitch(this,function(a){g.reject(a)}));return g},_getMultiSelectValues:function(a){var d=new g,b=[],e,h,f;switch(a){case "MULTISELECT_HIERARCHY":s.getHierarchiesLabelPage()&&
(b=b.concat(this._toPairs(s.getHierarchiesLabelPage())));s.getHierarchySubsetsLabelPage()&&(b=b.concat(this._toPairs(s.getHierarchySubsetsLabelPage())));if(s.getLineItemSubsetCategoryInfos()){a=s.getLineItemSubsetCategoryInfos();e=a.length;for(f=0;f<e;f++)h=a[f],h.lineItemSubsets&&(b=b.concat(this._toPairs(h.lineItemSubsets)))}d.resolve(b);break;case "MULTISELECT_USER":var k=function(a){return{name:a.emailAddress,value:a.userEntityLongId}};n.isNullOrUndefined(s.getUsersInModel())?this._getUsersInModelAPI().then(function(){d.resolve(m.map(s.getUsersInModel(),
k))},function(a){d.reject(a)}):d.resolve(m.map(s.getUsersInModel(),k));break;case "MULTISELECT_TAG":s.getTagsLabelPage()&&(b=b.concat(this._toPairs(s.getTagsLabelPage())));d.resolve(b);break;default:console.warn("anaplan.gridlet._editor.MultiSelectListEditor#_getMultiSelectValues - unknown dataType "+a),d.reject()}return d.promise},_getUsersInModelAPI:function(){return(new p).post([],[],[{actionId:l.SYSTEM_ACTIONS.GET_USERS_IN_MODEL,workspaceId:window.workspaceId,params:{modelId:window.modelId}}]).then(function(a){s.setUsersInModel(a.result.systemActionResults[0].users)})},
_onChange:function(a){this._pairs=a;this.onChange(a)},_toPairs:function(a){var d=[];a=a.labels[0];var b=a.length,e;for(e=0;e<b;e++)d.push({name:a[e],value:a[e]});return d}})})},"anaplan/api/Entity/Base/Entity":function(){define(["anaplan/utils/JsHelper","anaplan/utils/FormatHelper","dojo/_base/declare","dojo/_base/lang"],function(l,s,p,q){return p(null,{data:null,constructor:function(f){l.isObject(f)&&(this.data=f)},getName:function(){return s.escapeHTML(this.data.entityId)},getLabel:function(){return s.escapeHTML(this.data.label)},
getData:function(){return q.mixin({},this.data)},exists:function(){return l.isObject(this.data)&&!1!==this.data.exists},canAccess:function(){return l.isObject(this.data)&&this.data.hasInfo}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(l,s,p,q,f){var k=f.doc.documentElement;f=q("ie");var n=q("opera"),m=Math.floor,h=q("ff"),e=l.boxModel.replace(/-/,""),n={dj_quirks:q("quirks"),dj_opera:n,dj_khtml:q("khtml"),dj_webkit:q("webkit"),
dj_safari:q("safari"),dj_chrome:q("chrome"),dj_gecko:q("mozilla"),dj_ios:q("ios"),dj_android:q("android")};f&&(n.dj_ie=!0,n["dj_ie"+m(f)]=!0,n.dj_iequirks=q("quirks"));h&&(n["dj_ff"+m(h)]=!0);n["dj_"+e]=!0;var g="",d;for(d in n)n[d]&&(g+=d+" ");k.className=s.trim(k.className+" "+g);p(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+g.replace(/ /g,"-rtl ");k.className=s.trim(k.className+" "+a+"dj_rtl dijitRtl "+g.replace(/ /g,"-rtl "))}});return q})},"anaplan/gridlet/_editor/DefaultEditor":function(){define("anaplan/gridlet/_editor/BaseEditor dijit/form/_TextBoxMixin dijit/form/TextBox dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry".split(" "),
function(l,s,p,q,f,k,n){return q("anaplan.gridlet._editor.DefaultEditor",l,{constructor:function(m){this.widget=new p({style:m.style?m.style:"","class":m["class"]?m["class"]:""});(m=m.containerNode||null)&&k.place(this.widget.domNode,m);this.widget.startup();this.connect(this.widget,"keydown",f.hitch(this,"onKeyDown"))},focus:function(){var f;this.inherited(arguments);if(this.widget){if(this._isPercentage){if(this._isEnterMode){s.selectInputText(this.widget.textbox,0,0);return}f=this.widget.get("value");
if(f.length&&"%"===f.charAt(f.length-1)){f=f.length-1;s.selectInputText(this.widget.textbox,f,f);return}}f=this.widget.textbox.value;f=f.length;s.selectInputText(this.widget.textbox,f,f)}},prepare:function(k){var h=this.inherited(arguments),e=f.mixin({},this._params,k),g;g=(this._isEnterMode=e.isEnterMode)?"":e.value;(this._isPercentage=e.format&&"PERCENTAGE"===e.format.unitsType)&&this._isEnterMode&&(g="%");this.widget.set("value",g);e.cellNode?n.setMarginBox(this.widget.domNode,n.getMarginBox(e.cellNode)):
e.size&&n.setMarginBox(this.widget.domNode,e.size);h.resolve();return h}})})},"anaplan/snav/bulkoperationfactory/_bulkoperationmixin":function(){define("anaplan/snav/bulkoperationfactory/_aggregatorobserver anaplan/data/UserInfo anaplan/utils/SubmissionHandler dojo/_base/declare anaplan/data/ModelContentCache dojo/Deferred dojo/_base/lang dojo/dom-class".split(" "),function(l,s,p,q,f,k,n,m){return q("anaplan.snav.bulkoperationfactory._bulkoperationmixin",[],{postCreate:function(){this.inherited(arguments);
this._addClass("bulkoperation")},isDirty:function(){return this._isDirty()},isValid:function(){return this._isValid()},resume:function(){},setGlobalContext:function(){},submit:function(h){try{this._addClass("loading");var e=new k;e.then(n.hitch(this,function(d){this._removeClass("loading");null==d?h.resolve(d):h.resolve(n.mixin(d))}),n.hitch(this,function(d){this._removeClass("loading");h.reject(d)}));this._submit(e)}catch(g){this._removeClass("loading"),h.reject(g)}},_addClass:function(h){this.domNode&&
m.add(this.domNode,h)},_assertIsNumberedList:function(h){return(h=f.getHierarchySubsetInfo(h)?f.getHierarchyInfoForHierarchySubsetEntityLongId(h):f.getHierarchyInfo(h))?h.isNumberedList:null},_doGather:function(h,e,g){var d=new k,a=new l({hierarchyEntityLongId:this.hierarchyEntityLongId,handleError:!0});(new p({aggregatorObserver:a,showPleaseWait:!1})).gather(h,e,g).then(n.hitch(this,function(e){a.destroy();d.resolve(e)}),n.hitch(this,function(e){a.destroy();e.isKnownError?(console.warn(e.errorMessage),
d.reject(e.errorMessage)):(console.error(e),d.reject(e))}));return d},_getEntityTypeIndexOfListItems:function(h){h=f.getHierarchySubsetInfo(h)?f.getHierarchyInfoForHierarchySubsetEntityLongId(h):f.getHierarchyInfo(h);return f.getEntityTypeIndexOfListItems(h.entityLongId)},_isDirty:function(){return!1},_isValid:function(){return!0},_removeClass:function(h){this.domNode&&m.remove(this.domNode,h)},_replacePlaceholders:function(h){return n.replace(h,s._userInfo)},_submit:function(h){h.reject("UnsupportedOperationException")}})})},
"anaplan/api/SystemActions/NotifyOpenPage":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdIsRequired:!p.isEntityLongId(this._params.pageId)?f.errors.pageIdIsRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.NOTIFY_OPEN_PAGE,
params:{modelId:this._params.modelId,pageId:this._params.pageId}}}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(l,s,p,q,f){var k=new l,n;p(function(){var m=f.getBox();k._rlh=s(window,"resize",function(){var e=f.getBox();m.h==e.h&&m.w==e.w||(m=e,k.emit("resize"))});if(8==q("ie")){var h=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=h&&(h=screen.deviceXDPI,k.emit("resize"))},500)}q("ios")&&(s(document,"focusin",function(e){n=
e.target}),s(document,"focusout",function(e){n=null}))});k.getEffectiveBox=function(k){k=f.getBox(k);var h=n&&n.tagName&&n.tagName.toLowerCase();if(q("ios")&&n&&!n.readOnly&&("textarea"==h||"input"==h&&/^(color|email|number|password|search|tel|text|url)$/.test(n.type)))k.h*=0==orientation||180==orientation?0.66:0.4,h=n.getBoundingClientRect(),k.h=Math.max(k.h,h.top+h.height);return k};return k})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(l,s,p,q,f,k,n){var m=0,h={_secureForInnerHtml:function(e){return e.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:k.empty,_setNodeContent:function(e,g){k.empty(e);if(g)if("string"==typeof g&&(g=k.toDom(g,e.ownerDocument)),!g.nodeType&&s.isArrayLike(g))for(var d=g.length,a=0;a<g.length;a=d==g.length?a+1:0)k.place(g[a],e,"last");else k.place(g,e,"last");return e},_ContentSetter:q("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,
parseContent:!1,parserScope:l._scopeName,startup:!0,constructor:function(e,g){s.mixin(this,e||{});g=this.node=f.byId(this.node||g);this.id||(this.id=["Setter",g?g.id||g.tagName:"",m++].join("_"))},set:function(e,g){void 0!==e&&(this.content=e);g&&this._mixin(g);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var e=this.node;if(!e)throw Error(this.declaredClass+": setContent given no node");try{e=h._setNodeContent(e,this.content)}catch(g){var d=
this.onContentError(g);try{e.innerHTML=d}catch(a){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+a.message,a)}}this.node=e},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(p.forEach(this.parseResults,function(e){e.destroy&&e.destroy()}),delete this.parseResults);k.empty(this.node)},onBegin:function(){var e=this.content;if(s.isString(e)&&
(this.cleanContent&&(e=h._secureForInnerHtml(e)),this.extractContent)){var g=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);g&&(e=g[1])}this.empty();this.content=e;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(e){return"Error occurred setting content: "+e},onExecError:function(e){return"Error occurred executing scripts: "+e},
_mixin:function(e){var g={},d;for(d in e)d in g||(this[d]=e[d])},_parse:function(){var e=this.node;try{var g={};p.forEach(["dir","lang","textDir"],function(a){this[a]&&(g[a]=this[a])},this);var d=this;this.parseDeferred=n.parse({rootNode:e,noStart:!this.startup,inherited:g,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(a){this._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(e,g,d){e=this["on"+e+"Error"].call(this,g);d?console.error(d,g):e&&h._setNodeContent(this.node,e,!0)}}),set:function(e,g,d){void 0==g&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),g="");return d?(new h._ContentSetter(s.mixin(d,{content:g,node:e}))).set():h._setNodeContent(e,g,!0)}};s.setObject("dojo.html",h);return h})},"anaplan/charts/PopupChartlet2":function(){define("anaplan/data/Aggregator anaplan/common/SelectiveAccess anaplan/data/ModelContentCache anaplan/charts/ChartController anaplan/charts/ChartFactory anaplan/charts/ChartOptions anaplan/charts/PublishPlaceholder anaplan/constants anaplan/data/ModelContentHelper dijit/layout/BorderContainer dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return d([e],{chartConfig:null,chartType:null,isDialog:!1,selectedLineItemEntityLongIds:[],viewDefinition:null,gutters:!1,focus:function(){this._chartOptionsWidget?this._chartOptionsWidget.focus():this.inherited(arguments)},postCreate:function(){var d,e,h,y;this.inherited(arguments);r.add(this.domNode,"popupchartlet2");this.chartConfig||(this.chartType===m.chartType.COLUMNRANGE?this.chartConfig=this._getColumnRangeChartOptions(this.selectedLineItemEntityLongIds):
this.chartType===m.chartType.MAP?this.chartConfig=this._getMapChartOptions(this.selectedLineItemEntityLongIds):this.chartType===m.chartType.PIE?this.chartConfig=this._getPieChartOptions():this.chartType===m.chartType.FUNNEL&&(this.chartConfig=this._getFunnelChartOptions(this.selectedLineItemEntityLongIds)));this.chartConfig=a.mixin(this.chartConfig,{dialogChart2:!0});this._chartOptionsWidget=d=new k({options:this.chartConfig||{},chartType:this.chartType,region:"left",viewDefinition:this.viewDefinition});
this.addChild(d);e=f.getChart({chartType:this.chartType,chartVariation:this.chartVariation,chartStacking:this.chartStacking,chartConfig:this.chartConfig||{},region:"center",showModuleName:!0,showPageLabels:!0,viewDefinition:this.viewDefinition});this.addChild(e);h=e.getModel();y=new q({chart:e,model:h});this.own(t(d,"change",a.hitch(this,function(b){var d=m.chartType;y.setChartOptions(a.mixin({},this.chartConfig,b));-1!==g.indexOf([d.COLUMNRANGE,d.MAP,d.FUNNEL],this.chartType)?l.gather():h.getValues()})));
if(s.isAuthorized(m.userActions.MAINTAIN_CUSTOM_DASHBOARDS)){var w=new n({chartController:y,model:h,region:"bottom",isDialog:this.isDialog},b.create("div",{className:"bottom"}));e.own(t(e,"disablePublishButtons",function(){w.menu.set("disabled",!0)}));this.addChild(w);this.own(t(w,"publish",a.hitch(this,function(){var a=this.getParent();!a||!a.hide?console.warn(this.id+" expected to be contained within parent with hide"):a.hide()})),t(w,"updateCurrentViewToDashboard",a.hitch(this,function(a,b){this.onUpdateCurrentViewToDashboard(a,
b)})))}t.once(e,"update",function(){d.initSeriesData()})},onUpdateCurrentViewToDashboard:function(){},_getColumnRangeChartOptions:function(a){var b=h.getModuleEntityLongIdForViewDefinitionOrReference(p,this.viewDefinition),d=p.getModuleInfo(b),e={axisTitle:"",startPoint:-1,endPoint:-1,barLabel:-1,groupBy:-1,toolTip:[],gridLines:"month",yAxisWidth:80,fixedWidth:"variable"},r,f;g.forEach(a,function(a){r=h.getLineItemInfoFromModuleInfo(d,a);f=r.format;"DATE"===f.dataType&&-1===e.startPoint?e.startPoint=
a:"DATE"===f.dataType&&-1===e.endPoint?e.endPoint=a:-1===e.barLabel?e.barLabel=a:-1===e.groupBy?e.groupBy=a:e.toolTip.push(a)});return{columnRange:e}},_getFunnelChartOptions:function(a){var b=anaplan.constants.chartOptions.funnel,d={axisOption:b.AXIS};d[b.BAR_LABEL]=-1;d[b.DATA_POINT]=-1;d[b.TOOLTIP]=[];a&&a.length&&(d[b.DATA_POINT]=a[0],d[b.BAR_LABEL]=a[0],g.forEach(a,function(a,e){0<e&&d[b.TOOLTIP].push(a)}));return{funnel:d}},_getMapChartOptions:function(a){var b={barLabel:-1,dataPoint:-1,mapType:"WORLD_SHAPES",
regionLabels:!1};g.forEach(a,function(a){-1===b.dataPoint?b.dataPoint=a:-1===b.barLabel&&(b.barLabel=a)});return{map:b}},_getPieChartOptions:function(){return{chartType:m.chartType.PIE}}})})},"anaplan/dashboard/_MaximizedLayout":function(){define(["dojo/_base/declare","anaplan/dashboard/LayoutHelper","anaplan/Exceptions"],function(l,s,p){return l(null,{constructor:function(l,f){this._dashboard=l;this._gutterSize=void 0!=f?f:5},calculateLayout:function(l,f){var k,n=[];try{if(k=s.getDashboardScrollContainerBox(l),
l&&f&&f.length)for(var m=this._dashboard.getMaximizedElementIndex(),h=0;h<f.length;h++)h===m?n.push({widgetId:f[h].id,t:this._gutterSize,l:0,h:k.h-this._gutterSize,w:k.w}):n.push({widgetId:f[h].id,t:-1*k.h,l:-1*k.w,h:-1,w:-1});else console.warn("anaplan/dashboard/_MaximizedLayout: _calculateLayout invalid arguments")}catch(e){throw new p.ClientException("anaplan/dashboard/_MaximizedLayout: _calculateLayout",e);}return n}})})},"anaplan/common/PageInfo":function(){define(["dojo/_base/declare","dojo/_base/lang",
"anaplan/common/_DefinitionBase","anaplan/common/BreakbackHoldStatus","anaplan/cf/FormattingInfo"],function(l,s,p,q,f){return l("anaplan.common.PageInfo",p,{_serializableProperties:"canMaintainColumns canMaintainRows columnAxisSpecification columnEntityTypeIndices rowAxisSpecification rowEntityTypeIndices pageAxisSpecifications currentPageLabels staticContext formattingInfo breakbackHoldStatus".split(" "),constructor:function(k){k&&(s.mixin(this,k),this.formattingInfo&&!(this.formattingInfo instanceof
f)&&(this.formattingInfo=new f(this.formattingInfo)),this.breakbackHoldStatus&&!(this.breakbackHoldStatus instanceof q)&&(this.breakbackHoldStatus=new q(this.breakbackHoldStatus)))},getBreakbackHeldCells:function(){return this.breakbackHoldStatus?this.breakbackHoldStatus.getBreakbackHeldCells():null},getBreakbackHeldCellsCount:function(){return this.breakbackHoldStatus?this.breakbackHoldStatus.getBreakbackHeldCellsCount():0},getBreakbackHoldStatus:function(){return this.breakbackHoldStatus||null},
getConditionalFormattingInfo:function(){return this.formattingInfo?this.formattingInfo.conditional:null},setConditionalFormattingInfo:function(k){this.formattingInfo||(this.formattingInfo=new f);this.formattingInfo.conditional=k}})})},"anaplan/data/InlineSearchProviders/LabelPageSearchProvider":function(){define(["dojo/_base/declare","dojo/Deferred"],function(l,s){return l([],{MAX_SEARCH_RESULTS:100,constructor:function(l){this._labelPage=l.labelPage},search:function(l){var q=new s,f=[],k=this._labelPage,
n=k.entityCodes[0],m=k.entityLongIds[0],h=k.labels[0],e=k.parentEntityLongIds[0],g=l.toLowerCase(),d=this.MAX_SEARCH_RESULTS;setTimeout(function(){for(var a=0;a<k.count&&f.length<=d;){if(-1<h[a].toLowerCase().indexOf(g)||n[a]&&-1<n[a].toLowerCase().indexOf(g)){for(var r=[h[a]],b=m.indexOf(e[a]);-1<b;)r.push(h[b]),b=m.indexOf(e[b]);r=r.reverse().join("/");f.push({id:m[a],name:h[a],parent:"root",tooltip:121<r.length?"..."+r.substring(r.length-121):r})}a++}q.resolve(f)},50);return q.promise}})})},"anaplan/dashboard/_ControlPanelMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dijit/form/TextBox dojo/keys dojo/on".split(" "),
function(l,s,p,q,f,k){return l(null,{_hookupOnChangeHandlers:function(n,m){p.forEach(n,s.hitch(this,function(h){this.own(k(h,"change",m),k(h,"keydown",function(e){if(h instanceof q&&e.keyCode===f.ENTER)this.onChange()}))}))}})})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(l,s,p,q,f,k,n,m,h,e){function g(a,d,e){return b&&e?function(a,b){return k(a,e,b)}:u?function(b,e){var g=k(b,d,function(a){e.call(this,
a);C=(new Date).getTime()}),h=k(b,a,function(a){(!C||(new Date).getTime()>C+1E3)&&e.call(this,a)});return{remove:function(){g.remove();h.remove()}}}:function(b,d){return k(b,a,d)}}function d(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function a(a,b,g){var h=d(a.target);if(z=!a.target.disabled&&h&&h.dojoClick)if(w=(y="useTarget"==z)?h:a.target,y&&a.preventDefault(),x=a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX,A=a.changedTouches?a.changedTouches[0].pageY-
e.global.pageYOffset:a.clientY,D=("object"==typeof z?z.x:"number"==typeof z?z:0)||4,E=("object"==typeof z?z.y:"number"==typeof z?z:0)||4,!v){v=!0;var r=function(a){z=y?p.isDescendant(e.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-e.global.pageYOffset:a.clientY),w):z&&(a.changedTouches?a.changedTouches[0].target:a.target)==w&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-e.global.pageXOffset:a.clientX)-
x)<=D&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-e.global.pageYOffset:a.clientY)-A)<=E};e.doc.addEventListener(b,function(a){r(a);y&&a.preventDefault()},!0);e.doc.addEventListener(g,function(a){r(a);if(z){B=(new Date).getTime();var b=y?w:a.target;"LABEL"===b.tagName&&(b=p.byId(b.getAttribute("for"))||b);var d=a.changedTouches?a.changedTouches[0]:a,e=document.createEvent("MouseEvents");e._dojo_click=!0;e.initMouseEvent("click",!0,!0,a.view,a.detail,d.screenX,d.screenY,d.clientX,d.clientY,
a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){k.emit(b,"click",e);B=(new Date).getTime()},0)}},!0);a=function(a){e.doc.addEventListener(a,function(b){!b._dojo_click&&((new Date).getTime()<=B+1E3&&!("INPUT"==b.target.tagName&&q.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=b.target.tagName||"radio"==b.target.type||"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&
"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}var r=5>n("ios"),b=n("pointer-events")||n("MSPointer"),t=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=n("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),u=n("touch-events"),v,z,y=!1,w,x,A,D,E,B,C,G;b?h(function(){e.doc.addEventListener(t.down,function(b){a(b,t.move,t.up)},!0)}):u&&h(function(){function b(a){var d=f.delegate(a,{bubbles:!0});
6<=n("ios")&&(d.touches=a.touches,d.altKey=a.altKey,d.changedTouches=a.changedTouches,d.ctrlKey=a.ctrlKey,d.metaKey=a.metaKey,d.shiftKey=a.shiftKey,d.targetTouches=a.targetTouches);return d}G=e.body();e.doc.addEventListener("touchstart",function(b){C=(new Date).getTime();var d=G;G=b.target;k.emit(d,"dojotouchout",{relatedTarget:G,bubbles:!0});k.emit(G,"dojotouchover",{relatedTarget:d,bubbles:!0});a(b,"touchmove","touchend")},!0);k(e.doc,"touchmove",function(a){C=(new Date).getTime();var d=e.doc.elementFromPoint(a.pageX-
(r?0:e.global.pageXOffset),a.pageY-(r?0:e.global.pageYOffset));d&&(G!==d&&(k.emit(G,"dojotouchout",{relatedTarget:d,bubbles:!0}),k.emit(d,"dojotouchover",{relatedTarget:G,bubbles:!0}),G=d),k.emit(d,"dojotouchmove",b(a))||a.preventDefault())});k(e.doc,"touchend",function(a){C=(new Date).getTime();var d=e.doc.elementFromPoint(a.pageX-(r?0:e.global.pageXOffset),a.pageY-(r?0:e.global.pageYOffset))||e.body();k.emit(d,"dojotouchend",b(a))})});s={press:g("mousedown","touchstart",t.down),move:g("mousemove",
"dojotouchmove",t.move),release:g("mouseup","dojotouchend",t.up),cancel:g(m.leave,"touchcancel",b?t.cancel:null),over:g("mouseover","dojotouchover",t.over),out:g("mouseout","dojotouchout",t.out),enter:m._eventHandler(g("mouseover","dojotouchover",t.over)),leave:m._eventHandler(g("mouseout","dojotouchout",t.out))};return l.touch=s})},"anaplan/widgets/_Selector":function(){define("dojo/on dojo/mouse dojo/dnd/common dojo/dnd/Selector dojo/_base/lang dojo/_base/array dojo/_base/declare".split(" "),function(l,
s,p,q,f,k,n){return n([q],{constructor:function(){k.forEach(this.events,function(f){f.remove()});this._connectMouseHandlers();this.events=[l(this.node,"mouseover",f.hitch(this,"onMouseOver")),l(this.node,"mouseout",f.hitch(this,"onMouseOut")),l(this.node,"dragstart",f.hitch(this,"onSelectStart")),l(this.node,"selectstart",f.hitch(this,"onSelectStart")),l(this.node,"mouseup",f.hitch(this,"onMouseUp"))]},destroy:function(){this.inherited(arguments);null!=this._mouseDownHandle&&this._mouseDownHandle.remove()},
enableSelection:function(f){f?this._connectMouseHandlers():this._disconnectMouseHandlers()},onDoubleClick:function(){},uninitialize:function(){this.clear();this._selector=null;this.inherited(arguments)},_connectMouseHandlers:function(){this._mouseHandlers||(this._mouseHandlers=[l(this.node,"mousedown",f.hitch(this,"onMouseDown")),l(this.node,"dblclick",f.hitch(this,"onDoubleClick"))])},_disconnectMouseHandlers:function(){this._mouseHandlers&&(k.forEach(this._mouseHandlers,function(f){f.remove()}),
delete this._mouseHandlers)},onMouseDown:function(f){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!p.getCopyKeyState(f)&&!f.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,s.isLeft(f)&&(f.stopPropagation(),f.preventDefault());else{if(!this.singular&&f.shiftKey){p.getCopyKeyState(f)||this._removeSelection();var h=this.getAllNodes();if(h.length&&(this.anchor||(this.anchor=h[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=
this.current)){for(var e=0,g;e<h.length&&!(g=h[e],g==this.anchor||g==this.current);++e);for(++e;e<h.length;++e){g=h[e];if(g==this.anchor||g==this.current)break;this._addItemClass(g,"Selected");this.selection[g.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?p.getCopyKeyState(f)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):p.getCopyKeyState(f)?
this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,
"Anchor"),this.selection[this.current.id]=1);f.preventDefault()}}})})},"anaplan/cf/ConditionalFormattingDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","anaplan/common/_DefinitionBase","./RuleDefinition"],function(l,s,p,q,f){return s(q,{_serializableProperties:["isActive","rules"],constructor:function(k){this.isActive=!0;this.rules=[];k&&(p.mixin(this,k),this.rules=l.map(this.rules||[],p.hitch(this,function(k){return k instanceof f?k:new f(k)})))},addRuleDefinition:function(f,
n){this.rules.push(f);n&&n.addRuleInfo(!0)},deleteRuleDefinitionAtIndex:function(f,n){this.rules.splice(f,1);n&&n.removeRuleInfoAtIndex(f)},getRuleDefinitionForTarget:function(f){var n=null;l.some(this.rules,function(m){return m.targetIdentifier===f?(n=m,!0):!1});return n},getRuleIndexForTarget:function(f){var n=-1;l.some(this.rules,function(m,h){return m.targetIdentifier===f?(n=h,!0):!1});return n},isEmpty:function(){return 0===this.rules.length},toJSON:function(){return{isActive:this.isActive,rules:this.rules}},
setIsActive:function(f){this.isActive=!!f},updateRuleDefinitionAtIndex:function(f,n,m){this.rules.splice(n,1,f);m&&m.resetRuleInfoAtIndex(n)}})})},"anaplan/dashboard/LayoutMode":function(){define("anaplan/constants anaplan/dashboard/DashboardWidget anaplan/dashboard/LayoutHelper anaplan/dashboard/LayoutPosition anaplan/layout/ResizeHandle anaplan/utils/UIHelper dijit/_WidgetBase dijit/BackgroundIframe dijit/form/Button dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dnd/autoscroll dojo/dnd/Moveable dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx dojo/fx/easing dojo/i18n!anaplan/nls/dashboard dojo/on dojo/topic dojo/touch".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){var E=function(a,d){a&&a.domNode&&b.toggle(a.domNode,"dashboardWidgetSelected",d)};return g(n,{selected:null,constructor:function(a){a=a||{};this._layout=a.layout||[];this._dashboardBox=a.dashboardBox||{};this._layoutPositionMap=a.layoutPositionMap||{};this._widgets=a.widgets||[];this._initialSelection=a.initialSelection||null;this._spacing=a.spacing;this._scrollContainer=a.scrollContainer;this._borderRegions=[];this._widgetEventHandlers=[]},
postCreate:function(){this.inherited(arguments);this._bgIframe=new m(this.domNode);b.add(this.domNode,"dashboardLayout");this.own(A.subscribe("/dojo/resize/start",d.hitch(this,this._startResize)),A.subscribe("/dojo/resize/stop",d.hitch(this,this._stopResize)))},startup:function(){this.inherited(arguments);this.setLayout(this._layout,this._layoutPositionMap,this._dashboardBox);this.set("selected",this._initialSelection)},destroy:function(){this._movable&&b.toggle(this._movable.node,"dojoMoveItem",
!1);this._removeWidgetStyles();this._removeWidgetEventHandlers();this._destroyDeleteButton();this._destroyMovable();this._destroyResizer();this._bgIframe.destroy();this.inherited(arguments)},isResizing:function(){return!!this._movableWidgetId},scrollToSelection:function(){var a=this.selected;if(a){var b=this._scrollContainer,d=u.getContentBox(b),a=u.getMarginBox(a.domNode),e=b.scrollLeft,g=b.scrollTop,h=e,r=g,f=this.spacing.horizontal+5;a.t-=this.spacing.vertical;a.h-=this.spacing.horizontal;a.w+=
this.spacing.horizontal;a.h+=this.spacing.vertical;a.t<g?r=a.t:a.t+a.h>g+d.h&&(r=Math.max(a.t,g+(g+d.h-(a.t+a.h))));a.l<e?h=a.l:a.l+a.w>e+d.w&&(h=Math.max(a.l,e+(e+d.w-(a.l+a.w))));r<=f&&(r=0);r>=b.scrollHeight-b.clientHeight-f&&(r=b.scrollHeight-b.clientHeight);h<=f&&(h=0);h>=b.scrollWidth-b.clientWidth-f&&(h=b.scrollWidth-b.clientWidth);b.scrollTop=r;b.scrollLeft=h}},setLayout:function(a,b,d){d&&u.setMarginBox(this.domNode,d);this._layout=a;this._layoutPositionMap=b;this._dashboardBox=d;this._reset()},
_addLayoutRegionsForDashboardWidgets:function(a){var b=this._spacing,e=this._layout,g=this._layoutPositionMap,h,r,f,t;h=0;for(r=e.length;h<r;h++)f=d.clone(e[h]),f.l-=b.horizontal,f.w+=b.horizontal,f.t-=b.vertical,f.h+=b.vertical,t=new q({layoutPosition:g[f.widgetId]}),f={box:f,layoutPosition:t,isWidget:!0},a[t.toString()]=f},_addLayoutRegionsForParentRegions:function(a){var b=this._layoutObj,d,e,g,h,r,f,t,k,m,u,n;d=0;for(e=b.rows.length;d<e;d++){g=b.rows[d];h=new q({rowIndex:d});r=0;for(f=g.columns.length;r<
f;r++)if(t=g.columns[r],t.subRows.length){k=h.clone({columnIndex:r});m=0;for(t=t.subRows.length;m<t;m++)u=k.clone({subRowIndex:m}),n=this._getLayoutRegion(u,a),a[u.toString()]=n;m=this._getLayoutRegion(k,a);a[k.toString()]=m}g=this._getLayoutRegion(h,a);a[h.toString()]=g}},_addWidgetEventHandlers:function(){this._widgetEventHandlers=e.map(this._widgets,d.hitch(this,function(a){return x(a,"focus",d.hitch(this,this._onWidgetFocus,a))}))},_adjustLayoutRegionsForWhitespace:function(a){var b=this._spacing,
e=this._layoutObj,g=0,h;if(this._dashboardBox){h=d.clone(this._dashboardBox);h.h-=b.vertical;h.w-=b.horizontal;for(b=0;b<e.rows.length;b++){for(var r=e.rows[b],f=new q({rowIndex:b}),t=a[f.toString()].box,k=0;k<r.columns.length;k++){var m=r.columns[k],u=f.clone({columnIndex:k}),n=a[u.toString()].box;if(m.subRows.length){for(var v=0,l=0;l<m.subRows.length;l++){for(var x=m.subRows[l],z=u.clone({subRowIndex:l}),w=a[z.toString()].box,y=0;y<x.subColumns.length;y++){var p=x.subColumns[y],A=z.clone({subColumnIndex:y});
1!==p.widgets.length&&console.warn(A.toString()+" expected to find single widget in sub column but "+p.widgets.length);p=a[A.toString()].box;p.h<w.h&&(p.h+=w.h-p.h)}v+=w.h;w.w<n.w&&(x=z.clone({subColumnIndex:x.subColumns.length-1}),a[x.toString()].box.w+=n.w-w.w,w.w+=n.w-w.w)}if(v<t.h){u=u.clone({subRowIndex:m.subRows.length-1});m=m.subRows[m.subRows.length-1];for(l=0;l<m.subColumns.length;l++)w=u.clone({subColumnIndex:l}),a[w.toString()].box.h+=t.h-v;n.h+=t.h-v}}else 1!==m.widgets.length&&console.warn("TODO: expected to find single widget in column "+
u.toString()+" but  "+m.widgets.length),n.h<t.h&&(n.h+=t.h-n.h)}if(t.w<h.w){k=r.columns.length-1;r=r.columns[k];n=f.clone({columnIndex:k});n=a[n.toString()].box;if(r.subRows.length)for(v=0;v<r.subRows.length;v++)u=r.subRows[v],l=f.clone({columnIndex:k,subRowIndex:v,subColumnIndex:-1}),m=a[l.toString()].box,u=l.clone({subColumnIndex:u.subColumns.length-1}),a[u.toString()].box.w+=h.w-t.w,m.w+=h.w-t.w;n.w+=h.w-t.w;t.w+=h.w-t.w}g+=t.h}if(g<h.h){f=e.rows.length-1;b=new q({rowIndex:f});e=e.rows[f];for(f=
0;f<e.columns.length;f++){k=e.columns[f];t=b.clone({columnIndex:f});if(k.subRows.length){n=k.subRows.length-1;r=t.clone({subRowIndex:n});k=k.subRows[n];for(n=0;n<k.subColumns.length;n++)a[r.clone({subColumnIndex:n}).toString()].box.h+=h.h-g;a[r.toString()].box.h+=h.h-g}a[t.toString()].box.h+=h.h-g}a[b.toString()].box.h+=h.h-g}}},_createBorderRegions:function(){var a=this._layoutRegions,e=this._spacing,g,h,r;for(g in a)a.hasOwnProperty(g)&&(h=a[g],h.isWidget&&(h=d.clone(h.box),r=t.create("div"),b.add(r,
"dashboardLayoutBorderRegion dashboardLayoutBorderRegionTop dashboardLayoutBorderRegionLeft"),v.set(r,{borderLeftWidth:e.horizontal+"px",borderTopWidth:e.vertical+"px"}),t.place(r,this.domNode),u.setMarginBox(r,h),this._borderRegions.push(r)))},_createDropNode:function(){var a=t.create("div");b.add(a,"dashboardLayoutDropNode");v.set(a,{visibility:"hidden",opacity:0.6});t.place(a,this.domNode);this._dropNode=a},_destroyBorderRegions:function(){e.forEach(this._borderRegions,function(a){t.destroy(a)});
this._borderRegions=[]},_destroyDeleteButton:function(){this._deleteButton&&(this._deleteButton.destroy(),this._deleteButton=null)},_destroyDropNode:function(){this._dropNode&&(t.destroy(this._dropNode),this._dropNode=null)},_destroyMovable:function(){this._movable&&(e.forEach(this._movableConnections,function(a){a.remove()}),this._movable.destroy(),this._movable=null,this._movableConnections=[]);this._moveHandle&&(t.destroy(this._moveHandle),this._moveHandle=null)},_destroyResizer:function(){this._resizer&&
(this._resizer.destroy(),this._resizer=null)},_getLayoutObjForLayoutPosition:function(a){var b=this._layoutObj.rows[a.getRowIndex()];-1<a.getColumnIndex()&&(b=b.columns[a.getColumnIndex()]);-1<a.getSubRowIndex()&&(b=b.subRows[a.getSubRowIndex()]);-1<a.getSubColumnIndex()&&(b=b.subColumns[a.getSubColumnIndex()]);return b},_getLayoutRegion:function(a,b){return{layoutPosition:a,box:this._getRegionBox(a,b)}},_getLayoutRegions:function(){var a={};this._addLayoutRegionsForDashboardWidgets(a);this._addLayoutRegionsForParentRegions(a);
this._adjustLayoutRegionsForWhitespace(a);return a},_getMovableId:function(a){return[a,"movable"].join("_")},_getOverLayoutRegion:function(a,b){var d=this._layoutRegions,e,g,h;for(e in d)if(d.hasOwnProperty(e)&&(g=d[e],g.isWidget&&(h=g.box,a>=h.l&&a<h.l+h.w&&b>=h.t&&b<h.t+h.h)))return g;return null},_getOverWidgetRegion:function(a,b){var e=this._spacing,g=this._layout,h=this._layoutPositionMap,r,f,t,k;r=0;for(f=g.length;r<f;r++)if(t=g[r],k=t.widgetId,t=d.clone(t),t.l-=e.horizontal,t.w+=e.horizontal,
t.t-=e.vertical,t.h+=e.vertical,a>=t.l&&a<t.l+t.w&&b>=t.t&&b<t.t+t.h)return e=h[k],{widgetId:k,box:t,layoutPosition:new q({layoutPosition:e})};return null},_getRegionBox:function(a,b){return{l:this._getRegionLeft(a,b),h:this._getRegionHeight(a,b),w:this._getRegionWidth(a,b),t:this._getRegionTop(a,b)}},_getRegionHeight:function(a,b){var d=0,e=this._getLayoutObjForLayoutPosition(a);if(e.columns&&e.columns.length)for(var g=0;g<e.columns.length;g++)var h=a.clone({columnIndex:g}),d=Math.max(d,this._getRegionHeight(h,
b));else if(e.subRows&&e.subRows.length)for(g=0;g<e.subRows.length;g++)h=a.clone({subRowIndex:g}),d+=this._getRegionHeight(h,b);else if(e.subColumns&&e.subColumns.length)for(g=0;g<e.subColumns.length;g++)h=a.clone({subColumnIndex:g}),d=Math.max(d,this._getRegionHeight(h,b));else e.widgets&&e.widgets.length&&(d=b[a.toString()].box.h);return d},_getRegionLeft:function(a,b){var d=0,e=this._getLayoutObjForLayoutPosition(a);if(e.columns&&e.columns.length)for(var d=Number.MAX_VALUE,g=0;g<e.columns.length;g++)var h=
a.clone({columnIndex:g}),d=Math.min(this._getRegionLeft(h,b),d);else if(e.subRows&&e.subRows.length)e=a.clone({subRowIndex:0}),d=this._getRegionLeft(e,b);else if(e.subColumns&&e.subColumns.length){d=Number.MAX_VALUE;for(g=0;g<e.subColumns.length;g++)h=a.clone({subColumnIndex:g}),d=Math.min(this._getRegionLeft(h,b),d)}else e.widgets&&e.widgets.length&&(d=b[a.toString()].box.l);return d},_getRegionTop:function(a,b){var d=0,e=this._getLayoutObjForLayoutPosition(a);if(e.columns&&e.columns.length)e=a.clone({columnIndex:0}),
d=this._getRegionTop(e,b);else if(e.subRows&&e.subRows.length)for(var d=Number.MAX_VALUE,g=0;g<e.subRows.length;g++)var h=a.clone({subRowIndex:g}),d=Math.min(d,this._getRegionTop(h,b));else e.subColumns&&e.subColumns.length?(e=a.clone({subColumnIndex:0}),d=this._getRegionTop(e,b)):e.widgets&&e.widgets.length&&(d=b[a.toString()].box.t);return d},_getRegionWidth:function(a,b){var d=0,e=this._getLayoutObjForLayoutPosition(a);if(e.columns&&e.columns.length)for(var g=0;g<e.columns.length;g++)var h=a.clone({columnIndex:g}),
h=this._getRegionWidth(h,b),d=d+h;else if(e.subRows&&e.subRows.length)for(g=d=0;g<e.subRows.length;g++)h=a.clone({subRowIndex:g}),d=Math.max(d,this._getRegionWidth(h,b));else if(e.subColumns&&e.subColumns.length)for(g=0;g<e.subColumns.length;g++)h=a.clone({subColumnIndex:g}),h=this._getRegionWidth(h,b),d+=h;else e.widgets&&e.widgets.length&&(d=b[a.toString()].box.w);return d},_getWidget:function(a){a=this._getWidgetIndex(a);return-1===a?null:this._widgets[a]},_getWidgetBox:function(a){for(var b=0;b<
this._layout.length;b++){var d=this._layout[b];if(d.widgetId===a)return d}return null},_getWidgetIndex:function(a){for(var b=0;b<this._widgets.length;b++)if(this._widgets[b].id===a)return b;return-1},_hideDropNode:function(){v.set(this._dropNode,"visibility","hidden")},_makeDeleteButton:function(a){this._destroyDeleteButton();a&&(this._deleteButton=new h({showLabel:!1,iconClass:"dijitDialogCloseIcon dijitDialogCloseIconHover","class":"dashboardLayoutModeDeleteButton"}),t.place(this._deleteButton.domNode,
a.domNode),this._deleteButton.startup(),this._deleteButton.on(D.press,function(){a.remove()}))},_makeMovable:function(a){var b,e;this._destroyMovable();a&&(b=t.create("div",{"class":"dashboardWidgetMoveHandle"},a.domNode),k.setText(b,w.labelMove),e=u.getMarginSize(b),v.set(b,{marginLeft:-Math.floor(e.w/2)+"px",top:-e.h+"px"}),this._movable=new r(a.domNode,{handle:b}),this._movableConnections=[this.own(x(this._movable,"Move",d.hitch(this,this._onMove)))[0],this.own(x(this._movable,"FirstMove",d.hitch(this,
this._onFirstMove)))[0],this.own(x(this._movable,"MoveStop",d.hitch(this,this._onMoveStop)))[0],this.own(x(this._movable,"MoveStart",d.hitch(this,this._onMoveStart)))[0]],this._moveHandle=b)},_makeResizable:function(a){var b="xy",d;this._destroyResizer();if(a){if(a.dashboardElementType===l.dashboardElementType.CELL||a.dashboardElementType===l.dashboardElementType.STATIC_TEXT)if(b=a.containedWidget.getDataType(),"TEXT"===b||"STATIC_TEXT"===b)b="xy";else if("BOOLEAN"!==b&&"NONE"!==b)b="x";else return;
else if(a.isFixedWidth()||a.isFixedHeight())return;d=t.create("div");a.domNode.appendChild(d);a=new f({targetId:a.domNode.id,activeResize:!0,minHeight:20,minWidth:100,resizeAxis:b,showHandle:!0},d);a.startup();this._resizer=a}},_onFirstMove:function(){this._nodePageOffset=u.position(this.domNode,!0)},_onMove:function(b,e,g){b=this._spacing;a.autoScrollNodes(g);e=g.pageX-this._nodePageOffset.x;var h=g.pageY-this._nodePageOffset.y,r=null,f=null,t=this._layoutRegions,r=this._getOverWidgetRegion(e,h);
if(f=this._getOverLayoutRegion(e,h)){var k=f.layoutPosition.clone({columnIndex:-1,subRowIndex:-1,subColumnIndex:-1}),m=t[k.toString()].box,u=f.layoutPosition.clone({subRowIndex:-1,subColumnIndex:-1});g=t[u.toString()].box;if(r){var n=r.box,v=r.layoutPosition,r=v,f=d.clone(n),t=t[v.toString()].box,l=Math.floor(100*((e-n.l)/n.w)),x=Math.floor(100*((n.l+n.w-e)/n.w)),z=Math.floor(100*((h-n.t)/n.h)),w=Math.floor(100*((n.t+n.h-h)/n.h));switch(Math.min(l,x,z,w)){case l:e<g.l+Math.min(2*b.horizontal,n.w/
4)?(r=u,f=d.mixin(d.clone(g),{h:m.h})):f=d.clone(t);f.w=b.horizontal;f.t+=b.vertical;f.h-=b.vertical;break;case x:e>g.l+g.w-Math.min(b.horizontal,n.w/4)?(r=u.clone({columnIndex:u.getColumnIndex()+1}),f=d.mixin(d.clone(g),{l:-1<v.getSubColumnIndex()?g.l+g.w:n.l+n.w})):-1<v.getSubColumnIndex()?(r=v.clone({subColumnIndex:v.getSubColumnIndex()+1}),f=d.mixin(d.clone(t),{l:n.l+n.w})):(r=v.clone({columnIndex:v.getColumnIndex()+1}),f=d.mixin(d.clone(g),{l:n.l+n.w}));f.h-=b.vertical;f.t+=b.vertical;f.w=b.horizontal;
break;case z:h<m.t+Math.min(2*b.vertical,n.h/4)?(r=k,f=d.clone(m)):-1<v.getSubRowIndex()?(r=v.clone({subColumnIndex:-1}),f=d.mixin(d.clone(g),{t:t.t})):1<this._getLayoutObjForLayoutPosition(k).columns.length?(r=u.clone({subRowIndex:0,subColumnIndex:0}),f=d.clone(g)):(r=k,f=d.clone(m));f.h=b.vertical;f.l+=b.horizontal;f.w-=b.horizontal;break;case w:h>m.t+m.h-Math.min(b.vertical,n.h/4)?(r=k.clone({rowIndex:k.getRowIndex()+1}),f=d.mixin(d.clone(m),{t:m.t+m.h})):-1<v.getSubRowIndex()?(r=v.clone({subRowIndex:v.getSubRowIndex()+
1,subColumnIndex:-1}),e=v.clone({subColumnIndex:-1}),f=d.mixin(d.clone(g),{t:1<this._getLayoutObjForLayoutPosition(e).subColumns.length?t.t+t.h:n.t+n.h})):1<this._getLayoutObjForLayoutPosition(k).columns.length?(r=u.clone({subRowIndex:1,subColumnIndex:0}),f=d.mixin(d.clone(g),{t:n.t+n.h})):(r=k.clone({rowIndex:k.getRowIndex()+1}),f=d.mixin(d.clone(m),{t:m.t+m.h})),f.h=b.vertical,f.w-=b.horizontal,f.l+=b.horizontal}}else n=f.box,v=f.layoutPosition,f=this._getWidgetBox(n.widgetId),e>f.l+f.w?(e>g.l+
g.w-Math.min(b.horizontal,f.w/4)?(r=u.clone({columnIndex:u.getColumnIndex()+1}),f=d.mixin(d.clone(g),{l:-1<v.getSubColumnIndex()?g.l+g.w:f.l+f.w})):-1<v.getSubColumnIndex()?(r=v.clone({subColumnIndex:v.getSubColumnIndex()+1}),f=d.mixin(d.clone(n),{l:f.l+f.w})):(r=v.clone({columnIndex:v.getColumnIndex()+1}),f=d.mixin(d.clone(g),{l:f.l+f.w})),f.h-=b.vertical,f.t+=b.vertical,f.w=b.horizontal):(h>m.t+m.h-Math.min(b.vertical,f.h/4)?(r=k.clone({rowIndex:k.getRowIndex()+1}),f=d.mixin(d.clone(m),{t:m.t+m.h})):
-1<v.getSubRowIndex()?(r=v.clone({subRowIndex:v.getSubRowIndex()+1,subColumnIndex:-1}),e=v.clone({subColumnIndex:-1}),f=d.mixin(d.clone(g),{t:1<this._getLayoutObjForLayoutPosition(e).subColumns.length?n.t+n.h:f.t+f.h,l:g.l,w:g.w})):1<this._getLayoutObjForLayoutPosition(k).columns.length?(r=u.clone({subRowIndex:1,subColumnIndex:0}),f=d.mixin(d.clone(g),{t:f.t+f.h})):(r=k.clone({rowIndex:k.getRowIndex()+1}),f=d.mixin(d.clone(m),{t:m.t+m.h})),f.h=b.vertical,f.w-=b.horizontal,f.l+=b.horizontal);null===
r?null!==this._dropPosition&&(this._showNoopDropNode(),this._dropPosition=null):r.toString()!==this._dropPosition&&(b=new q({layoutPosition:this._layoutPositionMap[this.selected.id]}),p.isNoop(r,b,this._layoutObj)?null!==this._dropPosition&&(this._showNoopDropNode(),this._dropPosition=null):(this._showDropNode(f),this._dropPosition=r.toString()))}else this._dropPosition=null,this._hideDropNode()},_onMoveStart:function(){this._movableStartMarginBox=u.getMarginBox(this.selected.domNode);this._showNoopDropNode()},
_onMoveStop:function(){var a=this.selected.id,e=this._moveHandle,g=this.selected.domNode,h=function(a){b.toggle(e,"dojoMoveItem",a);b.toggle(g,"dojoMoveItem",a)};null===this._dropPosition||this._layoutPositionMap[a]===this._dropPosition?(h(!0),z.slideTo({node:g,easing:y.quadIn(),top:this._movableStartMarginBox.t,left:this._movableStartMarginBox.l,duration:250,onEnd:d.partial(h,!1)}).play(),setTimeout(d.hitch(this,"_reset"),25)):setTimeout(d.hitch(this,"emit","change",{layoutPositionChange:{widgetId:a,
layoutPosition:this._dropPosition}}),25)},_onWidgetFocus:function(a){this.set("selected",a)},_removeWidgetEventHandlers:function(){e.forEach(this._widgetEventHandlers,function(a){a.remove()})},_removeWidgetStyles:function(){e.forEach(this._widgets,function(a){E(a,!1)})},_reset:function(){this._dropPosition=null;this._movable&&b.toggle(this._movable.node,"dojoMoveItem",!1);this._removeWidgetEventHandlers();this._destroyBorderRegions();this._destroyDropNode();this._widgets.length?(this._layoutObj=p.parseLayoutPositionMap(this._layoutPositionMap),
this._layoutRegions=this._getLayoutRegions(),this._createBorderRegions(),this._createDropNode(),this._addWidgetEventHandlers(),v.set(this.domNode,{borderRightWidth:this._spacing.horizontal+"px",borderBottomWidth:this._spacing.vertical+"px"})):v.set(this.domNode,{borderRightWidth:"0",borderBottomWidth:"0"})},_setSelectedAttr:function(a){a=a&&a.isInstanceOf(s)?a:null;E(this.selected,!1);E(a,!0);this._makeMovable(a);this._makeResizable(a);this._makeDeleteButton(a);this._set("selected",a)},_showNoopDropNode:function(){var a=
this._getWidgetBox(this.selected.id);this._showDropNode(a)},_showDropNode:function(a){a?(u.setMarginBox(this._dropNode,a),v.set(this._dropNode,"visibility","visible")):this._hideDropNode()},_startResize:function(a){var d=this._movable;if(this._resizer&&!(this._resizer.id!==a.id||d.node.id!==a.targetId))b.toggle(d.node,"dojoMoveItem",!0),this._movableWidgetId=a.targetId},_stopResize:function(a){var b=this._movableWidgetId,e,g;b&&(e=u.position(a.targetId),g={},a=a.get("resizeAxis"),-1!==a.indexOf("x")&&
(g.w=e.w),-1!==a.indexOf("y")&&(g.h=e.h),this._movableWidgetId=null,setTimeout(d.hitch(this,"emit","change",{sizeChange:{widgetId:b,box:g}}),25))}})})},"anaplan/api/Entity/View":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){p.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");k=a._iframeName;k=k.substring(0,k.lastIndexOf("_"));var r=q.delegate(a,{create:function(){return r._frame=a.create.apply(a,arguments)},get:null,post:null,send:function(b){var e,g=f._ioSetArgs(b,function(a){e&&e.cancel()},function(a){var b=null;a=a.ioArgs;try{var d=a.handleAs;"xml"===d||"html"===d?b=e.response.data:(b=e.response.text,"json"===d?b=s.fromJson(b):"javascript"===d&&(b=p.eval(b)))}catch(g){b=
g}return b},function(a,b){b.ioArgs._hasError=!0;return a}),h=g.ioArgs,r="GET",k=m.byId(b.form);b.method&&("POST"===b.method.toUpperCase()&&k)&&(r="POST");b={method:r,handleAs:"json"===b.handleAs||"javascript"===b.handleAs?"text":b.handleAs,form:b.form,query:k?null:b.content,data:k?b.content:null,timeout:b.timeout,ioArgs:h};b.method&&(b.method=b.method.toUpperCase());if(l.ioPublish&&p.publish&&!1!==h.args.ioPublish)var n=d.after(a,"_notifyStart",function(a){a.options.ioArgs===h&&(n.remove(),f._ioNotifyStart(g))},
!0);e=a(h.url,b,!0);h._callNext=e._callNext;e.then(function(){g.resolve(g)}).otherwise(function(a){g.ioArgs.error=a;g.reject(a)});return g},_iframeOnload:n.global[k+"_onload"]});q.setObject("dojo.io.iframe",r);return r})},"anaplan/actions/_ActionMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred anaplan/data/ModelContentCache anaplan/data/AggregatorObserver anaplan/Exceptions anaplan/utils/SubmissionHandler".split(" "),function(l,s,p,q,f,k,n){return l(null,{filterPropertyEntityLongIds:null,
hierarchyEntityLongId:-1,multiSelectHierarchyEntityLongId:-1,propertyEntityLongId:-1,selectedItems:null,constructor:function(){this.selectedItems=[];this.filterPropertyEntityLongIds=[]},onCancel:function(){},onComplete:function(f){},onError:function(f){console.error(this.id+": onError",f)},_assertIsNumberedList:function(f){return(f=q.getHierarchySubsetInfo(f)?q.getHierarchyInfoForHierarchySubsetEntityLongId(f):q.getHierarchyInfo(f))?f.isNumberedList:!1},_doGather:function(m,h,e){var g=new p,d;if(-1===
this.hierarchyEntityLongId)throw new k.ClientException("anaplan.actions._ActionMixin#_doGather: hierarchyEntityLongId not set");d=new f({hierarchyEntityLongId:this.hierarchyEntityLongId,handleError:!0});(new n({aggregatorObserver:d,showPleaseWait:!1})).gather(m,h,e).then(s.hitch(this,function(a){d.destroy();g.resolve(a)}),s.hitch(this,function(a){d.destroy();g.reject(a)}));return g},_getEntityTypeIndexOfListItems:function(f){return q.getEntityTypeIndexOfListItems(f)},_isValid:function(){return this._assertIsNumberedList(this.hierarchyEntityLongId)}})})},
"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(l,s,p){var q={},f={},k={length:0,add:function(k){if(f[k.id])throw Error("Tried to register widget with id\x3d\x3d"+k.id+" but that id is already registered");f[k.id]=k;this.length++},remove:function(k){f[k]&&(delete f[k],this.length--)},byId:function(k){return"string"==typeof k?f[k]:k},byNode:function(k){return f[k.getAttribute("widgetId")]},toArray:function(){var k=[],m;for(m in f)k.push(f[m]);return k},
getUniqueId:function(k){var m;do m=k+"_"+(k in q?++q[k]:q[k]=0);while(f[m]);return"dijit"==p._scopeName?m:p._scopeName+"_"+m},findWidgets:function(k,m){function h(g){for(g=g.firstChild;g;g=g.nextSibling)if(1==g.nodeType){var d=g.getAttribute("widgetId");d?(d=f[d])&&e.push(d):g!==m&&h(g)}}var e=[];h(k);return e},_destroyAll:function(){p._curFocus=null;p._prevFocus=null;p._activeStack=[];l.forEach(k.findWidgets(s.body()),function(f){f._destroyed||(f.destroyRecursive?f.destroyRecursive():f.destroy&&
f.destroy())})},getEnclosingWidget:function(k){for(;k;){var m=1==k.nodeType&&k.getAttribute("widgetId");if(m)return f[m];k=k.parentNode}return null},_hash:f};return p.registry=k})},"anaplan/common/BreakbackHoldStatus":function(){define(["dojo/_base/declare","dojo/_base/lang","anaplan/common/_DefinitionBase"],function(l,s,p){return l(p,{breakbackHeldCells:null,breakbackHeldCellsCount:0,_serializableProperties:["breakbackHeldCells","breakbackHeldCellsCount","errorMessages"],constructor:function(l){l&&
s.mixin(this,l)},getBreakbackHeldCells:function(){return this.breakbackHeldCells?s.clone(this.breakbackHeldCells):null},getBreakbackHeldCellsCount:function(){return this.breakbackHeldCellsCount},getErrorMessages:function(){return this.errorMessages||[]}})})},"anaplan/widgets/PivotComponent":function(){define("anaplan/utils/UIHelper anaplan/data/ModelContentCache dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/constants anaplan/dnd/Manager anaplan/utils/EntityLongIdHelper anaplan/data/ModelContentHelper anaplan/widgets/PivotComponent/_LineItemsDialog anaplan/widgets/Dialog anaplan/widgets/DimensionItem anaplan/widgets/DimensionItemGroup dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/pivotComponent dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/dom-style dojo/dom-attr dojo/on dojo/text!anaplan/templates/PivotComponent.html anaplan/widgets/PivotComponentDropArea anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){return v([q,f,k],{baseClass:"pivotComponent",templateString:E,_dndManager:null,onCancel:function(){},onChange:function(){},onSubmit:function(){},postCreate:function(){try{this.inherited(arguments),l.setText(this.pagesHeading,u.labelPages),l.setText(this.columnsHeading,u.labelColumns),l.setText(this.rowsHeading,u.labelRows),this.okButton.set("label",b.buttonOk),this.cancelButton.set("label",b.buttonCancel),this._dndManager||(this._dndManager=
new m(dojo.body())),w.after(this._dndManager,"onDrop",z.hitch(this,"_onDrop")),this.pagesBox.set("dndManager",this._dndManager),this.rowsBox.set("dndManager",this._dndManager),this.columnsBox.set("dndManager",this._dndManager),this._pagesDropZone=this._dndManager.createDropZone(this.pagesBox),this._rowsDropZone=this._dndManager.createDropZone(this.rowsBox),this._columnsDropZone=this._dndManager.createDropZone(this.columnsBox),this._populateRows(),this._populateColumns(),this._populatePages()}catch(a){l.throwClientException(this,
a)}},resize:function(a){try{this.inherited(arguments),this.pagesBox.resize(a),this.columnsBox.resize(a),this.rowsBox.resize(a)}catch(b){l.throwClientException(this,b)}},setIsValid:function(a){try{this.okButton.set("disabled",!a)}catch(b){l.throwClientException(this,b)}},setValidationMessage:function(a){try{if(a){var b=a;60<a.length&&(b=p.trim(a.substring(0,60))+"...");l.setText(this.validationMsg,b);A.set(this.validationMsg,"title",a);x.set(this.validationMsg,"display","")}else l.setText(this.validationMsg,
""),A.set(this.validationMsg,"title",""),x.set(this.validationMsg,"display","none")}catch(d){l.throwClientException(this,d)}},startup:function(){try{this.inherited(arguments),this.onChange(this.get("axisDefinitions"),this.get("lineItemNames"))}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._dndManager&&this._dndManager.destroy(),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},_addDimensionItem:function(b,d,e,g,h){d=new a({entityLongId:e,iconClass:g,
label:d,axisDefinition:h||null});d=this._dndManager.createDraggableItem(d);b.addDraggableItem(d);return d},_addDimensionItemGroup:function(a){var b=null;try{var d=new r({dndManager:this._dndManager}),e=this._dndManager.createDraggableItem(d),b=this._dndManager.createDropZone(d);a.addDraggableItem(e)}catch(g){l.throwClientException(this,g)}return b},_addDimensionItems:function(a,b,d){y.forEach(b,function(b,g){var f=e.getLabelForDimensionIdentifier(s,b),r;f&&(r=e.getIconClassForDimensionIdentifier(b),
this._addDimensionItem(a,f,h.entityLongIdIdentifierToEntityLongId(b),r,d[g]))},this)},_displayLineItemsDialog:function(){try{var a=new d({title:u.titleEnterLineItems,"class":"fastInsertDialog"}),b=this._lineItemsDraggableItem.getWidget(),e=new g({value:b.get("value")});a.set("content",e.domNode);var h=D(e,"SetLineItems",function(d){b.set("value",d);a.hide()}),f=D(e,"Cancel",function(){a.hide()}),r=D(a,"Hide",function(){h.remove();f.remove();r.remove();var b=setInterval(function(){"none"===a.domNode.style.display&&
(clearInterval(b),a.set("content",null),a.destroy())},250)});a.show()}catch(t){l.throwClientException(this,t)}},_getDndManagerAttr:function(){return this._dndManager},_getDropZoneValue:function(b,d){var e=[];y.forEach(b.getItems(),function(b){var g=b.getWidget();g.isInstanceOf(a)?(b=g.get("axisDefinition")||h.entityLongIdToEntityLongIdIdentifier(g.get("entityLongId")),e.push(d?b:[b])):e.push(this._getDropZoneValue(this._dndManager.getDropZoneById(b.id),!0))},this);return e},_getAxisDefinitionsAttr:function(){return e.getAxesSpecificationsForViewDefinition(this._getDropZoneValue(this._rowsDropZone),
this._getDropZoneValue(this._columnsDropZone),this._getDropZoneValue(this._pagesDropZone))},_getLineItemNamesAttr:function(){var a=[];try{if(this._lineItemsDraggableItem)for(var b=this._lineItemsDraggableItem.getWidget().get("value"),d=p.trim(b).split("\n"),e=d.length,g,b=0;b<e;b++)g=p.trim(d[b]),""!==g&&a.push(g)}catch(h){l.throwClientException(this,h)}return a},_onCancel:function(a){this.onCancel()},_onDrop:function(){try{this._lineItemsDraggableItem&&this._lineItemsDraggableItem.getWidget().set("expanded",
this._lineItemsDraggableItem.getDropZone()===this._rowsDropZone),this.onChange(this.get("axisDefinitions"),this.get("lineItemNames"))}catch(a){l.throwClientException(this,a)}},_onOk:function(a){this.onSubmit(this.get("axisDefinitions"),this.get("lineItemNames"))},_populateColumns:function(){try{this._pageInfo?this._populateSource(this._columnsDropZone,this._pageInfo.columnAxisSpecification,!0):this._addDimensionItem(this._columnsDropZone,t.labelTime,n.SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID,"anaplanEditorIconTime")}catch(a){l.throwClientException(this,
a)}},_populatePages:function(){try{this._pageInfo&&y.forEach(this._pageInfo.pageAxisSpecifications,function(a){this._populateSource(this._pagesDropZone,a,!1)},this)}catch(a){l.throwClientException(this,a)}},_populateRows:function(){try{if(this._pageInfo)this._populateSource(this._rowsDropZone,this._pageInfo.rowAxisSpecification,!0);else{var a=this._addDimensionItem(this._rowsDropZone,t.labelLineItems,n.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID,"anaplanEditorIconLineItems"),b=a.getWidget();b.set("expanded",
!0);b.set("editable",!0);D(b,"Edit",z.hitch(this,"_displayLineItemsDialog"));this._lineItemsDraggableItem=a}}catch(d){l.throwClientException(this,d)}},_populateSource:function(a,b,d){var g=e.getAllDimensionIdentifiersForAxisSpecification(b);b=e.splitAxisSpecification(b);b.length&&b.length!==g.length&&(console.error("anaplan.widgets.PivotComponent#_populateSource: dimensionIdentifiers do not match axis definitions"),b=[]);d&&1<g.length?this._addDimensionItems(this._addDimensionItemGroup(a),g,b):this._addDimensionItems(a,
g,b)},_setDndManagerAttr:function(a){this._dndManager=a},_setPageInfoAttr:function(a){this._pageInfo=a},_splitCharactersOnToNewLines:function(a){var b=[];try{for(var d=a.length,e=0;e<d;e++)b.push(a.charAt(e)),e+1<d&&b.push("\x3cbr\x3e")}catch(g){l.throwClientException(this,g)}return b.join("")},_setTimeRangeLabelOnTimeDimension:function(a){for(var b=this._dndManager.getItems(),d=b.length,e,g,h=0;h<d;h++)e=b[h],g=e.getWidget(),g=g.get("entityLongId"),g===n.SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID&&
e.getWidget().set("label",a)}})})},"anaplan/view/ManageImportSources/_EditUploadedText":function(){define("anaplan/anapediaKeys anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator anaplan/data/ModelContentCache dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained anaplan/widgets/HelpBox dojo/data/ItemFileReadStore anaplan/utils/EntityLongIdHelper dijit/layout/utils dojo/dom-construct dojo/dom-attr dojo/window dojo/json dojo/dom-style dojo/dom-geometry dojo/_base/kernel dojo/_base/lang anaplan/Exceptions anaplan/data/RequestFactory dojo/has dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/EditUploadedText.html dojo/store/Memory anaplan/widgets/ConfirmationDialog dojo/on dojo/_base/array dojo/_base/sniff dijit/form/FilteringSelect dijit/form/CheckBox dijit/form/TextBox dijit/form/FilteringSelect dijit/form/NumberSpinner dijit/layout/ContentPane anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K){return k([n,m,h,e],{templateString:G,baseClass:"manageImportSources_EditUploadedText",tabIndex:-1,widgetsInTemplate:!0,lblEncoding:B.labelTextEncoding,lblColumnSeparators:B.labelColumnSeparators,lblTextDelimiter:B.labelTextDelimiter,lblDecimalSeparator:B.labelDecimalSeparator,lblHeaderRow:B.labelHeaderRow,lblFirstDataRow:B.labelFirstDataRow,lblSave:C.buttonSave,lblCancel:C.buttonCancel,lblNext:B.buttonNext,lblImportSharing:B.labelAvailableTo,
lblImportSharingNew:B.labelAvailableToNew,lblImportSharingReplace:B.labelAvailableToReplace,FILE_AVAILABLE_TO_ME:0,FILE_AVAILABLE_TO_ADMINS:1,FILE_AVAILABLE_TO_ALL:2,AVAILABILITY_LABELS:{"0":B.labelAvailableToMe,1:B.labelAvailableToOtherAdmins,2:B.labelAvailableToGeneral},constructor:function(a){this._resizeEnabled=!0;this._workspaceId=a.workspaceId;this._modelId=a.modelId},onDialogHide:function(){this._onHide()},onHide:function(){this._stopResizeMonitor()},_onShow:function(){this.onTitleChange(B.titleFileOptions);
this.onHelpChange(l.importDataIntegration);this._resizeView();this._startResizeMonitor()},postCreate:function(){try{this.inherited(arguments);var a=f.getAvailableCharsets();a?(this.setAvailableCharsets(a),this.setSharingOption()):console.warn(this.declaredClass+"._EditUploadedText postCreate expected to find availableCharsets and did not")}catch(b){s.throwClientException(this,b)}},resize:function(a){try{if(!a||!(0>=a.h||0>=a.w)){var b=x.mixin(y.getMarginBox(this.domNode),a||{}),d=y.getMarginBox(this.fixedContent),
e=Math.max(0,b.h-Math.ceil(d.h+2));z.set(this.previewPane.domNode,{height:e+"px",width:b.w+"px"});this._initialResizeDone=!0;this._previewMayBeStale&&this._onChange()}}catch(g){s.showErrorReporter(new A.ClientException(this.declaredClass+".resize",g,{widgetId:this.id},event))}},setAvailableCharsets:function(a){try{var b=new d({data:{identifier:"identifier",label:"label",items:a}});this.encodingSelect.set("store",b);this.encodingSelect.reset();this._availableCharsetsStore=b}catch(e){s.throwClientException(this,
e)}},setSharingOption:function(a){var b;if(!1!==this._editing)a===this.FILE_AVAILABLE_TO_ADMINS||a===this.FILE_AVAILABLE_TO_ALL?(b=new H({idProperty:"value",data:[{value:this.FILE_AVAILABLE_TO_ADMINS,label:B.labelAvailableToOtherAdmins},{value:this.FILE_AVAILABLE_TO_ALL,label:B.labelAvailableToGeneral}]}),this.sharingOptionSelect.set("store",b),this.sharingOptionSelect.set("value",a),s.setText(this.sharingOptionLabel,this.lblImportSharing),this._setSharingOptionEditable(!0),this._setSharingStatusVisible(!1)):
(this._setSharingOptionEditable(!1),this._setSharingStatusVisible(!0)),!0===this._editing&&(a===this.FILE_AVAILABLE_TO_ME?(s.setText(this.sharingOptionReadOnlyLabel,""),s.setText(this.sharingOptionReadOnly,B.labelAvailableToMeEdit)):(s.setText(this.sharingOptionReadOnlyLabel,this.lblImportSharing),s.setText(this.sharingOptionReadOnly,this.AVAILABILITY_LABELS[a])));else{var d=B.labelAvailableToNew;b=B.labelAvailableToMeNew;var e=B.labelAvailableToOtherAdmins,g=B.labelAvailableToGeneral;if(a===this.FILE_AVAILABLE_TO_ADMINS||
a===this.FILE_AVAILABLE_TO_ALL)d=B.labelAvailableToReplace;b=new H({idProperty:"value",data:[{value:this.FILE_AVAILABLE_TO_ME,label:b},{value:this.FILE_AVAILABLE_TO_ADMINS,label:e},{value:this.FILE_AVAILABLE_TO_ALL,label:g}]});this.sharingOptionSelect.set("store",b);this.sharingOptionSelect.set("value",this.FILE_AVAILABLE_TO_ME);s.setText(this.sharingOptionLabel,d);s.setText(this.sharingOptionReadOnlyLabel,this.lblImportSharing);s.setText(this.sharingOptionReadOnly,this.AVAILABILITY_LABELS[a]);this._setSharingOptionEditable(!0);
this._setSharingStatusVisible(!0)}},getSharingOption:function(){return!this.sharingOptionSelect||!this.sharingOptionSelect.item?this.FILE_AVAILABLE_TO_ME:this.sharingOptionSelect.item.value},setImportSource:function(a){this._importSource=a;a=v.parse(a.definitionJson);this.setSourceDefinition(a)},setProceedToImportMapping:function(a){a=!0===a?!0:!1;this.saveButton.toggle(!1===a);this.nextButton.toggle(a);this._editing=!1===a},setSourceDefinition:function(a){try{this._sourceDefinition=a;this._previewSourceDefinitionJson=
null;this._previewLoaded=!1;this.encodingSelect.setValue(a.textEncoding);for(var b=!1,d=!1,e=!1,g="",h=a.columnSeparators||"\t",f=0;f<h.length;++f){var r=h.charAt(f);"\t"===r?b=!0:","===r?d=!0:";"===r?e=!0:g+=r}this.tabCheckBox.setValue(b);this.commaCheckBox.setValue(d);this.semicolonCheckBox.setValue(e);this.otherCheckBox.setValue(0<g.length);this.otherTextBox.setValue(g);this.textDelimiterSelect.setValue(!a.textDelimiter||"\x00"===a.textDelimiter?"_":a.textDelimiter);b="";","===a.decimalSeparator?
b="comma":"."===a.decimalSeparator&&(b="dot");this.decimalSeparatorSelect.setValue(b);var t=a.headerRow||1;!1===0<=t&&(t=0);this.headerRowSpinner.setValue(t);var k=a.firstDataRow||2;!1===k>t&&(k=t+1);this.firstDataRowSpinner.setValue(k);this._onChange()}catch(m){s.throwClientException(this,m)}},uninitialize:function(){try{this._stopResizeMonitor(),this._confirmationDialog&&this._confirmationDialog.destroy(),this.inherited(arguments)}catch(a){s.throwClientException(this,a)}},_onCancel:function(){this.onCancel()},
_onCancelButtonClick:function(){this._onCancel()},_onChange:function(a){try{var b=this;setTimeout(function(){try{b._refreshPreview()}catch(a){}},300)}catch(d){s.showErrorReporter(new A.ClientException(this.declaredClass+"_onChange",d,{widgetId:this.id},a))}},_onHeaderRowChange:function(a){try{var b=parseInt(this.headerRowSpinner.get("value"),10);parseInt(this.firstDataRowSpinner.get("value"),10)<=b&&this.firstDataRowSpinner.set("value",b+1);this._onChange(a)}catch(d){s.showErrorReporter(new A.ClientException(this.declaredClass+
"._onHeaderRowChange",d,{widgetId:this.id},a))}},_onFirstDataRowChange:function(a){try{var b=parseInt(this.headerRowSpinner.get("value"),10),d=parseInt(this.firstDataRowSpinner.get("value"),10);d<=b&&this.headerRowSpinner.set("value",d-1);this._onChange(a)}catch(e){s.showErrorReporter(new A.ClientException(this.declaredClass+"._onFirstDataRowChange",e,{widgetId:this.id},a))}},_onNextButtonClick:function(){if(this._updateSourceDefinition(this._sourceDefinition))if(!1===this._editing&&this.getSharingOption()!==
this.FILE_AVAILABLE_TO_ME){var a=this,b=a._getConfirmationDialog();this.getSharingOption()===a.FILE_AVAILABLE_TO_ALL?(b.set("title",B.confirmAvailableAllTitle),b.set("content",B.confirmAvailableAll)):(b.set("title",B.confirmAvailableAdminTitle),b.set("content",B.confirmAvailableAdmins));var d=F(b,"execute",x.hitch(a,function(){a.onNext(this._importSource,this._sourceDefinition)}));a.own(d);a._confirmationHandles.push(d);b.show()}else this.onNext(this._importSource,this._sourceDefinition)},_onOtherTextBoxChange:function(){this.otherCheckBox.set("checked",
this.otherTextBox.get("value")&&!0);this._onChange()},_onSaveButtonClick:function(){this._updateSourceDefinition(this._sourceDefinition)&&this._confirmSave(this._sourceDefinition)},_getConfirmationDialog:function(){this._confirmationDialog?K.forEach(this._confirmationHandles,function(a){a.remove()}):(this._confirmationDialog=new L({buttons:[{label:B.confirmYes,isPrimary:!0},{label:B.confirmNo,isCancel:!0}]}),this._confirmationHandles=[]);return this._confirmationDialog},_confirmSave:function(a){var b=
this.getSharingOption();if(b!==this.FILE_AVAILABLE_TO_ME){var d=this,e=d._getConfirmationDialog();b===d.FILE_AVAILABLE_TO_ALL?(e.set("title",B.confirmAvailableAllTitle),e.set("content",B.confirmAvailableAll)):(e.set("title",B.confirmAvailableAdminTitle),e.set("content",B.confirmAvailableAdmins));b=F(e,"execute",x.hitch(d,function(){d.onSave(a)}));d.own(b);d._confirmationHandles.push(b);e.show()}else this.onSave(a)},_refreshPreview:function(){try{if(this._previewLoading||!this._initialResizeDone)this._previewMayBeStale=
!0;else{var d={dataSourceType:"UPLOADED_FILE"};this._updateSourceDefinition(d);this._previewMayBeStale=!1;var e=v.stringify(d);if(!(e==this._previewSourceDefinitionJson&&this._previewLoaded)){this._previewSourceDefinitionJson=e;this._previewLoading=!0;this._previewLoaded||this.previewPane.set("content",b.create("div",{"class":"loading"}));var g={actionId:"PREVIEW_IMPORT_SOURCE",params:x.mixin(this._credentials||{},{modelId:this._modelId,locale:w.locale,importDataSourceEntityIndex:a.getEntityIndex(this._importSource.entityLongId),
importDataSourceDefinition:e,edit:this._editing})},h=D.createRequest(this._workspaceId,[],[],[g]),f=this;q.post(h,!1,function(a){try{if(!a||a.error||!a.result)f._previewLoading=!1,f.previewPane.set("content",b.create("div")),f._setSharingOptionEditable(!1);else{var e=a.result;if(!e.systemActionResults||!e.systemActionResults.length)f._previewLoading=!1,f.previewPane.set("content",b.create("div")),f._setSharingOptionEditable(!1);else{var g=e.systemActionResults[0],h=b.create("div");if(g.successful){!0!==
f._previewLoaded&&f.setSharingOption(0<=g.sharingOption?g.sharingOption:f.FILE_AVAILABLE_TO_ME);var r=g.preview;a=1;for(e=0;e<r.length;++e)a=Math.max(a,r[e].length);for(var t=b.create("table",{"class":"previewTable"},h),k=b.create("tbody",null,t),t=0;t<r.length;++t){e="dataRow";t+1==d.headerRow?e="headerRow":t+1<d.firstDataRow&&(e="ignoredRow");for(var m=b.create("tr",{"class":e},k),u=r[t],e=0;e<a;++e){g="";e<u.length&&(g=u[e]);var n=b.create("td",null,m),l=b.create("div",{"class":"previewCell"},
n);s.setText(l,g||"\u00a0")}}}else f._setSharingOptionEditable(!1),h.innerHTML=p.escapeHTML(g.errorDetail.localMessageText),console.error("Failed to retrieve preview: "+v.stringify(g.errorDetail));f.previewPane.set("content",h);f._previewLoading=!1;f._previewMayBeStale&&f._previewLoaded&&f._refreshPreview();f._previewLoaded=!0}}}catch(x){console.error(x),f._previewLoading=!1,f.previewPane.set("content",b.create("div"))}},function(){f._previewLoading=!1;console.error("Failed to retrieve preview");
f.previewPane.set("content",b.create("div"))})}}}catch(r){f._previewLoading=!1,f.previewPane.set("content",b.create("div")),console.error(r)}},_resizeView:function(){try{var a=this,b=function(){var b=u.getBox();y.setMarginBox(a.domNode,{h:b.h-200,w:b.w-280});a._viewport=b;a.getParent().resize()};7===E("ie")?setTimeout(function(){try{b()}catch(a){}},25):b()}catch(d){s.throwClientException(this,d)}},_setSharingOptionEditable:function(a){z.set(this.sharingOptionSelectDiv,{display:a?"flex":"none"});z.set(this.sharingOptionReadOnlyDiv,
{display:a?"none":"flex"});this.sharingOptionSelect.set("disabled",!a)},_setSharingStatusVisible:function(a){z.set(this.sharingOptionReadOnlyDiv,{display:a?"flex":"none"})},_startResizeMonitor:function(){try{var a=this;this._resizeMonitorHandle=setInterval(function(){try{var b=u.getBox();(b.h!==a._viewport.h||b.w!==a._viewport.w)&&a._resizeView()}catch(d){console.error(a.id+": error in resize monitor",d)}},150)}catch(b){s.throwClientException(this,b)}},_stopResizeMonitor:function(){try{this._resizeMonitorHandle&&
clearInterval(this._resizeMonitorHandle)}catch(a){s.throwClientException(this,a)}},_updateSourceDefinition:function(a){try{var b=!0;a.textEncoding=t.get(this.encodingSelect,"value");var d="";t.get(this.tabCheckBox,"checked")&&(d+="\t");t.get(this.commaCheckBox,"checked")&&(d+=",");t.get(this.semicolonCheckBox,"checked")&&(d+=";");t.get(this.otherCheckBox,"checked")&&(d+=dijit.byId("otherTextBox").get("value"));a.columnSeparators=d;a.textDelimiter=t.get(this.textDelimiterSelect,"value");"_"===a.textDelimiter&&
(a.textDelimiter="");var e=this.decimalSeparatorSelect.get("value");"comma"===e?a.decimalSeparator=",":"dot"===e?a.decimalSeparator=".":(this.decimalSeparatorSelect.focus(),b=!1);a.headerRow=this.headerRowSpinner.get("value");!1===0<=a.headerRow&&(a.headerRow=0);a.firstDataRow=this.firstDataRowSpinner.get("value");!1===a.firstDataRow>a.headerRow&&(a.firstDataRow=a.headerRow+1);a.headerRow=a.headerRow.toString();a.firstDataRow=a.firstDataRow.toString();return b}catch(g){s.throwClientException(this,
g)}},onTitleChange:function(){},onHelpChange:function(){},onNext:function(){},onCancel:function(){},onSave:function(){}})})},"anaplan/preloader":function(){define("anaplan/constants anaplan/utils/UrlHelper anaplan/data/ModelContentCache anaplan/utils/SubmissionHandler dojo/_base/declare dojo/topic".split(" "),function(l,s,p,q,f,k){return f([],{load:function(f){return(new q({showPleaseWait:!1})).post([],[],this._getSystemActions(f.selectedWorkspaceId),!0).then(function(f){f=f.result.systemActionResults;
if(1<f.length){var h={};h[l.URL_IDS.ANAPEDIA_BASE_URL_ID]=f[1].url;h[l.URL_IDS.GET_HELP_FROM_THE_COMMUNITY_URL_ID]=f[2].url;h[l.URL_IDS.LIVE_CHAT_URL_ID]=f[3].url;h[l.URL_IDS.LAUNCHPAD_URL_ID]=s.getSingleIPUrl(f[4].url);h[l.URL_IDS.VIEWPROFILE_URL_ID]=s.getSingleIPUrl(f[5].url);h[l.URL_IDS.COMMUNITY_SEARCH_URL_ID]=f[6].url;h[l.URL_IDS.APPHUB_URL_ID]=f[7].url;h[l.URL_IDS.ANAPLAN_HOME_URL_ID]=f[8].url;h[l.URL_IDS.GLOBAL_NAV_API_URL_ID]=f[9].url;window.urlsMap=h;p.setAllCurrenciesLabelPage(f[10].allCurrenciesLabelPage);
p.setAvailableCharsets(f[11].items);p.setApplicationProperties(f[12]);p.setEntitlements(f[13].entitlements)}})},_getSystemActions:function(f){var k=[{actionId:l.SYSTEM_ACTIONS.GET_LOGGED_IN_USER}];if(!f)return k;[l.URL_IDS.ANAPEDIA_BASE_URL_ID,l.URL_IDS.GET_HELP_FROM_THE_COMMUNITY_URL_ID,l.URL_IDS.LIVE_CHAT_URL_ID,l.URL_IDS.LAUNCHPAD_URL_ID,l.URL_IDS.VIEWPROFILE_URL_ID,l.URL_IDS.COMMUNITY_SEARCH_URL_ID,l.URL_IDS.APPHUB_URL_ID,l.URL_IDS.ANAPLAN_HOME_URL_ID,l.URL_IDS.GLOBAL_NAV_API_URL_ID].forEach(function(h){k.push({actionId:l.SYSTEM_ACTIONS.GET_URL,
params:{urlId:h}})});[l.SYSTEM_ACTIONS.GET_ALL_CURRENCIES,l.SYSTEM_ACTIONS.GET_AVAILABLE_CHARSETS,l.SYSTEM_ACTIONS.GET_APPLICATION_PROPERTIES,l.SYSTEM_ACTIONS.GET_ENTITLEMENTS].forEach(function(h){k.push({actionId:h})});return k}})})},"anaplan/gridlet/_editor/MultiSelectTree":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory anaplan/utils/FormatHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/multiSelectTree dojo/i18n!dijit/nls/common dojo/i18n!dijit/nls/loading dojo/on dojo/string dojo/text!anaplan/templates/MultiSelectTree.html dojo/window anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G){return v([a,b,r,t],{baseClass:"multiSelectTree",templateString:C,constructor:function(a){this._value=[];this._hierarchyEntityLongId=a.hierarchyEntityLongId||null;this._hierarchyLabel=a.hierarchyLabel||null;this._userName=a.userName||null;this._isWriteAccess=a.isWriteAccess||null},focus:function(){this.okButton.focus()},onCancel:function(){},onSubmit:function(){},postCreate:function(){this.inherited(arguments);this.okButton.set("label",
A.buttonOk);this.cancelButton.set("label",A.buttonCancel);l.setText(this.loadingLabel,D.loadingState);l.setText(this.treeLabel,x.labelTree);l.setText(this.selectionListLabel,x.labelSelectionList);this._hierarchyLabel&&this._userName&&(this.instructions.innerHTML=B.substitute(x.labelUserAccessInstructions,{hierarchyLabel:d.cleanEscapeHTML(this._hierarchyLabel),userName:d.cleanEscapeHTML(this._userName),readOrWrite:this._isWriteAccess?x.labelWrite:x.labelRead}))},startup:function(){this.inherited(arguments);
this._loadTree()},uninitialize:function(){this._tree&&this._tree.destroy();this.inherited(arguments)},_addSelectionItem:function(a){var b=this._labelPage,d=u.indexOf(b.entityLongIds[0],a),g,h,f,r;-1===d?console.warn("anaplan.gridlet._editor.MultiSelectTree: item not found with entityLongId "+a):this._canAddItemToSelection(a)&&(g=this,h=y.create("div",{id:this._getSelectionItemId(a)}),f=y.create("div",{"class":"selectedItemLabel"},h),r=y.create("div",{"class":"selectedItemRemoveLink"},h),r=y.create("a",
{href:"#",onclick:function(){g._removeSelectionItem(a)}},r),y.create("div",{style:"clear: both;"},h),l.setText(f,e.getItemName(b,0,d,!1)),l.setText(r,x.labelRemove),y.place(h,this.selectionListContainer),-1===u.indexOf(this._value,a)&&this._value.push(a),G.scrollIntoView(h))},_addSelectionItems:function(a){var b=a.length,d;for(d=0;d<b;d++)this._addSelectionItem(a[d])},_buildTree:function(a){var b=this,d=w.getContentBox(this.treeContainer);this._tree=g.createSelector({widgetContainer:this.treeContainer,
labelPage:a,style:"width: "+d.w+"px; height: "+d.h+"px;",onSelectionChange:function(a){try{null!==a&&(-1===u.indexOf(b._value,a)?b._addSelectionItem(a):b._scrollToSelectionItem(a))}catch(d){l.showErrorReporter(new m.ClientException("anaplan.gridlet._editor.MultiSelectTree#onSelectionChange",d))}}});this._tree.own(E(this._tree,"dblclick",z.hitch(this,function(){this.onSubmit(this.get("value"))})))},_canAddItemToSelection:function(a){var b=!1;this._hierarchyEntityLongId?p&&(a=h.getEntityTypeIndex(a),
(a=p.getEntityType(a))&&this._hierarchyEntityLongId===a.hierarchyEntityLongId&&(b=!0)):b=!0;return b},_getItems:function(a){var b=[],d={},e,g,h;for(e=0;e<a.length;e++)g=a[e],h={index:e,name:g.name,children:[],entityLongId:g.entityLongId,parentEntityLongId:g.parentEntityLongId},d[g.entityLongId]=h;for(e=0;e<a.length;e++)g=a[e],h=d[g.entityLongId],-1!=g.parentEntityLongId?d[g.parentEntityLongId].children.push(h):b.push(h);return[{index:"root",name:"root",entityLongId:"root",children:b}]},_getSelectionItemId:function(a){return this.id+
":"+a},_getValueAttr:function(){return this._value.join()},_getView:function(a){return(new n(workspaceId)).getRequest({modelId:modelId,viewDefinition:this._getViewDefinition(a),pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new q,viewIndex:-1})},_getViewDefinition:function(a){var b=k.getAxesForViewDefinition([f.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER],[f.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER]);return z.mixin({type:"MODEL_DEFINITION",
staticContextIdentifiers:[a]},b)},_loadHierarchyTree:function(){var a=this,b=h.entityLongIdToEntityLongIdIdentifier(this._hierarchyEntityLongId),b=this._getView(b);s.post(b,!1,function(b){var d;if(b.result){b=b.result.viewRequestResults;1!==b.length&&console.warn("anaplan.gridlet._editor.MultiSelectTree expected single view request result found "+b.length);try{d=b[0],1!==d.rowLabelPages.length&&console.warn("anaplan.gridlet._editor._MultiSelectTree: "+d.rowLabelPages.length+" row label pages; expected 1"),
a.loading.style.display="none",a._labelPage=d.rowLabelPages[0],a._buildTree(a._labelPage),a._addSelectionItems(a._value)}catch(e){a.getParent()&&a.getParent().hide&&a.getParent().hide(),l.showErrorReporter(new m.ClientException("anaplan.gridlet._editor.MultiSelectTree#_loadTree",e,{widgetId:a.id}))}}},function(a){console.error(a)})},_loadModuleTree:function(){var a=p.getModulesLabelPage();this._labelPage=a;this.loading.style.display="none";this._buildTree(a);this._addSelectionItems(this._value)},
_loadTree:function(){this._hierarchyEntityLongId?this._loadHierarchyTree():this._loadModuleTree()},_onCancelButtonClick:function(a){this.onCancel()},_onOkButtonClick:function(a){this.onSubmit(this.get("value"))},_removeSelectionItem:function(a){var b=document.getElementById(this._getSelectionItemId(a));b&&y.destroy(b);a=u.indexOf(this._value,a);-1!==a&&this._value.splice(a,1)},_scrollToSelectionItem:function(a){(a=document.getElementById(this._getSelectionItemId(a)))&&G.scrollIntoView(a)},_setValueAttr:function(a){this._value=
void 0==a||0===a.length?[]:a.split(",")}})})},"anaplan/charts/TimelineChartOptions":function(){define("anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/widgets/TokenInput dojo/_base/array dojox/lang/functional dojo/data/ItemFileWriteStore dojo/date dojo/date/locale dojo/date/stamp anaplan/utils/UIHelper anaplan/constants dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/i18n!anaplan/nls/chartOptions dojo/i18n!anaplan/nls/dashboard dojo/keys dojo/on dojo/store/Memory dojo/topic dojo/text!anaplan/templates/TimelineChartOptions.html dijit/form/TextBox dijit/form/FilteringSelect dijit/form/DateTextBox dijit/form/RadioButton dijit/form/HorizontalSlider".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return b([a,d,r],{baseClass:"dataOptions",_options:null,region:"center",title:"Data",templateString:D,focus:function(){this.axisTitle.focus()},postCreate:function(){function a(){N.sliderHandle.innerHTML="\x3cdiv\x3e"+N.get("value")+"\x3c/div\x3e"}var b,d,f,r,u,n,z,y,q,A,D,P,N;this.inherited(arguments);for(b in v)this[b]&&e.setText(this[b],v[b]);b=s.getModuleInfo(this.moduleEntityLongId);d=s.getLineItemsLabelPage(this.moduleEntityLongId);f=
d.entityLongIds[0];r=d.labels[0];u=[];for(n=0;n<d.count;n++)z=f[n],y=l.getLineItemInfoFromModuleInfo(b,z),y=y.format,u.push({id:z,name:r[n],dataType:y.dataType});b=this._options.columnRange||{};d=g.chartOptions.columnRange;f=d.GRID_LINES;r=[d.START_POINT,d.END_POINT,d.BAR_LABEL,d.GROUP_BY];for(n=0;n<r.length;n++)z=r[n],y=this[z],y=new x({data:y.get("required")?u:[{id:-1,name:v.optionNone,dataType:null}].concat(u)}),q=this[z],q.set("store",y),q.set("value",b[z]||-1,!1);r=b.hasOwnProperty(d.TOOLTIP)?
b[d.TOOLTIP]:[];u=new p({onChange:t.hitch(this,"_onChangeHandler"),pageSize:50,searchAttr:"name",store:new k({data:{identifier:"id",label:"name",items:u}}),value:r},this.tooltipDomNode);u.startup();this._tooltip=u;n={selector:"date",fullYear:!0};z=this[d.AXIS_START];y=this[d.AXIS_END];void 0!==b[d.AXIS_START]?u=b[d.AXIS_START]:(u=this._getDefaultStartDate(),this._options.columnRange[d.AXIS_START]=u);void 0!==b[d.AXIS_END]?r=b[d.AXIS_END]:(r=this._getDefaultEndDate(),this._options.columnRange[d.AXIS_END]=
r);q=m.format(new Date(d.AXIS_MIN),n);A=m.format(new Date(d.AXIS_MAX),n);D=new Date(d.AXIS_MIN);P=new Date(d.AXIS_MAX);z.set("displayedValue",m.format(h.fromISOString(u),n));z.constraints.min=D;z.constraints.max=P;z.rangeMessage="Invalid Start Date. Valid range "+q+" \u2013 "+A;y.set("displayedValue",m.format(h.fromISOString(r),n));y.constraints.min=D;y.constraints.max=P;y.rangeMessage="Invalid End Date. Valid range "+q+" \u2013 "+A;this[d.AXIS_TITLE].set("value",b.axisTitle);u=this._getGridLineOptions();
this[f].set("store",new x({data:u}));b[f]?this[f].set("value",b[f]):(this[f].set("value","month"),b[f]="month");N=this[d.HORIZONTAL_SLIDER];N.set("value",b.yAxisWidth||d.DEFAULT_Y_AXIS_LABEL_WIDTH);a();this.own(w(N,"change",a));"fixed"===this._options.columnRange.fixedWidth?this.yAxisRadioButtonFixedWidth.set("checked",!0):this.yAxisRadioButtonVariableWidth.set("checked",!0)},onChange:function(){},resize:function(a){a&&u.setMarginBox(this.domNode,a)},uninitialize:function(){this._tooltip&&(this._tooltip.destroyRecursive(),
this._tooltip=null);this.inherited(arguments)},_getGridLineOptions:function(){return[{name:z.labelGridMonthly,id:"month"},{name:z.labelGridWeekly,id:"week"}]},_getDefaultStartDate:function(){return h.toISOString(n.add(new Date,"month",-6),{selector:"date"})},_getDefaultEndDate:function(){return h.toISOString(n.add(new Date,"month",6),{selector:"date"})},_onColumnRangeOptionKeyDown:function(a){a.keyCode===y.ENTER&&this._onChangeHandler(a)},_onChangeHandler:function(){var a={},b=g.chartOptions.columnRange,
d=[b.AXIS_START,b.AXIS_END,b.START_POINT,b.END_POINT,b.BAR_LABEL,b.GROUP_BY],e,r,k,m;if(!(b.AXIS_MIN>this[b.AXIS_START].get("value").getTime()||b.AXIS_MAX<this[b.AXIS_END].get("value").getTime())){for(e=0;e<d.length;e++)r=d[e],a[r]=r===b.AXIS_START||r===b.AXIS_END?h.toISOString(this[r].get("value"),{selector:"date"}):Number(this[r].get("value")||-1);a[b.TOOLTIP]=this._tooltip.get("value")||[];this[b.START_POINT].get("value")!==this[b.END_POINT].get("value")&&q.every([b.START_POINT,b.END_POINT],function(b){return a.hasOwnProperty(b)&&
-1<a[b]})?((d=this[b.AXIS_TITLE].get("value")||"")&&(a[b.AXIS_TITLE]=d),a[b.GRID_LINES]=this[b.GRID_LINES].value||"month",k=t.mixin(t.clone(this._options||{}),{columnRange:a}),(e=this[b.HORIZONTAL_SLIDER].get("value")||"")&&(a[b.Y_AXIS_WIDTH]=e),r=this[b.Y_AXIS_WIDTH_RADIO_FIXED].get("value")||this[b.Y_AXIS_WIDTH_RADIO_VARIABLE].get("value")||"",a[b.FIXED_WIDTH]="fixed"===r?"fixed":"variable",(m=this._options.columnRange[b.AXIS_TITLE]!==d||this._options.columnRange[b.Y_AXIS_WIDTH]!==e||this._options.columnRange[b.FIXED_WIDTH]!==
r)||f.forIn(this._options.columnRange,function(a,d){var e,g,h,f;m||(e=k.columnRange[d],d!==b.TOOLTIP?void 0!==e&&a!==e&&(m=!0):(g=a.length===e.length,h=a.length&&e.length,f=a.length||e.length,h?m=g?q.every(a,function(a,b){return a!==e[b]}):!0:f&&(m=!0)))}),m&&(this._options.columnRange=k.columnRange,this.onChange(this._options)),A.publish("anaplan/chartOptions/dataOptions/state","","Clear","dataLayout")):(console.warn(this.id+" TODO: invalid columnRange",a),A.publish("anaplan/chartOptions/dataOptions/state",
"","Error","dataLayout"))}}})})},"anaplan/data/InlineSearchProviders/SortableLabelPageSearchProvider":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred"],function(l,s,p){return s([],{constructor:function(l){this._sortableLabelPage=l.sortableLabelPage},search:function(q){var f=new p;try{var k=this._sortableLabelPage,n=this._sortableLabelPage.findNextItemByPhrase(q),m=k._labelPage;f.resolve(l.map(n,function(e){return m.entityLongIds[0][e]}))}catch(h){f.resolve([])}finally{return f.promise}}})})},
"anaplan/view/_SubsidiaryViewLabelDecorator":function(){define(["dijit/Destroyable","dojo/_base/declare","dojo/_base/lang","dojo/aspect","anaplan/utils/UIHelper"],function(l,s,p,q,f){return s("anaplan.view._SubsidiaryViewLabelDecorator",l,{constructor:function(f){this.own(q.after(f.views,"onUpdate",p.hitch(this,"_onUpdate"),!0))},decorate:function(k){try{var n=k.entityLongIds.length;k.subsidiaryViews=Array(n);for(var m=0;m<n;m++)k.subsidiaryViews[m]=Array(k.count);if(!this._subsidiaryViewsLabelPage)return k;
for(var h,e,m=0;m<n;m++)for(h=0;h<this._subsidiaryViewsLabelPage.count;h++)for(e=0;e<k.count;e++)k.entityLongIds[m][e]==this._subsidiaryViewsLabelPage.entityLongIds[0][h]&&(k.subsidiaryViews[m][e]={entityLongId:this._subsidiaryViewsLabelPage.entityLongIds[0][h],label:this._subsidiaryViewsLabelPage.labels[0][h]})}catch(g){f.throwClientException(this,g)}return k},getSubsidiaryViewsLabelPage:function(){return this._subsidiaryViewsLabelPage},_onUpdate:function(f){this._subsidiaryViewsLabelPage=f}})})},
"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(l,s,p,q,f,k){var n=k.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(p.hitch(this,"_fireEventAndReload"),
this._currentTimeout)},trigger:function(f,h,e,g,d,a,r,b){if(d!=this._obj){this.stop();this._initialDelay=r||500;this._subsequentDelay=a||0.9;this._minDelay=b||10;this._obj=d;this._node=e;this._count=this._currentTimeout=-1;this._callback=p.hitch(h,g);this._evt={faux:!0};for(var t in f)"layerX"!=t&&"layerY"!=t&&(h=f[t],"function"!=typeof h&&"undefined"!=typeof h&&(this._evt[t]=h));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,
this._node,this._evt),this._obj=null)},addKeyListener:function(f,h,e,g,d,a,r){var b="keyCode"in h?"keyCode":"charCode"in h?"charCode":"charOrCode",t=[q(f,"keyCode"in h?"keydown":"charCode"in h?"keypress":s._keypress,p.hitch(this,function(t){t[b]==h[b]&&(void 0===h.ctrlKey||h.ctrlKey==t.ctrlKey)&&(void 0===h.altKey||h.altKey==t.altKey)&&(void 0===h.metaKey||h.metaKey==(t.metaKey||!1))&&(void 0===h.shiftKey||h.shiftKey==t.shiftKey)?(t.stopPropagation(),t.preventDefault(),n.trigger(t,e,f,g,h,d,a,r)):
n._obj==h&&n.stop()})),q(f,"keyup",p.hitch(this,function(){n._obj==h&&n.stop()}))];return{remove:function(){l.forEach(t,function(a){a.remove()})}}},addMouseListener:function(k,h,e,g,d,a){var r=[q(k,"mousedown",p.hitch(this,function(b){b.preventDefault();n.trigger(b,h,k,e,k,g,d,a)})),q(k,"mouseup",p.hitch(this,function(a){this._obj&&a.preventDefault();n.stop()})),q(k,"mouseout",p.hitch(this,function(a){this._obj&&a.preventDefault();n.stop()})),q(k,"dblclick",p.hitch(this,function(b){b.preventDefault();
9>f("ie")&&(n.trigger(b,h,k,e,k,g,d,a),setTimeout(p.hitch(this,n.stop),50))}))];return{remove:function(){l.forEach(r,function(a){a.remove()})}}},addListener:function(f,h,e,g,d,a,r,b){var t=[this.addKeyListener(h,e,g,d,a,r,b),this.addMouseListener(f,g,d,a,r,b)];return{remove:function(){l.forEach(t,function(a){a.remove()})}}}};return n})},"anaplan/widgets/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/when dijit/form/DropDownButton dijit/registry dojo/query dojo/Evented".split(" "),
function(l,s,p,q,f,k,n){return l([q,n],{delegate:null,toggleDropDown:function(){if(!this.disabled&&!(this.readOnly||this.dashboard&&this.dashboard._dashboardDesignMode))this._opened?this.closeDropDown():(this.delegate&&this.delegate.onBeforeToggleOpen?p(this.delegate.onBeforeToggleOpen(),s.hitch(this,this.loadAndOpenDropDown)):this.loadAndOpenDropDown(),this._notifyMenuItemsOnShow())},_notifyMenuItem:function(k){if((k=f.getEnclosingWidget(k))&&k.onShow)k.onShow()},_notifyMenuItemsOnShow:function(){this.dropDown&&
this.dropDown.domNode&&k(".anaplanMenuItem",this.dropDown.domNode).forEach(s.hitch(this,"_notifyMenuItem"))}})})},"anaplan/data/_WritableModel":function(){define("anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/constants anaplan/data/_BaseModel anaplan/data/CacheVisitor anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/UpdatesCache anaplan/Exceptions anaplan/format/util anaplan/gridlet/Themes anaplan/utils/UIHelper anaplan/utils/EntityLongIdHelper anaplan/utils/IdChecker anaplan/utils/LabelPageHelper anaplan/utils/LinkFormatter anaplan/utils/topics dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/json".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x){return z([q],{constructor:function(){try{var a;this._viewDefinition&&"undefined"!==this._viewDefinition.type&&(a=this._viewDefinition.type);this._viewGuid=l.createViewGuid();this._themeId=this._determineTheme(a);this._newUpdates=new m({style:"new"});this._pendingUpdates=new m({style:"pending"});this._shuffleInProgress=!1;this._pendingPageRequests=[]}catch(b){throw new h.ClientException("anaplan.data._WritableModel.constructor",b);}},_determineTheme:function(){var a=
"unknown";this._viewDefinition&&this._viewDefinition.type&&(a=this._viewDefinition.type);return"unknown"===a?g.getFallBackTheme():g.getDefaultThemeFor(a)},addNewUpdates:function(a,b){try{this._newUpdates.addAll(a),this._processNew(),b&&this._updateObservers()}catch(d){throw new h.ClientException("anaplan.data._WritableModel.addNewUpdates",d);}},_applyPasteFormatOptions:function(a,b,d){var e=d;if(b){if(b.decimalSeparator&&(b.groupingSeparator&&d.decimalSeparator&&d.groupingSeparator)&&(b.decimalSeparator!==
d.decimalSeparator||b.groupingSeparator!==d.groupingSeparator)){var g={},h;for(h in d)g[h]=d[h];g.decimalSeparator=b.decimalSeparator;g.groupingSeparator=b.groupingSeparator;this._isNumeric(a,g)?e=g:this._isNumeric(a,d)&&(e=d)}this._isNumeric(a,e)||(b=this._determineSeparators(a,e),this._isNumeric(a,b)&&(e=b))}return e},attemptPaste:function(b,d,e){try{var g=this._checkView(b),r=p.textFormatType,k=new t,u,n,v=new f({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),
fixedColumnCount:this._readCache.getFixedColumnCount(),serialNumbers:this.getSerialNumbers(),view:g,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting()});v.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);v.getValues();for(var l=this._getStaticContextEntityLongIds(),z=a.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers),l=l.concat(z),w=v.getRowLabelsObject(),q=v.getColumnLabelsObject(),O=v.getCellsObject(),
z=v=b=0,P=g.y[1]-g.y[0]+1,N=g.x[1]-g.x[0]+1,Q=this._readCache.getColumnNesting(),S=Array(N),R,W=0;W<N;W++){S[W]=[];for(R=0;R<Q;R++)S[W].push(q.entityLongIds[R][W])}for(var Y=this._readCache.getRowNesting(),T=Array(P),q=0;q<P;q++){T[q]=[];for(R=0;R<Y;R++)T[q].push(w.entityLongIds[R][q])}for(var ca=new m({style:"new",operations:[p.dataInputUndoOperations.PASTE]}),Q=Y=R=w=0,W={},X=0,q=0;q<P;q++){z==d[0].length&&(z=0);for(var ba=v=0;ba<N;ba++){v==d.length&&(v=0);var $=d[v][z];null!==$&&void 0!==$&&($=
String($).replace(/^\s+|\s+$/g,""));var ja=null===$||void 0===$||0===$.length;if(O.isEditable[b])if(n=O.formats[b],"NUMBER"==n.dataType)if(n=this._applyPasteFormatOptions($,e,n),this._isNumeric($,n)){var Z=this._parseNumber($,n);ca.addCellUpdate({modelId:modelId,format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:null!==O.cellValues[b]?String(O.cellValues[b]):"",cellText:Z,isCalculated:!1,isEditable:!1,writeableLeafCellCount:0,viewIndex:this._viewIndex},q+g.y[0],ba+g.x[0])}else if(ja)ca.addCellUpdate({modelId:modelId,
format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:null!==O.cellValues[b]?String(O.cellValues[b]):"",cellText:"0",isCalculated:!1,isEditable:!1,writeableLeafCellCount:0,viewIndex:this._viewIndex},q+g.y[0],ba+g.x[0]);else{var aa=O.formats[b],ga=x.stringify(aa),ea=W[ga];ea||(ea={cellTexts:[],count:0,targetFormat:aa},W[ga]=ea);ea.count++;ea.cellTexts.push($);Q++}else if("DATE"==n.dataType)if(this._isDate($)){var qa=this._parseDate($);ca.addCellUpdate({modelId:modelId,format:O.formats[b],
entityLongIds:l.concat(T[q],S[ba]),originalText:null!=O.originalText[b]?String(O.originalText[b]):"",cellText:this._formatDate(qa),isCalculated:!1,isEditable:!1,writeableLeafCellCount:0},q+g.y[0],ba+g.x[0])}else ja?ca.addCellUpdate({modelId:modelId,format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:null!=O.originalText[b]?O.originalText[b]:"",cellText:"",isCalculated:!1,isEditable:!1,writeableLeafCellCount:0},q+g.y[0],ba+g.x[0]):w++;else if("FORMAT"==n.dataType||"SUMMARY"==n.dataType||
"ACTION_DEFINITION"==n.dataType)if(this._isJson($)){var ka=x.parse($);s.isObject(ka.entityFormatFilter)&&(delete ka.entityFormatFilter,$=x.stringify(ka));"FORMAT"==O.formats[b].dataType&&ka.dataType||"SUMMARY"==O.formats[b].dataType&&ka.summaryMethod||"ACTION_DEFINITION"==O.formats[b].dataType&&ka.actionType?ca.addCellUpdate({modelId:modelId,format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:null!=O.originalText[b]?O.originalText[b]:"",currentDisplayText:null!=O.cellValues[b]?O.cellValues[b].dataType:
"",cellText:$,isCalculated:!1,isEditable:!1,writeableLeafCellCount:0},q+g.y[0],ba+g.x[0]):Y++}else ja?(console.warn("TODO: this will fail; see also attemptDelete.  Should we skip?"),ca.addCellUpdate({modelId:modelId,format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:x.stringify(O.cellValues[b]),currentDisplayText:null!=O.cellValues[b]?O.cellValues[b].dataType:"",cellText:"",isCalculated:!1,isEditable:!1,writeableLeafCellCount:0},q+g.y[0],ba+g.x[0])):Y++;else{var da={modelId:modelId,
format:O.formats[b],entityLongIds:l.concat(T[q],S[ba]),originalText:O.cellValues[b],currentDisplayText:s.isNullOrUndefined(O.originalText[b])?"":O.originalText[b],cellText:$,isCalculated:!1,isEditable:!1,writeableLeafCellCount:0};if("ENTITY"===n.dataType){var ha=this._parseEntity($,n);y.mixin(da,{cellText:ha,newDisplayText:$});var U="-1"!==O.cellValues[b]?this.getSelectorLabelPageItemByEntityLongIdSync(O.cellValues[b],n.hierarchyEntityLongId):null;null===da.cellText?R++:y.mixin(da,{currentEntityId:U?
U.entityId:null})}else"TIME_ENTITY"===n.dataType?(y.mixin(da,{cellText:$}),null===da.cellText&&R++):n.textType===r.DRILLTHRU_URI?(u=k.parseCellValueAsLink($),(u.href||u.label)&&y.mixin(da,{cellText:k.formatLink(u.href,u.label)})):n.textType===r.EMAIL_ADDRESS&&(u=k.parseCellValueAsMailTo($),(u.safeUri||u.label)&&y.mixin(da,{cellText:k.formatMailTo(u.safeUri,u.label)}));null!==da.cellText&&ca.addCellUpdate(da,q+g.y[0],ba+g.x[0])}else X++;b++;v++}z++}d=[];for(var sa in W)W.hasOwnProperty(sa)&&d.push(W[sa]);
return{updatesCache:ca,updatesReport:{invalidEntityCount:R,invalidJsonCount:Y,invalidNumberCount:Q,invalidNumberFormats:d,invalidDateCount:w,noValueSuppliedCount:0,readOnlyCount:X}}}catch(ta){throw new h.ClientException("anaplan.data._WritableModel.attemptPaste",ta);}},attemptUndo:function(a){var b=new m({style:"new",operations:[p.dataInputUndoOperations.UNDO]}),d=0,g=y.isFunction(this._observers[0].view)?this._observers[0].view():{x:[0,1],y:[0,1]},h=k.getAllCurrenciesLabelPage(),f=[];v.forEach(a,
y.hitch(this,function(a,r){var k=a.key.split(",")[0],m=a.key.split(",")[1];(k<g.y[0]||k>g.y[1]||m<g.x[0]||m>g.x[1])&&d++;var u="NUMBER"===a.format.dataType?a.currentDisplayText||a.originalText:a.currentDisplayText,n=y.mixin(y.clone(a),{noCurrentValue:"ENTITY"===a.format.dataType||"TIME_ENTITY"===a.format.dataType});n.currentDisplayText="BOOLEAN"===n.format.dataType?a.cellText.length?a.cellText:"false":"ENTITY"===n.format.dataType?a.newDisplayText:a.cellText;n.newDisplayText=a.currentDisplayText;if("ENTITY"===
n.format.dataType)if(a.currentEntityId)n.cellText=a.currentEntityId;else{var v=this.getSelectorLabelPageItemsByLabelSync(u,n.format.hierarchyEntityLongId);n.cellText=1===v.length?v[0].entityId:u}else n.cellText=u;n.originalText=n.currentDisplayText;b.addCellUpdate(n,k,m);k=function(a,b){function d(a){return"'"+(a||"")+"'"}var g,f,r,k;try{if("NUMBER"===b.dataType)f=b.zeroFormat===p.zeroFormat.BLANK?y.mixin({},b,{zeroFormat:p.zeroFormat.ZERO}):b,g=e.applyFormat(Number(a),f,h);else if("DATE"===b.dataType&&
a.length)g=e.formatDateCellText(a);else if("TEXT"===b.dataType&&a.length){switch(b.textType){case p.textFormatType.DRILLTHRU_URI:r=new t;k=r.parseCellValueAsLink(a);g=k.label||k.href;break;case p.textFormatType.EMAIL_ADDRESS:r=new t;k=r.parseCellValueAsMailTo(a);g=k.label||k.displayUri;break;default:g=a}g=d(g.substr(0,20)+(20<g.length?"...":""))}else g="ENTITY"===b.dataType?d(a):a.length?a:d()}catch(m){console.warn("formatForPreview failed to format value",a,b),g=a}finally{return g}};3>r&&f.push({from:k(n.currentDisplayText,
n.format),to:k(n.newDisplayText||n.cellText||"",n.format),format:n.format})}));return{count:a.length,visibleCount:a.length-d,updatesCache:b,preview:f}},cancelChanges:function(){try{this._updateObservers()}catch(a){throw new h.ClientException("anaplan.data._WritableModel.cancelChanges",a);}},error:function(a){var b=!1;this._pendingPageRequests=[];try{if(!this._pendingUpdates.isEmpty()||!this._newUpdates.isEmpty())this._pendingUpdates.clear(),this._newUpdates.clear(),this._updateObservers()}catch(d){console.error(this.id,
d)}finally{for(var e=this._observers,g=0,h=e.length;g<h;g++)e[g].error(a)&&(b=!0)}return b},isDirty:function(){return!(this._newUpdates.isEmpty()&&this._pendingUpdates.isEmpty())},reset:function(){try{this.inherited(arguments),this._newUpdates&&(this._newUpdates.isEmpty()||console.warn(this.id+": unsafe reset will lose changes"),this._newUpdates.clear()),this._pendingUpdates&&this._pendingUpdates.clear()}catch(a){throw new h.ClientException("anaplan.data._WritableModel.reset",a);}},setViewDefinition:function(a,
b,d){var e=null;this._setViewDefinition(a,b,d);a&&(this.onViewDefinitionChanged(a),e=a.type);this._viewGuid=l.createViewGuid();this._themeId=this._determineTheme(e)},update:function(a){try{if(this._pendingPageRequests=[],a[0].viewGuid===this._viewGuid){this._updateState(a[0]);if("MODEL_DATA"===this._viewDefinition.type&&this._observers.length&&!this._pendingUpdates.isEmpty()){var b=this._pendingUpdates.getCellUpdates();if(!b.isEmpty()&&this._pendingUpdates.getLastOperation()!==p.dataInputUndoOperations.UNDO)if(1<
this._pendingUpdates.getOperations().length)u.undoManagerClear(this._observers[0].id),u.undoManagerAdd({id:this._observers[0].id,containerId:this._containerId,operation:p.dataInputUndoOperations.MULTIPLE_OPERATIONS});else{var d=b.getKeysArray();u.undoManagerAdd({id:this._observers[0].id,containerId:this._containerId,operation:this._pendingUpdates.getLastOperation(),serialNumber:this.getSerialNumbers().viewDefinitionSerialNumber,cellUpdates:b.getItemsArray().map(function(a,b){return y.mixin(y.clone(a),
{key:d[b].toString()})})})}}this._pendingUpdates.clear();this._suspended||this._update()}}catch(e){throw new h.ClientException("anaplan.data._WritableModel.update",e);}},_assertIsDate:function(a){if(!this._isDate(a))throw new h.InvalidDateException(null,null,{date:a});},_assertIsEditable:function(a){if(!a.isEditable)throw new h.IllegalStateException("Expected isEditable to be true but found ${isEditable}",null,{isEditable:a.isEditable});},_assertIsNumeric:function(a,b){if(!this._isNumeric(a,b))throw new h.InvalidNumberException(null,
null,{number:a});},_assertIsValidId:function(a){this._idChecker||(this._idChecker=new r);if(!this._idChecker.checkId(a,!0))throw new h.InvalidIdException(this._idChecker.getInvalidIdMessage(),null,{value:a});},_checkView:function(a){if(!a)return null;var b=a.x.slice(),d=a.y.slice();a=d[0];var d=d[1],e=b[0],b=b[1],g=this._getColumnCount(),h=this._getRowCount(),f=this._getFixedRowCount(),r=this._getFixedColumnCount();0==g?(0>=-1*e&&(e=-1),-1*e>f&&(e=0==f?0:-1),-1*b>f&&(b=-1*f)):(e>=g&&(e=g-1),b>=g&&
(b=g-1),0>e&&g&&(e=0),0>b&&g&&(b=0));0==h?(0>=-1*a&&(a=-1),-1*a>r&&(a=-1),-1*d>r&&(d=-1*r)):(a>=h&&(a=h-1),d>=h&&(d=h-1),0>a&&h&&(a=0),0>d&&h&&(d=0));return{x:[e,b],y:[a,d]}},_formatDate:function(a,b){return w.format(a,{selector:"date",datePattern:b||"yyyy-MM-dd",fullYear:!0})},_getValues:function(a){var b=null;try{var d=new f({dataRowCount:this._readCache.getRowCount(),dataColumnCount:this._readCache.getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount()||1,fixedColumnCount:this._readCache.getFixedColumnCount()||
1,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),serialNumbers:this._getSerialNumbersForPageRequests(this._pendingPageRequests),view:a,viewDefinition:this._viewDefinition});d.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);b=d.getValues()}catch(e){throw new h.ClientException("anaplan.data._WritableModel._getValues",e);}return b},_getViewOptions:function(){var a=this.inherited(arguments);return a=y.mixin(a,{serialNumbers:this._getSerialNumbersForPageRequests(a.pageRequests),
viewGuid:this._viewGuid})},_isDate:function(a){return null!=this._parseDate(a)},_isNumeric:function(a,b){return!isNaN(this._parseNumber(a,b))},_determineSeparators:function(a,b){return e.determineSeparators(a,b)},_parseDate:function(a){var b=w.parse(a,{selector:"date",fullYear:!0});null==b&&(b=w.parse(a,{selector:"date",datePattern:"yyyy-MM-dd",fullYear:!0}));return null!=b&&(a=b.getFullYear(),a>p.MAXIMUM_SUPPORTED_YEAR||a<p.MINIMUM_SUPPORTED_YEAR)?null:b},_parseEntity:function(a,d){try{var e=k.getHierarchyInfoForHierarchySubsetEntityLongId(d.hierarchyEntityLongId);
e||(e=k.getHierarchyInfo(d.hierarchyEntityLongId));if(e&&e.isNumberedList){var g=this.getSelectorLabelPage(d.hierarchyEntityLongId);if(g){var f=g.entityIdByLabelOrCode;f||(g.entityIdByLabelOrCode=f=[]);f[0]||(f[0]=b.getEntityIdByLabelOrCodeMap(g,0,!1,!1));var r=f[0][a];if(r||null===r)return r;var t=g.entityIdByLowerCaseLabelOrCode;t||(g.entityIdByLowerCaseLabelOrCode=t=[]);t[0]||(t[0]=b.getEntityIdByLabelOrCodeMap(g,0,!0,!1));if((r=t[0][a.toLowerCase()])||null===r)return r}}return a}catch(m){throw new h.ClientException("anaplan.data._WritableModel._parseEntity",
m);}},_parseNumber:function(a,b){return e.parseNumberUsingFormat(a,b)},_processNew:function(){try{this._shuffle()&&setTimeout(y.hitch(this,function(){try{this._aggregator.gather(this._requestGenerator.getRequest({pendingUpdates:this._pendingUpdates,cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1}))}catch(a){this.error(a),d.showErrorReporter(new h.ClientException("anaplan.data._WritableModel._processNew",a))}}),25)}catch(a){throw new h.ClientException("anaplan.data._WritableModel._processNew",
a);}},_setValue:function(a,b){var d=b.value,e=a.cellValue,g=s.isNullOrUndefined(a.originalText)?"":a.originalText,r,t;switch(a.format.dataType){case "NUMBER":s.isNullOrUndefined(d)||""===d?r="0":(this._assertIsNumeric(d,a.format),r=this._parseNumber(d,a.format));break;case "DATE":if(s.isNullOrUndefined(d))r="";else if(""!==d){this._assertIsDate(d);var u=this._parseDate(d);r=this._formatDate(u)}break;case "TEXT":""!==d?-1<a.entityLongIds.indexOf(p.SYSTEM_PROPERTY_CODE)?(this._assertIsValidId(d),r=
d):-1<a.entityLongIds.indexOf(p.SYSTEM_PROPERTY_FORMULA)&&(r=d.replace(/^\s*=\s*/,"")):r=d;break;case "ENTITY":d?((u=k.getHierarchyInfoForHierarchySubsetEntityLongId(a.format.hierarchyEntityLongId))||(u=k.getHierarchyInfo(a.format.hierarchyEntityLongId)),r=u&&u.isNumberedList?d.entityId:d.label,t=d.label):r="";break;case "FORMAT":case "SUMMARY":case "ACTION_DEFINITION":r=x.stringify(d);e=x.stringify(a.cellValue);break;default:r=d}void 0===r&&(r=d);void 0===t&&(t=r);if(this._shuffleInProgress)throw console.warn("TODO: we need to wrap additions to newUpdates in critical section"),
d=null,e={},a&&(e.cell=a),b&&(d=b.event,e.update={},e.update.columnIndex=b.columnIndex,e.update.rowIndex=b.rowIndex,e.update.value=b.value),new h.IllegalStateException("ViewRequestGridModel: _setValue (shuffle in progress)",null,e,d);u=new m({style:"new",operations:[p.dataInputUndoOperations.EDIT]});u.addCellUpdate({modelId:modelId,format:a.format,entityLongIds:a.entityLongIds,originalText:e,currentDisplayText:g,currentEntityId:d&&d.currentEntityId||null,newDisplayText:t,cellText:null===r?"":r,isCalculated:!1,
isEditable:!1,writeableLeafCellCount:0,viewIndex:this._viewIndex},b.rowIndex,b.columnIndex);d=new f({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),view:this._checkView({x:[b.columnIndex,b.columnIndex],y:[b.rowIndex,b.rowIndex]}),viewDefinition:this._viewDefinition});d.visitCache([u,
this._readCache]);d=d.getValues();return{updatesCache:u,updatesReport:{invalidEntityCount:-1,invalidNumberCount:-1,invalidDateCount:-1,noValueSuppliedCount:-1,readOnlyCount:-1},valuesUpdate:d}},_setViewDefinition:function(a){a?(n.useAxisSpecification(a)?(delete a.rows,delete a.columns,delete a.pages):(delete a.rowAxisSpecification,delete a.columnAxisSpecification),this._viewDefinition=a):this._viewDefinition=null;this._viewIndex=-1;this._initialized=!1;this._viewGuid=l.createUUID()},_shuffle:function(){if(this._shuffleInProgress)return console.warn("_shuffle returning as shuffleInProgress "+
this._shuffleInProgress),!1;this._shuffleInProgress=!0;try{if(!this._pendingUpdates.isEmpty())return!1;this._pendingUpdates.addAll(this._newUpdates);this._newUpdates.clear();return!0}catch(a){return console.error(a),!1}finally{this._shuffleInProgress=!1}}})})},"anaplan/widgets/IndicatorButton":function(){define("anaplan/utils/UIHelper anaplan/widgets/Button dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/CheckBox dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style dojo/text!anaplan/templates/SimpleSort.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return k([q,p],{baseClass:"indicatorButton dijitInline",tabIndex:-1,templateString:e,constructor:function(e){this.inherited(arguments);this._name=e.name;this._iconClass=e.iconClass;this._dataAnaplanElementName=e["data-anaplan-element-name"]},postCreate:function(){try{this.inherited(arguments),this._populate(),this.watch("disabled",this._disabled)}catch(e){l.throwClientException(this,e)}},startup:function(){this.inherited(arguments)},getButton:function(){return this._button},
getCheckBox:function(){return this._checkBox},isValid:function(){return this._valid},showCheckBox:function(e){this._checkBoxIsShown()!=e&&(h.set((this._valid?this._checkBox:this._validIcon).domNode,"display",e?"":"none"),this._manageCheckBoxState())},setValid:function(e){this._checkBoxIsShown()&&(h.set(this._checkBox.domNode,"display",e?"":"none"),h.set(this._validIcon,"display",e?"none":""));this._valid=e},_checkBoxIsShown:function(){var e=h.get(this._checkBox.domNode,"display"),d=h.get(this._validIcon,
"display");return this._valid?"none"!=e:"none"!=d},_disabled:function(e,d,a){this._button&&this._button.set("disabled",a);this._checkBox&&this._checkBox.set("disabled",a)},_manageCheckBoxState:function(){this._checkBox&&(this._checkBoxIsShown()?n.add(this.domNode,"hasCheck"):n.remove(this.domNode,"hasCheck selected"))},_populate:function(){this._button=new s({iconClass:this._iconClass,showLabel:!1,"data-anaplan-element-name":this._dataAnaplanElementName});this.domNode.appendChild(this._button.domNode);
this._validIcon=m.create("span",{"class":"dijitReset dijitInline dijitIcon anaplanEditorIcon anaplanEditorIconInvalid"});this.domNode.appendChild(this._validIcon);this._valid=!0;h.set(this._validIcon,"display","none");this.domNode.appendChild(this._validIcon);this._checkBox=new f({});n.add(this._checkBox.domNode,"indicatorButtonCheckBox");this.domNode.appendChild(this._checkBox.domNode);this.showCheckBox(!1)},_onKeyDown:function(){},_onKeyPress:function(){}})})},"anaplan/widgets/_PageSelectorMixin":function(){define("anaplan/common/PageInfo anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/LabelPageHelper anaplan/widgets/_PagingPageSelectorDropdown anaplan/widgets/Button anaplan/widgets/ConfirmationDialog anaplan/widgets/DropDownButton anaplan/widgets/PageSelectorHelper dijit/_Contained dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/Deferred dojo/i18n!anaplan/nls/gridlet dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return b([a],{constructor:function(){this._pageSelectors=[];this._pageSelectorConnections=[];this._pageSelectorAmbiguousLabels=[];this._pageSelectorUnambiguousLabels=[];this._pageInfoSerialNumber="0"},disablePageSelectors:function(){r.forEach(this._pageSelectors,function(a){a.set("disabled",!0)})},enablePageSelectors:function(){r.forEach(this._pageSelectors,function(a){a.set("disabled",!1)})},getModel:function(){console.warn(this.id+" TODO: replace with exception getModel must be implemented for _PageSelectorMixin")},
_createPageSelectorButton:function(a,b){var d=this,r=a.currentPageLabels,n=r.entityLongIds[0][b],w=q.getAllDimensionIdentifiersForAxisSpecification(a.pageAxisSpecifications[b])[0];f.entityLongIdIdentifierToEntityLongId(w)===s.SYSTEM_AXIS_IDENTIFIER_ENTITY_ENTITY_LONG_ID&&(w=f.entityLongIdToEntityLongIdIdentifier(a.staticContext.entityLongIds[0][0]));this._pageSelectorUnambiguousLabels[b]=this._getPageSelectorLabel(a,r,b,!1);var p=this._getPageSelectorLabel(a,r,b,!0);this._pageSelectorAmbiguousLabels[b]=
p;var H=this._getPageSelectorIconClass(n,w);if(this._showPageSelector(w)){var L=new m({currentPageEntityLongId:n,currentPageLabel:p,model:this.getModel(),pageAxisIdentifier:w,pageInfo:a,pageLabelIndex:b});this._pageSelectorConnections.push(u.after(L,"onPageSelectionChange",t.hitch(this,"_onPageSelectionChange"),!0));var F=new g({"class":"qa-page-selector-button",label:k.escapeHTML(p),iconClass:H,showLabel:!0,dropDown:L,autoWidth:!1,dashboard:d.getParent(),delegate:{showConfirmationDialog:function(a,
b,d,g){var h=new e({title:a,content:b});d&&h.own(h.on("execute",d));g&&h.own(h.on("cancel",g));h.own(h.on("hide",function(){h.destroyRecursive()}));h.show()},onBeforeToggleOpen:function(){var b=new z;0<(new l(a)).getBreakbackHeldCellsCount()?this.showConfirmationDialog(y.titleHeldCellConfirmation,y.messageHeldCellConfirmation,function(){b.resolve()},function(){b.cancel()}):b.resolve();return b}}});L.on("close",function(){F.set("label",k.escapeHTML(d._pageSelectorAmbiguousLabels[b]));F.closeDropDown(!1);
setTimeout(function(){L.destroyDescendants()})});L.on("show",function(){F.set("label",k.escapeHTML(d._pageSelectorUnambiguousLabels[b]))});v.add(F.containerNode,"qa-page-selector-button__title");return F}return this._showLabel(w)?new h({label:k.escapeHTML(this._getPageSelectorLabel(a,r,b,!0)),iconClass:H,showLabel:!0}):null},_createPageSelectorButtons:function(a){this._destroyPageSelectors();if(this.pageSelectorToolbar){var b=a.currentPageLabels;this._pageSelectorAmbiguousLabels=[];this._pageSelectorUnambiguousLabels=
[];for(var d=0;d<b.count;d++){var e=this._createPageSelectorButton(a,d);e&&(this._pageSelectors.push(e),this.pageSelectorToolbar.addChild(e))}}},_destroyPageSelectors:function(){this.pageSelectorToolbar&&(this.pageSelectorToolbar.focusedChild=null);r.forEach(this._pageSelectorConnections,function(a){a.remove()});this._pageSelectorConnections=[];r.forEach(this._pageSelectors,function(a){a&&a.closeDropDown&&a.closeDropDown(!1);this.pageSelectorToolbar.removeChild(a);setTimeout(function(){a.destroyRecursive()})},
this);this._pageSelectors=[]},_getPageSelectorIconClass:function(a,b){return-1===a?"pageSelectorValidationIcon":this._synchronisedPaging(b)?"anaplanEditorIcon anaplanEditorIconPageSelector":""},_getPageSelectorLabel:function(a,b,e,g){var h=b.entityLongIds[0][e];q.getAllDimensionIdentifiersForAxisSpecification(a.pageAxisSpecifications[e]);return-1===h?d.getInvalidSelectionLabel(a,e):n.getItemName(b,0,e,g)},_hidePageSelectors:function(){r.forEach(this._pageSelectors,function(a){a.domNode.style.visibility=
"hidden"})},_onPageSelectionChange:function(a,b){this._synchronisedPaging(b)&&(w.publish("anaplan/global/context",a,b),p.gather())},_setPageSelectorsDisabled:function(a){r.forEach(this._pageSelectors,function(b){b.set("disabled",a)})},_showLabel:function(){return!0},_showPageSelector:function(){return!0},_synchronisedPaging:function(){return!0},_updatePageSelectors:function(a,b){if(a)if(this._pageInfoSerialNumber!==b||this._pageSelectors.length!==a.currentPageLabels.count)this._createPageSelectorButtons(a),
this._pageInfoSerialNumber=b;else for(var d=a.currentPageLabels,e=d.entityLongIds[0],g=0;g<this._pageSelectors.length;g++){var h=e[g],f=q.getAllDimensionIdentifiersForAxisSpecification(a.pageAxisSpecifications[g])[0];this._pageSelectorUnambiguousLabels[g]=this._getPageSelectorLabel(a,d,g,!1);var r=this._getPageSelectorLabel(a,d,g,!0);this._pageSelectorAmbiguousLabels[g]=r;if(this._showPageSelector(f)||this._showLabel(f)){var t=this._pageSelectors[g];t.domNode.style.visibility="";t.set("label",k.escapeHTML(r));
t.set("disabled",!1);t.set("iconClass",this._getPageSelectorIconClass(h,f))}}}})})},"anaplan/charts/WaterfallChartOptions":function(){define("anaplan/common/ColourPickerManager anaplan/common/ColourPickerRenderer anaplan/utils/UIHelper dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/i18n!anaplan/nls/dashboard dojo/i18n!anaplan/nls/waterfallChartOptions dojo/store/Memory dojo/topic dojo/text!anaplan/templates/WaterfallChartOptions.html dijit/form/FilteringSelect dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return n([f,q,k],{baseClass:"layoutOptions",_options:null,region:"center",templateString:r,constructor:function(a){this.title=e.headingOptionsTab;this.nls=g;this._options=a._options},_initColourPickerManager:function(){var a=[this.incrementColourPicker,this.decrementColourPicker,this.totalsColourPicker];a[0].pickerId="incrementColourPicker";a[1].pickerId="decrementColourPicker";a[2].pickerId="totalsColourPicker";this._colourPickerManager=new l;this._colourPickerRenderer=
new s({colourPickerManager:this._colourPickerManager,colourPickerAttachPoints:a,onChange:this.onChange,options:this._options,resetColourAttachPoint:this.resetChartColoursButton,updateColourPickerStateFromChartConfig:this._updateColourPickerStateFromChartConfig.bind(this),setSeriesColour:this._setSeriesColour,shouldShowResetButton:this._shouldShowResetButton.bind(this),resetColours:this._resetColours.bind(this)});this._colourPickerRenderer.updateColourPickerStateFromChartConfig()},_getDefaultIncrementColour:function(){return Highcharts.getOptions().plotOptions.waterfall.colors[0]},
_getDefaultDecrementColour:function(){return Highcharts.getOptions().plotOptions.waterfall.colors[1]},_getDefaultTotalsColour:function(){return Highcharts.getOptions().plotOptions.waterfall.colors[2]},_getIncrementColour:function(){return this._options.waterfall&&this._options.waterfall.upColor||this._getDefaultIncrementColour()},_getDecrementColour:function(){return this._options.waterfall&&this._options.waterfall.downColor||this._getDefaultDecrementColour()},_getTotalsColour:function(){return this._options.waterfall&&
this._options.waterfall.totalsColor||this._getDefaultTotalsColour()},_setSeriesColour:function(a,d){m.setObject("waterfall."+["upColor","downColor","totalsColor"][a],d,this._options)},postCreate:function(){var b;this.inherited(arguments);p.setText(this.headingData,e.headingWaterfallData);p.setText(this.headingAxes,e.headingWaterfallAxes);p.setText(this.headingLabels,e.headingWaterfallLabels);p.setText(this.waterfallDataLabels,e.labelDataLabels);p.setText(this.waterfallExcludeItemsLabels,e.labelWaterfallExcludeItems);
p.setText(this.waterfallAutoAxisLabels,e.labelWaterfallAutoAxis);p.setText(this.waterfallInvertAxesLabels,e.labelWaterfallInvertAxes);p.setText(this.waterfallMismatchingTotals,e.labelWaterfallMismatchingTotals);b=this._getWaterfallDataOptions();this.waterfallData.set("store",new d({data:b}));b=this._getSetWaterfallData();this.waterfallData.set("value",b,!1);this.waterfallExcludeCheckbox.set("value",Boolean(this._options.waterfallExcludeItems),!1);this.waterfallAutoAxisCheckbox.set("value",Boolean(this._options.waterfallAutoAxis),
!1);this.waterfallInvertAxesCheckbox.set("value",Boolean(this._options.waterfallInvertAxes),!1);this.waterfallData.watch("state",dojo.hitch(this,function(b,d,e){a.publish("anaplan/chartOptions/waterfallData/state",d,e,"waterfallData")}));this._initColourPickerManager()},startup:function(){this._started||(this.inherited(arguments),this._colourPickerRenderer.renderColourPickers())},_resetColours:function(){var a=this._getDefaultIncrementColour(),d=this._getDefaultDecrementColour(),e=this._getDefaultTotalsColour();
this._colourPickerManager._pickerMap={incrementColourPicker:a,decrementColourPicker:d,totalsColourPicker:e};this._colourPickerRenderer._fireColourChange(0,a);this._colourPickerRenderer._fireColourChange(1,d);this._colourPickerRenderer._fireColourChange(2,e)},_shouldShowResetButton:function(){return this._getIncrementColour()!==this._getDefaultIncrementColour()||this._getDecrementColour()!==this._getDefaultDecrementColour()||this._getTotalsColour()!==this._getDefaultTotalsColour()},destroy:function(){App.interim.unmountReactNode(this.incrementColourPicker);
App.interim.unmountReactNode(this.decrementColourPicker);App.interim.unmountReactNode(this.totalsColourPicker);App.interim.unmountReactNode(this.resetChartColoursButton);this.inherited(arguments)},onChange:function(){},_getWaterfallDataOptions:function(){return[{name:e.labelShowValue,id:"show"},{name:e.labelHideValue,id:"hide"}]},_getSetWaterfallData:function(){var a="hide";if("undefined"===typeof this._options.waterfallLabels||!0===this._options.waterfallLabels)a="show";return a},_onChangeHandler:function(a){var d=
m.clone(this._options);switch(a){case "hide":m.mixin(d,{waterfallLabels:!1});break;case "show":m.mixin(d,{waterfallLabels:!0})}m.mixin(this._options,d);this.onChange(this._options)},_onChangeAutoAxis:function(){var a=this._options;"on"===this.waterfallAutoAxisCheckbox.get("value")?a.waterfallAutoAxis=!0:delete a.waterfallAutoAxis;this.onChange(this._options)},_onChangeInvertAxes:function(){var a=this._options;"on"===this.waterfallInvertAxesCheckbox.get("value")?a.waterfallInvertAxes=!0:delete a.waterfallInvertAxes;
this.onChange(this._options)},_onChangeExcludeItems:function(){var a=m.clone(this._options),d=!1;"on"===this.waterfallExcludeCheckbox.get("value")&&(d=!0);m.mixin(a,{waterfallExcludeItems:d});m.mixin(this._options,a);this.onChange(this._options)},resize:function(a){a&&h.setMarginBox(this.domNode,a)},_updateColourPickerStateFromChartConfig:function(){var a={incrementColourPicker:this._getIncrementColour(),decrementColourPicker:this._getDecrementColour(),totalsColourPicker:this._getTotalsColour()};
this._colourPickerManager._pickerMap=a}})})},"anaplan/utils/LabelPageHelper":function(){define("anaplan/constants anaplan/utils/EntityLongIdHelper dojo/_base/lang dojo/json dojo/_base/array anaplan/utils/JsHelper anaplan/data/ModelContentCache".split(" "),function(l,s,p,q,f,k,n){var m={DAY:1,WEEK:2,MONTH:3,QUARTER:4,HALF_YEAR:5,YEAR:6,ALL:7},h={comparePeriodTypes:function(e,g){var d=m[e],a=m[g];return d?a?d-a:-1:a?1:0},getEntityIdByLabelOrCodeMap:function(e,g,d,a){var h={},b=e.labels[g],f=e.entityIds[g];
g=e.entityCodes[g];for(var k=0;k<e.count;++k){var m=b[k],n=f[k],y=g[k];if(m){m=d?m.toLowerCase():m;a&&m.length>l.MAXIMUM_ID_LENGTH&&(m=m.substring(0,l.MAXIMUM_ID_LENGTH)+"...");var w=h[m];w&&w!==n?h[m]=null:null!==w&&(h[m]=n)}y&&(y=d?y.toLowerCase():y,(m=h[y])&&m!==n?h[y]=null:null!==m&&(h[y]=n))}return h},getItemName:function(e,g,d,a){var h;try{if(-1!==d){var b="";e.labels&&(b=e.labels[g][d]);if(e.entityIds&&(!b||!p.trim(b)))b=e.entityIds[g][d];var f=e.entityLongIds[g][d],k=s.getEntityTypeIndex(f),
m=s.getEntityIndex(f),l=0<k&&n.isNumberedList(k);if(!a&&l&&0<m)if(b==="#"+m)h=b;else{var y=e.entityIdByLowerCaseLabelOrCode;y||(e.entityIdByLowerCaseLabelOrCode=y=[]);y[g]||(y[g]=this.getEntityIdByLabelOrCodeMap(e,g,!0,!0));h=y[g][b.toLowerCase()]?b:(b?b+" ":"")+"(#"+m+")"}else h=l?b||"(#"+m+")":b}}catch(w){console.warn("Failed to get item name: "+q.stringify(w))}return h||""},getPathToItemEntityLongId:function(e,g){var d=[];if(-1===Number(e))d.push(String(e));else for(var a,h=e;-1!==Number(h);){a=
g[h];if(!a)break;d.push(String(h));h=a.parentEntityLongId}d.reverse();d.unshift("root");return d},_addItemToLabelPage:function(e,g,d){var a,h,b,t,k,m,n;if(e&&g.label&&(h=f.indexOf(e.labels[0],g.label),-1!==h))return e.entityLongIds[0][h];for(a in e)if(e.hasOwnProperty(a)){b=e.nestingCount;for(h=0;h<b;h++)switch(a){case "count":h||e.count++;break;case "entityIds":if(e.entityIds&&e.entityIds.length)if(h)e.entityIds[h][d](null);else if("entityId"in g)e.entityIds[h][d](g.entityId);else if("label"in g)e.entityIds[h][d](g.label);
else e.entityIds[h][d](null);break;case "entityCodes":if(e.entityCodes&&e.entityCodes.length)if(!h&&"entityCode"in g)e.entityCodes[h][d](g.entityCode);else e.entityCodes[h][d](null);break;case "entityLongIds":if(e.entityLongIds&&e.entityLongIds.length)if(h)e.entityLongIds[h][d](-1);else if("entityLongId"in g)t=g.entityLongId,e.entityLongIds[h][d](t);else{t=-2;n=e.entityLongIds[h];m=n.length;for(k=0;k<m;k++)n[k]<=t&&(t=n[k]-1);n[d](t)}break;case "parentEntityLongIds":if(e.parentEntityLongIds&&e.parentEntityLongIds.length)if(!h&&
"parentEntityLongId"in g)e.parentEntityLongIds[h][d](g.parentEntityLongId);else e.parentEntityLongIds[h][d](-1);break;case "labels":if(e.labels&&e.labels.length)if(!h&&"label"in g)e.labels[h][d](g.label);else e.labels[h][d](null);break;case "treeLineSequences":if(e.treeLineSequences&&e.treeLineSequences.length)if(!h&&"treeLineSequence"in g)e.treeLineSequences[h][d](g.treeLineSequence);else e.treeLineSequences[h][d](null);break;case "isEditable":case "isAggregate":case "canDelete":case "isItemEditable":case "canInsertSibling":if(e[a]&&
e[a].length)if(!h&&a in g)e[a][h][d](g[a]);else e[a][h][d](!1);break;case "span":if(e.span&&e.span.length)e.span[h][d](0);break;case "showLabel":if(e.showLabel&&e.showLabel.length)e.showLabel[h][d](h?!1:!0);break;case "heldRangeIndices":if(e.heldRangeIndices&&e.heldRangeIndices.length)e.heldRangeIndices[h][d](-1)}}return t},appendItemToLabelPage:function(e,g){return this._addItemToLabelPage(e,g,"push")},prependItemToLabelPage:function(e,g){return this._addItemToLabelPage(e,g,"unshift")},getAsObjectArray:function(e){var g=
[],d,a;if(!e)return console.warn("anaplan.utils.LabelPageHelper#getAsObjectArray: missing label page"),g;if(1<e.nestingCount)return console.warn("anaplan.utils.LabelPageHelper#getAsObjectArray: nested dimensions not supported"),g;d=0;for(a=e.count;d<a;d++)g.push({name:e.labels[0][d],id:e.entityLongIds[0][d]});return g},getOrderedParentChildArray:function(e){var g=[];if(!e)return g;for(var d=e.entityLongIds[0],a=e.parentEntityLongIds[0],h=e.entityIds[0],b=e.isAggregate[0],f=e.isEditable[0],k=e.canDelete[0],
m=e.isItemEditable[0],n=e.canInsertSibling[0],l=0;l<e.count;l++)g.push({entityLongId:d&&d.length?d[l]:null,parentEntityLongId:a&&a?a[l]:null,name:this.getItemName(e,0,l),entityId:h&&h.length?h[l]:null,isAggregate:b&&b.length?b[l]:null,isEditable:f&&f.length?f[l]:null,itemIndex:l,canDelete:k&&k.length?k[l]:!0,isItemEditable:m&&m.length?m[l]:!0,canInsertSibling:n&&n.length?n[l]:!0});return g},getItems:function(e,g){for(var d=[],a=null,h,b=0;b<e.length;b++)a=e[b],h={name:a.name,children:[],entityLongId:a.entityLongId,
parentEntityLongId:a.parentEntityLongId},g[a.entityLongId]=h;for(b=0;b<e.length;b++)a=e[b],h=g[a.entityLongId],-1!=a.parentEntityLongId&&g[a.parentEntityLongId]?g[a.parentEntityLongId].children.push(h):d.push(h);return[{name:"root",children:d,entityLongId:"root"}]},getFirstItemInLabelPage:function(e){var g=null;if(e.count)for(var d=e.nestingCount,g={entityLongIds:Array(d),labels:Array(d)},a=0;a<d;a++)g.entityLongIds[a]=e.entityLongIds[a][0],g.labels[a]=e.labels[a][0];return g},filterLabelPage:function(e,
g){var d={start:0,count:0,nestingCount:e.nestingCount},a=e.nestingCount,h=k.getObjectKeys(e),b=h.length,t,m,n;for(t=0;t<b;t++)if(m=h[t],!d.hasOwnProperty(m))if(e[m]){d[m]=Array(a);for(n=0;n<a;n++)d[m][n]=[]}else d[m]=null;var l=["start","nestingCount","count"],q=e.count,w,x;for(x=0;x<q;x++){w={nestingCount:a};for(t=0;t<b;t++)m=h[t],-1===f.indexOf(l,m)&&(w[m]=e[m]?f.map(e[m],function(a){return a[x]}):null);if(g(w,x)){for(t=0;t<b;t++)if(m=h[t],-1===f.indexOf(l,m))if(d[m])for(n=0;n<a;n++)d[m][n].push(e[m][n][x]);
else w[m]=null;d.count++}}return d}};p.setObject("anaplan.utils.LabelPageHelper",h);return h})},"anaplan/view/ManageImportSources/_EditSFDCSelection":function(){define("anaplan/anapediaKeys dojo/_base/declare anaplan/utils/FormatHelper dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/_base/event dojo/keys anaplan/widgets/HelpBox dojo/i18n!anaplan/nls/imports dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/EditSFDCSelection.html dijit/form/TextBox dijit/form/CheckBox dijit/form/NumberSpinner anaplan/widgets/Button anaplan/widgets/SimpleTextarea".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return s([q,f,k,n],{templateString:r,baseClass:"manageImportSources_EditSFDCSelection",widgetsInTemplate:!0,lblNext:d.buttonNext,lblCancel:a.buttonCancel,lblApiVersion:d.labelApiVersion,lblPrimaryObject:d.labelPrimaryObject,lblRelationship:d.labelRelationships,lblFieldSelection:d.labelFieldSelection,lblAddCustomFields:d.labelAddCustomFields,constructor:function(){this.inherited(arguments)},_onShow:function(){this.onTitleChange(d.titleEditSource);this.onHelpChange(l.manageImportSources)},
setCredentials:function(a){this._credentials=a},setSourceDefinition:function(a){this._sourceDefinition=a;this.apiVersionSpinner.set("value",Number(a.apiVersion));this.primaryObjectTextBox.set("value",a.primaryObject);this.relationshipsTextBox.set("value",a.relationships);this.fieldSelectionTextBox.set("value",a.fields);this.addCustomFieldsCheckBox.setValue("true"===a.addCustomFields)},_onCancel:function(){this.onCancel()},_onCancelButtonClick:function(){this._onCancel()},_onKeyDown:function(a){switch(a.keyCode){case h.ESCAPE:this._onCancel(),
m.stop(a)}},_onKeyPress:function(a){a&&a.currentTarget===this.domNode&&a.stopPropagation()},_onNextButtonClick:function(){var a=this.apiVersionSpinner.get("value");a?this._sourceDefinition.apiVersion=a:delete this._sourceDefinition.apiVersion;this._sourceDefinition.primaryObject=this.primaryObjectTextBox.get("value");this._sourceDefinition.relationships=this.relationshipsTextBox.get("value");this._sourceDefinition.fields=this.fieldSelectionTextBox.get("value");this._sourceDefinition.addCustomFields=
this.addCustomFieldsCheckBox.get("checked")&&!0;this.onNext(this._credentials,this._sourceDefinition)},onTitleChange:function(){},onHelpChange:function(){},onNext:function(){},onCancel:function(){}})})},"dojox/encoding/crypto/Blowfish":function(){define(["dojo/_base/lang","dojo/_base/array","../base64","./_base"],function(l,s,p,q){q.Blowfish=new function(){function f(a,d){return(a>>16^d>>16)<<16|(a&65535^d&65535)&65535}function k(a,d){var e=d.s3[a&255];a>>=8;var g=d.s2[a&255];a>>=8;var h=d.s1[a&255],
f=d.s0[a>>8&255],h=(f>>16)+(h>>16)+((f&65535)+(h&65535)>>16)<<16|(f&65535)+(h&65535)&65535,h=(h>>16^g>>16)<<16|(h&65535^g&65535)&65535;return(h>>16)+(e>>16)+((h&65535)+(e&65535)>>16)<<16|(h&65535)+(e&65535)&65535}function n(a,d){var e=a.left,g=a.right,e=f(e,d.p[0]),g=f(g,f(k(e,d),d.p[1])),e=f(e,f(k(g,d),d.p[2])),g=f(g,f(k(e,d),d.p[3])),e=f(e,f(k(g,d),d.p[4])),g=f(g,f(k(e,d),d.p[5])),e=f(e,f(k(g,d),d.p[6])),g=f(g,f(k(e,d),d.p[7])),e=f(e,f(k(g,d),d.p[8])),g=f(g,f(k(e,d),d.p[9])),e=f(e,f(k(g,d),d.p[10])),
g=f(g,f(k(e,d),d.p[11])),e=f(e,f(k(g,d),d.p[12])),g=f(g,f(k(e,d),d.p[13])),e=f(e,f(k(g,d),d.p[14])),g=f(g,f(k(e,d),d.p[15])),e=f(e,f(k(g,d),d.p[16]));a.right=e;a.left=f(g,d.p[17])}function m(a,d){var e=a.left,g=a.right,e=f(e,d.p[17]),g=f(g,f(k(e,d),d.p[16])),e=f(e,f(k(g,d),d.p[15])),g=f(g,f(k(e,d),d.p[14])),e=f(e,f(k(g,d),d.p[13])),g=f(g,f(k(e,d),d.p[12])),e=f(e,f(k(g,d),d.p[11])),g=f(g,f(k(e,d),d.p[10])),e=f(e,f(k(g,d),d.p[9])),g=f(g,f(k(e,d),d.p[8])),e=f(e,f(k(g,d),d.p[7])),g=f(g,f(k(e,d),d.p[6])),
e=f(e,f(k(g,d),d.p[5])),g=f(g,f(k(e,d),d.p[4])),e=f(e,f(k(g,d),d.p[3])),g=f(g,f(k(e,d),d.p[2])),e=f(e,f(k(g,d),d.p[1]));a.right=e;a.left=f(g,d.p[0])}function h(a){var d=a;l.isString(d)&&(d=s.map(d.split(""),function(a){return a.charCodeAt(0)&255}));var g=0,h=0;a={left:0,right:0};var f,k,m,x={p:s.map(r.p.slice(0),function(a){var b=d.length,f;for(f=0;4>f;f++)h=h*e|d[g++%b];return(a>>16^h>>16)<<16|(a&65535^h&65535)&65535}),s0:r.s0.slice(0),s1:r.s1.slice(0),s2:r.s2.slice(0),s3:r.s3.slice(0)};f=0;for(m=
x.p.length;f<m;)n(a,x),x.p[f++]=a.left,x.p[f++]=a.right;for(f=0;4>f;f++){k=0;for(m=x["s"+f].length;k<m;)n(a,x),x["s"+f][k++]=a.left,x["s"+f][k++]=a.right}return x}Math.pow(2,2);Math.pow(2,3);Math.pow(2,4);var e=Math.pow(2,8),g=Math.pow(2,16),d=Math.pow(2,24),a=null,r={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,
3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,
2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,
1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,
4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,
1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,
2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971E4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,
1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,
1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,
503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,
2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,
2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,
3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,
1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,
3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,
443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,
296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,
150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,
2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,
60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,
4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409E3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,
3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,
1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]};this.getIV=function(b){switch(b||q.outputTypes.Base64){case q.outputTypes.Hex:return s.map(a,function(a){return(15>=
a?"0":"")+a.toString(16)}).join("");case q.outputTypes.String:return a.join("");case q.outputTypes.Raw:return a;default:return p.encode(a)}};this.setIV=function(b,h){var f=null;switch(h||q.outputTypes.Base64){case q.outputTypes.String:f=s.map(b.split(""),function(a){return a.charCodeAt(0)});break;case q.outputTypes.Hex:for(var f=[],r=0,k=b.length-1;r<k;r+=2)f.push(parseInt(b.substr(r,2),16));break;case q.outputTypes.Raw:f=b;break;default:f=p.decode(b)}a={};a.left=f[0]*d|f[1]*g|f[2]*e|f[3];a.right=
f[4]*d|f[5]*g|f[6]*e|f[7]};this.encrypt=function(b,f,r){var k=q.outputTypes.Base64,m=q.cipherModes.ECB;r&&(r.outputType&&(k=r.outputType),r.cipherMode&&(m=r.cipherMode));f=h(f);var l=8-(b.length&7);for(r=0;r<l;r++)b+=String.fromCharCode(l);var l=[],w=b.length>>3,x=0,A={},m=m==q.cipherModes.CBC,D=a.left||null,E=a.right||null;for(r=0;r<w;r++)A.left=b.charCodeAt(x)*d|b.charCodeAt(x+1)*g|b.charCodeAt(x+2)*e|b.charCodeAt(x+3),A.right=b.charCodeAt(x+4)*d|b.charCodeAt(x+5)*g|b.charCodeAt(x+6)*e|b.charCodeAt(x+
7),m&&(A.left=(A.left>>16^D>>16)<<16|(A.left&65535^D&65535)&65535,A.right=(A.right>>16^E>>16)<<16|(A.right&65535^E&65535)&65535),n(A,f),m&&(D=A.left,E=A.right),l.push(A.left>>24&255),l.push(A.left>>16&255),l.push(A.left>>8&255),l.push(A.left&255),l.push(A.right>>24&255),l.push(A.right>>16&255),l.push(A.right>>8&255),l.push(A.right&255),x+=8;switch(k){case q.outputTypes.Hex:return s.map(l,function(a){return(15>=a?"0":"")+a.toString(16)}).join("");case q.outputTypes.String:return l.join("");case q.outputTypes.Raw:return l;
default:return p.encode(l)}};this.decrypt=function(b,f,r){var k=q.outputTypes.Base64,n=q.cipherModes.ECB;r&&(r.outputType&&(k=r.outputType),r.cipherMode&&(n=r.cipherMode));r=h(f);f=[];var l=null;switch(k){case q.outputTypes.Hex:for(var l=[],k=0,w=b.length-1;k<w;k+=2)l.push(parseInt(b.substr(k,2),16));break;case q.outputTypes.String:l=s.map(b.split(""),function(a){return a.charCodeAt(0)});break;case q.outputTypes.Raw:l=b;break;default:l=p.decode(b)}b=l.length>>3;for(var w=0,x={},n=n==q.cipherModes.CBC,
A=a.left||null,D=a.right||null,k=0;k<b;k++){x.left=l[w]*d|l[w+1]*g|l[w+2]*e|l[w+3];x.right=l[w+4]*d|l[w+5]*g|l[w+6]*e|l[w+7];if(n)var E=x.left,B=x.right;m(x,r);n&&(x.left=(x.left>>16^A>>16)<<16|(x.left&65535^A&65535)&65535,x.right=(x.right>>16^D>>16)<<16|(x.right&65535^D&65535)&65535,A=E,D=B);f.push(x.left>>24&255);f.push(x.left>>16&255);f.push(x.left>>8&255);f.push(x.left&255);f.push(x.right>>24&255);f.push(x.right>>16&255);f.push(x.right>>8&255);f.push(x.right&255);w+=8}if(f[f.length-1]==f[f.length-
2]||1==f[f.length-1])E=f[f.length-1],f.splice(f.length-E,E);return s.map(f,function(a){return String.fromCharCode(a)}).join("")};this.setIV("0000000000000000",q.outputTypes.Hex)};return q.Blowfish})},"anaplan/view/Filter/DisabledTab":function(){define("anaplan/utils/FormatHelper dojo/string dijit/_WidgetBase dojo/i18n!anaplan/nls/filter dojo/_base/declare dojo/dom-class dojo/dom-construct".split(" "),function(l,s,p,q,f,k,n){return f([p],{constructor:function(f){this._axisSpecification=f.axisSpecification},
postCreate:function(){k.add(this.domNode,"filterTab");var f=document.createElement("span");f.innerHTML=s.substitute(l.searchAndReplacePlaceholders(q.infoFilterDisabledAxis),{cause:this.causeLabel});n.place(f,this.domNode)},getAxisSpecification:function(){return this._axisSpecification},isDisabled:function(){return!0},isValid:function(){return!0}})})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(l,s,p,q,f,k,n,m){function h(d){return g(d)}function e(d){return d.data||d.text}l.deepCopy=function(d,a){for(var e in a){var b=d[e],g=a[e];b!==g&&(b&&"object"===typeof b&&g&&"object"===typeof g?l.deepCopy(b,g):d[e]=g)}return d};l.deepCreate=function(d,a){a=a||{};var e=n.delegate(d),b,g;for(b in d)(g=d[b])&&"object"===typeof g&&(e[b]=l.deepCreate(g,a[b]));return l.deepCopy(e,a)};var g=Object.freeze||function(d){return d};l.deferred=function(d,a,f,b,t,k){var v=new q(function(b){a&&a(v,d);return!b||
!(b instanceof s)&&!(b instanceof p)?new p("Request canceled",d):b});v.response=d;v.isValid=f;v.isReady=b;v.handleResponse=t;f=v.then(h).otherwise(function(a){a.response=d;throw a;});l.notify&&f.then(n.hitch(l.notify,"emit","load"),n.hitch(l.notify,"emit","error"));b=f.then(e);t=new m;for(var z in b)b.hasOwnProperty(z)&&(t[z]=b[z]);t.response=f;g(t);k&&v.then(function(a){k.call(v,a)},function(a){k.call(v,d,a)});v.promise=t;v.then=t.then;return v};l.addCommonMethods=function(d,a){k.forEach(a||["GET",
"POST","PUT","DELETE"],function(a){d[("DELETE"===a?"DEL":a).toLowerCase()]=function(b,e){e=n.delegate(e||{});e.method=a;return d(b,e)}})};l.parseArgs=function(d,a,e){var b=a.data,g=a.query;b&&!e&&"object"===typeof b&&(a.data=f.objectToQuery(b));g?("object"===typeof g&&(g=f.objectToQuery(g)),a.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):a.preventCache&&(g="request.preventCache\x3d"+ +new Date);d&&g&&(d+=(~d.indexOf("?")?"\x26":"?")+g);return{url:d,options:a,getHeader:function(a){return null}}};
l.checkStatus=function(d){d=d||0;return 200<=d&&300>d||304===d||1223===d||!d}})},"anaplan/api/Entities/FunctionalAreas":function(){define(["dojo/_base/declare","anaplan/api/Entities/Base/FetchableEntity","anaplan/api/Entity/FunctionalArea","anaplan/api/Fetchers/functionalAreas"],function(l,s,p,q){return l([s],{_fetcher:q,_entityClass:p})})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),
function(l,s,p,q,f,k,n,m,h){p=p("dojo.data.ItemFileReadStore",[k],{constructor:function(e){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=e.url;this._jsonData=e.data;this.data=null;this._datatypeMap=e.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(e){return h.fromISOString(e)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==e.urlPreventCache&&(this.urlPreventCache=e.urlPreventCache?!0:!1);void 0!==e.hierarchical&&(this.hierarchical=e.hierarchical?!0:!1);e.clearOnClose&&(this.clearOnClose=!0);"failOk"in e&&(this.failOk=e.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(e){if(!this.isItem(e))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(e){if("string"!==typeof e)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(e,g,d){e=this.getValues(e,g);return 0<e.length?e[0]:d},getValues:function(e,g){this._assertIsItem(e);this._assertIsAttribute(g);return(e[g]||[]).slice(0)},getAttributes:function(e){this._assertIsItem(e);var g=[],d;for(d in e)d!==this._storeRefPropName&&(d!==this._itemNumPropName&&d!==this._rootItemPropName&&d!==this._reverseRefMap)&&
g.push(d);return g},hasAttribute:function(e,g){this._assertIsItem(e);this._assertIsAttribute(g);return g in e},containsValue:function(e,g,d){var a=void 0;"string"===typeof d&&(a=n.patternToRegExp(d,!1));return this._containsValue(e,g,d,a)},_containsValue:function(e,g,d,a){return q.some(this.getValues(e,g),function(e){if(null!==e&&!s.isObject(e)&&a){if(e.toString().match(a))return!0}else if(d===e)return!0})},isItem:function(e){return e&&e[this._storeRefPropName]===this&&this._arrayOfAllItems[e[this._itemNumPropName]]===
e?!0:!1},isItemLoaded:function(e){return this.isItem(e)},loadItem:function(e){this._assertIsItem(e.item)},getFeatures:function(){return this._features},getLabel:function(e){if(this._labelAttr&&this.isItem(e))return this.getValue(e,this._labelAttr)},getLabelAttributes:function(e){return this._labelAttr?[this._labelAttr]:null},filter:function(e,g,d){var a=[],h,b;if(e.query){var f;h=e.queryOptions?e.queryOptions.ignoreCase:!1;var k={};for(b in e.query)f=e.query[b],"string"===typeof f?k[b]=n.patternToRegExp(f,
h):f instanceof RegExp&&(k[b]=f);for(h=0;h<g.length;++h){var m=!0,l=g[h];if(null===l)m=!1;else for(b in e.query)f=e.query[b],this._containsValue(l,b,f,k[b])||(m=!1);m&&a.push(l)}}else for(h=0;h<g.length;++h)b=g[h],null!==b&&a.push(b);d(a,e)},_fetchItems:function(e,g,d){var a=this;if(this._loadFinished)this.filter(e,this._getItemsArray(e.queryOptions),g);else if(this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:e,filter:s.hitch(a,"filter"),findCallback:s.hitch(a,g)});else{this._loadInProgress=!0;var h=f.get({url:a._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});h.addCallback(function(b){try{a._getItemsFromLoadedData(b),
a._loadFinished=!0,a._loadInProgress=!1,a.filter(e,a._getItemsArray(e.queryOptions),g),a._handleQueuedFetches()}catch(h){a._loadFinished=!0,a._loadInProgress=!1,d(h,e)}});h.addErrback(function(b){a._loadInProgress=!1;d(b,e)});var b=null;e.abort&&(b=e.abort);e.abort=function(){h&&-1===h.fired&&h.cancel();b&&b.call(e)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,a.filter(e,this._getItemsArray(e.queryOptions),g)}catch(t){d(t,e)}else d(Error(this.declaredClass+
": No JSON source data was provided as either URL or a nested Javascript object."),e)},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var e=0;e<this._queuedFetches.length;e++){var g=this._queuedFetches[e],d=g.args,a=g.filter,g=g.findCallback;a?a(d,this._getItemsArray(d.queryOptions),g):this.fetchItemByIdentity(d)}this._queuedFetches=[]}},_getItemsArray:function(e){return e&&e.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(e){this.clearOnClose&&(this._loadFinished&&
!this._loadInProgress)&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(e){function g(b){return null!==b&&"object"===typeof b&&(!s.isArray(b)||a)&&!s.isFunction(b)&&(b.constructor==Object||s.isArray(b))&&"undefined"===typeof b._reference&&"undefined"===typeof b._type&&"undefined"===typeof b._value&&h.hierarchical}function d(a){h._arrayOfAllItems.push(a);for(var b in a){var e=
a[b];if(e)if(s.isArray(e))for(var f=0;f<e.length;++f){var k=e[f];g(k)&&d(k)}else g(e)&&d(e)}}var a=!1,h=this;this._labelAttr=e.label;var b,f;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=e.items;for(b=0;b<this._arrayOfTopLevelItems.length;++b)f=this._arrayOfTopLevelItems[b],s.isArray(f)&&(a=!0),d(f),f[this._rootItemPropName]=!0;var k={},m;for(b=0;b<this._arrayOfAllItems.length;++b)for(m in f=this._arrayOfAllItems[b],f){if(m!==this._rootItemPropName){var n=f[m];null!==n?s.isArray(n)||(f[m]=[n]):
f[m]=[null]}k[m]=m}for(;k[this._storeRefPropName];)this._storeRefPropName+="_";for(;k[this._itemNumPropName];)this._itemNumPropName+="_";for(;k[this._reverseRefMap];)this._reverseRefMap+="_";if(k=e.identifier){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=k;for(b=0;b<this._arrayOfAllItems.length;++b)if(f=this._arrayOfAllItems[b],e=f[k],e=e[0],Object.hasOwnProperty.call(this._itemsByIdentity,e)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+
this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+k+"].  Value collided: ["+e+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+k+"].  Value collided: ["+e+"]");}else this._itemsByIdentity[e]=f}else this._features["dojo.data.api.Identity"]=Number;for(b=0;b<this._arrayOfAllItems.length;++b)f=this._arrayOfAllItems[b],f[this._storeRefPropName]=this,f[this._itemNumPropName]=
b;for(b=0;b<this._arrayOfAllItems.length;++b)for(m in f=this._arrayOfAllItems[b],f){e=f[m];for(k=0;k<e.length;++k)if(n=e[k],null!==n&&"object"==typeof n){if("_type"in n&&"_value"in n){var l=n._type,w=this._datatypeMap[l];if(w)if(s.isFunction(w))e[k]=new w(n._value);else if(s.isFunction(w.deserialize))e[k]=w.deserialize(n._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+
l+"'");}if(n._reference){n=n._reference;if(s.isObject(n))for(l=0;l<this._arrayOfAllItems.length;++l){var w=this._arrayOfAllItems[l],x=!0,q;for(q in n)w[q]!=n[q]&&(x=!1);x&&(e[k]=w)}else e[k]=this._getItemByIdentity(n);this.referenceIntegrity&&(n=e[k],this.isItem(n)&&this._addReferenceToMap(n,f,m))}else this.isItem(n)&&this.referenceIntegrity&&this._addReferenceToMap(n,f,m)}}},_addReferenceToMap:function(e,g,d){},getIdentity:function(e){var g=this._features["dojo.data.api.Identity"];return g===Number?
e[this._itemNumPropName]:(e=e[g])?e[0]:null},fetchItemByIdentity:function(e){var g,d;if(this._loadFinished)g=this._getItemByIdentity(e.identity),e.onItem&&(d=e.scope?e.scope:l.global,e.onItem.call(d,g));else{var a=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:e}):(this._loadInProgress=!0,d=f.get({url:a._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),d.addCallback(function(d){var b=e.scope?e.scope:l.global;try{a._getItemsFromLoadedData(d),a._loadFinished=!0,a._loadInProgress=!1,g=a._getItemByIdentity(e.identity),e.onItem&&e.onItem.call(b,g),a._handleQueuedFetches()}catch(h){a._loadInProgress=
!1,e.onError&&e.onError.call(b,h)}}),d.addErrback(function(d){a._loadInProgress=!1;e.onError&&e.onError.call(e.scope?e.scope:l.global,d)})):this._jsonData&&(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0,g=a._getItemByIdentity(e.identity),e.onItem&&(d=e.scope?e.scope:l.global,e.onItem.call(d,g)))}},_getItemByIdentity:function(e){var g=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,e)&&(g=this._itemsByIdentity[e]):Object.hasOwnProperty.call(this._arrayOfAllItems,
e)&&(g=this._arrayOfAllItems[e]);void 0===g&&(g=null);return g},getIdentityAttributes:function(e){e=this._features["dojo.data.api.Identity"];return e===Number?null:[e]},_forceLoad:function(){var e=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=
this.data&&(this._jsonData=this.data,this.data=null);if(this._jsonFileUrl){var g=f.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});g.addCallback(function(d){try{if(!0!==e._loadInProgress&&!e._loadFinished)e._getItemsFromLoadedData(d),e._loadFinished=!0;else if(e._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(a){throw a;}});g.addErrback(function(d){throw d;
})}else this._jsonData&&(e._getItemsFromLoadedData(e._jsonData),e._jsonData=null,e._loadFinished=!0)}});s.extend(p,m);return p})},"anaplan/gridlet/_editor/dataTypes/Base":function(){define("dojo/_base/declare dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n!anaplan/nls/dataType".split(" "),function(l,s,p,q,f,k){return l([p,q,f],{nlsLabels:k,dataType:"Base",_setVisibleAttr:function(f){s.set(this.domNode,"display",f?"block":"none")},buildFormat:function(){return{dataType:this.dataType}},
setFormat:function(f){this.dataType=f.dataType}})})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){var a=s("dojo.dnd.Selector",d,{constructor:function(a,b){b||(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(h(this.node,e.press,q.hitch(this,
"onMouseDown")),h(this.node,e.release,q.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new m,b=g._empty,d;for(d in this.selection)d in b||a.push(f.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(f.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=g._empty,b;for(b in this.selection)if(!(b in a)){var d=
f.byId(b);this.delItem(b);k.destroy(d)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||p.global;var d=this.selection,e=g._empty,h;for(h in d)h in e||a.call(b,this.getItem(h),h,this)},sync:function(){a.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var d=[],b=g._empty,e;for(e in this.selection)e in b||this.getItem(e)||d.push(e);l.forEach(d,function(a){delete this.selection[a]},this);return this},insertNodes:function(d,
b,e,g){var h=this._normalizedCreator;this._normalizedCreator=function(a,b){var e=h.call(this,a,b);d?(this.anchor?this.anchor!=e.node&&(this._removeItemClass(e.node,"Anchor"),this._addItemClass(e.node,"Selected")):(this.anchor=e.node,this._removeItemClass(e.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[e.node.id]=1):(this._removeItemClass(e.node,"Selected"),this._removeItemClass(e.node,"Anchor"));return e};a.superclass.insertNodes.call(this,b,e,g);this._normalizedCreator=
h;return this},destroy:function(){a.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!g.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,n.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){g.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,
"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var d=0,e;d<b.length&&!(e=b[d],e==this.anchor||e==this.current);++d);for(++d;d<b.length;++d){e=b[d];if(e==this.anchor||e==this.current)break;this._addItemClass(e,"Selected");this.selection[e.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?g.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,
"Anchor"),this.selection[this.current.id]=1):g.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||
(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=h(this.node,e.move,q.hitch(this,"onMouseMove"))},
onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=g._empty,b;for(b in this.selection)if(!(b in a)){var d=f.byId(b);d&&this._removeItemClass(d,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return a})},"anaplan/gridlet/ViewRequestGridModel":function(){define("anaplan/constants anaplan/data/_WritableModel anaplan/data/Aggregator anaplan/data/CacheVisitor anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/data/UpdatesCache anaplan/data/ViewRequestGridModel/_ListLoader anaplan/Exceptions anaplan/gridlet/GridSizer anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/view/_SubsidiaryViewLabelDecorator dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/has dojo/i18n!anaplan/nls/gridlet dojo/json dojo/promise/all dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){return u([s],{forceLoadCellLimit:z("ie")&&9>z("ie")?2E3:1E4,constructor:function(a){this._rowsPerPage=a.rowsPerPage||50;this._columnsPerPage=a.columnsPerPage||30;this._labelDecorators=a.labelDecorators||[];this._cellDecorators=a.cellDecorators||[];this._showBreakbackMarkers=a.showBreakbackMarkers||!1;this._listFilterChanges={};this._connections=[];this._listLoader=new h({});this._startColumnIndex=this._startRowIndex=0;this.reset()},addListFilterChange:function(a,
b){var d=a.join("");this._listFilterChanges.hasOwnProperty(d)||(this._listFilterChanges[d]=[]);this._listFilterChanges[d].push(b)},getRowsPerPage:function(){return this._rowsPerPage},addSubmissions:function(a){try{var b=n.createRequest(workspaceId,a,[],[]);p.gather(b)}catch(d){throw new e.ClientException("anaplan.gridlet.ViewRequestGridModel: insertRows",d);}},addViewChange:function(a,b,d){a=this._addViewChange(a,b,d);this._aggregator.gather();return a},addViewChanges:function(a,b,d){a=t.map(a,v.hitch(this,
function(a){return this._addViewChange(a,b,d)}));this._aggregator.gather();return x(a)},assertSupportedColumnRange:function(a){if(a&&(a=0>a.x[0]||0>a.x[1]?0:a.x[1]-a.x[0]+1,a>this.forceLoadCellLimit))throw new e.UnsupportedOperationException(y.cellCountExceeded,null,{cellCount:a,maxCellCount:this.forceLoadCellLimit});},assertSupportedRange:function(a){if(a){var b=this.forceLoadCellLimit,d=0>a.y[0]||0>a.y[1]?0:a.y[1]-a.y[0]+1;a=0>a.x[0]||0>a.x[1]?0:a.x[1]-a.x[0]+1;var g=d*a;if(d>b||a>b||g>b)throw new e.UnsupportedOperationException(y.cellCountExceeded,
null,{cellCount:g,maxCellCount:b});}},assertSupportedRowRange:function(a){if(a&&(a=0>a.y[0]||0>a.y[1]?0:a.y[1]-a.y[0]+1,a>this.forceLoadCellLimit))throw new e.UnsupportedOperationException(y.cellCountExceeded,null,{cellCount:a,maxCellCount:this.forceLoadCellLimit});},assertSupportedColumnRanges:function(a){for(var b=a.length,d=0;d<b;d++)this.assertSupportedColumnRange(a[d])},assertSupportedRanges:function(a){for(var b=a.length,d=0;d<b;d++)this.assertSupportedRange(a[d])},assertSupportedRowRanges:function(a){for(var b=
a.length,d=0;d<b;d++)this.assertSupportedRowRange(a[d])},attemptClear:function(a){try{var b=this._checkView(a),e=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),serialNumbers:this.getSerialNumbers(),view:b,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting()});e.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);
e.getValues();var g=this._getStaticContextEntityLongIds(),h=d.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers),g=g.concat(h),f=e.getRowLabelsObject(),k=e.getColumnLabelsObject(),t=b.y[1]-b.y[0]+1,n=b.x[1]-b.x[0]+1,u=this._readCache.getColumnNesting(),v=Array(n),x,z;for(a=0;a<n;a++){v[a]=[];for(x=0;x<u;x++)v[a].push(k.entityLongIds[x][a])}var p=this._readCache.getRowNesting(),y=Array(t);for(z=0;z<t;z++){y[z]=[];for(x=0;x<p;x++)y[z].push(f.entityLongIds[x][z])}var A=
e.getCellsObject(),e=0,s=new m({style:"new",operations:[l.dataInputUndoOperations.CLEAR]}),f=0,R,W,Y,T,ca,X,k=t*n;for(z=0;z<t;z++)for(u=0;u<n;u++){ca=null;if("SUMMARY"!==A.formats[e].dataType&&A.isEditable[e]&&(!A.isCalculated[e]||1===k)){W="";Y=A.cellValues[e];X=A.formats[e];switch(A.formats[e].dataType){case "NUMBER":W="0";break;case "FORMAT":W=w.stringify(l.DEFAULT_NUMBER_FORMAT_DEFINITION);Y=w.stringify(A.cellValues[e]);break;case "ACTION_DEFINITION":Y=w.stringify(A.cellValues[e]);break;case "ENTITY":var ba=
this.getSelectorLabelPageItemByEntityLongIdSync(Y,X.hierarchyEntityLongId);ca=ba?ba.entityId:null}T=null!==A.originalText[e]?A.originalText[e]:"";R=g.concat(y[z],v[u]);s.addCellUpdate({modelId:modelId,format:A.formats[e],entityLongIds:R,originalText:Y,currentDisplayText:T,currentEntityId:ca,cellText:W,isCalculated:!1,isEditable:!1,writeableLeafCellCount:0,viewIndex:this._viewIndex},z+b.y[0],u+b.x[0])}else f++;e++}return{updatesCache:s,updatesReport:{invalidEntityCount:-1,invalidNumberCount:-1,invalidDateCount:-1,
noValueSuppliedCount:-1,readOnlyCount:f}}}catch($){r.throwClientException(this,$)}},attemptCopyAcross:function(a,b,e){var g=t.map(b,v.hitch(this,function(a){return t.map(a,v.hitch(this,function(a){a=v.mixin(v.clone(a),{parsedOriginalText:a.originalText});var b=a.format;"ENTITY"===b.dataType&&(a.cellText&&a.cellText.length)&&((b=this.getSelectorLabelPageItemByEntityLongIdSync(a.cellValue,b.hierarchyEntityLongId))?a.parsedOriginalText=b.entityId:console.warn("attemptCopyAcross did not find "+a.cellValue));
return a}))})),h=this._checkView(a);a=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),serialNumbers:this.getSerialNumbers(),view:h,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting()});a.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);a.getValues();var f=this._getStaticContextEntityLongIds();b=d.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers);
var f=f.concat(b),r=a.getRowLabelsObject(),k=a.getColumnLabelsObject(),n=a.getCellsObject();a=h.y[1]-h.y[0]+1;b=h.x[1]-h.x[0]+1;var u=g.length,x=g[0].length,w=new m({style:"new",operations:[l.dataInputUndoOperations.COPY+"_"+e.toUpperCase()]}),z=0,p=0,y=0,A=0,s=function(a,b,d,e,m,u){if(n.isCalculated[a])A++;else if(n.isEditable[a]){e=g[e][m];m=e.parsedOriginalText;var v=n.formats[a];if(v.dataType===e.format.dataType||"TEXT"===v.dataType){var l=null;"ENTITY"===v.dataType&&(l=(v=this.getSelectorLabelPageItemByEntityLongIdSync(n.cellValues[a],
n.formats[a].hierarchyEntityLongId))?v.entityId:null);w.addCellUpdate({modelId:modelId,format:n.formats[a],entityLongIds:f.concat(r.count?t.map(r.entityLongIds,function(a){return void 0==a[b]?-1:a[b]}):[],k.count?t.map(k.entityLongIds,function(a){return void 0==a[d]?-1:a[d]}):[]),originalText:n.cellValues[a],currentDisplayText:null!=n.originalText[a]?n.originalText[a]:"",currentEntityId:l,newDisplayText:e.cellText,cellText:m,isCalculated:!1,isEditable:!1,writeableLeafCellCount:0,viewIndex:u},b+h.y[0],
d+h.x[0])}else a=n.formats[a].dataType,"DATE"===a?z++:"NUMBER"===a?y++:"ENTITY"===a?p++:"TIME_ENTITY"===a&&p++}else A++}.bind(this),R,W,Y,T;if("up"===e||"left"===e){T=n.count-1;R=u-1;for(W=a;W--;){0>R&&(R=u-1);e=x-1;for(Y=b;Y--;)0>e&&(e=x-1),s(T,W,Y,R,e,this._viewIndex),T--,e--;R--}}else for(W=R=T=0;W<a;W++){R===u&&(R=0);for(Y=e=0;Y<b;Y++)e===x&&(e=0),s(T,W,Y,R,e,this._viewIndex),T++,e++;R++}return{updatesCache:w,updatesReport:{invalidEntityCount:p,invalidNumberCount:y,invalidNumberFormats:[],invalidDateCount:z,
noValueSuppliedCount:-1,readOnlyCount:A}}},attemptToggle:function(a){try{var b=this._checkView(a),e=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),serialNumbers:this.getSerialNumbers(),view:b,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting()});e.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);e.getValues();
var g=this._getStaticContextEntityLongIds(),h=d.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers),g=g.concat(h),f=e.getRowLabelsObject(),k=e.getColumnLabelsObject(),t=b.y[1]-b.y[0]+1,n=b.x[1]-b.x[0]+1,u=this._readCache.getColumnNesting(),v=Array(n),x;for(a=0;a<n;a++){v[a]=[];for(x=0;x<u;x++)v[a].push(k.entityLongIds[x][a])}for(var w=this._readCache.getRowNesting(),z=Array(t),k=0;k<t;k++){z[k]=[];for(x=0;x<w;x++)z[k].push(f.entityLongIds[x][k])}var p=e.getCellsObject(),
e=0,y=new m({operations:[l.dataInputUndoOperations.TOGGLE],style:"new"}),f=0,A,s,W;x=null;for(w=0;w<t;w++)for(k=0;k<n;k++){A=p.formats[e].dataType;u=null;if("BOOLEAN"===A||"ENTITY"===A||"TIME_ENTITY"===A)if(p.isEditable[e]){s=g.concat(z[w],v[k]);W=p.cellValues[e];"BOOLEAN"===A&&!x&&(x="true"==W?"false":"true");if("ENTITY"===A)var Y=this.getSelectorLabelPageItemByEntityLongIdSync(W,p.formats[e].hierarchyEntityLongId),u=Y?Y.entityId:null;y.addCellUpdate({modelId:modelId,format:p.formats[e],entityLongIds:s,
originalText:W,currentDisplayText:null!=p.originalText[e]?p.originalText[e]:"",currentEntityId:u,cellText:"BOOLEAN"===A?x:"",isCalculated:!1,isEditable:!1,writeableLeafCellCount:0,viewIndex:this._viewIndex},w+b.y[0],k+b.x[0])}else f++;e++}return{updatesCache:y,updatesReport:{invalidEntityCount:-1,invalidNumberCount:-1,invalidDateCount:-1,noValueSuppliedCount:-1,readOnlyCount:f}}}catch(T){r.throwClientException(this,T)}return null},clearAllListFilterChanges:function(){var a=v.clone(this._listFilterChanges);
this._listFilterChanges={};return a},clearListFilterChangesForDimensionIdentifiers:function(a){a=a.join("");this._listFilterChanges.hasOwnProperty(a)&&delete this._listFilterChanges[a]},destroy:function(){try{this.inherited(arguments);for(var a=0;a<this._labelDecorators.length;a++)this._labelDecorators[a].destroy();t.forEach(this._connections,function(a){a.remove()});this.onDestroy()}catch(b){throw new e.ClientException("anaplan.gridlet.ViewRequestGridModel.destroy",b);}},forceLoad:function(a,b,d,
e){this._forceLoad(a,b,d,e)},forceLoadColumnLabels:function(a,b,d,e){this._forceLoadColumnLabels(a,b,d,e)},forceLoadRowLabels:function(a,b,d,e){this._forceLoadRowLabels(a,b,d,e)},getCell:function(a,b){if(!this._initialized)throw new e.IllegalStateException("Must call initialize before getCell",null,null);return this._getCell(a,b)},getCellsObject:function(a,b,d,e){this._readCache.getRowNesting();a=new q({dataColumnCount:this._getColumnCount(),dataRowCount:this._getRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),
fixedRowCount:this._readCache.getFixedRowCount(),view:this._checkView({x:[d,e],y:[a,b]}),columnNesting:this._readCache.getColumnNesting(),rowNesting:this._readCache.getRowNesting()});a.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return a.getCellsObject()},getColumn:function(a){return this._getColumn(a)},getColumnIndexOfItem:function(a,b){return!this._readCache?-1:this._readCache.getColumnIndexOfItem(a,b)},getColumnLabelsObject:function(a,b){var d=this._readCache.getColumnNesting(),
d=new q({dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),view:this._checkView({x:[a,b],y:[-1,-d]}),rowNesting:this._readCache.getRowNesting(),columnNesting:d});d.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return d.getColumnLabelsObject()},getColumnSizes:function(){return!this._viewDefinition||!this._viewDefinition.columnSizes?null:this._viewDefinition.columnSizes},getEndColumnIndexOfItem:function(a,b){return!this._readCache?-1:this._readCache.getEndColumnIndexOfItem(a,
b)},getEndRowIndexOfItem:function(a,b){return!this._readCache?-1:this._readCache.getEndRowIndexOfItem(a,b)},getEntityType:function(a){return this._getEntityType(a)},getFormula:function(a){var b={label:null,entityLongId:null,expression:null,scope:null,isEditable:!1},e=this.getModuleEntityLongId(),e=f.getLineItemsLabelPage(e);if(!e)return b;for(var g=e.entityLongIds[0],e=e.labels[0],h=0;h<a.length;h++){var r=a[h],k=t.indexOf(g,r);if(-1!=k){var m=f.getLineItemInfo(r),n=this._getVersionEntityLongId(a);
-1==n?(b.entityLongId=r,b.expression=m.formula,b.isEditable=!0,b.label=e[k],b.scope=m.formulaScope):(a=f.getVersionsLabelPage(),g=t.indexOf(a.entityLongIds[0],n),m.resolvedFormulae&&m.resolvedFormulaTargets&&m.resolvedFormulae.length&&m.resolvedFormulaTargets.length?(h=m.resolvedFormulaTargets[g],b.expression=m.resolvedFormulae[g],b.isEditable=h==r,-1==h?(b.entityLongId=r,b.label=e[k]):(b.entityLongId=h,h==r?(b.label=e[k],b.scope=m.formulaScope):(e=d.getEntityTypeIndex(h),e==l.VERSION_ENTITY_TYPE_INDEX?
(h!=n&&console.warn("TODO: throw exception "+[h,n].join()),b.label=a.labels[0][g]):e==l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX?(e=f.getLineItemSubsetsLabelPage(),r=t.indexOf(e.entityLongIds[0],h),b.scope=e.labels[0][r],b.label=a.labels[0][g]):console.warn("TODO: throw exception? "+e)))):(b.entityLongId=r,b.label=e[k],b.expression=m.formula,b.scope=m.formulaScope,b.isEditable=!0));break}}return b},getLabelsAndCellsObjects:function(a){a=new q({dataColumnCount:this._getColumnCount(),dataRowCount:this._getRowCount(),
fixedColumnCount:this._readCache.getFixedColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),view:this._checkView(a)});a.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return{cellsObject:a.getCellsObject(),rowLabelsObject:a.getRowLabelsObject(),columnLabelsObject:a.getColumnLabelsObject()}},getLineItemSubsetId:function(){return this._getLineItemSubsetIdForViewDefinitionOrReference()},
getModuleId:function(){return this._getModuleIdForViewDefinitionOrReference()},getPrimarySelection:function(){var a=this._getStates()[0];if(a)return a.selections?a.selections[0]:void 0},getRow:function(a){return this._getRow(a)},getRowIndexOfItem:function(a,b){return!this._readCache?-1:this._readCache.getRowIndexOfItem(a,b)},getRowLabelsObject:function(a,b){var d=this._readCache.getRowNesting(),d=new q({dataRowCount:this._getRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),view:this._checkView({x:[-1,
-d],y:[a,b]}),rowNesting:d,columnNesting:this._readCache.getColumnNesting()});d.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return d.getRowLabelsObject()},getLabelPage:function(a,b,d,g){if(!this._initialized)throw new e.IllegalStateException("Must call initialize before getLabelPage",null,null);this._listLoader.getList(a,b,d,g);return null},getLabelPages:function(a,b){if(!this._initialized)throw new e.IllegalStateException("Must call initialize before getLabelPages",null,null);
this._listLoader.getLists(a,b);return null},getListFilterChanges:function(a){a=a.join("");return!this._listFilterChanges.hasOwnProperty(a)?[]:this._listFilterChanges[a]},getSelectorLabelPage:function(a,b,e,g){var h=this._getSelectorIndexUsingLabelPageMap(a);if(b){var f=this,r;null==h||!this._selectorLabelPages.length||null==this._selectorLabelPages[h]?this._forceLoadSelectorLabelPages(function(){h=f._getSelectorIndexUsingLabelPageMap(a);(r=f._getSelectorLabelPage(h))?b(r):f.getLabelPage(d.entityLongIdToEntityLongIdIdentifier(a),
function(a,d){b(d)})},e):(e=function(){(r=f._getSelectorLabelPage(h))?b(r):f.getLabelPage(d.entityLongIdToEntityLongIdIdentifier(a),function(a,d){b(d)})},g?setTimeout(e,25):e());return null}(!this._selectorLabelPages.length||!this._selectorLabelPages[h])&&this._forceLoadSelectorLabelPages();h=this._getSelectorIndexUsingLabelPageMap(a);return this._getSelectorLabelPage(h)},getSpanOnDimensionAtColumnIndex:function(a,b){return!this._readCache?null:this._readCache.getSpanOnDimensionAtColumnIndex(a,b)},
getSpanOnDimensionAtRowIndex:function(a,b){return!this._readCache?null:this._readCache.getSpanOnDimensionAtRowIndex(a,b)},getStaticContextIdentifiers:function(){return!this._viewDefinition?null:this._viewDefinition.staticContextIdentifiers},getSubsidiaryViewsLabelPage:function(){if(!this._labelDecorators)return null;for(var a=0;a<this._labelDecorators.length;a++){var d=this._labelDecorators[a];if(d instanceof b)return d.getSubsidiaryViewsLabelPage()}return null},getText:function(a,b,d){return this._getText(a,
b,d)},getValues:function(a){if(!this._initialized)throw new e.IllegalStateException("Must call initialize before getValues",null,null);if(!a)throw new e.InvalidArgumentException(null,null,{value:a});a=this._checkView(a);var b=this._getBufferedView(a),d=b.y[1],g=b.x[1];(!this._readCache.isItem(b.y[0],b.x[0])||!this._readCache.isItem(d,g))&&this._requestView(b);a=this._getValues(a);this.notifyObservers(a,this.getPageInfo(),this._getSizer())},getViewIndex:function(){return this._viewIndex},getViewName:function(){this.getViewDefinition();
if(this.isSubsidiaryView()){var a=this.getLineItemEntityLongIdForPageInfo(),b=f.getModuleInfo(this.getModuleEntityLongId());return k.getLineItemLabelFromModuleInfo(b,a)}a=this.getSavedViewEntityLongId();if(-1!=a)return k.getSavedViewLabel(f,a);a=this.getHierarchyEntityLongId();return-1!=a?k.getHierarchyLabel(f,a):k.getModuleLabel(f,this.getModuleEntityLongId())||"---"},getViewReference:function(){return v.clone(this._viewReference)},initialize:function(a,b,d){if(!1!=this._initialized)throw new e.IllegalStateException("Expected initialized to be false found: ${initialized}",
null,{initialized:this._initialized});this._initialize(a||0,b||0,this._rowsPerPage,this._columnsPerPage,d||!1)},isDataView:function(){return!this._viewDefinition?!0:!!this._viewDefinition&&"MODEL_DATA"===this._viewDefinition.type},isNestedView:function(){null==this._isNestedView&&(this._isNestedView=1<this._getRowNesting()||1<this._getColumnNesting());return this._isNestedView},isSubsidiaryView:function(){return k.isSubsidiaryView(this._getViewDefinitionOrReference())},onDestroy:function(){},reset:function(){try{this.inherited(arguments),
this._listLoader&&this._listLoader.clear(),this._isNestedView=this._sizer=null}catch(a){throw new e.ClientException("anaplan.gridlet.ViewRequestGridModel.reset",a);}},setBreakbackMarkersEnabled:function(a){this._showBreakbackMarkers=a},setColumnLabel:function(a){var b=String(a.value).replace(/^\s+|\s+$/g,""),d=this.getPageInfo(),d={entityTypeClass:"CUSTOM",entityTypeIndex:k.getSingleDimensionEntityTypeIndices(d.columnEntityTypeIndices,a.columnNestingIndex)[0]},e=this._getColumn(a.columnIndex);this._newUpdates.addColumnLabelUpdate({originalLabel:e.originalLabel[a.columnNestingIndex],
label:b,entityType:d||this._getEntityType(e.entityLongIds[a.columnNestingIndex]),entityLongId:e.entityLongIds[a.columnNestingIndex],modelId:modelId,moduleId:this._getModuleIdForViewDefinitionOrReference(),isEditable:!1,isAggregate:e.isAggregate[a.columnNestingIndex]},a.columnIndex,a.columnNestingIndex);this._processNew();this._updateObservers()},setFormula:function(a){var b=this.getFormula(a.entityLongIds),d=this._getStaticContextEntityLongIds().concat(a.entityLongIds,[l.SYSTEM_PROPERTY_FORMULA]);
this.isLineItemsOnRows()?this._newUpdates.addRowFormulaUpdate({modelId:modelId,format:{dataType:"TEXT"},entityLongIds:d,originalText:b.expression,cellText:a.value,label:a.label},a.dataRow,a.fixedColumn):this.isLineItemsOnColumns()&&this._newUpdates.addColumnFormulaUpdate({modelId:modelId,format:{dataType:"TEXT"},entityLongIds:d,originalText:b.expression,cellText:a.value,label:a.label},a.fixedRow,a.dataColumn);this._processNew();this._updateObservers()},setAllListFilterChanges:function(a){this._listFilterChanges=
a||{}},setRowLabel:function(a){var b=String(a.value).replace(/^\s+|\s+$/g,""),d=this.getPageInfo(),e=k.getSingleDimensionEntityTypeIndices(d.rowEntityTypeIndices,a.rowNestingIndex),d=null;e&&e.length&&(d={entityTypeClass:"CUSTOM",entityTypeIndex:e[0]});e=this._getRow(a.rowIndex);this._newUpdates.addRowLabelUpdate({originalLabel:e.originalLabel[a.rowNestingIndex],label:b,entityType:d||this._getEntityType(e.entityLongIds[a.rowNestingIndex]),entityLongId:e.entityLongIds[a.rowNestingIndex],modelId:modelId,
moduleId:this._getModuleIdForViewDefinitionOrReference(),isEditable:!1,isAggregate:e.isAggregate[a.rowNestingIndex]},a.rowIndex,a.rowNestingIndex);this._processNew();this._updateObservers()},setValue:function(a){var b=this._getCell(a.rowIndex,a.columnIndex);this._assertIsEditable(b);return this._setValue(b,a)},setViewReference:function(){this.inherited(arguments);this._viewGuid=a.createUUID();this._sizer=null;this._startColumnIndex=this._startRowIndex=0},_addViewChange:function(a,b,d){var e=this.inherited(arguments);
!e.isRejected()&&a.type!==l.viewChangeType.REFRESH&&(void 0!==b&&(this._startRowIndex=b),void 0!==d&&(this._startColumnIndex=d));return e},_checkViews:function(a){if(!a)return[];for(var b=[],d=0;d<a.length;d++){var e=a[d];e&&b.push(this._checkView(e))}return b},_forceLoad:function(a,b,d,g){var h=this;a=this._checkViews(a);this.assertSupportedRanges(a);0==this._readCache.getColumnCount()||0==this._readCache.getRowCount()?d&&d():t.every(a,function(a){return h._readCache.containsRange(a.y[0],a.y[1],
a.x[0],a.x[1])})?d&&d():(a=this._getPageRequests(a),a=this._requestGenerator.getRequest({modelId:modelId,viewDefinition:this._viewDefinition,pageRequests:a,cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,viewIndex:this._viewIndex}),this._aggregator.post(a,b,function(a){if(1!=a.result.viewRequestResults.length)throw new e.IllegalStateException("Expected single view request result but found ${length}",null,{length:a.result.viewRequestResults.length});f.populateCache(a.result);h._updateState(a.result.viewRequestResults[0]);
d&&d()},function(a){h.error(a);g&&g()}))},_forceLoadColumnLabels:function(a,b,d,g){var h=this;a=this._checkViews(a);this.assertSupportedColumnRanges(a);this._readCache.getColumnCount()?t.every(a,function(a){return h._readCache.containsRange(-1,-1,a.x[0],a.x[1])})?d&&d():(a=this._requestGenerator.getRequest({modelId:modelId,viewDefinition:this._viewDefinition,columnLabelPageRequests:this._getColumnLabelPageRequests(a),cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,viewIndex:this._viewIndex}),
this._aggregator.post(a,b,function(a){if(1!=a.result.viewRequestResults.length)throw new e.IllegalStateException("Expected single view request result but found ${length}",null,{length:a.result.viewRequestResults.length});f.populateCache(a.result);h._updateState(a.result.viewRequestResults[0]);h.notifyObservers(h._getValues(h._getCheckedView()),h.getPageInfo(),h._getSizer());d&&d()},function(a){h.error(a);g&&g()})):d&&d()},_forceLoadRowLabels:function(a,b,d,g){var h=this;a=this._checkViews(a);this.assertSupportedRowRanges(a);
this._readCache.getColumnCount()?t.every(a,function(a){return h._readCache.containsRange(a.y[0],a.y[1],-1,-1)})?d&&d():(a=this._requestGenerator.getRequest({modelId:modelId,viewDefinition:this._viewDefinition,rowLabelPageRequests:this._getRowLabelPageRequests(a),cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,viewIndex:this._viewIndex}),this._aggregator.post(a,b,function(a){if(1!=a.result.viewRequestResults.length)throw new e.IllegalStateException("Expected single view request result but found ${length}",
null,{length:a.result.viewRequestResults.length});f.populateCache(a.result);h._updateState(a.result.viewRequestResults[0]);h.notifyObservers(h._getValues(h._getCheckedView()),h.getPageInfo(),h._getSizer());d&&d()},function(a){h.error(a);g&&g()})):d&&d()},_getBufferedView:function(a){if(!a)return null;var b=a.x.slice(),d=a.y.slice();a=d[0];var d=d[1],e=b[0],b=b[1],g=this._getColumnCount(),h=this._getRowCount();this._getFixedRowCount();this._getFixedColumnCount();-1<a&&(a=0>a-5?0:a-5);-1<e&&(e=0>e-
5?0:e-5);-1<d&&(d=d+5>h-1?h-1:d+5);-1<b&&(b=b+5>g-1?g-1:b+5);return{x:[e,b],y:[a,d]}},_getCell:function(a,b){var e={cellValue:null,cellText:null,originalText:null,format:null,dataType:null,isCalculated:null,isEditable:null,style:null,entityLongIds:null,entityTypes:null,writeableLeafCellCount:null,bgColor:null},g;if(!this._getRowCount()||!this._getColumnCount())return e;g=d.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.currentPageIdentifiers);g=this._getStaticContextEntityLongIds().concat(g);
var h=this._readCache.getRowNesting(),r=this._readCache.getColumnNesting(),k=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),rowNesting:h,columnNesting:r,view:this._checkView({x:[b,b],y:[a,a]}),viewDefinition:this._viewDefinition});k.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);var t;if((t=k.getRowLabelsObject())&&t.entityLongIds){var m=t.entityLongIds;
for(t=0;t<h;t++)g=g.concat(m[t])}if((h=k.getColumnLabelsObject())&&h.entityLongIds){h=h.entityLongIds;for(t=0;t<r;t++)g=g.concat(h[t])}r=[];h=g.length;for(t=0;t<h;t++)if((m=d.getEntityTypeIndex(g[t]))&&-1!=m)m=f.getEntityType(m),r=r.concat(m);k=k.getCellsObject();if(!k)return console.warn("ViewRequestGridModel: _getCell failed to find row "+a+" column "+b),e;g={cellValue:k.cellValues[0],cellText:k.cellText[0],originalText:k.originalText[0],format:k.formats[0]?k.formats[0]:null,dataType:k.formats[0]?
k.formats[0].dataType:null,isCalculated:k.isCalculated[0]||!1,isEditable:k.isEditable[0]||!1,style:k.styles[0],entityLongIds:g,entityTypes:r,writeableLeafCellCount:k.writeableLeafCellCounts[0]||0,bgColor:k.bgColors[0]||null};k.heldRangeIndices&&(g.heldRangeIndex=k.heldRangeIndices[0]);return v.mixin(e,g)},_getCheckedView:function(){var a=this._getView();return this._checkView(a)},_getColumn:function(a){var b={label:null,originalLabel:null,style:null,entityId:null,entityLongIds:null,entityType:null,
isAggregate:null,canDelete:!1,isItemEditable:!1,canInsertSibling:!1};if(!this._getColumnCount())return b;var d=this._readCache.getColumnNesting(),e=new q({dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount(),view:this._checkView({x:[a,a],y:[-d,-d]}),columnNesting:d,rowNesting:this._readCache.getRowNesting()});e.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);e=e.getColumnLabelsObject();if(!e)return console.warn("ViewRequestGridModel: _getColumn failed to find dataColumn "+
a),b;b.label=Array(d);b.originalLabel=Array(d);b.style=Array(d);b.entityId=Array(d);b.entityLongIds=Array(d);b.entityType=Array(d);b.isAggregate=Array(d);b.canDelete=Array(d);b.isItemEditable=Array(d);b.canInsertSibling=Array(d);e.showLabel&&(b.showLabel=Array(d));e.span&&(b.span=Array(d));e.heldRangeIndices&&(b.heldRangeIndex=Array(d));for(a=0;a<d;a++)b.label[a]=e.labels[a][0],b.originalLabel[a]=e.originalLabels[a][0],b.style[a]=e.styles[a][0],b.entityId[a]=e.entityIds[a][0],b.entityLongIds[a]=e.entityLongIds[a][0],
b.entityType[a]=e.entityTypes[a][0],b.isAggregate[a]=e.isAggregate[a][0],b.canDelete[a]=e.canDelete[a][0],b.isItemEditable[a]=e.isItemEditable[a][0],b.canInsertSibling[a]=e.canInsertSibling[a][0],b.showLabel&&(b.showLabel[a]=e.showLabel[a][0]),b.span&&(b.span[a]=e.span[a][0]),b.heldRangeIndex&&(b.heldRangeIndex[a]=e.heldRangeIndices[a][0]);return b},_getColumnLabelPageRequests:function(a){for(var b=[],d=a.length,e,g,h,f={},r=0;r<d;r++){e=a[r];g=this._getPageKey(e.y[0],e.x[0]).getX();for(e=this._getPageKey(e.y[1],
e.x[1]).getX()+1;g<e;g++)f[g]||(f[g]=!0,h=g*this._columnsPerPage,b.push({start:h,count:this._columnsPerPage}))}return b},_getEntityType:function(a){a=d.getEntityTypeIndex(a);return f.getEntityType(a)},_getLineItemSubsetEntityLongIdForViewDefinitionOrReference:function(){null==this._lineItemSubsetEntityLongIdForViewDefinitionOrReference&&(this._lineItemSubsetEntityLongIdForViewDefinitionOrReference=k.getLineItemSubsetEntityLongIdForViewDefinitionOrReference(f,this._getViewDefinitionOrReference()));
return this._lineItemSubsetEntityLongIdForViewDefinitionOrReference},_getLineItemSubsetIdForViewDefinitionOrReference:function(){var a=this._getLineItemSubsetEntityLongIdForViewDefinitionOrReference();return-1===a?null:k.getLineItemSubsetEntityId(f,a)},_getModuleIdForViewDefinitionOrReference:function(){var a=this.getModuleEntityLongId();return-1==a?null:k.getModuleEntityId(f,a)},_getPageKey:function(a,b){return new function(a,b){this._x=a;this._y=b;this.getX=function(){return this._x};this.getY=
function(){return this._y};this.toString=function(){return[this.getX(),this.getY()].join()}}(Math.floor(b/this._columnsPerPage),Math.floor(a/this._rowsPerPage))},_getPageRequests:function(a){var b=[],d={},e,g,h,f,r,k,t,m;a=a||[];g=a.length;for(h=0;h<g;h++){e=a[h];f=this._getPageKey(e.y[0],e.x[0]);e=this._getPageKey(e.y[1],e.x[1]);for(k=f.getX();k<e.getX()+1;k++)for(t=f.getY();t<e.getY()+1;t++)r=k+","+t,d[r]||(d[r]=!0,r=Math.max(0,t*this._rowsPerPage),m=Math.max(0,k*this._columnsPerPage),b.push({startRow:r,
startColumn:m,rowCount:this._rowsPerPage,columnCount:this._columnsPerPage}))}return b},_getRow:function(a){var b={label:null,originalLabel:null,style:null,entityId:null,entityLongIds:null,entityType:null,isAggregate:null,canDelete:!1,isItemEditable:!1,canInsertSibling:!1};if(!this._getRowCount())return b;var d=this._readCache.getRowNesting(),e=new q({dataRowCount:this._getRowCount(),fixedColumnCount:this._readCache.getFixedColumnCount(),view:this._checkView({x:[-d,-d],y:[a,a]}),rowNesting:d,columnNesting:this._readCache.getColumnNesting()});
e.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);e=e.getRowLabelsObject();if(!e)return console.warn("ViewRequestGridModel: _getRow failed to find dataRow "+a),b;b.label=Array(d);b.originalLabel=Array(d);b.style=Array(d);b.entityId=Array(d);b.entityLongIds=Array(d);b.entityType=Array(d);b.isAggregate=Array(d);b.canDelete=Array(d);b.isItemEditable=Array(d);b.canInsertSibling=Array(d);e.showLabel&&(b.showLabel=Array(d));e.span&&(b.span=Array(d));e.heldRangeIndices&&(b.heldRangeIndex=
Array(d));for(a=0;a<d;a++)b.label[a]=e.labels[a][0],b.originalLabel[a]=e.originalLabels[a][0],b.style[a]=e.styles[a][0],b.entityId[a]=e.entityIds[a][0],b.entityLongIds[a]=e.entityLongIds[a][0],b.entityType[a]=e.entityTypes[a][0],b.isAggregate[a]=e.isAggregate[a][0],b.canDelete[a]=e.canDelete[a][0],b.isItemEditable[a]=e.isItemEditable[a][0],b.canInsertSibling[a]=e.canInsertSibling[a][0],b.showLabel&&(b.showLabel[a]=e.showLabel[a][0]),b.span&&(b.span[a]=e.span[a][0]),b.heldRangeIndex&&(b.heldRangeIndex[a]=
e.heldRangeIndices[a][0]);return b},_getRowLabelPageRequests:function(a){for(var b=[],d=a.length,e,g,h,f={},r=0;r<d;r++){e=a[r];g=this._getPageKey(e.y[0],e.x[0]).getY();for(e=this._getPageKey(e.y[1],e.x[1]).getY()+1;g<e;g++)f[g]||(f[g]=!0,h=g*this._rowsPerPage,b.push({start:h,count:this._rowsPerPage}))}return b},_getSizer:function(){if(null==this._sizer){var a=this.getPageInfo(),a=k.getLabelSizes(this._viewDefinition,a);this._sizer=new g({dataColumnCount:this._getColumnCount(),dataRowCount:this._getRowCount(),
defaultColumnWidth:a.defaultColumnWidth,rowLabelWidths:a.rowLabelWidths,fixedColumnCount:this._readCache.getFixedColumnCount()||1,fixedRowCount:this._readCache.getFixedRowCount()||1,columnNesting:this._readCache.getColumnNesting(),rowNesting:this._readCache.getRowNesting(),pageInfo:this.getPageInfo(),knownRows:this._readCache.getKnownRows(),knownColumns:this._readCache.getKnownColumns(),serialNumber:this._readCache.getSizerSerialNumber(),viewDefinition:this._viewDefinition})}return this._sizer},_getText:function(a,
b,d){a=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount()||1,fixedColumnCount:this._readCache.getFixedColumnCount()||1,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),serialNumbers:{},view:a,viewDefinition:this._viewDefinition});a.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return a.getText(b,d)},_getValues:function(a){if(!a)return null;a=this._checkView(a);
a=new q({dataRowCount:this._getRowCount(),dataColumnCount:this._getColumnCount(),fixedRowCount:this._readCache.getFixedRowCount()||1,fixedColumnCount:this._readCache.getFixedColumnCount()||1,rowNesting:this._readCache.getRowNesting(),columnNesting:this._readCache.getColumnNesting(),serialNumbers:this.getSerialNumbers(),view:a,viewDefinition:this._viewDefinition,labelDecorators:this._labelDecorators,cellDecorators:this._cellDecorators,showBreakbackMarkers:this._showBreakbackMarkers,pageInfo:this._pageInfo});
a.visitCache([this._newUpdates,this._pendingUpdates,this._readCache]);return a.getValues()},_getVersionEntityLongId:function(a){if(!a||!a.length)return-1;for(var b=0;b<a.length;b++){var e=a[b];if(d.getEntityTypeIndex(e)==l.VERSION_ENTITY_TYPE_INDEX)return e}return-1},_getViews:function(){var a;this._initialized?(a=this._getCheckedView(),a=this._getBufferedView(a)):a={x:[this._startColumnIndex,this._startColumnIndex+this._columnsPerPage-1],y:[this._startRowIndex,this._startRowIndex+this._rowsPerPage-
1]};return a?[a]:null},_initialize:function(a,b,d,g,h){var r=this;a=this._requestGenerator.getRequest(v.mixin({modelId:modelId,pageRequests:[{startRow:a,startColumn:b,rowCount:d,columnCount:g}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,viewIndex:-1},this._viewDefinition?{viewDefinition:this._viewDefinition}:{viewReference:this._viewReference}));this._aggregator.post(a,h,function(a){if(1!=a.result.viewRequestResults.length)throw new e.IllegalStateException("Expected single view request result but found ${length}",
null,{length:a.result.viewRequestResults.length});f.populateCache(a.result);r._updateState(a.result.viewRequestResults[0]);r._update()},function(a){r.error(a)})},_isAlreadyRequested:function(a){if(!this._pendingPageRequests.length)return!1;for(var b=0;b<this._pendingPageRequests.length;b++)if(this._pendingPageRequests[b].startRow==a.startRow&&this._pendingPageRequests[b].startColumn==a.startColumn)return!0;return!1},_isJson:function(a){var b=!0;try{if(null===a||void 0===a||0===a.length)return!1;w.parse(a)}catch(d){b=
!1}return b},_requestView:function(a){a=this._getPageRequests([a]);for(var b=0;b<a.length;b++){var d=a[b];if(!this._readCache.isItem(d.startRow,d.startColumn)&&!this._isAlreadyRequested(d)){this._aggregator.gather();break}}},_setViewDefinition:function(a,b,d){this.inherited(arguments);this._sizer=null;this._startRowIndex=-1==b?0:b||0;this._startColumnIndex=-1==d?0:d||0},_update:function(){var a=!this._initialized,b=this._cellDecorators,d;this._initialized=!0;if(a){a=0;for(d=b.length;a<d;a++)b[a].setViewDefinition&&
b[a].setViewDefinition(this._viewDefinition);this.notifyObservers({startRow:this._startRowIndex,startColumn:this._startColumnIndex,serialNumbers:this.getSerialNumbers()},this.getPageInfo(),this._getSizer())}else this._newUpdates.isEmpty()?this.notifyObservers(this._getValues(this._getCheckedView()),this.getPageInfo(),this._getSizer()):this._processNew();this._notifyViewChanges()},notifyObservers:function(){"_mostRecentStates"in this&&(arguments[0].state=this._mostRecentStates,delete this._mostRecentStates);
this.inherited(arguments)},_updateObservers:function(){var a=this._getCheckedView();if(null!=a){var a=this._getValues(a),b=this.getPageInfo(),d=this._getSizer();this.notifyObservers(a,b,d)}},_updateState:function(){try{this.inherited(arguments),"states"in arguments[0]&&(this._mostRecentStates=arguments[0].states),this._listLoader.setSerialNumbers(this._readCache.getSerialNumbers()),this._sizer&&this._sizer.getSerialNumber()!=this._readCache.getSizerSerialNumber()&&(this._sizer=null,this._listLoader.clear())}catch(a){throw new e.ClientException("anaplan.gridlet.ViewRequestGridModel._updateState",
a);}}})})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(l,s,p,q,f,k,n,m,h){return p([l,s],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:m.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var e=this;n(this.bodyNode,
"scroll",m[this.pagingMethod](function(g){e._processScroll(g)},null,this.pagingDelay))},renderQuery:function(e,g,d){function a(a){h(l,"!");if(a)throw r._refreshDeferred&&(r._refreshDeferred.reject(a),delete r._refreshDeferred),a;}var r=this,b={query:e,count:0,node:g,options:d},k=this.preload,m;if(!g){var n={node:h(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:e,next:b,options:d};n.node.style.height="0";b.node=g=h(this.contentNode,"div.dgrid-preload");b.previous=n}g.rowIndex=this.minRowsPerPage;
k?((b.next=k.next)&&g.offsetTop>=k.node.offsetTop?b.previous=k:(b.next=k,b.previous=k.previous),b.previous.next=b,b.next.previous=b):this.preload=b;var l=h(g,"-div.dgrid-loading");h(l,"div.dgrid-below").innerHTML=this.loadingMessage;d=q.mixin(this.get("queryOptions"),d,{start:0,count:this.minRowsPerPage},"level"in e?{queryLevel:e.level}:null);this._trackError(function(){return m=e(d)});if("undefined"===typeof m)a();else return f.when(r.renderArray(m,g,d),function(e){return f.when("undefined"===typeof m.total?
m.length:m.total,function(a){var f=e.length,k=g.parentNode,t=r.noDataNode;h(l,"!");"queryLevel"in d||(r._total=a);0===a&&(t&&(h(t,"!"),delete r.noDataNode),r.noDataNode=t=h("div.dgrid-no-data"),k.insertBefore(t,r._getFirstRowSibling(k)),t.innerHTML=r.noDataMessage);for(t=k=0;t<f;t++)k+=r._calcRowHeight(e[t]);f&&k&&(r.rowHeight=k/f);a-=f;b.count=a;g.rowIndex=f;a?g.style.height=Math.min(a*r.rowHeight,r.maxEmptySpace)+"px":(g.style.display="none",d.count++);r._previousScrollPosition&&(r.scrollTo(r._previousScrollPosition),
delete r._previousScrollPosition);r._processScroll();r._refreshDeferred&&(r._refreshDeferred.resolve(m),delete r._refreshDeferred);return e},a)},a),m},refresh:function(e){var g=this,d=e&&e.keepScrollPosition,a;"undefined"===typeof d&&(d=this.keepScrollPosition);d&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return d=this._refreshDeferred=new f,a=g.renderQuery(function(a){return g.store.query(g.query,a)}),"undefined"===typeof a&&d.reject(),d.then(function(a){setTimeout(function(){n.emit(g.domNode,
"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:g,results:a})},0);delete g._refreshDeferred;return a},function(a){delete g._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(e){return e.lastChild},_calcRowHeight:function(e){var g=e.previousSibling;return g&&!/\bdgrid-preload\b/.test(g.className)?e.offsetTop-g.offsetTop:e.offsetHeight},lastScrollTop:0,_processScroll:function(e){function g(a,b,e,g){var f=r.farOffRemoval,
k=a.node;if(b>2*f){for(var t,m=k[e],n=0,u=0,v=[];t=m;){var l=r._calcRowHeight(t);if(n+l+f>b||0>m.className.indexOf("dgrid-row")&&0>m.className.indexOf("dgrid-loading"))break;m=t[e];n+=l;u+=t.count||1;r.removeRow(t,!0);v.push(t)}a.count+=u;g?(k.rowIndex-=u,d(a)):k.style.height=k.offsetHeight+n+"px";var x=h("div",v);setTimeout(function(){h(x,"!")},1)}}function d(a,b){a.node.style.height=Math.min(a.count*r.rowHeight,b?Infinity:r.maxEmptySpace)+"px"}function a(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);
return a}var r=this,b=r.bodyNode;e=e&&e.scrollTop||this.getScrollPosition().y;var b=b.offsetHeight+e,k,m,n=r.preload,l=r.lastScrollTop,p=r.bufferRows*r.rowHeight,w=p-r.rowHeight,x,A,s,E=!0;for(r.lastScrollTop=e;n&&!n.node.offsetWidth;)n=n.previous;for(;n&&n!=k;){k=r.preload;r.preload=n;m=n.node;var B=m.offsetTop;if(b+1+w<B)n=a(n,E=!1);else if(e-1-w>B+m.offsetHeight)n=a(n,E=!0);else{var C=((m.rowIndex?e-p:b)-B)/r.rowHeight,B=(b-e+2*p)/r.rowHeight,G=Math.max(Math.min((e-l)*r.rowHeight,r.maxRowsPerPage/
2),r.maxRowsPerPage/-2),B=B+Math.min(Math.abs(G),10);0==m.rowIndex&&(C-=B);C=Math.max(C,0);10>C&&(0<C&&B+C<r.maxRowsPerPage)&&(B+=Math.max(0,C),C=0);B=Math.min(Math.max(B,r.minRowsPerPage),r.maxRowsPerPage,n.count);if(0==B)n=a(n,E);else{var B=Math.ceil(B),C=Math.min(Math.floor(C),n.count-B),H=q.mixin(r.get("queryOptions"),n.options);n.count-=B;var L=m,F,K=r.queryRowsOverlap;if(G=0<m.rowIndex&&n){var J=n.previous;J&&(g(J,e-(J.node.offsetTop+J.node.offsetHeight),"nextSibling"),0<C&&J.node==m.previousSibling?
(C=Math.min(n.count,C),n.previous.count+=C,d(n.previous,!0),m.rowIndex+=C,K=0):B+=C,n.count-=C);H.start=m.rowIndex-K;H.count=Math.min(B+K,r.maxRowsPerPage);m.rowIndex=H.start+H.count}else n.next&&(g(n.next,n.next.node.offsetTop-b,"previousSibling",!0),L=m.nextSibling,L==n.next.node?(n.next.count+=n.count-C,n.next.node.rowIndex=C+B,d(n.next),n.count=C,K=0):F=!0),H.start=n.count,H.count=Math.min(B+K,r.maxRowsPerPage);F&&(L&&L.offsetWidth)&&(F=L.offsetTop);d(n);"level"in n.query&&(H.queryLevel=n.query.level);
if("queryLevel"in H||!(H.start>r._total||0>H.count)){m=h(L,"-div.dgrid-loading[style\x3dheight:"+B*r.rowHeight+"px]");h(m,"div.dgrid-"+(G?"below":"above")).innerHTML=r.loadingMessage;m.count=B;var M=n.query(H);if(void 0===r._trackError(function(){return M})){h(m,"!");return}(function(a,b,e,g){s=f.when(r.renderArray(g,a,H),function(k){A=g;L=a.nextSibling;h(a,"!");if(e&&L&&L.offsetWidth){var t=r.getScrollPosition();r.scrollTo({x:t.x,y:t.y+L.offsetTop-e,preserveMomentum:!0})}f.when(g.total||g.length,
function(a){"queryLevel"in H||(r._total=a);b&&(b.count=a-b.node.rowIndex,0===b.count&&H.count++,d(b))});r._processScroll();return k},function(b){h(a,"!");throw b;})}).call(this,m,G,F,M);n=n.previous}}}}if(s&&(x=this._refreshDeferred))delete this._refreshDeferred,f.when(s,function(){x.resolve(A)})},removeRow:function(e,g){if(e){var d=e.previousSibling,a=e.nextSibling,d=d&&(null!=d.observerIndex?d.observerIndex:d.previousObserverIndex),h=a&&(null!=a.observerIndex?a.observerIndex:a.nextObserverIndex),
a=e.observerIndex;e.observerIndex=void 0;g&&(e.nextObserverIndex=h,e.previousObserverIndex=d);if(this.cleanEmptyObservers&&(-1<a&&a!==d&&a!==h)&&(d=this.observers,h=d[a])){if(!g)for(var b=h.rows,f=0;f<b.length;f++)if(b[f]!=e&&k.isDescendant(b[f],this.domNode))return this.inherited(arguments);h.cancel();this._numObservers--;d[a]=0}}this.inherited(arguments)}})})},"anaplan/snav/bulkoperationfactory":function(){define("dojo/_base/lang anaplan/snav/bulkoperationfactory/DefineEntitiesDelegate anaplan/snav/bulkoperationfactory/BulkDeleteEntitiesDelegate anaplan/snav/bulkoperationfactory/SetPropertyAndSynchroniseHierarchy anaplan/snav/bulkoperationfactory/SimpleCreateDelegate anaplan/snav/bulkoperationfactory/SynchroniseHierarchy".split(" "),
function(l,s,p,q,f,k){var n={getBulkOperationDelegate:function(m){if("DEFINE_ENTITIES"===m.operation)return new s(m);if("BULK_DELETE_ENTITIES"===m.operation)return new p(m);if("SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY"===m.operation)return new q(m);if("SIMPLE_CREATE"===m.operation)return m.hasOwnProperty("promptForParent")&&!0===m.promptForParent?new s(m):new f(m);if("SYNCHRONISE_HIERARCHY"===m.operation)return new k(m);console.warn("Unknown operation "+m.operation);throw"InvalidArgumentException";
}};l.setObject("anaplan.snav.bulkoperationfactory",n);return n})},"anaplan/api/Fetchers/index":function(){define(["dojo/_base/declare","./colourPalettes","./dashboards"],function(l,s,p){return{colourPalettes:s,dashboards:p}})},"anaplan/widgets/ErrorDialog":function(){define("anaplan/widgets/Dialog anaplan/widgets/ErrorReporter dojo/_base/declare dojo/dom-geometry dojo/dom-style dojo/window dojo/dom-class".split(" "),function(l,s,p,q,f,k,n){return p([l],{centreInViewport:function(){var f=k.getBox(),
h=q.getMarginBox(this.domNode);q.setMarginBox(this.domNode,{t:f.h-(f.h+h.h)/2,l:f.w-(f.w+h.w)/2})},postCreate:function(){this.inherited(arguments);n.add(this.domNode,"qa-dialog-error");f.set(this.closeButtonNode,"visibility","hidden");this.errorReporter=new s;this.set("content",this.errorReporter.domNode)}})})},"anaplan/data/LabelItemCache":function(){define(["anaplan/utils/FormatHelper","anaplan/data/ItemCache","dojo/_base/declare"],function(l,s,p){return p(s,{getItems:function(q,f,k){var n=k.labels.length,
m,h,e,g,d,a,r;if(!(this._isEmpty||0>f)){h=this.getKeysArray();e=h.length;for(r=0;r<e;r++)if(m=h[r],m.getIndex()>=q&&m.getIndex()<=f&&(g=this._getItem(m),d=m.getIndex()-q,a=m.getNestingIndex(),!k.labels[a][d]&&(g.label&&!g.escapedLabel&&(g.escapedLabel=l.escapeHTML(g.label)),k.labels[a][d]=g.escapedLabel,k.isEditable[a][d]=g.isEditable,k.isAggregate[a][d]=g.isAggregate,k.originalLabels[a][d]=g.originalLabel,k.styles[a][d]=g.style?g.style:this._style,k.entityLongIds[a][d]=g.entityLongId,k.entityCodes[a][d]=
g.entityCode,k.entityTypes[a][d]=g.entityType,k.treeLineSequences[a][d]=g.treeLineSequence||null,k.canDelete[a][d]=g.canDelete||!1,k.isItemEditable[a][d]=g.isItemEditable||!1,k.canInsertSibling[a][d]=g.canInsertSibling||!1,g.heldRangeIndex))){if(!k.heldRangeIndices){k.heldRangeIndices=Array(n);for(m=0;m<n;m++)k.heldRangeIndices[m]=[]}k.heldRangeIndices[a][d]=g.heldRangeIndex}}},getKeysArray:function(){var l=[],f=function(f,h){this._index=f;this._nestingIndex=h;this.getIndex=function(){return this._index};
this.getNestingIndex=function(){return this._nestingIndex};this.toString=function(){return[this._index,this._nestingIndex].join()}},k,n;for(k in this._items)this._items.hasOwnProperty(k)&&(n=k.split(","),l.push(new f(n[0],n[1])));return l}})})},"anaplan/gridlet/selection/_SelectionBase":function(){define(["anaplan/constants","anaplan/utils/UIHelper","dojo/_base/array","dojo/_base/declare"],function(l,s,p,q){var f=q([],{clone:function(){var f=null;try{f=new this.constructor(this.toJSON())}catch(n){s.throwClientException(this,
n)}return f},equals:function(k){var n=!0;try{n=k instanceof f}catch(m){s.throwClientException(this,m)}return n},isSpanningOnColumnAxis:function(f){var n=!1;try{n=this._isSpanningOnColumnAxis(f)}catch(m){s.throwClientException(this,m)}return n},isSpanningOnRowAxis:function(f){var n=!1;try{n=this._isSpanningOnRowAxis(f)}catch(m){s.throwClientException(this,m)}return n},resolve:function(){return!1},toJsonObject:function(){var f=null;try{f=this.toJSON()}catch(n){s.throwClientException(this,n)}return f},
toJSON:function(){return{}},_getColumnIndexOfItem:function(f,n,m){var h=-1;try{if(m&&f){if(m.values)var e=m.values,h=this._getIndexOfItemInView(f,e.columns,e.startColumn);-1===h&&(m.model&&m.model.getColumnIndexOfItem)&&(h=m.model.getColumnIndexOfItem(f,n))}}catch(g){s.throwClientException(this,g)}return h},_getColumnIndexOfItemInView:function(f,n){var m=-1;try{n&&f&&(m=this._getIndexOfItemInView(f,n.columns,n.startColumn))}catch(h){s.throwClientException(this,h)}return m},_getColumnNesting:function(f){try{if(f){if(f.values)return f.values.columnNesting;
if(f.model)return f.model.getColumnNesting()}}catch(n){s.throwClientException(this,n)}return-1},_getColumnCount:function(f){try{if(f){if(f.values)return f.values.dataColumnCount;if(f.model)return f.model.getColumnCount()}}catch(n){s.throwClientException(this,n)}return-1},_getColumnCountInView:function(f){var n=0;try{f&&(n=f.columnCount)}catch(m){s.throwClientException(this,m)}return n},_getEndColumnIndexOfView:function(f){var n=-1;try{f&&(n=f.startColumn+f.columnCount-1)}catch(m){s.throwClientException(this,
m)}return n},_getEndRowIndexOfView:function(f){var n=-1;try{f&&(n=f.startRow+f.rowCount-1)}catch(m){s.throwClientException(this,m)}return n},_getRowCount:function(f){try{if(f){if(f.values)return f.values.dataRowCount;if(f.model)return f.model.getRowCount()}}catch(n){s.throwClientException(this,n)}return-1},_getRowCountInView:function(f){var n=0;try{f&&(n=f.rowCount)}catch(m){s.throwClientException(this,m)}return n},_getEntityLongIdsForItemAtColumnIndex:function(f,n,m){var h=null;try{if(m){if(m.values){var e=
m.values;if(e.columns.count){var g=f-e.startColumn,d=null!==n&&0<=n?n+1:null,a=e.columns.showLabel,h=p.map(e.columns.entityLongIds,function(b,e){if(null!==d){if(d)return a?a[e][g]&&d--:d--,b[g]}else return b[g];return null});if(h.length&&(void 0==h[0]||-1===h[0]))h=null}}!h&&m.model&&console.warn("anaplan.gridlet._SelectionBase._getEntityLongIdsForItemAtColumnIndex: searching model is not implemented")}}catch(r){s.throwClientException(this,r)}return h},_getEntityLongIdsForItemAtRowIndex:function(f,
n,m){var h=null;try{if(m){if(m.values){var e=m.values;if(e.rows.count){var g=f-e.startRow,d=null!==n&&0<=n?n+1:null,a=e.rows.showLabel,h=p.map(e.rows.entityLongIds,function(b,e){if(null!==d){if(d)return a?a[e][g]&&d--:d--,b[g]}else return b[g];return null});if(h.length&&(void 0==h[0]||-1===h[0]))h=null}}!h&&m.model&&console.warn("anaplan.gridlet._SelectionBase._getEntityLongIdsForItemAtRowIndex: searching model is not implemented")}}catch(r){s.throwClientException(this,r)}return h},_getFixedColumnCount:function(f){try{if(f){if(f.values)return f.values.fixedColumnCount;
if(f.model)return f.getFixedColumnCount()}}catch(n){s.throwClientException(this,n)}return-1},_getFixedColumnIndexOfItem:function(f,n){var m=-1,h,e,g,d,a;if(n&&f&&(h=this._getFixedColumnCount(n),-1!==h))if(e=n.values&&n.values.rows?n.values.rows.showLabel:null,g=f.length,e){if(d=this._getRowIndexOfItemInView(f,n.values)-n.values.startRow,-1!==d){for(m=a=0;m<g&&null!==f[m];m++)e[m][d]&&a++;m=Math.min(h,a)-1}}else{for(m=e=0;m<g&&null!==f[m];m++)e++;m=Math.min(h,e)-1}return m},_getFixedRowCount:function(f){try{if(f){if(f.values)return f.values.fixedRowCount;
if(f.model)return f.getFixedRowCount()}}catch(n){s.throwClientException(this,n)}return-1},_getFixedRowIndexOfItem:function(f,n){var m=-1,h,e,g,d,a;if(n&&f&&(h=this._getFixedRowCount(n),-1!==h))if(e=n.values&&n.values.columns?n.values.columns.showLabel:null,g=f.length,e){if(d=this._getColumnIndexOfItemInView(f,n.values)-n.values.startColumn,-1!==d){for(m=a=0;m<g&&null!==f[m];m++)e[m][d]&&a++;m=Math.min(h,a)-1}}else{for(m=e=0;m<g&&null!==f[m];m++)e++;m=Math.min(h,e)-1}return m},_getIndexOfItemInView:function(f,
n,m){try{if(!n||!n.count||!f||!f.length)return-1;var h=n.entityLongIds,e=h.length,g=n.count,d,a,r;if(e!==f.length)return console.warn("anaplan.gridlet._SelectionBase._getIndexOfItemInView: entityLongId count does not match nesting count"),-1;for(d=0;d<g;d++)for(a=0;a<e;a++){r=f[a];if(null===r)return 0===a?-1:d+m;if(h[a][d]!=r)break;if(a===e-1)return d+m}}catch(b){s.throwClientException(this,b)}return-1},_getNestingIndexOfItem:function(f){var n=-1;try{if(f){for(var m=f.length,h=0,e=0;e<m&&null!==f[e];e++)h++;
n=h-1}}catch(g){s.throwClientException(this,g)}return n},_getRowIndexOfItem:function(f,n,m){var h=-1;try{if(m&&f){if(m.values)var e=m.values,h=this._getIndexOfItemInView(f,e.rows,e.startRow);-1===h&&(m.model&&m.model.getRowIndexOfItem)&&(h=m.model.getRowIndexOfItem(f,n))}}catch(g){s.throwClientException(this,g)}return h},_getRowIndexOfItemInView:function(f,n){var m=-1;try{n&&f&&(m=this._getIndexOfItemInView(f,n.rows,n.startRow))}catch(h){s.throwClientException(this,h)}return m},_getRowNesting:function(f){try{if(f){if(f.values)return f.values.rowNesting;
if(f.model)return f.model.getRowNesting()}}catch(n){s.throwClientException(this,n)}return-1},_getSpanOnDimensionAtColumnIndex:function(f,n,m){var h=null;try{if(m){if(m.values)var e=m.values,g=e.columns.span,h=g?g[f][n-e.startColumn]:l.SPAN_NONE;null===h&&(m.model&&m.model.getSpanOnDimensionAtColumnIndex)&&(h=m.model.getSpanOnDimensionAtColumnIndex(f,n))}}catch(d){s.throwClientException(this,d)}return h},_getSpanOnDimensionAtRowIndex:function(f,n,m){var h=null;try{if(m){if(m.values)var e=m.values,
g=e.rows.span,h=g?g[f][n-e.startRow]:l.SPAN_NONE;null===h&&(m.model&&m.model.getSpanOnDimensionAtRowIndex)&&(h=m.model.getSpanOnDimensionAtRowIndex(f,n))}}catch(d){s.throwClientException(this,d)}return h},_getStartColumnIndexOfView:function(f){var n=-1;try{f&&(n=f.startColumn)}catch(m){s.throwClientException(this,m)}return n},_getStartRowIndexOfView:function(f){var n=-1;try{f&&(n=f.startRow)}catch(m){s.throwClientException(this,m)}return n},_isSpanningOnColumnAxis:function(f){var n=!1;try{f&&(f.values?
n=f&&f.values&&f.values.columns&&f.values.columns.span:f.model&&console.warn("anaplan.gridlet._SelectionBase._isSpanningOnColumnAxis: searching model is not implemented"))}catch(m){s.throwClientException(this,m)}return n},_isSpanningOnRowAxis:function(f){var n=!1;try{f&&(f.values?n=f&&f.values&&f.values.rows&&f.values.rows.span:f.model&&console.warn("anaplan.gridlet._SelectionBase._isSpanningOnRowAxis: searching model is not implemented"))}catch(m){s.throwClientException(this,m)}return n},_reduceEntityLongIdsForItemToNestingIndex:function(f,
n){var m=null;try{m=p.map(f,function(e,g){return g>n?null:e})}catch(h){s.throwClientException(this,h)}return m}});return f})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),function(l,s,p,q,f,k,n,m,h){q("dijit-legacy-requires")&&k(0,function(){l(["dijit/form/RadioButton"])});return s("dijit.form.CheckBox",[n,m],{templateString:h,
baseClass:"dijitCheckBox",_setValueAttr:function(e,g){"string"==typeof e&&(this.inherited(arguments),e=!0);this._created&&this.set("checked",e,g)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){this.id&&f("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&
f("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"anaplan/gridlet/_editor/BaseEditor":function(){define("dijit/Destroyable dojo/_base/declare dojo/Deferred dojo/dom-attr dojo/dom-style dojo/Evented dojo/has dojo/on dojo/sniff".split(" "),function(l,s,p,q,f,k,n,m){return s("anaplan.gridlet._editor.BaseEditor",[l,k],{widget:null,constructor:function(h){this._params=h},connect:function(h,e,g){this.own(m(h,e,g))},destroy:function(){this.widget&&(this.widget.destroy?
this.widget.destroy():dojo.destroy(this.widget),this.widget=null);this.inherited(arguments)},focus:function(){this.widget&&this.widget.focus&&this.widget.focus()},getDomNode:function(){return this.widget?this.widget.domNode?this.widget.domNode:this.widget:null},getValue:function(){if(this.widget)return this.widget.get?this.widget.get("value"):this.widget.value},hide:function(){var h;this.widget&&(h=this.widget.domNode||this.widget,"absolute"===h.style.position?dojo.style(h,{display:"none",top:"-5000px"}):
f.set(h,{display:"none"}))},isValid:function(){return!0},moveTo:function(h,e){this.widget&&f.set(this.widget.domNode||this.widget,{left:h+"px",top:e+"px"})},onCancel:function(){},onChange:function(){},onKeyDown:function(){},prepare:function(){return new p},setDisabled:function(h){this.widget&&(this.widget.set?this.widget.set("disabled",h):h?q.set(this.widget,"disabled","disabled"):q.remove(this.widget,"disabled"))},setTabIndex:function(h){this.widget&&(this.widget.set?this.widget.set("tabIndex",h):
q.set(this.widget,"tabindex",h))},setValue:function(h){this.widget&&(this.widget.set?this.widget.set("value",h):this.widget.value=h)},show:function(){this.widget&&f.set(this.widget.domNode||this.widget,{display:"",zIndex:n("ios")||n("android")?1E3:"auto"})}})})},"anaplan/charts/ReactChartBridge":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/LabelPageHelper dojo/_base/declare dojo/_base/array dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m){return k("anaplan.charts.ReactChartBridge",[l],{_getChartOptions:function(h,e){return App.interim.charts.getCombinationChartOptions({highChartsHelper:s,selection:h,pageInfo:e,modelContentHelper:q,labelPageHelper:f,model:this._model,currentOptions:this._originalChartConfig||null,plotOptions:this._getPlotOptions(),container:this._chartContainer})},_getSeriesData:function(h,e){return App.interim.charts.getCombinationChartData({model:this._model,modelContentHelper:q,labelPageHelper:f,
highChartsHelper:s,selection:h,pageInfo:e})},_getPlotOptions:function(){return{series:{animation:!1,point:{events:{click:m.partial(this._pointClick,this.id)}}},column:{stacking:this._originalChartConfig?this._originalChartConfig.plotOptions.column.stacking:"",dataLabels:{format:"{point.cellText}",enabled:!1,style:{textOutline:!1}}},area:{stacking:this._originalChartConfig?this._originalChartConfig.plotOptions.area.stacking:"normal",dataLabels:{format:"{point.cellText}",enabled:!1,style:{textOutline:!1}}},
line:{dataLabels:{format:"{point.cellText}",enabled:!1,style:{textOutline:!1}}},scatter:{dataLabels:{format:"{point.cellText}",enabled:!1,style:{textOutline:!1}}}}},_updateSeries:function(h,e){var g=this._highChart,d=this._getSeriesData(h,e);d.forEach(function(a,d){g.series[d]?g.series[d].setData(a.data,!1):(a.type="line",g.addSeries(a))});d.length<g.series.length&&g.series.slice(d.length).forEach(function(a){a.remove(!0)});g.redraw();return!0}})})},"anaplan/api/SystemActions/GetModelRevisions":function(){define(["dojo/_base/declare",
"./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.workspaceId)||p.isEmptyString(this._params.workspaceId)?f.errors.workspaceIdRequired:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_MODEL_REVISIONS,
params:{modelId:this._params.modelId,workspaceId:this._params.workspaceId}}},parseResponse:function(f){return f}})})},"anaplan/api/Services/actions":function(){define(["anaplan/api/Entities/Actions"],function(l){return new l})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(l,s,p){return l("dijit.form.DateTextBox",p,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:s,_selector:"date",maxHeight:Infinity,value:new Date("")})})},
"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){var v=q("dijit.Calendar",[a,r,b],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",
nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){m.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new v._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:e.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",e.hitch(this,"_onKeyDown")),
g(this.dateRowsNode,"mouseover",e.hitch(this,"_onDayMouseOver")),g(this.dateRowsNode,"mouseout",e.hitch(this,"_onDayMouseOut")),g(this.dateRowsNode,"mousedown",e.hitch(this,"_onDayMouseDown")),g(this.dateRowsNode,"mouseup",e.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var d=this.currentFocus.getDate();b.setDate(Math.min(d,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){if((a=
k.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!k.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))k.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",k.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),k.remove(this._currentNode,
a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!k.contains(a,"dijitCalendarDisabledDate"))k.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&k.remove(a,"dijitCalendarActiveDate")},handleKey:function(a){var b=-1,d,e=this.currentFocus;switch(a.keyCode){case h.RIGHT_ARROW:b=1;case h.LEFT_ARROW:d="day";this.isLeftToRight()||(b*=-1);break;case h.DOWN_ARROW:b=1;case h.UP_ARROW:d=
"week";break;case h.PAGE_DOWN:b=1;case h.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case h.END:e=this.dateModule.add(e,"month",1),d="day";case h.HOME:e=new this.dateClassObj(e);e.setDate(1);break;default:return!0}d&&(e=this.dateModule.add(e,d,b));this._setCurrentFocusAttr(e);return!1},_onKeyDown:function(a){this.handleKey(a)||(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});v._MonthDropDownButton=
q("dijit.Calendar._MonthDropDownButton",u,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new v._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",b);this.containerNode.innerHTML=(6==d("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
b[a.getMonth()]+"\x3c/div\x3e"}});v._MonthDropDown=q("dijit.Calendar._MonthDropDown",[r,t,b],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML="";l.forEach(a,function(a,b){n.create("div",{className:"dijitCalendarMonthLabel",month:b,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(f.get(a.target,"month"))},
onChange:function(){}});return v})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(l,s,p,q,f,k,n,m,h,e){q("dijit-legacy-requires")&&n(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});n=s("dijit.form.Button"+(q("dojo-bidi")?"_NoBidi":""),[m,h],{showLabel:!0,iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:e,_setValueAttr:"valueNode",_setNameAttr:function(e){this.valueNode&&this.valueNode.setAttribute("name",e)},_fillContent:function(e){if(e&&(!this.params||!("label"in this.params)))if(e=k.trim(e.innerHTML))this.label=e},_setShowLabelAttr:function(e){this.containerNode&&p.toggle(this.containerNode,"dijitDisplayNone",!e);this._set("showLabel",e)},setLabel:function(e){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",e)},_setLabelAttr:function(e){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=k.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});q("dojo-bidi")&&(n=s("dijit.form.Button",n,{_setLabelAttr:function(e){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this._setLabelAttr(this.label))}}));
return n})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser require".split(" "),function(l,s,p,q,f,k,n,m){n.isDebug&&p(["./_firebug/firebug"]);var h=n.require;h&&(h=k.map(f.isArray(h)?h:[h],function(e){return e.replace(/\./g,"/")}),l.isAsync?p(h):m(1,function(){p(h)}));return l})},"anaplan/utils/LinkFormatter":function(){define(["anaplan/Exceptions",
"anaplan/utils/FormatHelper","dojo/string","dojox/validate/web"],function(l,s,p,q){var f=function(){return this instanceof f?this:Object.create?Object.create(f.prototype):new f};f.URL_VALIDATION_FLAGS={scheme:!0,allowIP:!0,allowLocal:!0,allowPort:!0,allowNamed:!0,allowDottedDecimal:!0,allowDottedHex:!0,allowDottedOctal:!0,allowDecimal:!0,allowHex:!0,allowIPv6:!0,allowHybrid:!0};f.EMAIL_VALIDATION_FLAGS={allowCruft:!1,allowNamed:!0,allowIP:!0,allowLocal:!0,allowPort:!0,allowDottedDecimal:!0,allowDottedHex:!0,
allowDottedOctal:!0,allowDecimal:!0,allowHex:!0,allowIPv6:!0,allowHybrid:!0};f.prototype.createLinkHtml=function(a){var b=[],d=this.parseCellValueAsLink(a,!0);d.href?b.push('\x3ca href\x3d"',d.href,'" target\x3d"_blank"\x3e',s.escapeHTML(d.label||d.href),"\x3c/a\x3e"):d.label?b.push(s.escapeHTML(d.label)):b.push(s.escapeHTML(a));return b.join("")};f.prototype.createMailToHtml=function(a){var b=[],d;a&&(d=this.parseCellValueAsMailTo(a),d.safeUri?b.push('\x3ca href\x3d"',d.safeUri,'"\x3e',s.escapeHTML(d.label||
d.uri.replace(/^mailto:/i,"")),"\x3c/a\x3e"):d.label?b.push(s.escapeHTML(d.label)):b.push(s.escapeHTML(p.trim(a).replace(/^mailto:/i,""))));return b.join("")};f.prototype.formatLink=function(a,b){var d=[];b&&(k(b,"#formatLink","label"),b=p.trim(b));a&&(k(a,"#formatLink","href"),a=p.trim(a));b&&d.push("[",b?b.replace(/(\[|])/g,"$1$1"):"","]");a&&(/:\/\//.test(a)||(a="http://"+a),d.push(a));return d.join("")};f.prototype.formatMailTo=function(a,d){var e=[],g;d&&(k(d,"#formatMailTo","label"),d=p.trim(d));
a&&(k(a,"#formatMailTo","mailtoUri"),/^mailto:/i.test(a)||(a="mailto:"+a),g=this._parseMailToUri(a),g=b(g));d&&e.push("[",d?d.replace(/(\[|])/g,"$1$1"):"","]");g&&e.push(g);return e.join("")};f.prototype.parseCellValueAsLink=function(a,b){var d=n(a);b&&d.href&&(d.href=this._sanitizeUrl(d.href));return{href:d.href||"",label:d.label||""}};f.prototype.parseCellValueAsMailTo=function(a){var d=n(a);a=d.href;var d=d.label,e=a,g=0,h,f,r;a&&(/^mailto:.*$/i.test(a)||(a="mailto:"+a),f=this._parseMailToUri(a),
r=b(f));d&&!r&&(r="mailto:");if(f){for(h in f)f.hasOwnProperty(h)&&g++;1===g&&"to"in f&&(e=f.to.join())}return{label:d,displayUri:e,uri:a,safeUri:r||"",headerFields:f||{}}};f.prototype._parseMailToUri=function(a){var b={},e,h,f,t;if(!/^mailto:.*$/i.test(a))return b;e=this._makeMailToUriSafe(a);a=[];e=g(e).split("\x26");var k;k=0;for(h=e.length;k<h;k++)-1!==e[k].indexOf("\x3d")&&a.push(e[k]);e=[];k=[];var m,n;h=0;for(f=a.length;h<f;h++)if(t=a[h],m=t.indexOf("\x3d"),n=d(t.substring(0,m)))e.push(n.toLowerCase()),
k.push(d(t.substr(m+1)));h=0;for(a=e.length;h<a;h++){f=e[h];t=k[h];if("to"===f||"cc"===f||"bcc"===f||"subject"===f)t=r(t);if("to"===f||"cc"===f||"bcc"===f)t&&(b[f]=(b[f]||[]).concat(t.split(/\s*,\s*/)));else if("body"===f){if(t||b.body)b.body=b.body?[b.body,t].join("\r\n"):t}else b[f]=t}return b};f.prototype._makeMailToUriSafe=function(a){return e(h(m(a))).replace(/\+/g,"%2B").replace(/\r\n|\r|\n/g,"%0D%0A").replace(/%0D%0A|%0D|%0A/gi,"%0D%0A")};f.prototype._sanitizeUrl=function(a){a=a?a.replace(/<[^>]*>?/gi,
""):"";return q.isUrl(a.split("#")[0],f.URL_VALIDATION_FLAGS)?a:""};var k=function(a,b,d){if("string"!==typeof a)throw new l.InvalidArgumentException(["anaplan.utils.LinkFormatter",b,": ",d," is is not a string"].join(""));},n=function(a){var b;return a&&(k(a,"~parseCellValue","cellValue"),a=p.trim(a))?(b=a.match(/^\[((?:]]|[^\]])*)](?!])(.*)$/))?{label:b[1]?b[1].replace(/\[\[/g,"[").replace(/]]/g,"]"):"",href:p.trim(b[2])}:{label:"",href:p.trim(a)}:{label:"",href:""}},m=function(a){return a.replace(/[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x0F]/g,
function(a){try{return encodeURIComponent(a)}catch(b){return""}})},h=function(a){return a.replace(/%(?![0-9A-F]{2})/gi,function(){return"%25"})},e=function(a){return a.replace(/%(00|01|02|03|04|05|06|07|08|0B|0C|0E|0F|10|11|12|13|14|15|16|17|18|19|1A|1B|1C|1D|1E|1F)/gi,function(a,b){return"%25"+b})},g=function(a){return"to\x3d"+a.replace(/#.*/,"").substr(7).replace(/^[^?]+/,function(a){return a.replace(/&/g,"%26")}).replace(/\?/,"\x26")},d=function(a){try{return decodeURIComponent(a)}catch(b){return""}},
a=function(a){return encodeURIComponent(a.replace(/[\x00-\x08]|[\x0B-\x0C]|[\x0E-\x1F]/g,"").replace(/\r\n|\r|\n/g,"\r\n"))},r=function(a){return a.replace(/\r|\n/g,"")},b=function(b){var d=[],e=["mailto:"],g;b.hasOwnProperty("subject")&&d.push([a("subject"),a(r(b.subject))].join("\x3d"));b.hasOwnProperty("body")&&d.push([a("body"),a(b.body)].join("\x3d"));b.hasOwnProperty("cc")&&(g=t(b.cc),g.length&&d.push([a("cc"),a(r(g.join(",")))].join("\x3d")));b.hasOwnProperty("bcc")&&(g=t(b.bcc),g.length&&
d.push([a("bcc"),a(r(g.join(",")))].join("\x3d")));b.hasOwnProperty("to")&&(b=t(b.to),b.length&&e.push(a(r(b.join(",")))));d.length&&e.push("?",d.join("\x26"));return e.join("")},t=function(a){var b=[],d,e,g,h;e=0;for(d=a.length;e<d;e++)g=a[e],g=g.replace(/(?:\\\(|\\\))/g,""),g=u(g),g=(h=g.match(/<([^>]+)>/))&&h[1]||g,q.isEmailAddress(g,f.EMAIL_VALIDATION_FLAGS)&&b.push(g);return b},u=function(a){var b,d,e,g,h;b=a.indexOf("(");if(-1===b)return a;e=a.length;g=1;for(d=b+1;g&&d<e;d++)h=a.charAt(d),"("===
h?g++:")"===h&&g--;return u(a.substring(0,b)+a.substring(d))};return f})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(l,s){return l("dijit._Contained",null,{_getSibling:function(l){var q=this.domNode;do q=q[l+"Sibling"];while(q&&1!=q.nodeType);return q&&s.byNode(q)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var l=this.getParent();return!l||!l.getIndexOfChild?
-1:l.getIndexOfChild(this)}})})},"anaplan/widgets/PivotComponentDropArea":function(){define("anaplan/utils/UIHelper dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry anaplan/utils/EntityLongIdHelper anaplan/widgets/DimensionItem anaplan/widgets/DimensionItemGroup dojo/i18n!anaplan/nls/pivotComponent dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/text!anaplan/templates/PivotComponentDropArea.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return e([s,p,q],{baseClass:"pivotComponentDropArea",templateString:t,templatePath:null,allowMultiple:!1,allowNesting:!0,_dndManager:null,addDraggableItem:function(a,b,e){try{if(b&&e){var g="before",h=b.contentNode||b.domNode;if(h===this.dropNode)g="last";else if("inner-right"===e||"outer-right"===e||"inner-bottom"===e||"outer-bottom"===e)g="after";d.place(a.domNode,h,g)}else this.dropNode.appendChild(a.domNode)}catch(f){l.throwClientException(this,f)}},canDrop:function(b,
d,e,g,h){var t=!0;try{if(!this.allowNesting)if(this.allowMultiple){if("outer-top"===g||"outer-bottom"===g||"inner-top"===g||"inner-bottom"===g)g="outer-left"}else g="center";if(!this.allowMultiple&&e.domNode!==this.domNode&&("outer-left"===g||"outer-right"===g)||e.domNode!==this.domNode&&f.getEnclosingWidget(b.domNode)instanceof m&&("outer-top"===g||"outer-bottom"===g||"inner-top"===g||"inner-bottom"===g))return this._hideInsertionPoint(),!1;var k=e.getWidget();if(k instanceof m&&(d.getWidget()instanceof
m&&("center"===g||"inner-left"===g||"inner-right"===g)||("outer-top"===g||"outer-bottom"===g||"inner-top"===g||"inner-bottom"===g)&&!this._dndManager.getDropZoneById(k.id).contains(b)&&k.getItemCount()>=k.sizeLimit))return this._hideInsertionPoint(),!1;var n=e.getDropZone?e.getDropZone():e,q=a.position(this.dropNode,!0),p=a.position(e.domNode,!0),k="",s="0px",G,H,L,F,K="transparent",J="transparent",M="transparent",I="transparent";if(e.domNode===this.domNode)G=p.y-q.y+4+"px",H=p.x-q.x+4+"px",L=p.w-
12+"px",F=p.h-12+"px",K=J=M=I="#33d76f",s="2px";else{G=p.y-q.y-4+"px";H=p.x-q.x-4+"px";L=p.w+4+"px";F=p.h+4+"px";q=!1;switch(g){case "center":K=J=M=I="#33d76f";s="2px";q=!0;break;case "outer-top":case "inner-top":K="#33d76f";break;case "outer-right":J="#33d76f";break;case "inner-right":this.allowMultiple?J="#33d76f":(K=J=M=I="#33d76f",s="2px",q=!0);break;case "outer-bottom":case "inner-bottom":M="#33d76f";break;case "outer-left":I="#33d76f";break;case "inner-left":this.allowMultiple?I="#33d76f":(K=
J=M=I="#33d76f",s="2px",q=!0);break;default:k="none",t=!1}!h&&q&&!d.canDrop(e,n,b,"center",!0)&&(k="none",t=!1)}h&&d!==n&&(k="none");r.set(this.insertionPoint,{display:k,top:G,left:H,width:L,height:F,borderTopColor:K,borderRightColor:J,borderBottomColor:M,borderLeftColor:I,borderRadius:s})}catch(O){l.throwClientException(this,O)}return t},deactivate:function(){try{this._hideInsertionPoint()}catch(a){l.throwClientException(this,a)}},drop:function(a,b,d,e){try{var f=this._getIdentifiers(a),r=this._getIdentifiers(a.getDropZone().getWidget()instanceof
m?a.getDropZone():a),t=[];if(!this.allowNesting)if(this.allowMultiple){if("outer-top"===e||"outer-bottom"===e||"inner-top"===e||"inner-bottom"===e)e="outer-left"}else e="center";var k=d.getDropZone?d.getDropZone():d,n=d.domNode,q=g.hitch(this,function(){var a=b.getWidget();if(a instanceof m){var d=a.getItemCount(),e=a=null,g=null,h=null;if(1===d){var f=b.getItems();f.length&&(a=f[0],b.removeDraggableItem(a))}if(1>=d){d=this._dndManager.getDraggableItemById(b.id);e=d.getDropZone();if(f=d.domNode.previousSibling)g=
this._dndManager.getDraggableItemById(f.id),h="outer-right";else if(f=d.domNode.nextSibling)g=this._dndManager.getDraggableItemById(f.id),h="outer-left";e.removeDraggableItem(d);this._dndManager.destroyDropZone(b);this._dndManager.destroyDraggableItem(d)}a&&e&&e.addDraggableItem(a,g,h)}});if(n!==this.domNode&&"center"===e)t=this._getIdentifiers(d),this._dndManager.confirm(h.titleConfirmPivot,f,r,t,!0,this,g.hitch(this,function(){d.swapWith(a)}));else if(n===this.domNode)this._dndManager.confirm(h.titleConfirmPivot,
f,r,t,!1,this,g.hitch(this,function(){b.removeDraggableItem(a);k.addDraggableItem(a,d,e);q()}));else{var p=d.getWidget();"outer-top"===e||"inner-top"===e||"outer-bottom"===e||"inner-bottom"===e?(t=this._getIdentifiers(d),p&&p instanceof m?this._dndManager.confirm(h.titleConfirmPivot,f,r,t,!1,this,g.hitch(this,function(){k=this._dndManager.getDropZoneById(d.id);b.removeDraggableItem(a);"outer-top"===e||"inner-top"===e?k.addDraggableItemAtDomIndex(a,0):k.addDraggableItem(a);q()})):this._dndManager.confirm(h.titleConfirmPivot,
f,r,t,!1,this,g.hitch(this,function(){var g=new m({dndManager:this._dndManager}),h=this._dndManager.createDraggableItem(g),g=this._dndManager.createDropZone(g);k.replaceDraggableItem(d,h);b.removeDraggableItem(a);"outer-top"===e||"inner-top"===e?(g.addDraggableItem(a),g.addDraggableItem(d)):(g.addDraggableItem(d),g.addDraggableItem(a));q()}))):p&&p instanceof m&&("inner-left"===e||"inner-right"===e)?(t=this._getIdentifiers(d.getDropZone()),this._dndManager.confirm(h.titleConfirmPivot,f,r,t,!0,this,
g.hitch(this,function(){d.swapWith(a)}))):this._dndManager.confirm(h.titleConfirmPivot,f,r,t,!1,this,g.hitch(this,function(){b.removeDraggableItem(a);k.addDraggableItem(a,d,e);q()}))}}catch(s){l.throwClientException(this,s)}},onItemCountChange:function(a){try{r.set(this.dropHere,"visibility",a?"hidden":"visible")}catch(b){l.throwClientException(this,b)}},postCreate:function(){try{this.inherited(arguments),this.allowMultiple&&b.add(this.domNode,this.baseClass+"MultipleItems"),l.setText(this.dropHere,
h.labelDropHere)}catch(a){l.throwClientException(this,a)}},resize:function(){try{this.inherited(arguments);var b=a.getContentBox(this.domNode),d=a.getMarginBox(this.dropHere);a.setMarginBox(this.dropHere,{t:(b.h-d.h)/2,l:(b.w-d.w)/2})}catch(e){l.throwClientException(this,e)}},setHasHover:function(a){try{a||this._hideInsertionPoint()}catch(b){l.throwClientException(this,b)}},_getIdentifiers:function(a){var b=[];try{var d=a.getWidget();if(d instanceof n)b.push(k.entityLongIdToEntityLongIdIdentifier(d.get("entityLongId")));
else{var e=this._dndManager.getDropZoneById(a.id).getItems(),g=e.length;for(a=0;a<g;a++)d=e[a].getWidget(),b.push(k.entityLongIdToEntityLongIdIdentifier(d.get("entityLongId")))}}catch(h){l.throwClientException(this,h)}return b},_hideInsertionPoint:function(){try{r.set(this.insertionPoint,"display","none")}catch(a){l.throwClientException(this,a)}},_setDndManagerAttr:function(a){try{this._dndManager=a,this._set("dndManager",a)}catch(b){l.throwClientException(this,b)}}})})},"dojox/encoding/crypto/_base":function(){define(["dojo/_base/lang"],
function(l){l=l.getObject("dojox.encoding.crypto",!0);l.cipherModes={ECB:0,CBC:1,PCBC:2,CFB:3,OFB:4,CTR:5};l.outputTypes={Base64:0,Hex:1,String:2,Raw:3};return l})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,s,p,q){q.extend(s,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return p("dijit._FocusMixin",null,{_focusManager:l})})},"anaplan/view/ManageImportSources/_ModelSource":function(){define("anaplan/constants anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/AuthHelper anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper anaplan/utils/SubmissionHandler anaplan/utils/UIHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-style dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/ModelSource.html dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/RadioButton anaplan/widgets/MasterSelector anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return r("anaplan.view.ManageImportSources._ModelSource",[g,e,d,h],{lblClose:z.itemClose,lblSelect:v.buttonSelect,lblWorkspace:v.labelWorkspace,lblModel:v.labelModel,lblList:v.labelList,lblModule:v.labelModule,lblView:v.labelView,lblLoading:v.labelLoading,lblSplitCompositeDimensions:v.labelSplitCompositeDimensions,templateString:y,baseClass:"manageImportSources_ModelSource",widgetsInTemplate:!0,constructor:function(a){this._selectedWorkspaceId=a.workspaceId;
this._selectedModelId=a.modelId;this._selectedModelName=this._selectedModelId===window.modelId?window.modelName:null;this._selectedObject=null},_onShow:function(){u.set(this.workspaceTr,"display","none");this.modelSelector.clear();this.objectSelector.clear();if(!k.isNullOrUndefined(this._selectedObject)&&this._selectedObject.entityLongId){var a=f.getEntityTypeIndex(this._selectedObject.entityLongId);a===l.MODULE_ENTITY_TYPE_INDEX?this.moduleRadioButton.set("checked",!0,!1):a===l.HIERARCHY_ENTITY_TYPE_INDEX?
this.listRadioButton.set("checked",!0,!1):this.viewRadioButton.set("checked",!0,!1)}else this.listRadioButton.set("checked",!0,!1);this.splitCompositeDimensionsCheckbox.set("value",this._sourceDefinition&&"true"===this._sourceDefinition.splitCompositeDimensions);this._fetchDataSources()},setImportSource:function(a){this._importSource=a||null},setSourceDefinition:function(a){try{a?(!k.isNullOrUndefined(a.workspaceId)&&a.workspaceId.length?this._selectedWorkspaceId=a.workspaceId:this._selectedWorkspaceId=
window.workspaceId,!k.isNullOrUndefined(a.modelId)&&a.modelId.length?(this._selectedModelId=a.modelId,!k.isNullOrUndefined(a.modelName)&&a.modelName.length?this._selectedModelName=a.modelName:this._selectedModelName=null):(this._selectedModelId=window.modelId,!k.isNullOrUndefined(a.modelName)&&a.modelName.length?this._selectedModelName=a.modelName:this._selectedModelName=window.modelId),this._selectedObject={entityLongId:a.objectId,label:a.objectName},this._sourceDefinition=a):(this._selectedWorkspaceId=
window.workspaceId,this._selectedModelId=window.modelId,this._selectedModelName=window.modelName,this._selectedObject=null)}catch(b){m.throwClientException(this,b)}},_disableControls:function(){this.workspaceSelector.set("disabled",!0);this.modelSelector.set("disabled",!0);this.objectSelector.set("disabled",!0);this.moduleRadioButton.set("disabled",!0);this.viewRadioButton.set("disabled",!0);this.listRadioButton.set("disabled",!0);this.selectButton.set("disabled",!0);this.splitCompositeDimensionsCheckbox.set("disabled",
!0)},_doRequest:function(a){try{var d={actionId:l.SYSTEM_ACTIONS.GET_DATA_SOURCES,params:a};s.createRequest(window.workspaceId,[],[],[d]);(new n({showPleaseWait:!1})).post([],[],[d],!1).then(b.hitch(this,function(a){this.domNode&&(this.busyIndicator.style.display="none",this._rebuild(a.result.systemActionResults[0]),this._enableControls())}),b.hitch(this,function(a){this.busyIndicator.style.display="none";this._enableControls()}))}catch(e){m.showErrorReporter(new p.ClientException(this.declaredClass+
"._doRequest",e,{widgetId:this.id})),this.busyIndicator.style.display="none",this._enableControls()}},_enableControls:function(){this.workspaceSelector.set("disabled",!1);this.modelSelector.set("disabled",!this.workspaceSelector.isValid());var a=null===this.modelSelector.getSelectedValue();this.objectSelector.set("disabled",a);this.moduleRadioButton.set("disabled",a);this.viewRadioButton.set("disabled",a);this.listRadioButton.set("disabled",a);this.splitCompositeDimensionsCheckbox.set("disabled",
!1);this._enableDisableSelectButton()},_enableDisableSelectButton:function(){this.selectButton.set("disabled",!this.workspaceSelector.isValid()||null===this.modelSelector.getSelectedValue()||null===this.objectSelector.getSelectedValue())},_fetchDataSources:function(){var d=!1;if(!k.isNullOrUndefined(this._dataSources)&&!k.isNullOrUndefined(this._dataSources.workspaces))var d=this._dataSources.workspaces,e=a.indexOf(d.entityIds[0],this._selectedWorkspaceId),d=d.span[0][e]!==l.SPAN_NONE;var g={workspaceId:this._selectedWorkspaceId};
k.isNullOrUndefined(this._selectedModelId)||b.mixin(g,{modelId:this._selectedModelId});k.isNullOrUndefined(this._selectedModelName)||b.mixin(g,{modelName:this._selectedModelName});try{if(this.busyIndicator.style.display="",this._disableControls(),d){var h=q.getFirstLocalModelSourceServiceLocation();if(null===h)throw new p.IllegalStateException(v.messageNoApiLocation,null,{state:v.messageNoApiLocation});q.requestToken(window.workspaceId,h).then(b.hitch(this,function(a){if(a.status===l.authTokenStatus.SUCCESS)b.mixin(g,
{userName:a.tokenType,password:a.tokenValue}),this._doRequest(g);else throw new p.BaseException(a.statusMessage,null,{status:a.status});})).otherwise(b.hitch(this,function(a){m.showErrorReporter(new p.ClientException(v.messageTokenAquisitionFailed,a));this.busyIndicator.style.display="none";this._enableControls()}))}else this._doRequest(g)}catch(f){m.showErrorReporter(new p.ClientException(this.declaredClass+"._fetchDataSources",f,{widgetId:this.id})),this.busyIndicator.style.display="",this._enableControls()}},
_filterObjectsLabelPage:function(b,d,e){for(var g={count:0,start:0,nestingCount:1,labels:[[]],entityLongIds:[[]],entityCodes:[[]],entityIds:[[]]},h=b.entityLongIds[0],r=b.entityIds[0],t=b.entityCodes[0],k=0<e.length,m=0;m<b.count;m++){var n=f.getEntityTypeIndex(h[m]);if(n===d||k&&-1===a.indexOf(e,n))g.labels[0].push(r[m]),g.entityIds[0].push(r[m]),g.entityCodes[0].push(t[m]),g.entityLongIds[0].push(h[m]),g.count++}return g},_getHierarchiesLabelPage:function(){return this._filterObjectsLabelPage(this._dataSources.objects,
l.HIERARCHY_ENTITY_TYPE_INDEX,[])},_getModulesLabelPage:function(){return this._filterObjectsLabelPage(this._dataSources.objects,l.MODULE_ENTITY_TYPE_INDEX,[])},_getViewsLabelPage:function(){return this._filterObjectsLabelPage(this._dataSources.objects,null,[l.HIERARCHY_ENTITY_TYPE_INDEX,l.MODULE_ENTITY_TYPE_INDEX])},_onClose:function(){this.onClose()},_onListTypeRadioButtonChange:function(a){try{a&&(this._disableControls(),this.objectSelector.set("labelPage",this._getHierarchiesLabelPage()))}catch(b){m.showErrorReporter(new p.ClientException(this.declaredClass+
"._onListTypeRadioButtonChange",b,{widgetId:this.id}))}finally{this._enableControls()}},_onModelSelectionChange:function(){try{if(!this.modelSelector.get("disabled")){var a=this.modelSelector.getSelectedValue(),b=this.modelSelector.getSelectedLabel();if(null===a)this._selectedModelName=this._selectedModelId=null;else if(this._selectedModelId!==a)this._selectedModelId=a,this._selectedModelName=b;else return;this._selectedObject=null;this.objectSelector.clear();this._fetchDataSources()}}catch(d){m.showErrorReporter(new p.ClientException(this.declaredClass+
"onModelSelectionChange",d,{widgetId:this.id}))}},_onModuleTypeRadioButtonChange:function(a){try{a&&(this._disableControls(),this.objectSelector.set("labelPage",this._getModulesLabelPage()))}catch(b){m.showErrorReporter(new p.ClientException(this.declaredClass+"._onModuleTypeRadioButtonChange",b,{widgetId:this.id}))}finally{this._enableControls()}},_onObjectSelectionChange:function(){try{if(!this.objectSelector.get("disabled")){var a=this.objectSelector.getSelectedValue(),b=this.objectSelector.getSelectedLabel();
this._selectedObject=null===a?null:{entityLongId:a,label:b};this._enableDisableSelectButton()}}catch(d){m.showErrorReporter(new p.ClientException(this.declaredClass+"onObjectSelectionChange",d,{widgetId:this.id}))}},_onSelect:function(){if(this._sourceDefinition){var a=b.mixin(b.clone(this._sourceDefinition),{dataSourceType:"MODEL_OBJECT",modelId:this._selectedModelId===window.modelId?"":this._selectedModelId,modelName:this._selectedModelName,objectId:this._selectedObject.entityLongId,objectName:this._selectedObject.label,
splitCompositeDimensions:this.splitCompositeDimensionsCheckbox.get("value")?"true":"false"});this._selectedWorkspaceId===window.workspaceId?delete a.workspaceId:b.mixin(a,{workspaceId:this._selectedWorkspaceId});this.onSave(a)}else a=b.mixin(b.clone(this._selectedObject),{modelId:this._selectedModelId,modelName:this._selectedModelName,splitCompositeDimensions:this.splitCompositeDimensionsCheckbox.get("value")?"true":"false"}),this._selectedWorkspaceId===window.workspaceId?delete a.workspaceId:b.mixin(a,
{workspaceId:this._selectedWorkspaceId}),this.onSelect(a)},_onViewTypeRadioButtonChange:function(a){try{a&&(this._disableControls(),this.objectSelector.set("labelPage",this._getViewsLabelPage()))}catch(b){m.showErrorReporter(new p.ClientException(this.declaredClass+"._onViewTypeRadioButtonChange",b,{widgetId:this.id}))}finally{this._enableControls()}},_onWorkspaceSelectionChange:function(){try{this.workspaceSelector.isValid()&&(this._selectedWorkspaceId=this.workspaceSelector.get("value"),this._selectedModelName=
this._selectedModelId=null,this.modelSelector.clear(),this._selectedObject=null,this.objectSelector.clear(),this._fetchDataSources())}catch(a){m.showErrorReporter(new p.ClientException(this.declaredClass+"onWorkspaceSelectionChange",a,{widgetId:this.id}))}},_rebuild:function(a){try{if(this._dataSources=a,!k.isNullOrUndefined(a))if(!0!==a.successful)m.showErrorReporter(new p.IllegalStateException(a.errorDetail.localMessageText),!1,!1);else{a.workspaces&&this._rebuildWorkspaces(a.workspaces);if(a.errorDetail){var b=
a.errorDetail;if("connectorParametersRequired"===b.messageKey){this._fetchDataSources();return}m.showErrorReporter(new p.BaseException(b.localMessageText),!0,!0)}a.models&&this._rebuildModels(a.models);a.objects&&this._rebuildObjects(a.objects)}}catch(d){m.showErrorReporter(new p.ClientException("anaplan.view.ManageImportSources._ModelSource._rebuild",d))}},_rebuildModels:function(b){var d=[],e=-1;if(0<b.count){for(var g=b.entityIds[0],h=b.labels[0],e=b.styles[0],f=0;f<b.count;++f)d.push({modelId:g[f],
modelName:h[f],activeState:e[f]});e=a.indexOf(g,this._selectedModelId);-1<e?this._selectedModelName=h[e]:(e=a.indexOf(h,this._selectedModelName),-1<e&&(this._selectedModelId=g[e]))}this.modelSelector.set("ModelSummaries",d);-1<e&&(this.modelSelector.set("value",{value:this._selectedModelId}),this.modelSelector.scrollToSelection())},_rebuildObjects:function(b){this.listRadioButton.get("checked")?this.objectSelector.set("labelPage",this._getHierarchiesLabelPage()):this.moduleRadioButton.get("checked")?
this.objectSelector.set("labelPage",this._getModulesLabelPage()):this.viewRadioButton.get("checked")&&this.objectSelector.set("labelPage",this._getViewsLabelPage());var d=b.entityLongIds[0];b=b.entityIds[0];var e=-1;k.isNullOrUndefined(this._selectedObject)||(e=a.indexOf(d,this._selectedObject.entityLongId),-1<e&&(this._selectedObject.label=b[e],this.objectSelector.set("value",{value:this._selectedObject.entityLongId,text:this._selectedObject.label}),this.objectSelector.scrollToSelection()))},_rebuildWorkspaces:function(a){for(var b=
a.entityIds[0],d=a.labels[0],e=[],g=0;g<a.count;++g)e.push({identifier:b[g],label:d[g]});b=new t({data:{identifier:"identifier",label:"label",items:e}});this.workspaceSelector.set("store",b);this.workspaceSelector.set("value",this._selectedWorkspaceId,!1);this.workspaceSelector.validate();u.set(this.workspaceTr,"display",1<a.count?"":this.workspaceSelector.isValid()?"none":"")},onClose:function(){},onSelect:function(){},onSave:function(){}})})},"anaplan/common/ColourPickerRenderer":function(){define(["dojo/_base/declare",
"dojo/i18n!anaplan/nls/colourPickerManager","anaplan/constants"],function(l,s,p){return l(null,{constructor:function(l){this._colourPickerManager=l.colourPickerManager;this._colourPickerAttachPoints=l.colourPickerAttachPoints;this._resetColourAttachPoint=l.resetColourAttachPoint;this._onChange=l.onChange;this._options=l.options;this.setSeriesColour=l.setSeriesColour;this.shouldShowResetButton=l.shouldShowResetButton;this.resetColours=l.resetColours;this._setThemeColoursFromReduxState();this.updateColourPickerStateFromChartConfig=
l.updateColourPickerStateFromChartConfig},getAllColours:function(){return App.constants.AvailableColours},getPaletteColours:function(){var l=App.interim.getReduxStore().getState();return this._colourPickerManager._getPaletteColours(l)},renderColourPicker:function(l,f){var k={allColours:this.getAllColours(),handleClose:this._handleColourPickerClose.bind(this),isOpen:this._colourPickerManager.isOpen(f),onHover:this._onColourPickerHover(l),onLeaveColourPicker:this._onColourPickerLeave.bind(this,l),onSelect:this._onColourPickerSelect(l),
paletteColours:this.getPaletteColours(),seriesColour:this._colourPickerManager.getColour(f),lastSelectedColour:this._colourPickerManager._originalColour,toggleOpen:this._toggleColourPickerOpen(f),dataTestId:"colour-picker-"+f,ariaTipId:"colour-picker-menu-"+f};App.interim.renderReactNodeWithProvider(this._colourPickerAttachPoints[l],App.components.ChartColourPicker,k,App.interim.getReduxStore())},_handleColourPickerClose:function(){this._colourPickerManager.closePicker();this.renderColourPickers()},
renderColourPickers:function(){for(var l=0;l<this._colourPickerAttachPoints.length;l++)this.renderColourPicker(l,this._colourPickerAttachPoints[l].pickerId);this._renderResetButton()},_onColourPickerLeave:function(l){this._colourPickerManager.resetOpenPicker();this._fireColourChange(l,this._colourPickerManager._originalColour);this.renderColourPickers()},_onColourPickerHover:function(l){return function(f){this._fireColourChange(l,f);this.updateColourPickerStateFromChartConfig();this.renderColourPickers()}.bind(this)},
_onColourPickerSelect:function(l){return function(f){this._fireColourChange(l,f);this._colourPickerManager.closePicker();this.updateColourPickerStateFromChartConfig();this.renderColourPickers()}.bind(this)},_toggleColourPickerOpen:function(l){return function(){this._colourPickerManager.togglePicker(l);this.renderColourPickers()}.bind(this)},_fireColourChange:function(l,f){if(void 0!==l)this.setSeriesColour(l,f);else for(var k=this._getChartTypeSeries(),n=0;n<k.length;n++)this.setSeriesColour(n);this._onChange(this._options)},
_getChartTypeSeries:function(){return this._options.chartType===p.chartType.PIE?this._options.series&&this._options.series[0].data:this._options.series},_setThemeColoursFromReduxState:function(){var l=[],f=App.interim.getReduxState();if(0<f.chartColours.colourPalettes.length)for(var k=f.chartColours.colourPalettes,n=0;n<k.length;n++)k[n].id===f.chartColours.themePaletteId&&(l=k[n].colours);this._themeColours=l},_renderResetButton:function(){if(this.shouldShowResetButton()){var l={accessibilityText:s.accessibilityText,
onClick:this._resetColours.bind(this),dataTestId:"reset-button"};App.interim.renderReactNodeWithProvider(this._resetColourAttachPoint,App.components.ResetButton,l,App.interim.getReduxStore())}else App.interim.unmountReactNode(this._resetColourAttachPoint)},_resetColours:function(l){l.preventDefault();this.resetColours();this.renderColourPickers()}})})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){function d(a,b){a.canDelete&&u._remove(a.id,b.options.frameDoc,!0)}function a(a){A&&A.length&&(f.forEach(A,function(a){u._remove(a.id,a.frameDoc);a.frameDoc=null}),A=[]);return a.options.jsonp?!a.data:!0}function r(a){return!!this.scriptLoaded}function b(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function t(a,b){if(this.canDelete){var d=this.response.options;A.push({id:this.id,frameDoc:d.ioArgs?d.ioArgs.frameDoc:d.frameDoc});d.ioArgs&&
(d.ioArgs.frameDoc=null);d.frameDoc=null}b?this.reject(b):this.resolve(a)}function u(e,g,h){var f=p.parseArgs(e,p.deepCopy({},g));e=f.url;g=f.options;var m=p.deferred(f,d,a,g.jsonp?null:g.checkString?b:r,t);k.mixin(m,{id:v+z++,canDelete:!1});g.jsonp&&(RegExp("[?\x26]"+g.jsonp+"\x3d").test(e)||(e+=(~e.indexOf("?")?"\x26":"?")+g.jsonp+"\x3d"+(g.frameDoc?"parent.":"")+v+"_callbacks."+m.id),m.canDelete=!0,x[m.id]=function(a){f.data=a;m.handleResponse(f)});p.notify&&p.notify.emit("send",f,m.promise.cancel);
if(!g.canAttach||g.canAttach(m)){var l=u._attach(m.id,e,g.frameDoc);if(!g.jsonp&&!g.checkString)var q=n(l,y,function(a){if("load"===a.type||w.test(l.readyState))q.remove(),m.scriptLoaded=a})}s(m);return h?m:m.promise}e.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var v=l.id.replace(/[\/\.\-]/g,"_"),z=0,y=e("script-readystatechange")?"readystatechange":"load",
w=/complete|loaded/,x=q.global[v+"_callbacks"]={},A=[];u.get=u;u._attach=function(a,b,d){d=d||g.doc;var e=d.createElement("script");e.type="text/javascript";e.src=b;e.id=a;e.async=!0;e.charset="utf-8";return d.getElementsByTagName("head")[0].appendChild(e)};u._remove=function(a,b,d){h.destroy(m.byId(a,b));x[a]&&(d?x[a]=function(){delete x[a]}:delete x[a])};u._callbacksProperty=v+"_callbacks";return u})},"anaplan/api/Entity/Module":function(){define("anaplan/api/Entity/Base/Entity dojo/_base/declare dojo/_base/array anaplan/api/Services/views anaplan/utils/JsHelper anaplan/utils/FormatHelper".split(" "),
function(l,s,p,q,f,k){return s([l],{_lineItems:{},constructor:function(f,k){this._lineItems=k},hasViews:function(){return 0<q.findItemsByPropertyValue("moduleEntityLongId",this.data.entityLongId).length},hasLineItemsWithoutFormulas:function(){return this.data.hasLineItems?this.data.countLineItems>this.getLineItemsWithFormula().length:!1},hasPotentialCellData:function(){return this.hasLineItemsWithoutFormulas()?this.data.countLineItems-this.getLineItemsWithFormula().length!==this.getLineItemsWithDataType("NONE").length:
!1},getLineItemsWithDataType:function(f){return!f||!this.data.hasLineItems?[]:p.filter(this._lineItems.getItems(),function(k){return k.format.dataType===f})},getLineItemsWithFormula:function(){return!this.data.hasLineItems?[]:this._lineItems.query({hasFormula:!0})},getLineItemSubsetNames:function(){return(this.data.lineItemSubsetsNames||[]).map(function(f){return k.escapeHTML(f)})},getVersionFormulaeLineItemNames:function(){return this.data.versionFormulaeLineItemNames||[]},getVersionFormulaeLineItemDescriptions:function(){var f=
[];this.data.versionFormulae.forEach(function(m){f.push(k.escapeHTML(m.lineItemSubset.entityId+" for version "+m.version.entityId))});return f},hasLineItemSubset:function(){return this.data.hasLineItemSubsets},hasLineItems:function(){return this.data.hasLineItems},hasVersionFormulae:function(){return this.data.hasVersionFormulae}})})},"anaplan/dashboard/_Button":function(){define("dojo/mouse anaplan/anapediaKeys anaplan/dashboard/DashboardHelper anaplan/data/ModelContentCache anaplan/data/ContextCache anaplan/actions/bulk-operation anaplan/constants anaplan/data/ModelContentHelper anaplan/data/OtherAction anaplan/Exceptions anaplan/snav/taskelementfactory anaplan/snav/widgets/popup anaplan/snav/listitemloader anaplan/utils/topics anaplan/utils/ActionHelper anaplan/utils/JsHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper dijit/_WidgetBase dijit/form/Button dijit/Tooltip dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/actionButton dojo/json dojo/on dojo/topic dojo/mouse".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M){return D([y],{disabled:!1,iconClass:null,label:null,buttonStyle:null,customWidth:!1,taskElements:null,tooltip:null,_dashboardTooltip:null,_enableButtonOptions:!0,_enableButtonStyles:!0,_tooltipIsHidden:!0,_getEntityTypeIndex:function(a,b){var d=a._entityTypeList,e=A.indexOf(d.hierarchyEntityLongIds,b);return d.entityTypeIndices[e]},isHierarchyNonMaintainable:function(){return!1},checkTaskElementsPermissions:function(a){q.getUserInfo();
for(var b=a.length,d=0,e=null,g=0;d<b;d++)if(e=a[d],e.taskElementType===n.taskElementType.BULK_OPERATION&&(g=A.indexOf([n.taskElementOperation.BULK_ENTITY_COPY,n.taskElementOperation.SELECT_CHILDREN,n.taskElementOperation.BULK_DELETE_ENTITIES],e.operation),0<=g&&"undefined"===typeof e.hierarchyEntityLongId))throw"anaplan.dashboard._Button.checkTaskElementsPermissions() hierarchyEntityLongId is undefined";return!0},postCreate:function(){G.add(this.domNode,"dashboardButton");this.taskElements&&!this.checkTaskElementsPermissions(this.taskElements)&&
(this.disabled=!0);var a=new w(E.mixin({label:this.label,showLabel:!0,disabled:this.disabled},null===this.iconClass?{}:{iconClass:"dashboardButtonIcon dashboardButtonIcon"+this.iconClass})),b="",d=this;A.forEach(this.taskElements,function(a){E.mixin(a,{before:E.hitch(a,function(){var a=this.dashboardPropertyMap&&!t.isEmptyObject(this.dashboardPropertyMap);if(!a&&this.dashboardEntityLongId&&-1<this.dashboardEntityLongId){var b=q.getDashboardsLabelPage();if(-1===A.indexOf(b.entityLongIds[0],this.dashboardEntityLongId))throw"Sorry, you do not have access to this dashboard";
}if(this.hasOwnProperty("importEntityLongId")&&-1<this.importEntityLongId&&(b=q.getImportsLabelPage(),-1===A.indexOf(b.entityLongIds[0],this.importEntityLongId)))throw"Sorry, you do not have access to this import";if(this.hasOwnProperty("actionEntityLongId")&&-1<this.actionEntityLongId&&(b=q.getActionsLabelPage(),-1===A.indexOf(b.entityLongIds[0],this.actionEntityLongId)))throw F.messageNoAccessToAction;b=d._getSelectedItemsHierarchyEntityLongId(this);if(-1==b)return!0;var e=d._getCurrentSelectionContext(this);
if(this.taskElementType===n.taskElementType.DASHBOARD&&a&&0===e.length)return this.selectedItems=e,!0;if((this.taskElementType===n.taskElementType.DASHBOARD||this.taskElementType===n.taskElementType.BULK_OPERATION&&-1<A.indexOf([n.taskElementOperation.SELECT_CHILDREN,n.taskElementOperation.SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY],this.operation))&&1!==e.length)throw"Invalid selection - please select single item from the '"+m.getHierarchyLabel(q,b)+"' list";if(!e.length)throw"Invalid selection, please select items from the '"+
m.getHierarchyLabel(q,b)+"' list";this.selectedItems=e;return!0})});b=(a=d._getTooltipTextForTaskElement(a))?b+"\n"+a:a});this.own(J(a,"click",E.hitch(this,"_onButtonClick")));a.domNode.dojoClick=!1;H.place(a.domNode,this.domNode);this._button=a;this._tooltipText=b;this.own(J(d.domNode,l.enter,E.hitch(this,"_createAndShowTooltip")))},_createAndShowTooltip:function(){var a=this;a._tooltip&&a._tooltip.destroy();if(!this._hasCustomTooltip()){var b=!1;if(a.taskElements&&a.taskElements[0].taskElementType===
n.taskElementType.DASHBOARD&&a.taskElements[0].dashboardPropertyMap&&!t.isEmptyObject(a.taskElements[0].dashboardPropertyMap)){var d=E.hitch(this,function(b){var d=E.clone(a.taskElements[0]);d.dashboardEntityLongId=b;b=a._getTooltipTextForTaskElement(d);x.show(b,a.domNode);a._tooltipIsHidden=!1;a.own(J.once(a.domNode,l.leave,function(){x.hide(a.domNode);a._tooltipIsHidden=!0}))}),b=a._getCurrentSelectionContext(a.taskElements[0]);(a.taskElements[0].selectedItems=b)&&1===b.length?(x.show(F.labelLoading,
a.domNode),a._tooltipIsHidden=!1,a.own(J.once(a.domNode,l.leave,function(){x.hide(a.domNode);a._tooltipIsHidden=!0})),b=!0,a._getDashboardToOpen(a.taskElements[0]).then(E.hitch(this,function(b){a._tooltipIsHidden||d(b)}))):(b=!0,d(""))}!b&&a._tooltipText&&(x.show(this._tooltipText,this.domNode),a._tooltipIsHidden=!1,J.once(this.domNode,l.leave,E.hitch(this,function(){x.hide(this.domNode);a._tooltipIsHidden=!0})));C.set(this.domNode,"tabindex","-1")}},_getCurrentSelectionContext:function(a){var b=
[],d=this._getSelectedItemsHierarchyEntityLongId(a);if(0>d)return b;d=u.entityLongIdToEntityLongIdIdentifier(d);if(a.taskElementType===n.taskElementType.BULK_OPERATION&&a.operation===n.taskElementOperation.SIMPLE_CREATE){if(a.hasOwnProperty("promptForParent")&&!0===a.promptForParent)return!0;M.publish("anaplan/selecteditems",d,!0);b=f.getSelectedItems(d);b.length||(a=u.entityLongIdToEntityLongIdIdentifier(a.hierarchyEntityLongId),M.publish("anaplan/selecteditems",a,!0),b=f.getSelectedItems(a),b.length||
(M.publish("anaplan/selecteditems",d),b=f.getSelectedItems(d),b.length||(M.publish("anaplan/selecteditems",a),b=f.getSelectedItems(a))))}else M.publish("anaplan/selecteditems",d),b=f.getSelectedItems(d);return b},uninitialize:function(){this._tooltip&&this._tooltip.destroy();this._tooltip=null;this._dashboardTooltip&&(this._dashboardTooltip.destroy(),this._dashboardTooltip=null);this._button&&this._button.destroy();this._button=null},onError:function(a){a&&(e.isException(a)?z.showErrorReporter(a):
(a=v.cleanEscapeHTML(a),z.showInfoDialog(a,{title:this.label})))},resize:function(a){a&&L.setMarginBox(this.domNode,a)},setGlobalContext:function(){},show:function(a){},hide:function(a){a==n.TIPS&&this._tooltip&&(this._tooltip.destroy(),this._tooltip=null)},_getTooltipTextForTaskElement:function(a){var b=a.taskElementType;a.taskElementType==n.taskElementType.BULK_OPERATION&&a.operation&&(b=a.operation);var d=a.dashboardPropertyMap&&!t.isEmptyObject(a.dashboardPropertyMap)?F.unavailableContextItem:
F.unavailableItem;if(b=F[b]||null){var e=function(a,b,e,g){var h=null;if(-1===a.indexOf("${"+b))return a;e?(g=A.indexOf(e.entityLongIds[0],g),h=0<=g?e.labels[0][g]:null):h=m.getHierarchyLabel(q,g);h?a=a.replace(RegExp("\\$\\{"+b+"\\?(.*)(:.*)?\\}","g"),"$1"):(a=a.replace(RegExp("\\$\\{"+b+"\\?.*:(.*)\\}","g"),"$1"),a=a.replace(RegExp("\\$\\{"+b+"\\?.*\\}","g"),""));h&&(h=v.cleanEscapeHTML(h));return a.replace(RegExp("\\$\\{"+b+"\\}","g"),h||d)};a.hasOwnProperty("includeInSubsetEntityLongIds")&&a.includeInSubsetEntityLongIds.length&&
(b=e(b,"hierarchy",q.getHierarchySubsetsLabelPage(),a.includeInSubsetEntityLongIds[0]));a.hasOwnProperty("hierarchyIdentifier")&&a.hierarchyIdentifier.length&&(b=e(b,"hierarchyIdentifier",null,u.entityLongIdIdentifierToEntityLongId(a.hierarchyIdentifier)));if(a.hasOwnProperty("filterLineItemIdentifier")&&a.filterLineItemIdentifier.length)var g=u.entityLongIdIdentifierToEntityLongId(a.filterLineItemIdentifier),h=m.getModuleEntityLongIdForLineItem(q,g),b=e(b,"filterLineItemIdentifier",q.getLineItemsLabelPage(h),
g);g=q.getDashboardsLabelPage();b=e(b,"dashboard",g,a.dashboardEntityLongId);b=e(b,"hierarchy",null,a.hierarchyEntityLongId);b=e(b,"parentHierarchy",null,a.parentHierarchyEntityLongId);b=e(b,"multiSelectHierarchy",null,a.multiSelectHierarchyEntityLongId)}return b},_isValid:function(){return!this.taskElements?!1:!A.some(this.taskElements,function(a){return a.hasOwnProperty("actionEntityLongId")})},_onButtonClick:function(){try{try{this._tooltipIsHidden||(x.hide(this.domNode),this._tooltipIsHidden=
!0)}catch(a){}var e=this.getParent().getParent(),h=this.getParent().dashboardEntityLongId;if(e&&!e._dashboardDesignMode){A.forEach(this.taskElements,function(a){a=this._getSelectedItemsHierarchyEntityLongId(a);-1<a&&f.clearSelectedItems(u.entityLongIdToEntityLongIdIdentifier(a))},this);var m=this.taskElements[0];if(!m.before())return!1;var l;if(m.taskElementType===n.taskElementType.IMPORT)l=K.stringify({nodes:{Import:{type:"IMPORT",action:u.entityLongIdToEntityLongIdIdentifier(m.importEntityLongId),
next:"_END_"},_END_:{type:"END",next:null}},start:"Import"}),M.publish("anaplan/process",null,l,m.label,"titleImport",h);else if(m.taskElementType===n.taskElementType.PROCESS)M.publish("anaplan/process",m.processEntityLongId,null,this.label,"titleProcess",h);else if("POPUP"===(this.displayAs||this._getDisplayAsForTaskElement(m))){var e=[],v={doLayout:!0,taskElement:m,title:this.label,hasClose:!0};if(m.taskElementType&&m.taskElementType==n.taskElementType.BULK_OPERATION&&m.operation)switch(m.operation){case n.taskElementOperation.BULK_ENTITY_COPY:m.helpUrl=
s.copyBranch;break;case n.taskElementOperation.BULK_DELETE_ENTITIES:v.helpUrl=s.deleteBranch;break;case n.taskElementOperation.SELECT_CHILDREN:m.helpUrl=s.assign}if(m.operation in{COPY_TO_NUMBERED_LIST:1,SELECT_CHILDREN:1,BULK_ENTITY_COPY:1}){var p=k.beginTask(m);p.then(function(a){M.publish("anaplan/result",a,m)},E.hitch(this,function(a){if(!p.isCanceled())this.onError(a)}))}else{v.roles=v.roles||[];v.roles.push("action");var q=new d(v);e.push(J(q,"submit",E.hitch(this,function(a){M.publish("anaplan/result",
a,m);q.hide()})));e.push(J(q,"error",E.hitch(this,function(a){this.onError(a);q.hide()})));e.push(J(q,"hide",E.hitch(this,function(){A.forEach(this._popupConnections,function(a){a.remove()});q.destroyRecursive()})));q.show();this._popupConnections=e;return!1}}else{if(m.taskElementType===n.taskElementType.BULK_OPERATION)return this._setButtonDisabled(!0),g.getTaskElement(m).then(E.hitch(this,function(a){var b=new B;b.then(E.hitch(this,function(a){try{a&&M.publish("anaplan/result",a,m),this._setButtonDisabled(!1)}catch(b){this._setButtonDisabled(!1),
this.onError(b)}}),E.hitch(this,function(a){this._setButtonDisabled(!1);this.onError(a)}));a.submit(b)}),E.hitch(this,function(a){this._setButtonDisabled(!1);this.onError(a)})),!1;if(m.taskElementType===n.taskElementType.DASHBOARD)return m.dashboardPropertyMap&&!t.isEmptyObject(m.dashboardPropertyMap)?this._getDashboardToOpen(m).then(function(a){var b={entityLongIds:A.map(m.selectedItems,function(a){return a.entityLongId}).join()};M.publish("anaplan/dashboard",a,{task:m,result:b,gatherRequired:!1})}):
(v={},-1<m.hierarchyEntityLongId&&(v={entityLongIds:A.map(m.selectedItems,function(a){return a.entityLongId}).join()}),M.publish("anaplan/dashboard",m.dashboardEntityLongId,{result:v,task:m,gatherRequired:!1})),!1;if(m.taskElementType===n.taskElementType.DELETE_BY_SELECTION)b.runActionWithConfirmation(m.actionEntityLongId).then(function(a){setTimeout(function(){r.refresh(!0)},150)},function(a){console.error(a)});else return console.warn(this.id,"unsupported task element",m),!1}}}catch(w){this.onError(w)}},
_getDashboardToOpen:function(b){var d=new B;(new a({hierarchyEntityLongId:b.hierarchyEntityLongId})).getListItems(b.selectedItems).then(E.hitch(this,function(a){try{var e=a.dataPages[0].cellValues,g=b.dashboardPropertyMap,h=b.dashboardEntityLongId,f=A.indexOf(a.columnLabelPages[0].entityLongIds[0],b.hierarchyPropertyEntityLongId);a=-1;for(var r in g)if(g.hasOwnProperty(r)&&(a=r,-1<f&&-1<a&&e[f]==a)){h=g[a];break}d.resolve(h)}catch(t){d.reject(t)}}),E.hitch(this,function(a){d.reject(a)}));return d},
_setTaskElementsAttr:function(a){var b=q.getActionsLabelPage(),d=q.getImportsLabelPage();this.taskElements=A.map(a,function(a){var e=u.getEntityTypeIndex(a.actionEntityLongId);if(e==n.ACTION_ENTITY_TYPE_INDEX){e=A.indexOf(b.entityLongIds[0],a.actionEntityLongId);if(-1<e){var e=b.labels[0][e],g=q.getActionInfo(a.actionEntityLongId),g=K.parse(g.actionDefinitionJsonString);if(-1===A.indexOf(["TASK_ELEMENT",n.taskElementType.DELETE_BY_SELECTION],g.actionType))return console.warn(this.id+" expected action type to be TASK_ELEMENT or DELETE_BY_SELECTION but is not"),
{taskElementType:n.taskElementType.OTHER_ACTION,actionEntityLongId:-1,label:"",isValid:!1};var g="TASK_ELEMENT"===g.actionType?g.taskElement:K.stringify(E.mixin({taskElementType:g.actionType},E.clone(g))),f=new h({actionType:"TASK_ELEMENT",taskElement:g});return E.mixin(E.clone(K.parse(g)),{label:e,isValid:f.isValid(),actionEntityLongId:a.actionEntityLongId?a.actionEntityLongId:-1})}return{taskElementType:n.taskElementType.OTHER_ACTION,actionEntityLongId:-1,label:"Action Unavailable",isValid:!1}}if(e==
n.IMPORT_ENTITY_TYPE_INDEX)return e=A.indexOf(d.entityLongIds[0],a.actionEntityLongId),-1<e?{taskElementType:n.taskElementType.IMPORT,importEntityLongId:a.actionEntityLongId,label:d.labels[0][e],isValid:!0}:{taskElementType:n.taskElementType.IMPORT,importEntityLongId:-1,label:"Import Unavailable",isValid:!1};if(e==n.PROCESS_ENTITY_TYPE_INDEX)return{taskElementType:n.taskElementType.PROCESS,processEntityLongId:a.actionEntityLongId,label:a.actionLabel?v.cleanEscapeHTML(a.actionLabel):"Run Process ("+
u.getEntityIndex(a.actionEntityLongId)+")",isValid:!0};console.warn("expected actionEntityLongId to be otherAction, import or process and is not "+a.actionEntityLongId);return{taskElementType:null,actionEntityLongId:a.actionEntityLongId,label:"#ERROR# ("+e+")",isValid:!1}});a=this.taskElements[0];this.set("label",v.cleanEscapeHTML(a.label));a.isValid||(this.set("iconClass","INVALID"),this.set("disabled",!0))},_getSelectedItemsHierarchyEntityLongId:function(a){if(a.taskElementType==n.taskElementType.IMPORT)return-1;
if(a.taskElementType==n.taskElementType.DASHBOARD)return a.hasOwnProperty("hierarchyEntityLongId")?a.hierarchyEntityLongId:-1;if(a.taskElementType==n.taskElementType.BULK_OPERATION){if(a.operation==n.taskElementOperation.DEFINE_ENTITIES)return-1;if(a.operation==n.taskElementOperation.SIMPLE_CREATE)return a.hasOwnProperty("promptForParent")&&!0===a.promptForParent?-1:-1<a.parentHierarchyEntityLongId?a.parentHierarchyEntityLongId:a.hierarchyEntityLongId;if(a.operation==n.taskElementOperation.SELECT_CHILDREN||
a.operation==n.taskElementOperation.COPY_TO_NUMBERED_LIST)return a.parentHierarchyEntityLongId;if(a.operation==n.taskElementOperation.SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY||a.operation==n.taskElementOperation.SYNCHRONISE_HIERARCHY)return a.entityLongId}return a.hasOwnProperty("hierarchyEntityLongId")?a.hierarchyEntityLongId:-1},_getDisplayAsForTaskElement:function(a){if(a.taskElementType==n.taskElementType.DASHBOARD||a.taskElementType===n.taskElementType.DELETE_BY_SELECTION)return null;if(a.taskElementType==
n.taskElementType.BULK_OPERATION){if(a.operation==n.taskElementOperation.SIMPLE_CREATE)return a.hasOwnProperty("promptForParent")&&!0===a.promptForParent?"POPUP":null;if(a.operation==n.taskElementOperation.SYNCHRONISE_HIERARCHY)return null}return"POPUP"},_setButtonDisabled:function(a){this._button&&this._button.set("disabled",a)},_setButtonStyleAttr:function(a){this._set("buttonStyle",a);A.forEach(t.getObjectKeys(n.dashboardButtonStyles),E.hitch(this,function(b){G.toggle(this.domNode,n.dashboardButtonStyles[b],
a===n.dashboardButtonStyles[b])}))},_setCustomWidthAttr:function(a){this._set("customWidth",a);G.toggle(this.domNode,"customWidth",a)},_hasCustomTooltip:function(){return!t.isNullOrUndefined(this.tooltip)&&this.tooltip.length},_setTooltipAttr:function(a){this._set("tooltip",a);t.isNull(this._dashboardTooltip)||(this._dashboardTooltip.destroy(),this._dashboardTooltip=null);this._hasCustomTooltip()&&(this._dashboardTooltip=p.createDashboardElementTooltip(this.tooltip,this.domNode,["after","above","below",
"before"]))}})})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,s,p){var q=p("config-requestProvider");q||(q="./xhr");l.getPlatformDefaultId=function(){return"./xhr"};l.load=function(f,k,n,m){s(["platform"==f?"./xhr":q],function(h){n(h)})}})},"anaplan/layout/ContentPane":function(){define(["dijit/layout/ContentPane","dojo/_base/declare"],function(l,s){return s("anaplan.layout.ContentPane",l,{onOpen:function(){},onClose:function(){},onShow:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(l,s,p,q){return s("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(f,k){var n=this.containerNode;if(0<k){for(n=n.firstChild;0<k;)1==n.nodeType&&k--,n=n.nextSibling;n?k="before":(n=this.containerNode,k="last")}p.place(f.domNode,n,k);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&(f=this.getChildren()[f]);
f&&(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(f,k){q.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var n=this.getChildren(),m=l.indexOf(n,f);return n[m+k]},getIndexOfChild:function(f){return l.indexOf(this.getChildren(),f)}})})},"anaplan/cf/ConditionalFormatting":function(){define("anaplan/utils/FormatHelper anaplan/cf/ConditionalFormattingDefinition anaplan/cf/ConditionalFormattingInfo anaplan/cf/ConfirmationView anaplan/cf/EditRuleView anaplan/cf/ManageRulesView anaplan/common/PageInfo anaplan/common/ViewDefinition anaplan/constants anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/Exceptions anaplan/layout/StackContainer anaplan/utils/UIHelper anaplan/widgets/Dialog2 anaplan/widgets/HelpBox dijit/Dialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-geometry dojo/string dojo/when dojo/window dojo/i18n!anaplan/nls/conditionalFormatting dojo/i18n!dijit/nls/common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C){var G=h.conditionalFormatType;return z([a,b.ContentMixin],{baseClass:"conditionalFormatting",constructor:function(a){if(!a)throw new d.ClientException("anaplan.cf.ConditionalFormatting: missing args");if(!a.viewDefinition)throw new d.ClientException("anaplan.cf.ConditionalFormatting: missing viewDefinition");if(!a.pageInfo)throw new d.ClientException("anaplan.cf.ConditionalFormatting: missing pageInfo");try{this._viewDefinition=new m(y.clone(a.viewDefinition)),
this._pageInfo=new n(y.clone(a.pageInfo)),this._selectedLineItemIdentifiers=a.selectedLineItemIdentifiers||[]}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting",b);}},onCancel:function(){},postCreate:function(){try{this.inherited(arguments),this._createViews()}catch(a){throw new d.ClientException("anaplan.cf.ConditionalFormatting.postCreate",a);}},resize:function(a){var b,e,g;try{if(this.selectedChildWidget&&(b=this.selectedChildWidget.getAutoSizePixels())){if(a&&(a.h>b.maxHeight||
a.h<b.minHeight||a.w>b.maxWidth||a.w<b.minWidth))a=null;a||(g=this._getMaxSize(),e={h:Math.max(Math.min(g.h,b.maxHeight),b.minHeight),w:Math.max(Math.min(g.w,b.maxWidth),b.minWidth)},this.resize(e))}this.inherited(arguments)}catch(h){throw new d.ClientException("anaplan.cf.ConditionalFormatting#resize",h);}},onDialogShow:function(){try{this.inherited(arguments),this._updateHelp(),this.selectedChildWidget===this._manageView&&this._manageView.selectRulesByTargetIdentifier(this._selectedLineItemIdentifiers)}catch(a){throw new d.ClientException("anaplan.cf.ConditionalFormatting.onDialogShow",
a);}},onSubmit:function(){},selectChild:function(){this.inherited(arguments);this.resize()},startup:function(){try{this.inherited(arguments),this._showManageRulesView(!0)}catch(a){throw new d.ClientException("anaplan.cf.ConditionalFormatting.startup",a);}},_addNewRule:function(a){try{this._viewDefinition.addConditionalFormattingRuleDefinition(a,this._pageInfo.getConditionalFormattingInfo()),this._showManageRulesView(!0).then(y.hitch(this,function(){this._manageView.selectRulesByTargetIdentifier([a.targetIdentifier])}))}catch(b){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._addNewRule",
b))}},_cancelEditRule:function(){this._showManageRulesView(!1)},_cancelNewRule:function(){this._showManageRulesView(!1)},_confirmOverwriteWithEditRule:function(a,b){try{this._confirmationView.set("operationParams",{ruleDefinition:a,ruleIndex:b}),this._confirmationView.set("dialogTitle",B.titleEditRuleView),this._confirmationView.set("messageContent",A.substitute(B.confirmOverwriteWithEditRule,{lineItemName:l.escapeHTML(a.getTargetLabel())})),this._confirmationView.set("confirmButtonLabel",B.buttonConfirmOverwrite),
this.selectChild(this._confirmationView)}catch(e){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._confirmOverwriteWithEditRule",e))}},_confirmOverwriteWithNewRule:function(a){try{this._confirmationView.set("operationParams",{ruleDefinition:a,ruleIndex:-1}),this._confirmationView.set("dialogTitle",B.titleNewRuleView),this._confirmationView.set("messageContent",A.substitute(B.confirmOverwriteWithNewRule,{lineItemName:l.escapeHTML(a.getTargetLabel())})),this._confirmationView.set("confirmButtonLabel",
B.buttonConfirmOverwrite),this.selectChild(this._confirmationView)}catch(b){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._confirmOverwriteWithNewRule",b))}},_confirmRemoveCompareDefinition:function(){try{this._confirmationView.set("dialogTitle",B.titleManageRulesView),this._confirmationView.set("messageContent",B.confirmRemoveCompareDefinition),this._confirmationView.set("confirmButtonLabel",C.buttonOk),this.selectChild(this._confirmationView)}catch(a){throw new d.ClientException("anaplan.cf.ConditionalFormatting._confirmRemoveCompareDefinition",
a);}},_createViews:function(){var a;try{a=this._getModuleEntityLongId(),this._manageView=new k({dialogTitle:B.titleManageRulesView,helpLink:"default.htm#cshid\x3d1068",moduleEntityLongId:a,conditionalFormattingInfo:this._getConditionalFormattingInfo(),selectedLineItemIdentifiers:this._selectedLineItemIdentifiers}),this._newView=new f({dialogTitle:B.titleNewRuleView,helpLink:"default.htm#cshid\x3d1068",formatType:G.BG_COLOR_SCALE,moduleEntityLongId:a,selectedLineItemIdentifier:this._selectedLineItemIdentifiers[0]||
null}),this._editView=new f({dialogTitle:B.titleEditRuleView,helpLink:"default.htm#cshid\x3d1068",formatType:G.BG_COLOR_SCALE,moduleEntityLongId:a}),this._confirmationView=new q({confirmButtonLabel:B.buttonConfirmOverwrite,cancelButtonLabel:B.buttonCancelOverwrite}),this.addChild(this._manageView),this.addChild(this._newView),this.addChild(this._editView),this.addChild(this._confirmationView),this.own(this._manageView.on("submit",y.hitch(this,"_onSubmit")),this._manageView.on("cancel",y.hitch(this,
"onCancel")),this._manageView.on("addRule",y.hitch(this,"_showNewRuleView")),this._manageView.on("editRule",y.hitch(this,"_showEditRuleView")),this._manageView.on("activeStateChange",y.hitch(this,"_onActiveStateChange")),this._manageView.on("deleteRules",y.hitch(this,"_onDeleteRules")),this._newView.on("cancel",y.hitch(this,"_cancelNewRule")),this._newView.on("submit",y.hitch(this,"_addNewRule")),this._newView.on("confirmOverwrite",y.hitch(this,"_confirmOverwriteWithNewRule")),this._editView.on("cancel",
y.hitch(this,"_cancelEditRule")),this._editView.on("submit",y.hitch(this,"_updateRule")),this._editView.on("confirmOverwrite",y.hitch(this,"_confirmOverwriteWithEditRule")),this._confirmationView.on("confirm",y.hitch(this,"_onConfirm")),this._confirmationView.on("cancel",y.hitch(this,"_onCancelConfirmation")))}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._createViews",b);}},_getConditionalFormattingDefinition:function(){var a;try{a=this._viewDefinition.getConditionalFormattingDefinition(),
a||(a=new s,this._viewDefinition.setConditionalFormattingDefinition(a))}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._getConditionalFormattingDefinition",b);}return a},_getConditionalFormattingInfo:function(){var a;try{a=this._pageInfo.getConditionalFormattingInfo(),a||(a=new p,this._pageInfo.setConditionalFormattingInfo(a))}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._getConditionalFormattingInfo",b);}return a},_getEnclosingDialog:function(){var a,
b;try{a=null;for(b=this.getParent();!a&&b;)b.isInstanceOf(u._DialogBase)?a=b:b=b.getParent()}catch(e){throw new d.ClientException("anaplan.cf.ConditionalFormatting._getEnclosingDialog",e);}return b},_getMaxSize:function(){var a=0,b=0,e,g,h,f;try{if(e=this._getEnclosingDialog())f=E.getBox(),g=x.getMarginSize(e.domNode,null),h=x.getMarginSize(this.domNode,null),a=f.h-g.h+h.h,b=f.w-g.w+h.w}catch(r){throw new d.ClientException("anaplan.cf.ConditionalFormatting#_getMaxSize",r);}return{h:a,w:b}},_getModuleEntityLongId:function(){try{return e.getModuleEntityLongIdForViewDefinitionOrReference(g,
this._viewDefinition)}catch(a){throw new d.ClientException("anaplan.cf.ConditionalFormatting._getModuleEntityLongId",a);}},_onActiveStateChange:function(a){this._getConditionalFormattingDefinition().isActive=a},_onCancelConfirmation:function(a){try{a?this.selectChild(-1<a.ruleIndex?this._editView:this._newView):this._showManageRulesView(!1)}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._onCancelConfirmation",b);}},_onConfirm:function(a){var b,e,g,h,f;try{if(a)b=this._getConditionalFormattingDefinition(),
e=this._getConditionalFormattingInfo(),h=a.ruleDefinition,f=a.ruleIndex,g=b.getRuleIndexForTarget(h.targetIdentifier),b.updateRuleDefinitionAtIndex(h,g,e),-1<f&&b.deleteRuleDefinitionAtIndex(f,e),this._showManageRulesView(!0).then(y.hitch(this,function(){this._manageView.selectRulesByTargetIdentifier([h.targetIdentifier])}));else this.onSubmit(this._viewDefinition)}catch(r){throw new d.ClientException("anaplan.cf.ConditionalFormatting._onConfirm",r);}},_onDeleteRules:function(a){var b;try{b=a.slice();
b.sort(function(a,b){return b-a});var e=this._getConditionalFormattingDefinition();v.forEach(b,function(a){e.deleteRuleDefinitionAtIndex(a,this._pageInfo.getConditionalFormattingInfo())},this);this._manageView.prepare({conditionalFormattingDefinition:e,refreshRulesGrid:!0}).then(y.hitch(this,function(){this._manageView.selectRuleAtIndex(b[b.length-1])}))}catch(g){throw new d.ClientException("anaplan.cf.ConditionalFormatting._onDeleteRules",g);}},_onSubmit:function(){var a;try{if(this._viewDefinition.hasCompareDefinition()&&
(a=this._viewDefinition.getConditionalFormattingDefinition())&&a.isActive&&!a.isEmpty()){this._confirmRemoveCompareDefinition();return}this.onSubmit(this._viewDefinition)}catch(b){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._onSubmit",b))}},_showChild:function(a){try{this.inherited(arguments),this.onTitleChange(a.get("dialogTitle")),this._updateHelp(),this.resize(),a===this._manageView&&this._manageView.focusRuleGrid()}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._showChild",
b);}},_showEditRuleView:function(a){try{this._editView.reset(),this.selectChild(this._editView),setTimeout(y.hitch(this,function(){this._editView.prepare({conditionalFormattingDefinition:this._getConditionalFormattingDefinition(),conditionalFormattingInfo:this._getConditionalFormattingInfo(),editRuleAtIndex:a})}),25)}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._showEditRuleView",b);}},_showManageRulesView:function(a){var b=new w;try{this.selectChild(this._manageView),setTimeout(y.hitch(this,
function(){D(this._manageView.prepare({conditionalFormattingDefinition:this._getConditionalFormattingDefinition(),refreshRulesGrid:!!a}),function(){b.resolve()})}),25)}catch(e){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._showManageRulesView",e))}return b},_showNewRuleView:function(){try{this._newView.reset(),this.selectChild(this._newView),setTimeout(y.hitch(this,function(){this._newView.prepare({conditionalFormattingDefinition:this._getConditionalFormattingDefinition(),
conditionalFormattingInfo:this._getConditionalFormattingInfo()})}),25)}catch(a){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._showNewRuleView",a))}},_updateHelp:function(){var a;try{a=this.selectedChildWidget?this.selectedChildWidget.get("helpLink"):"",this.onHelpChange(a)}catch(b){throw new d.ClientException("anaplan.cf.ConditionalFormatting._updateHelp",b);}},_updateRule:function(a,b){try{this._getConditionalFormattingDefinition().updateRuleDefinitionAtIndex(a,b,this._pageInfo.getConditionalFormattingInfo()),
this._showManageRulesView(!0).then(y.hitch(this,function(){this._manageView.selectRulesByTargetIdentifier([a.targetIdentifier])}))}catch(e){r.showErrorReporter(new d.ClientException("anaplan.cf.ConditionalFormatting._updateRule",e))}}})})},"anaplan/cf/RuleDefinition":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang anaplan/common/_DefinitionBase anaplan/data/ModelContentCache anaplan/utils/EntityLongIdHelper ./_FormatDefinitionBase ./FormatDefinitionFactory".split(" "),function(l,
s,p,q,f,k,n,m){return s(q,{_serializableProperties:"isActive targetIdentifier selectionDefinition valuesIdentifier filterDefinition format".split(" "),constructor:function(h){this.isActive=!0;this.format=this.targetIdentifier=null;h&&(p.mixin(this,h),this.format&&!(this.format instanceof n)&&(this.format=(new m).createFormatDefinition(this.format)))},getTargetLabel:function(){var h,e,g,d="";this.targetIdentifier&&(g=k.entityLongIdIdentifierToEntityLongId(this.targetIdentifier),e=f.getModulesLabelPage(),
h=f.getModuleInfos(),l.some(e.entityLongIds[0],function(a,f){var b;if(a===g)return d=e.labels[0][f],!0;b=h[f].lineItemsLabelPage;return l.some(b.entityLongIds[0],function(a,e){return a===g?(d=b.labels[0][e],!0):!1})}));return d}})})},"anaplan/api/SystemActions/GetCurrentModelActiveState":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_APPLICATION_PROPERTIES}},
extractResult:function(f){return f.result.activeState}})})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,s){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:s("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,
NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:s("mac")&&!s("air")?s("safari")?91:224:17}})},"anaplan/utils/IdChecker":function(){define(["dojo/_base/declare","anaplan/constants","anaplan/utils/LabelPageHelper",
"anaplan/utils/UIHelper","dojo/i18n!anaplan/nls/idChecker"],function(l,s,p,q,f){return l("anaplan.utils.IdChecker",[],{constructor:function(){this._invalidIdMessage=null;this._nls=f},checkId:function(f,n){if(null==f)return this._setInvalidIdMessage(this._nls.messageNull,f,n),!1;if(0===f.length)return this._setInvalidIdMessage(this._nls.messageEmpty,f,n),!1;var m=f.charAt(0),h=f.charAt(f.length-1);if("_"===m||"_"===h)return this._setInvalidIdMessage(this._nls.messageUnderscore,f,n),!1;if(" "===m||
" "===h)return this._setInvalidIdMessage(this._nls.messageBlank,f,n),!1;if(f.length>s.MAXIMUM_ID_LENGTH)return this._setInvalidIdMessage(this._nls.messageLength,f,n),!1;for(m=0;m<f.length;++m)if(this._isControlCharacter(f.charCodeAt(m)))return this._setInvalidIdMessage(this._nls.messageControlCharacter,f,n),!1;return!0},truncateCleanAndMangle:function(f,n,m,h){try{if(!f)return f;f=f.substring(0,s.MAXIMUM_ID_LENGTH);f=f.replace(/[\0-\x1f\x7f]/g," ");f=f.replace(/^\s+|\s+$/g,"");f=f.replace(/^_+|_+$/g,
"~");if(n){if(f.equalsIgnoreCase(n))return f;var e=n.search(/~[0-9]*$/);if(0<=e){var g=f.length-e;if(0<=g&&11>=g){var d=f.substring(0,e);if(d.equalsIgnoreCase(n.substring(0,e)))return d+n.substring(e)}}}var a=p.getEntityIdByLabelOrCodeMap(m,h,!0,!0);n=f;for(m=0;a[n.toLowerCase()];){++m;h="~"+m;var r=Math.min(f.length,s.MAXIMUM_ID_LENGTH-h.length);n=f.substring(0,r)+h}return n}catch(b){q.throwClientException(this,b)}},_setInvalidIdMessage:function(f,n,m){f=m?f.replace("%id%"," '"+n+"'"):f.replace("%id%",
"");this._invalidIdMessage=f=f.replace("%max_id_length%",s.MAXIMUM_ID_LENGTH)},_isControlCharacter:function(f){return 0<=f&&31>=f||127<=f&&159>=f},getInvalidIdMessage:function(){return this._invalidIdMessage}})})},"anaplan/view/ManageImportSources/_SourceList":function(){define("anaplan/utils/RedirectHelper anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator/TxidProvider anaplan/data/Aggregator/RequestSerialProvider dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained anaplan/widgets/HelpBox anaplan/Exceptions dojo/io-query dojo/_base/lang dojo/_base/array dojo/json dojo/on dojo/has dojo/dom-attr dojo/dom-construct dojo/io/iframe dojo/i18n!anaplan/nls/imports dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/SourceList.html anaplan/widgets/Button dojo/_base/sniff anaplan/widgets/MasterSelector anaplan/widgets/SimpleTextarea anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){return k([n,m,h,e],{templateString:E,baseClass:"manageImportSources_SourceList",widgetsInTemplate:!0,lblEdit:A.buttonEdit,lblUpload:A.buttonUpload,lblModel:A.buttonModel,lblRemove:A.buttonRemove,lblSelect:A.buttonSelect,lblClose:D.itemClose,lblInstructions:A.labelSourceListInstructions,constructor:function(a){this.inherited(arguments);this._selection=null;this._cons=[];this._workspaceId=a.workspaceId||null;this._modelId=a.modelId||null;this._withSelect=
a.withSelect;this._dataPage=this._rowLabelPage=null},uninitialize:function(){this._fileInputChangeListener&&this._fileInputChangeListener.remove();this._fileInputFocusListener&&this._fileInputFocusListener.remove();b.forEach(this._cons,function(a){a.remove()})},getSelectedImportSource:function(){return this._selection},_onShow:function(){this.onTitleChanged(A.titleEditSource);var a=p.searchAndReplacePlaceholders(x.helpManageImportSources),a=new g({content:a});this.onHelpChanged(a.domNode);this.sourceList.focus()},
postCreate:function(){try{this.inherited(arguments);this._recreateFileInput();var a=this.modelButton.on("click",r.hitch(this,"_onModelButtonClick"));this._cons.push(a);this.selectButton.toggle(this._withSelect);this._updateButtonState()}catch(b){s.throwClientException(this,b)}},update:function(a){try{var b=a.rowLabelPages[0];b&&(this._rowLabelPage=b);this.sourceList.set("labelPage",this._rowLabelPage);var d=a.dataPages[0];d&&(this._dataPage=d);null!=this._selection&&(this.sourceList.set("value",{value:null}),
this._selection=null);this._updateButtonState()}catch(e){s.throwClientException(this,e)}},setSelection:function(a){this.sourceList.set("value",{value:a})},_recreateFileInput:function(){try{this.fileInput&&(this._fileInputChangeListener&&this._fileInputChangeListener.remove(),this._fileInputFocusListener&&this._fileInputFocusListener.remove(),y.destroy(this.fileInput)),this._createFileUploadWidget()}catch(a){s.throwClientException(this,a)}},_createFileUploadWidget:function(){this.fileInput=y.create("input",
{type:"file",name:"uploadedfile",size:"1",className:"fileInput"},this.fileInputDiv);this._fileInputChangeListener=u(this.fileInput,"change",r.hitch(this,"_onFileChange"));this._fileInputFocusListener=u(this.fileInput,"focus",r.hitch(this,"_onFileFocus"))},_onClose:function(){this.onClose()},_onEdit:function(){this.onEdit(this._selection)},_onFileChange:function(b){var e=this;try{if(""!==this.fileInput.value){z.set(this.workspaceIdInput,"value",this._workspaceId);z.set(this.modelIdInput,"value",this._modelId);
z.set(this.txIdInput,"value",q.getTxid());z.set(this.sessionIdInput,"value",sessionId);var g={modelId:this._modelId,workspaceId:this._workspaceId,requestSerialNumber:f.getNextRequestSerialNumber()},h=a.objectToQuery(g);e._onUploadStart();w.send({url:"upload?"+h,form:e.fileForm,handleAs:"json",error:function(a){s.showErrorReporter(new d.ClientException(this.declaredClass+"_onFileChange",a,{widgetId:this.id},b));e._recreateFileInput();e._onUploadFinish({})},load:function(a){a.redirectUrl?l.handleRedirect(a):
(e._recreateFileInput(),e._onUploadFinish(a))}})}}catch(r){s.showErrorReporter(new d.ClientException(this.declaredClass+"_onFileChange",r,{widgetId:this.id},b))}},_onFileFocus:function(){var a=this;v("ie")&&setTimeout(function(){a.fileButton.focus()},1E3)},_onModelButtonClick:function(){this.onModelSourceRequired()},_onRemove:function(){this.onRemove(this._selection)},_onUploadFinish:function(a){this.onUploadFinish(a)},_onUploadStart:function(){this.onUploadStart()},_onSelectImport:function(){if(null!=
this._selection)this.onSelectImport(this._selection)},_onSelectionChange:function(a,d){try{if(null==a)this._selection=null;else{var e=b.indexOf(this._rowLabelPage.entityLongIds[0],a);this._selection={entityLongId:a,label:d,definitionJson:this._dataPage.cellValues[e]}}this._updateButtonState()}catch(g){s.throwClientException(this,g)}},_updateButtonState:function(){try{var a=!1,b=!1;null!=this._selection&&(a=!0,this._selection.definitionJson&&(b="SALESFORCE_API"===t.parse(this._selection.definitionJson).dataSourceType));
this.fileButton.set("disabled",!1);this.editButton.set("disabled",!a||this._withSelect&&b);this.removeButton.set("disabled",!a||b);this.selectButton.set("disabled",!a)}catch(d){s.throwClientException(this,d)}},onTitleChanged:function(){},onHelpChanged:function(){},onClose:function(){},onEdit:function(){},onModelSourceRequired:function(){},onRemove:function(){},onUploadFinish:function(){},onUploadStart:function(){},onSelectImport:function(){}})})},"anaplan/charts/ChartController":function(){define(["dojo/_base/declare",
"anaplan/charts/HighChartsHelper","dojo/Stateful"],function(l,s,p){return l("anaplan.charts.ChartController",p,{chart:null,model:null,destroy:function(){this.model=this.chart=null},getChartOptions:function(){return this.chart._highchartsOptions},getCleanChartOptions:function(){return s.getCleanChartOptions(this.chart._highchartsOptions)},getChartType:function(){return this.chart.chartType},getChartVariation:function(){return this.chart.chartVariation},getChartStacking:function(){return this.chart.chartStacking},
getPageInfo:function(){return this.model.getPageInfo()},getViewDefinition:function(){return this.model.getViewDefinition()},setChartOptions:function(l){l&&(this.chart.reset(),this.chart.setChartOptions(l))},redraw:function(){this.model.getValues()},refresh:function(){this.setViewDefinition(this.getViewDefinition())},setViewDefinition:function(l){l&&(this.chart.reset(),this.chart.getModel().setViewDefinition(l))}})})},"anaplan/dashboard/definitionUtils":function(){define("anaplan/dashboard/_InitialModelObserver dojo/_base/array anaplan/dashboard/MenuToolbarHelper anaplan/gridlet/Themes anaplan/dashboard/LayoutHelper dojo/_base/lang dojo/json anaplan/dashboard/LayoutPosition anaplan/constants anaplan/charts/HighChartsHelper anaplan/utils/EntityLongIdHelper".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){function d(a){for(var b=!1,d=0;d<a.length;d++){var e=a[d];!e.layoutPosition&&e.dashboardElementType===h.dashboardElementType.STATIC_TEXT&&(b=!0)}return b}function a(a){var b=p.getDefaultMenuToolbarOptionsForElement(a);a.menuToolbarOptions&&k.mixin(b,n.parse(a.menuToolbarOptions));a.menuToolbarOptions=n.stringify(b)}return{getInitialModelObservers:function(a,b,d){return a.dashboardElements.map(function(a,e){var g=k.clone(a);g.containerEntityLongId=b;g.dashboardElementType!==
h.dashboardElementType.TEXT&&g.viewDefinition&&d(g,e);return new l(g)})},cleanDefinition:function(g,b,t){var u=q.getFallBackTheme(),l=[];null!==g&&(l=g.dashboardElements);if(!l||!l.length)return[];var p=f.parseDashboardElements(l),y=0,w=d(l);l.forEach(function(d,g){a:{var r=y;if(!d.layoutPosition&&d.dashboardElementType===h.dashboardElementType.STATIC_TEXT)k.mixin(d,{layoutPosition:(new m({rowIndex:0,columnIndex:0})).toString()});else if(w)d.layoutPosition=f.incrementDashboardRow(d.layoutPosition);
else if(!d.layoutPosition){k.mixin(d,{layoutPosition:(new m({rowIndex:p.rows.length+r,columnIndex:0})).toString()});y=r+1;break a}y=r}d.size||k.mixin(d,{size:f.getDefaultSizeForElement(d,b)});d.pageSelectorOptions||k.mixin(d,{pageSelectorOptions:{showModuleName:-1<s.indexOf(["GRID","CHART"],d.dashboardElementType),synchronisedPagingInfos:[]}});d.dashboardElementType===h.dashboardElementType.CHART&&(d.chartConfig||k.mixin(d,{chartConfig:n.stringify(e.getDefaultChartOptionsForElement(d))}),a(d));d.dashboardElementType===
h.dashboardElementType.GRID&&(k.mixin(d,{showBreakbackMarkers:t}),d.themeId||(d.themeId=u),a(d));d.dashboardElementType===h.dashboardElementType.CELL&&a(d)})},getObserversForDefinitionWithGlobalContext:function(a,b,d){return this.getInitialModelObservers(a,d,function(a,d){var e=[];if(a.pageSelectorOptions){var g=a.pageSelectorOptions;g.synchronisedPagingInfos&&g.synchronisedPagingInfos.forEach(function(a){a.initialPage&&e.push(a.initialPage)})}a.viewDefinition.globalContextIdentifiers=b;a.viewDefinition.currentPageIdentifiers=
e})},getObserversForInitialEndUserView:function(a,b,d,e){var h=g.entityLongIdIdentifiersToEntityLongIds(b),f=g.entityLongIdsToEntityTypeIndexes(h);return this.getInitialModelObservers(a,e,function(a,b){var e=k.clone(d[b]?d[b].currentPages:[]);0<f.length&&f.forEach(function(a,b){var d;a:{for(d=0;d<e.length;d++)if(g.getEntityTypeIndex(e[d])===a)break a;d=null}null!==d&&(e[d]=h[b])});var r=g.entityLongIdsToEntityLongIdIdentifiers(e);a.viewDefinition.globalContextIdentifiers=[];a.viewDefinition.currentPageIdentifiers=
r})},getObserversForGivenContext:function(a,b,d){return this.getInitialModelObservers(a,d,function(a,d){var e=g.entityLongIdsToEntityLongIdIdentifiers(b[d]?b[d].currentPages:[]);a.viewDefinition.globalContextIdentifiers=[];a.viewDefinition.currentPageIdentifiers=e})},getObserversForGivenSharedContext:function(a,b,d){return this.getInitialModelObservers(a,d,function(a){var d=[],e=k.getObject("pageSelectorOptions.synchronisedPagingInfos",!1,a);e&&(d=e.map(function(a){return a.initialPage||null}).filter(function(a){return null!==
a}));d=d.concat(b||[]);a.viewDefinition.globalContextIdentifiers=d})}}})},"anaplan/data/RequestFactory":function(){define(["dojo/_base/lang","anaplan/data/ModelContentCache"],function(l,s){var p={createRequest:function(p,f,k,n,m,h,e){e||(e=window.modelId);p={modelId:e,modelDefinitionSerialNumber:s.getModelDefinitionSerialNumber(),requestType:"VIEW_REQUEST_SET",time:(new Date).toString(),workspaceId:p,submissions:f,viewRequests:k,systemActions:n||[],fetchAllModelSummaries:h||!1,clientSessionId:window.sessionId};
l.isArray(m)&&l.mixin(p,{activeViewIndices:m});h&&l.mixin(p,{fetchAllModelSummaries:!0});return p}};l.setObject("anaplan.data.RequestFactory",p);return p})},"anaplan/utils/SingleIpHelper":function(){define(["anaplan/constants"],function(l){return{hasSingleIpCookie:function(){return-1<document.cookie.indexOf(l.SINGLE_IP_COOKIE_NAME+"\x3d")}}})},"anaplan/api/Services/listSubsets":function(){define(["anaplan/api/Entities/ListSubsets"],function(l){return new l})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(l,s,p,q,f,k,n,m,h){return k("dijit.layout._LayoutWidget",[s,p,q],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);n.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var e=this.getParent&&this.getParent();if(!e||!e.isLayoutContainer)this.resize(),this.own(f.on("resize",l.hitch(this,"resize")))}},resize:function(e,g){var d=this.domNode;e&&m.setMarginBox(d,e);var a=
g||{};l.mixin(a,e||{});if(!("h"in a)||!("w"in a))a=l.mixin(m.getMarginBox(d),a);var f=h.getComputedStyle(d),b=m.getMarginExtents(d,f),t=m.getBorderExtents(d,f),a=this._borderBox={w:a.w-(b.w+t.w),h:a.h-(b.h+t.h)},b=m.getPadExtents(d,f);this._contentBox={l:h.toPixelValue(d,f.paddingLeft),t:h.toPixelValue(d,f.paddingTop),w:a.w-b.w,h:a.h-b.h};this.layout()},layout:function(){},_setupChild:function(e){n.add(e.domNode,this.baseClass+"-child "+(e.baseClass?this.baseClass+"-"+e.baseClass:""))},addChild:function(e,
g){this.inherited(arguments);this._started&&this._setupChild(e)},removeChild:function(e){n.remove(e.domNode,this.baseClass+"-child"+(e.baseClass?" "+this.baseClass+"-"+e.baseClass:""));this.inherited(arguments)}})})},"anaplan/api/Entities/Actions":function(){define("anaplan/api/Entities/Base/FetchableEntity dojo/_base/declare anaplan/api/Fetchers/actions anaplan/api/Entity/Action anaplan/utils/JsHelper dojo/json dojo/_base/lang".split(" "),function(l,s,p,q,f,k,n){return s([l],{_fetcher:p,_entityClass:q,
_populateInfo:function(k,h){var e=this.inherited(arguments);f.isObject(k)?n.mixin(e,this._extractTaskElement(k.actionDefinitionJsonString)):console.warn("Expected an info for the Action when trying to _populateInfo");return e},_populateData:function(k,h){var e=this.inherited(arguments);f.isObject(k.Action)&&n.mixin(e,this._extractTaskElement(k.Action.cellValue));return e},_extractTaskElement:function(f){f=k.parse(f);f.taskElement&&(f.taskElementJson=f.taskElement,f.taskElement=k.parse(f.taskElementJson));
return f}})})},"anaplan/utils/ViewDefinitionHelper":function(){define(["dojo/_base/lang","anaplan/constants","anaplan/utils/EntityLongIdHelper","anaplan/Exceptions"],function(l,s,p,q){var f={getCustomRowLabelWidthsByDimensionMap:function(f){var n={};try{if(!f||!f.columnSizes)return n;var m=f.columnSizes.customRowLabelWidthsByDimension||[],h=m.length,e,g;for(f=0;f<h;f++)e=m[f],g=p.entityLongIdIdentifierToEntityLongId(e.identifier),n[g]=e.width}catch(d){throw new q.ClientException("getCustomRowLabelWidthsByDimensionMap",
d);}return n},getCustomWidthsByLineItemMap:function(f){var n={};if(!f||!f.columnSizes)return n;f=f.columnSizes.customWidthsByLineItem||[];for(var m=0;m<f.length;m++){var h=f[m],e=p.entityLongIdIdentifierToEntityLongId(h.identifier);n[e]=h.width}return n},getCustomWidthsByStyleMap:function(f){var n={};if(!f||!f.columnSizes)return n;var m={};m[s.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID]="summary1";m[s.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID]="summary2";m[s.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_ENTITY_LONG_ID]=
"summary3";f=f.columnSizes.customWidthsByStyle||[];for(var h=0;h<f.length;h++){var e=f[h],g=p.entityLongIdIdentifierToEntityLongId(e.identifier);n[m[g]]=e.width}return n}};l.setObject("anaplan.utils.ViewDefinitionHelper",f);return f})},"anaplan/widgets/_HelpIconMixin":function(){define("anaplan/Exceptions anaplan/utils/UIHelper anaplan/utils/UrlHelper dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/on dojo/has dojo/dom-attr dojo/dom-style dojo/i18n!anaplan/nls/dialog2 dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){function d(){if(this._anapediaKey)window.open(p.createAnapediaUrl(this._anapediaKey),"_blank");else throw new l.ClientException("Help context is not set.");}return q(null,{_anapediaKey:null,helpButton:null,postCreate:function(){this.inherited(arguments);this.helpButton?(e.set(this.helpButton,"display",this._anapediaKey?"":"none"),s.setText(this.helpButton,g.buttonHelp),h.set(this.helpButton,"label",g.tooltipHelp),this.own(n(this.helpButton,"click",f.hitch(this,d))),
(m("ios")||m("android"))&&this.own(n(this.helpButton,"touchstart",f.hitch(this,function(a){k.stop(a);this._onHelpButtonClick(a)})))):console.warn("anaplan.widgets._helpIconMixin expects this.helpButton to be a DOM node. Normally defined in the template.")}})})},"anaplan/data/OptimizerLineItemHelper":function(){define(["dojo/_base/declare"],function(l){function s(f,k){var n={module:-1,lineItem:-1};if(!f)return n;n.module=k.findIndex(function(k){return k.value===f.module&&k.children});if(-1===n.module)return n;
n.lineItem=k[n.module].children.findIndex(function(k){return k.value===f.lineItem});return n}function p(f){return-1!==f.module&&-1!==f.lineItem}function q(f,k){var n=s(f,k);p(n)?f.value=k[n.module].label+"."+k[n.module].children[n.lineItem].label:f&&(f.error=!0)}return{getInitialStateForReducer:function(f,k,n){if((f=JSON.parse(f))&&f.data)return f=JSON.parse(f.data),q(f.objective.lineItem,k),f.variables.forEach(function(f){q(f.lineItem,k)}),f.constraints.forEach(function(f){q(f,n)}),f},validateLineItems:function(f,
k,n,m,h){var e=s(f,m);if(f&&f.lineItem&&!p(e)||!k||0===k.length)return!1;var g=!0;k.forEach(function(a){a=s(a.lineItem,m);p(a)||(g=!1)}.bind(this));if(!g)return!1;var d=!0;n.forEach(function(a){var e=s(a,h);a.lineItem&&!p(e)&&(d=!1)}.bind(this));return d},getFormattedLineItems:function(){var f=[],k=[];service.modules.forEach(function(n){var m=service.modules.getLineItems(n.entityLongId),h=[],e=[];m&&(m.getItems().forEach(function(g){var d={label:g.label,value:g.entityLongId,icon:"lineItems"};"NUMBER"===
g.format.dataType&&h.push(d);"BOOLEAN"===g.format.dataType&&e.push(d)}),0<h.length&&f.push({label:n.label,value:n.entityLongId,icon:"module",children:h}),0<e.length&&k.push({label:n.label,value:n.entityLongId,icon:"module",children:e}))}.bind(this));return{numberLineItems:f,booleanLineItems:k}}}})},"anaplan/dashboard/dashboardWidgets/_Chartlet":function(){define("anaplan/constants anaplan/common/SelectiveAccess anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin anaplan/toolbar/_ButtonsMixin anaplan/utils/UIHelper dojo/_base/declare dojo/dom-style dojo/json".split(" "),
function(l,s,p,q,f,k,n,m){return k("anaplan.dashboard.dashboardWidgets._Chartlet",[p,q],{constructor:function(h){this._options={exporting:{enabled:!1}};var e;h.chartType===l.chartType.PIE&&("undefined"!==typeof h.chartConfig&&("undefined"!==typeof h.chartConfig.legend&&"undefined"!==typeof h.chartConfig.legend.align&&"undefined"!==typeof h.chartConfig.legend.verticalAlign&&"undefined"!==typeof h.chartConfig.legend.y)&&(e="top"===h.chartConfig.legend.verticalAlign||"left"===h.chartConfig.legend.align?
l.chartOptions.legendYPosition.PIE:l.chartOptions.legendYPosition.DEFAULT,this._highchartsOptions.legend.y=e),"undefined"===typeof h.chartConfig&&(h.chartConfig.subtitle={y:l.chartOptions.subtitleYPosition.DEFAULT}))},populateRuntimeModeMenu:function(h){try{var e=this._optionsMenu;if("undefined"===typeof h||null===h)h=!0;h&&e.addChild(this._createMaximizeMenuItem());s.isAuthorized(l.userActions.MAINTAIN_CUSTOM_DASHBOARDS)&&e.addChild(this._createChartOptionsDialogMenuItem());var g=this.model.getModuleEntityLongId();
this._menuItemGotoModule=this._createGotoModuleMenuItem(g);e.addChild(this._menuItemGotoModule)}catch(d){f.throwClientException(this,d)}},setMenuToolbarOptions:function(h){h=m.parse(h);this.hasOwnProperty("_menuItemGotoModule")&&this._menuItemGotoModule.domNode&&n.set(this._menuItemGotoModule.domNode,"display",!0===h.menuItemGotoModule?"":"none");this._menuToolbarOptions=h}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(l){return l.dojox})},"anaplan/cf/BaseFormattingInfo":function(){define(["dojo/_base/declare",
"dojo/_base/lang","anaplan/common/_DefinitionBase"],function(l,s,p){return l(p,{_serializableProperties:[],constructor:function(l){l&&s.mixin(this,l)}})})},"anaplan/view/Filter/Condition":function(){define("anaplan/widgets/TokenInput anaplan/utils/UIHelper anaplan/utils/FilterHelper anaplan/utils/FormatHelper dojo/data/ItemFileWriteStore dojo/date/locale dojo/number dijit/focus dijit/TooltipDialog dijit/popup dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/CheckBox dijit/form/DateTextBox dijit/form/TextBox dijit/form/ValidationTextBox anaplan/data/ModelContentCache anaplan/gridlet/Themes anaplan/utils/EntityLongIdHelper anaplan/constants anaplan/data/LabelPageReadStore anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/AxisHelper anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory anaplan/widgets/DropDownButton dojo/i18n!anaplan/nls/filter dojo/i18n!anaplan/nls/common dojo/i18n!dijit/nls/loading dojo/_base/declare dojo/dom-geometry dojo/dom-class dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/topic dojo/has dojo/on dojo/text!anaplan/templates/Filter/Condition.html anaplan/data/OpInfo anaplan/data/TypeInfo anaplan/utils/JsHelper dojo/sniff anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca){function X(a,b,d){a=a&&a.unitsType;if("undefined"!==typeof b&&null!==b){if(P.isArray(d)&&0<d.length)throw new D.IllegalStateException("Expected either comparisonValue or comparisonMultiValueOR, but got both.");return[ba(b,a)]}return P.isArray(d)?ba(d,a):[]}function ba(a,b){if(P.isArray(a)){for(var d=[],e=0;e<a.length;++e)d[e]=ba(a[e]);return d}return"PERCENTAGE"===b?q.safeMultiplyByHundred(a):a}return K([d,
g,a],{baseClass:"filterCondition",templateString:W,_minArity:0,_maxArity:0,constructor:function(a){try{a&&(this._gridController=a.gridController,this._axisSpecification=a.axisSpecification||null,this._dimensionIdentifiers=a.dimensionIdentifiers||[],this._selectedRow=a.selectedRow,this._selectedColumn=a.selectedColumn,this._filterCondition=a.filterCondition||null,this._filterConditionInfo=a.filterConditionInfo||null,this._lineItemFormat=this._lineItemOrModuleLabel=this._lineItemOrModuleIdentifier=
this._lineItemOrModuleEntityLongId=this._moduleInfo=this._valueEditor=null,this._tooltipDialogs=[])}catch(b){throw new D.ClientException("_Condition.constructor",b);}},getFilterCondition:function(){if(this._filterCondition){var a=this._getComparisonOperator(),b=this._getComparisonValueType(),b=Math.min(Y.getFilterMaxArity(a),T.getFilterMaxArity(b));this._filterCondition.comparisonOperator=a;0===b?(this._filterCondition.comparisonValue="",this._filterCondition.comparisonMultiValueOR=null):(a=this.getComparisonValueList(),
1===b?(this._filterCondition.comparisonValue=0<a.length?a[0]:null,this._filterCondition.comparisonMultiValueOR=null):(this._filterCondition.comparisonValue=null,this._filterCondition.comparisonMultiValueOR=a))}return this._filterCondition},getComparisonValueList:function(){var a=null,a=this._getComparisonValue(),b=this._lineItemFormat,d=b?b.dataType:"NUMBER";"NUMBER"===d?(a=this._parseNumber(a,b),a=[a]):"DATE"===d?(a=this._formatDate(a),a=[a]):"ENTITY"===d?a=y.entityLongIdsToEntityLongIdIdentifiers(a):
"TIME_ENTITY"!==d&&(a="BOOLEAN"===d?["on"===a]:[a]);return a},isValid:function(){if(this._filterConditionInfo&&!1===this._filterConditionInfo.isValid)return!1;if(!this._valueEditor||!this._valueEditor.isValid)return!0;var a=this._getComparisonOperator();return 0===Y.getFilterMaxArity(a)?!0:this._valueEditor.isValid(!1)},onAdd:function(){},onRemove:function(){},postCreate:function(){try{this.inherited(arguments),this.own(Q.subscribe("anaplan/filter/condition/loading/start",P.hitch(this,"_onLoadingStart")),
Q.subscribe("anaplan/filter/condition/loading/end",P.hitch(this,"_onLoadingEnd"))),this.addButton.set({label:H.buttonAddFilterCondition,iconClass:"anaplanEditorIcon anaplanEditorIconInsert"}),this.removeButton.set({label:H.buttonRemoveFilterCondition,iconClass:"anaplanEditorIcon anaplanEditorIconRemove"}),this._filterCondition?(this._displayExistingFilterCondition(this._filterCondition,this._filterConditionInfo),!1===this._filterConditionInfo.isValid&&this.addButton.set("disabled",!0)):this._axisSpecification?
this._displayDefaultFilterCondition():(s.setText(this.contextCell,H.labelNoConditionsSet),this.removeButton.set("disabled",!0)),this.own(R(this.operatorSelect,"change",P.hitch(this,this.applySelectedOperator)))}catch(a){s.throwClientException(this,a)}},applySelectedOperator:function(){var a=this.operatorSelect,a=a.options[a.selectedIndex].value,b=this._getComparisonValueType();this.applyValidation(b,a)},_getComparisonValueType:function(){return this._lineItemFormat&&this._lineItemFormat.dataType||
"NUMBER"},applyValidation:function(a,b){this._minArity=Y.getFilterMinArity(b);this._maxArity=Math.min(Y.getFilterMaxArity(b),T.getFilterMaxArity(a));if(this._valueEditor){var d="none"===I.get(this._valueEditor.domNode,"display"),e=this._valueEditor.get("disabled");if(0===this._maxArity&&(!e||!d))this._valueEditor.set("disabled",!0),I.set(this._valueEditor.domNode,"display","none");else if(0!==this._maxArity&&(e||d))this._valueEditor.set("disabled",!1),I.set(this._valueEditor.domNode,"display","");
this._valueEditor instanceof l&&(this._valueEditor.set("requiredMin",this._minArity),this._valueEditor.set("requiredMax",this._maxArity))}else console.warn("Attempted to set validation rules when _valueEditor does not exist.")},setFocus:function(){this._valueEditor&&this._valueEditor.focus()},uninitialize:function(){try{this._valueEditor&&(this._valueEditor.destroyRecursive(!1),this._valueEditor=null),this._destroyTooltipDialogs(),this.inherited(arguments)}catch(a){s.throwClientException(this,a)}},
_createEditor:function(a,b,d,e){if(a){if("NUMBER"===a.dataType){d(this._createNumberEditor(b,a));return}if("ENTITY"===a.dataType){this._createEntityEditor(a.hierarchyEntityLongId,b,d,e);return}if("TIME_ENTITY"===a.dataType){this._createTimeEntityEditor(a.periodType,b,d,e);return}if("DATE"===a.dataType){d(this._createDateEditor(b));return}if("BOOLEAN"===a.dataType){d(this._createBooleanEditor(b));return}}d(this._createDefaultEditor(b))},_createBooleanEditor:function(a){return new r({checked:a})},_createDateEditor:function(a){return new b({required:!0,
style:S("ie")?"width:90%":"width:100%;",value:a||new Date})},_createDefaultEditor:function(a){return new t({role:"textbox",style:S("ie")?"width:90%":"width:100%;",value:a})},_createEntityEditor:function(a,b,d,e){var g=this;this._gridController.getSelectorLabelPageForHierarchyEntityLongId(a,function(a){if(!g.domNode||0>=J.getMarginBox(g.domNode))console.warn("_Condition: unable to create entity editor because the dialog is already closed.");else{var e={count:0};(new x({labelPage:a||e})).fetch({onComplete:function(a){a=
new f({data:{identifier:"entityLongId",label:"label",items:a}});a=new l({store:a,searchAttr:"label",pageSize:50,value:b,required:!0,style:S("ie")?"width:90%":"width:100%;"});d(a)}})}},e)},_createTimeEntityEditor:function(a,b,d,e){if(!this.domNode||0>=J.getMarginBox(this.domNode))console.warn("anaplan.view.Filter._Condition: unable to create time entity editor");else{e=-1;var g=v.getTimescaleSupersetInfo();if(ca.isNullOrUndefined(g))console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - null timescale");
else{var h=g.allowedTimeEntityPeriodTypes;if(null===h)console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - no allowed time entity types");else{for(var r=0;r<h.length;r++)if(h[r].entityId===a.entityId){e=r;break}-1===e?console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - invalid period type"):(a={count:0},(new x({labelPage:g.allowedTimeEntityPeriodTypeLabelPages[e]||a})).fetch({onComplete:P.hitch(this,function(a){a=new f({data:{identifier:"entityId",
label:"label",items:a}});a=new l({store:a,searchAttr:"label",pageSize:50,value:b,required:!0,style:S("ie")?"width:90%":"width:100%;"});d(a)})}))}}}},_createNumberEditor:function(a,b){var d=this;return new u({required:!0,invalidMessage:"Is not a valid number",style:S("ie")?"width:90%":"width:100%;",validator:function(a){return!this._isEmpty(a)&&d._isNumeric(a,b)},value:a})},_createOperatorOptions:function(a){this.operatorSelect.length=0;a=T.getCompatibleOperators(a);for(var b=0;b<a.length;b++){var d=
a[b],e=H[["option",d].join("")]||d;this._createOption(this.operatorSelect,d,e)}},_createOption:function(a,b,d){var e=document.createElement("option");e.text=d;e.value=b;try{a.add(e,null)}catch(g){a.add(e)}},_createTooltipDialog:function(){var a=new h({});a.startup();R(a,"Close",function(){a.destroyDescendants()});R(a,"Show",function(){var b=document.createElement("div");b.className="loadingMessage";var d=document.createElement("span");d.className="loadingMessageLabel";d.appendChild(document.createTextNode(F.loadingState));
b.appendChild(d);a.set("content",b)});this._tooltipDialogs.push(a);return a},_destroyTooltipDialogs:function(){N.forEach(this._tooltipDialogs,function(a){a.destroyRecursive();a.destroy(!1)});this._tooltipDialogs=[]},_displayContext:function(a,b,d){var e=this,g=this._createTooltipDialog(),h=this._gridController,f=h.getPageInfo(),r=y.entityLongIdIdentifierToEntityLongId(a),t=new G({label:q.escapeHTML(this._getDimensionAndItemLabel(d,a,b)),showLabel:!0,dropDown:g,autoWidth:!1}),k=!N.some(f.pageAxisSpecifications,
function(a){return N.some(e._dimensionIdentifiers,function(b){return A.axisSpecificationContains(a,b)})});k&&(k=N.some(f.pageAxisSpecifications,function(a){return A.axisSpecificationContains(a,d)}));R(g,"Open",function(){var b=function(b){k&&B.prependItemToLabelPage(b,{label:H.labelCurrentPage,entityLongId:y.entityLongIdIdentifierToEntityLongId(d)});var h=document.createElement("div");g.set("content",h);var f=C.createSelector({labelPage:b,selectedEntityLongId:r,onSelectionChange:function(b,d){t.closeDropDown();
e._setContextIdentifier(a,y.entityLongIdToEntityLongIdIdentifier(b),d)},style:"height:250px; width:250px;",widgetContainer:h,themeId:z.getGridSelectorTheme()});setTimeout(function(){f&&f.domNode&&(f.domNode.style.display="")},250)};setTimeout(function(){var a=[];if(v.getApplicationProperty(w.FEATURE_FLAGS.TIME_RANGES)&&E.isTimeSystemAxisIdentifier(d)){if(!e._isModuleIdentifier(e._lineItemOrModuleIdentifier)){var g=A.getModuleEntityLongIdForLineItem(v,e._lineItemOrModuleEntityLongId);-1!=g&&a.push(y.entityLongIdToEntityLongIdIdentifier(g))}a.push(e._lineItemOrModuleIdentifier)}h.getLabelPage(d,
function(a,d){e.domNode&&!(0>=J.getMarginBox(e.domNode).w)&&t._opened&&d&&d.count&&b(d)},void 0,a)},25)});return t},_displayDefaultFilterCondition:function(){try{var a=this._gridController.getPageInfo(),b=this._getModuleInfo();this._lineItemOrModuleEntityLongId=this._getLineItemOrModuleEntityLongId();this._lineItemOrModuleIdentifier=y.entityLongIdToEntityLongIdIdentifier(this._lineItemOrModuleEntityLongId);A.axisSpecificationContainsLineItems(this._axisSpecification)?(this._lineItemOrModuleLabel=
H.currentModule,this._lineItemFormat=this._lineItemInfo=null):(this._lineItemOrModuleLabel=A.getLineItemLabelFromModuleInfo(b,this._lineItemOrModuleEntityLongId),this._lineItemInfo=A.getLineItemInfoFromModuleInfo(b,this._lineItemOrModuleEntityLongId),this._lineItemFormat=this._lineItemInfo.format);var d=this._lineItemFormat?this._lineItemFormat.dataType:"NUMBER",e=this._getDefaultComparisonOperator(d),g=X(this._lineItemFormat,this._getDefaultComparisonValue(d)),h=this._getValidDimensionIdentifiers(a,
this._lineItemInfo);this._preloadLists(h,P.hitch(this,function(a){var b=this._getContextLabels(h,a,!1);a=this._getContextIdentifiers(h,a,!1);this._displayFilterCondition(this._lineItemOrModuleEntityLongId,this._lineItemOrModuleIdentifier,this._lineItemOrModuleLabel,this._lineItemInfo,h,a,b,e,g,d,!0);this._filterCondition={contextIdentifiers:a,lineItemIdentifier:this._isModuleIdentifier(this._lineItemOrModuleIdentifier)?null:this._lineItemOrModuleIdentifier,moduleIdentifier:this._isModuleIdentifier(this._lineItemOrModuleIdentifier)?
this._lineItemOrModuleIdentifier:null,comparisonDataType:d,comparisonOperator:e,comparisonValue:null,comparisonMultiValueOR:null};this._filterConditionInfo={contextLabelPage:{labels:[b]},lineItemLabelPage:{labels:[[this._lineItemOrModuleLabel]]}}}))}catch(f){s.throwClientException(this,f)}},_displayExistingFilterCondition:function(a,b){var d=this._gridController.getPageInfo();this._lineItemOrModuleEntityLongId=y.entityLongIdIdentifierToEntityLongId(a.lineItemIdentifier?a.lineItemIdentifier:a.moduleIdentifier);
this._lineItemOrModuleIdentifier=a.lineItemIdentifier||a.moduleIdentifier;this._lineItemOrModuleLabel=a.lineItemIdentifier?b.lineItemLabelPage.labels[0][0]:H.currentModule;this._lineItemFormat=(this._lineItemInfo=A.getLineItemInfo(v,this._lineItemOrModuleEntityLongId))?this._lineItemInfo.format:null;var e=a.comparisonOperator,g=X(this._lineItemFormat,a.comparisonValue,a.comparisonMultiValueOR),h=a.comparisonDataType,f=!1!==b.isValid,d=this._getValidDimensionIdentifiers(d,this._lineItemInfo);this._displayFilterCondition(this._lineItemOrModuleEntityLongId,
this._lineItemOrModuleIdentifier,this._lineItemOrModuleLabel,this._lineItemInfo,d,a.contextIdentifiers,b.contextLabelPage.labels[0],e,g,h,f)},_displayFilterCondition:function(a,b,d,e,g,h,f,r,t,k,m){this.contextCell.innerHTML="";this.operatorSelect.options.length=0;this._valueEditor&&(this._valueEditor.destroyRecursive(),this._valueEditor=null);b=document.createElement("span");var n=e?e.format:null;"boolean"!==typeof m&&s.showErrorReporter(new D.InvalidArgumentException("anaplan.view.Filter.Condition: Assert Failed: isValid must be boolean"));
if(m){this.operatorSelect.style.visibility="visible";this._createOperatorOptions(k);if(r){e=this.operatorSelect.options;for(k=0;k<e.length;k++)if(e[k].value===r){this.operatorSelect.selectedIndex=k;break}}a=this._displayLineItem(d,a);b.appendChild(a.domNode);O.create("br",null,b);a=0;for(d=f.length;a<d;a++)g[a]===y.entityLongIdToEntityLongIdIdentifier(w.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID)?(r=document.createElement("span"),r.appendChild(document.createTextNode(this._getDimensionAndItemLabel(g[a],
h[a],f[a]))),b.appendChild(r)):(r=this._displayContext(h[a],f[a],g[a]),b.appendChild(r.domNode)),a<d-1&&O.create("br",null,b);var u=this;g=function(a){u.domNode&&u._createEditor(n,a,function(a){M.remove(u.conditionDataType);M.add(u.conditionDataType,"filterCondition"+(n?n.dataType:"NUMBER"));M.add(u.conditionDataType,u.baseClass);u._valueEditor=a;u.applySelectedOperator();var b=O.create("div",{"class":"filterConditionValueInner"});b.appendChild(a.domNode);u.valueCell.appendChild(b);u.valueCell.style.visibility=
"visible";a.startup&&a.startup();setTimeout(function(){a.resize&&a.resize();a.focus()},100)})};h=t[0];n&&"ENTITY"===n.dataType?this._getEntityComparisonValue(n.hierarchyEntityLongId,t,g):n&&"TIME_ENTITY"===n.dataType?this._getTimeEntityComparisonValue(n.periodType,t,g):n&&"DATE"===n.dataType?g(this._getDateComparisonValue(h)):n&&"BOOLEAN"===n.dataType?g(this._getBooleanComparisonValue(h)):g(h)}else{this._valueEditor&&(this._valueEditor.domNode.style.display="none");this.operatorSelect.style.display=
"none";t=document.createElement("span");t.appendChild(document.createTextNode(this._getModuleAndLineItemLabel(d,a)));b.appendChild(t);(t=f.length)&&b.appendChild(document.createTextNode(", "));for(a=0;a<t;a++)r=document.createElement("span"),r.appendChild(document.createTextNode(this._getDimensionAndItemLabel(g[a],h[a],f[a]))),b.appendChild(r),a<t-1&&b.appendChild(document.createTextNode(", "))}this.contextCell.appendChild(b)},_displayLineItem:function(a,b){var d=this._createTooltipDialog();M.add(d.domNode,
"lineItemSelectorTooltipDialog");var g=this,h=A.axisSpecificationContainsLineItems(this._axisSpecification),f=y.entityLongIdIdentifiersToEntityLongIds(g._dimensionIdentifiers),r=this._gridController.getModuleEntityLongId(),t=function(a){var b=v.getLineItemInfo(a.entityLongIds[0]).fullAppliesTo;if(h){a=b.length;for(var d,e=0;e<a;e++)if(d=b[e],y.getEntityTypeIndex(d)===w.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX&&(d=v.getLineItemSubsetInfo(d))&&-1!==N.indexOf(d.applicableModuleEntityLongIds,r))return!0}return N.some(f,
function(a){return-1!==N.indexOf(b,a)})},k=this._getFilteredModules(t);R(d,"Open",function(){setTimeout(function(){var a=C.createLineItemSelector({selectedItemEntityLongId:b,currentModuleEntityLongId:h?r:null,modules:k,lineItemFilter:t,onSelectionChange:function(a,b){g._setLineItem(a,b);g._valueEditor?g._valueEditor.focus():m.focus(g.domNode);e.close(d)}});d.set("content",a.domNode);setTimeout(function(){a.focus()},200)},25)});return new G({label:q.escapeHTML(this._getModuleAndLineItemLabel(a,b)),
showLabel:!0,dropDown:d,autoWidth:!1,disabled:this._isSubsidiaryView()||!k.length})},_getFilteredModules:function(a){var b=v.getModulesLabelPage(),d=b.labels[0],e=[];N.forEach(b.entityLongIds[0],function(b,g){var h={},f=v.getModuleInfo(b);if((a?B.filterLabelPage(f.lineItemsLabelPage,a):f.lineItemsLabelPage).count)h.entityLongId=b,h.name=d[g],h.children=[],e.push(h)});return e},_formatDate:function(a,b){return k.format(a,{selector:"date",datePattern:b||"yyyy-MM-dd"})},_getBooleanComparisonValue:function(a){return"true"===
a||!0===a?"on":!1},_getComparisonOperator:function(){return-1===this.operatorSelect.selectedIndex?null:this.operatorSelect.options[this.operatorSelect.selectedIndex].value},_getComparisonValue:function(){return this._valueEditor?this._valueEditor.get("value"):null},_getContextIdentifiers:function(a,b,d){for(var e=this._gridController.getPageInfo(),g=[],h=A.getAllDimensionIdentifiersForAxisSpecification(e.rowAxisSpecification),f=A.getAllDimensionIdentifiersForAxisSpecification(e.columnAxisSpecification),
r,t=0,k=a.length;t<k;t++)if(r=a[t],r===y.entityLongIdToEntityLongIdIdentifier(w.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID))g.push(w.CURRENT_USER_ENTITY_LONG_ID);else if(b[r])b[r].count&&g.push(b[r].entityLongIds[0][0]);else if(A.axisSpecificationContains(e.rowAxisSpecification,r))r=N.indexOf(h,r),-1!==r&&this._selectedRow.entityLongIds.length&&g.push(this._selectedRow.entityLongIds[r]);else if(A.axisSpecificationContains(e.columnAxisSpecification,r))r=N.indexOf(f,r),-1!==r&&this._selectedColumn.entityLongIds.length&&
g.push(this._selectedColumn.entityLongIds[r]);else for(var m=e.pageAxisSpecifications,n=m.length,u=0;u<n;u++)if(A.axisSpecificationContains(m[u],r)){d?g.push(A.getCurrentPageEntityLongId(e,u,0)):g.push(y.entityLongIdIdentifierToEntityLongId(r));break}return y.entityLongIdsToEntityLongIdIdentifiers(g)},_getContextLabels:function(a,b,d){for(var e=this._gridController.getPageInfo(),g=[],h=0;h<a.length;h++){var f=a[h];if(f===y.entityLongIdToEntityLongIdIdentifier(w.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID))g.push(H.labelCurrentUser);
else if(b[f])b[f].count&&g.push(b[f].labels[0][0]);else{var r=N.indexOf(A.getAllDimensionIdentifiersForAxisSpecification(e.rowAxisSpecification),f);if(-1<r)this._selectedRow.labels.length&&g.push("undefined"!==typeof this._selectedRow.labels[r]&&null!==this._selectedRow.labels[r]?this._selectedRow.labels[r]:"("+this._selectedRow.entityIds[r]+")");else if(r=N.indexOf(A.getAllDimensionIdentifiersForAxisSpecification(e.columnAxisSpecification),f),-1<r)this._selectedColumn.labels.length&&g.push("undefined"!==
typeof this._selectedColumn.labels[r]&&null!==this._selectedColumn.labels[r]?this._selectedColumn.labels[r]:"("+this._selectedColumn.entityIds[r]+")");else for(var r=e.pageAxisSpecifications,t=r.length,k=0;k<t;k++)if(A.axisSpecificationContains(r[k],f)){d?(f=A.getCurrentPageLabel(e,k,0),g.push(f)):g.push(null);break}}}return g},_getDateComparisonValue:function(a){return this._parseDate(a)},_getDefaultComparisonOperator:function(a){var b=null;"NUMBER"===a?b="GREATER_THAN":"DATE"===a?b="EQUALS":"BOOLEAN"===
a?b="EQUALS":"TEXT"===a?b="CONTAINS":"ENTITY"===a?b="EQUALS":"TIME_ENTITY"===a&&(b="EQUALS");return b},_getDefaultComparisonValue:function(a){return"NUMBER"===a?"0":"DATE"===a?this._getDefaultDateValue():"BOOLEAN"===a?"true":null},_getDefaultDateValue:function(){this._defaultDate||(this._defaultDate=null);return this._defaultDate},_getDimensionAndItemLabel:function(a,b,d){var e=null;try{e=b===a&&a!==y.entityLongIdToEntityLongIdIdentifier(w.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID)?H.labelCurrentPage:
d,e=A.getLabelForDimensionIdentifier(v,a)+": "+e}catch(g){throw new D.ClientException("_Condition._getDimensionAndItemLabel",g);}return e},_getEntityComparisonValue:function(a,b,d,e){if(b){var g=y.entityLongIdIdentifiersToEntityLongIds(b);this._gridController.getSelectorLabelPageForHierarchyEntityLongId(a,function(a){a?d(g):d("")},e)}else d("")},_getTimeEntityComparisonValue:function(a,b,d,e){if(b){e=-1;var g=v.getTimescaleInfo();if(null===g)console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - null timescale");
else{var h=g.allowedTimeEntityPeriodTypes;if(null===h)console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - no allowed time entity types");else{for(var f=0;f<h.length;f++)if(h[f].entityId===a.entityId){e=f;break}-1===e?console.warn("anaplan.view.Filter._Condition: unable to create time entity editor - invalid period type"):g.allowedTimeEntityPeriodTypeLabelPages[e]?d(b):d("")}}}else d("")},_getLineItemOrModuleEntityLongId:function(){if(!this._lineItemOrModuleEntityLongId)if(A.axisSpecificationContainsLineItems(this._axisSpecification))this._lineItemOrModuleEntityLongId=
this._gridController.getModuleEntityLongId();else{var a=this._gridController.getPageInfo(),b=-1;A.axisSpecificationContainsLineItems(a.rowAxisSpecification)?(b=A.getLineItemsNestingIndexForAxisSpecification(a.rowAxisSpecification),this._lineItemOrModuleEntityLongId=this._selectedRow.entityLongIds[b]):A.axisSpecificationContainsLineItems(a.columnAxisSpecification)?(b=A.getLineItemsNestingIndexForAxisSpecification(a.columnAxisSpecification),this._lineItemOrModuleEntityLongId=this._selectedColumn.entityLongIds[b]):
this._lineItemOrModuleEntityLongId=A.getLineItemEntityLongIdForPageInfo(a)}return this._lineItemOrModuleEntityLongId},_getModuleAndLineItemLabel:function(a,b){var d=null;try{var e;if(this._isModuleEntityLongId(b))e=A.getModuleLabel(v,b);else{e=L.labelLineItems;var g=A.getModuleEntityLongIdForLineItem(v,b);-1!==g&&(e=A.getModuleLabel(v,g))}d=e+": "+a}catch(h){throw new D.ClientException("_Condition._getLineItemLabel",h);}return d},_getModuleInfo:function(){if(!this._moduleInfo){var a=this._gridController.getModuleEntityLongId();
this._moduleInfo=v.getModuleInfo(a)}return this._moduleInfo},_getValidDimensionIdentifiers:function(a,b){for(var d=[],e=b?b.fullAppliesTo:this._getModuleInfo().fullAppliesTo,e=y.entityLongIdsToEntityLongIdIdentifiers(e),g=e.length,h,f=0;f<g;f++)h=e[f],this._isValidDimension(h)&&d.push(h);return d},_isModuleEntityLongId:function(a){return!a?!1:y.getEntityTypeIndex(a)===w.MODULE_ENTITY_TYPE_INDEX},_isModuleIdentifier:function(a){if(!a)return!1;a=y.entityLongIdIdentifierToEntityLongId(a);return!a?!1:
this._isModuleEntityLongId(a)},_isNumeric:function(a,b){return!isNaN(this._parseNumber(a,b))},_isSubsidiaryView:function(){return this._gridController.isSubsidiaryView()},_isValidDimension:function(a){return p._isValidDimensionIdentifierForFilterCondition(a,this._axisSpecification)},_onAddButtonClick:function(){this.onAdd()},_onLoadingEnd:function(){try{this.addButton.set("disabled",!1),this.removeButton.set("disabled",!1)}catch(a){throw new D.ClientException("_Condition._onLoadingEnd",a);}},_onLoadingStart:function(){try{this.addButton.set("disabled",
!0),this.removeButton.set("disabled",!0)}catch(a){throw new D.ClientException("_Condition._onLoadingStart",a);}},_onRemoveButtonClick:function(){this.onRemove()},_parseDate:function(a){if(!a)return"";var b=k.parse(a,{selector:"date"});return b?b:k.parse(a,{selector:"date",datePattern:"yyyy-MM-dd"})},_parseNumber:function(a,b){var d=q.normaliseNumber(a);b&&(b.unitsType&&"PERCENTAGE"===b.unitsType)&&(d=q.safeDivideByHundred(d));return d},_preloadLists:function(a,b){try{this._setLoadingState(!0);var d=
A.getAllDimensionIdentifiersForPageInfo(this._gridController.getPageInfo()),e=[];N.forEach(a,function(a){N.some(d,function(b){return a===b})||e.push(a)},this);this._gridController.getLabelPages(e,P.hitch(this,function(a){this.domNode&&(this._setLoadingState(!1),b&&b(a))}))}catch(g){throw new D.ClientException("_Condition._preloadLists",g);}},_setContextIdentifier:function(a,b,d){var e=this._filterCondition.contextIdentifiers,g=this._filterConditionInfo.contextLabelPage.labels[0],h=N.indexOf(e,a);
-1===h?console.warn("Filter _Condition _setContextIdentifier expected to find existing identifier but did not "+a):(e[h]=b,g[h]=d,a=this._getComparisonOperator(),b=this.getComparisonValueList(),d=this._lineItemFormat?this._lineItemFormat.dataType:"NUMBER",h=this._getValidDimensionIdentifiers(this._gridController.getPageInfo(),this._lineItemInfo),this._displayFilterCondition(this._lineItemOrModuleEntityLongId,this._lineItemOrModuleIdentifier,this._lineItemOrModuleLabel,this._lineItemInfo,h,e,g,a,b,
d,!0),this._filterCondition.contextIdentifiers=e,this._filterConditionInfo.contextLabelPage.labels[0]=g)},_setLineItem:function(a,b){if(a!==this._lineItemOrModuleEntityLongId){this._lineItemOrModuleEntityLongId=a;this._lineItemOrModuleLabel=b;this._lineItemOrModuleIdentifier=y.entityLongIdToEntityLongIdIdentifier(this._lineItemOrModuleEntityLongId);this._lineItemFormat=(this._lineItemInfo=A.getLineItemInfo(v,a))?this._lineItemInfo.format:null;var d=this._getValidDimensionIdentifiers(this._gridController.getPageInfo(),
this._lineItemInfo);this._preloadLists(d,P.hitch(this,function(a){var e=this._getContextIdentifiers(d,a,!1);a=this._getContextLabels(d,a,!1);var g=this._lineItemFormat?this._lineItemFormat.dataType:"NUMBER",h=this._getDefaultComparisonOperator(g),f=X({unitsType:g},this._getDefaultComparisonValue(g));this._displayFilterCondition(this._lineItemOrModuleEntityLongId,this._lineItemOrModuleIdentifier,this._lineItemOrModuleLabel,this._lineItemInfo,d,e,a,h,f,g,!0);this._filterCondition.contextIdentifiers=
e;this._filterConditionInfo.contextLabelPage.labels[0]=a;this._isModuleIdentifier(this._lineItemOrModuleIdentifier)?(this._filterCondition.lineItemIdentifier=null,this._filterCondition.moduleIdentifier=this._lineItemOrModuleIdentifier,this._filterCondition.comparisonDataType="NUMBER"):(this._filterCondition.lineItemIdentifier=this._lineItemOrModuleIdentifier,this._filterCondition.moduleIdentifier=null,this._filterCondition.comparisonDataType=this._lineItemFormat.dataType,this._filterConditionInfo.lineItemLabelPage=
{labels:[[b]]})}))}},_setLoadingState:function(a){try{this.operatorSelect.style.visibility=a?"hidden":"visible",this.valueCell.style.visibility=a?"hidden":"visible",s.setText(this.contextCell,a?H.labelLoading:null),M.toggle(this.contextCell,"filterConditionLoading",a),a?Q.publish("anaplan/filter/condition/loading/start",this):Q.publish("anaplan/filter/condition/loading/end",this)}catch(b){throw new D.ClientException("_Condition._setLoadingState",b);}}})})},"anaplan/dashboard/ButtonStyles":function(){define("anaplan/constants anaplan/dashboard/_ControlPanelMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/Evented dojo/i18n!anaplan/nls/buttonStyles dojo/json dojo/text!anaplan/templates/ButtonStyles.html dijit/form/Button dijit/form/RadioButton".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return k([q,p,f,s,n],{baseClass:"buttonStyles",labelDefault:m.labelDefault,labelLink:m.labelLink,labelPrimary:m.labelPrimary,templateString:e,constructor:function(e){this._args=e},postCreate:function(){this.inherited(arguments);this._setStyle(this._args.jsonProperties)},onAfterJsonProperties:function(){},updateValues:function(e){this._args.jsonProperties=e.jsonProperties;this._setStyle(e.jsonProperties)},_emitIfStyleChanged:function(e){var d=h.parse(this._args.jsonProperties);
if((d.hasOwnProperty("buttonStyle")||e!==l.dashboardButtonStyles.DEFAULT)&&d.buttonStyle!==e)e===l.dashboardButtonStyles.DEFAULT?delete d.buttonStyle:d.buttonStyle=e,e=h.stringify(d),this.emit("AfterJsonProperties",e),this._args.jsonProperties=e},_onDefaultRadioButtonChange:function(e){e&&this._emitIfStyleChanged(l.dashboardButtonStyles.DEFAULT)},_onLinkRadioButtonChange:function(e){e&&this._emitIfStyleChanged(l.dashboardButtonStyles.LINK)},_onPrimaryRadioButtonChange:function(e){e&&this._emitIfStyleChanged(l.dashboardButtonStyles.PRIMARY)},
_setDefaultRadioButton:function(){this.defaultRadioButton.set("checked",!0)},_setLinkRadioButton:function(){this.linkRadioButton.set("checked",!0)},_setPrimaryRadioButton:function(){this.primaryRadioButton.set("checked",!0)},_setStyle:function(e){e=h.parse(e);var d=l.dashboardButtonStyles,a={};a[d.DEFAULT]=this.defaultRadioButton;a[d.PRIMARY]=this.primaryRadioButton;a[d.LINK]=this.linkRadioButton;a[e.buttonStyle||d.DEFAULT].set("checked",!0)}})})},"anaplan/gridlet/CoreClientSelectionConverter":function(){define([],
function(){return{_convertCoreClientWholeGridSelectionToGridWholeGridSelection:function(l){return[{type:"cell",h:"*",w:"*",x:-1,y:-1}]},_convertCoreClientRowColumnSelectionToGridSelection:function(l,s){if("x"!==s&&"y"!==s)throw Error("axis must be either x or y");if(!l.topLeft||!l.topLeft[s])return{};var p={entityIdsStart:null,entityIdsEnd:null,type:"y"===s?"row":"column",x:0,y:0,w:"x"===s?0:"*",h:"y"===s?0:"*",label:{x:0,y:0,w:0,h:0}},q=l.topLeft[s]&&!l.bottomRight[s],f=!l.topLeft[s]&&l.bottomRight[s];
if(l.topLeft[s]&&l.bottomRight[s])q="y"===s?l.anchor&&"T"===l.anchor[0]:l.anchor&&"L"===l.anchor[1],p.entityIdsStart=(q?l.topLeft[s].entityLongIds:l.bottomRight[s].entityLongIds).filter(function(f){return null!==f}),p.entityIdsEnd=(q?l.bottomRight[s].entityLongIds:l.topLeft[s].entityLongIds).filter(function(f){return null!==f});else if(q)p.entityIdsStart=l.topLeft[s].entityLongIds.filter(function(f){return null!==f}),p.entityIdsEnd=l.topLeft[s].entityLongIds.filter(function(f){return null!==f});else{if(f)throw Error("Unexpected range data");
throw Error("Couldn't work out what entity long IDs to use");}return p},_convertCoreClientCellSelectionToGridCellSelection:function(l){var s,p;p=l.anchor&&"T"===l.anchor[0];s=l.anchor&&"L"===l.anchor[1];var q=0,f=0,k=0,n=0,m,h,e,g;l.topLeft&&(l.topLeft.x&&l.topLeft.y&&l.bottomRight&&l.bottomRight.x&&l.bottomRight.y)&&(q=s?l.topLeft.x.index:l.bottomRight.x.index,f=p?l.topLeft.y.index:l.bottomRight.y.index,k=l.bottomRight.x.index-l.topLeft.x.index*(s?1:-1),n=l.bottomRight.y.index-l.topLeft.y.index*
(p?1:-1),m=(s?l.topLeft.x.entityLongIds:l.bottomRight.x.entityLongIds).slice(),h=(p?l.topLeft.y.entityLongIds:l.bottomRight.y.entityLongIds).slice(),e=(s?l.bottomRight.x.entityLongIds:l.topLeft.x.entityLongIds).slice(),g=(p?l.bottomRight.y.entityLongIds:l.topLeft.y.entityLongIds).slice());return{entityIdsStart:{x:m,y:h},entityIdsEnd:{x:e,y:g},type:"cell",x:q,y:f,w:k,h:n}},convertCoreClientSelectionToGridSelection:function(l){if(!l||!l.ranges)return[];var s=this;return l.ranges.map(function(p){return l.isWholeGridSelected()?
s._convertCoreClientWholeGridSelectionToGridWholeGridSelection(p):l.isWholeColumnSelected()?s._convertCoreClientRowColumnSelectionToGridSelection(p,"x"):l.isWholeRowSelected()?s._convertCoreClientRowColumnSelectionToGridSelection(p,"y"):s._convertCoreClientCellSelectionToGridCellSelection(p)})}}})},"anaplan/api/Services/dashboards":function(){define(["anaplan/api/Entities/Dashboards"],function(l){return new l})},"anaplan/widgets/ListFilter":function(){define("anaplan/anapediaKeys anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ChangeFactory anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/snav/listitemloader anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/LabelPageHelper anaplan/utils/SubmissionHandler anaplan/utils/UIHelper anaplan/widgets/_HelpIconMixin anaplan/widgets/TokenInput dijit/_FocusMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileWriteStore dojo/Deferred dojo/dom-style dojo/i18n!anaplan/nls/dialog2 dojo/i18n!anaplan/nls/filter dojo/text!anaplan/templates/ListFilter.html anaplan/widgets/Button dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H){return x([z,v,y,u,b],{_anapediaKey:l.listFilter,baseClass:"listFilter",buttonHelp:C.buttonHelp,instructions:G.labelExplanation1,labelClose:"Close",labelActive:G.labelActive,tooltipHelp:C.tooltipHelp,templateString:H,constructor:function(a){this._contextIdentifiers=a.contextIdentifiers;this._gridController=a.gridController;this._lineItemEntityLongId=a.lineItemEntityLongId;this._selectedEntityLongIds=a.selectedEntityLongIds;this._showJustItemsInView=
a.showJustItemsInView||!1;this._targetAxis=a.targetAxis},focus:function(){g.isNullOrUndefined(this._editor)?this.domNode.focus():this._editor.focus()},postCreate:function(){this.inherited(arguments);var a=this._gridController.getModuleEntityLongId(),a=k.getLineItemLabelFromModuleInfo(f.getModuleInfo(a),this._lineItemEntityLongId);r.setText(this.title,[G.titleListFilter,a].join(" - "))},startup:function(){try{this.inherited(arguments);var a=this._gridController.getPageInfo();if(this._assertLineItem(this._lineItemEntityLongId)){var b=
this._getAxisSpecification(a),d=h.getExistingFilterConditionIndexForListFilter(b,this._lineItemEntityLongId,m.entityLongIdIdentifiersToEntityLongIds(this._contextIdentifiers));if(A.exists("axisDefinition.sortAndFilterDefinition",b)){var g=this._getAbortMessage(b.axisDefinition.sortAndFilterDefinition,d);if(null!==g){setTimeout(A.hitch(this,function(){this.onAbort(g+e.searchAndReplacePlaceholders(G.helpListFilter))}),200);return}}var f=-1<d?m.entityLongIdIdentifiersToEntityLongIds(b.axisDefinition.sortAndFilterDefinition.filterConditions[d].comparisonMultiValueOR):
[];this._loadItems(d,f).then(A.hitch(this,function(a){this._editor=this._createTokenInput(a,f);this._doFilterToggleDisabled(-1===d);B.set(this.busyIndicator,"visibility","hidden");this.own(this._editor.on("change",A.hitch(this,function(a){this._applyFilter(m.entityLongIdsToEntityLongIdIdentifiers(a));this._editor.resize()})));setTimeout(A.hitch(this,function(){this.focus()}),100)}),A.hitch(this,function(a){console.error(this.id,"_loadItems",a);B.set(this.busyIndicator,"visibility","hidden")}));this.enableFilterCheckBox.set("checked",
A.exists("axisDefinition.sortAndFilterDefinition",b)?b.axisDefinition.sortAndFilterDefinition.isActive:!1,!1)}else setTimeout(A.hitch(this,function(){this.onAbort(G.abortInvalidLineItem+e.searchAndReplacePlaceholders(G.helpListFilter))}),200)}catch(r){console.error(this.id,"startup",r)}},destroy:function(){try{g.isNullOrUndefined(this._editor)||(this._editor.destroy(),this._editor=null)}catch(a){}finally{this.inherited(arguments)}},onAbort:function(a){},onChange:function(a){},onClose:function(){},
_applyFilter:function(b){try{var d=this._gridController,e=d.getPageInfo(),g=this._lineItemEntityLongId,f=A.clone(this._getAxisSpecification(e)),r=h.getExistingFilterConditionIndexForListFilter(f,g,m.entityLongIdIdentifiersToEntityLongIds(this._contextIdentifiers)),t=[];if(-1<r){var n=f.axisDefinition.sortAndFilterDefinition.filterConditions,t=n[r].comparisonMultiValueOR.slice();b.length?n[r].comparisonMultiValueOR=b:(n.splice(r,1),n.length||delete f.axisDefinition.sortAndFilterDefinition)}else{var u=
{comparisonDataType:"ENTITY",comparisonMultiValueOR:b,comparisonOperator:"EQUALS",comparisonValue:null,contextIdentifiers:this._contextIdentifiers,lineItemIdentifier:m.entityLongIdToEntityLongIdIdentifier(g),moduleIdentifier:null};k.axisSpecificationContainsSortAndFilterDefinition(f)?f.axisDefinition.sortAndFilterDefinition.filterConditions.push(u):(e={filterConditions:[u],isActive:!0,filterMatchType:"ALL"},A.exists("axisDefinition",f)||(console.warn("_applyFilter converting axisSpecification",f),
k.convertAxisSpecificationToUseAxisDefinition(f)),A.mixin(f.axisDefinition,{sortAndFilterDefinition:e}))}var l=A.clone(d.getViewDefinition());this._targetAxis===p.ROWS?A.mixin(l,{rowAxisSpecification:f}):A.mixin(l,{columnAxisSpecification:f});this._setControlsDisabledAndShowBusyIndicator();d.setViewDefinition(l);(new a({aggregatorObserver:d._model,showPleaseWait:!1})).gather([],[],[],!1).then(A.hitch(this,function(){try{this._enableControlsAndHideBusyIndicator(),this.onChange(this._toChange(t,b))}catch(a){console.error("_applyFilter applied filter but error processing response",
a)}}),A.hitch(this,function(a){console.error(this.id,"failed to apply filter",a);B.set(this.busyIndicator,"visibility","hidden")}))}catch(v){console.error("_applyFilter",v),B.set(this.busyIndicator,"visibility","hidden")}},_assertLineItem:function(a){var b=k.getLineItemInfo(f,a);return null===b?(console.warn(this.id,"expected to find selected line item and did not "+a),!1):"ENTITY"!==b.format.dataType?(console.warn(this.id,"expected line item format to be ENTITY and found "+b.format.dataType),!1):
!0},_createTokenInput:function(a,b){try{var d=new t({searchAttr:"name",store:new D({clearOnClose:!0,data:{identifier:"id",label:"name",items:a}}),pageSize:50,value:b},this.editorContainer);d.startup();d.resize();return d}catch(e){console.error(this.id,e)}},_doFilterToggleDisabled:function(a){var b=this._isCascadedFilter();this.enableFilterCheckBox.set("disabled",a||b);r.setText(this.message,b?G.textToggleFilterDisabled.replace(/\$\{labelActive\}/,this.labelActive):"")},_enableControlsAndHideBusyIndicator:function(){B.set(this.busyIndicator,
"visibility","hidden");var a=this._gridController.getPageInfo(),b=this._getAxisSpecification(a),a=h.getExistingFilterConditionIndexForListFilter(b,this._lineItemEntityLongId,m.entityLongIdIdentifiersToEntityLongIds(this._contextIdentifiers)),b=A.exists("axisDefinition.sortAndFilterDefinition",b)?b.axisDefinition.sortAndFilterDefinition.isActive:!1;this.enableFilterCheckBox.get("value")!==b&&this.enableFilterCheckBox.set("value",b,!1);this._editor.set("disabled",!1);this._editor.resize();this._doFilterToggleDisabled(-1===
a)},_getAbortMessage:function(a,b){if(-1<b){if(!a.filterConditionInfos[b].isValid)return G.abortExistingFilterConditionIsNotValid;if(h.assertMultipleFilterConditions(a,b))return G.abortMultipleFilters}if(this._isCascadedFilter()&&!a.isActive)return G.abortCascadedFilterNotActive;var d=m.entityLongIdToEntityLongIdIdentifier(this._lineItemEntityLongId);return h.assertAddingFilterWouldExcludeAll(a,d)?G.abortAddingListFilterWouldExcludeAllItems:null},_getAxisSpecification:function(a){return this._targetAxis===
p.ROWS?a.rowAxisSpecification:a.columnAxisSpecification},_getItemsViewDefinition:function(a){var b=this._lineItemEntityLongId,d=this._gridController,e=d.getPageInfo(),d=d.getViewDefinition();d.columnAxisSpecification=this._targetAxis===p.COLUMNS?e.rowAxisSpecification:e.columnAxisSpecification;e=this._targetAxis===p.COLUMNS?e.columnAxisSpecification:e.rowAxisSpecification;-1<a&&e.axisDefinition.sortAndFilterDefinition.filterConditions.splice(a,1);if(A.exists("axisDefinition.sortAndFilterDefinition")){a=
e.axisDefinition.sortAndFilterDefinition.filterConditions;for(var g=m.entityLongIdToEntityLongIdIdentifier(b),h=a.length-1;0<=h;h--)a[h].lineItemIdentifier===g&&"IS_BLANK"===a[h].comparisonOperator&&a.splice(h,1)}b={comparisonDataType:"ENTITY",comparisonMultiValueOR:null,comparisonOperator:"IS_NOT_BLANK",comparisonValue:"",contextIdentifiers:this._contextIdentifiers,lineItemIdentifier:m.entityLongIdToEntityLongIdIdentifier(b),moduleIdentifier:null};A.exists("axisDefinition.sortAndFilterDefinition",
e)?e.axisDefinition.sortAndFilterDefinition.filterConditions.push(b):e.axisDefinition.sortAndFilterDefinition={filterConditions:[b],isActive:!0,filterMatchType:"ALL"};d.rowAxisSpecification=e;return d},_isCascadedFilter:function(){var a=this._gridController.getPageInfo(),a=this._getAxisSpecification(a);if(A.exists("axisDefinition.sortAndFilterDefinition",a)){var b=a.axisDefinition.sortAndFilterDefinition.filterConditionInfos;return-1<h.getExistingFilterConditionIndexForListFilter(a,this._lineItemEntityLongId,
m.entityLongIdIdentifiersToEntityLongIds(this._contextIdentifiers))?1<b.length:0<b.length}return!1},_loadItems:function(a,b){return this._showJustItemsInView?this._loadJustItemsInView(a,b):this._loadSelectorLabelPageForLineItem(this._lineItemEntityLongId)},_loadJustItemsInView:function(b,d){var e=this._getItemsViewDefinition(b),g={modelId:window.modelId,viewDefinition:e,columnLabelPageRequests:[],dataPageRequests:[{startRow:0,rowCount:-1,startColumn:0,columnCount:1}],rowLabelPageRequests:[],cellSelectorLabelsRequired:!1,
pageSelectorLabelsRequired:!1,serialNumbers:new s,viewIndex:-1};1<this._selectedEntityLongIds.length?(e=(new q).getViewChangeGenerator(p.viewChangeType.AXIS_SELECTION_CHANGE).getViewChange(p.COLUMNS,p.axisSelectionChange.SHOW,{ragged:[m.entityLongIdsToEntityLongIdIdentifiers(this._selectedEntityLongIds)]}),A.mixin(g,{viewChanges:[e]})):this._selectedEntityLongIds.length&&(g.viewDefinition.columnAxisSpecification=k.addSelectionToAxisSpecification(e.columnAxisSpecification,p.SELECTION_RULE_MODIFIER_SHOW,
[m.entityLongIdsToEntityLongIdIdentifiers(this._selectedEntityLongIds)]));var h=new E;(new a({showPleaseWait:!1})).post([],[g],[],!1).then(A.hitch(this,function(a){try{var b=a.result.viewRequestResults[0].dataPages[0],e=[],g={};for(a=0;a<b.rowCount;a++)g.hasOwnProperty(b.cellValues[a])||(e.push({name:b.cellText[a],id:b.cellValues[a]}),g[b.cellValues[a]]=b.cellText[a]);var r=w.map(w.filter(d,function(a){return!g.hasOwnProperty(a)}),function(a){return{entityLongId:a}});if(r.length)try{var t=f.getLineItemInfo(this._lineItemEntityLongId);
(new n({hierarchyEntityLongId:t.format.hierarchyEntityLongId})).getListItems(r).then(function(a){a=a.rowLabelPages[0];for(var b=0;b<a.count;b++)e.push({name:a.labels[0][b],id:a.entityLongIds[0][b]});h.resolve(e)},function(a){console.error(a);h.resolve(e)})}catch(k){console.error(k),h.resolve(e)}else h.resolve(e)}catch(m){h.reject(m)}}),function(a){h.reject(a)});return h.promise},_loadSelectorLabelPageForLineItem:function(){var a=new E;try{var b=this._gridController,e=f.getLineItemInfo(this._lineItemEntityLongId).format.hierarchyEntityLongId;
b.getSelectorLabelPageForHierarchyEntityLongId(e,function(b){try{a.resolve(d.getAsObjectArray(b))}catch(e){console.error("getSelectorLabelPage",e),a.reject(e)}},function(b){console.error("_getSelectorLabelPage",b);a.reject(b)})}catch(g){console.error("_loadSelectorLabelPageForLineItem",g),a.reject(g)}finally{return a.promise}},_onBlur:function(a){if(g.isNullOrUndefined(a))return this.focus(),!0;this.inherited(arguments)},_onEnableFilterChange:function(b){var d=this._gridController,e=d.getPageInfo(),
e=this._getAxisSpecification(e);if(-1<h.getExistingFilterConditionIndexForListFilter(e,this._lineItemEntityLongId,m.entityLongIdIdentifiersToEntityLongIds(this._contextIdentifiers))){var e=d.getViewDefinition(),g=this._targetAxis===p.ROWS?e.rowAxisSpecification:e.columnAxisSpecification;A.exists("axisDefinition.sortAndFilterDefinition",g)?g.axisDefinition.sortAndFilterDefinition.isActive!==b&&(this._setControlsDisabledAndShowBusyIndicator(),g.axisDefinition.sortAndFilterDefinition.isActive=b,d.setViewDefinition(e),
(new a({aggregatorObserver:d._model,showPleaseWait:!1})).gather([],[],[],!1).then(A.hitch(this,function(){this._enableControlsAndHideBusyIndicator()}),A.hitch(this,function(a){console.error("_onEnableFilterChange",a)}))):console.warn("_onEnableFilterChange expected to find axisDefinition with sortAndFilterDefinition and did not",g)}else console.warn("_onEnableFilterChange expected to find existing filter condition and did not",e)},_setControlsDisabledAndShowBusyIndicator:function(){this.enableFilterCheckBox.set("disabled",
!0);g.isNullOrUndefined(this._editor)||this._editor.set("disabled",!0);B.set(this.busyIndicator,"visibility","visible")},_toChange:function(a,b){if(!b.length)return{removed:a.slice()};if(!a.length)return{added:b.slice()};var d=[];w.forEach(b,function(b){-1===w.indexOf(a,b)&&d.push(b)});if(d.length)return{added:d};var e=[];w.forEach(a,function(a){-1===w.indexOf(b,a)&&e.push(a)});return{removed:e}}})})},"anaplan/view/_TreeLabelDecorator":function(){define(["dojo/_base/declare","anaplan/Exceptions"],
function(l,s){return l("anaplan.view._TreeLabelDecorator",[],{decorate:function(l){try{var q=l.styles,f=l.treeLineSequences,k=q.length,n,m,h,e;for(n=0;n<k;n++){e=q[n].length;for(m=0;m<e;m++)h=f[n][m],"string"===typeof h&&h.length&&(q[n][m]+="8"===h.charAt(0)?" treeStructure":" tree")}}catch(g){throw new s.ClientException("anaplan.view._TreeLabelDecorator",g);}return l},destroy:function(){}})})},"anaplan/gridlet/_editor/MultiSelectEntityEditor":function(){define("anaplan/data/ModelContentCache anaplan/constants anaplan/gridlet/_editor/MultiSelectTree anaplan/gridlet/_editor/PopupEditor anaplan/utils/SelectionHelper anaplan/utils/FormatHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/gridlet dojo/string".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return m("anaplan.gridlet._editor.MultiSelectEntityEditor",q,{getValue:function(){return this._value||null},prepare:function(d){var a=this.inherited(arguments),r=h.mixin({},this._params,d),b,t,m,v,q,y,w;if(!r.context)return a.reject("anaplan.gridlet._editor.MultiSelectEntityEditor#prepare - context not provided"),a;if(!r.selection)return a.reject("anaplan.gridlet._editor.MultiSelectEntityEditor#prepare - selection not provided"),a;this._value=r.value;b=r.format.hierarchyEntityLongId;
t=l.getHierarchiesLabelPage();m=n.indexOf(t.entityLongIds[0],b);-1!==m?v=t.labels[0][m]:(t=l.getHierarchySubsetsLabelPage(),m=n.indexOf(t.entityLongIds[0],b),-1!==m&&(v=t.labels[0][m]));if(-1===m)return a.reject("anaplan.gridlet._editor.MultiSelectEntityEditor#prepare - hierarchy not found"),a;m=g.substitute(e.MULTISELECT_ENTITY,{hierarchyLabel:v});t=r.context;q=r.selection;r=f.getRowsSelection(q,t);t=f.getColumnsSelection(q,t);q=!1;y=0;for(w=t.entityLongIds.length;y<w;y++)t.entityLongIds[y][0]===
s.SYSTEM_PROPERTY_USER_WRITE_ACCESS_ITEMS&&(q=!0);this.widget=new p({hierarchyEntityLongId:b,value:this._value,hierarchyLabel:v,userName:r.labels[0][0],isWriteAccess:q});this._dialog.set("title",k.cleanEscapeHTML(m));this._dialog.set("content",this.widget.domNode);this.connect(this.widget,"submit",h.hitch(this,"_onChange"));this.connect(this.widget,"cancel",h.hitch(this,"onCancel"));a.resolve();return a},_onChange:function(d){this._value=d;this.onChange(d)}})})},"anaplan/utils/FilterHelper":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/SelectionHelper anaplan/utils/JsHelper dojo/_base/array dojo/_base/lang dojo/i18n!anaplan/nls/toolbar".split(" "),
function(l,s,p,q,f,k,n,m,h,e){var g={FILTER_CONDITION_CONFIG:{NUMBER:{comparisonOperator:"GREATER_THAN",comparisonValue:"0"},BOOLEAN:{comparisonOperator:"EQUALS",comparisonValue:"true"},DATE:{comparisonOperator:"EQUALS",comparisonValue:(new Date).toISOString().substring(0,10)},ENTITY:{comparisonOperator:"EQUALS",comparisonMultiValueOR:[]},TEXT:{comparisonOperator:"CONTAINS",comparisonValue:""},TIME_ENTITY:{comparisonOperator:"EQUALS",comparisonMultiValueOR:[]}},assertAddingFilterWouldExcludeAll:function(d,
a){return 0<m.filter(d.filterConditions,function(d){return d.lineItemIdentifier===a&&"IS_BLANK"===d.comparisonOperator}).length&&"ANY"!==d.filterMatchType?!0:!1},assertMultipleFilterConditions:function(d,a){var e=d.filterConditions[a];return 1<m.filter(d.filterConditions,function(a){return a.lineItemIdentifier===e.lineItemIdentifier&&a.comparisonOperator===e.comparisonOperator&&n.arrayEquals(a.contextIdentifiers,e.contextIdentifiers)}).length},getContextIdentifiersForListFilter:function(d,a,e,b){e=
p.getLineItemInfo(s,e);var g=a===l.ROWS?d.rowAxisSpecification:d.columnAxisSpecification,k=m.filter(m.map(e.fullAppliesTo,function(a){return f.entityLongIdToEntityLongIdIdentifier(a===l.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID?l.CURRENT_USER_ENTITY_LONG_ID:a)}),h.hitch(this,function(a){return this._isValidDimensionIdentifierForFilterCondition(a,g)}));d=p.getAllDimensionIdentifiersForAxisSpecification(a===l.ROWS?d.columnAxisSpecification:d.rowAxisSpecification);m.forEach(d,function(a,d){var e=
m.indexOf(k,a);-1<e&&k.splice(e,1,f.entityLongIdToEntityLongIdIdentifier(b[d]))});return k},getContextIdentifiersForQuickFilter:function(d,a){var e=f.entityLongIdsToEntityLongIdIdentifiers(a),b=e.indexOf(f.entityLongIdToEntityLongIdIdentifier(d));-1<b&&e.splice(b,1);return e},getExistingFilterConditionIndexForListFilter:function(d,a,e){var b=-1;try{if(h.exists("axisDefinition.sortAndFilterDefinition",d))for(var g=d.axisDefinition.sortAndFilterDefinition.filterConditions,k=0;k<g.length;k++){var m=
g[k];"EQUALS"===m.comparisonOperator&&m.lineItemIdentifier===f.entityLongIdToEntityLongIdIdentifier(a)&&n.arrayEquals(m.contextIdentifiers,f.entityLongIdsToEntityLongIdIdentifiers(e))&&(b=k)}}catch(l){console.error("getExistingFilterConditionIndexForListFilter",l,d)}finally{return b}},getExistingFilterConditionIndexForQuickFilter:function(d,a,e){var b=-1;if(h.exists("axisDefinition.sortAndFilterDefinition",d)){d=d.axisDefinition.sortAndFilterDefinition.filterConditions;a=f.entityLongIdToEntityLongIdIdentifier(a);
for(var g=0;g<d.length;g++){var k=d[g];k.filterConditionType===l.filterConditionType.QUICK&&k.lineItemIdentifier===a&&n.arrayEquals(k.contextIdentifiers,e)&&(b=g)}}return b},getFilterSpecification:function(d,a,e,b){var g,h,f,m;p.isLineItemsOnColumns(d)?(m=l.ROWS,h=p.getLineItemsNestingIndexForAxisSpecification(d.columnAxisSpecification),f=k.getCurrentColumn(a,e).entityLongIds,g=f[h]):p.isLineItemsOnRows(d)?(m=l.COLUMNS,h=p.getLineItemsNestingIndexForAxisSpecification(d.rowAxisSpecification),f=k.getCurrentRow(a,
e).entityLongIds,g=f[h]):(m=a.isWholeColumnSelected()?l.ROWS:l.COLUMNS,g=m===l.ROWS?k.getCurrentColumn(a,e):k.getCurrentRow(a,e),f=n.isNullOrUndefined(g)?[]:g.entityLongIds,g=p.getLineItemEntityLongIdForPageInfo(d));a=m===l.ROWS?p.axisSpecificationContainsEmpty(d.columnAxisSpecification)?[]:k.getCurrentColumn(a,e).entityLongIds:p.axisSpecificationContainsEmpty(d.rowAxisSpecification)?[]:k.getCurrentRow(a,e).entityLongIds;d=b===l.filterConditionType.QUICK?this.getContextIdentifiersForQuickFilter(g,
a):this.getContextIdentifiersForListFilter(d,m,g,a);return{lineItemEntityLongId:g,nestingIndex:h,selectedEntityLongIds:f,targetAxis:m,contextIdentifiers:d}},getQuickFilterStatus:function(d){d=[d.rowAxisSpecification,d.columnAxisSpecification].filter(function(a){return p.axisSpecificationContainsSortAndFilterDefinition(a)}).map(function(a){return a.axisDefinition.sortAndFilterDefinition});return this.getFilterStatus(d,!1)},getFilterStatus:function(d,a){if(!d.length)return{label:e.labelFilter,iconClass:"anaplanIcon anaplanIconFilterNone"};
var g=a?d:d.filter(h.hitch(this,function(a){return this._containsQuickFilterCondition(a.filterConditions)}));return!g.length?{label:e.labelFilter,iconClass:"anaplanIcon anaplanIconFilterNone"}:g.some(function(a){return!a.isActive})?{label:e.labelFilterInactive,iconClass:"anaplanIcon anaplanIconFilterDisabled"}:g.some(h.hitch(this,function(b){return b.filterConditions.some(h.hitch(this,function(d,e){return!b.filterConditionInfos[e].isValid&&(a?!0:this.isQuickFilterCondition(d))}))}))?{label:e.labelFilterInvalid,
iconClass:"anaplanIcon anaplanIconFilterWarning"}:{label:e.labelFilterActive,iconClass:"anaplanIcon anaplanIconFilter"}},hasQuickFilter:function(d){var a=!1;h.exists("axisDefinition.sortAndFilterDefinition.filterConditions",d)&&(a=this._containsQuickFilterCondition(d.axisDefinition.sortAndFilterDefinition.filterConditions));return a},_containsQuickFilterCondition:function(d){return d.some(this.isQuickFilterCondition)},isQuickFilterCondition:function(d){return d.filterConditionType===l.filterConditionType.QUICK},
_isValidDimensionIdentifierForFilterCondition:function(d,a){if(!d||p.axisSpecificationContains(a,d)||q.isEmptySystemAxisIdentifier(d)||q.isLineItemsSystemAxisIdentifier(d))return!1;if(p.axisSpecificationContainsLineItems(a)){var e=f.entityLongIdIdentifierToEntityLongId(d);if(f.getEntityTypeIndex(e)===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)return!1}return!0}};h.setObject("anaplan.utils.FilterHelper",g);return g})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),
function(l,s,p,q,f){var k=s("dijit.form._ComboBoxMenuMixin"+(q("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=f.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(f){this._set("value",f);this.onChange(f)},onClick:function(f){if(f==this.previousButton)this._setSelectedAttr(null),
this.onPage(-1);else if(f==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(f)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(f,k){var h=this._createMenuItem(),e=k(f);e.html?h.innerHTML=e.label:h.appendChild(h.ownerDocument.createTextNode(e.label));""==h.innerHTML&&(h.innerHTML="\x26#160;");return h},createOptions:function(f,k,h){this.items=f;this.previousButton.style.display=0==k.start?"none":"";p.set(this.previousButton,
"id",this.id+"_prev");l.forEach(f,function(e,d){var a=this._createOption(e,h);a.setAttribute("item",d);p.set(a,"id",this.id+d);this.nextButton.parentNode.insertBefore(a,this.nextButton)},this);var e=!1;f.total&&!f.total.then&&-1!=f.total?k.start+k.count<f.total?e=!0:k.start+k.count>f.total&&k.count==f.length&&(e=!0):k.count==f.length&&(e=!0);this.nextButton.style.display=e?"":"none";p.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var f=this.containerNode;2<f.childNodes.length;)f.removeChild(f.childNodes[f.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});q("dojo-bidi")&&(k=s("dijit.form._ComboBoxMenuMixin",
k,{_createOption:function(){var f=this.inherited(arguments);this.applyTextDir(f);return f}}));return k})},"anaplan/keyboard/helpers":function(){define(["dojo/i18n!anaplan/nls/shortcuts","anaplan/keyboard/shortcuts","anaplan/keyboard/symbolLookup","dojo/on"],function(l,s,p,q){function f(e,d){var a=k(("string"===typeof e?s[e]:e).shortcuts);return d?h(a):m(a)}function k(g){return 1===g.length?g[0]:window.navigator.platform.match(e)?g[1]:g[0]}function n(e){return'\x3cspan class\x3d"keyboard-key"\x3e'+
p[e]+"\x3c/span\x3e"}function m(e){return'\x3cspan class\x3d"keyboard-shortcut-holder"\x3e'+["shiftKey","altKey","ctrlKey","metaKey"].reduce(function(d,a){return e[a]?n(a)+" "+d:d},n(e.shortcut))+"\x3c/span\x3e"}function h(e){return["shiftKey","altKey","ctrlKey","metaKey"].reduce(function(d,a){return e[a]?p[a]+"+"+d:d},e.shortcut.toUpperCase())}var e=/Mac|iPhone|iPad|iPod/i;return{addListener:function(e,d,a){return q(e,d,function(e){(e.name===d||e.type===d)&&a.apply(this,arguments)})},render:f,renderAsHtml:function(e){return f(e,
!1)},renderAsText:function(e){return f(e,!0)},preferredShortcut:k,renderKey:n,shortcutHtml:m,shortcutId:function(e){return e.replace(/_/g,"-").toLowerCase()+"-shortcut"}}})},"anaplan/data/ModelContentCache/BaseLabelPageWrapper":function(){define(["dojo/_base/declare","anaplan/utils/JsHelper","dojo/_base/lang","dojo/_base/array"],function(l,s,p,q){return l(null,{_labelPage:null,constructor:function(f){if(!s.isObject(f))throw Error("Expected a label page to be passed in with the constructor for the wrapper");
this._labelPage=f},containsEntityLongId:function(f){return-1<q.indexOf(this._labelPage.entityLongIds[0],f)},forEach:function(f){if(!s.isFunction(f))throw Error("Expected a callback to be given to the forEach when iterating over label page");var k=function(f,h){return f&&f[0]&&f[0].length>h?f[0][h]:null},n=this._labelPage;q.forEach(n.entityLongIds[0],p.hitch(this,function(m,h){f(k(n.entityIds,h),m,k(n.labels,h),k(n.treeLineSequences,h),k(n.parentEntityLongIds,h))}))}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare",
"dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,s,p,q){return l("dijit.form.ToggleButton",[p,q],{baseClass:"dijitToggleButton",setChecked:function(f){s.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"dormouse/_ThemeConfigs":function(){define([],function(){return{classic:{className:"classic",defaultColumnWidth:80,defaultRowLabelWidth:270,defaultNestedRowLabelWidth:180,drawPageSelectorBorders:1,_horizontalScrollUnit:0,
_verticalScrollUnit:0,scrollBarTrackHeight:16,scrollBarTrackWidth:16,fontFamily:"Arial, sans-serif",defaultTreeletPadBorder:{borderTop:0,borderRight:0,borderBottom:0,borderLeft:1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},selectionBorderColor:"#a0a0a0",activeSelectionBorderColor:"#25ace6",selectionBackgroundColor:"#d2edfe",gridLabelHighLight:"#ff0",styleAdjustments:{gridrowheader:{borderRight:0,paddingLeft:17},gridcolumnheader:{borderBottom:0},gridrownormal:{borderRight:0},gridrowheading0:{borderBottom:0,
paddingTop:3,paddingBottom:3,paddingLeft:3},gridrowheading1:{borderRight:0,paddingTop:11},gridrowheading2:{borderRight:0,paddingTop:6,paddingLeft:9},gridrowheading3:{borderRight:0,paddingTop:6,paddingLeft:17},gridrowsummary1:{borderTop:3,borderRight:0,borderBottom:3},gridrowsummary2:{borderRight:0,paddingLeft:9},gridrowsummary3:{borderRight:0,paddingLeft:17},gridcolumnnormal:{borderTop:0,borderBottom:0},gridcolumnheading0:{borderBottom:0},gridcolumnheading1:{borderBottom:0},gridcolumnheading2:{borderBottom:0},
gridcolumnheading3:{borderBottom:0},gridcolumnsummary1:{borderRight:3,borderBottom:0,borderLeft:3},gridcolumnsummary2:{borderBottom:0},gridcolumnsummary3:{borderBottom:0},gridrowheaderheading0:{borderBottom:0,paddingTop:3,paddingBottom:3,paddingLeft:3},gridrowheaderheading1:{borderRight:0,paddingTop:11},gridrowheaderheading2:{borderRight:0,paddingTop:6,paddingLeft:9},gridrowheaderheading3:{borderRight:0,paddingTop:6,paddingLeft:17},gridrowheadersummary1:{borderTop:3,borderRight:0,borderBottom:3},
gridrowheadersummary2:{borderRight:0,paddingLeft:9},gridrowheadersummary3:{borderRight:0,paddingLeft:17}}},clean:{className:"clean",defaultColumnWidth:80,defaultRowLabelWidth:270,defaultNestedRowLabelWidth:180,drawPageSelectorBorders:1,_horizontalScrollUnit:0,_verticalScrollUnit:0,scrollBarTrackHeight:16,scrollBarTrackWidth:16,fontFamily:"Arial, sans-serif",defaultTreeletPadBorder:{borderTop:0,borderRight:1,borderBottom:0,borderLeft:1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},selectionBorderColor:"#a0a0a0",
activeSelectionBorderColor:"#5da6e3",selectionBackgroundColor:"#d2edfe",gridLabelHighLight:"#ff0",styleAdjustments:{gridrowheader:{borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnheader:{borderBottom:1},gridrownormal:{},gridrowheading0:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheading1:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:11},gridrowheading2:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheading3:{borderRight:1,
borderBottom:1,borderLeft:1,paddingTop:6,paddingLeft:17},gridrowsummary1:{borderRight:1,borderBottom:1,borderLeft:1},gridrowsummary2:{borderTop:0,borderRight:1,borderLeft:1,paddingLeft:9},gridrowsummary3:{borderTop:0,borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnnormal:{borderTop:0},gridcolumnheading0:{borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading1:{borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading2:{borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading3:{borderRight:1,
borderBottom:1,borderLeft:1},gridcolumnsummary1:{borderRight:1,borderBottom:1,borderLeft:1},gridcolumnsummary2:{borderBottom:1},gridcolumnsummary3:{borderBottom:1},gridrowheaderheading0:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheaderheading1:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:11},gridrowheaderheading2:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheaderheading3:{borderRight:1,borderBottom:1,borderLeft:1,paddingTop:6,
paddingLeft:17},gridrowheadersummary1:{borderRight:1,borderBottom:1,borderLeft:1},gridrowheadersummary2:{borderTop:0,borderRight:1,borderLeft:1,paddingLeft:9},gridrowheadersummary3:{borderTop:0,borderRight:1,borderLeft:1,paddingLeft:17}}},thin:{className:"thin",defaultColumnWidth:80,defaultRowLabelWidth:270,defaultNestedRowLabelWidth:180,drawPageSelectorBorders:1,_horizontalScrollUnit:0,_verticalScrollUnit:0,scrollBarTrackHeight:16,scrollBarTrackWidth:16,fontFamily:"Arial, sans-serif",defaultTreeletPadBorder:{borderTop:1,
borderRight:1,borderBottom:1,borderLeft:1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},selectionBorderColor:"#a0a0a0",activeSelectionBorderColor:"#25ace6",selectionBackgroundColor:"#d2edfe",gridLabelHighLight:"#ff0",styleAdjustments:{gridrowheader:{borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnheader:{},gridrownormal:{},gridrowheading0:{borderRight:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheading1:{borderRight:1,borderLeft:1,paddingTop:11},gridrowheading2:{borderRight:1,
borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheading3:{borderRight:1,borderLeft:1,paddingTop:6,paddingLeft:17},gridrowsummary1:{borderRight:1,borderLeft:1},gridrowsummary2:{borderRight:1,borderLeft:1,paddingLeft:9},gridrowsummary3:{borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnnormal:{borderTop:0,borderBottom:0},gridcolumnheading0:{borderRight:1,borderLeft:1},gridcolumnheading1:{borderRight:1,borderLeft:1},gridcolumnheading2:{borderRight:1,borderLeft:1},gridcolumnheading3:{borderRight:1,
borderLeft:1},gridcolumnsummary1:{borderRight:1,borderLeft:1},gridcolumnsummary2:{},gridcolumnsummary3:{},gridrowheaderheading0:{borderRight:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheaderheading1:{borderRight:1,borderLeft:1,paddingTop:11},gridrowheaderheading2:{borderRight:1,borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheaderheading3:{borderRight:1,borderLeft:1,paddingTop:6,paddingLeft:17},gridrowheadersummary1:{borderRight:1,borderLeft:1},gridrowheadersummary2:{borderRight:1,borderLeft:1,
paddingLeft:9},gridrowheadersummary3:{borderRight:1,borderLeft:1,paddingLeft:17}}},zebra:{className:"zebra",defaultColumnWidth:80,defaultRowLabelWidth:270,defaultNestedRowLabelWidth:180,drawPageSelectorBorders:1,_horizontalScrollUnit:0,_verticalScrollUnit:0,scrollBarTrackHeight:16,scrollBarTrackWidth:16,fontFamily:"Arial, sans-serif",defaultTreeletPadBorder:{borderTop:0,borderRight:1,borderBottom:0,borderLeft:1,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},selectionBorderColor:"#a0a0a0",
activeSelectionBorderColor:"#25ace6",selectionBackgroundColor:"#d2edfe",gridLabelHighLight:"#ff0",styleAdjustments:{gridrowheader:{borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnheader:{borderTop:1,borderBottom:1},gridrownormal:{},gridrowheading0:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheading1:{borderRight:1,borderLeft:1,paddingTop:11},gridrowheading2:{borderRight:1,borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheading3:{borderRight:1,borderLeft:1,
paddingTop:6,paddingLeft:17},gridrowsummary1:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridrowsummary2:{borderRight:1,borderLeft:1,paddingLeft:9},gridrowsummary3:{borderRight:1,borderLeft:1,paddingLeft:17},gridcolumnnormal:{},gridcolumnheading0:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading1:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading2:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridcolumnheading3:{borderTop:1,borderRight:1,
borderBottom:1,borderLeft:1},gridcolumnsummary1:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridcolumnsummary2:{borderTop:1,borderBottom:1},gridcolumnsummary3:{borderTop:1,borderBottom:1},gridrowheaderheading0:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1,paddingTop:5,paddingLeft:3},gridrowheaderheading1:{borderRight:1,borderLeft:1,paddingTop:11},gridrowheaderheading2:{borderRight:1,borderLeft:1,paddingTop:6,paddingLeft:9},gridrowheaderheading3:{borderRight:1,borderLeft:1,paddingTop:6,
paddingLeft:17},gridrowheadersummary1:{borderTop:1,borderRight:1,borderBottom:1,borderLeft:1},gridrowheadersummary2:{borderRight:1,borderLeft:1,paddingLeft:9},gridrowheadersummary3:{borderRight:1,borderLeft:1,paddingLeft:17}}},gridselector:{className:"gridselector",defaultColumnWidth:80,defaultRowLabelWidth:270,defaultNestedRowLabelWidth:180,drawPageSelectorBorders:1,_horizontalScrollUnit:0,_verticalScrollUnit:0,scrollBarTrackHeight:16,scrollBarTrackWidth:16,fontFamily:"Arial, sans-serif",defaultTreeletPadBorder:{borderTop:0,
borderRight:0,borderBottom:0,borderLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},selectionBorderColor:"#a0a0a0",activeSelectionBorderColor:"#25ace6",selectionBackgroundColor:"#d2edfe",gridLabelHighLight:"#ff0",styleAdjustments:{gridrowheader:{borderRight:0,borderLeft:0,paddingLeft:17},gridcolumnheader:{borderTop:0,borderBottom:0},gridrownormal:{borderRight:0,borderLeft:0},gridrowheading0:{paddingTop:5,paddingLeft:3},gridrowheading1:{borderRight:0,borderLeft:0,paddingTop:11},gridrowheading2:{borderRight:0,
borderLeft:0,paddingTop:6,paddingLeft:9},gridrowheading3:{borderRight:0,borderLeft:0,paddingTop:6,paddingLeft:17},gridrowsummary1:{borderTop:3,borderRight:0,borderBottom:3,borderLeft:0},gridrowsummary2:{borderRight:0,borderLeft:0,paddingLeft:9},gridrowsummary3:{borderRight:0,borderLeft:0,paddingLeft:17},gridcolumnnormal:{borderTop:0,borderBottom:0},gridcolumnheading0:{borderTop:0,borderBottom:0},gridcolumnheading1:{borderTop:0,borderBottom:0},gridcolumnheading2:{borderTop:0,borderBottom:0},gridcolumnheading3:{borderTop:0,
borderBottom:0},gridcolumnsummary1:{borderTop:0,borderRight:3,borderBottom:0,borderLeft:3},gridcolumnsummary2:{borderTop:0,borderBottom:0},gridcolumnsummary3:{borderTop:0,borderBottom:0},gridrowheaderheading0:{paddingTop:5,paddingLeft:3},gridrowheaderheading1:{borderRight:0,borderLeft:0,paddingTop:11},gridrowheaderheading2:{borderRight:0,borderLeft:0,paddingTop:6,paddingLeft:9},gridrowheaderheading3:{borderRight:0,borderLeft:0,paddingTop:6,paddingLeft:17},gridrowheadersummary1:{borderTop:3,borderRight:0,
borderBottom:3,borderLeft:0},gridrowheadersummary2:{borderRight:0,borderLeft:0,paddingLeft:9},gridrowheadersummary3:{borderRight:0,borderLeft:0,paddingLeft:17}}}}})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){n=l("dijit.MenuItem"+(k("dojo-bidi")?"_NoBidi":""),[m,h,e,
g],{templateString:d,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var d="",b;b=a.search(/{\S}/);if(0<=b){var d=a.charAt(b+1),e=a.substr(0,b);a=a.substr(b+3);b=e+d+a;a=e+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+d+"\x3c/span\x3e"+a}else b=a;this.domNode.setAttribute("aria-label",b+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",d)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,
_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);p.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&p.set(this.accelKeyNode,"id",this.id+"_accel");s.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==k("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){q.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,p.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});k("dojo-bidi")&&
(n=l("dijit.MenuItem",n,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return n})},"anaplan/api/Entity/Version":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){function D(a){return function(b){m[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}a.add("dijit-legacy-requires",!r.isAsync);a.add("dojo-bidi",!1);a("dijit-legacy-requires")&&u(0,function(){l(["dijit/_base/manager"])});var E={};q=k("dijit._WidgetBase",[v,w],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:D("lang"),dir:"",_setDirAttr:D("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:q.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,d=a._setterAttrs=[],a=a._onMap={},e;for(e in b.attributeMap)d.push(e);for(e in b)/^on/.test(e)&&(a[e.substring(2).toLowerCase()]=e),/^_set[A-Z](.*)Attr$/.test(e)&&(e=e.charAt(4).toLowerCase()+e.substr(5,
e.length-9),(!b.attributeMap||!(e in b.attributeMap))&&d.push(e))}},postscript:function(a,b){this.create(a,b)},create:function(a,d){this._introspect();this.srcNodeRef=n.byId(d);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,b.mixin(this,a));this.postMixInProperties();this.id||(this.id=A.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=y.body(this.ownerDocument);A.add(this);this.buildRendering();var e;if(this.domNode){this._applyAttributes();var g=this.srcNodeRef;g&&(g.parentNode&&this.domNode!==g)&&(g.parentNode.replaceChild(this.domNode,g),e=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();e&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);s.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var d=this._get(b);d&&this.set(b,d)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(s.map(a,function(a){return a+"Rtl"})));h.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,s.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&b.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function d(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();s.forEach(this._connects,b.hitch(this,"disconnect"));s.forEach(this._supportingWidgets,d);this.domNode&&s.forEach(A.findWidgets(this.domNode,this.containerNode),d);this.destroyRendering(a);
A.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?m.remove(this.domNode,"widgetId"):e.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||e.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){s.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var e=this.domNode;b.isObject(a)?
d.set(e,a):e.style.cssText=e.style.cssText?e.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,d,e){e=3<=arguments.length?e:this.attributeMap[a];s.forEach(b.isArray(e)?e:[e],function(e){var g=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":b.isFunction(d)&&(d=b.hitch(this,d));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;g.tagName?m.set(g,e,d):g.set(e,d);break;case "innerText":g.innerHTML="";g.appendChild(this.ownerDocument.createTextNode(d));
break;case "innerHTML":g.innerHTML=d;break;case "class":h.replace(g,d,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,d){if("object"===typeof a){for(var e in a)this.set(e,a[e]);return this}e=this._getAttrNames(a);var g=this[e.s];if(b.isFunction(g))var h=g.apply(this,Array.prototype.slice.call(arguments,1));else{var g=this.focusNode&&!b.isFunction(this.focusNode)?"focusNode":"domNode",f=this[g]&&this[g].tagName,r;if(r=f)if(!(r=
E[f])){r=this[g];var t={},k;for(k in r)t[k.toLowerCase()]=!0;r=E[f]=t}k=r;e=a in this.attributeMap?this.attributeMap[a]:e.s in this?this[e.s]:k&&e.l in k&&"function"!=typeof d||/^aria-|^data-|^role$/.test(a)?g:null;null!=e&&this._attrToDom(a,d,e);this._set(a,d)}return h||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",
g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;if(this._created&&!(d===b||d!==d&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,d,b),this.emit("attrmodified-"+a,{detail:{prevValue:d,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,d){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var e,g=this["on"+a];g&&(e=g.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&
t.emit(this.domNode,a.toLowerCase(),b);return e},on:function(a,b){var d=this._onMap(a);return d?p.after(this,d,b,!0):this.own(t(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap={},e;for(e in b.prototype)/^on/.test(e)&&(d[e.replace(/^on/,"").toLowerCase()]=e)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?A.findWidgets(this.containerNode):
[]},getParent:function(){return A.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(f.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,d){return this.own(z.subscribe(a,b.hitch(this,d)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:g.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=d.get(this.domNode,"display")},placeAt:function(a,b){var d=!a.tagName&&
A.byId(a);d&&d.addChild&&(!b||"number"===typeof b)?d.addChild(this,b):(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(b||"")?d.containerNode:d.domNode:n.byId(a,this.ownerDocument),e.place(this.domNode,d,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,d){var e=setTimeout(b.hitch(this,function(){e&&(e=null,this._destroyed||b.hitch(this,a)())}),d||0);return{remove:function(){e&&(clearTimeout(e),e=null);return null}}}});a("dojo-bidi")&&
q.extend(x);return q})},"anaplan/actions/CopyBranch":function(){define("../actions/_ActionMainView ../actions/_ActionMixin ../data/ChangeFactory ../data/UserInfo ../utils/EntityLongIdHelper dijit/layout/StackContainer dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/i18n!anaplan/nls/copyBranch".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){return m("anaplan.actions.CopyBranch",[k,s],{associatedDataChanges:null,copyMode:"IMMEDIATE_CHILDREN_ONLY",dashboardEntityLongId:-1,parentHierarchyEntityLongId:-1,
constructor:function(){this.associatedDataChanges=[]},postCreate:function(){this.inherited(arguments);e.set(this.domNode,"data-element-id","copyBranch");-1===this.multiSelectHierarchyEntityLongId&&(this.multiSelectHierarchyEntityLongId=this._getMultiSelectHierarchyEntityLongId());this._mainView=this._createMainView()},startup:function(){this.inherited(arguments);this.addChild(this._mainView)},_createMainView:function(){var d=new l({hierarchyEntityLongId:this.hierarchyEntityLongId,multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,
filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,selectedItems:this.selectedItems,propertyEntityLongId:this.propertyEntityLongId});this.own(d.on("cancel",h.hitch(this,"onCancel")),d.on("ok",h.hitch(this,"_submit")));return d},_doAssociatedDataChanges:function(d){d=d.entityLongIds.split(",");var a=d.length,e=(new p).getCellChangeGenerator("TODO: Assumes not numeric"),b=[],g=[{workspaceId:workspaceId,cellChanges:b}],h=this.associatedDataChanges,f=h.length,k,m,n,l,q;for(k=0;k<f;k++){m=h[0].entityLongIds;
n=this._insertUserInfo(h[k].cellText);for(l=0;l<a;l++)q=m.slice(),q.push(Number(d[l])),q=e.getCellChange({modelId:modelId,asText:!0,noCurrentValue:!0,entityLongIds:q,cellText:n}),b.push(q)}return this._doGather(g,[],[])},_doCopy:function(d,a){var e={actionId:"BULK_ENTITY_COPY",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityIndices:d,parentEntityIndices:a,copyMode:this.copyMode||"IMMEDIATE_CHILDREN_ONLY",actionEntityLongId:this.actionEntityLongId}};
return this._doGather([],[],[e])},_getMultiSelectHierarchyEntityLongId:function(){return this.parentHierarchyEntityLongId},_isValid:function(){return this._mainView&&this._mainView.isValid()},_insertUserInfo:function(d){var a=q.getUserInfoObject();return h.replace(d,a)},_submit:function(){var d,a;d=n.map(this.selectedItems,function(a){return a.entityLongId});if(d.length)if(this._isValid())this._mainView.get("disabled")||(a=this._mainView.get("value"),d=n.map(d,function(a){return f.getEntityIndex(a)}).join(),
a=n.map(a,function(a){return f.getEntityIndex(a)}).join(),this._mainView.set("disabled",!0),this._doCopy(d,a).then(h.hitch(this,function(a){var b;if(2===a.length&&1===a[1].length)try{if(b=a[1][0],h.mixin(b,{promptToShowAllRecentlyCreatedItems:!0,taskLabel:this.label,hierarchyEntityLongId:this.hierarchyEntityLongId}),this.associatedDataChanges.length)this._doAssociatedDataChanges(b).then(h.hitch(this,function(){this.onComplete(b)}),h.hitch(this,function(a){this._mainView.set("disabled",!1);this.onError(a.isKnownError?
a.errorMessage:a)}));else this.onComplete(b)}catch(d){this._mainView.set("disabled",!1),this.onError(d)}else this._mainView.set("disabled",!1),this.onError("Invalid response")}),h.hitch(this,function(a){this._mainView.set("disabled",!1);this.onError(a.isKnownError?a.errorMessage:a)})));else this.onError(g.errorInvalidSelection);else this.onError("InvalidStateException")}})})},"anaplan/view/SimpleSort":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/layout/StackContainer anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper anaplan/widgets/Button anaplan/widgets/Dialog2 dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/CheckBox dijit/form/RadioButton dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/i18n!anaplan/nls/sort dojo/i18n!anaplan/nls/totalgrouping dojo/on dojo/text!anaplan/templates/SimpleSort.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){return u([k,g.ContentMixin,a,d],{baseClass:"simplesort",tabIndex:-1,templateString:E,constructor:function(a){this._selection=a.selection;this._setTitle=a.setTitle;this._selectedRow=a.selectedRow;this._selectedColumn=a.selectedColumn;this._gridController=a.gridController},postCreate:function(){this.inherited(arguments);this._populate()},startup:function(){this.loadFromSortDefinition(this._existingSortDefinition);this._isVersions&&(this._groupAtStartButton.set("disabled",
!0),this._groupBeforeButton.set("disabled",!0),this._groupAfterButton.set("disabled",!0),this._groupAtEndButton.set("disabled",!0),this._leaf.set("checked",!0),this._summary.set("checked",!1),this._leaf.set("disabled",!0),this._summary.set("disabled",!0))},onCancel:function(){},onApplySort:function(){},_createSectionHeading:function(a){var b=w.create("span",{"class":"form-group-heading"});w.create("span",{"class":"form-group-heading-label",innerHTML:a},b);w.create("span",{"class":"form-group-heading-fill"},
b);return b},_populate:function(){var a=this._gridController.getPageInfo();(this._rowSel=this._selection?this._selection.isWholeRowSelected():!1)?this._setTitle(x.titleSortColumns):this._setTitle(x.titleSortRows);this._targetAxisSpecification=this._rowSel?a.columnAxisSpecification:a.rowAxisSpecification;this._sortByAxisSpecification=this._rowSel?a.rowAxisSpecification:a.columnAxisSpecification;this._isNestedAxis(this._targetAxisSpecification)&&h.showInfoDialog("Sorting an axis with nested dimensions is not supported.",
{title:"Cannot sort a nested axis"}).then(z.hitch(this,function(){h.throwClientException(this,"Can't sort a nested view")}));this._hasBlankTargetAxis()&&h.showInfoDialog("Cannot apply a sort to an axis with no dimensions.",{title:"Cannot sort an empty axis"}).then(z.hitch(this,function(){h.throwClientException(this,"Can't sort an empty axis")}));this._modelInfo=p.getModelInfo();this._hierarchies=this._resolveHierarchy(this._modelInfo,this._targetAxisSpecification);this._hierarchies||(this._simpleHierarchy=
!0);this._existingSortDefinition=null==this._targetAxisSpecification.axisDefinition?null:this._targetAxisSpecification.axisDefinition.sortDefinition;this._dimensionIdentifiers=q.getAllDimensionIdentifiersForAxisSpecification(this._sortByAxisSpecification);this._dimensionLabels=[];for(a=0;a<this._dimensionIdentifiers.length;a++){var b=q.getLabelForDimensionIdentifier(p,this._dimensionIdentifiers[a]);this._dimensionLabels.push(b)}a=this._rowSel?this._selectedRow.labels:this._selectedColumn.labels;a=
!this._dimensionLabels||!a||!this._dimensionLabels[0]||!a[0]?this._rowSel?x.axisRows:x.axisColumns:this._dimensionLabels.toString().replace(",",", ")+" - "+a.toString().replace(",",", ");b="levelsSection";this._simpleHierarchy&&(b+=" composite");this._sections=w.create("div",{"class":"sections"},this.domNode);this._leftSection=w.create("div",{"class":"leftSection"},this._sections);this._rightSection=w.create("div",{"class":"rightSection"},this._sections);this._sortBy=w.create("div",{"class":"sortBySection"},
this._leftSection);this._order=w.create("div",{"class":"orderSection"},this._leftSection);this._levels=w.create("div",{"class":b},this._leftSection);this._totals=w.create("div",{"class":"totalsSection"},this._rightSection);this._totalsHidden=w.create("div",{"class":"totalsHiddenSection"},this._totals);this._enable=w.create("div",{"class":"enableSection"},this._rightSection);this._buttons=w.create("div",{"class":"buttons"},this.domNode);w.place(this._createSectionHeading(x.sectionOrder),this._order);
w.place(this._createSectionHeading(x.sectionLevels),this._levels);w.place(this._createSectionHeading(x.sectionTotals),this._totals);w.place(this._createSectionHeading(""),this._enable);this._appendLabel("sortByLabel",document.createTextNode(x.sectionSortBy),this._sortBy,"headerLabel");this._sortByLabel=this._appendLabel("sortByLabelSection",document.createTextNode(a),this._sortBy,"sortByLabelSection");this._existingSortDefinition&&this._existingSortDefinition.sortRules&&0<this._existingSortDefinition.sortRules.length?
(this._lineItemOrModuleIdentifier=this._existingSortDefinition.sortRules[0].lineItemIdentifier?this._existingSortDefinition.sortRules[0].lineItemIdentifier:this._existingSortDefinition.sortRules[0].moduleIdentifier,this._lineItemOrModuleEntityLongId=m.entityLongIdIdentifierToEntityLongId(this._lineItemOrModuleIdentifier)):(this._lineItemOrModuleEntityLongId=this._getLineItemOrModuleEntityLongId(this._targetAxisSpecification),this._lineItemOrModuleIdentifier=m.entityLongIdToEntityLongIdIdentifier(this._lineItemOrModuleEntityLongId));
q.axisSpecificationContainsLineItems(this._targetAxisSpecification)||(a=this._getModuleInfo(),this._lineItemInfo=q.getLineItemInfoFromModuleInfo(a,this._lineItemOrModuleEntityLongId),this._lineItemDataType=this._lineItemInfo.format.dataType);var b=x.radioAscendingNeutral,d=x.radioDescendingNeutral;this._lineItemDataType&&(a=this._lineItemDataType,"NUMBER"===a||"DATE"===a||"TIME_ENTITY"===a?(b=x.radioAscendingNumber,d=x.radioDescendingNumber):"TEXT"===a||"ENTITY"===a||"SUMMARY"===a||"LIST"===a?(b=
x.radioAscendingText,d=x.radioDescendingText):"BOOLEAN"===a&&(b=x.radioAscendingBool,d=x.radioDescendingBool));a=w.create("div",{"class":"radioDiv"},this._order);this._asc=this._appendRadioButton("radioAscending","order",document.createTextNode(b),a);this.own(D(this._asc,"Click",z.hitch(this,"_update")));a=w.create("div",{"class":"radioDiv"},this._order);this._desc=this._appendRadioButton("radioDescending","order",document.createTextNode(d),a);this.own(D(this._desc,"Click",z.hitch(this,"_update")));
if(this._simpleHierarchy){if((a=this._targetAxisSpecification.axisDefinition)&&a.type)for(;a.type&&a.type==l.AXIS_DEFINITION_TYPE_SELECTION;)a=a.baseAxis;b=q.getLabelForDimensionIdentifier(p,a?a.dimensionIdentifier:this._targetAxisSpecification.axisDefinitionIdentifier);a=w.create("div",{"class":"checkBoxDiv composite"},this._levels);this._summary=this._appendCheckBox("checkBoxSummary","Totals",document.createTextNode(b+" ("+x.checkBoxSummary+")"),a);this.own(D(this._summary,"Click",z.hitch(this,
"_update")));a=w.create("div",{"class":"checkBoxDiv composite"},this._levels);this._leaf=this._appendCheckBox("checkBoxLeaf","Details",document.createTextNode(b+" ("+x.checkBoxLeaf+")"),a);this.own(D(this._leaf,"Click",z.hitch(this,"_update")))}else{this._levelsBoxes=[];a=w.create("div",{"class":"checkBoxDiv composite"},this._levels);for(b=0;b<this._hierarchies.labels.length;b++)d="checkBoxHierarchy"+b.toString(),d=this._appendCheckBox(d,d,document.createTextNode(this._hierarchies.labels[b]),a),this._levelsBoxes.push(d),
this.own(D(this._levelsBoxes[b],"Click",z.hitch(this,"_update"))),b!=this._hierarchies.labels.length-1&&(a=w.create("div",{"class":"checkBoxDiv composite"},a))}this._totalsBefore=this._appendRadioButton("radioTotalsBefore","totals",null,this._totalsHidden);this._totalsAfter=this._appendRadioButton("radioTotalsAfter","totals",null,this._totalsHidden);this._groupBefore=this._appendRadioButton("radioGroupBefore","totals",null,this._totalsHidden);this._groupAfter=this._appendRadioButton("radioGroupAfter",
"totals",null,this._totalsHidden);this.own(D(this._totalsBefore,"click",z.hitch(this,"_update")),D(this._totalsAfter,"click",z.hitch(this,"_update")),D(this._groupBefore,"click",z.hitch(this,"_update")),D(this._groupAfter,"click",z.hitch(this,"_update")));a=w.create("div",{"class":"iconButtonDiv"},this._totals);this._groupAtStartButton=this._createIconButton("groupAtStart",this,"sortGroupingsTotalsBeforeSelected","sortGroupingsTotalsBeforeDeselected",this._totalsBefore,a);a.appendChild(this._groupAtStartButton.domNode);
this._appendLabel("groupAtStart",document.createTextNode(A.groupingTotalsBefore),a,"labelIconButton");a=w.create("div",{"class":"iconButtonDiv"},this._totals);this._groupBeforeButton=this._createIconButton("groupBefore",this,"sortGroupingsGroupBeforeSelected","sortGroupingsGroupBeforeDeselected",this._groupBefore,a);a.appendChild(this._groupBeforeButton.domNode);this._appendLabel("groupBefore",document.createTextNode(A.groupingGroupBefore),a,"labelIconButton");a=w.create("div",{"class":"iconButtonDiv"},
this._totals);this._groupAfterButton=this._createIconButton("groupAfter",this,"sortGroupingsGroupAfterSelected","sortGroupingsGroupAfterDeselected",this._groupAfter,a);a.appendChild(this._groupAfterButton.domNode);this._appendLabel("groupAfter",document.createTextNode(A.groupingGroupAfter),a,"labelIconButton");a=w.create("div",{"class":"iconButtonDiv"},this._totals);this._groupAtEndButton=this._createIconButton("groupAtEnd",this,"sortGroupingsTotalsAfterSelected","sortGroupingsTotalsAfterDeselected",
this._totalsAfter,a);a.appendChild(this._groupAtEndButton.domNode);this._appendLabel("groupAtEnd",document.createTextNode(A.groupingTotalsAfter),a,"labelIconButton");a=w.create("div",{"class":"checkBoxDiv"},this._enable);this._enableSort=this._appendCheckBox("checkboxEnable","enable",null,a);this._appendLabel("enableLabel",document.createTextNode(x.sectionEnable),a,"headerLabel");this.own(D(this._enableSort,"Click",z.hitch(this,"_update")));this._okButton=new e({label:x.buttonOk,"class":"okButton primary-button"});
this._cancelButton=new e({label:x.buttonCancel,"class":"cancelButton"});this._clearButton=new e({label:x.buttonClear,"class":"clearButton"});this._buttons.appendChild(this._okButton.domNode);this._buttons.appendChild(this._cancelButton.domNode);this._buttons.appendChild(this._clearButton.domNode);this._okButton.parent=this;this.own(D(this._okButton,"Click",z.hitch(this,"_onOkPress")));this.own(D(this._cancelButton,"Click",z.hitch(this,"onCancel")));this.own(D(this._clearButton,"Click",z.hitch(this,
"_clearPressed")));this._isVersions=q.axisSpecificationContainsVersion(this._targetAxisSpecification)},_hasBlankTargetAxis:function(){return this._rowSel?!this._selectedColumn?!0:-1==this._selectedColumn.entityLongIds[0]:!this._selectedRow?!0:-1==this._selectedRow.entityLongIds[0]},_resolveHierarchy:function(a,b){if(!a||!b)return null;var d=q.getAllDimensionIdentifiersForAxisSpecification(b);(!d||1!=d.length)&&h.throwClientException(this,"Expected single dimension, got "+d);var d=m.entityLongIdIdentifierToEntityLongId(d[0]),
e=this._getListInfo(a,d);if(!e||-1==e.parentId)return null;d=[];d.push(e);do e=this._getListInfo(a,e.parentId),d.push(e);while(e&&-1!=e.parentId);d=d.reverse();e={identifiers:[],labels:[]};e.identifiers.push("TOTALS");e.labels.push(d[0].label+" ("+x.checkBoxSummary+")");e.identifiers.push("LEAF");e.labels.push(d[0].label+" ("+x.checkBoxLeaf+")");for(var g=1;g<d.length;g++)e.identifiers.push(m.entityLongIdToEntityLongIdIdentifier(d[g].entityLongId)),e.labels.push(d[g].label);return e},_getListInfo:function(a,
b){for(var d=a.hierarchiesInfo,e=a.hierarchySubsetsInfo,g=a.lineItemSubsetsInfo,h=0;h<d.hierarchyInfos.length;h++){var f=d.hierarchyInfos[h];if(f.entityLongId==b)return g=d.hierarchiesLabelPage.labels[0][h],{entityLongId:b,label:g,parentId:f.parentHierarchyEntityLongId}}for(d=0;d<e.hierarchySubsetInfos.length;d++)if(f=e.hierarchySubsetInfos[d],f.entityLongId==b)return g=e.hierarchySubsetsLabelPage.labels[0][d],{entityLongId:b,label:g,parentId:f.parentHierarchyEntityLongId};for(e=0;e<g.lineItemSubsetInfos.length;e++)if(g.lineItemSubsetInfos[e].entityLongId==
b)return g=g.lineItemSubsetsLabelPage.labels[0][e],{entityLongId:b,label:g,parentId:-1};return null},loadFromSortDefinition:function(a){var b;if(a){b=this._getValidDimensionIdentifiers(this._gridController.getPageInfo(),this._lineItemInfo,this._targetAxisSpecification);var d=null,e=a.sortRuleInfos?a.sortRuleInfos[0].contextLabelPage:null;if(e&&e.entityLongIds&&e.labels&&0<e.entityLongIds[0].length){for(var d=e.entityLongIds[0].slice(),e=e.labels[0],g=0;g<d.length;g++)d[g]=m.entityLongIdToEntityLongIdIdentifier(d[g]);
for(var g=[],h=0;h<d.length;h++){for(var f=!1,r=0;r<b.length;r++)d[h]==b[r]&&(f=!0);f||g.push(e[h])}d=this._dimensionLabels.toString().replace(",",", ")+" - "+g.toString().replace(",",", ")}null==d&&(d=null,d=this._rowSel?this._selectedRow:this._selectedColumn,d=!d||!d.entityLongIds||-1==d.entityLongIds[0]?this._rowSel?x.axisRows:x.axisColumns:a.sortRuleInfos[0].lineItemLabelPage&&a.sortRuleInfos[0].lineItemLabelPage.labels?x.itemLineItems+" - "+a.sortRuleInfos[0].lineItemLabelPage.labels[0][0]:x.itemLineItem);
e=a.isActive;b=a.hierarchyTotals;g=a.sortRules[0].direction;(a=a.levels)||(a=[]);"ASCENDING"==g?this._asc.set("checked",!0):this._desc.set("checked",!0);if(this._simpleHierarchy){h=g=!1;for(f=0;f<a.length;f++)"LEAF"==a[f]&&(g=!0),"TOTALS"==a[f]&&(h=!0);g&&this._leaf.set("checked",!0);h&&this._summary.set("checked",!0)}else for(g=0;g<a.length;g++){h=a[g];for(f=0;f<this._hierarchies.labels.length;f++)h==this._hierarchies.identifiers[f]&&this._levelsBoxes[f].set("checked",!0)}e?this._enableSort.set("checked",
!0):this._enableSort.set("checked",!1);this._sortByLabel.innerHTML=d}else{this._asc.set("checked",!0);if(this._simpleHierarchy)this._summary.set("checked",!0),this._leaf.set("checked",!0);else for(a=0;a<this._levelsBoxes.length;a++)this._levelsBoxes[a].set("checked",!0);this._isVersions||(b=l.TOTALS_POSITION_GROUP_DEFAULT);this._enableSort.set("checked",!0)}b==l.TOTALS_POSITION_GROUP_START?this._totalsBefore.set("checked",!0):b==l.TOTALS_POSITION_GROUP_BEFORE?this._groupBefore.set("checked",!0):b==
l.TOTALS_POSITION_GROUP_AFTER?this._groupAfter.set("checked",!0):b==l.TOTALS_POSITION_GROUP_END&&this._totalsAfter.set("checked",!0);this.manageTotals()},_onOkPress:function(){var a=null;this._totalsBefore.checked&&(a=l.TOTALS_POSITION_GROUP_START);this._totalsAfter.checked&&(a=l.TOTALS_POSITION_GROUP_END);this._groupBefore.checked&&(a=l.TOTALS_POSITION_GROUP_BEFORE);this._groupAfter.checked&&(a=l.TOTALS_POSITION_GROUP_AFTER);var b="NA";this._asc.checked&&(b="ASCENDING");this._desc.checked&&(b="DESCENDING");
var d=[];if(this._simpleHierarchy){if(this._summary.checked||this._leaf.checked)this._summary.checked&&d.push("TOTALS"),this._leaf.checked&&d.push("LEAF")}else for(var e=0;e<this._hierarchies.labels.length;e++)this._levelsBoxes[e].checked&&d.push(this._hierarchies.identifiers[e]);var g="NA",g=this._enableSort.checked?!0:!1,h=null,f=null,e=this._rowSel?this._selectedRow.entityLongIds:this._selectedColumn.entityLongIds,r=this._getValidDimensionIdentifiers(this._gridController.getPageInfo(),this._lineItemInfo,
this._targetAxisSpecification),t=q.getAllDimensionIdentifiersForAxisSpecification(this._sortByAxisSpecification);if(!e||1>e.length)e=t;for(var k=m.entityLongIdsToEntityLongIdIdentifiers(e),e=0;e<r.length;e++)for(var n=r[e],u=0;u<t.length;u++)n==t[u]&&(r[e]=k[u]);this._isModuleEntityLongId(this._lineItemOrModuleEntityLongId)?h=this._lineItemOrModuleIdentifier:f=this._lineItemOrModuleIdentifier;a={isActive:g,locale:v.locale,hierarchyTotals:a,sortRules:[{direction:b,moduleIdentifier:h,lineItemIdentifier:f,
propertyIdentifier:null,contextIdentifiers:r}],levels:d,levelRules:null};b=this._gridController.getViewDefinition();this._targetAxisSpecification.axisDefinition||q.convertAxisSpecificationToUseAxisDefinition(this._targetAxisSpecification);this._targetAxisSpecification.axisDefinition.sortDefinition=a;this._rowSel?b.columnAxisSpecification=this._targetAxisSpecification:b.rowAxisSpecification=this._targetAxisSpecification;this._gridController.setViewDefinition(b);s.gather();this.onApplySort()},_isNestedAxis:function(a){return(a=
q.getAllDimensionIdentifiersForAxisSpecification(a))&&1<a.length},_preloadLists:function(a,b){try{var d=q.getAllDimensionIdentifiersForPageInfo(this._gridController.getPageInfo()),e=[];t.forEach(a,function(a){t.some(d,function(b){return a===b})||e.push(a)},this);this._gridController.getLabelPages(e,z.hitch(this,function(a){this.domNode&&b&&b(a)}))}catch(g){throw new f.ClientException("Filter._Condition._preloadLists",g);}},_getContextIdentifiers:function(a,b){for(var d=this._gridController.getPageInfo(),
e=[],g=0,h=a.length;g<h;g++){var f=a[g];if(b[f])b[f].count&&e.push(b[f].entityLongIds[0][0]);else if(q.axisSpecificationContains(d.rowAxisSpecification,f))this._selectedRow.entityLongIds.length&&e.push(this._selectedRow.entityLongIds[0]);else if(q.axisSpecificationContains(d.columnAxisSpecification,f))this._selectedColumn.entityLongIds.length&&e.push(this._selectedColumn.entityLongIds[0]);else for(var r=d.pageAxisSpecifications,t=r.length,k=0;k<t;k++)if(q.axisSpecificationContains(r[k],f)){e.push(q.getCurrentPageEntityLongId(d,
k,0));break}}return m.entityLongIdsToEntityLongIdIdentifiers(e)},_getContextLabels:function(a,b){for(var d=this._gridController.getPageInfo(),e=[],g=0;g<a.length;g++){var h=a[g];if(b[h])b[h].count&&e.push(b[h].labels[0][0]);else{var f=t.indexOf(q.getAllDimensionIdentifiersForAxisSpecification(d.rowAxisSpecification),h);if(-1<f)this._selectedRow.labels.length&&e.push(this._selectedRow.labels[f]);else if(f=t.indexOf(q.getAllDimensionIdentifiersForAxisSpecification(d.columnAxisSpecification),h),-1<f)this._selectedColumn.labels.length&&
e.push(this._selectedColumn.labels[f]);else for(var f=d.pageAxisSpecifications,r=f.length,k=0;k<r;k++)if(q.axisSpecificationContains(f[k],h)){e.push(q.getCurrentPageLabel(d,k,0));break}}}return e},_clearPressed:function(){var a=this._gridController.getViewDefinition();this._rowSel?a&&(a.columnAxisSpecification&&a.columnAxisSpecification.axisDefinition)&&(a.columnAxisSpecification.axisDefinition.sortDefinition=null):a&&(a.rowAxisSpecification&&a.rowAxisSpecification.axisDefinition)&&(a.rowAxisSpecification.axisDefinition.sortDefinition=
null);this._gridController.setViewDefinition(a);s.gather();this.onCancel()},_createIconButton:function(a,b,d,g,h,f){d="sortGroupings "+d;g="sortGroupings "+g;a=new e({id:a,iconClass:g.toString(),showLabel:!1,onClick:function(){b._manageTotalPresses(this)}});a.parent=b;a.IsSelected=d;a.deselected=g;a.radio=h;a.surrounding=f;return a},_manageTotalPresses:function(a){a.radio.checked||a.radio.set("checked",!a.radio.checked);this._update()},manageTotals:function(){for(var a=[this._groupAtStartButton,this._groupBeforeButton,
this._groupAfterButton,this._groupAtEndButton],b=0;b<a.length;b++)a[b].radio.checked?(a[b].set("iconClass",a[b].IsSelected),y.add(a[b].surrounding,"selected")):(a[b].set("iconClass",a[b].deselected),y.remove(a[b].surrounding,"selected"))},_onKeyDown:function(){},_onKeyPress:function(){},_update:function(){this.manageTotals();var a=this._hasLevelsSelected();this._okButton.set("disabled",!a)},_hasLevelsSelected:function(){if(this._summary&&this._leaf)return this._summary.checked||this._leaf.checked;
if(this._levelsBoxes&&0<this._levelsBoxes.length)for(var a=0;a<this._levelsBoxes.length;a++)if(this._levelsBoxes[a].checked)return!0;return!1},_appendRadioButton:function(a,d,e,g){d=new b({id:a,name:d});w.place(d.domNode,g);e&&this._appendLabel(a,e,g,"radioLabel");return d},_appendCheckBox:function(a,b,d,e){b=new r({id:a,name:b});w.place(b.domNode,e);d&&this._appendLabel(a,d,e,"checkBoxLabel");return b},_appendLabel:function(a,b,d,e){var g="dijitInline";e&&(g+=" "+e);a=w.create("label",{"for":a,"class":g},
d);w.place(b,a);return a},_getModuleInfo:function(){if(null==this._moduleInfo){var a=this._gridController.getModuleEntityLongId();this._moduleInfo=p.getModuleInfo(a)}return this._moduleInfo},_getValidDimensionIdentifiers:function(a,b,d){a=[];b=b?b.fullAppliesTo:this._getModuleInfo().fullAppliesTo;b=m.entityLongIdsToEntityLongIdIdentifiers(b);for(var e=b.length,g,h=0;h<e;h++)g=b[h],this._isValidDimension(g,d)&&a.push(g);return a},_isModuleEntityLongId:function(a){return!a?!1:m.getEntityTypeIndex(a)===
l.MODULE_ENTITY_TYPE_INDEX},_isModuleIdentifier:function(a){if(!a)return!1;a=m.entityLongIdIdentifierToEntityLongId(a);return!a?!1:this._isModuleEntityLongId(a)},_isValidDimension:function(a,b){if(!a||q.axisSpecificationContains(b,a)||n.isEmptySystemAxisIdentifier(a)||n.isLineItemsSystemAxisIdentifier(a))return!1;if(q.axisSpecificationContainsLineItems(b)){var d=m.entityLongIdIdentifierToEntityLongId(a);if(m.getEntityTypeIndex(d)===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)return!1}return!0},_getLineItemOrModuleEntityLongId:function(a){if(!this._lineItemOrModuleEntityLongId)if(q.axisSpecificationContainsLineItems(a))this._lineItemOrModuleEntityLongId=
this._gridController.getModuleEntityLongId();else{a=this._gridController.getPageInfo();var b=-1;q.axisSpecificationContainsLineItems(a.rowAxisSpecification)?(b=q.getLineItemsNestingIndexForAxisSpecification(a.rowAxisSpecification),this._lineItemOrModuleEntityLongId=this._selectedRow.entityLongIds[b]):q.axisSpecificationContainsLineItems(a.columnAxisSpecification)?(b=q.getLineItemsNestingIndexForAxisSpecification(a.columnAxisSpecification),this._lineItemOrModuleEntityLongId=this._selectedColumn.entityLongIds[b]):
this._lineItemOrModuleEntityLongId=q.getLineItemEntityLongIdForPageInfo(a)}return this._lineItemOrModuleEntityLongId}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){function u(){this._popupWrapper&&(k.destroy(this._popupWrapper),delete this._popupWrapper)}
p=p(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=n.position(this._firstAroundNode,!0),d=b.x-a.x,a=b.y-a.y;if(d||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var e=this._stack[b].wrapper.style;e.top=parseFloat(e.top)+a+"px";"auto"==e.right?e.left=parseFloat(e.left)+d+"px":e.right=parseFloat(e.right)-d+"px"}}this._aroundMoveListener=setTimeout(g.hitch(this,"_repositionAll"),d||a?10:50)}},_createWrapper:function(a){var b=
a._popupWrapper,e=a.domNode;b||(b=k.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(e),e=e.style,e.display="",e.visibility="",e.position="",e.top="0px",a._popupWrapper=b,s.after(a,"destroy",u,!0),"ontouchend"in document&&d(b,"touchend",function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=
n.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";m.set(b,d);return b},hide:function(a){var b=this._createWrapper(a);m.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(t){for(var k=this._stack,u=t.popup,
l=u.domNode,x=t.orient||["below","below-alt","above","above-alt"],p=t.parent?t.parent.isLeftToRight():n.isBodyLtr(u.ownerDocument),s=t.around,E=t.around&&t.around.id?t.around.id+"_dropdown":"popup_"+this._idGen++;k.length&&(!t.parent||!q.isDescendant(t.parent.domNode,k[k.length-1].widget.domNode));)this.close(k[k.length-1].widget);var B=this.moveOffScreen(u);u.startup&&!u._started&&u.startup();var C,G=n.position(l);if("maxHeight"in t&&-1!=t.maxHeight)C=t.maxHeight||Infinity;else{C=b.getEffectiveBox(this.ownerDocument);
var H=s?n.position(s,!1):{y:t.y-(t.padding||0),h:2*(t.padding||0)};C=Math.floor(Math.max(H.y,C.h-(H.y+H.h)))}G.h>C&&(G=m.getComputedStyle(l),m.set(B,{overflowY:"scroll",height:C+"px",border:G.borderLeftWidth+" "+G.borderLeftStyle+" "+G.borderLeftColor}),l._originalStyle=l.style.cssText,l.style.border="none");f.set(B,{id:E,style:{zIndex:this._beginZIndex+k.length},"class":"dijitPopup "+(u.baseClass||u["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:t.parent?t.parent.id:""});0==k.length&&s&&(this._firstAroundNode=
s,this._firstAroundPosition=n.position(s,!0),this._aroundMoveListener=setTimeout(g.hitch(this,"_repositionAll"),50));h("config-bgIframe")&&!u.bgIframe&&(u.bgIframe=new r(B));E=u.orient?g.hitch(u,"orient"):null;x=s?a.around(B,s,x,p,E):a.at(B,t,"R"==x?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],t.padding,E);B.style.visibility="visible";l.style.visibility="visible";l=[];l.push(d(B,"keydown",g.hitch(this,function(a){if(a.keyCode==e.ESCAPE&&t.onCancel)a.stopPropagation(),a.preventDefault(),t.onCancel();
else if(a.keyCode==e.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));u.onCancel&&t.onCancel&&l.push(u.on("cancel",t.onCancel));l.push(u.on(u.onExecute?"execute":"change",g.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));k.push({widget:u,wrapper:B,parent:t.parent,onExecute:t.onExecute,onCancel:t.onCancel,onClose:t.onClose,handlers:l});if(u.onOpen)u.onOpen(x);return x},close:function(a){for(var b=this._stack;a&&l.some(b,
function(b){return b.widget==a})||!a&&b.length;){var d=b.pop(),e=d.widget,g=d.onClose;e.bgIframe&&(e.bgIframe.destroy(),delete e.bgIframe);if(e.onClose)e.onClose();for(var h;h=d.handlers.pop();)h.remove();e&&e.domNode&&this.hide(e);g&&g()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return t.popup=new p})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../registry ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),
function(l,s,p,q,f,k,n,m,h){return l("dijit.layout._TabContainerBase",[f,m],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:h,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&q.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
s.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(s.add(this.domNode,"dijitTabContainerNested"),s.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),s.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),s.add(this.containerNode,"dijitTabPaneWrapperNested")):s.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(e){s.add(e.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var e=this.selectedChildWidget;if(this.doLayout){var g=this.tabPosition.replace(/-h/,"");this.tablist.region=g;g=[this.tablist,{domNode:this.tablistSpacer,region:g},{domNode:this.containerNode,region:"center"}];k.layoutChildren(this.domNode,this._contentBox,g);this._containerContentBox=k.marginBox2contentBox(this.containerNode,g[2]);e&&e.resize&&e.resize(this._containerContentBox)}else{if(this.tablist.resize){g=this.tablist.domNode.style;
g.width="0";var d=p.getContentBox(this.domNode).w;g.width="";this.tablist.resize({w:d})}e&&e.resize&&e.resize()}}},destroy:function(e){this.tablist&&this.tablist.destroy(e);this.inherited(arguments)},selectChild:function(e,g){this._focused&&(e=n.byId(e),this.tablist.pane2button(e.id).focus());return this.inherited(arguments)}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L){var F=new f;F.resolve(!0);w=q("dijit._DialogBase"+(t("dojo-bidi")?"_NoBidi":""),[A,E,B,D],{templateString:L,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var b=g.getLocalization("dijit","common");a.mixin(this,b);this.inherited(arguments)},postCreate:function(){h.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);p.after(this,"onExecute",a.hitch(this,"hide"),!0);p.after(this,"onCancel",a.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&J.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();y.focus(this._firstFocusItem)},_endDrag:function(){var a=m.position(this.domNode),b=u.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var b=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==t("ie")?z:
v)(b,{handle:this.titleBar}),p.after(this._moveable,"onMoveStop",a.hitch(this,"_endDrag"),!0)):n.add(b,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":s.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:a.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!n.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=u.getBox(this.ownerDocument),d=this._relativePosition,e=d?null:
m.position(a);h.set(a,{left:Math.floor(b.l+(d?d.x:(b.w-e.w)/2))+"px",top:Math.floor(b.t+(d?d.y:(b.h-e.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==d.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(y.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(y.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==d.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return F.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),J.hide(this));var b=u.get(this.ownerDocument);this._modalconnects.push(r(b,"scroll",a.hitch(this,"resize",null)));this._modalconnects.push(r(this.domNode,"keydown",a.hitch(this,"_onKey")));h.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var d;this._fadeInDeferred=new f(a.hitch(this,function(){d.stop();delete this._fadeInDeferred}));b=this._fadeInDeferred.promise;d=e.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:a.hitch(this,function(){J.show(this,this.underlayAttrs)}),onEnd:a.hitch(this,function(){this.autofocus&&J.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
return b},hide:function(){if(!this._alreadyInitialized||!this.open)return F.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new f(a.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(a.hitch(this,"onHide"));var d=this._fadeOutDeferred.promise;b=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,function(){this.domNode.style.display="none";J.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var g;g=this._modalconnects.pop();)g.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return d},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),s.forEach([this.domNode,this.containerNode,
this.titleBar,this.actionBarNode],function(a){a&&h.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=u.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var d=m.position(this.domNode);d.w>=b.w||d.h>=b.h?(a={w:Math.min(d.w,b.w),h:Math.min(d.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(a){m.setMarginBox(this.domNode,a);b=[];this.titleBar&&b.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&b.push({domNode:this.actionBarNode,
region:"bottom"});d={domNode:this.containerNode,region:"center"};b.push(d);var e=H.marginBox2contentBox(this.domNode,a);H.layoutChildren(this.domNode,e,b);this._singleChild?(b=H.marginBox2contentBox(this.containerNode,d),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!t("touch")&&!a&&this._position()}},_layoutChildren:function(){s.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();J.hide(this);this.inherited(arguments)}});t("dojo-bidi")&&(w=q("dijit._DialogBase",w,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var K=q("dijit.Dialog",
[G,w],{});K._DialogBase=w;var J=K._DialogLevelManager={_beginZIndex:950,show:function(a,b){M[M.length-1].focus=y.curNode;var d=M[M.length-1].dialog?M[M.length-1].zIndex+2:K._DialogLevelManager._beginZIndex;h.set(a.domNode,"zIndex",d);C.show(b,d-1);M.push({dialog:a,underlayAttrs:b,zIndex:d})},hide:function(a){if(M[M.length-1].dialog==a){M.pop();var b=M[M.length-1];1==M.length?C.hide():C.show(b.underlayAttrs,b.zIndex-1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!k.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(),
a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(d){}}}else b=s.indexOf(s.map(M,function(a){return a.dialog}),a),-1!=b&&M.splice(b,1)},isTop:function(a){return M[M.length-1].dialog==a}},M=K._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];y.watch("curNode",function(a,b,d){a=M[M.length-1].dialog;if(d&&a&&!a._fadeOutDeferred&&d.ownerDocument==a.ownerDocument){do if(d==a.domNode||n.contains(d,"dijitPopup"))return;while(d=d.parentNode);a.focus()}});t("dijit-legacy-requires")&&b(0,function(){l(["dijit/TooltipDialog"])});
return K})},"dojo/aspect":function(){define([],function(){function l(f,h,e,g){var d=f[h],a="around"==h,r;if(a){var b=e(function(){return d.advice(this,arguments)});r={remove:function(){b&&(b=f=e=null)},advice:function(a,e){return b?b.apply(a,e):d.advice(a,e)}}}else r={remove:function(){if(r.advice){var a=r.previous,b=r.next;!b&&!a?delete f[h]:(a?a.next=b:f[h]=b,b&&(b.previous=a));f=e=r.advice=null}},id:q++,advice:e,receiveArguments:g};if(d&&!a)if("after"==h){for(;d.next&&(d=d.next););d.next=r;r.previous=
d}else"before"==h&&(f[h]=r,r.next=d,d.previous=r);else f[h]=r;return r}function s(f){return function(h,e,g,d){var a=h[e],r;if(!a||a.target!=h)h[e]=r=function(){for(var a=q,d=arguments,e=r.before;e;)d=e.advice.apply(this,d)||d,e=e.next;if(r.around)var g=r.around.advice(this,d);for(e=r.after;e&&e.id<a;){if(e.receiveArguments)var h=e.advice.apply(this,d),g=h===p?g:h;else g=e.advice.call(this,g,d);e=e.next}return g},a&&(r.around={advice:function(b,d){return a.apply(b,d)}}),r.target=h;h=l(r||a,f,g,d);
g=null;return h}}var p,q=0,f=s("after"),k=s("before"),n=s("around");return{before:k,around:n,after:f}})},"anaplan/dashboard/_buttonmixin":function(){define("anaplan/utils/GridletHelper anaplan/data/Aggregator anaplan/constants anaplan/dashboard/dashboardWidgets/_PageSelector anaplan/data/ModelContentHelper anaplan/utils/topics anaplan/utils/EntityLongIdHelper anaplan/utils/SelectionHelper anaplan/widgets/Button anaplan/data/ContextCache anaplan/data/ModelContentCache dijit/form/RadioButton dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/i18n!anaplan/snav/nls/global dojo/i18n!dijit/nls/common dojo/on dijit/Dialog".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return r("anaplan.dashboard._buttonmixin",[],{_lastWidgetWithFocus:null,_axisSpecificationContainsAnyOf:function(b,d){var e=f.getAllDimensionIdentifiersForAxisSpecification(b);return a.some(e,function(b){return-1<a.indexOf(d,b)})?!0:!1},_createActiveSelection:function(d,e){if(d&&e){var g=this._getHierarchyEntityLongIdsForTask(e),h=n.entityLongIdsToEntityLongIdIdentifiers(g),g=this._getGridControllersForHierarchyEntityLongIdIdentifiers(h),r=d.entityLongIds.split(","),
t=a.map(r,function(a){return[n.entityLongIdToEntityLongIdIdentifier(a)]});a.forEach(g,b.hitch(this,function(a){var d=a.getViewDefinition(),e=a.getPageInfo();if(e.rowAxisSpecification&&this._axisSpecificationContainsAnyOf(e.rowAxisSpecification,h)){f.axisSpecificationContainsSelection(e.rowAxisSpecification)&&console.warn(this.id+" replacing existing selection or blat?");var g=f.addSelectionToAxisSpecification(e.rowAxisSpecification,p.SELECTION_RULE_MODIFIER_SHOW,t);b.mixin(d,{rowAxisSpecification:g})}e.columnAxisSpecification&&
this._axisSpecificationContainsAnyOf(e.columnAxisSpecification,h)&&(f.axisSpecificationContainsSelection(e.columnAxisSpecification)&&console.warn(this.id+" replacing existing selection or blat?"),e=f.addSelectionToAxisSpecification(e.columnAxisSpecification,p.SELECTION_RULE_MODIFIER_SHOW,t),b.mixin(d,{columnAxisSpecification:e}));a.setViewDefinition(d)}))}},_getAllChartControllers:function(){var d=[];a.forEach(this.getChildren(),function(a){a.hasOwnProperty("containedWidget")&&(a=a.containedWidget,
b.isFunction(a.getChartController)&&(a=a.getChartController(),null!==a&&d.push(a)))});return d},_getAllGridControllers:function(){var d=[],e=this._getGridControllerWithFocus();null!==e&&d.push(e);a.forEach(this.getChildren(),function(a){a.hasOwnProperty("containedWidget")&&(a=a.containedWidget,b.isFunction(a.getGridController)&&(a=a.getGridController(),a!==e&&d.push(a)))});return d},_getGridControllersForHierarchyEntityLongIdIdentifiers:function(d){return!d||!d.length?this._getAllGridControllers():
a.filter(this._getAllGridControllers(),b.hitch(this,function(a){if(a=a.getPageInfo()){if(a.rowAxisSpecification&&this._axisSpecificationContainsAnyOf(a.rowAxisSpecification,d))return!f.axisSpecificationContainsBranchSync(a.rowAxisSpecification);if(a.columnAxisSpecification&&this._axisSpecificationContainsAnyOf(a.columnAxisSpecification,d))return!f.axisSpecificationContainsBranchSync(a.columnAxisSpecification)}return!1}))},_getGridControllerWithFocus:function(){var a=null;if(this._lastWidgetWithFocus)try{if(this._lastWidgetWithFocus.hasOwnProperty("containedWidget")){var d=
this._lastWidgetWithFocus.containedWidget;b.isFunction(d.getGridController)&&(a=d.getGridController())}}catch(e){console.warn(this.id+" TODO: _getAllGridControllers failed silently",e)}return a},_getHierarchyEntityLongIdsForTask:function(a){return a.hasOwnProperty("includeInSubsetEntityLongIds")?a.includeInSubsetEntityLongIds.concat([a.hierarchyEntityLongId]):[a.hierarchyEntityLongId]},_getHierarchyLabel:function(b){var d=g.getModelInfo().hierarchiesInfo.hierarchiesLabelPage;b=a.indexOf(d.entityLongIds[0],
b);return d.labels[0][b]},_publishSelectedItems:function(d,g){var h=[],f=[];if(g){var r=this._getGridControllerWithFocus();null!==r&&f.push(r)}else f=this._getAllGridControllers();if(f.length){for(var t=n.entityLongIdIdentifierToEntityLongId(d),k,u,l,r=0;r<f.length;r++){var v=f[r];if(k=v.getPageInfo()){u=k.currentPageLabels;l=u.entityLongIds[0];var p=m.filterEntityLongIds(l,t);if(p.length){h=a.map(p,function(b){var d=a.indexOf(l,b);return{entityLongId:b,label:u.labels[0][d],canDelete:u.canDelete[0][d],
isItemEditable:u.isItemEditable[0][d]}});break}}if(p=v._gridView){var z=p._selection;if(z){var y=v.getContext();if(m.getMinimalSelection(z,y).count&&(p=z.getViews(y,!0),v[m.isOperationOnColumns(z,y)?"_forceLoadColumnLabels":"_forceLoadRowLabels"](p,!0,b.hitch(this,function(){for(var b=m.getSelection(z,y),d=0;d<b.entityLongIds.length;d++){var e=m.filterEntityLongIds(b.entityLongIds[d],t);if(e.length){h=a.map(e,function(e){var g=a.indexOf(b.entityLongIds[d],e);if(-1<g)return{entityLongId:e,canDelete:b.canDelete[d][g],
isItemEditable:b.isItemEditable[d][g],label:b.labels[d][g]}});break}}})),h.length))break}}}if(!0!==g&&!h.length){f=a.filter(this.getChildren(),function(a){try{return a&&a.hasOwnProperty("containedWidget")?a.containedWidget instanceof q:!1}catch(b){return console.error(b),!1}});for(r=0;r<f.length;r++)try{var s=f[r].containedWidget;if(s._model){k=s._model.getPageInfo();u=k.currentPageLabels;l=u.entityLongIds[0];var I=m.filterEntityLongIds(l,t);if(I.length){h=a.map(I,function(b){var d=a.indexOf(l,b);
return{entityLongId:b,label:u.labels[0][d],canDelete:u.canDelete[0][d],isItemEditable:u.isItemEditable[0][d]}});break}}}catch(O){console.error(O)}}}e.setSelectedItems(d,h)},refresh:function(){try{var d=this._getAllGridControllers(),d=d.concat(this._getAllChartControllers()),e=a.filter(d,function(b){b=b.getPageInfo();if(!b)return!1;b=l.getSortDefinitions(b).concat(l.getSortAndFilterDefinitions(b));return a.some(b,function(a){return a.isActive})});if(e.length){var g=this._suspended?null:this._getGridControllerWithFocus();
a.forEach(e,function(a){b.isFunction(a.refreshWithAttemptPreserveScrollPositionAndSelection)?a.refreshWithAttemptPreserveScrollPositionAndSelection(a==g):b.isFunction(a.refresh)&&a.refresh()});return!0}return!1}catch(h){console.error(h)}},promptToShowNewlyCreatedItems:function(e,g){var f=this._getHierarchyLabel(g.hierarchyEntityLongId),r=b.replace(u.messageSuccess,{hierarchyLabel:f}),f=t.create("div",{className:"result"});t.create("div",{innerHTML:r,className:"confirmationMessage"},f);var m=null,
r=this._getHierarchyEntityLongIdsForTask(g),r=n.entityLongIdsToEntityLongIdIdentifiers(r);if(this._getGridControllersForHierarchyEntityLongIdIdentifiers(r).length){t.create("div",{className:"confirmationMessage",innerHTML:u.labelRestrictSelection},f);var r=t.create("div",{className:"confirmationMessage"},f),r=t.create("nobr",{},r),l=t.create("input",{type:"radio",name:"show",value:"filtered"},r),m=new d({checked:!0},l);t.create("label",{innerHTML:u.labelShowRecentlyCreatedItemsOnly,"for":m.get("id")},
r);r=t.create("div",{className:"confirmationMessage"},f);r=t.create("nobr",{},r);l=t.create("input",{type:"radio",name:"show",value:"filtered"},r);l=new d({},l);t.create("label",{innerHTML:u.labelShowAllItems,"for":l.get("id")},r)}var r=t.create("div",{"class":"confirmationButtons"},f),r=t.create("input",{type:"button"},r),r=new h({label:v.buttonOk,"class":"primary-button"},r),p=new y({content:f,title:g.label}),f=p.on("keydown",function(a){(a.altKey||a.shiftKey||a.metaKey||a.ctrlKey)&&a.stopPropagation()});
p.own(f);p.show();this._popupConnections=[z(r,"click",b.hitch(this,function(){try{m&&m.get("checked")?this._createActiveSelection(e,g):k.refresh(!1),p.hide()}catch(a){console.error(a)}})),z(p,"hide",b.hitch(this,function(){try{a.forEach(this._popupConnections,function(a){a.remove()}),setTimeout(function(){p.destroyRecursive();s.gather()},100)}catch(b){console.error(b)}}))]}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){l=l("dijit.TooltipDialog",[m,g,e,h],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:d,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,"keydown",f.hitch(this,"_onKey")))},orient:function(a,b,d){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+d];s.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();
n.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
q.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==q.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(n.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(n.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});p("dojo-bidi")&&l.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return l})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(l,s,p,q,f,k,n){return l("dijit.form._SearchMixin",
null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(f){this._set("list",f)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(f){return RegExp("^"+f.replace(/(\\.)|(\*)|(\?)|\W/g,function(h,e,g,d){return g?".*":d?".":e?e:"\\"+h})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());
this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(f){if(!this.disabled&&!this.readOnly){var h=f.charOrCode;if(!("type"in f&&"key"==f.type.substring(0,3)&&(f.altKey||(f.ctrlKey||f.metaKey)&&"x"!=h&&"v"!=h||h==s.SHIFT))){this._prev_key_backspace=f=!1;switch(h){case s.DELETE:case s.BACKSPACE:f=
this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:f="string"==typeof h||229==h}if(f)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(m){this._abortQuery();var h=this,e=p.clone(this.query),g={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},d=f.substitute(this.queryExpr,[m.replace(/([\\\*\?])/g,
"\\$1")]),a,r=function(){var b=h._fetchHandle=h.store.query(e,g);!h.disabled&&!(h.readOnly||a!==h._lastQuery)&&k(b,function(d){h._fetchHandle=null;!h.disabled&&(!h.readOnly&&a===h._lastQuery)&&k(b.total,function(a){d.total=a;var b=h.pageSize;if(isNaN(b)||b>d.total)b=d.total;d.nextPage=function(a){g.direction=a=!1!==a;g.count=b;a?(g.start+=d.length,g.start>=d.total&&(g.count=0)):(g.start-=b,0>g.start&&(g.count=Math.max(b+g.start,0),g.start=0));0>=g.count?(d.length=0,h.onSearch(d,e,g)):r()};h.onSearch(d,
e,g)})},function(a){h._fetchHandle=null;h._cancelingQuery||console.error(h.declaredClass+" "+a.toString())})};p.mixin(g,this.fetchProperties);this.store._oldAPI?a=d:(a=this._patternToRegExp(d),a.toString=function(){return d});this._lastQuery=e[this.searchAttr]=a;this._queryDeferHandle=this.defer(r,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var f=this.list;f&&(this.store=n.byId(f))}this.inherited(arguments)}})})},
"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(l,s,p,q,f,k,n){function m(e,g,d,a){var h=k.getEffectiveBox(e.ownerDocument);(!e.parentNode||"body"!=String(e.parentNode.tagName).toLowerCase())&&f.body(e.ownerDocument).appendChild(e);var b=null;l.some(g,function(g){var f=g.corner,t=g.pos,k=0,m={w:{L:h.l+h.w-t.x,R:t.x-h.l,M:h.w}[f.charAt(1)],h:{T:h.t+h.h-t.y,B:t.y-h.t,M:h.h}[f.charAt(0)]},n=
e.style;n.left=n.right="auto";d&&(k=d(e,g.aroundCorner,f,m,a),k="undefined"==typeof k?0:k);var u=e.style,l=u.display,p=u.visibility;"none"==u.display&&(u.visibility="hidden",u.display="");n=s.position(e);u.display=l;u.visibility=p;l={L:t.x,R:t.x-n.w,M:Math.max(h.l,Math.min(h.l+h.w,t.x+(n.w>>1))-n.w)}[f.charAt(1)];p={T:t.y,B:t.y-n.h,M:Math.max(h.t,Math.min(h.t+h.h,t.y+(n.h>>1))-n.h)}[f.charAt(0)];t=Math.max(h.l,l);u=Math.max(h.t,p);l=Math.min(h.l+h.w,l+n.w);p=Math.min(h.t+h.h,p+n.h);l-=t;p-=u;k+=n.w-
l+(n.h-p);if(null==b||k<b.overflow)b={corner:f,aroundCorner:g.aroundCorner,x:t,y:u,w:l,h:p,overflow:k,spaceAvailable:m};return!k});b.overflow&&d&&d(e,b.aroundCorner,b.corner,b.spaceAvailable,a);g=b.y;var t=b.x,m=f.body(e.ownerDocument);/relative|absolute/.test(p.get(m,"position"))&&(g-=p.get(m,"marginTop"),t-=p.get(m,"marginLeft"));m=e.style;m.top=g+"px";m.left=t+"px";m.right="auto";return b}var h={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return n.place={at:function(e,g,d,a,f){d=l.map(d,function(b){var d=
{corner:b,aroundCorner:h[b],pos:{x:g.x,y:g.y}};a&&(d.pos.x+="L"==b.charAt(1)?a.x:-a.x,d.pos.y+="T"==b.charAt(0)?a.y:-a.y);return d});return m(e,d,f)},around:function(e,g,d,a,h){function b(a,b){B.push({aroundCorner:a,corner:b,pos:{x:{L:x,R:x+D,M:x+(D>>1)}[a.charAt(1)],y:{T:A,B:A+E,M:A+(E>>1)}[a.charAt(0)]}})}var f;if("string"==typeof g||"offsetWidth"in g||"ownerSVGElement"in g){if(f=s.position(g,!0),/^(above|below)/.test(d[0])){var k=s.getBorderExtents(g),n=g.firstChild?s.getBorderExtents(g.firstChild):
{t:0,l:0,b:0,r:0},z=s.getBorderExtents(e),y=e.firstChild?s.getBorderExtents(e.firstChild):{t:0,l:0,b:0,r:0};f.y+=Math.min(k.t+n.t,z.t+y.t);f.h-=Math.min(k.t+n.t,z.t+y.t)+Math.min(k.b+n.b,z.b+y.b)}}else f=g;if(g.parentNode){k="absolute"==p.getComputedStyle(g).position;for(g=g.parentNode;g&&1==g.nodeType&&"BODY"!=g.nodeName;){n=s.position(g,!0);z=p.getComputedStyle(g);/relative|absolute/.test(z.position)&&(k=!1);if(!k&&/hidden|auto|scroll/.test(z.overflow)){var y=Math.min(f.y+f.h,n.y+n.h),w=Math.min(f.x+
f.w,n.x+n.w);f.x=Math.max(f.x,n.x);f.y=Math.max(f.y,n.y);f.h=y-f.y;f.w=w-f.x}"absolute"==z.position&&(k=!0);g=g.parentNode}}var x=f.x,A=f.y,D="w"in f?f.w:f.w=f.width,E="h"in f?f.h:(q.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+A+", height:"+f.height+", width:"+D+" } has been deprecated.  Please use { x:"+x+", y:"+A+", h:"+f.height+", w:"+D+" }","","2.0"),f.h=f.height),B=[];l.forEach(d,function(d){var e=a;switch(d){case "above-centered":b("TM","BM");break;case "below-centered":b("BM",
"TM");break;case "after-centered":e=!e;case "before-centered":b(e?"ML":"MR",e?"MR":"ML");break;case "after":e=!e;case "before":b(e?"TL":"TR",e?"TR":"TL");b(e?"BL":"BR",e?"BR":"BL");break;case "below-alt":e=!e;case "below":b(e?"BL":"BR",e?"TL":"TR");b(e?"BR":"BL",e?"TR":"TL");break;case "above-alt":e=!e;case "above":b(e?"TL":"TR",e?"BL":"BR");b(e?"TR":"TL",e?"BR":"BL");break;default:b(d.aroundCorner,d.corner)}});e=m(e,B,h,{w:D,h:E});e.aroundNodePos=f;return e}}})},"anaplan/widgets/SearchableGridSelector":function(){define("anaplan/constants anaplan/data/InlineSearchProviders/ViewRequestModelSearchProvider anaplan/data/PagingRowLabelModel anaplan/gridlet/GridletFactory anaplan/gridlet/Themes anaplan/utils/SelectionHelper anaplan/widgets/_SearchableSelector dojo/_base/declare dojo/_base/lang dojo/aspect anaplan/gridlet/gridletHelper".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return m([n],{viewDefinition:null,startPageIndex:-1,selectedRowIndex:-1,rowLabelWidth:-1,postCreate:function(){this.inherited(arguments);var g=new p({rowsPerPage:l.TREE_LIMIT,themeId:f.getGridSelectorTheme(),viewDefinition:h.mixin(this.viewDefinition,{columnSizes:{rowLabelWidth:this.rowLabelWidth}})});this._inlineSearch.set("searchProvider",new s({model:g}));var d=(new q).createGridlet({model:g,enableMultiple:!1,enableRange:!1,enableDeselect:!1,labelsCanBeAmbiguous:!1,
readOnly:!0,themeId:f.getGridSelectorTheme(),selection:k.getWholeOfRowSelection(-1<this.selectedRowIndex?this.selectedRowIndex:Math.max(this.selectedRowIndex,0),-1<this.selectedRowIndex?this.selectedEntityLongId:-1),_cellMouseMoveHandler:function(a){a.preventDefault()}});this.own(e.after(d,"onUpdate",h.hitch(this,function(){d.focus();!0===this._inlineSearch.get("disabled")&&(this._inlineSearch.set("disabled",!1),this._inlineSearch.focus())})));this.own(d.on("select",h.hitch(this,function(a){if(a){var e=
d.getGridController().getContext();a=a.getStartRowIndex(e);e=e.model.getRow(a);if(-1<e.entityLongId)this.onSelectionChange(e)}})));this._stackContainer.selectChild(this._selectorWrapper);this._selectorWrapper.addChild(d);this._gridlet=d;this._model=g;g.initialize(this.startPageIndex,Math.max(this.selectedRowIndex,0))},focus:function(){this._stackContainer.selectedChildWidget===this._selectorWrapper?this._gridlet.focus():this.inherited(arguments)}})})},"anaplan/api/SystemActions/UndoSystemAction":function(){define("anaplan/constants dojo/_base/declare dojo/string ./Base/SystemAction anaplan/utils/JsHelper dojo/i18n!anaplan/nls/api dojo/topic anaplan/api/SystemActions/index".split(" "),
function(l,s,p,q,f,k,n,m){return s([q],{validate:function(){return!f.isObject(this._params)||!this._params.undoChangeListGuid?k.errors.invalidParams:this.inherited(arguments)},buildRequestObject:function(){return{actionId:l.SYSTEM_ACTIONS.UNDO,params:{modelId:window.modelId,undoChangeListGuid:this._params.undoChangeListGuid}}},parseResponse:function(h){return h}})})},"anaplan/utils/JsHelper":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/json"],function(l,s,p){var q={pxSizeToNumber:function(f){return Number(String(f).replace(/px$/,
""))},parseObjectProperties:function(f){if(!f||!this.isObject(f))return f;var k={},n;for(n in f){var m=f[n];try{m=p.parse(m)}catch(h){}this.isString(m)?"true"===m?k[n]=!0:"false"===m?k[n]=!1:this.isNumber(this.tryParseFloat(m))?k[n]=this.tryParseFloat(m):this.isNumber(this.tryParseInt(m))?k[n]=this.tryParseInt(m):k[n]=m:k[n]=m}return k},compact:function(f){return!f?[]:s.filter(f,l.hitch(this,function(f){return!this.isNullOrUndefined(f)}))},isEmptyObject:function(f){for(var k in f)if(f.hasOwnProperty(k))return!1;
return!0},getObjectValues:function(f){for(var k=this.getObjectKeys(f),n=k.length,m=Array(n),h=0;h<n;h++)m[h]=f[k[h]];return m},getObjectKeys:function(f){if(!f||!this.isObject(f))return[];if(Object.keys)return Object.keys(f);var k=[],n;for(n in f)this.has(f,n)&&k.push(n);return k},moveItemInArray:function(f,k,n){for(;0>k;)k+=f.length;for(;0>n;)n+=f.length;if(n>=f.length)for(var m=n-f.length;m--+1;)this.push(void 0);f.splice(n,0,f.splice(k,1)[0]);return f},checksum:function(f){this.isNullOrUndefined(f)&&
(f={});this.isObject(f)&&(f=p.stringify(f));var k=0,n=f.length,m,h;if(0===n)return k;for(m=0;m<n;m++)h=f.charCodeAt(m),k=(k<<5)-k+h,k&=k;return k},checksumEqual:function(f,k){return this.checksum(f)===this.checksum(k)},isString:function(f){return"string"===typeof f||f instanceof String},isEmptyString:function(f){return this.isString(f)&&0===f.length},isNumber:function(f){return isNaN(f)?!1:!0===(f instanceof Number||"[object Number]"===Object.prototype.toString.call(f))},isNumericString:function(f){return!this.isEmptyString(f)?
/^[\-+]?\d*\.?\d+$/.test(f):!1},isEntityLongId:function(f){return this.isNumber(f)&&8<f.toString().length},isObject:function(f){var k=typeof f;return"function"===k||"object"===k&&!!f},isArray:function(f){return f instanceof Array||"[object Array]"===Object.prototype.toString.call(f)},isFunction:function(f){return"function"!==typeof/./?"function"===typeof f:"[object Function]"===Object.prototype.toString.call(f)},isBoolean:function(f){return!0===f||!1===f||"[object Boolean]"===Object.prototype.toString.call(f)},
isDate:function(f){return"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date&&!isNaN(f.valueOf())},isBool:function(f){return this.isBoolean(f)},isNull:function(f){return null===f},isUndefined:function(f){return void 0===f},isNullOrUndefined:function(f){return"undefined"===typeof f||null===f},supportsSVG:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},has:function(f,k){return f?Object.prototype.hasOwnProperty.call(f,k):!1},
arrayEquals:function(f,k){if(f&&!k||!f&&k)return!1;if(f&&k){if(f.length!==k.length)return!1;for(var n=f.length,m=0;m<n;m++)if(f[m]!==k[m])return!1}return!0},tryParseInt:function(f,k){var n=k||f;this.isString(f)&&0<f.length&&(isNaN(f)||(n=parseInt(f,10)));return n},tryParseFloat:function(f,k){var n=k||f;this.isString(f)&&0<f.length&&(isNaN(f)||(n=parseFloat(f)));return n},getKeyByValue:function(f,k){for(var n in f)if(f.hasOwnProperty(n)&&f[n]===k)return n},objectShallowEquals:function(f,k){if(typeof f!==
typeof k)return!1;if("object"!==typeof f)return f===k;if("function"===typeof f.getPrototypeOf&&"function"===typeof k.getPrototypeOf){if(f.getPrototypeOf()!==k.getPrototypeOf())return!1}else if(f.__proto__&&k.__proto__&&f.__proto__!==k.__proto__)return!1;var n=0,m=0,h;for(h in f)if(Object.hasOwnProperty.call(f,h)){if(!Object.hasOwnProperty.call(k,h)||f[h]!==k[h])return!1;++n}for(h in k)Object.hasOwnProperty.call(k,h)&&++m;return n===m},diffMaps:function(f,k){if("object"!==typeof f||"object"!==typeof k)return"Can only compare two objects.";
null===f&&(f={});null===k&&(k={});var n={added:{},changedFrom:{},changedTo:{},removed:{}},m;for(m in f)if(Object.prototype.hasOwnProperty.call(f,m))if(Object.prototype.hasOwnProperty.call(k,m)){var h=f[m],e=k[m];h!==e&&(n.changedFrom[m]=h,n.changedTo[m]=e)}else n.removed[m]=f[m];for(m in k)Object.prototype.hasOwnProperty.call(k,m)&&(Object.prototype.hasOwnProperty.call(f,m)||(n.added[m]=k[m]));return n}};l.setObject("anaplan.utils.JsHelper",q);return q})},"anaplan/data/ViewRequestGridModel/_ListLoader":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang anaplan/common/ViewSerialNumbers anaplan/data/ModelContentHelper anaplan/constants anaplan/Exceptions anaplan/utils/AxisHelper anaplan/utils/UIHelper anaplan/utils/SubmissionHandler".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return s([],{constructor:function(){this._loadedLists={}},clear:function(){this._loadedLists={}},getList:function(g,d,a,h){var b=this._loadedLists,f;m.isTimeSystemAxisIdentifier(g)&&null!=h&&0!==h.length?(f=[g],Array.prototype.push.apply(f,h)):f=g;var k=b[f];if(k)d(k.rowCount,k.labelPage);else{var l=new e({showPleaseWait:!1});g=this._getViewRequest(g,h);l.post([],[g],[]).then(function(e){try{if(e&&e.result){var g=e.result;if(g.viewRequestResults&&1===g.viewRequestResults.length){var h=
g.viewRequestResults[0],r=h.rowLabelPages[0],m=h.rowCount;h.rowCount>r.count&&console.warn("anaplan.data.ViewRequestGridModel._ListLoader label page count "+r.count+" is less than view request result row count "+h.rowCount);k={rowCount:m,labelPage:r};b[f]=k;d(k.rowCount,k.labelPage);return}}throw new n.IllegalStateException("Unexpected response",null,null);}catch(l){console.error(l),a&&a(l)}},function(b){try{a&&a(b)}catch(d){console.error(d),a&&a(d)}})}},getLists:function(g,d,a){var h=this._loadedLists,
b={},f=[],k=[];l.forEach(g,function(a){h[a]?b[a]=h[a].labelPage:(f.push(a),k.push(this._getViewRequest(a)))},this);f.length?(new e({showPleaseWait:!1})).post([],k,[]).then(p.hitch(this,function(e){try{if(e&&e.result){var g=e.result;if(g.viewRequestResults&&g.viewRequestResults.length===f.length){l.forEach(g.viewRequestResults,function(a,d){var e=a.rowLabelPages[0];a.rowCount>e.count&&console.warn("anaplan.data.ViewRequestGridModel._ListLoader label page count "+e.count+" is less than view request result row count "+
a.rowCount);b[f[d]]=e},this);d(b);return}}throw new n.IllegalStateException("Unexpected response",null,null);}catch(h){console.error(h),a&&a(h)}}),function(b){try{a&&a(b)}catch(d){console.error(d),a&&a(d)}}):d(b)},setSerialNumbers:function(e){this._serialNumbers&&(this._serialNumbers.rowAxisSerialNumber!==e.rowAxisSerialNumber||this._serialNumbers.columnAxisSerialNumber!==e.columnAxisSerialNumber)&&this.clear();this._serialNumbers=e},_getViewRequest:function(e,d){var a=this._getViewDefinition(e,d),
f=h.getListSizeLimit();return{modelId:modelId,viewDefinition:a,columnLabelPageRequests:[],dataPageRequests:[],rowLabelPageRequests:[{start:0,count:f}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new q,viewIndex:-1}},_getViewDefinition:function(e,d){var a={type:"MODEL_DATA"},h=f.getAxesForViewDefinition([e],[k.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER],void 0,d);p.mixin(a,h);return a}})})},"anaplan/gridlet/_editor/LinkEditor":function(){define("anaplan/utils/UIHelper anaplan/Exceptions anaplan/gridlet/_editor/BaseEditor anaplan/widgets/LinkEditor dijit/popup dijit/TooltipDialog dojo/_base/declare dojo/_base/lang dojo/dom dojo/i18n!anaplan/nls/linkEditor dojo/keys dojo/query".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return n(p,{popup:null,constructor:function(){this.widget=this._createEditorWidget();this.popup=new k({title:e.titleLinkEditor,autofocus:!1,content:this.widget,"class":"popupCellEditor"});this.widget.startup();this.widget.own(this.widget.on("keyDown",m.hitch(this,"_onKeyDown")),this.widget.on("change",m.hitch(this,"_onChange")))},hide:function(){this._showing=!1;this.widget.reset();f.close(this.popup)},prepare:function(a){var e,b;if(!a.cellNode)throw new s.InvalidArgumentException("Missing argument: cellNode");
e=this.inherited(arguments);b=a.cellNode;this._aroundNodeId=b.id;b=d(".cellWrapper,.cellValue",b)[0]||b;this._currentText=this._originalText=l.getText(b);this.widget.reset();this.widget.set("isEnterMode",a.isEnterMode);this.widget.set("value",a.value);e.resolve();return e},show:function(){var a=document.getElementById(this._aroundNodeId);a&&(f.open({popup:this.popup,around:a}),(this._cellContentDiv=d(".cellWrapper",a)[0]||a)&&l.setText(this._cellContentDiv,this._currentText),this._showing=!0)},_createEditorWidget:function(){return new q},
_onChange:function(a,d){this._showing&&(this._currentText=a||d||"",this._cellContentDiv&&l.setText(this._cellContentDiv,this._currentText))},_onKeyDown:function(a){a.keyCode===g.ESCAPE&&h.isDescendant(this._cellContentDiv,document)&&l.setText(this._cellContentDiv,this._originalText);this.onKeyDown(a)}})})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(l,s,p){var q={global:l.global,doc:l.global.document||null,body:function(f){f=f||l.doc;return f.body||f.getElementsByTagName("body")[0]},
setContext:function(f,k){l.global=q.global=f;l.doc=q.doc=k},withGlobal:function(f,k,n,m){var h=l.global;try{return l.global=q.global=f,q.withDoc.call(null,f.document,k,n,m)}finally{l.global=q.global=h}},withDoc:function(f,k,n,m){var h=q.doc,e=p("quirks"),g=p("ie"),d,a,r;try{l.doc=q.doc=f;l.isQuirks=p.add("quirks","BackCompat"==l.doc.compatMode,!0,!0);if(p("ie")&&(r=f.parentWindow)&&r.navigator)d=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(a=f.documentMode)&&(5!=a&&Math.floor(d)!=
a)&&(d=a),l.isIE=p.add("ie",d,!0,!0);n&&"string"==typeof k&&(k=n[k]);return k.apply(n,m||[])}finally{l.doc=q.doc=h,l.isQuirks=p.add("quirks",e,!0,!0),l.isIE=p.add("ie",g,!0,!0)}}};s.mixin(l,q);return q})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(l,s,p,q,f,k,n,m){l.byId=s.byId;l.isDescendant=s.isDescendant;l.setSelectable=s.setSelectable;l.getAttr=q.get;l.setAttr=q.set;l.hasAttr=q.has;
l.removeAttr=q.remove;l.getNodeProp=q.getNodeProp;l.attr=function(h,e,g){return 2==arguments.length?q["string"==typeof e?"get":"set"](h,e):q.set(h,e,g)};l.hasClass=k.contains;l.addClass=k.add;l.removeClass=k.remove;l.toggleClass=k.toggle;l.replaceClass=k.replace;l._toDom=l.toDom=n.toDom;l.place=n.place;l.create=n.create;l.empty=function(h){n.empty(h)};l._destroyElement=l.destroy=function(h){n.destroy(h)};l._getPadExtents=l.getPadExtents=m.getPadExtents;l._getBorderExtents=l.getBorderExtents=m.getBorderExtents;
l._getPadBorderExtents=l.getPadBorderExtents=m.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=m.getMarginExtents;l._getMarginSize=l.getMarginSize=m.getMarginSize;l._getMarginBox=l.getMarginBox=m.getMarginBox;l.setMarginBox=m.setMarginBox;l._getContentBox=l.getContentBox=m.getContentBox;l.setContentSize=m.setContentSize;l._isBodyLtr=l.isBodyLtr=m.isBodyLtr;l._docScroll=l.docScroll=m.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=m.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=
l.fixIeBiDiScrollLeft=m.fixIeBiDiScrollLeft;l.position=m.position;l.marginBox=function(h,e){return e?m.setMarginBox(h,e):m.getMarginBox(h)};l.contentBox=function(h,e){return e?m.setContentSize(h,e):m.getContentBox(h)};l.coords=function(h,e){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");h=s.byId(h);var g=p.getComputedStyle(h),g=m.getMarginBox(h,g),d=m.position(h,e);g.x=d.x;g.y=d.y;return g};l.getProp=f.get;l.setProp=f.set;l.prop=function(h,e,g){return 2==arguments.length?
f["string"==typeof e?"get":"set"](h,e):f.set(h,e,g)};l.getStyle=p.get;l.setStyle=p.set;l.getComputedStyle=p.getComputedStyle;l.__toPixelValue=l.toPixelValue=p.toPixelValue;l.style=function(h,e,g){switch(arguments.length){case 1:return p.get(h);case 2:return p["string"==typeof e?"get":"set"](h,e)}return p.set(h,e,g)};return l})},"anaplan/data/CacheVisitor":function(){define("dojo/_base/declare anaplan/gridlet/Themes anaplan/constants anaplan/data/ItemsFactory anaplan/format/util anaplan/i18n/Locale".split(" "),
function(l,s,p,q,f,k){return l("anaplan.data.CacheVisitor",[],{constructor:function(f){f&&(this._startRow=f.view.y[0],this._startColumn=f.view.x[0],this._endRow=f.view.y[1],this._endColumn=f.view.x[1],this._dataRowCount=f.dataRowCount||0,this._dataColumnCount=f.dataColumnCount||0,this._fixedRowCount=f.fixedRowCount||0,this._fixedColumnCount=f.fixedColumnCount||0,this._serialNumbers=f.serialNumbers||null,this._sizesOnly=f.sizesOnly,this._pageInfo=f.pageInfo||null,this._viewDefinition=f.viewDefinition||
null,this._labelDecorators=f.labelDecorators||[],this._cellDecorators=f.cellDecorators||[],this._showBreakbackMarkers=f.showBreakbackMarkers||!1,this._customWidthsByStyle=this._customWidthsByLineItem=null,f.hasOwnProperty("rowNesting")?this._rowNesting=f.rowNesting||1:this._rowNesting=1,f.hasOwnProperty("columnNesting")?this._columnNesting=f.columnNesting||1:this._columnNesting=1)},getCellsObject:function(){return this._cells},getColumnLabelsObject:function(){return this._columns},getColumnNesting:function(){return this._columnNesting},
getDataColumnCount:function(){return this._dataColumnCount},getDataRowCount:function(){return this._dataRowCount},getEndColumn:function(){return this._endColumn},getEndRow:function(){return this._endRow},getFixedColumnCount:function(){return this._fixedColumnCount},getFixedRowCount:function(){return this._fixedRowCount},getRowLabelsObject:function(){return this._rows},getRowNesting:function(){return this._rowNesting},getStartColumn:function(){return this._startColumn},getStartRow:function(){return this._startRow},
getText:function(n,m){var h=this._startColumn,e=this._startRow,g=this._endColumn,d=this._endRow,a=this._fixedRowCount,r=this._fixedColumnCount,b=null,t=null,u=null,l=null,q=null,y=null,t=b=null,w=-1<m,x=-1<n;w&&(b=this._getRows(),u=b.labels,q=b.showLabel||null,b=b.span||null);x&&(t=this._getColumns(),l=t.labels,y=t.showLabel||null,t=t.span||null);var A=0<=d||0<=g?this._getCells().originalText:null,s=0<=d||0<=g?this._getCells().formats:null,E=[],B,C,G,H,L,F=(new k).decimalSeparator,K=e;for(C=0;K<=
d;K++){if(K===e&&x)for(var J=n;J<a;J++){B=[];if(w&&x)for(C=0;C<r;C++)B.push(null);for(C=h;C<=g;C++){G=C-h;H=!0;y&&(H=y[J][G]);if(t&&(L=t[J][G],L===p.SPAN_MIDDLE||L===p.SPAN_END))H=!1;B.push(H?l[J][G]||null:null)}E.push(B.join("\t"))}B=[];if(w)for(C=m;C<r;C++){G=K-e;H=!0;q&&(H=q[C][G]);if(b&&(L=b[C][G],L===p.SPAN_MIDDLE||L===p.SPAN_END))H=!1;B.push(H?u[C][G]||null:null)}for(C=h;C<=g;C++)G=(K-e)*(g-h+1)+(C-h),G="NUMBER"===s[G].dataType?f.applyDecimalSeparator(A[G],F):A[G],B.push(G||null);E.push(B.join("\t"))}""===
E[E.length-1]&&E.push("\r");return E.join("\n")},getValues:function(){return{dataRowCount:this._dataRowCount,dataColumnCount:this._dataColumnCount,fixedRowCount:this._fixedRowCount,fixedColumnCount:this._fixedColumnCount,rowNesting:this._rowNesting,columnNesting:this._columnNesting,startRow:this._startRow,startColumn:this._startColumn,rowCount:-1===this._startRow?0:this._endRow-this._startRow+1,columnCount:-1===this._startColumn?0:this._endColumn-this._startColumn+1,cells:-1===this._startColumn||
-1===this._startRow?{count:0}:this._decorateCells(),columns:-1===this._startColumn?{count:0}:this._decorateColumns(),rows:-1===this._startRow?{count:0}:this._decorateRows(),serialNumbers:this._serialNumbers}},visitCache:function(f){for(var k=0;k<f.length;k++)f[k].accept(this)},visitCells1:function(f){0===this._dataColumnCount||0===this._dataRowCount||!0!==this._sizesOnly&&f.getItems(0>this._startRow?0:this._startRow,this._endRow,0>this._startColumn?0:this._startColumn,this._endColumn,this._getCells(),
this._viewDefinition)},visitColumns1:function(f){0!==this._dataColumnCount&&f.getItems(0>this._startColumn?0:this._startColumn,this._endColumn,this._getColumns())},visitRows1:function(f){0!==this._dataRowCount&&f.getItems(0>this._startRow?0:this._startRow,this._endRow,this._getRows())},_decorateCells:function(){var f=this._styleCells(),k=this._cellDecorators;if(!k.length)return f;for(var h=0;h<k.length;h++)f=k[h].decorate(f);return f},_decorateColumns:function(){var f=this._styleColumns(),k=this._labelDecorators,
h=k.length;if(!k.length)return f;for(var e=0;e<h;e++)f=k[e].decorate(f,p.ROWS,this._pageInfo);return f},_decorateRows:function(){var f=this._styleRows(),k=this._labelDecorators,h=k.length;if(!k.length)return f;for(var e=0;e<h;e++)f=k[e].decorate(f,p.COLUMNS,this._pageInfo);return f},_getCells:function(){if(!this._cells){var f=0===this._dataRowCount?0:this._endRow-this._startRow+1,k=0===this._dataColumnCount?0:this._endColumn-this._startColumn+1;this._cells=(new q).createDataItems(f*k)}return this._cells},
_getColumns:function(){this._columns||(this._columns=(new q).createLabelItems(this._columnNesting,0===this._dataColumnCount?0:this._endColumn-this._startColumn+1));return this._columns},_getRows:function(){this._rows||(this._rows=(new q).createLabelItems(this._rowNesting,0===this._dataRowCount?0:this._endRow-this._startRow+1));return this._rows},_styleCells:function(){if(0===this._dataRowCount||0===this._dataColumnCount)return{count:0};var f=this._getRows(),k=this._getColumns(),h=this._getCells(),
e=f.count,g=k.count,f=f.styles[this._rowNesting-1],d=k.styles[this._columnNesting-1],k=k.entityLongIds[this._columnNesting-1],a=h.styles,r=h.formats,b=h.isEditable,t=h.isCalculated,u=h.heldRangeIndices,l=h.breakBack,q=this._showBreakbackMarkers;0===e&&0!==this._dataRowCount&&(e=this._dataRowCount);0===g&&0!==this._dataColumnCount&&(g=this._dataColumnCount);var y=0,w,x,A,s,E,B,C,G,H,L;for(B=0;B<e;B++){w=f[B]||"normal";for(C=0;C<g;C++){x=d[C]||"normal";G="";A=null;if(r[y])switch(s=r[y].dataType,s){case "NUMBER":case "BOOLEAN":break;
case "DATE":A=" date";break;default:A=" option"}b[y]?t[y]?(s=" noneditable",q&&(G=" bb")):s=r[y]&&"REMOTE_MODEL_DEFINITION"===r[y].dataType?" noneditable":" editable":s=" noneditable";H=null;u&&(void 0!==u[y]&&-1!==u[y])&&(H=" held");L=null;k[C]===p.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_IMPORTS&&(L=" overflow-cell");E=a[y]?" "+a[y]:null;a[y]=["gridrow"+w," gridcolumn"+x,A,s,G,E,H,L].join("");l[y]={markerEnabled:!!G,held:!!H};y++}}return h},_styleColumns:function(){var f=this._viewDefinition&&this._viewDefinition.themeId?
this._viewDefinition.themeId:s.getFallBackTheme();if(0===this._dataColumnCount)return this._getColumns();for(var k=this._getColumns(),h=k.styles,e=k.heldRangeIndices,g=this._columnNesting,d=k.count,a,r=k.breakBack,b=0;b<g;b++)for(var t=0;t<d;t++)a=h[b][t]||"normal",h[b][t]=s.getColumnStyles(a,f),e&&void 0!==e[b][t]&&-1!==e[b][t]?(r[b][t]={held:!0},h[b][t]+=" held"):r[b][t]={held:!1};return k},_styleRows:function(){var f=this._viewDefinition&&this._viewDefinition.themeId?this._viewDefinition.themeId:
s.getFallBackTheme();if(0===this._dataRowCount)return this._getRows();for(var k=this._getRows(),h=k.styles,e=k.span,g=k.showLabel,d=k.heldRangeIndices,a=this._rowNesting,r=k.count,b=k.breakBack,t,u,l,q=0;q<a;q++)for(u=0;u<r;u++)if(t=h[q][u]||"normal",h[q][u]=s.getRowStyles(t,f),d&&void 0!==d[q][u]&&-1!==d[q][u]?(h[q][u]+=" held",b[q][u]={held:!0}):b[q][u]={held:!1},e)for(l=q;l--&&0<=l;)if(!g||g[l][u]){t=e[l][u];if(t===p.SPAN_START||t===p.SPAN_NONE)h[q][u]+=" borderTop";if(t===p.SPAN_END||t===p.SPAN_NONE)h[q][u]+=
" borderBottom"}return k}})})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,s,p,q){if(s._fixEvent){var f=s._fixEvent;s._fixEvent=function(k,m){(k=f(k,m))&&q.normalizeEvent(k);return k}}var k={fix:function(f,k){return s._fixEvent?s._fixEvent(f,k):f},stop:function(f){p("dom-addeventlistener")||f&&f.preventDefault?(f.preventDefault(),f.stopPropagation()):(f=f||window.event,f.cancelBubble=!0,s._preventDefault.call(f))}};l.fixEvent=k.fix;l.stopEvent=k.stop;
return k})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(l,s,p,q,f,k,n){function m(e){return e}function h(e){if("object"!==typeof e)e=Error(e);else if("cancel"===e.dojoType)return;e.grid=this;f.emit(this.domNode,"dgrid-error",{grid:this,error:e,cancelable:!0,bubbles:!0})&&console.error(e)}return s(null,{store:null,query:null,queryOptions:null,getBeforePut:!0,noDataMessage:"",
loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};k.before(this,"configStructure",p.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(e){e.set&&(this._columnsWithSet[e.field]=e);this.inherited(arguments)},
_updateNotifyHandle:function(e){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);e&&"function"===typeof e.notify&&(this._notifyHandle=k.after(e,"notify",p.hitch(this,"_onNotify"),!0),e=this.get("sort"),(!e||!e.length)&&console.warn("Observable store detected, but no sort order specified. You may experience quirks when adding/updating items.  These can be resolved by setting a sort order on the list or grid."))},_setStore:function(e,g,d){this._updateNotifyHandle(e);this.store=
e;this.dirty={};this.set("query",g,d)},_setQuery:function(e,g){var d=g&&g.sort;this.query=void 0!==e?e:this.query;this.queryOptions=g||this.queryOptions;d?this.set("sort",d):this.refresh()},setStore:function(e,g,d){l.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",e,g,d)},setQuery:function(e,g){l.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",e,g)},_getQueryOptions:function(){var e=p.delegate(this.queryOptions,{});
if("function"===typeof this._sort||this._sort.length)e.sort=this._sort;return e},_getQuery:function(){var e=this.query;return"object"==typeof e&&null!=e?p.delegate(e,{}):e},_setSort:function(e,g){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(e,g){this.inherited(arguments);e&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},insertRow:function(e,g,d,a,h){var b=this.store,f=this.dirty,b=b&&b.getIdentity(e),k;b in f&&!(b in this._updating)&&(k=f[b]);
k&&(e=p.delegate(e,k));return this.inherited(arguments)},updateDirty:function(e,g,d){var a=this.dirty,h=a[e];h||(h=a[e]={});h[g]=d},setDirty:function(e,g,d){l.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(e,g,d)},save:function(){function e(b,e){return function(h){var f=g._columnsWithSet,r=g._updating,k,t;if("function"===typeof h.set)h.set(e);else for(k in e)h[k]=e[k];for(k in f)t=f[k].set(h),void 0!==t&&(h[k]=t);r[b]=!0;return q.when(d.put(h),function(){delete a[b];
delete r[b]})}}var g=this,d=this.store,a=this.dirty,h=new q,b=h.promise,f=function(a){var b;return g.getBeforePut||!(b=g.row(a).data)?function(){return d.get(a)}:function(){return b}},k;for(k in a)var m=e(k,a[k]),b=b.then(f(k)).then(m);h.resolve();return b},revert:function(){this.dirty={};this.refresh()},_trackError:function(e){var g;"string"==typeof e&&(e=p.hitch(this,e));try{g=e()}catch(d){h.call(this,d)}return q.when(g,m,p.hitch(this,h))},newRow:function(){var e=this.inherited(arguments);this.noDataNode&&
(n(this.noDataNode,"!"),delete this.noDataNode);return e},removeRow:function(e,g){var d={element:e};!g&&(this.noDataMessage&&this.up(d).element===e&&this.down(d).element===e)&&(this.noDataNode=n(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,s,p,q){function f(f){if((f.keyCode===l.ENTER||f.keyCode===l.SPACE)&&!/input|button|textarea/i.test(f.target.nodeName))for(f=
f.target;f;f=f.parentNode)if(f.dojoClick)return!0}var k;p(document,"keydown",function(m){f(m)?(k=m.target,m.preventDefault()):k=null});p(document,"keyup",function(m){f(m)&&m.target==k&&(k=null,p.emit(m.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:m.ctrlKey,shiftKey:m.shiftKey,metaKey:m.metaKey,altKey:m.altKey,_origType:m.type}))});var n=function(f,h){f.dojoClick=!0;return p(f,"click",h)};n.click=n;n.press=function(f,h){var e=p(f,q.press,function(d){("mousedown"!=d.type||s.isLeft(d))&&h(d)}),g=
p(f,"keydown",function(d){(d.keyCode===l.ENTER||d.keyCode===l.SPACE)&&h(d)});return{remove:function(){e.remove();g.remove()}}};n.release=function(f,h){var e=p(f,q.release,function(d){("mouseup"!=d.type||s.isLeft(d))&&h(d)}),g=p(f,"keyup",function(d){(d.keyCode===l.ENTER||d.keyCode===l.SPACE)&&h(d)});return{remove:function(){e.remove();g.remove()}}};n.move=q.move;return n})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return s("dojo.dnd.Moveable",[k],{handle:"",delay:0,skip:!1,constructor:function(a,d){this.node=q.byId(a);d||(d={});this.handle=d.handle?q.byId(d.handle):null;this.handle||(this.handle=this.node);this.delay=0<d.delay?d.delay:0;this.skip=d.skip;this.mover=d.mover?d.mover:g;this.events=[n(this.handle,h.press,p.hitch(this,"onMouseDown")),n(this.handle,"dragstart",p.hitch(this,"onSelectStart")),n(this.handle,"selectstart",p.hitch(this,"onSelectStart"))]},markupFactory:function(a,
d,b){return new b(d,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!e.isFormElement(a)){if(this.delay)this.events.push(n(this.handle,h.move,p.hitch(this,"onMouseMove")),n(this.handle,h.release,p.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.stopPropagation();a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||
Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var d=0;2>d;++d)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!e.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){m.publish("/dnd/move/start",a);f.add(d.body(),"dojoMove");f.add(this.node,"dojoMoveItem")},
onMoveStop:function(a){m.publish("/dnd/move/stop",a);f.remove(d.body(),"dojoMove");f.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,d){this.onMoving(a,d);var b=a.node.style;b.left=d.l+"px";b.top=d.t+"px";this.onMoved(a,d)},onMoving:function(){},onMoved:function(){}})})},"anaplan/gridlet/selection/ItemCoordinate":function(){define(["anaplan/utils/JsHelper","anaplan/gridlet/selection/_SelectionBase","dojo/_base/array","dojo/_base/declare"],function(l,s,p,q){var f=q(s,{index:null,
offset:0,entityLongIds:null,constructor:function(f){f&&(this.setIndex(f.index),this.setOffset(f.offset),this.setEntityLongIds(f.entityLongIds))},equals:function(k){return!this.inherited(arguments)||!(k instanceof f)||k.index!==this.index||k.offset!==this.offset||!l.arrayEquals(k.entityLongIds,this.entityLongIds)?!1:!0},isFixed:function(){return!1},getNestingIndex:function(){return this._getNestingIndexOfItem(this.entityLongIds)},resolve:function(){var f=this.inherited(arguments);null===this.offset&&
(this.offset=0,f=!0);-1>this.index&&(this.index=-1,this.entityLongIds=null,f=!0);return f},setEntityLongIds:function(f){this.entityLongIds=f?p.map(f,function(f){return null!==f?parseInt(f,10):null}):null},setIndex:function(f){this.index=null!==f?parseInt(f,10):null},setOffset:function(f){this.offset=null!==f?parseInt(f,10):null},toJSON:function(){return{index:this.index,offset:this.offset,entityLongIds:this.entityLongIds}}});return f})},"anaplan/dashboard/LayoutPositionManager":function(){define("anaplan/constants anaplan/dashboard/LayoutHelper anaplan/dashboard/LayoutPosition anaplan/Exceptions dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m){return n("anaplan.dashboard.LayoutPositionManager",[],{constructor:function(h){this._containerBox=h.containerBox;this._widgets=h.widgets;this._spacing=h.spacing},applyElementChange:function(h,e){var g=s.parseLayoutPositionMap(h);e.layoutPositionChange?this._applyLayoutPositionChange(g,h,e.layoutPositionChange):e.sizeChange?this._applySizeChange(g,h,e.sizeChange):console.warn("anaplan.dashboard.LayoutPositionManager unsupported element change",e)},normalizeLayoutPositions:function(h){h=
s.parseLayoutPositionMap(h);s.normalizeLayout(h.rows);this._assertIsSupported(h.rows);h=this._getLayoutPositionMap(h.rows);this._setNewLayoutPositionMap(h)},_adjustSizeMapAfterLayoutPositionChange:function(h,e,g){var d=h[e.widgetId];if(-1!=d.width.units&&this._isColumnAdjustmentSupported(g,h)){e=new p({layoutPosition:e.layoutPosition});for(var a=0,f=0;f<g.columns.length;f++)if(f!=e.getColumnIndex()){var b=g.columns[f];b.widgets.length&&(a+=h[b.widgets[0]].width.units)}d=a+d.width.units-100;0<d&&this._allocateReduction({w:-1*
d},g,h)}},_adjustSizeMapAfterSizeChange:function(h,e,g){if(this._isColumnAdjustmentSupported(g,h)){var d=0;k.forEach(g.columns,function(a){d+=h[a.widgets[0]].width.units});var a=d-100;0<a&&this._allocateReduction({w:-1*a},g,h,e.widgetId)}},_allocateReduction:function(h,e,g,d){h=h.w;for(var a=-1,f=this._containerBox,b,k,m,n;0>h&&h!=a;){b=Math.floor(h/e.columns.length);a=h;for(k=0;k<e.columns.length;k++)m=e.columns[k],m.widgets[0]!==d&&(m=g[m.widgets[0]],n=m.width.units,n=100*(f.w/(n+b)),!(-1<m.minimumWidth.units&&
n<m.minimumWidth.units)&&!(n<l.DASHBOARD_MINIMUM_WIDGET_WIDTH)&&(m.width.units+=b,h-=b))}},_applySizeChange:function(h,e,g){var d=this._spacing,a=this._getSizeMap(),r=this._containerBox,b=m.clone(g.box),k=m.clone(a[g.widgetId]),n=f.byId(g.widgetId);if(b.h)if(n.dashboardElementType===l.dashboardElementType.CELL||n.dashboardElementType===l.dashboardElementType.STATIC_TEXT)k.maximumHeight.units=k.minimumHeight.units=b.h;else{b.h+=d.vertical;if("PIXELS"===k.height.unitsType)k.height.units=b.h;else{var v=
Math.round(100*(b.h/r.h));k.height.units=v}k.maximumHeight&&-1<k.maximumHeight.units&&b.h>k.maximumHeight.units&&(k.maximumHeight.units=Math.ceil(b.h));k.minimumHeight&&-1<k.minimumHeight.units&&b.h<k.minimumHeight.units&&(k.minimumHeight.units=Math.floor(b.h))}b.w&&(n.dashboardElementType===l.dashboardElementType.CELL||n.dashboardElementType===l.dashboardElementType.STATIC_TEXT?k.maximumWidth.units=k.minimumWidth.units=b.w:(b.w+=d.horizontal,"PIXELS"===k.width.unitsType?k.width.units=b.w:(d=Math.round(100*
(b.w/r.w)),k.width.units=d),k.maximumWidth&&-1<k.maximumWidth.units&&b.w>k.maximumWidth.units&&(k.maximumWidth.units=Math.ceil(b.w)),k.minimumWidth&&-1<k.minimumWidth.units&&b.w<k.minimumWidth.units&&(k.minimumWidth.units=Math.floor(b.w))));a[g.widgetId]=k;e=new p({layoutPosition:e[g.widgetId]});h=h.rows[e.getRowIndex()];this._adjustSizeMapAfterSizeChange(a,g,h);this._setNewSizeMap(a)},_applyLayoutPositionChange:function(h,e,g){h=h.rows;e=new p({layoutPosition:e[g.widgetId]});var d=null,a,f,b,d=-1<
e.getSubRowIndex()?h[e.getRowIndex()].columns[e.getColumnIndex()].subRows[e.getSubRowIndex()].subColumns[e.getSubColumnIndex()].widgets:h[e.getRowIndex()].columns[e.getColumnIndex()].widgets;a=k.indexOf(d,g.widgetId);d.splice(a,1);d=new p({layoutPosition:g.layoutPosition});-1==d.getColumnIndex()?(a=d.getRowIndex(),b={columns:[{subRows:[],widgets:[g.widgetId]}]},h.splice(a,0,b)):(a=h[d.getRowIndex()],a||(b={columns:[]},a=h[d.getRowIndex()]=b),a.columns[d.getColumnIndex()]?a=a.columns[d.getColumnIndex()]:
(b={subRows:[],widgets:[]},a=a.columns[d.getColumnIndex()]=b),-1<d.getSubRowIndex()&&(-1==d.getSubColumnIndex()?(b=d.getSubRowIndex(),f={subColumns:[{widgets:[]}]},a.subRows.splice(b,0,f),a=f.subColumns[0]):(a.widgets.length&&(b=d.getSubRowIndex(),b=0==b?1:0,f={subColumns:[{widgets:a.widgets.splice(0,a.widgets.length)}]},a.subRows[b]=f),a.subRows[d.getSubRowIndex()]?a=a.subRows[d.getSubRowIndex()]:(f={subColumns:[]},a=a.subRows[d.getSubRowIndex()]=f),a.subColumns[d.getSubColumnIndex()]?a=a.subColumns[d.getSubColumnIndex()]:
(b={widgets:[]},a=a.subColumns[d.getSubColumnIndex()]=b))),(a.subRows?this._isEmptyColumn(a):this._isEmptySubColumn(a))?a.widgets.push(g.widgetId):(a=h[d.getRowIndex()],f=a.columns[d.getColumnIndex()],-1<d.getSubRowIndex()?(a=f.subRows[d.getSubRowIndex()],f=a.subColumns[d.getSubColumnIndex()],b={widgets:[g.widgetId]},this._isEmptySubColumn(f)?a.subColumns[d.getSubColumnIndex()]=b:f.widgets.length&&a.subColumns.splice(d.getSubColumnIndex(),0,b)):(b={subRows:[],widgets:[g.widgetId]},this._isEmptyColumn(f)?
a.columns[d.getColumnIndex()]=b:(f=d.getColumnIndex(),a.columns.splice(f,0,b)))));a=this._getSizeMap();this._adjustSizeMapAfterLayoutPositionChange(a,g,h[d.getRowIndex()],h[e.getRowIndex()]);s.normalizeLayout(h);this._assertIsSupported(h);g=this._getLayoutPositionMap(h);this._assertLayoutMap(g);this._setNewLayoutPositionMap(g);this._setNewSizeMap(a)},_assertIsSupported:function(h){k.forEach(h,function(){k.forEach(h.columns,function(e){if(e.widgets.length&&e.subRows.length)throw new q.IllegalStateException("anaplan.dashboard.LayoutPositionManager _assertIsValid column may not contain both subrows and widgets",
null,null);if(1<e.widgets.length)throw new q.IllegalStateException("anaplan.dashboard.LayoutPositionManager _assertIsValid column may not contain more than one widget",null,null);k.forEach(e.subRows,function(e){k.forEach(e.subColumns,function(d){if(1<d.widgets.length)throw new q.IllegalStateException("anaplan.dashboard.LayoutPositionManager _assertIsValid sub column may not contain more than one widget",null,null);})})})})},_assertLayoutMap:function(h){k.forEach(this._widgets,function(e){if(!h[e.id])throw new q.IllegalStateException("anaplan.dashboard.LayoutPositionManager _assertLayoutMap Expected to find layout position for widget "+
e.id+" but did not",null,null);})},_getLayoutPositionMap:function(h){var e={},g,d,a,f,b,k,m,n,l,q;for(g=0;g<h.length;g++){d=h[g].columns;for(a=0;a<d.length;a++)if(f=d[a],f.subRows.length)for(b=0;b<f.subRows.length;b++){k=f.subRows[b];for(m=0;m<k.subColumns.length;m++){n=k.subColumns[m];for(l=0;l<n.widgets.length;l++)q=new p({rowIndex:g,columnIndex:a,subRowIndex:b,subColumnIndex:m}),e[n.widgets[l]]=q.toString()}}else for(l=0;l<f.widgets.length;l++)q=new p({rowIndex:g,columnIndex:a}),e[f.widgets[l]]=
q.toString()}return e},_getSizeMap:function(){var h={};k.forEach(this._widgets,function(e){var g=e.getArgs();h[e.id]=g.size});return h},_getWidget:function(h){for(var e=0;e<this._widgets.length;e++)if(this._widgets[e].id==h)return this._widgets[e];return null},_isColumnAdjustmentSupported:function(h,e){var g=!0;if(!h||!h.columns||!h.columns.length)return!1;k.forEach(h.columns,function(d){d.subRows.length&&(g=!1);1<d.widgets.length&&(g=!1);if(d.widgets.length&&(d=e[d.widgets[0]],d.width.unitsType!==
l.DashboardSizeUnitsType.PERCENTAGE||-1===d.width.units))g=!1});return g},_isEmptyColumn:function(h){if(!h)return!0;for(var e=0;e<h.subRows.length;e++)if(!this._isEmptySubRow(h.subRows[e]))return!1;for(e=0;e<h.widgets.length;e++)if(h.widgets[e])return!1;return!0},_isEmptyRow:function(h){if(!h)return!0;for(var e=0;e<h.columns.length;e++)if(!this._isEmptyColumn(h.columns[e]))return!1;return!0},_isEmptySubColumn:function(h){if(!h)return!1;for(var e=0;e<h.widgets.length;e++)if(h.widgets[e])return!1;return!0},
_isEmptySubRow:function(h){if(!h)return!0;for(var e=0;e<h.subColumns.length;e++)if(!this._isEmptySubColumn(h.subColumns[e]))return!1;return!0},_setNewLayoutPositionMap:function(h){k.forEach(this._widgets,function(e){var g=h[e.id];g?e.setLayoutPosition(g):console.warn("anaplan.dashboard.LayoutPositionManager _setNewLayoutPositions expected to find layout position for widget but did not "+e.id)})},_setNewSizeMap:function(h){k.forEach(this._widgets,function(e){var g=h[e.id];g?e.setSize(g):console.warn("anaplan.dashboard.LayoutPositionManager _setNewSizes expected to find size for widget but did not "+
e.id)})}})})},"anaplan/api/Entity/ListSubset":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(l,s){function p(a,d,b){d=d.toLowerCase();if(l("ie")||l("trident")){if("auto"==b){if("height"==d)return a.offsetHeight;if("width"==d)return a.offsetWidth}if("fontweight"==d)switch(b){case 700:return"bold";default:return"normal"}}d in e||(e[d]=g.test(d));return e[d]?k(a,b):b}var q,f={};
q=l("webkit")?function(a){var d;if(1==a.nodeType){var b=a.ownerDocument.defaultView;d=b.getComputedStyle(a,null);!d&&a.style&&(a.style.display="",d=b.getComputedStyle(a,null))}return d||{}}:l("ie")&&(9>l("ie")||l("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};f.getComputedStyle=q;var k;k=l("ie")?function(a,d){if(!d)return 0;if("medium"==d)return 4;if(d.slice&&"px"==d.slice(-2))return parseFloat(d);
var b=a.style,e=a.runtimeStyle,g=b.left,h=e.left;e.left=a.currentStyle.left;try{b.left=d,d=b.pixelLeft}catch(f){d=0}b.left=g;e.left=h;return d}:function(a,d){return parseFloat(d)||0};f.toPixelValue=k;var n=function(a,d){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(b){return d?{}:null}},m=9>l("ie")||10>l("ie")&&l("quirks")?function(a){try{return n(a).Opacity/100}catch(d){return 1}}:function(a){return q(a).opacity},h=9>l("ie")||10>l("ie")&&l("quirks")?function(a,d){""===d&&(d=
1);var b=100*d;1===d?(a.style.zoom="",n(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,n(a)?n(a,1).Opacity=b:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+b+")",n(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(b=a.firstChild;b;b=b.nextSibling)"td"==b.tagName.toLowerCase()&&h(b,d);return d}:function(a,d){return a.style.opacity=d},e={left:!0,top:!0},g=/margin|padding|width|height|max|min|offset/,
d={cssFloat:1,styleFloat:1,"float":1};f.get=function(a,e){var b=s.byId(a),g=arguments.length;if(2==g&&"opacity"==e)return m(b);e=d[e]?"cssFloat"in b.style?"cssFloat":"styleFloat":e;var h=f.getComputedStyle(b);return 1==g?h:p(b,e,h[e]||b.style[e])};f.set=function(a,e,b){var g=s.byId(a),k=arguments.length,m="opacity"==e;e=d[e]?"cssFloat"in g.style?"cssFloat":"styleFloat":e;if(3==k)return m?h(g,b):g.style[e]=b;for(var n in e)f.set(a,n,e[n]);return f.getComputedStyle(g)};return f})},"anaplan/api/Fetchers/Entities/Actions":function(){define(["dojo/_base/declare",
"dojo/json","dojo/_base/lang","anaplan/api/Fetchers/Entities/Base/LabelPageWithDataPages","anaplan/utils/JsHelper"],function(l,s,p,q,f){return l([q],{_populateData:function(k,n){var m=this.inherited(arguments);f.isObject(k)?p.mixin(m,this._extractTaskElement(k.ACTION_DEFINITION.cellValue)):console.warn("Expected data object for the Module when trying to _populateData");return m},_extractTaskElement:function(f){if(!f)return{};f=s.parse(f);f.taskElement&&(f.taskElementJson=f.taskElement,f.taskElement=
s.parse(f.taskElementJson));return f}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(l,s,p,q,f){var k=0,n=[],m=0;s=function(){k=1;l._postLoad=l.config.afterOnLoad=!0;h()};var h=function(){if(!m){for(m=1;k&&(!q||0==q._Q.length)&&(p.idle?p.idle():1)&&n.length;){var d=n.shift();try{d()}catch(a){if(a.info=a.message,p.signal)p.signal("error",a);else throw a;}}m=0}};p.on&&p.on("idle",h);q&&(q._onQEmpty=h);var e=l.ready=l.addOnLoad=function(d,
a,e){var b=f._toArray(arguments);"number"!=typeof d?(e=a,a=d,d=1E3):b.shift();e=e?f.hitch.apply(l,b):function(){a()};e.priority=d;for(b=0;b<n.length&&d>=n[b].priority;b++);n.splice(b,0,e);h()},g=l.config.addOnLoad;if(g)e[f.isArray(g)?"apply":"call"](l,g);q?q(s):s();return e})},"anaplan/widgets/TokenInput":function(){define("anaplan/Exceptions anaplan/utils/UIHelper dijit/_CssStateMixin dijit/focus dijit/_Templated dijit/layout/_LayoutWidget dijit/_FocusMixin anaplan/widgets/TokenInput/_Input anaplan/widgets/TokenInput/_Token dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/fx dojo/_base/lang dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/_base/sniff dojo/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return g([k,f,p,n],{baseClass:"tokenInput",pageSize:Infinity,searchAttr:null,store:null,tabIndex:-1,required:!1,requiredMin:null,requiredMax:null,placeHolder:"",templateString:'\x3cul class\x3d"${baseClass}" tabindex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/ul\x3e',focus:function(){this._inputToken?this._inputToken.focus():q.focus(this.domNode)},layout:function(){try{this.inherited(arguments),this._resizeInputToken()}catch(a){throw new l.ClientException("anaplan.widgets.TokenInput.layout",
a);}},onChange:function(){},startup:function(){try{this.inherited(arguments),this._rebuild(),this.on("mousedown","focus")}catch(a){throw new l.ClientException("anaplan.widgets.TokenInput.startup",a);}},_addToken:function(a,b){try{var e=new h({label:b,identifier:a});u.set(e.domNode,"opacity",0);z(e,"Delete",r.hitch(this,"_onDeleteToken"));z(e,"Focus",r.hitch(this,"_onFocusToken"));this.addChild(e,this.getChildren().length-1);this._resizeInputToken();w.scrollIntoView(this._inputToken.domNode);this._fireOnChange();
return d.fadeIn({node:e.domNode,duration:500})}catch(g){throw new l.ClientException("anaplan.widgets.TokenInput._addToken",g);}},addTokens:function(a){for(var b=a.length,d=0,e=null;d<b;d++)e=a[d],this._addToken(e.itemId,e.label).play()},_createInputToken:function(){try{this._inputToken=new m({store:this.store,searchAttr:this.searchAttr,pageSize:this.pageSize,placeHolder:this.placeHolder}),this.addChild(this._inputToken),this._inputToken.connect(this._inputToken,"onChange",r.hitch(this,function(a){this._onInputTokenChange(a)})),
this._inputToken.connect(this._inputToken,"onMultiSelect",r.hitch(this,function(a){this._onInputTokenMultiSelect(a)}))}catch(a){throw new l.ClientException("anaplan.widgets.TokenInput._createInputToken",a);}},_fireOnChange:function(){var a=this._countTokens();this._inputToken.set("placeHolder",0===a?this.placeHolder:"");try{if(this._enableOnChange)this.onChange(this.get("value"));this._showValidationState()}catch(b){throw new l.ClientException("anaplan.widgets.TokenInput._fireOnChange",b);}},_getValueAttr:function(){var a=
[];try{var b=this.getChildren();e.forEach(b,function(b){b instanceof h&&a.push(b.get("identifier"))})}catch(d){throw new l.ClientException("anaplan.widgets.TokenInput._getValueAttr",d);}return a},_onBlur:function(){this._focusTimeout&&clearTimeout(this._focusTimeout);this.inherited(arguments);this._showValidationState()},_onDeleteToken:function(a){try{var b=a.get("identifier");this.store.fetchItemByIdentity({identity:b,onItem:r.hitch(this,function(a){this.store.setValue(a,"tokenInputSelected",!1)})});
this.removeChild(a);a.destroy();this._resizeInputToken();this.focus();this._fireOnChange()}catch(d){s.showErrorReporter(new l.ClientException("anaplan.widgets.TokenInput._onDeleteToken",d))}},_onFocus:function(){this.inherited(arguments);if(this._inputToken){var a=this._inputToken;this._focusTimeout&&clearTimeout(this._focusTimeout);this._focusTimeout=setTimeout(function(){a.focus()},50)}this._showValidationState()},_onFocusToken:function(){this._focusTimeout&&clearTimeout(this._focusTimeout)},_onInputTokenChange:function(a){try{a&&
this.store.fetchItemByIdentity({identity:a,onItem:r.hitch(this,function(b){this.store.getValue(b,"tokenInputSelected")||(this.store.setValue(b,"tokenInputSelected",!0),this._addToken(a,this.store.getLabel(b)).play())})}),this._inputToken.set("value",null)}catch(b){throw new l.ClientException("anaplan.widgets.TokenInput._onInputTokenChange",b);}},_onInputTokenMultiSelect:function(b){try{if(b&&b.length){for(var d,e,g=[],h=0,f=b.length;h<f;h++)d=b[h],e=this.store.getValue(d,"tokenInputSelected"),e||
(this.store.setValue(d,"tokenInputSelected",!0),g.push(this._addToken(this.store.getIdentity(d),this.store.getLabel(d))));a.combine(g).play()}}catch(r){throw new l.ClientException("anaplan.widgets.TokenInput._onInputTokenMultiSelect",r);}},_onStoreUpdate:function(a,d,e,g){try{if("tokenInputSelected"===d){var h=this.store.getValue(a,"domNode");h&&(e&&!g?b.remove(h,"tokenInputMenuItemSelected"):g&&!e&&b.add(h,"tokenInputMenuItemSelected"))}}catch(f){throw new l.ClientException("anaplan.widgets.TokenInput._onStoreUpdate",
f);}},_rebuild:function(){try{if(this._enableOnChange=!1,this._inputToken&&this._inputToken.destroy(),this.store){this._createInputToken();var b=this,d=this.store,g=this._initialValue.length,h=[],f=function(e){e&&(d.setValue(e,"tokenInputSelected",!0),h.push(b._addToken(d.getIdentity(e),d.getLabel(e))),g--,g||(b._enableOnChange=!0,a.combine(h).play()))};e.forEach(this._initialValue,function(a){a?d.fetchItemByIdentity({identity:a,onItem:f}):g--});this._enableOnChange=!0}else console.warn(this.id+": _rebuild with no store")}catch(r){throw new l.ClientException("anaplan.widgets.TokenInput._rebuild",
r);}},_resizeInputToken:function(){var a,b;this._inputToken&&(a=this.getChildren(),"undefined"===typeof this._contentBox&&(this._contentBox=t.getContentBox(this.domNode)),b=this._contentBox.w,1<a.length&&(a=a[a.length-2],a=t.getMarginBox(a.domNode),a=this._contentBox.w-a.l-a.w-1,60<=a&&(b=a)),this.domNode.scrollHeight>this.domNode.clientHeight?(b-=9>v("ie")?20:16,u.set(this.domNode,"overflowY","scroll")):u.set(this.domNode,"overflowY","hidden"),this._inputToken.resize({w:b}))},_setSearchAttrAttr:function(a){try{this._set("searchAttr",
a),this._inputToken&&(this.store&&this.searchAttr)&&this._rebuild()}catch(b){throw new l.ClientException("anaplan.widgets.TokenInput._setSearchAttrAttr",b);}},_setStoreAttr:function(a){try{this._set("store",a),this._storeConnect&&this._storeConnect.remove(),this.store&&(this._inputToken&&this.searchAttr&&this._rebuild(),this._storeConnect=z(this.store,"Set",r.hitch(this,"_onStoreUpdate")))}catch(b){throw new l.ClientException("anaplan.widgets.TokenInput._setStoreAttr",b);}},_setValueAttr:function(a){this._initialValue=
a||[];r.isArray(this._initialValue)||(this._initialValue=[this._initialValue]);this._inputToken&&this._rebuild()},_setDisabledAttr:function(a){var b=null;this.get("disabled")!==a&&(this._set("disabled",a),this._inputToken&&(b=this._inputToken,b._set("disabled",a),b._filteringSelect&&b._filteringSelect._set("disabled",a)))},_setRequiredAttr:function(a){this._set("required",a);this._set("requiredMin",a?1:0);this._showValidationState()},_setRequiredMinAttr:function(a){this._set("requiredMin",a);this._set("required",
"number"===typeof a&&0<a?!0:!1);this._showValidationState()},_setRequiredMaxAttr:function(a){this._set("requiredMax",a);this._showValidationState()},_countTokens:function(){var a=0;try{var b=this.getChildren();e.forEach(b,function(b){b instanceof h&&++a})}catch(d){throw new l.ClientException("anaplan.widgets.TokenInput._countTokens",d);}return a},isValid:function(){var a=this._countTokens();return"number"===typeof this.requiredMin&&0<this.requiredMin&&a<this.requiredMin||"number"===typeof this.requiredMax&&
a>this.requiredMax?!1:!0},_showValidationState:function(){this.isValid()||this.focused?b.remove(this.domNode,"tokenInputError dijitError"):b.add(this.domNode,"tokenInputError dijitError")}})})},"anaplan/data/ModelContentCache":function(){define("anaplan/constants anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper anaplan/utils/Observable anaplan/utils/WorkspaceHelper anaplan/utils/SingleIpHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/json dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){f=new (h([f],{constructor:function(){this._reset();this._allCurrenciesLabelPage=null;this._applicationProperties={};this._entitlements=[];d.subscribe("anaplan/modelId",e.hitch(this,"_switchModel"))},getActionInfoDefinition:function(a){var d=this.getActionInfo(a);if(d)return g.parse(d.actionDefinitionJsonString);throw Error("No such action with Id "+a);},getActionInfo:function(a){var d=this.getActionsLabelPage();a=m.indexOf(d.entityLongIds[0],a);return-1==a?null:this.getActionInfos()[a]},
getActionInfos:function(){this._assertModelLoaded();return this.getModelInfo().actionsInfo.actionInfos},getActionsLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().actionsInfo.actionsLabelPage},getAllCurrenciesLabelPage:function(){return this._allCurrenciesLabelPage},getApplicationProperties:function(){return this._applicationProperties},getApplicationProperty:function(a){return this._applicationProperties?this._applicationProperties[a]||null:null},getAvailableCharsets:function(){return this._availableCharsets},
getBaseCurrenciesLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().baseCurrenciesLabelPage},getDashboardInfo:function(a){var d=this.getDashboardsLabelPage();a=m.indexOf(d.entityLongIds[0],a);return-1<a?this.getDashboardInfos()[a]:null},getDashboardsInfo:function(){this._assertModelLoaded();return this.getModelInfo().dashboardsInfo},getDashboardInfos:function(){return this.getDashboardsInfo().dashboardInfos},getDashboardsLabelPage:function(){return this.getDashboardsInfo().dashboardsLabelPage},
getEntityType:function(a){if(!this._entityTypeList)throw new s.IllegalStateException("anaplan.data.ModelContentCache.prototype.getEntityType: entityTypeList is null or undefined");var d=m.indexOf(this._entityTypeList.entityTypeIndices,a);return-1==d?(console.warn("anaplan.data.ModelContentCache.prototype.getEntityType: unknown entityTypeIndex "+a),null):{entityTypeIndex:a,entityTypeId:this._entityTypeList.entityTypeIds[d],entityTypeLabel:this._entityTypeList.entityTypeLabels[d],entityTypeClass:this._entityTypeList.entityTypeClasses[d],
hierarchyEntityLongId:this._entityTypeList.hierarchyEntityLongIds[d]}},getEntityTypeIndexOfListItems:function(a){var d=this._entityTypeList;a=m.indexOf(d.hierarchyEntityLongIds,a);return-1<a?d.entityTypeIndices[a]:-1},getFunctionalAreasLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().functionalAreasLabelPage},getHierarchiesInfo:function(){this._assertModelLoaded();return this.getModelInfo().hierarchiesInfo},getHierarchiesLabelPage:function(){return this.getHierarchiesInfo().hierarchiesLabelPage},
getCustomHierarchiesLabelPage:function(){return this._customHierarchiesLabelPage},getHierarchyInfo:function(a){for(var d=this.getHierarchyInfos(),b=0;b<d.length;b++){var e=d[b];if(e.entityLongId==a)return e}return null},getHierarchyInfos:function(){return this.getHierarchiesInfo().hierarchyInfos},getHierarchyInfoForHierarchySubsetEntityLongId:function(a){var d=this.getHierarchySubsetInfo(a);if(d){if(-1<d.parentHierarchyEntityLongId){var b=null;m.some(this.getHierarchyInfos(),function(d){if(-1!==m.indexOf(d.subsetEntityLongIds,
a))return b=d,!0});return b}if(-1<d.topLevelMainHierarchyEntityLongId)return this.getHierarchyInfo(d.topLevelMainHierarchyEntityLongId)}return null},getHierarchyAndHierarchySubsetEntityLongIds:function(a){if(!a)return[];var d=[a];a=this.getHierarchyInfo(a);m.forEach(a.subsetEntityLongIds,function(a){d.push(a)});return d},getHierarchySubsetsInfo:function(){this._assertModelLoaded();return this.getModelInfo().hierarchySubsetsInfo},getHierarchySubsetsLabelPage:function(){var a=this.getHierarchySubsetsInfo();
return!a?null:a.hierarchySubsetsLabelPage},getHierarchySubsetInfo:function(a){for(var d=this.getHierarchySubsetInfos(),b=0;b<d.length;b++){var e=d[b];if(e.entityLongId==a)return e}return null},getHierarchySubsetInfos:function(){return this.getHierarchySubsetsInfo().hierarchySubsetInfos},getImportsLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().importsInfo.importsLabelPage},getTimeRangeInfos:function(){var a=this.getTimeRangesInfo();return!a?null:a.timeRangeInfos},getTimeRangesInfo:function(){this._assertModelLoaded();
return this.getModelInfo().timeRangesInfo},getTimeRangesLabelPage:function(){var a=this.getTimeRangesInfo();return!a?null:a.timeRangesLabelPage},getTimeRangeInfo:function(a){var d=this.getTimeRangeInfos();if(!d)return null;for(var b=0;b<d.length;b++){var e=d[b];if(e.entityLongId==a)return e}return null},getLineItemSubsetCategoriesLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().lineItemSubsetCategoriesLabelPage},getLineItemSubsetCategoryInfos:function(){this._assertModelLoaded();
return this.getModelInfo().lineItemSubsetCategoryInfos},getLineItemsLabelPage:function(a){a=this.getModuleInfo(a);return null==a?null:a.lineItemsLabelPage},getLineItemInfo:function(a){var d=this.getModuleInfos();if(!d)return null;for(var b=0;b<d.length;b++){var e=d[b],g=m.indexOf(e.lineItemsLabelPage.entityLongIds[0],a);if(-1<g)return e.lineItemInfos[g]}return null},getLineItemSubsetInfos:function(){return this.getLineItemSubsetsInfo().lineItemSubsetInfos},getLineItemSubsetsInfo:function(){this._assertModelLoaded();
return this.getModelInfo().lineItemSubsetsInfo},getLineItemSubsetsLabelPage:function(){var a=this.getLineItemSubsetsInfo();return!a?null:a.lineItemSubsetsLabelPage},getLineItemSubsetInfo:function(a){for(var d=this.getLineItemSubsetInfos(),b=0;b<d.length;b++){var e=d[b];if(e.entityLongId==a)return e}return null},getInbuiltModelRolesMap:function(){if(!this._inbuiltRolesMap){var a={};a[l.selectiveAccess.userWorkspaceRole.ADMIN]=this._toRolesLabelPage([l.roles.FULL_ACCESS]);a[l.selectiveAccess.userWorkspaceRole.USER]=
this._toRolesLabelPage([l.roles.FULL_ACCESS,l.roles.NO_ACCESS]);this._inbuiltRolesMap=a}return this._inbuiltRolesMap},getModelDefinitionSerialNumber:function(){return this._modelInfo?this._modelInfo.modelDefinitionSerialNumber:-1},getModelInfo:function(){return this._modelInfo},getModelSizeInfo:function(){return this._modelSizeInfo},getCompositeHierarchyEntityLongIds:function(){var a=this.getHierarchiesInfo().hasWorkflowEntityLongId,d=[];if(0<a)for(a=this.getHierarchyInfo(a);null!=a;)d.push(a.entityLongId),
a=this.getHierarchyInfo(a.parentHierarchyEntityLongId);for(var a=[],b=d.length-1;0<=b;b--)a.push(d[b]);return a},getModelName:function(a){if(!a||!this._workspaceInfo.modelSummaries)return null;for(var d=this._workspaceInfo.modelSummaries,b=0,e=d.length;b<e;b++)if(d[b].modelId==a)return d[b].modelName;return null},getModelSummary:function(a){var d=this._workspaceInfo;if(d&&d.modelSummaries)for(var d=d.modelSummaries,b=0;b<d.length;b++)if(d[b].modelId==a)return d[b];return null},getModuleInfo:function(a){var d=
this.getModulesLabelPage();a=m.indexOf(d.entityLongIds[0],a);return-1==a?null:this.getModuleInfos()[a]},getModuleInfos:function(){this._assertModelLoaded();return this.getModelInfo().moduleInfos},getModulesLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().modulesLabelPage},getTagsLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().tagsLabelPage},getSystemProperty:function(a,d){var b=this._entitySystemPropertiesMap[a];return!b?(console.warn("anaplan.data.ModelContentCache.prototype.getSystemProperty: unknown entityLongId "+
a),null):b[d]},getTimescaleInfo:function(){this._assertModelLoaded();return this.getModelInfo().timeScaleInfo},getTimescaleSupersetInfo:function(){this._assertModelLoaded();return this.getModelInfo().timeScaleSupersetInfo},getUserInfo:function(){return this._userInfo},getUsersInModel:function(){return this._usersInModel},setUsersInModel:function(a){this._usersInModel=a},getVersionsLabelPage:function(){this._assertModelLoaded();return this.getModelInfo().versionsLabelPage},getViewsInfo:function(){this._assertModelLoaded();
return this.getModelInfo().viewsInfo},getViewsLabelPage:function(){return this.getViewsInfo().viewsLabelPage},getWorkspaceInfo:function(){return this._workspaceInfo},isNumberedList:function(a){try{if(!this._numberedListsByItemEntityTypeIndex){if(!this._entityTypeList||!this._entityTypeList.hierarchyEntityLongIds||!this._entityTypeList.hierarchyEntityLongIds.length||!this._entityTypeList.entityTypeIndices||!this._entityTypeList.entityTypeIndices.length)return!1;for(var d={},b=0;this._entityTypeList&&
b<this._entityTypeList.entityTypeIndices.length;++b){var e=this.getHierarchyInfo(this._entityTypeList.hierarchyEntityLongIds[b]),g=this._entityTypeList.entityTypeIndices[b];e&&e.isNumberedList&&(d[g]=!0)}this._numberedListsByItemEntityTypeIndex=d}return this._numberedListsByItemEntityTypeIndex[a]}catch(h){throw new s.ClientException("anaplan.data.ModelContentCache.isNumberedList",h);}},populateCache:function(a){a.entityTypeList&&(a.entityTypeList.entityTypeIndices&&a.entityTypeList.entityTypeIndices.length)&&
(this._entityTypeList=a.entityTypeList);for(var g in a.entitySystemPropertiesMap)a.entitySystemPropertiesMap.hasOwnProperty(g)&&(this._entitySystemPropertiesMap[g]=a.entitySystemPropertiesMap[g]);a.modelInfo&&(this._modelInfo=a.modelInfo,this._customHierarchiesLabelPage=anaplan.utils.LabelPageHelper.filterLabelPage(a.modelInfo.hierarchiesInfo.hierarchiesLabelPage,function(b,d){return a.modelInfo.hierarchiesInfo.hierarchyInfos[d].isCustomHierarchy}));a.modelSizeInfo&&(this._modelSizeInfo=a.modelSizeInfo);
a.userInfo?null==a.userInfo.entityTypeIndicesUserCanMaintain&&this._userInfo&&this._userInfo.entityTypeIndicesUserCanMaintain instanceof Array?e.mixin(a.userInfo,{entityTypeIndicesUserCanMaintain:this._userInfo.entityTypeIndicesUserCanMaintain}):this._userInfo=a.userInfo:console.warn("anaplan.data.ModelContentCache populateCache without user info");if(a.workspaceInfo){a.workspaceInfo.activeModelOnly&&1===a.workspaceInfo.modelIds.length&&(g=m.indexOf(this._workspaceInfo.modelIds,a.workspaceInfo.modelIds[0]),
0<=g?(this._workspaceInfo.modelNames[g]=a.workspaceInfo.modelNames[0],this._workspaceInfo.modelSummaries[g]=a.workspaceInfo.modelSummaries[0]):(this._workspaceInfo.modelIds.push(a.workspaceInfo.modelIds[0]),this._workspaceInfo.modelNames.push(a.workspaceInfo.modelNames[0]),this._workspaceInfo.modelSummaries.push(a.workspaceInfo.modelSummaries[0])),a.workspaceInfo.modelIds=this._workspaceInfo.modelIds,a.workspaceInfo.modelNames=this._workspaceInfo.modelNames,a.workspaceInfo.modelSummaries=this._workspaceInfo.modelSummaries,
delete a.workspaceInfo.activeModelOnly);this._workspaceInfo=a.workspaceInfo;g=this._workspaceInfo.currentWorkspaceSize;if(g!==this._currentWorkspaceSize&&-1<this._currentWorkspaceSize){var b=n.hasSingleIpCookie()&&!0===this.getApplicationProperty(l.FEATURE_FLAGS.GLOBAL_NAV);k.assertWorkspaceSize(this._workspaceInfo,b);b=k.getWorkspacePercentageFull(this._workspaceInfo);b<=l.WORKSPACE_PERCENTAGE_FULL_ERROR_THRESHOLD&&this._percentageFull>l.WORKSPACE_PERCENTAGE_FULL_ERROR_THRESHOLD&&d.publish("anaplan/persistentmessage",
null,null);this._percentageFull=b}this._currentWorkspaceSize=g}else console.warn("anaplan.data.ModelContentCache populateCache without workspace info");this._numberedListsByItemEntityTypeIndex=null;this.notifyObservers()},setAllCurrenciesLabelPage:function(a){this._allCurrenciesLabelPage=a},setApplicationProperties:function(a){this._applicationProperties=q.parseObjectProperties(a)},setAvailableCharsets:function(a){this._availableCharsets=a},setEntitlements:function(a){this._entitlements=a},hasEntitlement:function(a){return-1<
this._entitlements.indexOf(a)||a===l.ENTITLED_FEATURES.QUICK_FILTER&&!0===this.getApplicationProperty(l.FEATURE_FLAGS.QUICK_FILTER)},_assertModelLoaded:function(){if(!this.getModelInfo())throw new s.IllegalStateException("ModelContentCache: model info is null or undefined");},_reset:function(){this._entityTypeList=[];this._entitySystemPropertiesMap={};this._customHierarchiesLabelPage=this._modelSizeInfo=this._modelInfo=null;this._userInfo&&(this._userInfo.loggedInUserCurrentModelRole=null,this._userInfo.loggedInUserCurrentModelRoleEntityLongId=
-1);this._usersInModel=null},_switchModel:function(){this._reset()},_toRolesLabelPage:function(a){if(!a||!a.length)return{start:0,count:0,entityLongIds:[[]],entityIds:[[]],labels:[[]],parentEntityLongIds:[[]],styles:null,isEditable:[[]],isAggregate:[[]],treeLineSequences:[[]]};for(var d=a.length,b=[],e=[],g=[],h=0;h<d;h++)b.push(!1),g.push(-1),e.push(p.getEntityLongId(l.BUILT_IN_MODEL_ROLE_ENTITY_TYPE_INDEX,h));return{start:0,count:d,entityLongIds:[e],entityIds:[a.slice()],labels:[a.slice()],parentEntityLongIds:[g],
styles:null,isEditable:[b],isAggregate:[b],treeLineSequences:[[]]}}}));e.setObject("anaplan.data.ModelContentCache",f);return f})},"anaplan/utils/Observable":function(){define(["dojo/_base/declare"],function(l){return l("anaplan.utils.Observable",null,{constructor:function(){this._observers=[]},addObserver:function(l){this._observers.push(l)},deleteObserver:function(l){var p;for(p=0;p<this._observers.length;p++)if(this._observers[p]===l){this._observers.splice(p,1);return}throw Error("Observer not found: "+
l);},isObserver:function(l){var p=this._observers,q,f;q=0;for(f=p.length;q<f;q++)if(p[q]===l)return!0;return!1},notifyObservers:function(){var l;for(l=0;l<this._observers.length;l++)this._observers[l].update(arguments)}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(l,s,p){return l("dijit.form.RangeBoundTextBox",p,{rangeMessage:"",rangeCheck:function(l,f){return("min"in f?0<=this.compare(l,f.min):!0)&&
("max"in f?0>=this.compare(l,f.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var l=this.get("value");if(null==l)return!1;var f=!1;"min"in this.constraints&&(f=this.constraints.min,f=0>this.compare(l,"number"==typeof f&&0<=f&&0!=l?0:f));!f&&"max"in this.constraints&&(f=this.constraints.max,f=0<this.compare(l,"number"!=typeof f||0<f?f:0));return f},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},
isValid:function(l){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(l))},getErrorMessage:function(l){var f=this.get("value");return null!=f&&""!==f&&("number"!=typeof f||!isNaN(f))&&!this.isInRange(l)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=s.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"anaplan/api/Entity/FunctionalArea":function(){define(["anaplan/api/Entity/Base/Entity",
"dojo/_base/declare"],function(l,s){return s([l],{})})},"anaplan/view/MoveHierarchyItem":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/utils/FormatHelper anaplan/common/ViewSerialNumbers anaplan/constants anaplan/utils/SubmissionHandler anaplan/data/ChangeFactory anaplan/data/ModelContentHelper anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/view/MoveHierarchyItem/_Tree anaplan/widgets/ConfirmationDialog anaplan/widgets/Dialog2 dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/i18n!anaplan/nls/hierarchyEditor dojo/i18n!anaplan/nls/moveHierarchyItem dojo/i18n!dijit/nls/common dojo/i18n!dijit/nls/loading dojo/on dojo/text!anaplan/templates/MoveHierarchyItem.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C){return z([r.ContentMixin,t,b,u],{baseClass:"moveHierarchyItem",widgetsInTemplate:!0,templateString:C,constructor:function(a){this._viewDefinition=a.viewDefinition;this._hierarchyId=a.hierarchyId;this._itemsToMove=a.itemsToMove;this._selectedItem=this._values=null;this._connections=[];this._isObserver=!1;this._serialNumbers=new q},error:function(a){console.error("MoveHierarchyItem: error",a)},onCancel:function(){},onMove:function(){},
reset:function(){this._serialNumbers=new q;this._viewIndex=-1;this._selectedItem=this._pageInfo=this._rowLabelPage=null;this.tree.reset();this.loading.style.display=""},startup:function(){this._started&&console.warn("startup "+this.id);try{this.inherited(arguments);l.setText(this.loadingLabel,E.loadingState);this.clearSearchButton.set("label",A.buttonClearSearch);this.clearSearchButton.set("title",A.buttonClearSearch);this.searchField.value=A.textSearchField;l.setText(this.instructions,A.labelInstructions);
l.setText(this.positionLegend,A.labelPosition);l.setText(this.beforeButtonLabel,A.labelBefore);l.setText(this.afterButtonLabel,A.labelAfter);l.setText(this.childButtonLabel,A.labelChild);l.setText(this.invalidWarningHeading,A.labelInvalidWarningHeading);l.setText(this.invalidWarningMessage,A.labelCircularityWarning);this.okButton.set("label",D.buttonOk);this.cancelButton.set("label",D.buttonCancel);this.tree=new d({},this.treeNode);var a=B(this.tree,"Select",y.hitch(this,"_onTreeSelect"));this.own(a);
s.addObserver(this);this._isObserver=!0;s.gather()}catch(b){throw new e.ClientException("MoveHierarchyItem: startup",b);}},uninitialize:function(){this._isObserver&&(s.deleteObserver(this),this._isObserver=!1);this.tree&&this.tree.destroyRecursive();this.inherited(arguments)},update:function(a){var b,d;y.isArray(a)&&(a=a[0]);b=this._serialNumbers;d=this._serialNumbers=new q(a.serialNumbers);this._pageInfo=a.pageInfo;this._viewIndex=a.viewIndex;b.rowAxisSerialNumber!==d.rowAxisSerialNumber&&(1!=a.rowLabelPages.length&&
console.warn("MoveHierarchyItem; "+a.rowLabelPages.length+" row label pages; expected 1"),this._rowLabelPage=a.rowLabelPages[0],this._rebuild())},view:function(){return(new h(workspaceId)).getRequest({modelId:modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})},_confirm:function(b,d,e){try{var g=this;this._confirmationDialog||
(this._confirmationDialog=new a);this._confirmationDialog.set("title",d);this._confirmationDialog.set("content",b);var h=B(this._confirmationDialog,"execute",y.hitch(this,function(){h.remove();e()}));setTimeout(function(){g._confirmationDialog.show()},500)}catch(f){l.throwClientException(this,f)}},_isDataView:function(){return this._viewDefinition&&"MODEL_DATA"==this._viewDefinition.type},_isMoveCircular:function(a,b){try{if(a&&a.entityLongId){for(var d=a.entityLongId,e=0;e<b.length;e++)if(b[e].entityLongIds===
d)return!0;var d=null,g=a.parentEntityLongId;if(g&&-1!==g)var h=this._rowLabelPage,f=v.indexOf(h.entityLongIds[0],g),d={entityLongId:g,parentEntityLongId:h.parentEntityLongIds[0][f]};return this._isMoveCircular(d,b)}}catch(r){l.throwClientException(this,r)}return!1},_onCancel:function(){this.onCancel()},_onTreeSelect:function(a){this._setSelectedItem(a)},_onPositionChange:function(){this._validateSelection()},_onSubmit:function(a){try{if(this._selectedItem){var b;this.beforeButton.checked?b=this.beforeButton.value:
this.afterButton.checked?b=this.afterButton.value:this.childButton.checked&&(b=this.childButton.value);var d=this.tree.getSelectedItem();this._executeMove(d,b)}}catch(g){l.showErrorReporter(new e.ClientException("MoveHierarchyItem: _onSubmit",g,{widgetId:this.id},a))}},_rebuild:function(){this.tree.updateTree(this._rowLabelPage);this.loading.style.display="none"},_setSelectedItem:function(a){try{this._selectedItem=a,this.okButton.set("disabled",!a),this._validateSelection()}catch(b){l.throwClientException(this,
b)}},_validateSelection:function(){try{var a=!0,b=this._itemsToMove;if(this._selectedItem){var d=this._selectedItem;if(this._isDataView()&&(this.childButton.checked&&!d.isItemEditable||(this.beforeButton.checked||this.afterButton.checked)&&!d.canInsertSibling))l.setText(this.invalidWarningMessage,A.labelInvalidPositionWarning),a=!1;else if(this._isMoveCircular(d,b))l.setText(this.invalidWarningMessage,A.labelCircularityWarning),a=!1;else{var e=m.getSingleDimensionEntityTypeIndices(this._pageInfo.rowEntityTypeIndices,
0);if(e&&1<e.length){var h=g.getEntityTypeIndex(b[0].entityLongIds),f=g.getEntityTypeIndex(d.entityLongId);h!==e[0]?(l.setText(this.invalidWarningMessage,A.labelMoveRestrictionWarning),a=!1):this.childButton.checked?f!==e[1]?(l.setText(this.invalidWarningMessage,A.labelInvalidPositionWarning),a=!1):2===e.length&&d.isAggregate&&(l.setText(this.invalidWarningMessage,A.labelInvalidPositionWarning),a=!1):h!==f&&(l.setText(this.invalidWarningMessage,A.labelInvalidPositionWarning),a=!1)}}this.okButton.set("disabled",
!a);w.set(this.invalidWarning,"visibility",a?"hidden":"visible")}}catch(r){l.throwClientException(this,r)}},_executeMove:function(a,b){try{var d=this._itemsToMove;if("Before"==b||"After"==b)this._onItemsMoved(d,a,b);else if("End"==b){var g=this;(!a.hasChildren||a.children&&!a.children.length)&&1>=m.getSingleDimensionEntityTypeIndices(this._pageInfo.rowEntityTypeIndices,0).length?g._confirm(x.confirmationMessage.replace("%itemName%",p.escapeHTML(a.name)),x.confirmationTitle,function(){g._onItemsMoved(d,
a,"Over")}):this._onItemsMoved(d,a,"Over")}else console.warn("MoveHierarchyItem._executeMove: invalid moveToPosition ["+b+"]")}catch(h){l.showErrorReporter(new e.ClientException("MoveHierarchyItem: _executeMove",h))}},_onItemsMoved:function(a,b,d){var e=new n,h=e.getCellChangeGenerator(),r=[],t=[],u=this._viewDefinition.staticContextIdentifiers[0],l=f.SYSTEM_PROPERTY_PARENT;if("Before"==d||"After"==d)e=e.getModelChangeGenerator({entityTypeClass:"CUSTOM",entityTypeIndex:m.getSingleDimensionEntityTypeIndices(this._pageInfo.rowEntityTypeIndices,
0)[0]}),t.push({modelId:modelId,moduleId:this._moduleId||"",modelChangeXml:e.getModelChangeXml("MOVE",{position:d,relativeToEntityLongId:b.entityLongId,items:a})});var p=this._rowLabelPage;v.forEach(a,function(a){var e=null,f=null;a.hasOwnProperty("parentEntityLongId")&&a.hasOwnProperty("parentId")?(e=a.parentId,f=a.parentEntityLongId):(e=v.indexOf(p.entityLongIds[0],a.entityLongIds),f=p.parentEntityLongIds[0][e],e=p.entityIds[0][v.indexOf(p.entityLongIds[0],f)]);if("Before"!=d&&"After"!=d||f!=b.parentEntityLongId)a=
{modelId:modelId,originalText:String(f),currentDisplayText:e,entityLongIds:[this._hierarchyId||g.entityLongIdIdentifierToEntityLongId(u),l,a.hasOwnProperty("entityLongId")?a.entityLongId:a.entityLongIds],cellText:"Before"==d||"After"==d?b.parentId:b.entityId},r.push(h.getCellChange(a))},this);a=[{workspaceId:workspaceId,cellChanges:r,modelChanges:t}];var q=this;(new k({aggregatorObserver:this})).gather(a).then(function(){q.onMove()})}})})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){s=s("dojo.dnd.Container",h,{skipForm:!1,allowNested:!1,constructor:function(b,d){this.node=k.byId(b);d||(d={});this.creator=d.creator||null;this.skipForm=d.skipForm;this.parent=d.dropParent&&k.byId(d.dropParent);this.map={};this.current=null;this.containerState="";n.add(this.node,"dojoDndContainer");(!d||!d._skipStartup)&&this.startup();this.events=[g(this.node,a.over,q.hitch(this,"onMouseOver")),g(this.node,a.out,q.hitch(this,"onMouseOut")),g(this.node,"dragstart",
q.hitch(this,"onSelectStart")),g(this.node,"selectstart",q.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,d){this.map[a]=d},delItem:function(a){delete this.map[a]},forInItems:function(a,d){d=d||p.global;var e=this.map,g=r._empty,h;for(h in e)h in g||a.call(d,e[h],h,this);return d},clearItems:function(){this.map={}},getAllNodes:function(){return d((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(d){if(d.id){var e=
this.getItem(d.id);if(e){a[d.id]=e;return}}else d.id=r.getUniqueId();var e=d.getAttribute("dndType"),g=d.getAttribute("dndData");a[d.id]={data:g||d.innerHTML,type:e?e.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,d,e){this.parent.firstChild?d?e||(e=this.parent.firstChild):e&&(e=e.nextSibling):e=null;var g;if(e)for(d=0;d<a.length;++d)g=this._normalizedCreator(a[d]),this.setItem(g.node.id,{data:g.data,type:g.type}),e.parentNode.insertBefore(g.node,e);else for(d=0;d<
a.length;++d)g=this._normalizedCreator(a[d]),this.setItem(g.node.id,{data:g.data,type:g.type}),this.parent.appendChild(g.node);return this},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,d,e){a._skipStartup=!0;return new e(d,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=r._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var d=a.relatedTarget;d&&d!=this.node;)try{d=d.parentNode}catch(e){d=null}d||(this._changeState("Container","Over"),this.onOverEvent());d=this._getChildByEvent(a);this.current!=d&&(this.current&&this._removeItemClass(this.current,"Over"),d&&this._addItemClass(d,"Over"),this.current=d)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(d){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!r.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,d){var e="dojoDnd"+a,g=a.toLowerCase()+"State";n.replace(this.node,e+d,e+this[g]);this[g]=d},_addItemClass:function(a,d){n.add(a,"dojoDndItem"+d)},_removeItemClass:function(a,d){n.remove(a,"dojoDndItem"+d)},
_getChildByEvent:function(a){if(a=a.target)for(var d=a.parentNode;d;a=d,d=a.parentNode)if((d==this.parent||this.allowNested)&&n.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,d){var e=(this.creator||this.defaultCreator).call(this,a,d);q.isArray(e.type)||(e.type=["text"]);e.node.id||(e.node.id=r.getUniqueId());n.add(e.node,"dojoDndItem");return e}});r._createNode=function(a){return!a?r._createSpan:function(d){return m.create(a,{innerHTML:d})}};r._createTrTd=function(a){var d=
m.create("tr");m.create("td",{innerHTML:a},d);return d};r._createSpan=function(a){return m.create("span",{innerHTML:a})};r._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};r._defaultCreator=function(a){a=a.tagName.toLowerCase();var d="tbody"==a||"thead"==a?r._createTrTd:r._createNode(r._defaultCreatorNodes[a]);return function(a,b){var e=a&&q.isObject(a),g,h;e&&a.tagName&&a.nodeType&&a.getAttribute?(g=a.getAttribute("dndData")||a.innerHTML,e=(e=a.getAttribute("dndType"))?e.split(/\s*,\s*/):
["text"],h=a):(g=e&&a.data?a.data:a,e=e&&a.type?a.type:["text"],h=("avatar"==b?r._createSpan:d)(String(g)));h.id||(h.id=r.getUniqueId());return{node:h,data:g,type:e}}};return s})},"anaplan/widgets/QuickFilter/Overview":function(){define("anaplan/utils/FilterHelper dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/on dojo/i18n!anaplan/nls/filter anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/utils/EntityLongIdHelper".split(" "),function(l,s,p,q,f,k,n,m,h){function e(e){var d=
document.createElement("div");d.classList.add(e);return d}return p([s],{sortAndFilterDefinition:null,baseClass:"filterOverview",gridController:null,menuItemFilter:!1,constructor:function(e){this.gridController=e.gridController},postCreate:function(){this.inherited(arguments);var e=this,d=this.axisDefinition.sortAndFilterDefinition;document.createElement("div").appendChild(document.createTextNode(JSON.stringify({isActive:d.isActive,filterMatchType:d.filterMatchType})));var a=e.menuItemFilter,f,b=d.filterConditions.map(function(a,
b){f=d.filterConditionInfos[b];var t;a.moduleIdentifier?t=m.getModuleInfo(h.entityLongIdIdentifierToEntityLongId(a.moduleIdentifier)):a.lineItemIdentifier&&(t=n.getLineItemInfo(m,h.entityLongIdIdentifierToEntityLongId(a.lineItemIdentifier||a.moduleIdentifier)));var u=a.comparisonValue||a.comparisonMultiValueOR;a.lineItemIdentifier&&"ENTITY"===t.format.dataType&&(u=a.comparisonMultiValueOR?f.comparisonValuesLabelPage.labels[0].filter(function(a){return null!==a}).join(" OR "):null);return{filterConditionType:a.hasOwnProperty("filterConditionType")?
a.filterConditionType:"",lineItemLabel:q.exists("lineItemLabelPage.labels",f)?e.getConcatLabels(f):"",contextLabels:q.exists("contextLabelPage.labels",f)?f.contextLabelPage.labels[0].join(", "):"",operator:k["option"+a.comparisonOperator],value:u,isValid:f.isValid}}).filter(function(b,d){return null!==b&&(a||l.isQuickFilterCondition(b))}).sort(function(a,b){return l.isQuickFilterCondition(b)?-1:1}),t=n.getLabelForDimensionIdentifier(m,e.axisDefinition.dimensionIdentifier)||"",u=document.createElement("span");
u.classList.add("dimensionLabel");u.appendChild(document.createTextNode(t));e.domNode.appendChild(u);var v=[],t=[];b.forEach(function(a){"QUICK"===a.filterConditionType&&v.push(a)});u=!1;0<t.length&&(u=!0,e.createAdvancedFilterTable(t,{isActive:d.isActive,filterMatchType:d.filterMatchType}));0<v.length&&(u&&e.createMainAndRow(),e.createQuickFilterTable(v));a&&b.some(function(a){return!1===l.isQuickFilterCondition(a)})&&this._createAdditionalFiltersAppliedMessage()},getConcatLabels:function(e){return e.lineItemLabelPage.labels[0].concat(e.contextLabelPage.labels[0]).join(", ")},
createMainAndRow:function(){var e=document.createElement("div");e.classList.add("separator");var d=document.createElement("span");d.appendChild(document.createTextNode("AND"));e.appendChild(d);this.domNode.appendChild(e)},createFilterOverviewType:function(e,d){var a=document.createElement("div");a.classList.add("filterOverviewType");var h=document.createElement("span");h.appendChild(document.createTextNode(e));a.appendChild(h);h=this.createIcon(d);a.appendChild(h);return a},createAdvancedFilterTable:function(g,
d){var a=this.createFilterOverviewType("Advanced","anaplanEditorIconAdminUser");this.domNode.appendChild(a);var a=e("table-container-advanced"),h=e("startColumn");a.appendChild(h);var h=e("tableContainer"),b=document.createElement("table");h.appendChild(b);var f=this;g.forEach(function(a,e){var h=f.createAdvancedWhenDetails(a);b.appendChild(h);h=f.createAdvancedWhereRow(a);b.appendChild(h);e!==g.length-1&&b.appendChild(f.createAndOrRow(d.filterMatchType))});a.appendChild(h);h=e("endColumn");a.appendChild(h);
this.domNode.appendChild(a)},createAdvancedWhenDetails:function(e){var d=document.createElement("tr"),a=document.createElement("td"),h=document.createElement("span"),b=document.createTextNode("When: ");h.appendChild(b);a.appendChild(h);h=document.createElement("span");h.classList.add("filterOverviewProp-lineItemLabel");h.appendChild(document.createTextNode(this.getModuleLabel()));a.appendChild(h);h=document.createElement("span");h.appendChild(document.createTextNode(" \x3d "+e.lineItemLabel+" and "));
a.appendChild(h);h=document.createElement("span");h.classList.add("filterOverviewProp-lineItemLabel");h.appendChild(document.createTextNode(e.contextLabels));a.appendChild(h);h=document.createElement("span");b=document.createTextNode(" \x3d -- Current Page --");h.appendChild(b);a.appendChild(h);d.appendChild(a);a=document.createElement("td");e.isValid||(a.classList.add("invalidIcon"),a.appendChild(this.createIcon("anaplanEditorIconInvalid")));d.appendChild(a);return d},createAdvancedWhereRow:function(e){var d=
document.createElement("tr"),a=document.createElement("td");a.setAttribute("colspan",3);var h=document.createElement("span");h.appendChild(document.createTextNode("and where: "));a.appendChild(h);h=document.createElement("span");h.classList.add("filterOverviewProp-lineItemLabel");h.appendChild(document.createTextNode(e.lineItemLabel));a.appendChild(h);h=document.createElement("span");h.classList.add("filterOverviewProp-operator");h.appendChild(document.createTextNode(e.operator));a.appendChild(h);
h=document.createElement("span");h.appendChild(document.createTextNode(" "));a.appendChild(h);h=document.createElement("span");h.classList.add("filterOverviewProp-value");h.appendChild(document.createTextNode(e.value));a.appendChild(h);d.appendChild(a);return d},createAndOrRow:function(e){e="ANY"===e?"OR":"AND";var d=document.createElement("tr"),a=document.createElement("td");a.setAttribute("colspan",4);var h=document.createElement("span");h.classList.add("andOrRowSpan");h.appendChild(document.createTextNode(e));
h.appendChild(document.createElement("hr"));a.appendChild(h);d.appendChild(a);return d},createFilterItem:function(e,d,a,h){d=document.createElement("td");"isValid"===a?(d.classList.add("invalidIcon"),!1===e[a]&&d.appendChild(this.createIcon("anaplanEditorIconInvalid"))):e[a]&&(h=document.createElement("span"),h.appendChild(document.createTextNode(e[a])),d.appendChild(h));d.classList.add("filterOverviewProp-"+a);return d},createTextNode:function(e,d){var a=document.createElement("span");a.appendChild(document.createTextNode(e.hasOwnProperty(d)?
e[d]:""));return a},createIcon:function(e){var d=document.createElement("div");d.classList.add("anaplanEditorIcon");d.classList.add(e);return d},createQuickFilterTable:function(g){var d=["lineItemLabel","operator","value","isValid"],a=this.createFilterOverviewType("Quick Filter","anaplanEditorIconUser");this.domNode.appendChild(a);var a=e("table-container-quick"),h=e("startColumn");a.appendChild(h);var h=e("tableContainer"),b=document.createElement("table");h.appendChild(b);var f=this;g.forEach(function(a,
e){var h=document.createElement("tr");b.appendChild(h);d.forEach(function(b,d){var g=f.createFilterItem(a,e,b,d);h.appendChild(g)});e!==g.length-1&&b.appendChild(f.createAndOrRow())});a.appendChild(h);h=e("endColumn");a.appendChild(h);this.domNode.appendChild(a)},getModuleLabel:function(){var e=this.gridController.getModuleEntityLongId(),d=m.getModulesLabelPage(),e=d.entityLongIds[0].indexOf(e);return d.labels[0][e]},onAdvancedFilterDialog:function(){},_createAdditionalFiltersAppliedMessage:function(){var e=
document.createElement("div");e.className="additionalFiltersApplied";var d=document.createElement("a");d.href="#";this.own(f(d,"click",q.hitch(this,function(){this.getParent().hide();this.onAdvancedFilterDialog()})));d.appendChild(document.createTextNode(k.messageAdditionalFilters));e.appendChild(d);d=document.createElement("span");d.appendChild(document.createTextNode(k.messageAreApplied));e.appendChild(d);this.domNode.appendChild(e)}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel",
"../_base/lang","../dom"],function(l,s,p,q){var f=p.getObject("dojo.dnd",!0);f.getCopyKeyState=function(f){return f[l("mac")?"metaKey":"ctrlKey"]};f._uniqueId=0;f.getUniqueId=function(){var k;do k=s._scopeName+"Unique"+ ++f._uniqueId;while(q.byId(k));return k};f._empty={};f.isFormElement=function(f){f=f.target;3==f.nodeType&&(f=f.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+f.tagName.toLowerCase()+" ")};return f})},"dojo/data/ObjectStore":function(){define("../_base/lang ../Evented ../_base/declare ../_base/Deferred ../_base/array ../_base/connect ../regexp".split(" "),
function(l,s,p,q,f,k,n){function m(h){return"*"==h?".*":"?"==h?".":h}return p("dojo.data.ObjectStore",[s],{objectStore:null,constructor:function(h){this._dirtyObjects=[];h.labelAttribute&&(h.labelProperty=h.labelAttribute);l.mixin(this,h)},labelProperty:"label",getValue:function(h,e,g){return"function"===typeof h.get?h.get(e):e in h?h[e]:g},getValues:function(h,e){var g=this.getValue(h,e);return g instanceof Array?g:void 0===g?[]:[g]},getAttributes:function(h){var e=[],g;for(g in h)h.hasOwnProperty(g)&&
!("_"==g.charAt(0)&&"_"==g.charAt(1))&&e.push(g);return e},hasAttribute:function(h,e){return e in h},containsValue:function(h,e,g){return-1<f.indexOf(this.getValues(h,e),g)},isItem:function(h){return"object"==typeof h&&h&&!(h instanceof Date)},isItemLoaded:function(h){return h&&"function"!==typeof h.load},loadItem:function(h){var e;"function"===typeof h.item.load?q.when(h.item.load(),function(g){e=g;var d=g instanceof Error?h.onError:h.onItem;d&&d.call(h.scope,g)}):h.onItem&&h.onItem.call(h.scope,
h.item);return e},close:function(h){return h&&h.abort&&h.abort()},fetch:function(h){function e(a){h.onError&&h.onError.call(d,a,h)}h=l.delegate(h,h&&h.queryOptions);var g=this,d=h.scope||g,a=h.query;if("object"==typeof a){var a=l.delegate(a),r;for(r in a){var b=a[r];"string"==typeof b&&(a[r]=RegExp("^"+n.escapeString(b,"*?\\").replace(/\\.|\*|\?/g,m)+"$",h.ignoreCase?"mi":"m"),a[r].toString=function(a){return function(){return a}}(b))}}var k=this.objectStore.query(a,h);q.when(k.total,function(a){q.when(k,
function(b){h.onBegin&&h.onBegin.call(d,a||b.length,h);if(h.onItem)for(var e=0;e<b.length;e++)h.onItem.call(d,b[e],h);h.onComplete&&h.onComplete.call(d,h.onItem?null:b,h);return b},e)},e);h.abort=function(){k.cancel&&k.cancel()};k.observe&&(this.observing&&this.observing.cancel(),this.observing=k.observe(function(a,b,d){if(-1==f.indexOf(g._dirtyObjects,a))if(-1==b)g.onNew(a);else if(-1==d)g.onDelete(a);else for(var e in a)if(e!=g.objectStore.idProperty)g.onSet(a,e,null,a[e])},!0));this.onFetch(k);
h.store=this;return h},getFeatures:function(){return{"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":!0,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":!0}},getLabel:function(h){if(this.isItem(h))return this.getValue(h,this.labelProperty)},getLabelAttributes:function(h){return[this.labelProperty]},getIdentity:function(h){return this.objectStore.getIdentity?this.objectStore.getIdentity(h):h[this.objectStore.idProperty||"id"]},getIdentityAttributes:function(h){return[this.objectStore.idProperty]},
fetchItemByIdentity:function(h){var e;q.when(this.objectStore.get(h.identity),function(g){e=g;h.onItem.call(h.scope,g)},function(e){h.onError.call(h.scope,e)});return e},newItem:function(h,e){if(e){var g=this.getValue(e.parent,e.attribute,[]),g=g.concat([h]);h.__parent=g;this.setValue(e.parent,e.attribute,g)}this._dirtyObjects.push({object:h,save:!0});this.onNew(h);return h},deleteItem:function(h){this.changing(h,!0);this.onDelete(h)},setValue:function(h,e,g){var d=h[e];this.changing(h);h[e]=g;this.onSet(h,
e,d,g)},setValues:function(h,e,g){if(!l.isArray(g))throw Error("setValues expects to be passed an Array object as its value");this.setValue(h,e,g)},unsetAttribute:function(h,e){this.changing(h);var g=h[e];delete h[e];this.onSet(h,e,g,void 0)},changing:function(h,e){h.__isDirty=!0;for(var g=0;g<this._dirtyObjects.length;g++){var d=this._dirtyObjects[g];if(h==d.object){e&&(d.object=!1,this._saveNotNeeded||(d.save=!0));return}}d=h instanceof Array?[]:{};for(g in h)h.hasOwnProperty(g)&&(d[g]=h[g]);this._dirtyObjects.push({object:!e&&
h,old:d,save:!this._saveNotNeeded})},save:function(h){h=h||{};var e,g=[],d=[],a=this,f=this._dirtyObjects,b=f.length;try{k.connect(h,"onError",function(){if(!1!==h.revertOnError){var b=f;f=d;a.revert();a._dirtyObjects=b}else a._dirtyObjects=f.concat(d)});if(this.objectStore.transaction)var t=this.objectStore.transaction();for(var m=0;m<f.length;m++){var n=f[m],l=n.object,p=n.old;delete l.__isDirty;l?e=this.objectStore.put(l,{overwrite:!!p}):"undefined"!=typeof p&&(e=this.objectStore.remove(this.getIdentity(p)));
d.push(n);f.splice(m--,1);q.when(e,function(a){--b||h.onComplete&&h.onComplete.call(h.scope,g)},function(a){b=-1;h.onError.call(h.scope,a)})}t&&t.commit()}catch(w){h.onError.call(h.scope,value)}},revert:function(){for(var h=this._dirtyObjects,e=h.length;0<e;){e--;var g=h[e],d=g.object,g=g.old;if(d&&g){for(var a in g)g.hasOwnProperty(a)&&d[a]!==g[a]&&(this.onSet(d,a,d[a],g[a]),d[a]=g[a]);for(a in d)g.hasOwnProperty(a)||(this.onSet(d,a,d[a]),delete d[a])}else if(g)this.onNew(g);else this.onDelete(d);
delete (d||g).__isDirty;h.splice(e,1)}},isDirty:function(h){return!h?!!this._dirtyObjects.length:h.__isDirty},onSet:function(){},onNew:function(){},onDelete:function(){},onFetch:function(h){}})})},"anaplan/api/SystemActions/GetUsersInModel":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{applyDefaults:function(f){f=f||{};f.modelId=f.modelId||window.modelId;return f},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_USERS_IN_MODEL,
params:{modelId:this._params.modelId}}},parseResponse:function(f){return f&&f.users?f.users:[]}})})},"anaplan/gridlet/selection/FixedCoordinate":function(){define(["anaplan/gridlet/selection/_SelectionBase","dojo/_base/declare"],function(l,s){var p=s(l,{fixedIndex:null,constructor:function(l){l&&this.setFixedIndex(l.fixedIndex)},equals:function(l){return!this.inherited(arguments)||!(l instanceof p)||l.fixedIndex!==this.fixedIndex?!1:!0},isFixed:function(){return!0},resolve:function(){var l=this.inherited(arguments);
null!==this.fixedIndex&&0>this.fixedIndex&&(this.setFixedIndex(0),l=!0);return l},setFixedIndex:function(l){this.fixedIndex=null!==l?parseInt(l,10):null},toJSON:function(){return{fixedIndex:this.fixedIndex}}});return p})},"anaplan/dashboard/LayoutPosition":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(l,s){var p=l("anaplan.dashboard.LayoutPosition",null,{constructor:function(l){l.layoutPosition?this._parseLayoutPosition(l.layoutPosition):(this._columnIndex=l.columnIndex,this._rowIndex=
l.rowIndex,this._subColumnIndex=l.subColumnIndex,this._subRowIndex=l.subRowIndex)},clone:function(l){return new p(s.mixin({columnIndex:this.getColumnIndex(),rowIndex:this.getRowIndex(),subColumnIndex:this.getSubColumnIndex(),subRowIndex:this.getSubRowIndex()},l))},getColumnIndex:function(){return-1<this._columnIndex?this._columnIndex:-1},getRowIndex:function(){return-1<this._rowIndex?this._rowIndex:0},getSubColumnIndex:function(){return-1<this._subColumnIndex?this._subColumnIndex:-1},getSubRowIndex:function(){return-1<
this._subRowIndex?this._subRowIndex:-1},getParsedLayout:function(l){this._parseLayoutPosition(l);return{rowIndex:this._rowIndex,columnIndex:this._columnIndex,subRowIndex:this._subRowIndex,subColumnIndex:this._subColumnIndex}},toString:function(){return-1<this.getSubRowIndex()?["r",this.getRowIndex(),",c",this.getColumnIndex(),",r"+this.getSubRowIndex(),",c",this.getSubColumnIndex()].join(""):["r",this.getRowIndex(),",c",this.getColumnIndex()].join("")},_parseLayoutPosition:function(l){l=l.split(",");
var f,k;this._subColumnIndex=this._subRowIndex=this._columnIndex=this._rowIndex=-1;for(f=0;f<l.length;f++)k=l[f],"r"===k.charAt(0)?-1<this._rowIndex?-1<this._subRowIndex?console.warn("_parseLayoutPosition unsupported level of nesting"):this._subRowIndex=parseInt(k.substring(1),10):this._rowIndex=parseInt(k.substring(1),10):"c"===k.charAt(0)&&(-1<this._columnIndex?-1<this._subColumnIndex?console.warn("_parseLayoutPosition unsupported level of nesting"):this._subColumnIndex=parseInt(k.substring(1),
10):this._columnIndex=parseInt(k.substring(1),10))}});return p})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(l,s,p,q,f,k){return s("dijit.tree._dndContainer",null,{constructor:function(n,m){this.tree=n;this.node=n.domNode;q.mixin(this,m);this.containerState="";p.add(this.node,"dojoDndContainer");this.events=[f(this.node,k.enter,q.hitch(this,"onOverEvent")),f(this.node,k.leave,q.hitch(this,"onOutEvent")),
l.after(this.tree,"_onNodeMouseEnter",q.hitch(this,"onMouseOver"),!0),l.after(this.tree,"_onNodeMouseLeave",q.hitch(this,"onMouseOut"),!0),f(this.node,"dragstart, selectstart",function(h){h.preventDefault()})]},destroy:function(){for(var f;f=this.events.pop();)f.remove();this.node=this.parent=null},onMouseOver:function(f){this.current=f},onMouseOut:function(){this.current=null},_changeState:function(f,k){var h="dojoDnd"+f,e=f.toLowerCase()+"State";p.replace(this.node,h+k,h+this[e]);this[e]=k},_addItemClass:function(f,
k){p.add(f,"dojoDndItem"+k)},_removeItemClass:function(f,k){p.remove(f,"dojoDndItem"+k)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"anaplan/data/ChangeFactory":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper dojo/_base/array dojo/_base/declare dojo/json".split(" "),function(l,s,p,q,f,k,n,m){return n([],{getModelChangeGenerator:function(h,
e){if(!h)throw new p.InvalidArgumentException("ChangeFactory.getModelChangeGenerator: entityType is null");var g=function(d){this._decorator=d;this.getModelChangeXml=function(a,d){return e?this._decorator.getModelChangeXml(a,d):"\x3cModelDefinition\x3e"+this._decorator.getModelChangeXml(a,d)+"\x3c/ModelDefinition\x3e"}};if("LINE_ITEM"===h.entityTypeClass)return new g(new this._lineItemDecorator(this));if("SAVED_VIEW"===h.entityTypeClass)return new g(new this._savedViewDecorator(this));if("SYSTEM"===
h.entityTypeClass)switch(h.entityTypeIndex){case l.HIERARCHY_ENTITY_TYPE_INDEX:return new g(new this._hierarchyDecorator(this));case l.MODULE_ENTITY_TYPE_INDEX:return new g(new this._moduleDecorator(this));case l.VERSION_ENTITY_TYPE_INDEX:return new g(new this._versionDecorator(this));case l.CUSTOM_MODEL_ROLE_ENTITY_TYPE_INDEX:return new g(new this._roleDecorator(this));case l.FUNCTIONAL_AREA_ENTITY_TYPE_INDEX:return new g(new this._functionalAreaDecorator(this));case l.IMPORT_ENTITY_TYPE_INDEX:return new g(new this._importDecorator(this));
case l.IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX:return new g(new this._importDataSourceDecorator(this));case l.CURRENCY_ENTITY_TYPE_INDEX:return new g(new this._currencyDecorator(this));case l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX:return new g(new this._hierarchySubsetDecorator(this));case l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX:return new g(new this._lineItemSubsetDecorator(this));case l.TIME_RANGE_ENTITY_TYPE_INDEX:return new g(new this._timeRangeDecorator(this));case l.DASHBOARD_ENTITY_TYPE_INDEX:return new g(new this._dashboardDecorator(this));
case l.EXPORT_ENTITY_TYPE_INDEX:return new g(new this._exportDecorator(this));case l.ACTION_ENTITY_TYPE_INDEX:return new g(new this._actionDecorator(this));case l.PROCESS_ENTITY_TYPE_INDEX:return new g(new this._processDecorator(this));case l.TAG_ENTITY_TYPE_INDEX:return new g(new this._tagDecorator(this));default:throw new p.InvalidArgumentException(null,null,{value:h.entityTypeIndex});}else{if("CUSTOM"===h.entityTypeClass)return new g(new this._genericEntityDecorator(this,h));if("PROPERTY"===h.entityTypeClass)return new g(new this._propertyDecorator(this))}throw new p.InvalidArgumentException(null,
null,{value:h.entityTypeClass});},getCellChangeGenerator:function(h){return"NUMBER"===h?new function(){this.getCellChange=function(e){var g={modelId:e.modelId,asText:!1,noCurrentValue:e.noCurrentValue||!1,currentValue:Number(e.originalText),entityLongIds:e.entityLongIds,newValue:Number(e.cellText)};"viewIndex"in e&&(g.viewIndex=e.viewIndex);return g}}:new function(){this.getCellChange=function(e){var g={modelId:e.modelId,asText:!0,noCurrentValue:e.noCurrentValue||!1,currentText:e.originalText,currentDisplayText:void 0===
e.currentDisplayText?null:e.currentDisplayText,entityLongIds:e.entityLongIds,newText:e.cellText};"viewIndex"in e&&(g.viewIndex=e.viewIndex);return g}}},getViewChangeGenerator:function(h){var e=l.viewChangeType;if(h===e.BREAKBACK_HOLD||h===e.BREAKBACK_RELEASE||h===e.REFRESH)return{getViewChange:function(e){return{type:h,selection:e}}};if(h===e.AXIS_SELECTION_CHANGE)return{getViewChange:function(e,d,a){e={type:h,axis:e};if(d===l.axisSelectionChange.HIDE_EVERY_OCCURRENCE||d===l.axisSelectionChange.HIDE)e.modifier=
l.axisSelectionChange.HIDE;else if(d===l.axisSelectionChange.SHOW_EVERY_OCCURRENCE||d===l.axisSelectionChange.SHOW_ALL_COLUMNS||d===l.axisSelectionChange.SHOW_ALL_ROWS||d===l.axisSelectionChange.SHOW_ALL||d===l.axisSelectionChange.SHOW)e.modifier=l.axisSelectionChange.SHOW_ONLY;a&&(a.independent&&(e.independent=a.independent),a.ragged&&(e.ragged=a.ragged));return e}};if(h===e.LEVEL_SELECTION_SET)return{getViewChange:function(e,d){return{type:h,dimensionIdentifier:e,selectedLevels:d}}};if(h===e.SYNC_SELECTION_SET)return{getViewChange:function(e,
d,a){return{type:h,dimensionIdentifier:e,enabled:d||!1,listeningDimensionIdentifiers:a||null}}}},_genericEntityDecorator:function(h,e){this._entityType=e;this.getModelChangeXml=function(e,d){var a=[],f=s.isNumberedList(this._entityType.entityTypeIndex),b,t;if("MOVE"===e)b=q.getEntityIndex(d.relativeToEntityLongId),a.push('\x3cDefineEntities entityTypeIndex\x3d"'),a.push(this._entityType.entityTypeIndex),a.push('" position\x3d"'),a.push(d.position),a.push('" relativeToEntityIndex\x3d"'),a.push(b),
a.push('"\x3e'),k.forEach(d.items,function(b){a.push('\x3cEntity name\x3d"');a.push(h._makeXmlFriendly(b.entityId||b.name));a.push('"/\x3e')},h),a.push("\x3c/DefineEntities\x3e");else if("INSERT"===e)if(b=d.position,t="Child"===b,a.push('\x3cDefineEntities entityTypeIndex\x3d"'),a.push(this._entityType.entityTypeIndex),a.push('" position\x3d"'),a.push(t?"End":b),t?(a.push('" parentEntityLongId\x3d"'),a.push(d.relativeToEntityLongId)):d.relativeToEntityLongId&&-1!==d.relativeToEntityLongId&&(b=q.getEntityIndex(d.relativeToEntityLongId),
a.push('" relativeToEntityIndex\x3d"'),a.push(b)),f)a.push('" entityCount\x3d"'),a.push(d.items?d.items.length:1),a.push('"/\x3e');else{a.push('"\x3e');if(d.items){f=d.items;b=f.length;for(t=0;t<b;t++)a.push("\x3cEntity"),a.push(' name\x3d"'+h._makeXmlFriendly(f[t].name)+'"'),a.push("/\x3e")}else d.name&&(a.push('\x3cEntity name\x3d"'),a.push(h._makeXmlFriendly(d.name)),a.push('"/\x3e'));a.push("\x3c/DefineEntities\x3e")}else if("DELETE"===e){a.push('\x3cDeleteEntities entityTypeIndex\x3d"');a.push(this._entityType.entityTypeIndex);
a.push('"\x3e');if(d.items){f=d.items;b=f.length;for(t=0;t<b;t++)a.push('\x3cEntity entityIndex\x3d"'),a.push(f[t].entityIndex),a.push('"/\x3e')}else a.push('\x3cEntity entityIndex\x3d"'),a.push(d.entityIndex),a.push('"/\x3e');a.push("\x3c/DeleteEntities\x3e")}else{if("UPDATE"===e)return h._generateRenameEntityXml(d);throw new p.UnsupportedOperationException(null,null,{operation:e});}return a.join("")}},_actionDecorator:function(h){this.getModelChangeXml=function(e,g){var d,a,f,b,k,n;if("DELETE"===
e)return'\x3cDeleteSavedAction entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});f=g.position||null;b=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===f||"After"===f)&&a.reverse();for(n=0;n<k;n++)d.push('\x3cDefineSavedAction name\x3d"',h._makeXmlFriendly(a[n].name),'"'),f&&d.push(' position\x3d"',f,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push(' actionDefinition\x3d"',h._makeXmlFriendly(m.stringify({actionType:g.actionType,
hierarchyIdentifier:g.hierarchyIdentifier,filterLineItemIdentifier:g.filterLineItemIdentifier,taskElement:g.taskElement})),'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineSavedAction name\x3d"',h._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return h._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,
null,{operation:e});}},_currencyDecorator:function(h){this.getModelChangeXml=function(e,g){var d;if("SET_BASE_CURRENCIES"===e)return d=k.map(g.entityLongIds,function(a){return q.getEntityIndex(a)}),'\x3cSetBaseCurrencies currencyEntityIndices\x3d"'+d.join()+'"/\x3e';if("DELETE"===e)return'\x3cDeleteMasterCurrency currencyEntityLongId\x3d"'+g.entityLongId+'"/\x3e';throw new p.UnsupportedOperationException(null,null,{operation:e});}},_dashboardDecorator:function(h){this.getModelChangeXml=function(e,
g){var d=null,a,f,b,k,m,n,l;switch(e){case "INSERT":d=[];a=g.items||[];g.items||a.push({name:g.name});f=a.length;b=h._makeXmlFriendly(g.functionalAreaId);k="";g.dashboardDefinition&&(k=h._makeXmlFriendly(g.dashboardDefinition));m=h._makeXmlFriendly(g.relativeToLabel);n=g.position||null;("Start"===n||"After"===n)&&a.reverse();for(l=0;l<f;l++)d.push('\x3cDefineDashboard name\x3d"',h._makeXmlFriendly(a[l].name),'" '),k.length&&d.push('dashboardDefinition\x3d"',k,'" '),b&&d.push('functionalArea\x3d"',
b,'" '),g.position&&g.relativeToLabel?d.push('position\x3d"',n,'" relativeTo\x3d"',m,'" '):g.position&&d.push('position\x3d"',n,'" '),d.push('definitionMode\x3d"CREATE"'),d.push("/\x3e");d=d.join("");break;case "DELETE":d='\x3cDeleteDashboard entityLongId\x3d"'+g.entityLongId+'"/\x3e';break;case "MOVE":a=h._makeXmlFriendly(g.name);d=[];d.push('\x3cDefineDashboard name\x3d"',a,'" ');g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),
'" ');d.push("/\x3e");d=d.join("");break;case "UPDATE":d=h._makeXmlFriendly(g.currentName);a=h._makeXmlFriendly(g.newName);d=['\x3cRenameEntity entityLongId\x3d"',g.entityLongId,'" currentName\x3d"',d,'" newName\x3d"',a,'" /\x3e'];d=d.join("");break;default:throw new p.UnsupportedOperationException(null,null,{operation:e});}return d}},_hierarchyDecorator:function(h){this.getModelChangeXml=function(e,g){var d,a,f,b,k,m;if("INSERT"===e){d=[];a=g.position||null;f=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):
null;b=g.items||[];g.items||b.push({name:g.name});k=b.length;("Start"===a||"After"===a)&&b.reverse();for(m=0;m<k;m++)d.push('\x3cDefineHierarchy name\x3d"',h._makeXmlFriendly(b[m].name),'"'),a&&d.push(' position\x3d"',a,'"'),f&&d.push(' relativeTo\x3d"',f,'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineHierarchy name\x3d"',h._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),
'" '),d.push("/\x3e"),d.join("");if("DELETE"===e)return'\x3cDeleteHierarchy entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("UPDATE"===e)return h._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_hierarchySubsetDecorator:function(h){this.getModelChangeXml=function(e,g){var d,a,f,b,k,m,n;if("INSERT"===e){d=[];a=h._makeXmlFriendly(g.hierarchyId);f=g.position||null;b=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;k=g.items||[];g.items||k.push({name:g.name});
m=k.length;("Start"===f||"After"===f)&&k.reverse();for(n=0;n<m;n++)d.push('\x3cDefineHierarchySubset name\x3d"',h._makeXmlFriendly(k[n].name),'" hierarchy\x3d"',a,'"'),f&&d.push(' position\x3d"',f,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],a=h._makeXmlFriendly(g.hierarchyId),d.push('\x3cDefineHierarchySubset name\x3d"',h._makeXmlFriendly(g.name),'" hierarchy\x3d"',a,'"'),g.position&&g.relativeToLabel&&d.push(' position\x3d"',g.position,'" relativeTo\x3d"',
h._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("DELETE"===e)return'\x3cDeleteHierarchySubset entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("UPDATE"===e)return h._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_lineItemDecorator:function(h){this.getModelChangeXml=function(e,g){var d=null,a,f,b,k,m,n;switch(e){case "INSERT":d=[];a=g.items||[];g.items||a.push({name:g.name});f=a.length;b=h._makeXmlFriendly(g.moduleId);k=g.position||
null;m=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;("Start"===k||"After"===k)&&a.reverse();for(n=0;n<f;n++)d.push('\x3cDefineLineItem name\x3d"',h._makeXmlFriendly(a[n].name),'" module\x3d"',b,'"'),k&&d.push(' position\x3d"',k,'"'),m&&d.push(' relativeTo\x3d"',m,'"'),d.push("/\x3e");d=d.join("");break;case "DELETE":d='\x3cDeleteLineItem entityLongId\x3d"'+g.entityLongId+'"/\x3e';break;case "MOVE":a=h._makeXmlFriendly(g.name);b=h._makeXmlFriendly(g.moduleId);d=[];d.push('\x3cDefineLineItem name\x3d"',
a,'" module\x3d"',b,'" ');g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" ');d.push("/\x3e");d=d.join("");break;case "UPDATE":d=h._generateRenameEntityXml(g);break;default:throw new p.UnsupportedOperationException(null,null,{operation:e});}return d}},_lineItemSubsetDecorator:function(h){this.getModelChangeXml=function(e,g){var d=null,a,f,b,k,m,n;switch(e){case "INSERT":d=[];a=g.items||[];g.items||a.push({name:g.name});f=
a.length;b=h._makeXmlFriendly(g.moduleId);k=g.position||null;m=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;("Start"===k||"After"===k)&&a.reverse();for(n=0;n<f;n++)d.push('\x3cDefineLineItemHierarchy name\x3d"',h._makeXmlFriendly(a[n].name),'" module\x3d"',b,'"'),k&&d.push(' position\x3d"',k,'"'),m&&d.push(' relativeTo\x3d"',m,'"'),d.push("/\x3e");d=d.join("");break;case "DELETE":d='\x3cDeleteLineItemHierarchy entityLongId\x3d"'+g.entityLongId+'"/\x3e';break;case "MOVE":a=h._makeXmlFriendly(g.name);
b=h._makeXmlFriendly(g.moduleId);d=[];d.push('\x3cDefineLineItemHierarchy name\x3d"',a,'" module\x3d"',b,'" ');g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" ');d.push("/\x3e");d=d.join("");break;case "UPDATE":d=h._generateRenameEntityXml(g);break;default:throw new p.UnsupportedOperationException(null,null,{operation:e});}return d}},_timeRangeDecorator:function(h){this.getModelChangeXml=function(e,g){var d=null,a,f;switch(e){case "INSERT":a=
[];d=h._makeXmlFriendly(g.moduleId);d=g.position||null;f=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;a.push('\x3cDefineTimeRange name\x3d"',h._makeXmlFriendly(g.name),'" periodCount\x3d"',h._makeXmlFriendly(g.periodCount),'" firstPeriod\x3d"',h._makeXmlFriendly(g.firstPeriod),'"');["halfYearTotalsIncluded","quarterTotalsIncluded","totalOfAllPeriodsIncluded","yearToGoIncluded","yearToDateIncluded"].forEach(function(b){a.push(" ",b,'\x3d"',g[b]?"true":"false",'"')});d&&a.push(' position\x3d"',
d,'"');f&&a.push(' relativeTo\x3d"',f,'"');a.push("/\x3e");d=a.join("");break;case "DELETE":d='\x3cDeleteTimeRange entityLongId\x3d"'+g.entityLongId+'"/\x3e';break;case "MOVE":f=h._makeXmlFriendly(g.name);d=h._makeXmlFriendly(g.moduleId);a=[];a.push('\x3cDefineTimeRange name\x3d"',f,'" module\x3d"',d,'" ');g.position&&g.relativeToLabel&&a.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" ');a.push("/\x3e");d=a.join("");break;case "UPDATE":g.newName=g.name;
d=h._generateRenameEntityXml(g);break;default:throw new p.UnsupportedOperationException(null,null,{operation:e});}return d}},_moduleDecorator:function(h){this.getModelChangeXml=function(e,g){var d,a,f,b,k,m,n,l,q;if("DELETE"===e)return'\x3cDeleteModule entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});f=g.position||null;b=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===f||"After"===f)&&a.reverse();for(m=
0;m<k;m++)if(d.push('\x3cDefineModule name\x3d"',h._makeXmlFriendly(a[m].name),'"'),f&&d.push(' position\x3d"',f,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),void 0!==g.leafPeriodType&&null!==g.leafPeriodType&&d.push(' leafPeriodType\x3d"',g.leafPeriodType,'"'),void 0!==g.versionSelection&&null!==g.versionSelection&&d.push(' versionSelection\x3d"',g.versionSelection,'"'),void 0!==g.viewDefinition&&null!==g.viewDefinition&&d.push(' viewDefinition\x3d"',h._makeXmlFriendly(g.viewDefinition),'"'),void 0!==
g.timeScaleContainerElid&&null!==g.timeScaleContainerElid&&d.push(' timeScaleContainerElid\x3d"',g.timeScaleContainerElid,'"'),g.appliesToEntityIds&&g.appliesToEntityIds.length){d.push("\x3e");d.push("\x3cAppliesTo\x3e");n=g.appliesToEntityIds;l=n.length;for(q=0;q<l;q++)d.push('\x3cHierarchy name\x3d"'),d.push(h._makeXmlFriendly(n[q])),d.push('"/\x3e');d.push("\x3c/AppliesTo\x3e");d.push("\x3c/DefineModule\x3e")}else d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineModule name\x3d"',
h._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return h._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_processDecorator:function(h){this.getModelChangeXml=function(e,g){var d,a,f,b,k,n;if("DELETE"===e)return'\x3cDeleteProcess entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("INSERT"===e){d=[];
a=g.items||[];g.items||a.push({name:g.name});f=g.position||null;b=g.relativeToLabel?h._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===f||"After"===f)&&a.reverse();for(n=0;n<k;n++)d.push('\x3cDefineProcess name\x3d"',h._makeXmlFriendly(a[n].name),'"'),f&&d.push(' position\x3d"',f,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push(' processDefinition\x3d"',h._makeXmlFriendly(m.stringify({useDetailedResults:!1,nodes:{_END_:{type:"END",next:null}},start:"_END_"})),'"'),d.push("/\x3e");return d.join("")}if("MOVE"===
e)return d=[],d.push('\x3cDefineProcess name\x3d"',h._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',h._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return h._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_propertyDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m,n;if("INSERT"===e){d=[];a=f._makeXmlFriendly(g.hierarchyId);
r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=g.items||[];g.items||k.push({name:g.name});m=k.length;("Start"===r||"After"===r)&&k.reverse();for(n=0;n<m;n++)d.push('\x3cDefineProperty name\x3d"',f._makeXmlFriendly(k[n].name),'" propertyOf\x3d"',a,'"'),r&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],a=f._makeXmlFriendly(g.hierarchyId),d.push('\x3cDefineProperty name\x3d"',f._makeXmlFriendly(g.name),
'" propertyOf\x3d"',a,'"'),g.position&&g.relativeToLabel&&d.push(' position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("DELETE"===e)return'\x3cDeleteProperty entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_roleDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m;if("DELETE"===e)return'\x3cDeleteRole entityLongId\x3d"'+
g.entityLongId+'"/\x3e';if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});r=a.length;k=g.position||null;m=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;("Start"===k||"After"===k)&&a.reverse();"Start"===k||"End"===k?m=null:String(l.BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID)===String(g.relativeToEntityLongId)&&(k="Start",a.reverse(),m=null);for(b=0;b<r;b++)d.push('\x3cDefineRole name\x3d"',f._makeXmlFriendly(a[b].name),'" initialVersionAccessLevel\x3d"WRITE"'),k&&
d.push(' position\x3d"',k,'"'),m&&d.push(' relativeTo\x3d"',m,'"'),d.push("\x3e"),d.push("\x3cModuleAccess/\x3e"),d.push("\x3cVersionAccess/\x3e"),d.push("\x3c/DefineRole\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineRole name\x3d"',f._makeXmlFriendly(g.name),'" '),k=g.position||null,m=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null,"Start"===k||"End"===k?m=null:String(l.BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID)===String(g.relativeToEntityLongId)&&(k="Start",
m=null),k&&d.push(' position\x3d"',k,'"'),m&&d.push(' relativeTo\x3d"',m,'"'),d.push("/\x3e"),d.join("");if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_savedViewDecorator:function(f){this.getModelChangeXml=function(e,g){var d=null,a,r,b;switch(e){case "INSERT":d=f._makeXmlFriendly(g.name);a=f._makeXmlFriendly(g.moduleId);r=f._makeXmlFriendly(g.viewDefinition);b=[];b.push('\x3cDefineSavedView name\x3d"',d,'" module\x3d"',
a,'" viewDefinition\x3d"',r,'" ');g.position&&g.relativeToLabel&&b.push('position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),'" ');b.push("/\x3e");d=b.join("");break;case "DELETE":d='\x3cDeleteSavedView entityLongId\x3d"'+g.entityLongId+'"/\x3e';break;case "MOVE":d=f._makeXmlFriendly(g.name);a=f._makeXmlFriendly(g.moduleId);b=[];b.push('\x3cDefineSavedView name\x3d"',d,'" module\x3d"',a,'" ');g.position&&g.relativeToLabel&&b.push('position\x3d"',g.position,'" relativeTo\x3d"',
f._makeXmlFriendly(g.relativeToLabel),'" ');b.push("/\x3e");d=b.join("");break;case "UPDATE":d=f._makeXmlFriendly(g.currentName);a=f._makeXmlFriendly(g.newName);b=['\x3cRenameEntity entityLongId\x3d"',g.entityLongId,'" currentName\x3d"',d,'" newName\x3d"',a,'" /\x3e'];d=b.join("");break;default:throw new p.UnsupportedOperationException(null,null,{operation:e});}return d}},_versionDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m;if("INSERT"===e){d=[];a=g.items||[];g.items||
a.push({name:g.name});r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===r||"After"===r)&&a.reverse();for(m=0;m<k;m++)d.push('\x3cDefineVersion name\x3d"',f._makeXmlFriendly(a[m].name),'"'),d.push(' initialAccessLevel\x3d"',g.initialAccessLevel,'"'),r&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineVersion name\x3d"',f._makeXmlFriendly(g.name),'" '),
g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("DELETE"===e)return'\x3cDeleteVersion entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_functionalAreaDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m;if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});
r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===r||"After"===r)&&a.reverse();for(m=0;m<k;m++)d.push('\x3cDefineFunctionalArea name\x3d"',f._makeXmlFriendly(a[m].name),'"'),r&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("MOVE"===e)return d=[],d.push('\x3cDefineFunctionalArea name\x3d"',f._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',
f._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("DELETE"===e)return'\x3cDeleteFunctionalArea entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_importDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m;if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):
null;k=a.length;("Start"===r||"After"===r)&&a.reverse();for(m=0;m<k;m++)d.push('\x3cDefineImport name\x3d"',f._makeXmlFriendly(a[m].name),'"'),r&&b&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("DELETE"===e)return'\x3cDeleteImport entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("MOVE"===e)return d=[],d.push('\x3cDefineImport name\x3d"',f._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',
f._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_importDataSourceDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,n,l;if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===r||"After"===r)&&a.reverse();for(n=0;n<k;n++)l=
a[n],d.push('\x3cDefineImportDataSource name\x3d"',f._makeXmlFriendly(l.name),'"'),r&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),l.definition&&d.push(' dataSourceDefinition\x3d"',f._makeXmlFriendly(m.stringify(l.definition)),'"'),d.push("/\x3e");return d.join("")}if("DELETE"===e)return'\x3cDeleteImportDataSource entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("MOVE"===e)return d=[],d.push('\x3cDefineImportDataSource name\x3d"',f._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&
d.push('position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_exportDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,m;if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===
r||"After"===r)&&a.reverse();for(m=0;m<k;m++)d.push('\x3cDefineExport name\x3d"',f._makeXmlFriendly(a[m].name),'"'),r&&b&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),d.push("/\x3e");return d.join("")}if("DELETE"===e)return'\x3cDeleteExport entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("MOVE"===e)return d=[],d.push('\x3cDefineExport name\x3d"',f._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),
'" '),d.push("/\x3e"),d.join("");if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_tagDecorator:function(f){this.getModelChangeXml=function(e,g){var d,a,r,b,k,n,l;if("INSERT"===e){d=[];a=g.items||[];g.items||a.push({name:g.name});r=g.position||null;b=g.relativeToLabel?f._makeXmlFriendly(g.relativeToLabel):null;k=a.length;("Start"===r||"After"===r)&&a.reverse();for(n=0;n<k;n++)l=a[n],d.push('\x3cDefineTag name\x3d"',f._makeXmlFriendly(l.name),
'"'),r&&d.push(' position\x3d"',r,'"'),b&&d.push(' relativeTo\x3d"',b,'"'),l.definition&&d.push(' tagDefinition\x3d"',f._makeXmlFriendly(m.stringify(l.definition)),'"'),d.push("/\x3e");return d.join("")}if("DELETE"===e)return'\x3cDeleteTag entityLongId\x3d"'+g.entityLongId+'"/\x3e';if("MOVE"===e)return d=[],d.push('\x3cDefineTag name\x3d"',f._makeXmlFriendly(g.name),'" '),g.position&&g.relativeToLabel&&d.push('position\x3d"',g.position,'" relativeTo\x3d"',f._makeXmlFriendly(g.relativeToLabel),'" '),
d.push("/\x3e"),d.join("");if("UPDATE"===e)return f._generateRenameEntityXml(g);throw new p.UnsupportedOperationException(null,null,{operation:e});}},_generateRenameEntityXml:function(f){var e=this._makeXmlFriendly(f.currentName),g=this._makeXmlFriendly(f.newName);return'\x3cRenameEntity entityLongId\x3d"'+f.entityLongId+'" currentName\x3d"'+e+'" newName\x3d"'+g+'" /\x3e'},_makeXmlFriendly:function(h){return null===h||void 0===h||0===h.length?"":f.escapeHTML(h,!0)}})})},"anaplan/data/PagingRowLabelModel":function(){define("anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/Aggregator anaplan/data/CacheVisitor anaplan/data/LabelPageCache anaplan/data/ModelContentHelper anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/gridlet/GridSizer anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/Observable anaplan/utils/UIHelper dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){var t=r(f,{accept:function(a){a.visitRows1(this)}});return r("anaplan.data.PagingRowLabelModel",[d],{_labelDecorators:[{decorate:function(a){if(a.count)for(var b=a.styles[0],d=0;d<b.length;d++)b[d]+=" treelet";return a}}],_labelPageReadCache:null,_pageInfo:null,_pendingRequests:[],_rowCount:-1,_serialNumbers:new l,_sizer:null,_viewIndex:-1,constructor:function(a){this._rowsPerPage=a.rowsPerPage;this._themeId=a.themeId;this._viewDefinition=a.viewDefinition},
destroy:function(){try{g.isNullOrUndefined(this._labelPageReadCache)||(this._labelPageReadCache.clear(),this._labelPageReadCache=null)}catch(a){console.error("PagingRowLabelModel destroy",a)}finally{this.inherited(arguments)}},getPageInfo:function(){g.isNullOrUndefined(this._pageInfo)&&console.warn("PagingRowLabelModel getPageInfo expected to find pageInfo and did not; have you called initialize and waited for it to return?");return this._pageInfo},getRow:function(a,b){var d=new q({dataRowCount:this._rowCount,
fixedColumnCount:0,view:{x:[b,b],y:[a,a]}});d.visitCache([this._labelPageReadCache]);d=d.getRowLabelsObject();return{label:d.labels[0][0],entityLongId:d.entityLongIds[0][0]}},getValues:function(a){g.isNullOrUndefined(this._labelPageReadCache)?console.warn("PagingRowLabelModel expected to find labelPageReadCache and did not; have you called initialize?"):((!this._labelPageReadCache.isItem(a.y[0])||!this._labelPageReadCache.isItem(a.y[1]))&&this._requestView(a),a=new q({dataRowCount:this._rowCount,
dataColumnCount:0,fixedRowCount:0,fixedColumnCount:1,pageInfo:this._pageInfo,serialNumbers:this._serialNumbers,view:a,viewDefinition:this._viewDefinition,labelDecorators:this._labelDecorators}),a.visitCache([this._labelPageReadCache]),this.notifyObservers(a.getValues(),this._pageInfo,this._sizer))},getViewDefinition:function(){return b.clone(this._viewDefinition)},getViewIndex:function(){return this._viewIndex},initialize:function(d,e){var g=this._getRequest([{startRow:d,rowCount:this._rowsPerPage}]);
p.post(g,!1,b.hitch(this,function(d){try{if(b.exists("result.viewRequestResults",d))if(1===d.result.viewRequestResults.length){var g=d.result.viewRequestResults[0];this._labelSizes=k.getLabelSizes(g.viewDefinition,g.pageInfo);this._labelPageReadCache=new t({axis:s.ROWS,labelSizes:this._labelSizes,nesting:1,style:null});this._updateState(g);this.notifyObservers({startRow:e,startColumn:0,serialNumbers:this._serialNumbers},this._pageInfo,this._sizer)}else console.warn("PagingRowLabelModel initialize onLoad expected to find single viewRequestResult but",
d.result.viewRequestResults);else console.warn("PagingRowLabelModel initialize onLoad expected to find response contain result with viewRequestResults",d)}catch(f){a.showErrorReporter(new m.ClientException("anaplan.data.PagingRowLabelModel error during initialize onLoad",f,{}))}}),function(a){console.error("PagingRowLabelModel initialize onError",a)})},_getPageRequests:function(a){var b=[],d=Math.floor(a.y[0]/this._rowsPerPage)*this._rowsPerPage;for(a=Math.floor(a.y[1]/this._rowsPerPage)*this._rowsPerPage;d<=
a;)b.push({startRow:d,rowCount:this._rowsPerPage}),d+=this._rowsPerPage;return b},_getRequest:function(a){var d=new n(window.workspaceId);a=d.getRowLabelPageRequests(a);var e=b.clone(this._serialNumbers);e.resetRowAxisSerialNumber();return d.getRequest({cellSelectorLabelsRequired:!1,modelId:window.modelId,pageSelectorLabelsRequired:!1,rowLabelPageRequests:a,serialNumbers:e,viewDefinition:this._viewDefinition,viewIndex:this._viewIndex})},_requestView:function(a){p.isDirty()||(a=this._getPageRequests(a),
a=this._getRequest(a),p.post(a,!1,b.hitch(this,function(a){try{if(b.exists("result.viewRequestResults",a))if(1===a.result.viewRequestResults.length){if(this._updateState(a.result.viewRequestResults[0]),this._observers&&this._observers.length){var d=this._observers[0].view();setTimeout(b.hitch(this,function(){this.getValues(d)}),200)}}else console.warn("PagingRowLabelModel _requestView onLoad expected to find single viewRequestResult but",a.result.viewRequestResults);else console.warn("PagingRowLabelModel _requestView onLoad expected to find response contain result with viewRequestResults",
a)}catch(e){console.error("PagingRowLabelModel _requestView",e)}}),function(a){}))},_updateState:function(a){b.exists("rowAxisSerialNumber",this._serialNumbers)&&a.serialNumbers.rowAxisSerialNumber!==this._serialNumbers.rowAxisSerialNumber&&(this._labelPageReadCache.clear(),this._sizer=new h({dataColumnCount:0,dataRowCount:a.rowCount,defaultColumnWidth:this._labelSizes.defaultColumnWidth,rowLabelWidths:this._labelSizes.rowLabelWidths,fixedColumnCount:1,fixedRowCount:0,columnNesting:0,rowNesting:1,
pageInfo:a.pageInfo,serialNumber:e.createUUID()}));this._viewIndex=a.viewIndex;this._viewDefinition=a.viewDefinition;this._rowCount=a.rowCount;this._serialNumbers=new l(a.serialNumbers);this._pageInfo=a.pageInfo;a.rowLabelPages&&a.rowLabelPages.length&&this._labelPageReadCache.setPages(a.rowLabelPages,this._themeId)}})})},"anaplan/widgets/Toolbar":function(){define(["dojo/_base/declare","dijit/Toolbar","anaplan/widgets/_DomVisibleMixin","dojo/dom-class"],function(l,s,p,q){return l([s,p],{postCreate:function(){this.inherited(arguments);
q.add(this.domNode,"qa-toolbar")}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I){function O(a){return t.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var P=q("dijit._TreeNode",[E,B,C,G,H],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a)},labelType:"text",isExpandable:null,isExpanded:!1,state:"NotLoaded",
templateString:F,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";e.set(this.domNode,"backgroundPosition",b+" 0px");e.set(this.rowNode,
this.isLeftToRight()?"paddingLeft":"paddingRight",b);l.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,d=b.model;b._v10Compat&&a===d.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,"row","Row");this.tree._startPaint(!0)},
_applyClassAndStyle:function(a,b,d){var g="_"+b+"Class";b+="Node";var f=this[g];this[g]=this.tree["get"+d+"Class"](a,this.isExpanded);m.replace(this[b],this[g]||"",f||"");e.set(this[b],this.tree["get"+d+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;m.toggle(this.domNode,"dijitTreeIsRoot",a);m.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=["dijitTreeExpandoLoading",
"dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;m.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return O(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&this.containerNode.setAttribute("role",
"group");m.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=d.wipeIn({node:this.containerNode,duration:D.defaultDuration}),b=this._expandDeferred=new f(function(){a.stop()});s.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return O(b)},collapse:function(){if(this._collapseDeferred)return O(this._collapseDeferred);this._expandDeferred&&
(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");m.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=d.wipeOut({node:this.containerNode,duration:D.defaultDuration}),b=this._collapseDeferred=new f(function(){a.stop()});s.after(a,"onEnd",function(){b.resolve(!0)},
!0);a.play();return O(b)},indent:0,setChildItems:function(a){var b=this.tree,d=b.model,e=[],g=b.focusedChild,f=this.getChildren();l.forEach(f,function(a){C.prototype.removeChild.call(this,a)},this);this.defer(function(){l.forEach(f,function(a){if(!a._destroyed&&!a.getParent()){b.dndController.removeTreeNode(a);var e=function(a){var g=d.getIdentity(a.item),f=b._itemNodesMap[g];1==f.length?delete b._itemNodesMap[g]:(g=l.indexOf(f,a),-1!=g&&f.splice(g,1));l.forEach(a.getChildren(),e)};e(a);if(b.persist){var f=
l.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),h;for(h in b._openedNodes)h.substr(0,f.length)==f&&delete b._openedNodes[h];b._saveExpandedNodes()}b.lastFocusedChild&&!n.isDescendant(b.lastFocusedChild,b.domNode)&&delete b.lastFocusedChild;g&&!n.isDescendant(g,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,l.forEach(a,function(a){var g=d.getIdentity(a),f=b._itemNodesMap[g],h;if(f)for(var r=0;r<f.length;r++)if(f[r]&&
!f[r].getParent()){h=f[r];h.set("indent",this.indent+1);break}h||(h=this.tree._createTreeNode({item:a,tree:b,isExpandable:d.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),f?f.push(h):b._itemNodesMap[g]=[h]);this.addChild(h);(this.tree.autoExpand||this.tree._state(h))&&e.push(b._expandNode(h))},this),l.forEach(this.getChildren(),function(a){a._updateLayout()})):
this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=k(e);this.tree._startPaint(a);return O(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,this.collapse());l.forEach(b,function(a){a._updateLayout()})},
makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");m.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){x.focus(this.focusNode)}});a("dojo-bidi")&&P.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),l.forEach(this.getChildren(),function(b){b.set("textDir",a)},this)}});var N=q("dijit.Tree",[E,L,B,H],{baseClass:"dijitTree",
store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:K,persist:!1,autoExpand:!1,dndController:I,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,
b){v.publish(this.id,t.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new f;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(u(this.containerNode,u.selector(".dijitTreeNode",z.enter),function(b){a._onNodeMouseEnter(A.byNode(this),
b)}),u(this.containerNode,u.selector(".dijitTreeNode",z.leave),function(b){a._onNodeMouseLeave(A.byNode(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow",w.press),function(b){a._onNodePress(A.getEnclosingWidget(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow",w),function(b){a._onClick(A.getEnclosingWidget(this),b)}),u(this.containerNode,u.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(A.getEnclosingWidget(this),b)}));this.model||this._store2model();this.own(s.after(this.model,
"onChange",t.hitch(this,"_onItemChange"),!0),s.after(this.model,"onChildrenChange",t.hitch(this,"_onItemChildrenChange"),!0),s.after(this.model,"onDelete",t.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){t.isString(this.dndController)&&(this.dndController=t.getObject(this.dndController));for(var b={},d=0;d<this.dndParams.length;d++)this[this.dndParams[d]]&&(b[this.dndParams[d]]=this[this.dndParams[d]]);this.dndController=new this.dndController(this,b)}this._load();
this.onLoadDeferred=O(this.pendingCommandsPromise);this.onLoadDeferred.then(t.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;r.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=t.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(a.getChildren=t.hitch(this,function(a,b,d){this.getItemChildren(this._v10Compat&&
a===this.model.root?null:a,b,d)}));this.model=new M(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(t.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display=
"none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),b.labelNode.setAttribute("role","presentation"),
b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(t.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),
t.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=t.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(t.hitch(this,function(){var d=l.map(a,function(a){return!a||t.isString(a)?a:b.model.getIdentity(a)}),e=[];l.forEach(d,function(a){e=
e.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",e)}))},_setPathAttr:function(a){return a.length?O(this.set("paths",[a]).then(function(a){return a[0]})):O(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,e){var g=a.shift(),f=l.filter(e,function(a){return a.getIdentity()==g})[0];if(f)return a.length?d._expandNode(f).then(function(){return b(a,f.getChildren())}):f;throw new N.PathError("Could not expand path at "+g);}var d=this;return O(this.pendingCommandsPromise=
this.pendingCommandsPromise.always(function(){return k(l.map(a,function(a){a=l.map(a,function(a){return t.isString(a)?a:d.model.getIdentity(a)});if(a.length)return b(a,[d.rootNode]);throw new N.PathError("Empty path");}))}).then(function(a){d.set("selectedNodes",a);return d.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(d){return b._expandNode(d).then(function(){var b=l.filter(d.getChildren()||
[],function(a){return a.isExpandable});return k(l.map(b,a))})}var b=this;return O(a(this.rootNode))},collapseAll:function(){function a(d){var e=l.filter(d.getChildren()||[],function(a){return a.isExpandable}),e=k(l.map(e,a));return!d.isExpanded||d==b.rootNode&&!b.showRoot?e:e.then(function(){return b._collapseNode(d)})}var b=this;return O(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||
this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var d=this._getNext(b);d&&d.isTreeNode&&this.focusNode(d)},_onUpArrow:function(a,b){var d=b.getPreviousSibling();if(d)for(b=d;b.isExpandable&&b.isExpanded&&b.hasChildren();)d=b.getChildren(),b=d[d.length-1];else if(d=b.getParent(),
this.showRoot||d!==this.rootNode)b=d;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var d=b.getParent();d&&(d.isTreeNode&&(this.showRoot||d!==this.rootNode))&&this.focusNode(d)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?
this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return n.isDescendant(a,b.expandoNode)||n.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,
b){this.focusNode(a)},__click:function(a,b,d,e){var g=this.isExpandoNode(b.target,a);a.isExpandable&&(d||g)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[e](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):
this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){r.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){r.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;
if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,d=a.item,e=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new f,b.getChildren(d,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){console.error(e,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));
b=a._loadDeferred.then(t.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var d=this.getLabel(a),e=this.getTooltip(a);l.forEach(b,function(b){b.set({item:a,label:d,tooltip:e});b._updateItemClasses(a)})}},
_onItemChildrenChange:function(a,b){var d=this.model.getIdentity(a);(d=this._itemNodesMap[d])&&l.forEach(d,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(l.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!n.isDescendant(this.lastFocusedChild,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!n.isDescendant(this.focusedChild,this.domNode)&&
this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=p(this.cookieName);a&&l.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var d=l.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[d];b?this._openedNodes[d]=!0:delete this._openedNodes[d];this._saveExpandedNodes()},
_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);p(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!t.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&h.setMarginBox(this.domNode,
a);this._nodePixelIndent=h.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(t.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=t.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&
this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});y(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new P(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});a("dojo-bidi")&&N.extend({_setTextDirAttr:function(a){a&&
this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});N.PathError=g("TreePathError");N._TreeNode=P;return N})},"anaplan/gridlet/_editor/MultiSelect":function(){define("dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/i18n!dijit/nls/common dojo/keys dojo/text!anaplan/templates/MultiSelect.html anaplan/widgets/SimpleSelector anaplan/widgets/Button".split(" "),function(l,s,p,q,f,k,n){return q("anaplan.gridlet._editor.MultiSelect",[s,
l,p],{baseClass:"dijitContentPane dijit dijitReset dijitLeft multiSelect",name:"",tabIndex:-1,templateString:n,constructor:function(f){this._connections=[];this._multiValue=f.multiValue||[];this._values=f.values||[]},focus:function(){0==this._values.length?this.simpleSelector.set("disabled","true"):this.simpleSelector.focus&&this.simpleSelector.focus()},onCancel:function(){},onSubmit:function(){},postCreate:function(){this.inherited(arguments);this.inputOk.set("label",f.buttonOk);this.inputCancel.set("label",
f.buttonCancel);this._values&&this.simpleSelector.set("values",this._values);this._multiValue&&this.simpleSelector.set("multiValue",this._multiValue);0==this._values.length&&this.simpleSelector.set("disabled","true")},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},_getPairsAttr:function(){return this.simpleSelector.get("values")},_onKeyDown:function(f){switch(f.keyCode){case k.ENTER:this._onSubmit()}},_onKeyPress:function(f){f.currentTarget===this.domNode&&
f.stopPropagation()},_onInputOkClick:function(){this._onSubmit()},_onInputCancelClick:function(){this.onCancel()},_onSubmit:function(){var f=this.simpleSelector.get("values");this.onSubmit(f)}})})},"anaplan/snav/bulkoperationfactory/BulkDeleteEntitiesDelegate":function(){define("dijit/_WidgetBase anaplan/snav/bulkoperationfactory/_bulkoperationmixin dojo/_base/declare anaplan/utils/EntityLongIdHelper dojo/dom-construct dojo/_base/array dojo/dom-style dojo/topic dojo/_base/lang dojo/i18n!anaplan/snav/nls/global".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return p("anaplan.snav.bulkoperationfactory.bulkdeleteentitiesdelegate",[l,s],{hierarchyEntityLongId:-1,selectedItems:[],postCreate:function(){try{if(this.inherited(arguments),this._addClass("bulkoperation"+this.operation),this._assertIsNumberedList(this.hierarchyEntityLongId)){if(this.selectedItems.length){f.create("div",{innerHTML:e["ALL_LEVELS"===this.deletionMode?"messageConfirmDeleteAllLevels":"messageConfirmDeleteImmediateChildren"],"class":"confirmationMessage"},
this.domNode);var g=f.create("ul",{},this.domNode);k.forEach(this.selectedItems,function(a){f.create("li",{innerHTML:a.label},g)})}else f.place(document.createTextNode(e.messageNoPermission),this.domNode);n.set(this.domNode,{width:"auto",height:"auto"})}else f.place(document.createTextNode(e.messageNumberedListExpected),this.domNode)}catch(d){m.publish("anaplan/systemmessage",[d,null,-1,"ERROR"])}},layout:function(){},_isValid:function(){return this._assertIsNumberedList(this.hierarchyEntityLongId)},
_submit:function(e){if(this._isValid())if(this.selectedItems.length){var d=k.map(this.selectedItems,function(a){return q.getEntityIndex(a.entityLongId)}).join(),d={actionId:"BULK_DELETE_ENTITIES",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityIndices:d,deletionMode:this.deletionMode||"IMMEDIATE_CHILDREN_ONLY",actionEntityLongId:this.actionEntityLongId}};this._doGather([],[],[d]).then(h.hitch(this,function(a){2==a.length&&1==a[1].length?
e.resolve(null):e.reject("Invalid response")}),h.hitch(this,function(a){e.reject(a)}))}else e.resolve(null);else e.reject("InvalidStateException")},_setSelectedItemsAttr:function(e){this.selectedItems=k.filter(e,function(d){return d.canDelete})}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(l,s,p,q,f,k,n,m){var h=s("dijit.form._TextBoxMixin"+(q("dojo-bidi")?"_NoBidi":""),null,
{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(e,g,d){var a;void 0!==e&&(a=this.filter(e),"string"!=typeof d&&(d=null!==a&&("number"!=typeof a||!isNaN(a))?this.filter(this.format(a,this.constraints)):"",0!=this.compare(a,this.filter(this.parse(d,this.constraints)))&&(d=null)));if(null!=d&&("number"!=typeof d||!isNaN(d))&&this.textbox.value!=
d)this.textbox.value=d,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[a,g])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(e){null==e?e="":"string"!=typeof e&&(e=String(e));this.textbox.value=e;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(e){return null==e?"":e.toString?e.toString():e},parse:function(e){return e},_refreshState:function(){},
onInput:function(){},__skipInputEvent:!1,_onInput:function(e){this._processInput(e);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(e){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(n(this.textbox,"keydown, keypress, paste, cut, input, compositionend",k.hitch(this,function(e){var g;if("keydown"==
e.type){g=e.keyCode;switch(g){case f.SHIFT:case f.ALT:case f.CTRL:case f.META:case f.CAPS_LOCK:case f.NUM_LOCK:case f.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(g){case f.NUMPAD_0:case f.NUMPAD_1:case f.NUMPAD_2:case f.NUMPAD_3:case f.NUMPAD_4:case f.NUMPAD_5:case f.NUMPAD_6:case f.NUMPAD_7:case f.NUMPAD_8:case f.NUMPAD_9:case f.NUMPAD_MULTIPLY:case f.NUMPAD_PLUS:case f.NUMPAD_ENTER:case f.NUMPAD_MINUS:case f.NUMPAD_PERIOD:case f.NUMPAD_DIVIDE:return}if(65<=g&&90>=g||48<=g&&57>=
g||g==f.SPACE)return;g=!1;for(var d in f)if(f[d]===e.keyCode){g=!0;break}if(!g)return}}(g=32<=e.charCode?String.fromCharCode(e.charCode):e.charCode)||(g=65<=e.keyCode&&90>=e.keyCode||48<=e.keyCode&&57>=e.keyCode||e.keyCode==f.SPACE?String.fromCharCode(e.keyCode):e.keyCode);g||(g=229);if("keypress"==e.type){if("string"!=typeof g)return;if("a"<=g&&"z">=g||"A"<=g&&"Z">=g||"0"<=g&&"9">=g||" "===g)if(e.ctrlKey||e.metaKey||e.altKey)return}if("input"==e.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var a={faux:!0},h;for(h in e)/^(layer[XY]|returnValue|keyLocation)$/.test(h)||(d=e[h],"function"!=typeof d&&"undefined"!=typeof d&&(a[h]=d));k.mixin(a,{charOrCode:g,_wasConsumed:!1,preventDefault:function(){a._wasConsumed=!0;e.preventDefault()},stopPropagation:function(){e.stopPropagation()}});!1===this.onInput(a)&&(a.preventDefault(),a.stopPropagation());a._wasConsumed||this.defer(function(){this._onInput(a)})})),n(this.domNode,"keypress",function(e){e.stopPropagation()}))},
_blankValue:"",filter:function(e){if(null===e)return this._blankValue;if("string"!=typeof e)return e;this.trim&&(e=k.trim(e));this.uppercase&&(e=e.toUpperCase());this.lowercase&&(e=e.toLowerCase());this.propercase&&(e=e.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}));return e},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(e){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(e){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=n.once(this.domNode,"mouseup, touchend",k.hitch(this,function(e){this._isTextSelected()||h.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});q("dojo-bidi")&&(h=s("dijit.form._TextBoxMixin",h,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));h._setSelectionRange=m._setSelectionRange=function(e,g,d){e.setSelectionRange&&e.setSelectionRange(g,d)};h.selectInputText=m.selectInputText=function(e,g,
d){e=p.byId(e);isNaN(g)&&(g=0);isNaN(d)&&(d=e.value?e.value.length:0);try{e.focus(),h._setSelectionRange(e,g,d)}catch(a){}};return h})},"anaplan/loaderutils":function(){define("anaplan/api/service anaplan/constants anaplan/data/ModelContentCache anaplan/utils/CookieHelper anaplan/utils/JsHelper dojo/request/iframe dojo/topic".split(" "),function(l,s,p,q,f,k,n){function m(){return!0!==q.loadCookie("hideQuickSum")}function h(){return!0===q.loadCookie("grid2BetaOptIn")}function e(){return!0===q.loadCookie("grid2OptOut")}
function g(){return!0!==q.loadCookie("hideTooltips")}function d(a){var d=q.loadCookie(s.DISABLED_BREAKBACK_MARKERS_COOKIE),b=p.getWorkspaceInfo();return!f.isNullOrUndefined(d)&&d.hasOwnProperty(b.workspaceId)&&-1!==d[b.workspaceId].indexOf(a)?!1:!0}return{breakbackMarkersEnabled:d,loadReactUI:function(){if(!window.App||!App.interim||!window.__ANAPLAN_CORE_CLIENT_STORE__)throw Error("anaplan/loaderutils#loadReactUI: Redux App not initialised");var a=App.interim.getReduxStore(),d=App.interim.createReactEntryPoint(document.body);
d.id="ap-modals";App.interim.renderReactNodeWithProvider(d,App.components.ModalRootAdapter,{},a);d=App.interim.createReactEntryPoint(document.body);d.id="ap-system-modals";App.interim.renderReactNodeWithProvider(d,App.components.SystemModalRootAdapter,{},a)},loadReduxApp:function(){if(!window.App||!App.createStore||!App.interim)throw Error("anaplan/loaderutils#loadReduxApp: App not deployed");App.createStore({modelContentCache:p,dataApi:l,topic:n,dojoConstants:s,iframeRequest:k,cookieHelper:q,tooltipsEnabled:g,
breakbackMarkersEnabled:d,quickSumEnabled:m,hasOptedInToGrid2Beta:h,hasOptedOutOfGrid2:e});App.interim.subscribeAll(n)},tooltipsEnabled:g,quickSumEnabled:m,hasOptedInToGrid2Beta:h,hasOptedOutOfGrid2:e}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(l,s){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(p){}var q={};l("ie")?q.byId=function(f,n){if("string"!=typeof f)return f;var m=n||s.doc,h=f&&m.getElementById(f);if(h&&(h.attributes.id.value==f||h.id==
f))return h;m=m.all[f];if(!m||m.nodeName)m=[m];for(var e=0;h=m[e++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==f||h.id==f)return h}:q.byId=function(f,n){return("string"==typeof f?(n||s.doc).getElementById(f):f)||null};q.isDescendant=function(f,n){try{f=q.byId(f);for(n=q.byId(n);f;){if(f==n)return!0;f=f.parentNode}}catch(m){}return!1};l.add("css-user-select",function(f,n,m){if(!m)return!1;f=m.style;n=["Khtml","O","Moz","Webkit"];m=n.length;var h="userSelect";do if("undefined"!==typeof f[h])return h;
while(m--&&(h=n[m]+"UserSelect"));return!1});var f=l("css-user-select");q.setSelectable=f?function(k,n){q.byId(k).style[f]=n?"":"none"}:function(f,n){f=q.byId(f);var m=f.getElementsByTagName("*"),h=m.length;if(n)for(f.removeAttribute("unselectable");h--;)m[h].removeAttribute("unselectable");else for(f.setAttribute("unselectable","on");h--;)m[h].setAttribute("unselectable","on")};return q})},"anaplan/dashboard/MenuToolbarHelper":function(){define(["anaplan/constants","anaplan/data/ModelContentHelper",
"anaplan/data/ModelContentCache","dojo/_base/array"],function(l,s,p,q){return{getDefaultMenuToolbarOptionsForElement:function(f){var k={},n;return f.dashboardElementType===l.dashboardElementType.CHART?(q.forEach(this.getChartOptionNames(),function(f){k["menuItem"+f]=!0}),k):f.dashboardElementType===l.dashboardElementType.GRID?(n=s.getHierarchyEntityLongIdForViewDefinition(p,f.viewDefinition),q.forEach(this.getModuleGridOptionNames(),function(f){k["menuItem"+f]=-1==n}),q.forEach(this.getGeneralGridOptionNames(),
function(f){k["menuItem"+f]=!0}),k.showToolbar=-1!==n,k):f.dashboardElementType===l.dashboardElementType.CELL&&-1<s.getModuleEntityLongIdForViewDefinitionOrReference(p,f.viewDefinition)?(q.forEach(this.getCellOptionNames(),function(f){k["menuItem"+f]=!0}),k):null},getOptionNamesForElementType:function(f){switch(f){case l.dashboardElementType.CHART:return this.getChartOptionNames();case l.dashboardElementType.GRID:return this.getGridOptionNames();case l.dashboardElementType.CELL:return this.getCellOptionNames();
default:return[]}},getGeneralGridOptionNames:function(){return"Insert Delete Move Export Import ColumnSettings GridStyle".split(" ")},getModuleGridOptionNames:function(){return"Pivot CopyAcross CopyDown Filter Sort History GotoModule ConditionalFormatting".split(" ")},getChartOptionNames:function(){return["GotoModule"]},getGridOptionNames:function(){return this.getGeneralGridOptionNames().concat(this.getModuleGridOptionNames())},getCellOptionNames:function(){return["GotoModule"]}}})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(l,s){return l("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(l){var q=this.checked;this._set("checked",!q);var f=this.inherited(arguments);this.set("checked",f?this.checked:q);return f},_setCheckedAttr:function(l,q){this._set("checked",l);var f=this.focusNode||this.domNode;this._created&&s.get(f,"checked")!=!!l&&s.set(f,"checked",!!l);f.setAttribute(this._aria_attr,String(l));this._handleOnChange(l,q)},postCreate:function(){this.inherited(arguments);
var l=this.focusNode||this.domNode;this.checked&&l.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"jxl/hash/Jenkins":function(){define([],function(){var l=function(){this._hash=0};l.prototype.init=function(){this._hash=0};l.prototype.consume=function(l){for(var q=l.length,f=this._hash,k=0;k<q;++k)f+=l.charCodeAt(k),f%=s,f+=f<<10,f%=s,f^=
f>>6;return this._hash=f};l.prototype.get=function(){var l=this._hash,l=(l+(l<<3))%s,l=l^l>>11,l=l+(l<<15);return l%=s};l.prototype.toString=function(){return this.get().toString(16)};var s=4294967295;return l})},"anaplan/dashboard/PageSelectorOptions":function(){define("anaplan/constants anaplan/dashboard/_ControlPanelMixin anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/axisDefinition anaplan/utils/AxisHelper anaplan/utils/axisSpecification anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/SelectorFactory anaplan/utils/UIHelper anaplan/utils/SubmissionHandler anaplan/widgets/_SelectorDropdown anaplan/widgets/DropDownButton anaplan/widgets/PageSelectorHelper dijit/_Container dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/CheckBox dijit/TooltipDialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/pageSelectorOptions dojo/on dojo/text!anaplan/templates/_SynchronisedPagingInfo.html dojo/text!anaplan/templates/PageSelectorOptions.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I){var O=E([y,z,w],{baseClass:"synchronisedPagingInfo",templateString:M,pageSelectorWidget:null,constructor:function(a){var d=null!==a.initialPage?h.entityLongIdIdentifierToEntityLongId(a.initialPage):-1;this.pageSelectorWidget=new t({showLabel:!0,label:-1===d?K.labelDefault:"...\x26emsp;\x26emsp;\x26emsp;",dropDown:new b({"class":"selectorDropdown",viewDefinition:u.getContentViewDefinitionForPageInfo(a.pageInfo,a.pageLabelIndex),
selectedEntityLongId:d,prependItem:{entityLongId:"-1",label:K.labelDefault}}),autoWidth:!1});this._initialPageEntityLongId=d},postCreate:function(){this.inherited(arguments);var b=h.entityLongIdIdentifierToEntityLongId(this.pageAxisIdentifier),b=q.getPageAxisDisplayLabel(p,b);H.place(this.pageSelectorWidget.domNode,this.spanInitialPage,"only");a.setText(this.spanList,b);a.setText(this.labelShowLabel,K.headingShowLabel);a.setText(this.labelShowPageSelector,K.headingShowPageSelector);a.setText(this.labelSynchronisedPaging,
K.headingSynchronisedPaging);a.setText(this.spanInitialPageTitle,K.headingInitialPage);a.setText(this.spanLevelsTitle,K.headingLevels);this.inputShowLabel.set("checked",this.showLabel,!1);this.inputShowPageSelector.set("checked",this.showPageSelector,!1);this.inputSynchronisedPaging.set("checked",this.synchronisedPaging,!1);this.model&&(H.place(this.pageSelectorWidget.domNode,this.spanInitialPage),this._wireupTooltipDialog(this.pageSelectorWidget.dropDown))},_getInitialPageAttr:function(){return-1===
this.initialPage?null:this.initialPage},_getShowLabelAttr:function(){return this.inputShowLabel?this.inputShowLabel.get("checked"):this.showLabel},_getSynchronisedPagingAttr:function(){return this.inputSynchronisedPaging?this.inputSynchronisedPaging.get("checked"):this.synchronisedPaging},_getShowPageSelectorAttr:function(){return this.inputShowPageSelector?this.inputShowPageSelector.get("checked"):this.showPageSelector},setInitialPageLabel:function(b){try{if(this.domNode&&this.pageSelectorWidget){var d=
this.pageSelectorWidget;d.set("label",null===b?this.initialPage:e.escapeHTML(b));null===b&&d.set("iconClass","pageSelectorValidationIcon")}}catch(g){a.showErrorReporter(new f.ClientException("PageSelectorOptions _setInitialPageLabel",g))}},_wireupTooltipDialog:function(a){this.own(a.on("selectionchange",B.hitch(this,function(a){var b=this.pageSelectorWidget;b.set("label",a.label);this.initialPage=h.entityLongIdToEntityLongIdIdentifier(a.entityLongId);setTimeout(function(){b.closeDropDown(!1);b.emit("change",
{})},25)})),a.on("close",B.hitch(this,function(){a.destroyDescendants()})))}});return E([y,z,w,v,s],{baseClass:"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft pageSelectorOptions",templateString:I,_allWidgetList:null,constructor:function(a){this._elementType=a.dashboardElementType;this._chartType=a.chartType;this._model=a.model;this._pageInfo=a.pageInfo;this._pageSelectorOptions=a.pageSelectorOptions;this._checkBoxStore=[];this._levelStore=[]},onAfterPageSelectorOptions:function(){},
onCancel:function(){},onError:function(){},postCreate:function(){this.inherited(arguments);a.setText(this.showModuleNameLabel,K.labelShowModuleName);a.setText(this.spanList,K.headingPages);a.setText(this.spanLevels,K.headingLevels)},startup:function(){try{this.inherited(arguments);this._allWidgetList=[this.showModuleNameCheckBox];if(this._pageSelectorOptions&&this._pageInfo){var a=this._pageSelectorOptions;a&&this.showModuleNameCheckBox.set("checked",a.showModuleName,!1);var b=this._pageInfo.pageAxisSpecifications;
this._populateFilterContextArea(this.filterContextArea);if(!b||!b.length)F.set(this.divPageSelectorArea,"display","none");else{var d=[];D.forEach(b,function(a){d=d.concat(q.getAllDimensionIdentifiersForAxisSpecification(a))});for(var e=this._pageInfo.currentPageLabels.entityLongIds[0],k=a.synchronisedPagingInfos,a=[],m=[],b=0;b<k.length;b++){var t=k[b],n=D.indexOf(d,t.pageAxisIdentifier);if(-1<n){var l=new O(B.mixin(B.clone(t),{currentPageEntityLongId:e[n],model:this._model,pageLabelIndex:n,pageInfo:this._pageInfo}));
this.addChild(l);var u=null!==t.initialPage?h.entityLongIdIdentifierToEntityLongId(t.initialPage):-1;-1<u&&(a.push(this._getContentViewRequest(this._pageInfo,n,u)),m.push(l));l.set("synchronisedPaging",t.synchronisedPaging,!1);this._allWidgetList.push(l.pageSelectorWidget);this._allWidgetList.push(l.inputShowLabel);this._allWidgetList.push(l.inputShowPageSelector);this._allWidgetList.push(l.inputSynchronisedPaging)}}(new r({showPleaseWait:!1})).post([],a,[]).then(B.hitch(this,function(a){var b=a.result.viewRequestResults;
b.length!==m.length&&console.warn("expected to receive viewRequestResult for each recipient paging info and found ",b.length,m.length);m.forEach(function(a,d){a.setInitialPageLabel(g.isUndefined(b[d].rowLabelPages[0].labels[0][0])?null:b[d].rowLabelPages[0].labels[0][0])})}),B.hitch(this,function(a){m.forEach(function(a,b){a.setInitialPageLabel(null)})}))}}this._hookupOnChangeHandlers(this._allWidgetList,B.hitch(this,this._onPageSelectorOptions))}catch(v){throw new f.ClientException("anaplan.dashboard.PageSelectorOptions: startup",
v,{widgetId:this.id});}},getDefaultPageSelectorOptions:function(a,b){var d={showModuleName:b!==l.dashboardElementType.CELL&&b!==l.dashboardElementType.PAGE_SELECTOR},e=[];if(a&&a.pageAxisSpecifications){var g=[];D.forEach(a.pageAxisSpecifications,function(a){g=g.concat(q.getAllDimensionIdentifiersForAxisSpecification(a))});D.forEach(g,function(a){e.push({pageAxisIdentifier:a,synchronisedPaging:!0,showLabel:b!==l.dashboardElementType.CELL,showPageSelector:b!==l.dashboardElementType.CELL,initialPage:null})})}B.mixin(d,
{synchronisedPagingInfos:e})},_dimensionContainsLevelOrItemSelection:function(a,b){return m.someAxisDefinitions(b,function(b){return(b.type===l.AXIS_DEFINITION_TYPE_LEVELS||b.type===l.AXIS_DEFINITION_TYPE_SELECTION)&&k.containsDimension(b,a)})},_getContentViewRequest:function(a,b,d){a=u.getContentViewDefinitionForPageInfo(a,b);a.rowAxisSpecification=q.addSelectionToAxisSpecification(a.rowAxisSpecification,l.SELECTION_RULE_MODIFIER_SHOW,[h.entityLongIdsToEntityLongIdIdentifiers([d])]);return u.getContentViewRequestWithLabelPageRequest(a,
{start:0,count:1})},_getPageSelectorOptions:function(){var a=B.clone(this._pageSelectorOptions);a.showModuleName=this.showModuleNameCheckBox.get("checked");for(var b=a.synchronisedPagingInfos,d=this.getChildren(),e=0;e<d.length;e++){var g=d[e];b[e].synchronisedPaging=g.get("synchronisedPaging");b[e].showLabel=g.get("showLabel");b[e].showPageSelector=g.get("showPageSelector");b[e].initialPage=g.get("initialPage")}var f={columnAxis:[],rowAxis:[]};D.forEach(this._checkBoxStore,B.hitch(this,function(a){var b=
a.id,d=a.box.get("checked"),e=a.type,g=a.axis;a=null;"COL"===g?a=f.columnAxis:"ROW"===g&&(a=f.rowAxis);a[b]||(a[b]={dimensionIdentifier:b,selection:!1,position:!1,listeningDimensionIdentifiers:null});"SELECTION"===e?a[b].selection=d:"POSITION"===e&&(a[b].position=d);(d=this._levelStore[b])?a[b].listeningDimensionIdentifiers=d:delete a[b].listeningDimensionIdentifiers}));a.branchData=f;return a},_onCancel:function(a){this.onCancel()},_onPageSelectorOptions:function(a){this.onAfterPageSelectorOptions(this._getPageSelectorOptions())},
_populateFilterContextArea:function(a){if(a){var b=H.create("div");a.appendChild(b);this._elementType===l.dashboardElementType.GRID?(this._populateSection(b,{heading:K.headingRows,selection:K.labelSynchronisedRowSelection,levels:K.labelLevelsRow,position:K.labelSynchronisedPosition,selectionWarning:K.labelSelectionIsActiveRows},[{spec:this._pageInfo.rowAxisSpecification,axis:"ROW"}],"row"),this._populateSection(b,{heading:K.headingColumns,selection:K.labelSynchronisedColumnSelection,levels:K.labelLevelsColumn,
position:K.labelSynchronisedPosition,selectionWarning:K.labelSelectionIsActiveColumns},[{spec:this._pageInfo.columnAxisSpecification,axis:"COL"}],"col")):this._elementType===l.dashboardElementType.CHART&&this._chartType!==l.chartType.WATERFALL&&this._populateSection(b,{heading:K.headingLists,selection:K.labelSynchronisedSelection,levels:K.labelLevels,position:K.labelSynchronisedPosition,selectionWarning:K.labelSelectionIsActive},this._chartType===l.chartType.COLUMNRANGE||this._chartType===l.chartType.MAP||
this._chartType===l.chartType.FUNNEL?[{spec:this._pageInfo.rowAxisSpecification,axis:"ROW"}]:[{spec:this._pageInfo.rowAxisSpecification,axis:"ROW"},{spec:this._pageInfo.columnAxisSpecification,axis:"COL"}],"list")}},_populateSection:function(b,d,e,g){var f=this;if(b&&d&&e){(!d.heading||!d.selection||!d.levels||!d.position||!d.selectionWarning)&&a.throwClientException(this,"PageSelectorOptions did not specify all headings");var h=[],r=[],k=[],m=!0;D.forEach(e,function(a){var b=q.getAllDimensionIdentifiersForAxisSpecification(a.spec);
q.axisSpecificationContainsEmpty(a.spec)||(m=!1);D.forEach(b,function(b){h.push(b);r.push(a.axis);k.push(f._dimensionContainsLevelOrItemSelection(b,a.spec))})});if(!(0===h.length||m)){var t=H.create("div");t.appendChild(document.createTextNode(d.heading));G.add(t,"pageSelectorOptions synchronisedPagingTitlePage");b.appendChild(t);D.forEach(h,B.hitch(this,function(a,f){var h=q.getLabelForDimensionIdentifier(p,a);if(null!==h){var m=H.create("div");G.add(m,"pageSelectorOptions synchronisedSelectionPanel");
var t=H.create("div");t.appendChild(document.createTextNode(h));G.add(t,"pageSelectorOptions synchronisedPagingLabel");m.appendChild(t);t=H.create("div");G.add(t,"syncCheckbox");var h=g+"sync"+a,l=new x({name:h,disabled:n.isVersionSystemAxisIdentifier(a)||n.isPropertySystemAxisIdentifier(a)});t.appendChild(l.domNode);m.appendChild(t);this._checkBoxStore.push({name:h,id:a,box:l,axis:r[f],type:"SELECTION"});t=H.create("div");t.appendChild(document.createTextNode(d.selection));G.add(t,"pageSelectorOptions synchronisedPagingTitleInitial");
m.appendChild(t);h=H.create("div");G.add(h,"pageSelectorOptions synchronisedPagingHierarchy");t=H.create("div");t.appendChild(document.createTextNode(d.levels));G.add(t,"pageSelectorOptions synchronisedPagingTitleHierarchy");h.appendChild(t);var t=H.create("div"),u=q.getHierarchyParentList(p.getModelInfo(),a),v=this._createLevelsSelector(u,a,r[f]);t.appendChild(v.domNode);G.add(t,"pageSelectorOptions hierarchyDropdown");h.appendChild(t);m.appendChild(h);t=H.create("div");h=g+"pos"+a;u=new x({name:h});
t.appendChild(u.domNode);m.appendChild(t);this._checkBoxStore.push({name:h,id:a,box:u,axis:r[f],type:"POSITION"});G.add(t,"hiddenSection");J(l,"change",function(){!k[f]&&!v._keepDisabled&&v.set("disabled",!l.get("checked"),!1)});this._axisSpecIsBranchFilter(e,a)?l.set("checked",!0,!1):v.set("disabled",!0,!1);k[f]&&(l.set("disabled",!0,!1),v.set("disabled",!0,!1));this._allWidgetList.push(l,v,u);b.appendChild(m)}}));t=H.create("div");G.add(t,"pageSelectorOptions hiddenSection synchronisedPagingTitle checkWidth");
t.appendChild(document.createTextNode(d.position));b.appendChild(t);if(-1!==D.indexOf(k,!0)){var t=H.create("div",{},b),t=H.create("div",{"class":"notification"},t),l=document.createTextNode(d.selectionWarning);t.appendChild(l)}}}},_axisSpecIsBranchFilter:function(a,b){var d=!1;D.forEach(a,function(a){q.getAxisTypeOfDimensionInAxisSpecification(a.spec,b)===l.AXIS_DEFINITION_TYPE_SYNC_BRANCH&&(d=!0)});return d},_createLevelsSelector:function(b,g,r){var k=B.clone(b);k||(k={});if(!k.entityLongIds||1>
k.entityLongIds.length)k.entityLongIds=[];if(!k.labels||1>k.labels.length)k.labels=[];if(!k.identifiers||1>k.identifiers.length)k.identifiers=[];k.entityLongIds.unshift(-1);k.labels.unshift(K.labelLevelsDefault);k.identifiers.unshift(null);1<k.entityLongIds.length&&k.entityLongIds.pop();1<k.labels.length&&k.labels.pop();1<k.identifiers.length&&k.identifiers.pop();b=k.labels.length;var m=new A,n=k.labels[0];this._levelStore[g]=null;var l;"COL"===r?l=this._pageInfo.columnAxisSpecification:"ROW"===r&&
(l=this._pageInfo.rowAxisSpecification);q.convertAxisSpecificationToUseAxisDefinition(l);l=q.getAxisDefinitionOfDimensionInAxisSpecification(l,g);r=b;if(l&&l.listeningDimensionIdentifiers){l=l.listeningDimensionIdentifiers;for(var u=0;u<l.length&&1>u;u++){var v=D.indexOf(k.identifiers,l[u]);-1!==v&&v<r&&(r=v)}}r<b&&(n=k.labels[r],this._levelStore[g]=k.identifiers.slice(r));var p=new t({label:e.escapeHTML(n),showLabel:!0,dropDown:m,autoWidth:!1});1===b&&(p.set("disabled",!0),p._keepDisabled=!0);k.labels=
[k.labels];k.entityLongIds=[k.entityLongIds];k.identifiers=[k.identifiers];k.entityIds=[k.labels];k.parentEntityLongIds=[[0]];k.isAggregate=[[0]];k.isEditable=[[0]];k.isItemEditable=[[0]];k.canDelete=[[0]];k.canInsertSibling=[[0]];k.count=b;this.own(J(m,"close",B.hitch(this,function(){p.closeDropDown(!1);m.destroyDescendants()})),J(m,"open",B.hitch(this,function(){try{if(m.domNode&&!(0>=L.getMarginBox(m.domNode).w)){var b=document.createElement("div");m.set("content",b);var e=d.createSelector({labelPage:k,
selectedEntityLongId:-1,onSelectionChange:B.hitch(this,function(a,b){p.set("label",b);var d=D.indexOf(k.identifiers[0],h.entityLongIdToEntityLongIdIdentifier(a));this._levelStore[g]=-1===d?null:k.identifiers[0].slice(d);setTimeout(function(){p.closeDropDown(!1);p.emit("change",{})},25)}),style:"height:250px; width:250px;",widgetContainer:b});setTimeout(function(){e&&e.domNode&&(e.domNode.style.display="")},250)}}catch(r){a.showErrorReporter(new f.ClientException("onOpen:",r))}})));return p}})})},
"anaplan/gridlet/_editor/cellEditors/ListCellEntitySelector":function(){define("anaplan/gridlet/_editor/cellEditors/ListCellEntitySelectorDropDown anaplan/widgets/ListCellSelector anaplan/data/ModelContentCache/BaseLabelPageWrapper anaplan/utils/EntityLongIdHelper anaplan/data/ModelContentCache dojo/data/ObjectStore dojo/store/Memory dojo/_base/declare dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,s,p,q,f,k,n,m,h,e){return m(s,{dropDownClass:l,validationEnabled:!0,notFilteredByType:!1,
_showShowAll:!1,searchAttr:"label",labelAttr:"label",constructor:function(e){this.set("store",new n)},closeDropDown:function(e){!e&&(this._opened&&this.isValid())&&this.defer(h.hitch(this,function(){this.emit("selected")}));this.inherited(arguments)},_setLabelPageAttr:function(e){e=this._getHierarchicalListAsFlatList(e);0===e.length&&e.push({entityLongId:"noresults",label:"No Results",level:0,buttonAction:"noresults",isSelectable:!1});this._showShowAll&&e.push({entityLongId:"showall",label:"Show All",
level:0,buttonAction:"showall",isSelectable:!0});e=new k({objectStore:new n({data:e,idProperty:"entityLongId"})});this.set("store",e)},_setHierarchyEntityLongIdAttr:function(e){f.getHierarchySubsetInfo(e)&&(e=f.getHierarchyInfoForHierarchySubsetEntityLongId(e).entityLongId);this._targetEntityTypeIndex=f.getEntityTypeIndexOfListItems(e);-1===this._targetEntityTypeIndex&&(this.notFilteredByType=!0)},_setShowAllButtonAttr:function(e){this._showShowAll=e},_getShowAllButtonAttr:function(){return this._showShowAll},
_getHierarchicalListAsFlatList:function(e){var d=[];(new p(e)).forEach(h.hitch(this,function(a,e,b,g){a={entityLongId:e,label:b,level:g?g.length+1:0,isSelectable:this.notFilteredByType||q.getEntityTypeIndex(e)===this._targetEntityTypeIndex};d.push(a)}));return d},_startSearch:function(){this.inherited(arguments);this._actionHandler&&this._actionHandler.remove();this._actionHandler=e.once(this.dropDown,"action",h.hitch(this,function(e){this.emit(e.action)}))}})})},"anaplan/utils/SelectorFactory":function(){define("anaplan/utils/UIHelper anaplan/utils/SelectorFactory/TreePageSelector anaplan/utils/SelectorFactory/TreeletPageSelector dojo/data/ItemFileWriteStore dijit/layout/ContentPane dijit/TooltipDialog dijit/tree/TreeStoreModel anaplan/gridlet/Themes anaplan/Exceptions anaplan/gridlet/Selection anaplan/treelet/Treelet anaplan/utils/LabelPageHelper anaplan/widgets/LineItemSelector anaplan/widgets/Tree dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/array".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){var z={createLineItemSelector:function(b){var d=null;try{d=new a(b)}catch(e){throw new h.ClientException("anaplan.utils.SelectorFactory.createLineItemSelector",e);}return d},createPageSelector:function(a){var b=null;try{a.labelPage.count>l.getTreeLimit()?(a.themeId=m.getGridSelectorTheme(),b=new p(a)):b=new s(a)}catch(d){l.throwClientException(this,d)}return b},createSelector:function(a){var b=null;try{var d=this._getFlatListSize(a);a.labelPage&&d>l.getTreeLimit()?
(a.themeId=m.getGridSelectorTheme(),b=this._createTreeletSelector(a)):b=this._createTreeSelector(a)}catch(e){l.throwClientException(this,e)}return b},_createTreeSelector:function(a){var e=null;try{var g=a.widgetContainer;b.set(g,"overflow","auto");var f,m={};dijit.getEnclosingWidget(g)instanceof k||delete a.style;if(a.items)f=a.items;else if(a.labelPage){var t=d.getOrderedParentChildArray(a.labelPage);f=d.getItems(t,m)}else return console.error("anaplan.utils.SelectorFactory: _createTreeSelector - missing items or Label Page"),
null;var v=a.itemLabel?a.itemLabel:"name",p=a.itemIdentifier?a.itemIdentifier:"entityLongId",z=a.store?a.store:new q({data:{identifier:p,label:v,items:f}}),s=new n({store:z,mayHaveChildren:function(a){return 0<a.children.length}}),e=new r(u.mixin(a,{model:s,showRoot:!1}));g.appendChild(e.domNode);e.startup();if(a.selectedEntityLongId)if(a.items)e.selectNodeWithId(a.selectedEntityLongId);else{var L=d.getPathToItemEntityLongId(a.selectedEntityLongId,m);e.set("pathExpandedToLeaf",L)}e.on(a.onSelectionChangeEvent||
"click",function(b,d){var e,g;try{e=z.getIdentity(b),g=z.getLabel(b),a.onSelectionChange(e,g)}catch(f){var r={};e=z.getIdentity(b);g=z.getLabel(b);b&&(r.item={},g&&0<g.length&&(r.item.name=g),e&&0<e.length&&(r.item.id=e));d&&(r.treeNode={},d.id&&(r.treeNode.node=d.toString(),r.treeNode.id=d.id));l.showErrorReporter(new h.ClientException("SelectorFactory: _createTreeSelector",f,r))}})}catch(F){l.throwClientException(this,F)}return e},_createTreeletSelector:function(a){var b;try{var d=a.widgetContainer;
b=new g(u.mixin(a,{name:"treeletSelector"}));d instanceof f?d.set("content",b.domNode):t.place(b.domNode,d);b.startup();b.on("Selection",function(b){a.onSelectionChange(b.entityLongId,b.label)});var h=a.selectedEntityLongId||null,r=a.labelPage.entityLongIds[0];if(r.length){d=0;h&&(d=v.indexOf(r,h));-1===d&&(d=0,h=null);var k=new e,m=k.currentCell,n=k.getCurrentRange();m.setX({fixedIndex:0});m.setY({index:d,offset:0,entityLongIds:null!==h?[h]:null});n.setTopLeft(k.currentCell.clone());n.bottomRight.setX({index:-1,
offset:0,entityLongIds:null});b.setCurrentSelection(k)}b.focus()}catch(p){l.throwClientException(this,p)}return b},_getFlatListSize:function(a){var b=0;try{var d=a.labelPage;a.items?b=this._getMaxItemsAtAnyLevel(a.items):d?d&&(d.entityLongIds&&d.entityLongIds.length)&&(b=d.entityLongIds[0].length):console.error("SelectorFactory: unsupported selector params")}catch(e){l.throwClientException(this,e)}return b},_getMaxItemsAtAnyLevel:function(a,b){for(var d=Math.max(a.length,b||0),e=a.length;e--;)d=Math.max(d,
this._getMaxItemsAtAnyLevel(a[e].children,d));return d}};u.setObject("anaplan.utils.SelectorFactory",z);return z})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,s,p,q){return l("dijit.form.MappedTextBox",q,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(f){return f.toString?f.toString():""},toString:function(){var f=this.filter(this.get("value"));
return null!=f?"string"==typeof f?f:this.serialize(f,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=p.place("\x3cinput type\x3d'hidden'"+(this.name&&!s("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"anaplan/gridlet/_editor/SummaryEditor":function(){define("anaplan/utils/FormatHelper anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/gridlet/_editor/PopupEditor anaplan/gridlet/_editor/Summary dojo/on dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/gridlet".split(" "),
function(l,s,p,q,f,k,n,m,h){return n("anaplan.gridlet._editor.SummaryEditor",q,{prepare:function(e){var g=this.inherited(arguments),d=m.mixin({},this._params,e),a,r;if(!d.context)return g.reject(this.declaredClass+": prepare - no context provided"),g;if(!this._dialog)return g.reject(this.declaredClass+": prepare - no dialog provided"),g;a=d.rowEntityLongIds[0];r=d.moduleEntityLongId;this._value=d.underlyingValue;this.widget=new f({initialSummary:this._value,lineItemEntityLongId:a,moduleEntityLongId:r});
d=h.labelLineItem;a&&(r=s.getModuleInfo(r),d=p.getLineItemLabelFromModuleInfo(r,a));this._dialog.set("title",[h.titleSummaryDialog,l.escapeHTML(d)].join(" - "));this._dialog.set("content",this.widget.domNode);this.own(k(this.widget,"submit",m.hitch(this,"_onChange")),k(this.widget,"cancel",m.hitch(this,"onCancel")));g.resolve();return g},getValue:function(){return this._value||null},_onChange:function(e){this._value=e;this.onChange(e)}})})},"anaplan/snav/widgets/multiselect":function(){define("anaplan/data/ModelContentCache anaplan/snav/listloader anaplan/snav/widgets/multiselect/Filters anaplan/snav/widgets/multiselect/Model anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/widgets/MultiSelect dijit/focus dijit/form/Button dijit/layout/_LayoutWidget dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/query dojo/sniff dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x){return d("anaplan.snav.multiselect",[e],{canMaintain:!1,deferredList:null,filterPropertyEntityLongIds:[],hierarchyEntityLongId:-1,isParentItemEditable:null,valueAttr:"entityLongId",MAX_LEAF_ITEMS:9>v("ie")?2E3:1E4,postCreate:function(){try{this.inherited(arguments);r.add(this.domNode,"multiselect loading");var d=b.create("select",{}),e=new n({name:"lhs",style:"position:absolute;",disabled:!1},d),f=b.create("select",{}),m=new n({name:"rhs",required:!0,
style:"position:absolute;",disabled:!0},f);this._rhsModel=new q;var t=b.create("select",{}),v=new n({name:"removed",style:"visibility:hidden;",disabled:!1},t),x=new h({label:"\x26gt;",style:"position:absolute;",disabled:!0}),w=new h({label:"\x26lt;",style:"position:absolute;",disabled:!0}),s=l.getHierarchyInfo(this.multiSelectHierarchyEntityLongId);null==s&&(s=l.getHierarchyInfoForHierarchySubsetEntityLongId(this.multiSelectHierarchyEntityLongId));var K=[];if(null!=s)for(var J=s.propertiesInfo,M=
s.propertiesLabelPage.entityLongIds,d=0;d<M.length;d++)"ENTITY"==J[[d]].format.dataType&&K.push(M[d]);this.filterPropertyEntityLongIds=g.filter(this.filterPropertyEntityLongIds,function(a){return-1==a?!0:-1<g.indexOf(K,a)});var I=new p({filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,style:"position:absolute;"});this.addChild(I);this.addChild(e);this.addChild(m);this.addChild(v);this.addChild(x);this.addChild(w);this.filters=
I;this.lhs=e;this.rhs=m;this.removed=v;this.buttonAdd=x;this.buttonRemove=w;z(this.filters,"change",a.hitch(this,function(d){try{var e=y("option:checked",this.lhs.containerNode).map(function(a){return a.value});b.empty(this.lhs.domNode);r.add(this.domNode,"loading");setTimeout(a.hitch(this,function(){try{this._setFilter(d,e)}catch(a){this._displayError(a)}finally{r.remove(this.domNode,"loading")}}),100)}catch(g){this._displayError(g)}}));w.on("click",a.hitch(this,function(){try{if(this._assertCanMaintain()&&
this._assertIsParentItemEditable()){b.empty(this.removed.domNode);this.removed.addSelected(this.rhs);var a=this._rhsModel;y("option",this.removed.containerNode).forEach(function(b){a.remove(b.value)});var d=y("option:checked",this.lhs.containerNode).map(function(a){return a.value});b.empty(this.lhs.domNode);r.add(this.domNode,"loading");this._setFilter(this.filters.get("value"),d);r.remove(this.domNode,"loading")}}catch(e){this._displayError(e)}}));x.on("click",a.hitch(this,function(){if(this._assertCanMaintain()&&
this._assertIsParentItemEditable()){var b=y("option:checked",this.lhs.containerNode).map(function(a){return a.value});if(!g.some(b,a.hitch(this,function(a){return!this._assertIsItemEditable(a)})))try{var d=this._rhsModel;y("option",this.lhs.containerNode).forEach(function(a){a.selected&&d.add({label:k.getText(a),entityLongId:a.value})});this.rhs.addSelected(this.lhs);y("option",this.rhs.containerNode).forEach(function(a){u.set(a,{paddingLeft:0})})}catch(e){console.error(this.id,e)}}}))}catch(O){this._displayError(O)}},
startup:function(){this.inherited(arguments);this.deferredList.then(a.hitch(this,function(b){try{if(this.domNode){if(b[1])if(b[1][0])this._setRHS(b[1][1]);else{this._displayError(b[1][1]);return}if(b[0])if(b[0][0])this._setLHS(b[0][1],b[1]?b[1][1]:null);else{this._displayError(b[0][1]);return}if(this.filterPropertyEntityLongIds.length){var d=g.indexOf(this.filterPropertyEntityLongIds,-1),e=[];if(-1<d)g.forEach(this._rootnodes,a.hitch(this,function(a){this._addToItems(a,e)})),this.filters.set("items",
[e]);else{var f=l.getHierarchyInfo(this.multiSelectHierarchyEntityLongId);f||(f=l.getHierarchyInfoForHierarchySubsetEntityLongId(this.multiSelectHierarchyEntityLongId));var h=f.propertiesInfo,k=f.propertiesLabelPage;s.getLists(g.map(this.filterPropertyEntityLongIds,function(a){d=g.indexOf(k.entityLongIds,a);return h[d].format.hierarchyEntityLongId})).then(a.hitch(this,function(a){a=g.map(a,this._toItems);this.filters.set("items",a)}),a.hitch(this,function(a){console.error(a);this._displayError(a)}))}}g.forEach(this.getChildren(),
function(a){a&&a.set("disabled",!1)})}}catch(m){this._displayError(m)}finally{this.domNode&&r.remove(this.domNode,"loading")}}),a.hitch(this,function(a){this.domNode&&r.remove(this.domNode,"loading");console.error(this.id,a)}))},focus:function(){this.lhs&&m.focus(this.lhs)},layout:function(){try{var a=this._contentBox.w,b=Math.floor(this._contentBox.h-40),d=t.getMarginBox(this.buttonAdd.domNode),e=t.getMarginBox(this.buttonRemove.domNode),g=Math.floor((a-80-Math.max(d.w,e.w))/2);this.filters.resize({w:g});
var f=this.filterPropertyEntityLongIds.length?20:0;u.set(this.filters.domNode,{left:"20px",top:f+"px"});var h=t.getMarginBox(this.filters.domNode);this.lhs&&this.lhs.resize({h:b-(f+h.h),w:g});u.set(this.lhs.domNode,{top:f+h.h+20+"px",left:"20px"});var r=Math.max(d.w,e.w);this.rhs&&this.rhs.resize({w:g,h:b});a=g+40;u.set(this.rhs.domNode,{left:a+r+20+"px",top:"20px"});var k=20+Math.floor((b-d.h-20-e.h)/2);u.set(this.buttonAdd.domNode,{left:a+"px",top:k+"px"});u.set(this.buttonRemove.domNode,{left:a+
"px",top:k+d.h+20+"px"})}catch(m){console.error(this.id+" layout",m)}},isValid:function(){return 0<this.get("value").length},resume:function(){},setGlobalContext:function(){},suspend:function(){},_addToItems:function(a,b){if(!a.isLeaf&&a.children.length){b.push({entityLongId:a.entityLongId,label:a.label});for(var d=0;d<a.children.length;d++)this._addToItems(a.children[d],b)}},_addToLHS:function(a,d,e,g){if(a.isLeaf)a[this.valueAttr]in g||(b.create("option",{innerHTML:f.escapeHTML(a.label),style:"padding-left:"+
e+"px;",value:a[this.valueAttr]},d),this._leafCount++);else{-1<a.entityLongId&&(b.create("optgroup",{label:a.label,style:"padding-left:"+e+"px;"},d),e+=15);for(var h=0;h<a.children.length&&!(this._addToLHS(a.children[h],d,e,g),this._leafCount==this.MAX_LEAF_ITEMS);h++);}},_arrayToMap:function(a){var b={},d=a.length,e;for(e=0;e<d;e++)b[a[e]]=!0;return b},_assertCanMaintain:function(){this.canMaintain||this._displayMessage("Sorry, you do not have permission to maintain this hierarchy");return this.canMaintain},
_assertIsParentItemEditable:function(){if(null==this.isParentItemEditable)return!0;!1==this.isParentItemEditable&&(1==this.selectedItems.length?this._displayMessage("Sorry, you do not have permission to edit "+this.selectedItems[0].label):this._displayMessage("Sorry, you do not have permission to edit any of the items selected"));return this.isParentItemEditable},_assertIsItemEditable:function(a){var b=this._nodes;a=this._nodeIndices[a];var d=b[a];return!d.isItemEditable?(this._displayMessage("Sorry, you do not have permission to edit "+
b[a].label),!1):d.isItemEditable},_displayError:function(a){x.publish("anaplan/systemmessage",a,null,-1,"ERROR")},_displayMessage:function(a){x.publish("anaplan/systemmessage",a,null,-1,"MESSAGE")},_getValueAttr:function(){return!this._rhsModel?[]:this._rhsModel.getEntityLongIds()},_setFilter:function(d,e){try{this.lhs.domNode.options.length=0}catch(f){b.empty(this.lhs.domNode)}var h=this.get("value"),r=this._arrayToMap(h);this._leafCount=0;var k=g.filter(d,function(a){return a.value.length});if(k.length)if(-1==
k[0].filterPropertyEntityLongId)this._addToLHS(this._nodes[this._nodeIndices[k[0].value]],this.lhs.domNode,0,r),this._leafCount==this.MAX_LEAF_ITEMS&&this._displayMessage("Showing first "+this.MAX_LEAF_ITEMS+" matches");else{var m=0,h=g.filter(this._nodes,a.hitch(this,function(a){if(m==this.MAX_LEAF_ITEMS||a.entityLongId in r)return!1;if(!d.length)return!0;var b=a.filterEntityLongIds;return g.every(k,function(a){return-1<g.indexOf(b,a.value)})?(m++,!0):!1})),t=[],n={},l=[],u={};g.forEach(h,a.hitch(this,
function(a){t.push(a);for(var b=a;-1<b.parentEntityLongId&&this._nodeIndices.hasOwnProperty(b.parentEntityLongId);){a=null;if(n.hasOwnProperty(b.parentEntityLongId))if(a=t[n[b.parentEntityLongId]],g.some(a.children,function(a){return a.entityLongId==b.entityLongId}))break;else a.children.push(b);else a=this._nodes[this._nodeIndices[b.parentEntityLongId]],a={children:[b],entityId:a.entityId,entityLongId:a.entityLongId,filterEntityLongIds:a.filterEntityLongIds,label:a.label,parentEntityLongId:a.parentEntityLongId,
isLeaf:a.isLeaf,isItemEditable:a.isItemEditable},t.push(a),n[a.entityLongId]=t.length-1;b=a}if((-1==b.parentEntityLongId||!this._nodeIndices.hasOwnProperty(b.parentEntityLongId))&&!u.hasOwnProperty(b.entityLongId))l.push(b),u[b.entityLongId]=l.length}));g.forEach(l,a.hitch(this,function(a){this._addToLHS(a,this.lhs.domNode,0,r)}));m==this.MAX_LEAF_ITEMS&&this._displayMessage("Showing first "+this.MAX_LEAF_ITEMS+" matches")}else{for(var v=0;v<this._rootnodes.length&&!(this._addToLHS(this._rootnodes[v],
this.lhs.domNode,0,r),this._leafCount==this.MAX_LEAF_ITEMS);v++);this.lhs.containerNode.childNodes.length+h.length<this._nodes.length&&this._displayMessage("Showing first "+this.lhs.containerNode.childNodes.length+" of "+this._nodes.length)}y("option",this.lhs.containerNode).forEach(function(a){-1<g.indexOf(e,a.value)&&(a.selected=!0)})},_setLHS:function(a){if(this.lhs&&this.lhs.domNode){for(var b=this.lhs,d=a.rowLabelPages[0],e=a.pageInfo.rowEntityTypeIndices[0][0],f=d.entityLongIds[0],h=d.labels[0],
r=d.entityIds[0],k=d.parentEntityLongIds[0],m=d.isItemEditable[0],t=g.map(g.filter(this.filterPropertyEntityLongIds,function(b){return-1==b?!1:-1<g.indexOf(a.columnLabelPages[0].entityLongIds[0],b)}),function(b){return g.indexOf(a.columnLabelPages[0].entityLongIds[0],b)}),n=[],l=0;l<d.count;l++){var u=f[l],v=g.map(t,function(b){return a.dataPages[0].cellValues[a.columnCount*l+b]});n.push({children:[],entityId:r[l],entityLongId:u,filterEntityLongIds:v,label:h[l],parentEntityLongId:k[l],isLeaf:Math.floor(u/
1E9)==e,isItemEditable:null==this._isItemEditable?m[l]:this._isItemEditable})}for(var p={},d=0;d<n.length;d++)p[n[d].entityLongId]=d;var q=[];g.forEach(n,function(a){if(-1==a.parentEntityLongId)q.push(a);else{var b=p[a.parentEntityLongId];0<=b?(n[b].isLeaf=!1,n[b].children.push(a)):q.push(a)}});this._leafCount=0;d=this.get("value");e=this._arrayToMap(d);for(f=0;f<q.length&&!(this._addToLHS(q[f],b.domNode,0,e),this._leafCount==this.MAX_LEAF_ITEMS);f++);this.lhs.containerNode.childNodes.length+d.length<
n.length&&this._displayMessage("Showing first "+this.lhs.containerNode.childNodes.length+" of "+n.length);this._nodeIndices=p;this._nodes=n;this._rootnodes=q}},_setRHS:function(a){if(this.rhs&&this.rhs.domNode&&(a.hasOwnProperty("isParentItemEditable")&&(this.isParentItemEditable=a.isParentItemEditable),a.viewResults&&a.viewResults.length)){var d=this.rhs,e=this._rhsModel;e.setViewRequestResult(a.viewResults[0]);a=e.data;for(var e=Math.min(a.length,this.MAX_LEAF_ITEMS),g,h=0;h<e;h++)g=a[h],b.create("option",
{innerHTML:f.escapeHTML(g.label),value:g.entityLongId},d.domNode)}},_toItems:function(a){if(a[0]){a=a[1].rowLabelPages[0];for(var b=a.labels[0],d=a.entityLongIds[0],e=[],g=0;g<a.count;g++)e.push({entityLongId:d[g],label:b[g]});return e}return[]}})})},"anaplan/gridlet/GridSizer":function(){define("dojo/_base/array dojo/_base/declare anaplan/gridlet/Themes anaplan/constants anaplan/utils/UIHelper dojo/dom-construct dojo/_base/lang dojo/dom-geometry".split(" "),function(l,s,p,q,f,k,n,m){return s([],
{constructor:function(h){var e="";try{this._dataRowCount=h.dataRowCount||0,this._dataColumnCount=h.dataColumnCount||0,this._fixedColumnCount=h.fixedColumnCount||0,this._fixedRowCount=h.fixedRowCount||0,this._rowNesting=h.rowNesting||0,this._columnNesting=h.columnNesting||0,this._knownRows=h.knownRows||{count:0},this._knownColumns=h.knownColumns||{count:0},e="undefined"===typeof h.viewDefinition||"undefined"===typeof h.viewDefinition.themeId?p.getFallBackTheme():h.viewDefinition.themeId,this._normalRowAdjustment=
p.getNormalRowAdjustment(e),this._normalColumnAdjustment=p.getNormalColumnAdjustment(e),this._serialNumber=h.serialNumber,this._width=this._height=-1,this._rowLabelWidths=h.rowLabelWidths,this._defaultColumnWidth=h.defaultColumnWidth||p.getDefaultColumnWidth(e),this._defaultRowLabelWidth=h.defaultRowLabelWidth||(1<this._fixedColumnCount?p.getDefaultNestedRowLabelWidth(e):p.getDefaultColumnWidth(e)),this._viewDefinition=h.viewDefinition,this._columnLabelHeights=[]}catch(g){f.throwClientException(this,
g)}},getBorderBoxForColumnLabel:function(f,e,g){e=this._getColumnLabelAdjustment(f,e);return{w:Math.max(this._getColumnWidthRequested(f),0),h:Math.max(g.h+e.h,0)}},getBorderBoxForCrossHairs:function(f){return{w:this.getFixedColumnWidths(),h:this.getFixedRowHeights(f)}},getBorderBoxForRowLabel:function(f,e){return{w:Math.max(this.getRowLabelWidth(e),0),h:q.COLUMN_LABEL_HEIGHT}},getColumnCount:function(){return this._dataColumnCount},getColumnCountForContainerWidthAtIndex:function(f,e){if(!f)return 0;
var g=f-this.getFixedColumnWidths(),d=0,a=0,r=this._dataColumnCount,b,k;if(0>e)for(b=r+e;0<=b;b--){k=this.getColumnWidthAtIndex(b);if(a+k>g)break;d++;a+=k}else for(b=e;b<r;b++){k=this.getColumnWidthAtIndex(b);if(a+k>g)break;d++;a+=k}return d},getColumnNesting:function(){return this._columnNesting},getColumnWidthAtIndex:function(f){return this._getColumnWidthRequested(f)},getContentBoxForColumnLabel:function(f,e,g){var d=0,a=f-g.startColumn,r=g.columns.span?g.columns.span[e]:[q.SPAN_NONE];f=this._getColumnLabelAdjustment(f,
e);var b;if(r.length){do b=r[a],d+=this._getColumnWidthRequested(a+g.startColumn),a++;while(void 0!==r[a]&&null!==r[a]&&b!==q.SPAN_NONE&&b!==q.SPAN_END)}return{w:Math.max(d-f.w,0),h:this._getColumnLabelHeightAtNestingIndex(e,g)}},getContentBoxForDataCell:function(f,e,g){f=this._getMaxWidthAdjustmentForColumnIndex(e,g);return{h:q.COLUMN_LABEL_HEIGHT,w:this._getColumnWidthRequested(e)-f}},getContentBoxForRowLabel:function(f,e){var g=this._getRowLabelAdjustment(f,e);return{w:Math.max(this.getRowLabelWidth(e)-
g.w,0),h:q.COLUMN_LABEL_HEIGHT}},getFixedColumnCount:function(){return this._fixedColumnCount},getFixedColumnWidths:function(){for(var f=0,e=this._rowLabelWidths,g=e.length,d=0;d<g;d++)f+=e[d].width;return f},getFixedRowCount:function(){return this._fixedRowCount},getFixedRowHeights:function(f){var e=0,g=this._fixedRowCount,d;for(d=0;d<g;d++)e+=this._getColumnLabelHeightAtNestingIndex(d,f),e+=this._getColumnLabelAdjustment(f?f.startColumn:0,d).h;1<=g&&(e=Math.max(e,q.COLUMN_LABEL_HEIGHT));return e},
getHeight:function(f){if(-1===this._height){var e=0;if(this._knownRows.count)for(var g=this._knownRows.indices,d=0;d<g.length;d++)e+=this.getRowHeightAtIndex(g[d],f);f=(this.getRowCount()-this._knownRows.count)*(q.COLUMN_LABEL_HEIGHT+this._normalRowAdjustment.h);this._height=e+f}return this._height},getRowCount:function(){return this._dataRowCount},getRowCountForContainerHeightAtIndex:function(f,e,g){if(!f)return 0;f-=this.getFixedRowHeights(g);var d=g=0,a=this._dataRowCount,r=0,b=0;if(0>e)for(r=
a+e;0<=r;r--){b=this.getRowHeightAtIndex(r);if(d+b>f)break;g++;d+=b}else for(r=e;r<a;r++){b=this.getRowHeightAtIndex(r);if(d+b>f)break;g++;d+=b}return g},getRowHeightAtIndex:function(f){return q.COLUMN_LABEL_HEIGHT+this._getRowHeightAdjustment(f)},getRowLabelWidth:function(f){return f>=this._rowLabelWidths.length?0:this._rowLabelWidths[f].width},getRowNesting:function(){return this._rowNesting},getSerialNumber:function(){return this._serialNumber},getWidth:function(){if(-1===this._width){var f=0;
if(this._knownColumns.count)for(var e=this._knownColumns.indices,g=0;g<e.length;g++)f+=this.getColumnWidthAtIndex(e[g]);e=(this.getColumnCount()-this._knownColumns.count)*this._defaultColumnWidth;this._width=f+e}return this._width},_getColumnLabelAdjustment:function(f,e){if(!this._knownColumns||!this._knownColumns.count)return this._normalColumnAdjustment;var g=l.indexOf(this._knownColumns.indices,f);return-1===g?this._normalColumnAdjustment:this._knownColumns.adjustments[g][e]},_getColumnLabelHeightAtNestingIndex:function(f,
e){var g=q.columnHeaderWrapping.NO_WRAP,d;if(!isFinite(f))return console.error("anaplan/gridlet/GridSizer#_getColumnLabelHeightAtNestingIndex: invalid nesting index: "+f),q.COLUMN_LABEL_HEIGHT;if(0>f||f>=this._columnNesting)return q.COLUMN_LABEL_HEIGHT;void 0===this._columnLabelHeights[f]&&(f>=this._fixedRowCount?this._columnLabelHeights[f]=q.COLUMN_LABEL_HEIGHT:(f===this._fixedRowCount-1&&n.exists("columnSizes.columnHeaderWrapping",this._viewDefinition)&&(g=this._viewDefinition.columnSizes.columnHeaderWrapping),
e&&(n.exists("columns.styles",e)&&e.columns.styles.length===this._columnNesting)&&(d=e.columns.styles[f][0]),this._columnLabelHeights[f]=this._calculateColumnLabelHeight(g,d)));return this._columnLabelHeights[f]},_calculateColumnLabelHeight:function(f,e){var g=k.create("div",{position:"absolute",top:"-9999px",left:"-1000px","class":this._viewDefinition.themeId||p.getFallBackTheme()},document.body),d=k.create("th",{"class":e||"gridcolumnheader"},g),d=k.create("div",{"class":"cellWrapper"},d),a=q.columnHeaderWrapping;
d.innerHTML=f===a.WRAP_3_LINES?"A\x3cbr\x3eB\x3cbr\x3eC":f===a.WRAP_2_LINES?"A\x3cbr\x3eB":"A";d=m.getMarginSize(d).h+1;k.destroy(g);return d},_getColumnWidthRequested:function(f){if(!this._knownColumns||!this._knownColumns.count)return this._defaultColumnWidth;f=l.indexOf(this._knownColumns.indices,f);return-1===f?this._defaultColumnWidth:this._knownColumns.widths[f]||this._defaultColumnWidth},_getMaxHeightAdjustmentForRowIndex:function(f,e){var g=0;if(this._rowNesting)for(var d=0;d<this._rowNesting;d++)g=
Math.max(g,this._getRowLabelAdjustment(f,d).h);else g=p.getNormalRowAdjustment(e).h;return g},_getMaxWidthAdjustmentForColumnIndex:function(f,e){var g=0;if(this._columnNesting)for(var d=0;d<this._columnNesting;d++)g=Math.max(g,this._getColumnLabelAdjustment(f,d).w);else g=p.getNormalColumnAdjustment(e).w;return g},_getRowHeightAdjustment:function(f){var e;if(!this._knownRows||!this._knownRows.count)return this._normalRowAdjustment.h;if(!this._knownRows.showLabel)return this._getRowLabelAdjustment(f,
this._rowNesting-1).h;for(e=this._rowNesting;0<e;)if(e--,this._getShowLabelForRowNesting(f,e))return this._getRowLabelAdjustment(f,e).h;return 0},_getRowLabelAdjustment:function(f,e){if(!this._knownRows||!this._knownRows.count)return this._normalRowAdjustment;var g=l.indexOf(this._knownRows.indices,f);return-1===g?this._normalRowAdjustment:this._knownRows.adjustments[g][e]},_getShowLabelForRowNesting:function(f,e){if(!this._knownRows||!this._knownRows.count)return 0===e;var g=l.indexOf(this._knownRows.indices,
f);return-1===g?0===e:this._knownRows.showLabel[e][g]}})})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,s,p){l._name="browser";s.mixin(l,{isBrowser:!0,isFF:p("ff"),isIE:p("ie"),isKhtml:p("khtml"),isWebKit:p("webkit"),isMozilla:p("mozilla"),isMoz:p("mozilla"),isOpera:p("opera"),isSafari:p("safari"),isChrome:p("chrome"),isMac:p("mac"),isIos:p("ios"),isAndroid:p("android"),isWii:p("wii"),isQuirks:p("quirks"),isAir:p("air")});return p})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){s=s("dijit.form._AutoCompleterMixin",g,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(d){var a=0;if("number"==typeof d.selectionStart)a=d.selectionStart;else if(m("ie")){var e=d.ownerDocument.selection.createRange().duplicate();d=d.createTextRange();e.move("character",0);d.move("character",0);try{d.setEndPoint("EndToEnd",e),a=String(d.text).replace(/\r/g,"").length}catch(b){}}return a},
_setCaretPos:function(d,a){a=parseInt(a);e.selectInputText(d,a,a)},_setDisabledAttr:function(d){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",d?"true":"false")},_onKey:function(d){if(!(32<=d.charCode)){var a=d.charCode||d.keyCode;if(!(a==q.ALT||a==q.CTRL||a==q.META||a==q.SHIFT)){var e=this.dropDown,b=null;this._abortQuery();this.inherited(arguments);if(!d.altKey&&!d.ctrlKey&&!d.metaKey)switch(this._opened&&(b=e.getHighlightedOption()),a){case q.PAGE_DOWN:case q.DOWN_ARROW:case q.PAGE_UP:case q.UP_ARROW:this._opened&&
this._announceOption(b);d.stopPropagation();d.preventDefault();break;case q.ENTER:if(b){if(b==e.nextButton){this._nextSearch(1);d.stopPropagation();d.preventDefault();break}else if(b==e.previousButton){this._nextSearch(-1);d.stopPropagation();d.preventDefault();break}d.stopPropagation();d.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case q.TAB:a=this.get("displayedValue");if(e&&(a==e._messages.previousMessage||a==e._messages.nextMessage))break;
b&&this._selectOption(b);case q.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(d){var a=this.focusNode;e.selectInputText(a,a.value.length);var g=this.ignoreCase?"toLowerCase":"substr";0==d[g](0).indexOf(this.focusNode.value[g](0))?(g=this.autoComplete?this._getCaretPos(a):a.value.length,g+1>a.value.length&&(a.value=d,e.selectInputText(a,g))):(a.value=d,e.selectInputText(a))},_openResultList:function(d,a,e){var b=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();!d.length&&0==e.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=f.hitch(this,function(a){d.nextPage(-1!==a);this.focus()}),this.dropDown.createOptions(d,e,f.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in e?(e.direction?this.dropDown.highlightFirstOption():e.direction||this.dropDown.highlightLastOption(),b&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(a[this.searchAttr].toString()))&&
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var d=this.get("displayedValue"),a=this.dropDown;a&&(d==a._messages.previousMessage||
d==a._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",d)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState());this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(d,a,e){var b="";d&&(e||(e=this.store._oldAPI?this.store.getValue(d,this.searchAttr):d[this.searchAttr]),b=this._getValueField()!=this.searchAttr?this.store.getIdentity(d):e);this.set("value",
b,a,e,d)},_announceOption:function(d){if(d){var a;if(d==this.dropDown.nextButton||d==this.dropDown.previousButton)a=d.innerHTML,this.item=void 0,this.value="";else{var e=this.dropDown.items[d.getAttribute("item")];a=(this.store._oldAPI?this.store.getValue(e,this.searchAttr):e[this.searchAttr]).toString();this.set("item",e,!1,a)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",p.get(d,"id"));this._autoCompleteText(a)}},
_selectOption:function(d){this.closeDropDown();d&&this._announceOption(d);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(d){if(!this.dropDown){var a=this.id+"_popup";this.dropDown=new (f.isString(this.dropDownClass)?f.getObject(this.dropDownClass,
!1):this.dropDownClass)({onChange:f.hitch(this,this._selectOption),id:a,dir:this.dir,textDir:this.textDir})}this._lastInput=d;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new h({},this.srcNodeRef),!("value"in this.params))){var d=this.item=this.store.fetchSelectedItem();if(d){var a=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(d,a):d[a]}}},
postCreate:function(){var d=k('label[for\x3d"'+this.id+'"]');d.length&&(d[0].id||(d[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",d[0].id));this.inherited(arguments);l.after(this,"onSearch",f.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(d){d=this.labelFunc(d,this.store);var a=this.labelType;"none"!=this.highlightMatch&&("text"==this.labelType&&this._lastInput)&&(d=this.doHighlight(d,this._lastInput),a="html");return{html:"html"==a,label:d}},doHighlight:function(d,
a){var e=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),b=this.queryExpr.indexOf("${0}");a=n.escapeString(a);return this._escapeHtml(d.replace(RegExp((0==b?"^":"")+"("+a+")"+(b==this.queryExpr.length-4?"$":""),e),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(d){return d=String(d).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=
null;this.inherited(arguments)},labelFunc:function(d,a){return(a._oldAPI?a.getValue(d,this.labelAttr||this.searchAttr):d[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(d,a,e,b){this._set("item",b||null);null==d&&(d="");this.inherited(arguments)}});m("dojo-bidi")&&s.extend({_setTextDirAttr:function(d){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",d)}});return s})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){q=s("dijit.layout._StackButton",r,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});s=s("dijit.layout.StackController",[g,d,a],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:q,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return e.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(m.subscribe(this.containerId+"-startup",k.hitch(this,"onStartup")),m.subscribe(this.containerId+"-addChild",k.hitch(this,"onAddChild")),m.subscribe(this.containerId+"-removeChild",k.hitch(this,"onRemoveChild")),m.subscribe(this.containerId+"-selectChild",k.hitch(this,"onSelectChild")),m.subscribe(this.containerId+"-containerKeyDown",k.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(n(this.containerNode,"click",
k.hitch(this,function(a){var d=e.getEnclosingWidget(a.target);if(d!=this.containerNode&&!d.disabled&&d.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(p.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(d.page);break}else if(a==d.domNode){this.onButtonClick(d.page);break}})))},onStartup:function(a){this.textDir=a.textDir;l.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var d=e.byId(this.containerId).containerNode,g=k.hitch(this,"pane2button");
a={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var f=function(a,b){return n(d,"attrmodified-"+a,function(a){var d=g(a.detail&&a.detail.widget&&a.detail.widget.id);d&&d.set(b,a.detail.newValue)})},h;for(h in a)this.own(f(h,a[h]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,d){var e=new (k.isString(this.buttonWidget)?k.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(e,d);a.controlButton=e;if(!this._currentChild)this.onSelectChild(a);e=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+e.id:e.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
e)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var d=this.pane2button(a.id);d&&(this.removeChild(d),d.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var d=this.pane2button(this._currentChild.id);d.set("checked",!1);d.focusNode.setAttribute("tabIndex","-1")}d=this.pane2button(a.id);d.set("checked",!0);this._currentChild=a;d.focusNode.setAttribute("tabIndex","0");e.byId(this.containerId)}},onButtonClick:function(a){var d=this.pane2button(a.id);
h.focus(d.focusNode);this._currentChild&&this._currentChild.id===a.id&&d.set("checked",!0);e.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){e.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&h.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var d=this.getChildren(),e=l.indexOf(d,this.pane2button(this._currentChild.id)),g=d[e],f;do e=
(e+(a?1:d.length-1))%d.length,f=d[e];while(f.disabled&&f!=g);return f},onkeydown:function(a,d){if(!this.disabled&&!a.altKey){var e=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case f.LEFT_ARROW:case f.UP_ARROW:a._djpage||(e=!1);break;case f.PAGE_UP:a.ctrlKey&&(e=!1);break;case f.RIGHT_ARROW:case f.DOWN_ARROW:a._djpage||(e=!0);break;case f.PAGE_DOWN:a.ctrlKey&&(e=!0);break;case f.HOME:for(var g=this.getChildren(),h=0;h<g.length;h++){var r=g[h];if(!r.disabled){this.onButtonClick(r.page);break}}a.stopPropagation();
a.preventDefault();break;case f.END:g=this.getChildren();for(h=g.length-1;0<=h;h--)if(r=g[h],!r.disabled){this.onButtonClick(r.page);break}a.stopPropagation();a.preventDefault();break;case f.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==f.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case f.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==e&&(this.onButtonClick(this.adjacent(e).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});s.StackButton=q;return s})},"anaplan/utils/SortUtils":function(){define("dojo/_base/lang anaplan/constants anaplan/utils/EntityLongIdHelper anaplan/data/ModelContentHelper anaplan/utils/AxisHelper anaplan/Exceptions dojo/_base/kernel anaplan/utils/UIHelper".split(" "),function(l,s,p,q,f,k,n,m){var h=function(e,d){for(var a=e.hierarchiesInfo,f=e.hierarchySubsetsInfo,b=e.lineItemSubsetsInfo,
h=0;h<a.hierarchyInfos.length;h++){var k=a.hierarchyInfos[h];if(k.entityLongId===d)return b=a.hierarchiesLabelPage.labels[0][h],{entityLongId:d,label:b,parentId:k.parentHierarchyEntityLongId}}for(a=0;a<f.hierarchySubsetInfos.length;a++)if(k=f.hierarchySubsetInfos[a],k.entityLongId===d)return b=f.hierarchySubsetsLabelPage.labels[0][a],{entityLongId:d,label:b,parentId:k.parentHierarchyEntityLongId};for(f=0;f<b.lineItemSubsetInfos.length;f++)if(b.lineItemSubsetInfos[f].entityLongId===d)return b=b.lineItemSubsetsLabelPage.labels[0][f],
{entityLongId:d,label:b,parentId:-1};return null},e=function(e,d){if(!e||!d)return null;var a=q.getAllDimensionIdentifiersForAxisSpecification(d);if(!a||1!==a.length)return null;a=p.entityLongIdIdentifierToEntityLongId(a[0]);a=h(e,a);if(!a||-1===a.parentId)return null;var f=[];f.push(p.entityLongIdToEntityLongIdIdentifier(a.entityLongId));do a=h(e,a.parentId),f.push(p.entityLongIdToEntityLongIdIdentifier(a.entityLongId));while(a&&-1!==a.parentId);f.reverse();f.shift();f.unshift("TOTALS","LEAF");return f};
k={getValidDimensionIdentifiersForSelectedIds:function(e,d){for(var a=d.targetAxisSpecification,h=d.sortByAxisSpecification,b=d.moduleInfo,k=q.getLineItemInfoFromModuleInfo(b,d.lineItemOrModuleEntityLongId),m=[],b=p.entityLongIdsToEntityLongIdIdentifiers(k?k.fullAppliesTo:b.fullAppliesTo),k=b.length,n,l=0;l<k;l++){n=b[l];var y;a:{y=n;var w=a;if(!y||q.axisSpecificationContains(w,y)||f.isEmptySystemAxisIdentifier(y)||f.isLineItemsSystemAxisIdentifier(y))y=!1;else{if(q.axisSpecificationContainsLineItems(w)&&
(y=p.entityLongIdIdentifierToEntityLongId(y),p.getEntityTypeIndex(y)===s.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)){y=!1;break a}y=!0}}y&&m.push(n)}a=q.getAllDimensionIdentifiersForAxisSpecification(h);if(!e||1>e.length)e=a;h=p.entityLongIdsToEntityLongIdIdentifiers(e);for(b=0;b<m.length;b++){k=m[b];for(n=0;n<a.length;n++)k===a[n]&&(m[b]=h[n])}return m},getLineItemOrModuleEntityLongIdFromAxisSpecification:function(e,d){var a=null;if(q.axisSpecificationContainsLineItems(e))a=d.moduleEntityLongId;else{var a=
d.pageInfo,f=-1;q.axisSpecificationContainsLineItems(a.rowAxisSpecification)?(f=q.getLineItemsNestingIndexForAxisSpecification(a.rowAxisSpecification),a=d.selectedRow.entityLongIds[f]):q.axisSpecificationContainsLineItems(a.columnAxisSpecification)?(f=q.getLineItemsNestingIndexForAxisSpecification(a.columnAxisSpecification),a=d.selectedColumn.entityLongIds[f]):a=q.getLineItemEntityLongIdForPageInfo(a)}return p.entityLongIdToEntityLongIdIdentifier(a)},isModuleEntityLongId:function(e){return!!e&&p.getEntityTypeIndex(e)===
s.MODULE_ENTITY_TYPE_INDEX},onInvalidTargetAxis:function(e,d){var a=q.getAllDimensionIdentifiersForAxisSpecification(e);return a&&1<a.length?(m.showInfoDialog("Sorting an axis with nested dimensions is not supported.",{title:"Cannot sort a nested axis"}),!0):!d||-1===d.entityLongIds[0]?(m.showInfoDialog("Cannot apply a sort to an axis with no dimensions.",{title:"Cannot sort an empty axis"}),!0):!1},createDefaultSort:function(e,d,a){a=a||s.TOTALS_POSITION_GROUP_DEFAULT;return{isActive:!0,locale:n.locale,
hierarchyTotals:a,sortRules:[e],levels:d,levelRules:null}},getLevels:function(g,d){var a=e(g,d);return a?a:["TOTALS","LEAF"]},equivalentSortRules:function(e,d){var a;if(a=e.direction===d.direction)if(a=e.moduleIdentifier===d.moduleIdentifier)if(a=e.lineItemIdentifier===d.lineItemIdentifier)if(a=e.propertyIdentifier===d.propertyIdentifier)a:{a=e.contextIdentifiers;var f=d.contextIdentifiers;if(a.length!==f.length)a=!1;else{for(var b=0;b<a.length;++b)if(a[b]!==f[b]){a=!1;break a}a=!0}}return a},getActiveSortDefinitionFromSource:function(e,
d){return{isActive:!0,locale:e.locale,hierarchyTotals:e.hierarchyTotals,sortRules:[d],levels:e.levels,levelRules:e.levelRules}}};l.setObject("anaplan.utils.SortUtils",k);return k})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(l,s,p,q,f){var k={};l.setObject("dojo.number",k);k.format=function(f,h){h=l.mixin({},h||{});var e=s.normalizeLocale(h.locale),e=s.getLocalization("dojo.cldr","number",e);h.customs=e;e=h.pattern||e[(h.type||
"decimal")+"Format"];return isNaN(f)||Infinity==Math.abs(f)?null:k._applyPattern(f,e,h)};k._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;k._applyPattern=function(f,h,e){e=e||{};var g=e.customs.group,d=e.customs.decimal;h=h.split(";");var a=h[0];h=h[0>f?1:0]||"-"+a;if(-1!=h.indexOf("%"))f*=100;else if(-1!=h.indexOf("\u2030"))f*=1E3;else if(-1!=h.indexOf("\u00a4"))g=e.customs.currencyGroup||g,d=e.customs.currencyDecimal||d,h=h.replace(/\u00a4{1,3}/,function(a){return e[["symbol","currency","displayName"][a.length-
1]]||e.currency||""});else if(-1!=h.indexOf("E"))throw Error("exponential notation not supported");var r=k._numberPatternRE,a=a.match(r);if(!a)throw Error("unable to find a number expression in pattern: "+h);!1===e.fractional&&(e.places=0);return h.replace(r,k._formatAbsolute(f,a[0],{decimal:d,group:g,places:e.places,round:e.round}))};k.round=function(f,h,e){e=10/(e||10);return(e*+f).toFixed(h)/e};if(0==(0.9).toFixed()){var n=k.round;k.round=function(f,h,e){var g=Math.pow(10,-h||0),d=Math.abs(f);
if(!f||d>=g)g=0;else if(d/=g,0.5>d||0.95<=d)g=0;return n(f,h,e)+(0<f?g:-g)}}k._formatAbsolute=function(f,h,e){e=e||{};!0===e.places&&(e.places=0);Infinity===e.places&&(e.places=6);h=h.split(".");var g="string"==typeof e.places&&e.places.indexOf(","),d=e.places;g?d=e.places.substring(g+1):0<=d||(d=(h[1]||[]).length);0>e.round||(f=k.round(f,d,e.round));f=String(Math.abs(f)).split(".");var a=f[1]||"";h[1]||e.places?(g&&(e.places=e.places.substring(0,g)),g=void 0!==e.places?e.places:h[1]&&h[1].lastIndexOf("0")+
1,g>a.length&&(f[1]=q.pad(a,g,"0",!0)),d<a.length&&(f[1]=a.substr(0,d))):f[1]&&f.pop();d=h[0].replace(",","");g=d.indexOf("0");-1!=g&&(g=d.length-g,g>f[0].length&&(f[0]=q.pad(f[0],g)),-1==d.indexOf("#")&&(f[0]=f[0].substr(f[0].length-g)));var d=h[0].lastIndexOf(","),r,b;-1!=d&&(r=h[0].length-d-1,h=h[0].substr(0,d),d=h.lastIndexOf(","),-1!=d&&(b=h.length-d-1));h=[];for(d=f[0];d;)g=d.length-r,h.push(0<g?d.substr(g):d),d=0<g?d.slice(0,g):"",b&&(r=b,delete b);f[0]=h.reverse().join(e.group||",");return f.join(e.decimal||
".")};k.regexp=function(f){return k._parseInfo(f).regexp};k._parseInfo=function(m){m=m||{};var h=s.normalizeLocale(m.locale),h=s.getLocalization("dojo.cldr","number",h),e=m.pattern||h[(m.type||"decimal")+"Format"],g=h.group,d=h.decimal,a=1;if(-1!=e.indexOf("%"))a/=100;else if(-1!=e.indexOf("\u2030"))a/=1E3;else{var r=-1!=e.indexOf("\u00a4");r&&(g=h.currencyGroup||g,d=h.currencyDecimal||d)}h=e.split(";");1==h.length&&h.push("-"+h[0]);h=f.buildGroupRE(h,function(b){b="(?:"+f.escapeString(b,".")+")";
return b.replace(k._numberPatternRE,function(b){var e={signed:!1,separator:m.strict?g:[g,""],fractional:m.fractional,decimal:d,exponent:!1};b=b.split(".");var f=m.places;1==b.length&&1!=a&&(b[1]="###");1==b.length||0===f?e.fractional=!1:(void 0===f&&(f=m.pattern?b[1].lastIndexOf("0")+1:Infinity),f&&void 0==m.fractional&&(e.fractional=!0),!m.places&&f<b[1].length&&(f+=","+b[1].length),e.places=f);b=b[0].split(",");1<b.length&&(e.groupSize=b.pop().length,1<b.length&&(e.groupSize2=b.pop().length));return"("+
k._realNumberRegexp(e)+")"})},!0);r&&(h=h.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,d,e,g){a=f.escapeString(m[["symbol","currency","displayName"][e.length-1]]||m.currency||"");d=d?"[\\s\\xa0]":"";g=g?"[\\s\\xa0]":"";return!m.strict?(d&&(d+="*"),g&&(g+="*"),"(?:"+d+a+g+")?"):d+a+g}));return{regexp:h.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:g,decimal:d,factor:a}};k.parse=function(f,h){var e=k._parseInfo(h),g=RegExp("^"+e.regexp+"$").exec(f);if(!g)return NaN;var d=g[1];if(!g[1]){if(!g[2])return NaN;
d=g[2];e.factor*=-1}d=d.replace(RegExp("["+e.group+"\\s\\xa0]","g"),"").replace(e.decimal,".");return d*e.factor};k._realNumberRegexp=function(m){m=m||{};"places"in m||(m.places=Infinity);"string"!=typeof m.decimal&&(m.decimal=".");if(!("fractional"in m)||/^0/.test(m.places))m.fractional=[!0,!1];"exponent"in m||(m.exponent=[!0,!1]);"eSigned"in m||(m.eSigned=[!0,!1]);var h=k._integerRegexp(m),e=f.buildGroupRE(m.fractional,function(d){var a="";d&&0!==m.places&&(a="\\"+m.decimal,a=Infinity==m.places?
"(?:"+a+"\\d+)?":a+("\\d{"+m.places+"}"));return a},!0),g=f.buildGroupRE(m.exponent,function(d){return d?"([eE]"+k._integerRegexp({signed:m.eSigned})+")":""}),h=h+e;e&&(h="(?:(?:"+h+")|(?:"+e+"))");return h+g};k._integerRegexp=function(k){k=k||{};"signed"in k||(k.signed=[!0,!1]);"separator"in k?"groupSize"in k||(k.groupSize=3):k.separator="";var h=f.buildGroupRE(k.signed,function(e){return e?"[-+]":""},!0),e=f.buildGroupRE(k.separator,function(e){if(!e)return"(?:\\d+)";e=f.escapeString(e);" "==e?
e="\\s":"\u00a0"==e&&(e="\\s\\xa0");var d=k.groupSize,a=k.groupSize2;return a?(e="(?:0|[1-9]\\d{0,"+(a-1)+"}(?:["+e+"]\\d{"+a+"})*["+e+"]\\d{"+d+"})",0<d-a?"(?:"+e+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":e):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+e+"]\\d{"+d+"})*)"},!0);return h+e};return k})},"anaplan/api/Entity/List":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){var a=l("dijit.DialogUnderlay",[m,h],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){q.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(k(this.domNode,"keydown",s.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var d=n.getBox(this.ownerDocument);b.top=d.t+"px";b.left=d.l+"px";a.width=d.w+"px";a.height=d.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new e(this.domNode);var a=n.get(this.ownerDocument);this._modalConnects=[g.on("resize",s.hitch(this,"layout")),k(a,"scroll",
s.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});a.show=function(e,b){var g=a._singleton;!g||g._destroyed?g=d._underlay=a._singleton=new a(e):e&&g.set(e);f.set(g.domNode,"zIndex",b);g.open||g.show()};a.hide=function(){var d=
a._singleton;d&&!d._destroyed&&d.hide()};return a})},"anaplan/view/FastInsert/_Dialog":function(){define(["dojo/_base/declare","anaplan/widgets/DialogWithHelp","dojo/on","dojo/_base/lang"],function(l,s,p,q){return l("anaplan.view.FastInsert._Dialog",[s],{hide:function(){if(!this.getChildren()[0].isBusy())return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);var f=p(this.closeButtonNode,"touchstart",q.hitch(this,"onCancel"));this.own(f)}})})},"anaplan/gridlet/cellmenu/CellMenuDelegate":function(){define(["dojo/_base/declare"],
function(l){return l("anaplan.gridlet.cellmenu.CellMenuDelegate",[],{populateCellMenu:function(){}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(l,s,p,q,f){return p("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var k=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=
!0);f.parse(k,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(q.hitch(this,function(f){this._startupWidgets=f;for(var k=0;k<f.length;k++)this._processTemplateNode(f[k],function(f,e){return f[e]},function(f,e,g){return e in f?f.connect(f,e,g):f.on(e,g,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+
": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(f,n,m){return n(f,"dojoType")||n(f,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){l.forEach(this._startupWidgets,function(f){f&&(!f._started&&f.startup)&&f.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/DeferredList":function(){define(["./_base/kernel",
"./_base/Deferred","./_base/array"],function(l,s,p){l.DeferredList=function(l,f,k,n,m){var h=[];s.call(this);var e=this;0===l.length&&!f&&this.resolve([0,[]]);var g=0;p.forEach(l,function(d,a){function r(b,d){h[a]=[b,d];g++;g===l.length&&e.resolve(h)}d.then(function(b){f?e.resolve([a,b]):r(!0,b)},function(a){k?e.reject(a):r(!1,a);if(n)return null;throw a;})})};l.DeferredList.prototype=new s;l.DeferredList.prototype.gatherResults=function(q){q=new l.DeferredList(q,!1,!0,!1);q.addCallback(function(f){var k=
[];p.forEach(f,function(f){k.push(f[1])});return k});return q};return l.DeferredList})},"anaplan/widgets/TaskProgressMonitor":function(){define("anaplan/data/Aggregator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/Exceptions anaplan/format/util dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/text!anaplan/templates/TaskProgressMonitor.html dijit/ProgressBar".split(" "),function(l,s,p,q,f,k,n,m,h,e){return n([s,p,q],{baseClass:"taskProgressMonitor",templateString:e,
progressUpdateInterval:1500,cancelTask:function(){this._cancelled=!0},reset:function(){this._cancelled=!1;this.progressBar.set("label","\x26#160;");this.progressBar.set("value",Infinity)},startProgressMonitor:function(e,d){var a=new h(m.hitch(this,"_canceller"));try{var r=this;setTimeout(function(){try{r._sendProgressRequest(e,a,d)}catch(b){a.reject(new f.ClientException("anaplan.widgets.TaskProgressMonitor.startProgressMonitor: error sending progress request",b))}},this.progressUpdateInterval)}catch(b){throw new f.ClientException("anaplan.widgets.TaskProgressMonitor.startProgressMonitor",
b);}return a},uninitialize:function(){this.cancelTask();this.inherited(arguments)},_canceller:function(){this.cancelTask()},_sendProgressRequest:function(e,d,a){var f={workspaceId:workspaceId,modelId:a||modelId,taskId:e,requestType:"PROGRESS"};this._cancelled&&(f.cancel=!0);var b=this;l.post(f,!1,function(f){if(f.error)d.resolve();else if("COMPLETE"===f.taskState)b._updateProgress(100,f),d.resolve(f);else if("CANCELLED"===f.taskState)d.resolve(f);else{try{"IN_PROGRESS"===f.taskState||"NOT_STARTED"===
f.taskState||"CANCELLING"===f.taskState?b._updateProgress(f.progress?100*f.progress:0,f):console.warn("anaplan.widgets.TaskProgressMonitor: unexpected task state "+f.taskState+" continuing to request status for taskId "+e)}catch(h){console.warn(h)}setTimeout(function(){b._beingDestroyed||b._sendProgressRequest(e,d,a)},b.progressUpdateInterval)}},function(){d.resolve()})},_updateProgress:function(e,d){try{if(!this._beingDestroyed){var a=k.applyFormat(e/100,{unitsType:"PERCENTAGE",decimalSeparator:"FULL_STOP",
groupingSeparator:"NONE",decimalPlaces:0});d.currentStep&&(a=d.currentStep+" "+a);this.progressBar.set("label",a);this.progressBar.set("value",e)}}catch(h){throw new f.ClientException("anaplan.widgets.TaskProgressMonitor._updateProgress",h);}}})})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(l){function s(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(l,q,f){s()},cancel:function(l,q){s()},isResolved:function(){s()},isRejected:function(){s()},
isFulfilled:function(){s()},isCanceled:function(){s()},always:function(l){return this.then(l,l)},otherwise:function(l){return this.then(null,l)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"anaplan/data/DataLoaders/dashboards":function(){define(["anaplan/common/ViewSerialNumbers","anaplan/constants","anaplan/data/Aggregator","dojo/Deferred","anaplan/data/RequestFactory"],function(l,s,p,q,f){return{fetchRowLabelPage:function(k){var n=
new q;k={workspaceId:window.workspaceId,modelId:window.modelId,viewDefinition:{columns:s.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_PROPERTY_IDENTIFIER,rows:s.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_IDENTIFIER,type:"MODEL_DEFINITION",columnSizes:{customRowLabelWidthsByDimension:[],customWidthsByLineItem:[],customWidthsByStyle:[],defaultColumnWidth:150},pages:[]},dataPageRequests:[{startRow:0,startColumn:0,rowCount:50,columnCount:30}],rowLabelPageRequests:[{start:0,count:k||-1}],columnLabelPageRequests:[{start:0,count:30}],
containerEntityLongId:-1,cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new l,viewIndex:-1};k=f.createRequest(window.workspaceId,[],[k],[]);p.post(k,!1,function(f){f?f.error?n.reject(f.error):f.result&&f.result.errorInfo?n.reject(f.result.errorInfo.errorMessage,f.result.errorInfo.isKnownError):n.resolve(f.result.viewRequestResults[0].rowLabelPages[0]):n.reject("No response from server")},function(f){n.reject(f)});return n}}})},"anaplan/view/ImportDefinitionModuleMapping":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/focus dijit/form/FilteringSelect dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/kernel dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/json dojo/keys dojo/on dojo/string anaplan/constants anaplan/data/RequestFactory anaplan/Exceptions dojo/text!anaplan/templates/ImportDefinitionModuleMapping.html dojo/i18n!anaplan/nls/importDefinitionModuleMapping dijit/form/RadioButton dijit/form/FilteringSelect dijit/layout/ContentPane".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G){return g([k,f,n,q],{baseClass:"importDefinitionModuleMapping",templateString:C,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._sourceFields=a.sourceFields,this._importDefinition=a.importDefinition,this._dimensionsInfo=a.dimensionsInfo,this._singleValueColor=a.singleValueColor,this._singleValueBackgroundColor=a.singleValueBackgroundColor,this._isApiImport=a.isApiImport,this._credentials=a.credentials,
this._dimensionSampleData=a.dimensionSampleData||{},this._nls=G,this._dimensionSelectors=[]}catch(b){l.throwClientException(this,b)}},onChange:function(){},onDimensionHighlight:function(){},onHide:function(){try{this._requireCompletion=!0,this.onChange(),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},_onShow:function(){try{this.inherited(arguments),this.validate()}catch(a){l.throwClientException(this,a)}},postCreate:function(){try{this.inherited(arguments);var a=this._nls;l.setText(this.singleHeaderRowSourceError,
a.labelMultipleHeaderRowSourcesError);l.setText(this.unmappedDimensionsError,a.labelUnmappedDimensionsError);l.setText(this.noValueColumnError,a.labelNoValueColumnError);l.setText(this.duplicateColumnsError,a.labelDuplicateColumnsError);l.setText(this.sourceLabel,a.labelSource);l.setText(this.targetLabel,a.labelTarget);l.setText(this.dataValuesFromLabel,a.labelDataValuesFrom);l.setText(this.clearItemsRadioButtonLabel,a.labelClearItemsRadioButtonLabel);l.setText(this.replaceItemsRadioButtonLabel,a.labelReplaceItemsRadioButtonLabel);
var b=this.id+"_clearItemsRadioButton",e=this.id+"_replaceItemsRadioButton",g=this.id+"_clearOrReplace";t.set(this.clearItemsRadioButton,"id",b);t.set(this.clearItemsRadioButton,"name",g);t.set(this.replaceItemsRadioButton,"id",e);t.set(this.replaceItemsRadioButton,"name",g);t.set(this.clearItemsRadioButtonLabel,"for",b);t.set(this.replaceItemsRadioButtonLabel,"for",e);this._addSingleColumnValueSelectOptions();this._singleValueColor&&z.set(this.singleColumnValueSelectContainer,{borderColor:this._singleValueColor.toCss()});
var f=this.singleColumnValueSelect;this.own(x(f,"KeyDown",function(a){a.keyCode===w.ESCAPE&&d.stop(a)}),x(f,"Focus",function(a){m.focus(f.textbox)}));this._createDimensionMappingSelectors()}catch(h){l.throwClientException(this,h)}},resize:function(a){if(!a||!(0>=a.h||0>=a.w)){var b=v.getMarginBox(this.fixedContent),b=Math.max(50,a.h-b.h-40);z.set(this.previewPane.domNode,{height:b+"px",width:a.w-40+"px"});this._initialResizeDone=!0}},startup:function(){try{this.inherited(arguments),e.forEach(this._dimensionSelectors,
function(a){a.startup()}),this._initSingleOrMultipleColumnDataValues(),this._initTargetItemsOptions()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{e.forEach(this._dimensionSelectors,function(a){a.destroy()}),this._dimensionSelectors=null,this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},validate:function(a){var b=!0;a&&(this._requireCompletion=!0);try{for(var d=this._dimensionSelectors,g=d.length,f,h=a=0,r={},k=!1,m,t=0;t<g;t++){f=d[t];var n=this._dimensionsInfo[t];
m=f.get("value");"headerRow"===m?++a:m?0===m.indexOf("column")&&(r[m]&&(k=!0),r[m]=!0):++h;var u=this._dimensionSamples[t];if(u){var v=this._dimensionSampleData[""+(n.entityLongId||-1)];"constant"===m&&n.mapping.sourceValueLabel&&(v=n.mapping.sourceValueLabel);l.setText(u,"("+(v?v:this._nls.labelNoSampleData)+")")}}0<h&&this._requireCompletion?(b=!1,e.forEach(this._dimensionSelectors,function(a){a.get("value")||a.set("state","Error")}),z.set(this.unmappedDimensionsError,"display","")):z.set(this.unmappedDimensionsError,
"display","none");b&&1<a?(z.set(this.singleHeaderRowSourceError,"display",""),b=!1):z.set(this.singleHeaderRowSourceError,"display","none");z.set(this.duplicateColumnsError,"display",b&&k?"":"none");b&=!k;d=!1;0==a&&0==h?("visible"!==z.get(this.valueSelectionQuestion,"visibility")&&(this._assignUnmappedColumn(),z.set(this.valueSelectionQuestion,"visibility","visible")),this._requireCompletion&&b&&(m=this.singleColumnValueSelect.get("value"),m||(this.singleColumnValueSelect.set("state","Error"),d=
!0,b=!1))):"visible"===z.get(this.valueSelectionQuestion,"visibility")&&(this._clearLineItemMappings(),z.set(this.valueSelectionQuestion,"visibility","hidden"));z.set(this.noValueColumnError,"display",d?"":"none");this._refreshPreview()}catch(p){l.throwClientException(this,p)}return b},_addSingleColumnValueSelectOptions:function(){try{for(var a=[],d=this._sourceFields,e=d.length,g,f,h=0;h<e;h++)if(g=d[h],"column"===g.sourceType){var k;k=g.sourceColumnEntityLongId?{sourceColumnEntityLongId:g.sourceColumnEntityLongId,
sourceColumnName:g.sourceColumnName}:{sourceColumnId:g.sourceColumnId,sourceColumnName:g.sourceColumnName};f=g.sourceType;k&&(f+="."+y.stringify(k));a.push(r.mixin(r.clone(g),{identifier:f,label:g.displayName}))}this.singleColumnValueSelect.set("store",new b({data:{identifier:"identifier",label:"label",items:a}}));this._singleColumnValueSelectItems=a}catch(m){l.throwClientException(this,m)}},_assignUnmappedColumn:function(){try{for(var a=0,b=null,d=this._dimensionSelectors,e=d.length,g,f=0;f<this._singleColumnValueSelectItems.length;++f){for(var h=
this._singleColumnValueSelectItems[f],r=!1,k=0;k<e;k++)if(g=d[k],g.get("value")==h.identifier){r=!0;break}r||(++a,b=h.identifier)}1===a&&b&&this.singleColumnValueSelect.set("value",b)}catch(m){l.throwClientException(this,m)}},_clearLineItemMappings:function(){try{for(var a=this._importDefinition.mappings,b=a.length,d,e=0;e<b;e++)d=a[e],"moduleLineItem"===d.targetType&&"undefined"!=d.sourceType&&(d.sourceType="undefined",delete d.sourceColumnNumber,delete d.sourceColumnName,delete d.sourceColumnEntityLongId,
delete d.sourceColumnId)}catch(g){l.throwClientException(this,g)}},_createDimensionMappingSelectors:function(){try{var a=this._dimensionSelectors,b=this._dimensionsInfo,d=b.length,e,g,f,h;this._dimensionSamples=[];for(var r=0;r<d;r++){e=b[r];g=u.create("tr",null,this.dimensionMappings);f=u.create("td",{"class":"sourceCell"},g);h=this._createSourceFieldsSelect(r,e,this._createSourceFieldItemsForDimensionMappingSelector(e));a.push(h);u.place(h.domNode,f);z.set(f,{borderStyle:"solid",borderWidth:"1px",
borderColor:e.color?e.color.toCss():""});f=u.create("td",{"class":"targetCell"},g);var k=u.create("span",null,f);l.setText(k,e.title+" ");var m=u.create("span",{"class":"targetSample"},f);this._dimensionSamples.push(m)}}catch(t){l.throwClientException(this,t)}},_createSourceFieldItemsForDimensionMappingSelector:function(a){var b=[];try{var d=this._sourceFields,e=d.length,g;g=a.entityLongId?a.entityLongId===D.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID?this._nls.labelConstantTime:a.entityLongId===D.MODEL_CONTENT_VERSION_ENTITY_LONG_ID?
this._nls.labelConstantVersion:A.substitute(this._nls.labelConstant,[a.title]):this._nls.labelConstantLineItem;b.push({identifier:"constant",label:g});b.push({identifier:"prompt",label:this._nls.labelPrompt});a.ignorable&&b.push({identifier:"ignore",label:this._nls.labelIgnore});for(a=0;a<e;a++){var f=d[a],h;"column"==f.sourceType&&(h=f.sourceColumnEntityLongId?{sourceColumnEntityLongId:f.sourceColumnEntityLongId,sourceColumnName:f.sourceColumnName}:{sourceColumnId:f.sourceColumnId,sourceColumnName:f.sourceColumnName});
var k=f.sourceType;h&&(k+="."+y.stringify(h));var m=f.displayName;b.push(r.mixin(r.clone(f),{identifier:k,label:m}))}}catch(t){l.throwClientException(this,t)}return b},_createSourceFieldsSelect:function(a,g,f){var k=null;try{var t=null,n=g.mapping;if(n.sourceType)if("undefined"===n.sourceType||"headerRow"===n.sourceType||"constant"===n.sourceType||"prompt"===n.sourceType||"ignore"===n.sourceType)t=n.sourceType;else{var u=f.length,v,p;if(0<=n.sourceColumnEntityLongId)for(p=0;p<u;p++)if(v=f[p],n.sourceColumnEntityLongId===
v.sourceColumnEntityLongId){t=v.identifier;break}if(null===t)for(p=0;p<u;p++)if(v=f[p],n.sourceColumnId===v.sourceColumnId||n.sourceColumnId==="#"+(v.sourceColumnNumber+1)){t=v.identifier;break}}var q=new b({data:{identifier:"identifier",label:"label",items:f}}),k=new h({store:q,value:t,searchAttr:"label",required:!0,autocomplete:!0,hasDownArrow:!0}),z=this;this.own(x(k,"Change",function(a){var b;if(k.isValid()){delete n.sourceColumnNumber;delete n.sourceColumnName;delete n.sourceColumnEntityLongId;
delete n.sourceColumnId;if(""==a)n.sourceType="undefined";else{var d=e.indexOf(a,"."),f;0<d?(f=y.parse(a.substring(d+1)),r.mixin(n,{sourceType:a.substring(0,d)},f)):n.sourceType=a}if("prompt"===n.sourceType||"constant"===n.sourceType||"ignore"===n.sourceType){for(b in g.valueMap)g.valueMap.hasOwnProperty(b)&&delete g.valueMap[b];for(b in g.aliasMap)g.aliasMap.hasOwnProperty(b)&&delete g.aliasMap[b]}"constant"===n.sourceType?n.sourceValue="":delete n.sourceValue;"undefined"===a&&g.timePeriodFormat&&
(g.timePeriodFormat.periodFormat=null);z.onChange()}}),x(k,"Focus",function(b){z.onDimensionHighlight(a,!0);m.focus(k.textbox)}),x(k,"Blur",function(b){z.onDimensionHighlight(a,!1)}),x(k,"KeyDown",function(a){a.keyCode===w.ESCAPE&&d.stop(a)}))}catch(s){l.throwClientException(this,s)}return k},_initSingleOrMultipleColumnDataValues:function(){try{for(var a=this._importDefinition.mappings,b=a.length,d,e=!1,g=-1,f=null,h=null,r=0;r<b;r++)if(d=a[r],"moduleLineItem"===d.targetType&&""===d.target&&(g=d.sourceColumnEntityLongId,
f=d.sourceColumnId,h=d.sourceColumnName,"column"===d.sourceType)){e=!0;break}if(e){var k="column."+y.stringify(0<=g?{sourceColumnEntityLongId:g,sourceColumnName:h}:{sourceColumnId:f,sourceColumnName:h});this.singleColumnValueSelect.set("value",k);for(r=0;r<b;r++)d=a[r],"moduleLineItem"===d.targetType&&(""!==d.target&&"undefined"!==d.sourceType)&&(d.sourceType="undefined",delete d.sourceColumnNumber,delete d.sourceColumnName,delete d.sourceColumnEntityLongId,delete d.sourceColumnId)}}catch(m){l.throwClientException(this,
m)}},_initTargetItemsOptions:function(){try{this._importDefinition.globalTargetAreaSpecification?this.replaceItemsRadioButton.set("checked",!0):this.clearItemsRadioButton.set("checked",!0)}catch(a){l.throwClientException(this,a)}},_onRadioButtonChange:function(a){try{var b=D.importTargetArea;this._importDefinition&&(this.clearItemsRadioButton.checked?delete this._importDefinition.globalTargetAreaSpecification:this.replaceItemsRadioButton.checked&&(this._importDefinition.globalTargetAreaSpecification=
b.MAPPED_ITEMS_IN_SOURCE),this.onChange())}catch(d){l.showErrorReporter(new B.ClientException("ImportDefinitionModuleMapping:_onRadioButtonChange",d,{widgetId:this.id},a))}},_onSingleColumnValueSelectChange:function(a){try{if(this.singleColumnValueSelect.isValid()){for(var b=this._importDefinition.mappings,d=b.length,e,g=0;g<d;g++)if(e=b[g],"moduleLineItem"===e.targetType&&""===e.target)if(delete e.sourceColumnNumber,delete e.sourceColumnName,delete e.sourceColumnEntityLongId,delete e.sourceColumnId,
""==a)e.sourceType="undefined";else{var f=a.indexOf(".");if(0<f){var h=y.parse(a.substring(f+1));r.mixin(e,{sourceType:a.substring(0,f)},h)}else e.sourceType=a}this.onChange()}}catch(k){l.showErrorReporter(new B.ClientException("ImportDefinitionModuleMapping:_onSingleColumnValueSelectChange",k,{widgetId:this.id},event))}},_recolorPreview:function(){try{for(var a=Array(this._previewRowCount*this._previewColCount),b=0;b<a.length;++b)a[b]=-1;var d=this._dimensionsInfo,e=d.length,g,f,h,r,k;for(f=0;f<
e;f++)if(g=d[f],"headerRow"===g.mapping.sourceType){if(0<=this._previewHeaderRowIndex&&this._previewHeaderRowIndex<this._previewRowCount){for(b=0;b<a.length;++b)a[b]=-3;for(r=0;r<this._previewColCount;++r)a[this._previewHeaderRowIndex*this._previewColCount+r]=f}break}var m=this,b=function(b,d,e){if("column"===b.sourceType){var g=-1;if(/^#[0-9]+/.test(b.sourceColumnId))g=Number(b.sourceColumnId.substring(1))-1;else if(m._headerRowData){if(b.sourceColumnEntityLongId&&e)for(var f=0;-1===g&&f<e.length;++f){var h=
e[f];if(b.sourceColumnEntityLongId===h.sourceColumnEntityLongId){k=s.ignoreCase(A.trim(h.sourceColumnId));for(r=0;r<m._headerRowData.length;++r)if(A.trim(m._headerRowData[r]).match(k)){g=r;break}}}if(-1===g&&b.sourceColumnId){k=s.ignoreCase(A.trim(b.sourceColumnId));for(r=0;r<m._headerRowData.length;++r)if(A.trim(m._headerRowData[r]).match(k)){g=r;break}}if(-1===g&&b.sourceColumnName){k=s.ignoreCase(A.trim(b.sourceColumnName));for(r=0;r<m._headerRowData.length;++r)if(A.trim(m._headerRowData[r]).match(k)){g=
r;break}}}if(0<=g){a[m._previewHeaderRowIndex*m._previewColCount+g]=-3;for(b=m._previewFirstDataRowIndex;b<m._previewRowCount;++b)e=b*m._previewColCount+g,f=a[e],a[e]=-1!=f&&-3!=f?-2:d}}};for(f=0;f<e;f++){g=d[f];var t=m._createSourceFieldItemsForDimensionMappingSelector(g);b(g.mapping,f,t)}var n=this._dimensionSelectors,u=n.length;for(f=g=e=0;f<u;f++){var v=n[f].get("value");"headerRow"===v?++e:v||++g}if(0==e&&0==g)for(var p=this._importDefinition.mappings,n=0;n<p.length;n++){var q=p[n];if("moduleLineItem"===
q.targetType&&""===q.target){b(q,-4);break}}for(h=0;h<this._previewRowCount;++h)for(r=0;r<this._previewColCount;++r){var x=a[h*this._previewColCount+r],w=0<h?a[(h-1)*this._previewColCount+r]:-1,y=h<this._previewRowCount-1?a[(h+1)*this._previewColCount+r]:-1,D=0<r?a[h*this._previewColCount+r-1]:-1,E=r<this._previewColCount-1?a[h*this._previewColCount+r+1]:-1,C=this._previewTableData[h*this._previewColCount+r],B=h==this._previewHeaderRowIndex,p="white",G=d[x],q=B?"#dfdfdf":"white";0<=x?(p=G.color?G.color.toCss():
"",q=G.backgroundColor?G.backgroundColor.toCss():""):-4===x&&(p=this._singleValueColor?this._singleValueColor.toCss():"",q=this._singleValueBackgroundColor?this._singleValueBackgroundColor.toCss():"");z.set(C,{backgroundColor:q,borderTopColor:B&&"white"==p?"black":x===w?q:p,borderBottomColor:B&&"white"==p?"black":x===y?q:p,borderLeftColor:B&&0==r&&"white"==p?"black":x===D?q:p,borderRightColor:B&&r==this._previewColCount-1&&"white"==p?"black":x===E?q:p})}}catch(ea){console.error(ea),l.throwClientException(this,
ea)}},_refreshPreview:function(){try{this._previewLoading||(this._previewCurrent?this._previewTableData&&this._recolorPreview():(this._reloadPreview(),this._previewCurrent=!0))}catch(a){l.throwClientException(this,a)}},_reloadPreview:function(){try{this.previewPane.set("content",u.create("div",{"class":"loading"}));var b={actionId:"PREVIEW_IMPORT_SOURCE",params:r.mixin(this._credentials||{},{modelId:this._modelId,locale:a.locale,source:this._importDefinition.source})},d=E.createRequest(this._workspaceId,
[],[],[b]),e=this;this._previewLoading=!0;p.post(d,!1,function(a){try{if(e._dimensionSelectors)if(!a||a.error||!a.result)e._previewLoading=!1,e.previewPane.set("content",u.create("div"));else{var b=a.result;if(!b.systemActionResults||!b.systemActionResults.length)e._previewLoading=!1,e.previewPane.set("content",u.create("div"));else{var d=a.result.systemActionResults[0];if(d.successful){var g=d.preview;a=1;for(b=0;b<g.length;++b)a=Math.max(a,g[b].length);for(var f=Array(g.length*a),h=u.create("table",
{"class":"previewTable"}),r=u.create("tbody",null,h),b=0;b<g.length;++b){var k=g[b],m="dataRow";b===d.headerRowIndex?(m="headerRow",e._headerRowData=k):b<d.firstDataRowIndex&&(m="ignoredRow");for(var t=u.create("tr",{"class":m},r),m=0;m<a;++m){var n="";m<k.length&&(n=k[m]);var v=u.create("td",null,t),p=u.create("div",{"class":"previewCell"},v);l.setText(p,n||"\u00a0");f[b*a+m]=p}}e.previewPane.set("content",h);e._previewTableData=f;e._previewRowCount=g.length;e._previewColCount=a;e._previewHeaderRowIndex=
d.headerRowIndex;e._previewFirstDataRowIndex=d.firstDataRowIndex;e._recolorPreview()}else m=u.create("div"),m.innerHTML=s.escapeHTML(d.errorDetail.localMessageText),e.previewPane.set("content",m);e._previewLoading=!1;e._previewMayBeStale&&setTimeout(function(){e._refreshPreview()},100)}}}catch(q){e._previewLoading=!1,e._previewTableData=null,e.previewPane.set("content",u.create("div")),console.error(q)}},function(){e._previewLoading=!1;e.previewPane.set("content",u.create("div"));console.error("Failed to retrieve preview")})}catch(g){l.throwClientException(this,
g)}},_updateSingleColumnValue:function(a,b){try{for(var d=this._importDefinition.mappings,e=d.length,g,f=0;f<e;f++){g=d[f];if("moduleLineItem"===g.targetType&&""===g.target)break;g=null}if(g&&(delete g.sourceColumnNumber,delete g.sourceColumnName,delete g.sourceColumnEntityLongId,delete g.sourceColumnId,g.sourceType="undefined",a&&b&&a._getItemByIdentity(b)&&(delete g.sourceColumnNumber,delete g.sourceColumnName,delete g.sourceColumnEntityLongId,delete g.sourceColumnId,""!=b))){var h=b.indexOf(".");
if(0<h){var k=y.parse(b.substring(h+1));r.mixin(g,{sourceType:b.substring(0,h)},k)}else g.sourceType=b}}catch(m){l.throwClientException(this,m)}}})})},"jxl/core/Transduce":function(){define(["./Util"],function(l){function s(d,a,f,b,h,k){var m=f(d);m.start();var n=a(m.rx),q,w,x;if(0<=e.call(k,d))throw Error("Cannot run transduce on an object containing cyclic references!");if(l.isArray(d))for(w=0;w<d.length;++w)Object.prototype.hasOwnProperty.call(d,w)&&p(d,w,h,a,n,f,b,k);else if("object"===typeof d)if(!0===
b){q=g(d);q.sort();for(x=0;x<q.length;++x)w=q[x],p(d,w,h,a,n,f,b,k)}else if(b){q=g(d);q.sort(b);for(x=0;x<q.length;++x)w=q[x],p(d,w,h,a,n,f,b,k)}else for(w in d)Object.prototype.hasOwnProperty.call(d,w)&&p(d,w,h,a,n,f,b,k);return m.unwrap()}function p(d,a,e,b,g,l,v,p){e+=f;var q=a;h.test(q)&&(q=q.replace(k,n),q=q.replace(f,m));e+=q;d=d[a];return"object"===typeof d&&null!==d?g(a,s(d,b,l,v,e,p.slice()),e):g(a,d,e)}var q={},f="@",k="\\",n=k+k,m=k+f;q.NO_ESCAPE_LOOKBACK="(?:^|(?!"+n+").)";q.composeFromList=
function(d){return 2<=d.length?function(){for(var a=d[d.length-1],e=a.apply(this,arguments),b=d.length-2;0<=b;--b)a=d[b],e=a.call(this,e);return e}:1===d.length?d[0]:function(){}};q.compose=function(){return this.composeFromList(arguments)};q.transduce=function(d,a,e,b){if("object"!==typeof d||null===d)return d;e=e();b||(b=e.keySorter());return s(d,a,e,b,"",[])};var h=RegExp("["+n+f+"]"),e=Array.prototype.indexOf?Array.prototype.indexOf:function(d,a){var e;if(null===this||void 0===this)throw new TypeError('"this" is null or not defined');
var b=Object(this),g=b.length>>>0;if(0===g)return-1;e=+a||0;Infinity===Math.abs(e)&&(e=0);if(e>=g)return-1;for(e=Math.max(0<=e?e:g-Math.abs(e),0);e<g;){if(e in b&&b[e]===d)return e;e++}return-1},g=Object.keys?Object.keys:function(){var d=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),b=e.length;return function(g){if("object"!==typeof g&&("function"!==typeof g||
null===g))throw new TypeError("Object.keys called on non-object");var f=[],h;for(h in g)d.call(g,h)&&f.push(h);if(a)for(h=0;h<b;h++)d.call(g,e[h])&&f.push(e[h]);return f}}();return q})},"anaplan/gridlet/_editor/ListEditor":function(){define("anaplan/utils/UIHelper anaplan/data/DataLoaders/list anaplan/utils/SelectionHelper anaplan/gridlet/_editor/BaseEditor anaplan/utils/EntityLongIdHelper anaplan/gridlet/_editor/cellEditors/ListCellEntitySelector dijit/form/_TextBoxMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/has dojo/on dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return h("anaplan.gridlet._editor.ListEditor",q,{constructor:function(a){a=a||{};this._listCellSelectorArgs={style:a.style?a.style:"","class":a["class"]?a["class"]:"",disabled:e.exists("parentWidget.isCell",a)&&a.parentWidget.isCell()};this._containerNode=a.containerNode||null;this._createListCellSelector()},focus:function(){this.inherited(arguments);this.widget&&(this._params.isEnterMode||n.selectInputText(this.widget.textbox))},getValue:function(){var a={entityId:null,
label:this._displayedValue};if(!this.widget)return a;if(""===this.widget.get("value"))return null;var d=this.widget.item||this.widget.getItem();if(!d||!d.entityLongId||!this._selectorLabelPage)return a;if(0>d.entityLongId)return null;a=this._selectorLabelPage.entityLongIds[0].indexOf(d.entityLongId);if(-1===a)return null;var e=parseInt(this._params.underlyingValue),d=null;isFinite(e)&&-1!==e&&(e=this._selectorLabelPage.entityLongIds[0].indexOf(e),-1!==e&&(d=this._selectorLabelPage.entityIds[0][e]));
return{currentEntityId:d,entityId:this._selectorLabelPage.entityIds[0][a],label:this._selectorLabelPage.labels[0][a]}},hide:function(){this.inherited(arguments);this._createListCellSelector()},isValid:function(){return this.widget?this.widget.isValid():!0},prepare:function(a){var g=this.inherited(arguments),f=this._params=e.mixin({},this._params,a);f.cellNode?d.setMarginBox(this.widget.domNode,d.getMarginBox(f.cellNode)):f.size&&d.setMarginBox(this.widget.domNode,f.size);if(!f.context)return g.reject("anaplan.gridlet._editor.ListEditor#prepare - no context provided"),
g;if(!f.format)return g.reject("anaplan.gridlet._editor.ListEditor#prepare - no format provided"),g;if(!f.format.hierarchyEntityLongId)return g.reject("anaplan.gridlet._editor.ListEditor#prepare - no hierarchyEntityLongId provided"),g;this._lastParams=f;this._getData(f,!1);g.resolve();return g.promise},_getData:function(b,d){var g=this.widget;this._displayedValue=b.value||"";g.set("validationEnabled",!1);b.isEnterMode||g.set("displayedValue",this._displayedValue,!1);var f=e.hitch(this,function(a){this.widget?
this.widget!==g?console.warn("anaplan.gridlet._editor.ListEditor#prepare: editor closed before list loaded"):(this.own(r.once(this.widget,"search",function(){!b.isEnterMode&&("-1"!==b.underlyingValue&&b.value===g.get("displayedValue"))&&(g.set("value",b.value,!1),g.displayList())})),this._loadWidgetData(a,b.format.hierarchyEntityLongId,b.isEnterMode),this.widget.set("validationEnabled",!0),b.isEnterMode||(g.set("displayedValue",this._displayedValue,!1),this.widget.setInitialItemById(b.underlyingValue))):
console.warn("anaplan.gridlet._editor.ListEditor#prepare: retrieved selector label page, but widget is null")}),h=function(a){l.showServerErrorInInformationDialog(a)};if(b.format.entityFormatFilter||!0===b.format.selectiveAccessApplied){this.widget.set("showAllButton",b.format.hasOwnProperty("showAll")?b.format.showAll&&!d:!d);var k=p.getEntityLongIdsForCurrentSelection(b.selection,b.context);s.getSelectorLabelPage(k,d).then(f,h)}else this.widget.set("showAllButton",!1),b.context.model.getSelectorLabelPage(b.format.hierarchyEntityLongId,
f,h,a("ios")||a("android"))},_loadWidgetData:function(a,d,e){this._selectorLabelPage=a;this.widget.set("hierarchyEntityLongId",d);this.widget.set("labelPage",this._selectorLabelPage);e?this.widget.refreshSearch():this.widget.showList()},_getSelectorLabelPage:function(a,d,e,g){s.getSelectorLabelPage(a,d).then(function(a){e(a)},function(a){g(a)})},show:function(){this.inherited(arguments);this.widget&&(this._params.isEnterMode||this.widget.displayList())},_createListCellSelector:function(){this.widget&&
this.widget.destroy();this.widget=new k(this._listCellSelectorArgs);this._containerNode&&g.place(this.widget.domNode,this._containerNode);this.widget.startup();this.widget.on("showall",e.hitch(this,"_onShowAll"));this.widget.on("change",e.hitch(this,"_onChange"));this.widget.on("cancelEdit",e.hitch(this,"_onCancelEdit"));this.widget.on("tabKey",e.hitch(this,"_onTabKey"));this.widget.on("enterKey",e.hitch(this,"_onEnterKey"));this.widget.on("search",e.hitch(this,"_onSearch"));this.widget.on("blur",
e.hitch(this,"_onBlur"));this.widget.on("selected",e.hitch(this,"_onSelected"))},_onBlur:function(){this.onChange(this._displayedValue)},_onSearch:function(){!0===this.widget.validationEnabled&&this.widget.validate()},_onCancelEdit:function(a){this.onCancel(a)},_onSelected:function(a){this.onChange(this._displayedValue)},_onChange:function(a){this._displayedValue!==a&&this.isValid()&&(this._displayedValue=a,this.onChange(a))},_onShowAll:function(){this._getData(this._lastParams,!0)},_onEnterKey:function(a){this.onKeyDown(a)},
_onTabKey:function(a){this.onKeyDown(a)}})})},"dojo/_base/url":function(){define(["./kernel"],function(l){var s=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,p=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,q=function(){for(var f=arguments,k=[f[0]],n=1;n<f.length;n++)if(f[n]){var m=new q(f[n]+""),k=new q(k[0]+"");if(""==m.path&&!m.scheme&&!m.authority&&!m.query)null!=m.fragment&&(k.fragment=m.fragment),m=k;else if(!m.scheme&&(m.scheme=k.scheme,!m.authority&&(m.authority=
k.authority,"/"!=m.path.charAt(0)))){for(var k=(k.path.substring(0,k.path.lastIndexOf("/")+1)+m.path).split("/"),h=0;h<k.length;h++)"."==k[h]?h==k.length-1?k[h]="":(k.splice(h,1),h--):0<h&&(!(1==h&&""==k[0])&&".."==k[h]&&".."!=k[h-1])&&(h==k.length-1?(k.splice(h,1),k[h-1]=""):(k.splice(h-1,2),h-=2));m.path=k.join("/")}k=[];m.scheme&&k.push(m.scheme,":");m.authority&&k.push("//",m.authority);k.push(m.path);m.query&&k.push("?",m.query);m.fragment&&k.push("#",m.fragment)}this.uri=k.join("");f=this.uri.match(s);
this.scheme=f[2]||(f[1]?"":null);this.authority=f[4]||(f[3]?"":null);this.path=f[5];this.query=f[7]||(f[6]?"":null);this.fragment=f[9]||(f[8]?"":null);null!=this.authority&&(f=this.authority.match(p),this.user=f[3]||null,this.password=f[4]||null,this.host=f[6]||f[7],this.port=f[9]||null)};q.prototype.toString=function(){return this.uri};return l._Url=q})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(l){return l})},"anaplan/common/ViewSerialNumbers":function(){define(["dojo/_base/declare","dojo/_base/lang","./_DefinitionBase"],function(l,s,p){l=l("anaplan.common.ViewSerialNumbers",p,{_serializableProperties:"breakbackHeldCellsSerialNumber columnAxisSerialNumber dataSerialNumber pageInfoSerialNumber rowAxisSerialNumber viewDefinitionSerialNumber".split(" "),breakbackHeldCellsSerialNumber:"-1",columnAxisSerialNumber:"-1",dataSerialNumber:"-1",pageInfoSerialNumber:"-1",rowAxisSerialNumber:"-1",
viewDefinitionSerialNumber:"-1",constructor:function(l){l&&s.mixin(this,s.clone(l))},reset:function(){this.resetBreakbackHeldCellsSerialNumber();this.resetColumnAxisSerialNumber();this.resetDataSerialNumber();this.resetPageInfoSerialNumber();this.resetRowAxisSerialNumber();this.resetViewDefinitionSerialNumber()},resetBreakbackHeldCellsSerialNumber:function(){this.breakbackHeldCellsSerialNumber="-1"},resetColumnAxisSerialNumber:function(){this.columnAxisSerialNumber="-1"},resetDataSerialNumber:function(){this.dataSerialNumber=
"-1"},resetPageInfoSerialNumber:function(){this.pageInfoSerialNumber="-1"},resetRowAxisSerialNumber:function(){this.rowAxisSerialNumber="-1"},resetViewDefinitionSerialNumber:function(){this.viewDefinitionSerialNumber="-1"}});l.DEFAULT_SERIAL_NUMBER="-1";return l})},"anaplan/data/Aggregator/RequestSerialProvider":function(){define(["dojo/_base/lang"],function(l){var s={getNextRequestSerialNumber:function(){var l=0;return function(){l++;return[window.sessionId,l].join("-")}}()};l.setObject("anaplan.data.Aggregator.RequestSerialProvider",
s);return s})},"anaplan/dashboard/_SectionsLayout":function(){define("anaplan/dashboard/LayoutHelper anaplan/dashboard/_Section anaplan/dashboard/LayoutPosition dojo/_base/declare dojo/_base/lang dojo/sniff".split(" "),function(l,s,p,q,f,k){return q("anaplan.dashboard._SectionsLayout",[s],{calculateLayout:function(n,m){var h;this._parseLayout(m);h=this._dashboard.get("spacing");var e=l.getDashboardContainerBox(n,h.horizontal,h.vertical),g=this.getBaseSize(e);if(!k("ios")&&!k("android")&&(g.h>e.h||
g.w>e.w)){var d=f.clone(e);g.h>d.h&&(e.w-=20);g.w>d.w&&(e.h-=20);this._clearSizesCache();g=this.getBaseSize(e)}this._normalizeHeightsAndWidths(e);if(g.h<e.h||g.w<e.w){var d=Math.max(e.h,g.h),a=Math.max(e.w,g.w),a=a>g.w?Math.floor(a-g.w):0,g=d>g.h?Math.floor(d-g.h):0;(0<a||0<g)&&this.allocate({h:g,w:a},e)}return this._getLayout(e,{t:h.vertical,l:h.horizontal})},_parseLayout:function(f){for(var k=0,h=f.length;k<h;k++){var e=f[k],g=e.getArgs().layoutPosition,g=new p({layoutPosition:g}),d=this,a;-1<g.getRowIndex()&&
(d._subRows[g.getRowIndex()]?d=d._subRows[g.getRowIndex()]:(a=new s({dashboard:this._dashboard,horizontal:!0}),d=d._subRows[g.getRowIndex()]=a));-1<g.getColumnIndex()&&(d._subColumns[g.getColumnIndex()]?d=d._subColumns[g.getColumnIndex()]:(a=new s({dashboard:this._dashboard,horizontal:!1}),d=d._subColumns[g.getColumnIndex()]=a));-1<g.getSubRowIndex()&&(d._subRows[g.getSubRowIndex()]?d=d._subRows[g.getSubRowIndex()]:(a=new s({dashboard:this._dashboard,horizontal:!0}),d=d._subRows[g.getSubRowIndex()]=
a));-1<g.getSubColumnIndex()&&(d._subColumns[g.getSubColumnIndex()]?d=d._subColumns[g.getSubColumnIndex()]:(a=new s({dashboard:this._dashboard,horizontal:!1}),d=d._subColumns[g.getSubColumnIndex()]=a));d._widgets.push(e)}}})})},"anaplan/view/ImportDefinitionLineItemMapping":function(){define("anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/UIHelper anaplan/view/LineItemImportMapper anaplan/view/UnmappedDimensionImportOptions dojo/_base/declare dojo/dom-class dojo/i18n!anaplan/nls/importDefinition dijit/layout/BorderContainer dijit/layout/ContentPane dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return k(h,{constructor:function(d){this._workspaceId=d.workspaceId;this._modelId=d.modelId;this._importDefinition=d.importDefinition;this._sourceFields=d.sourceFields;this._dimensionsInfo=d.dimensionsInfo;this._isApiImport=d.isApiImport},onBusy:function(){},onChange:function(){},onIdle:function(){},onShow:function(){try{var d=this,a=this._getLineItemDimensionMapping();this.destroyDescendants();if("headerRow"===a.sourceType||this._isApiImport){var h=new q({workspaceId:this._workspaceId,
modelId:this._modelId,importDefinition:this._importDefinition,sourceFields:this._sourceFields,region:"center"});h.on("Change",function(){d.onChange()});h.on("Busy",function(a){d.onBusy(a)});h.on("Idle",function(){d.onIdle()});this.addChild(h)}else if("undefined"===a.sourceType||"constant"===a.sourceType||"prompt"===a.sourceType){var b=new f({workspaceId:this._workspaceId,modelId:this._modelId,mapping:a,importDefinition:this._importDefinition,viewDefinition:g.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[this._importDefinition.target]},
s.getAxesForViewDefinition([l.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER],[l.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER])),region:"center"});b.on("Change",function(){d.onChange()});b.on("Busy",function(a){d.onBusy(a)});b.on("Idle",function(){d.onIdle()});this.addChild(b)}else this.addChild(new e({content:m.labelMatchOnNamesOrCodes,"class":"importDefinitionAutoMatch",region:"center"}));this.validate()}catch(k){p.throwClientException(this,k)}},postCreate:function(){try{this.inherited(arguments),n.add(this.domNode,
"importDefinitionLineItemMapping")}catch(d){p.throwClientException(this,d)}},validate:function(){var d=!0;try{for(var a=this.getChildren(),e=a.length,b,g=0;g<e;g++)b=a[g],b.validate&&(b.validate()||(d=!1))}catch(f){p.throwClientException(this,f)}return d},_getLineItemDimensionMapping:function(){var d=null;try{for(var a=this._dimensionsInfo,e=a.length,b=0;b<e;b++)""===a[b].identifier&&(d=a[b].mapping)}catch(g){p.throwClientException(this,g)}return d}})})},"anaplan/widgets/SearchableTreeSelector":function(){define("anaplan/data/InlineSearchProviders/LabelPageSearchProvider anaplan/utils/LabelPageHelper anaplan/widgets/_SearchableSelector dijit/Tree dijit/tree/ObjectStoreModel dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/store/Memory dojo/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return n([p],{labelPage:null,selectedEntityLongId:-1,postCreate:function(){this.inherited(arguments);this._inlineSearch.set("searchProvider",new l({labelPage:this.labelPage}));var g=this.labelPage.entityLongIds[0],d=this.labelPage.parentEntityLongIds[0],a=[{id:"root",name:"root"}];this.labelPage.labels[0].forEach(function(b,e){a.push({id:g[e],name:s.getItemName(this.labelPage,0,e,!1),parent:-1<k.indexOf(g,d[e])?d[e]:"root",mayHaveChildren:-1<k.indexOf(d,g[e])})}.bind(this));
for(var r=new h({data:a,getChildren:function(a){return this.query({parent:a.id})}}),r=new f({store:r,query:{id:"root"},mayHaveChildren:function(a){return a.mayHaveChildren}}),b=[String(this.selectedEntityLongId)],t=g.indexOf(this.selectedEntityLongId),t=d[t];-1<g.indexOf(t);)b.push(String(t)),t=g.indexOf(t),t=-1<k.indexOf(g,d[t])?d[t]:"root";b.push("root");var n=new q({model:r,persist:!1,showRoot:!1,autoExpandFirstNode:!1,getIconClass:function(){return null}});this._selectorWrapper.addChild(n);var v=
dijit.defaultDuration;dijit.defaultDuration=1;n.set("paths",[b.reverse()]).then(m.hitch(this,function(){dijit.defaultDuration=v;this._inlineSearch.set("disabled",!1);this._stackContainer.selectChild(this._selectorWrapper);e.scrollIntoView(n.selectedNode.id);this._inlineSearch.focus()}),m.hitch(this,function(a){console.error("SearchableTreeSelector failed to set paths:",b.reverse(),a);dijit.defaultDuration=v}));this.own(n.on("click",m.hitch(this,function(a){this.onSelectionChange({entityLongId:a.id,
label:a.name})})));this._tree=n},focus:function(){this._stackContainer.selectedChildWidget===this._selectorWrapper?this._tree.selectedNode?this._tree.focusNode(this._tree.selectedNode):this._tree.focus():this.inherited(arguments)}})})},"anaplan/widgets/HelpBox":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/dom-geometry dojo/text!anaplan/templates/HelpBox.html dijit/layout/ContentPane".split(" "),function(l,s,p,q,f,
k,n){return l([s,p,q,f],{baseClass:"helpBox",templateString:n,widgetsInTemplate:!0,resize:function(f){if(f)k.setMarginBox(this.domNode,f);else if(f=this.getParent())f=k.getContentBox(f.domNode),k.setMarginBox(this.domNode,f)},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},_setContentAttr:function(f){this.helpBoxContent.set("content",f)},_setHrefAttr:function(f){this.helpBoxContent.set("href",f)}})})},"anaplan/api/Entities/Dashboards":function(){define(["dojo/_base/declare",
"anaplan/api/Entities/Base/FetchableEntity","anaplan/api/Entity/Dashboard","anaplan/api/Fetchers/dashboards"],function(l,s,p,q){return l([s],{_fetcher:q,_entityClass:p,_populateInfo:function(f,k){var n=this.inherited(arguments);f&&f.functionalAreaEntityLongId?(n.functionalAreaId=f.functionalAreaEntityLongId,n.showInContents=f.showInContents):console.warn("Expected an info for the Dashboard when trying to _populateInfo");return n}})})},"dojox/layout/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){l.experimental("dojox.layout.ResizeHandle");var u=t("dojox.layout._ResizeHelper",r,{show:function(){d.set(this.domNode,"display","")},hide:function(){d.set(this.domNode,"display","none")},resize:function(a){g.setMarginBox(this.domNode,a)}});return t("dojox.layout.ResizeHandle",[r,b],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=a.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new u({id:"dojoxGlobalResizeHelper"})).placeAt(n.body()),
e.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var b=s.partial(e.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;b("dojoxResizeNW");break;case "x":this._resizeX=!0;b("dojoxResizeW");break;case "y":this._resizeY=!0,b("dojoxResizeN")}},_beginSizing:function(b){if(!this._isSizing&&
(p.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=a.byId(this.targetId))?this.targetWidget.domNode:h.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){if(!this.activeResize){var e=g.position(this.targetDomNode,!0);this._resizeHelper.resize({l:e.x,t:e.y,w:e.w,h:e.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:e.x,t:e.y})}this._isSizing=!0;this.startPoint={x:b.clientX,y:b.clientY};
var e=d.getComputedStyle(this.targetDomNode),k="border-model"===g.boxModel?{w:0,h:0}:g.getPadBorderExtents(this.targetDomNode,e),r=g.getMarginExtents(this.targetDomNode,e);this.startSize={w:d.get(this.targetDomNode,"width",e),h:d.get(this.targetDomNode,"height",e),pbw:k.w,pbh:k.h,mw:r.w,mh:r.h};!this.isLeftToRight()&&"absolute"==d.get(this.targetDomNode,"position")&&(e=g.position(this.targetDomNode,!0),this.startPosition={l:e.x,t:e.y});this._pconnects=[p.connect(n.doc,"onmousemove",this,"_updateSizing"),
p.connect(n.doc,"onmouseup",this,"_endSizing")];f.stop(b)}},_updateSizing:function(a){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()},_getNewCoords:function(a,b,d){try{if(!a.clientX||!a.clientY)return!1}catch(e){return!1}this._activeResizeLastEvent=a;var g=(this.isLeftToRight()?1:-1)*(this.startPoint.x-a.clientX),f=this.startPoint.y-a.clientY;a=this.startSize.w-(this._resizeX?
g:0);f=this._checkConstraints(a,this.startSize.h-(this._resizeY?f:0));if((d=d||this.startPosition)&&this._resizeX)f.l=d.l+g,f.w!=a&&(f.l+=a-f.w),f.t=d.t;switch(b){case "margin":f.w+=this.startSize.mw,f.h+=this.startSize.mh;case "border":f.w+=this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,b){if(this.minSize){var d=this.minSize;a<d.w&&(a=d.w);b<d.h&&(b=d.h)}this.constrainMax&&this.maxSize&&(d=this.maxSize,a>d.w&&(a=d.w),b>d.h&&(b=d.h));if(this.fixedAspect){var d=this.startSize.w,
e=this.startSize.h,g=d*b-e*a;0>g?a=b*d/e:0<g&&(b=a*e/d)}return{w:a,h:b}},_changeSizing:function(a){var b=this.targetWidget&&s.isFunction(this.targetWidget.resize),e=this._getNewCoords(a,b&&"margin");if(!1!==e&&(b?this.targetWidget.resize(e):this.animateSizing?m[this.animateMethod]([k.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:e.w}},duration:this.animateDuration}),k.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:e.h}},
duration:this.animateDuration})]).play():d.set(this.targetDomNode,{width:e.w+"px",height:e.h+"px"}),this.intermediateChanges))this.onResize(a)},_endSizing:function(a){q.forEach(this._pconnects,p.disconnect);var b=s.partial(p.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(a){}})})},"anaplan/utils/ActionHelper":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/utils/JsHelper anaplan/utils/SubmissionHandler anaplan/utils/UIHelper anaplan/widgets/ConfirmationDialog anaplan/Exceptions dojo/_base/array dojo/_base/lang dojo/Deferred dojo/i18n!anaplan/nls/actionEditor dojo/i18n!anaplan/nls/toolbar dojo/json dojo/string".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){var b={runActionWithConfirmation:function(b){var l=new e;(new q({})).post([],[],[{actionId:"GET_ACTION_CONFIRMATION_INFO",params:{modelId:window.modelId,savedActionEntityLongId:b}}]).then(h.hitch(this,function(e){e=a.parse(e.result.systemActionResults[0].actionConfirmationInfoJsonString);if(p.isNullOrUndefined(e.errorMessage)){var q=s.getActionsLabelPage(),q=q.labels[0][m.indexOf(q.entityLongIds[0],b)],y=r.substitute(d.confirmationMessageRunAction,{actionLabel:q}),
w="confirmationMessage"+e.actionType;p.isNullOrUndefined(d[w])||(y+=r.substitute(d[w],e));var x=new k({content:y,title:q}),A=[x.on("cancel",h.hitch(this,function(){x.hide();l.resolve()})),x.on("execute",h.hitch(this,function(){this._runAction(b).then(function(a){a.result.systemActionResults[0].errorMessage?f.showErrorReporter(new n.BaseException(a.result.systemActionResults[0].errorMessage),!0,!1,function(){l.resolve()}):l.resolve(a.result.systemActionResults[0])},function(a){l.reject(a)});x.hide()})),
x.on("hide",h.hitch(this,function(){m.forEach(A,function(a){a.remove()});x.destroy();x=null}))];x.show()}else f.showInfoDialog(e.errorMessage,{title:g.cannotRunAction}).then(function(){l.resolve()},function(a){l.reject(a)})}),function(a){l.reject(a)});return l.promise},_runAction:function(a){return(new q({})).post([],[],[{actionId:l.SYSTEM_ACTIONS.RUN_ACTION,params:{modelId:window.modelId,savedActionEntityLongId:a}}])}};h.setObject("anaplan.utils.ActionHelper",b);return b})},"dojo/json":function(){define(["./has"],
function(l){var s="undefined"!=typeof JSON;l.add("json-parse",s);l.add("json-stringify",s&&'{"a":1}'==JSON.stringify({a:0},function(l,f){return f||1}));if(l("json-stringify"))return JSON;var p=function(l){return('"'+l.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:l("json-parse")?JSON.parse:function(l,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(l))throw new SyntaxError("Invalid characters in JSON");
return eval("("+l+")")},stringify:function(l,f,k){function n(h,e,g){f&&(h=f(g,h));var d;d=typeof h;if("number"==d)return isFinite(h)?h+"":"null";if("boolean"==d)return h+"";if(null===h)return"null";if("string"==typeof h)return p(h);if("function"==d||"undefined"==d)return m;if("function"==typeof h.toJSON)return n(h.toJSON(g),e,g);if(h instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,d){a=h["getUTC"+b]()+(d?1:0);return 10>a?"0"+
a:a});if(h.valueOf()!==h)return n(h.valueOf(),e,g);var a=k?e+k:"",r=k?" ":"",b=k?"\n":"";if(h instanceof Array){var r=h.length,t=[];for(g=0;g<r;g++)d=n(h[g],a,g),"string"!=typeof d&&(d="null"),t.push(b+a+d);return"["+t.join(",")+b+e+"]"}t=[];for(g in h){var l;if(h.hasOwnProperty(g)){if("number"==typeof g)l='"'+g+'"';else if("string"==typeof g)l=p(g);else continue;d=n(h[g],a,g);"string"==typeof d&&t.push(b+a+l+":"+r+d)}}return"{"+t.join(",")+b+e+"}"}var m;"string"==typeof f&&(k=f,f=null);return n(l,
"","")}}})},"jxl/Jxl":function(){define(["./core/Util","./core/Transduce","./core/Patterns"],function(l,s,p){var q=function(){this._txList=[];this._sorter=this._finalizer=this._tx=null};q.prototype.clone=function(){var f=new q;f._txList=this._txList.slice();f._tx=this._tx;f._finalizer=this._finalizer;return f};q.prototype.copy=function(){this._finalizer=p.finalizer.copy.apply(p,arguments);return this};q.prototype.concat=function(f){this._finalizer=p.finalizer.concat.apply(p,arguments);return this};
q.prototype.copyValues=function(){this._finalizer=p.finalizer.copyValues.apply(p,arguments);return this};q.prototype.flatMap=function(){this._finalizer=p.finalizer.flatMap.apply(p,arguments);return this};q.prototype.hash=function(f){this._finalizer=p.finalizer.hash.apply(p,arguments);return this};q.prototype.map=function(f){this._tx=null;this._txList.push(p.tx.map(f));return this};q.prototype.filter=function(f){this._tx=null;this._txList.push(p.tx.filter(f));return this};q.prototype.filterKey=function(f){this._tx=
null;this._txList.push(p.tx.filterKey(f));return this};q.prototype.filterPath=function(f){this._tx=null;f=RegExp(s.NO_ESCAPE_LOOKBACK+l.regexEscape(f)+"$");this._txList.push(p.tx.filterPathRegex(f));return this};q.prototype.filterPathRegex=function(f){this._tx=null;this._txList.push(p.tx.filterPathRegex(f));return this};q.prototype.allowKeyRegex=function(f){this._tx=null;this._txList.push(p.tx.allowKeyRegex(f));return this};q.prototype.prune=function(){this._tx=null;this._txList.push(p.tx.prune());
return this};q.prototype.sort=function(f){"function"!==typeof f&&"boolean"!==typeof f&&(f=!0);this._sorter=f;return this};q.prototype.apply=function(f){if(null===this._finalizer)throw Error("Cannot apply a transducer without specifying a finalizer.");null===this._tx&&(this._tx=0===this._txList.length?p.tx.nop():s.composeFromList(this._txList));return s.transduce(f,this._tx,this._finalizer,this._sorter)};q.isArray=l.isArray;q.isEmpty=l.isEmpty;return q})},"anaplan/cf/ConditionalFormattingInfo":function(){define(["dojo/_base/array",
"dojo/_base/declare","dojo/_base/lang","anaplan/common/_DefinitionBase"],function(l,s,p,q){return s(q,{_serializableProperties:["isValid","errors"],constructor:function(f){this.isValid=[];this.errors=[];f&&p.mixin(this,f)},addRuleInfo:function(f,k){this.isValid.push(f);this.errors.push(k||null)},hasInvalidRule:function(){return l.some(this.isValid,function(f){return!f})},removeRuleInfoAtIndex:function(f){-1<f&&(this.isValid.splice(f,1),this.errors.splice(f,1))},resetRuleInfoAtIndex:function(f){-1<
f&&(this.isValid[f]=!0,this.errors[f]=null)}})})},"anaplan/widgets/SimpleTextarea":function(){define("anaplan/utils/UIHelper dijit/form/SimpleTextarea dijit/form/_FormValueWidget dijit/form/_TextBoxMixin dijit/Tooltip dojo/_base/declare dojo/_base/lang dojo/has dojo/on dojo/dom-construct dojo/_base/window dojo/_base/sniff".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){return k(s,{placeHolder:"",promptMessage:"",tooltipPosition:[],displayMessage:function(d){this._message!=d&&(this._message=d,f.hide(this.domNode),
d&&f.show(d,this.domNode,this.tooltipPosition))},getPromptMessage:function(){return this.promptMessage},insert:function(d){try{var a=this.get("value"),e=[],b=0,g=0;this._selection?(b=this._selection.start,g=this._selection.end):(b=this.textbox.selectionStart,g=this.textbox.selectionEnd);var f=a.substring(0,b),h=a.substring(g);e.push(f);var k=a.length,m=a.match(/(.+?)\s+$/);m&&(k=m[1].length);b>=k&&e.push(" ");e.push(d);e.push(h);var n=e.join("");this.set("value",n);var p=n.length-h.length;this.textbox.createTextRange?
this._selection={start:p,end:p}:this.textbox.selectionStart&&(this.textbox.selectionStart=this.textbox.selectionEnd=p)}catch(q){l.throwClientException(this,q)}},validate:function(d){var a="",e=this._isEmpty(this.textbox.value);d&&e&&(a=this.getPromptMessage(!0));this.displayMessage(a);return!0},_isEmpty:function(d){return/^\s*$/.test(d)},_onBlur:function(){try{this.displayMessage("");this.inherited(arguments);var d=g.doc;if(d.selection){var a=0,e=d.selection.createRange(),b=e.duplicate(),f=e.text.length;
b.moveToElementText(this.textbox);b.setEndPoint("EndToEnd",e);a=b.text.length-f;this._selection={start:a,end:a+f}}this._updatePlaceHolder()}catch(h){console.error("anaplan.widgets.SimpleTextarea: _onBlur",h)}},_onFocus:function(d){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==d&&(this._selectOnClickHandle=h(this.domNode,"mouseup",n.hitch(this,function(){this.disconnect(this._selectOnClickHandle);var a;m("ie")?(a=g.doc.selection.createRange(),a=a.parentElement()==this.textbox&&0==a.text.length):
a=this.textbox.selectionStart==this.textbox.selectionEnd;a&&q.selectInputText(this.textbox)}))),this._updatePlaceHolder(),this._refreshState(),p.prototype._onFocus.call(this,d))},_refreshState:function(){this.validate(this._focused);this.inherited(arguments)},_setPlaceHolderAttr:function(d){this.placeHolder=d;this._phspan||(this._attachPoints.push("_phspan"),this._phspan=e.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"before"),this._phspan.style.cursor="text",h(this._phspan,
"click",n.hitch(this,function(){this.focus()})));this._phspan.innerHTML=d;this._updatePlaceHolder()},_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this._focused&&!this.textbox.value?"":"none")}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(l,s,p,
q,f){return l("dijit.form.FilteringSelect",[q,f],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(f,n,m,h){n&&n[this.searchAttr]!==this._lastQuery||!n&&f.length&&this.store.getIdentity(f[0])!=this._lastQuery||(f.length?this.set("item",f[0],h):this.set("value","",h||void 0===h&&!this.focused,
this.textbox.value,null))},_openResultList:function(f,n,m){n[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(f,n,m,h){this._onChangeActive||(n=null);if(void 0===h){if(null===f||""===f)if(f="",!s.isString(m)){this._setDisplayedValueAttr(m||"",n);return}var e=this;this._lastQuery=f;p(this.store.get(f),function(g){e._callbackSetLabel(g?
[g]:[],void 0,void 0,n)})}else this.valueNode.value=f,this.inherited(arguments,[f,n,m,h])},_setItemAttr:function(f,n,m){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(f){return f.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(f,n){null==f&&(f="");if(!this._created){if(!("displayedValue"in this.params))return;n=!1}if(this.store){this.closeDropDown();var m=s.clone(this.query),h=this._getDisplayQueryString(f),e;this.store._oldAPI?
e=h:(e=this._patternToRegExp(h),e.toString=function(){return h});this._lastQuery=m[this.searchAttr]=e;this._lastDisplayedValue=this.textbox.value=f;this._set("displayedValue",f);var g=this,d={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};s.mixin(d,this.fetchProperties);this._fetchHandle=this.store.query(m,d);p(this._fetchHandle,function(a){g._fetchHandle=null;g._callbackSetLabel(a||[],m,d,n)},function(a){g._fetchHandle=null;g._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},
undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(l,s,p,q,f){return s("dijit.layout.TabContainer",p,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(f){var n=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?l.getObject(this.controllerWidget):
this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":n,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},f)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&
!this.nested?f:q)}})})},"anaplan/api/SystemActions/CopyModule":function(){define("dojo/_base/declare dojo/string ./Base/SystemAction anaplan/utils/JsHelper anaplan/constants dojo/i18n!anaplan/nls/api".split(" "),function(l,s,p,q,f,k){return l([p],{validate:function(){return!q.isObject(this._params)?k.errors.invalidParams:!q.isString(this._params.name)||0===this._params.name.length?k.errors.nameIsRequired:this._params.name.length>f.MAXIMUM_ID_LENGTH?s.substitute(k.errors.maxLength,{max:f.MAXIMUM_ID_LENGTH}):
"_"===this._params.name[0]||"_"===this._params.name[this._params.name.length-1]?k.errors.notAllowedUnderscores:!q.isBool(this._params.includeData)||!q.isBool(this._params.includeAllViews)?k.errors.invalidParams:!q.isEntityLongId(this._params.toCopy)?k.errors.noModuleSpecified:this.inherited(arguments)},buildRequestObject:function(){return{actionId:f.SYSTEM_ACTIONS.COPY_MODULE,params:{modelId:window.modelId,fromModuleEntityLongId:this._params.toCopy,toModuleId:this._params.name,functionalAreaId:this._params.functionalAreaId,
copyCellData:this._params.includeData,copySavedViews:this._params.includeAllViews}}},applyDefaults:function(f){f=f||{};f.functionalAreaId=f.functionalAreaId||-1;return f},parseResponse:function(f){return parseInt(f.moduleEntityLongId,10)}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,s,p,q){return l("dijit.form._FormValueWidget",[p,q],{_layoutHackIE7:function(){if(7==s("ie"))for(var f=this.domNode,k=f.parentNode,
n=f.firstChild||f,m=n.style.filter,h=this;k&&0==k.clientHeight;)(function(){var e=h.connect(k,"onscroll",function(){h.disconnect(e);n.style.filter=(new Date).getMilliseconds();h.defer(function(){n.style.filter=m})})})(),k=k.parentNode}})})},"anaplan/charts/ViewRequestChartletModel":function(){define("anaplan/constants anaplan/data/_BaseModel anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/FormatHelper dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,
q,f,k,n,m){return n("anaplan.charts.ViewRequestChartletModel",s,{constructor:function(h){this._rowAxisIdentifier=this._columnAxisIdentifier=null;this._viewGuid=f.createUUID();this._maxRowsToRequestFromServer=h.maxRowsToRequestFromServer},getColumnAxisIdentifier:function(){null==this._columnAxisIdentifier&&(this._columnAxisIdentifier=p.getSingleDimensionIdentifierFromAxisSpecification(this._pageInfo.columnAxisSpecification,0));return this._columnAxisIdentifier},getRowAxisIdentifier:function(){null==
this._rowAxisIdentifier&&(this._rowAxisIdentifier=p.getSingleDimensionIdentifierFromAxisSpecification(this._pageInfo.rowAxisSpecification,0));return this._rowAxisIdentifier},isDirty:function(){return!1},update:function(f){try{f[0].viewGuid===this._viewGuid&&this.inherited(arguments)}catch(e){throw new q.ClientException("anaplan.data._BaseModel.update",e);}},_getPageRequests:function(f){var e=this._maxRowsToRequestFromServer;k.forEach(f,function(g){g.rowCount=e;g.columnCount=l.SELECTION_DEFINITION_SIZE_LIMIT});
return f},_getView:function(){return{x:[0,Math.min(this._readCache.getColumnCount()-1,l.SELECTION_DEFINITION_SIZE_LIMIT-1)],y:[0,-1<this._maxRowsToRequestFromServer?Math.min(this._readCache.getRowCount()-1,this._maxRowsToRequestFromServer-1):this._readCache.getRowCount()-1]}},_getViewOptions:function(){var f=this.inherited(arguments);return f=m.mixin(f,{viewGuid:this._viewGuid})},_setViewDefinition:function(){this.inherited(arguments);this._viewGuid=f.createUUID()}})})},"anaplan/widgets/Tree/SingularDndSelector":function(){define(["dojo/_base/declare",
"dijit/tree/_dndSelector"],function(l,s){return l(s,{singular:!0})})},"anaplan/dashboard/dashboardWidgets/_ModuleGridlet":function(){define("anaplan/anapediaKeys anaplan/constants anaplan/dashboard/dashboardWidgets/_Gridlet anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/gridlet/GridletFactory anaplan/utils/FilterHelper anaplan/utils/FormatHelper anaplan/utils/GridletHelper anaplan/utils/SelectionHelper anaplan/utils/TestAttributesHelper anaplan/utils/UIHelper anaplan/view/Export anaplan/view/Pivot anaplan/widgets/QuickFilter/Dropdown anaplan/widgets/MenuItem dijit/Menu dijit/MenuSeparator dijit/PopupMenuItem dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-style dojo/i18n!anaplan/nls/exportLabels dojo/i18n!anaplan/nls/filter dojo/i18n!anaplan/nls/gridlet dojo/i18n!anaplan/nls/toolbar dojo/i18n!anaplan/nls/history dojo/i18n!anaplan/nls/view dojo/json dojo/on dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O){function P(m){return A([m,p],{postCreate:function(){this.inherited(arguments);B.add(this.domNode,"anaplanTabsView")},_checkHeldCellCount:function(a,b){var d=this._model.getPageInfo();g.checkHeldCellCount(d)?this.confirm(L.titleHeldCellConfirmation,L.messageHeldCellConfirmation,a,b):a()},onPivot:function(){},onDashboardElementChange:function(a){},onSelectionChange:function(a){this.inherited(arguments);if(a&&(a.isWholeRowSelected()||
a.isWholeColumnSelected())){var b=this.getGridController();clearTimeout(this._pageChangeTimeout);var e=this.id;this._pageChangeTimeout=setTimeout(function(){var g=d.getGlobalContext(a,b.getContext());g&&(g.push(e),O.publish.apply(null,["anaplan/global/context"].concat(g)),q.gather())},250)}},onUpdate:function(a){this.inherited(arguments);var b=a[1];this._simpleFilterButton&&this._simpleFilterButton.domNode?this._setSimpleFilterStatus(b):this._quickFilterButton&&this._quickFilterButton.domNode&&(b=
h.getQuickFilterStatus(b),this._quickFilterButton.set("iconClass",b.iconClass),this._quickFilterButton.set("label",b.label))},_setSimpleFilterStatus:function(a){a=g.getSortAndFilterDefinitions(a);var b=F.labelFilter,d="anaplanIcon anaplanIconFilterNone";a&&a.length&&(x.some(a,function(a){return x.some(a.filterConditionInfos,function(a){return!1===a.isValid})})?(b=F.labelFilterInvalid,d="anaplanIcon anaplanIconFilterWarning"):x.some(a,function(a){return!1===a.isActive})?(b=F.labelFilterInactive,d=
"anaplanIcon anaplanIconFilterDisabled"):(b=F.labelFilterActive,d="anaplanIcon anaplanIconFilter"));this._simpleFilterButton.get("iconClass")!==d&&this._simpleFilterButton.set("iconClass",d);this._simpleFilterButton.get("label")!==b&&this._simpleFilterButton.set("label",b)},populateToolbarButtons:function(a){this.inherited(arguments);if(f.hasEntitlement(s.ENTITLED_FEATURES.QUICK_FILTER)){var b=new u({getGridController:D.hitch(this,"getGridController")});this._quickFilterButton=this._createQuickFilterButton(b);
this.own(this._quickFilterButton.on("click",D.hitch(this,function(){var a=this.getGridController();if(null!==a){var b=a.getSelectionObject();b&&d.canQuickFilter(b,a.getContext())?a.beginQuickFilter():(a=H.abortInvalidSelectionForQuickFilter+e.searchAndReplacePlaceholders(H.helpQuickFilter),r.showInfoDialog(a,{title:H.titleQuickFilter}))}})));a.addChild(this._quickFilterButton,1)}else this._simpleFilterButton=this._createSimpleFilterButton(),a.addChild(this._simpleFilterButton,1)},_addImplementationSpecificItemsToFormatMenu:function(a){this._conditionalformattingMenuItem=
this._createConditionalFormattingMenuItem();a.addChild(this._conditionalformattingMenuItem)},_canMove:function(a){var b=this._getGridController().getContext(),e=this._model.getPageInfo(),b=d.isOperationOnColumns(a,b)?e.columnAxisSpecification:e.rowAxisSpecification;return k.axisSpecificationContainsLineItems(b)||k.axisSpecificationContainsLineItemSubset(b)||k.axisSpecificationContainsVersion(b)?!1:this.inherited(arguments)},_createDataMenu:function(a){try{var b=new z({parentMenu:a});this._importMenuItem=
this._createImportMenuItem();this._exportMenuItem=this._createExportMenuItem();this._filterMenuItem=this._createFilterMenuItem();this._breakbackMenu=this._createBreakbackMenu();this._historyMenuItem=this._createHistoryMenuItem();b.addChild(this._importMenuItem);b.addChild(this._exportMenuItem);this._importExportMenuSeparator=new y;b.addChild(this._importExportMenuSeparator);b.addChild(this._filterMenuItem);f.hasEntitlement(s.ENTITLED_FEATURES.QUICK_FILTER)?(this._sortMenu=this._createSortMenu(),b.addChild(this._sortMenu)):
b.addChild(this._createSortMenuItem());this._filterSortMenuSeparator=new y;b.addChild(this._filterSortMenuSeparator);b.addChild(this._breakbackMenu);this._historyMenuSeparator=new y;b.addChild(this._historyMenuSeparator);b.addChild(this._historyMenuItem);var d=new w({label:F.menuData,popup:b});a.addChild(d);return d}catch(e){throw new n.ClientException("anaplan.dashboard._ModuleGridlet._createDataMenu",e);}},_createEditMenu:function(b){try{var d=new z({parentMenu:b});this._canMaintain()&&(this._insertMenuItem=
this._createInsertMenuItem(),this._deleteMenuItem=this._createDeleteMenuItem(),this._moveMenuItem=this._createMoveMenuItem(),d.addChild(this._insertMenuItem),d.addChild(this._deleteMenuItem),d.addChild(this._moveMenuItem));this._copyacrossMenuItem=this._createCopyAcrossMenuItem();this._copydownMenuItem=this._createCopyDownMenuItem();this._refreshMenuItem=this._createRefreshMenuItem();d.addChild(this._copyacrossMenuItem);d.addChild(this._copydownMenuItem);var e=new y;d.addChild(e);this._editMenuSeparator=
e;d.addChild(this._refreshMenuItem);var g=new w({label:F.menuEdit,popup:d});a.add(g,"toolbar-button-edit");b.addChild(g)}catch(f){throw new n.ClientException("anaplan.dashboard._ModuleGridlet._createEditMenu",f);}},_createHistoryMenuItem:function(){var a=new z,b=new w({iconClass:"anaplanEditorIcon anaplanEditorIconShowHistory",label:K.labelShowHistoryButton,popup:a}),d=function(b,d){var e=new v({label:b});a.addChild(e);e.on("Click",D.hitch(this,function(){this._gridController.beginShowHistory(this._selection,
d)}))};d.call(this,K.showHistory24hrsLabel,"24");d.call(this,K.showHistory7dLabel,"7");d.call(this,K.showHistory30dLabel,"30");d.call(this,K.showHistoryAllLabel,"ALL");d.call(this,K.showHistoryDateRangeNoColonLabel,"RANGE");return b},_createPivotMenuItem:function(){var a=null;try{a=new v({iconClass:"anaplanEditorIcon anaplanEditorIconPivot",label:F.labelPivot}),this.own(I(a,"Click",D.hitch(this,function(){this._checkHeldCellCount(D.hitch(this,"_displaySlicerDialog"))}))),this._pivotMenuItem=a}catch(b){r.throwClientException(this,
b)}return a},_createViewMenu:function(a){try{var b=new z({parentMenu:a});this._pivotMenuItem=this._createPivotMenuItem();b.addChild(this._pivotMenuItem);var d=new w({label:F.menuView,popup:b});a.addChild(d);return d}catch(e){throw new n.ClientException("anaplan.dashboard._ModuleGridlet._createViewMenu",e);}},_displayExportDialog:function(){try{var a=this._model,e=d.getEntityLongIdsForCurrentSelection(this._selection,this._gridController.getContext()),g=a.getFormula(e),f=r.getSharedDialog({roles:["export"]}),
h=new b({modelId:modelId,viewDefinition:a.getViewDefinition(),pageInfo:a.getPageInfo(),lineItemId:g&&g.label?g.label:null,moduleId:a.getModuleId()});f.set("title",G.titleExport);f.set("refocus",!1);f.set("content",h.domNode);this.own(I(h,"AfterExport",function(){f.hide()}),I(h,"Cancel",function(){f.onCancel()}));f.show()}catch(k){throw new n.ClientException("anaplan.dashboard._ModuleGridlet._displayExportDialog",k);}},_displaySlicerDialog:function(){var a=this,b=this._model.getPageInfo(),d=r.getSharedDialog({roles:["pivot"]}),
e=new t({gridController:this.getGridController(),pageInfo:b});E.set(d,"title",J.titleSlicer);E.set(d,"refocus",!1);E.set(d,"content",e.domNode);this.own(I(e,"AfterSlice",D.hitch(this,function(){this.onPivot();d.hide()})),I(e,"Cancel",function(){d.onCancel()}),I(d,"Hide",function(){e.destroy();a.focus()}));d.setHelpContent(l.pivot);d.show()},setMenuToolbarOptions:function(a){this.inherited(arguments);var b=M.parse(a);this._simpleFilterButton&&this._simpleFilterButton.domNode&&C.set(this._simpleFilterButton.domNode,
"display",!0!==b.menuItemFilter||!0!==b.showToolbar?"none":"");this._quickFilterButton&&this._quickFilterButton.domNode&&(C.set(this._quickFilterButton.domNode,"display",!0!==b.showToolbar?"none":""),this._quickFilterButton.dropDown.set("menuItemFilter",b.menuItemFilter))}})}return{create:function(a){var b=(new m).getBaseClass({useGrid2:!0});return new (P(b))(a)}}})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,s){var p={};s.setObject("dojo.regexp",p);p.escapeString=
function(l,f){return l.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(k){return f&&-1!=f.indexOf(k)?k:"\\"+k})};p.buildGroupRE=function(l,f,k){if(!(l instanceof Array))return f(l);for(var n=[],m=0;m<l.length;m++)n.push(f(l[m]));return p.group(n.join("|"),k)};p.group=function(l,f){return"("+(f?"?:":"")+l+")"};return p})},"anaplan/cf/FormatDefinitionFactory":function(){define(["dojo/_base/declare","anaplan/constants","anaplan/Exceptions","./BgColorScaleFormatDefinition"],function(l,s,p,q){var f=
s.conditionalFormatType;return l("anaplan.cf.FormatDefinitionFactory",null,{createFormatDefinition:function(k){if(!k)throw new p.InvalidArgumentException("anaplan.cf.FormatDefinitionFactory.createFormatDefinition: missing argument "+k);if("string"===typeof k){if(k===f.BG_COLOR_SCALE)return new q;throw new p.InvalidArgumentException("anaplan.cf.FormatDefinitionFactory.createFormatDefinition: invalid format type "+k);}if("object"===typeof k)return new q(k);throw new p.InvalidArgumentException("anaplan.cf.FormatDefinitionFactory.createFormatDefinition: invalid argument type "+
typeof k);}})})},"anaplan/actions/bulk-operation":function(){define("dojo/_base/lang dojo/Deferred dojo/window anaplan/utils/FormatHelper anaplan/actions/Assign anaplan/actions/CopyBranch anaplan/actions/CopyToNumberedList anaplan/Exceptions anaplan/utils/UIHelper dojo/i18n!anaplan/nls/common".split(" "),function(l,s,p,q,f,k,n,m,h,e){var g=function(a,d,e,g){a=new a(d);a.own(a.on("cancel",function(){e.hide();g.cancel()}),a.on("complete",function(a){e.hide();g.resolve(a)}),a.on("error",function(a){e.hide();
g.reject(a)}));return a},d={COPY_TO_NUMBERED_LIST:l.hitch(null,g,n),BULK_ENTITY_COPY:l.hitch(null,g,k),SELECT_CHILDREN:l.hitch(null,g,f)},a=function(){var a=p.getBox(),a=Math.max(Math.floor(0.8*a.h),480);return{w:Math.max(Math.floor(1.61*a),640),h:a}},r=function(a,d){var g=a,f="";d&&(1<d.length?(f=": "+e[2===d.length?"labelTwoItems":"labelManyItems"],f=f.replace(/\$0/,d[0].label),f=f.replace(/\$1/,d[1].label),f=f.replace(/\$n/,d.length)):1===d.length&&(f=": "+d[0].label),g+=f);return q.cleanEscapeHTML(g)};
f={beginTask:function(b){var e=new s,g=d[b.operation],f=h.getSharedDialog({roles:["bulk-operation"]});if(g){if(g=g(b,f,e))g.resize(a()),f.set("content",g),f.set("title",r(b.label,b.selectedItems)),f.setHelpContent(b.helpUrl||null),f.show()}else e.reject(new m.ClientException("anaplan.actions.bulkOperation.beginTask: unsupported task "+b.taskElementType));return e}};l.setObject("anaplan.actions.bulkOperation",f);return f})},"anaplan/gridlet/_editor/dataTypes/TimeEntity/TimeEntityItem":function(){define("dojo/Evented dojo/_base/lang dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!anaplan/templates/DataType/TimeEntityItem.html dojo/i18n!anaplan/nls/dataType dijit/form/RadioButton".split(" "),
function(l,s,p,q,f,k,n,m){return p([q,f,k,l],{templateString:n,nlsLabels:m,dataType:"TIME_ENTITY",constructor:function(f){this._initialChecked=f.selected;this._initialDisabled=f.disabled;this.label=f.label;this._value=f.value},postCreate:function(){this.radio.setDisabled(this._initialDisabled);this.radio.setChecked(this._initialChecked);this.radio.on("change",s.hitch(this,function(f){!0===f?this.emit("checked",this._value):this.emit("unchecked",this._value)}));this.inherited(arguments)},setChecked:function(f){this.radio.setChecked(f)},
getChecked:function(){return this.radio.get("checked")}})})},"dojox/html/metrics":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(l,s,p,q,f,k,n){var m=s.getObject("dojox.html.metrics",!0),h=s.getObject("dojox");m.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},d;p("ie")&&(d=k.doc.documentElement.style.fontSize||
"",d||(k.doc.documentElement.style.fontSize="100%"));var e=k.doc.createElement("div"),g=e.style;g.position="absolute";g.left="-100px";g.top="0";g.width="30px";g.height="1000em";g.borderWidth="0";g.margin="0";g.padding="0";g.outline="0";g.lineHeight="1";g.overflow="hidden";k.body().appendChild(e);for(var f in a)g.fontSize=f,a[f]=16*Math.round(12*e.offsetHeight/16)/12/1E3;p("ie")&&(k.doc.documentElement.style.fontSize=d);k.body().removeChild(e);return a};var e=null;m.getCachedFontMeasurements=function(a){if(a||
!e)e=m.getFontMeasurements();return e};var g=null,d={};m.getTextBox=function(a,e,f){var h,r;if(g)h=g;else{h=g=k.doc.createElement("div");var m=k.doc.createElement("div");m.appendChild(h);r=m.style;r.overflow="scroll";r.position="absolute";r.left="0px";r.top="-10000px";r.width="1px";r.height="1px";r.visibility="hidden";r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";k.body().appendChild(m)}h.className="";r=h.style;r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";if(1<arguments.length&&
e)for(var l in e)l in d||(r[l]=e[l]);2<arguments.length&&f&&(h.className=f);h.innerHTML=a;r=n.position(h);r.w=h.parentNode.scrollWidth;return r};var a=16,r=16;m.getScrollbar=function(){return{w:a,h:r}};m._fontResizeNode=null;m.initOnFontResize=function(a){var d=m._fontResizeNode=k.doc.createElement("iframe");a=d.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";p("ie")?d.onreadystatechange=function(){"complete"==d.contentWindow.document.readyState&&(d.onresize=
d.contentWindow.parent[h._scopeName].html.metrics._fontresize)}:d.onload=function(){d.contentWindow.onresize=d.contentWindow.parent[h._scopeName].html.metrics._fontresize};d.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");k.body().appendChild(d);m.initOnFontResize=function(){}};m.onFontResize=function(){};m._fontresize=function(){m.onFontResize()};
f.addOnUnload(function(){var a=m._fontResizeNode;a&&(p("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),m._fontResizeNode=null)});q(function(){try{var b=k.doc.createElement("div");b.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";k.body().appendChild(b);a=b.offsetWidth-b.clientWidth;r=b.offsetHeight-b.clientHeight;k.body().removeChild(b);delete b}catch(d){}"fontSizeWatch"in l.config&&
l.config.fontSizeWatch&&m.initOnFontResize()});return m})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){p.isAsync||e(0,function(){g(["./fx/Toggler"])});p=p.fx={};e={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var d=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=
0;q.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};d.prototype=new s;l.extend(d,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=f.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0),this._onEndCtx=
f.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var d=f.after(this._current,"beforeBegin",l.hitch(this,function(){this._fire("beforeBegin")}),!0),e=f.after(this._current,"onBegin",l.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),g=f.after(this._current,"onPlay",l.hitch(this,function(a){this._fire("onPlay",arguments);
d.remove();e.remove();g.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=f.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=f.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=f.after(this._current,"onPause",l.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},
gotoPercent:function(a,b){this.pause();var d=this.duration*a;this._current=null;q.some(this._animations,function(a,b){if(d<=a.duration)return this._current=a,this._index=b,!0;d-=a.duration;return!1},this);this._current&&this._current.gotoPercent(d/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=f.after(this._current,
"onStop",l.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});l.extend(d,e);p.chain=function(a){return new d(a)};var a=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;q.forEach(a,function(a){var b=a.duration;a.delay&&
(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(f.after(a,"onEnd",l.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new k.Animation({curve:[0,1],duration:this.duration});var b=this;q.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(f.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};l.extend(a,{_doAction:function(a,b){q.forEach(this._animations,function(d){d[a].apply(d,b)});return this},_onEnd:function(){++this._finished>
this._animations.length&&this._fire("onEnd")},_call:function(a,b){var d=this._pseudoAnimation;d[a].apply(d,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var d=this.duration*a;q.forEach(this._animations,function(a){a.gotoPercent(a.duration<d?1:d/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",
arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();q.forEach(this._connects,function(a){a.remove()})}});l.extend(a,e);p.combine=function(d){return new a(d)};p.wipeIn=function(a){var b=a.node=n.byId(a.node),d=b.style,e;a=k.animateProperty(l.mixin({properties:{height:{start:function(){e=d.overflow;d.overflow="hidden";if("hidden"==d.visibility||"none"==d.display)return d.height="1px",d.display="",d.visibility="",
1;var a=m.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var g=function(){d.height="auto";d.overflow=e};f.after(a,"onStop",g,!0);f.after(a,"onEnd",g,!0);return a};p.wipeOut=function(a){var b=(a.node=n.byId(a.node)).style,d;a=k.animateProperty(l.mixin({properties:{height:{end:1}}},a));f.after(a,"beforeBegin",function(){d=b.overflow;b.overflow="hidden";b.display=""},!0);var e=function(){b.overflow=d;b.height="auto";b.display="none"};f.after(a,"onStop",e,!0);f.after(a,
"onEnd",e,!0);return a};p.slideTo=function(a){var b=null,d=null,e=function(a){return function(){var e=m.getComputedStyle(a),g=e.position;b="absolute"==g?a.offsetTop:parseInt(e.top)||0;d="absolute"==g?a.offsetLeft:parseInt(e.left)||0;"absolute"!=g&&"relative"!=g&&(e=h.position(a,!0),b=e.y,d=e.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=d+"px")}}(a.node=n.byId(a.node));e();a=k.animateProperty(l.mixin({properties:{top:a.top||0,left:a.left||0}},a));f.after(a,"beforeBegin",e,!0);return a};
return p})},"anaplan/gridlet/_editor/dataTypes/FilteredList":function(){define("anaplan/Exceptions dojo/string anaplan/utils/JsHelper anaplan/widgets/Tooltip ./FilteredList/dataprovider anaplan/utils/UIHelper dijit/form/_FormMixin dojo/_base/declare dojo/_base/lang anaplan/constants anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/utils/SelectionHelper anaplan/utils/EntityLongIdHelper anaplan/gridlet/_editor/dataTypes/Base dojo/text!anaplan/templates/DataType/FilteredList.html dojo/i18n!anaplan/nls/dataType anaplan/gridlet/_editor/dataTypes/FilteredList/ExampleData anaplan/widgets/Select anaplan/widgets/FilteringSelect dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){return m([b,n],{templateString:t,_context:null,_selection:null,constructor:function(b){this._context=b.context;this._selection=b.selection;this._currentState={hierarchyEntityLongId:null,showFilterOptions:!1,drivingLineItemEntityLongId:null,selectiveAccess:!1,showAll:!1};this._activeState=h.clone(this._currentState);this._contextEntityLongId=b.context.pageInfo.staticContext.entityLongIds[0][0]||b.selection.currentCell.y.entityLongIds[1];this._contextEntityTypeIndex=
r.getEntityTypeIndex(this._contextEntityLongId);b=a.getRowsSelection(b.selection,b.context);this.lineItemOrPropertyName=b.labels[0][0];this.lineItemOrPropertyEntityLongId=b.entityLongIds[0][0]},startup:function(){this.inherited(arguments);this.tooltip=new q({label:u.dynamicFilterTooltip,connectId:[this.iconNode],position:["after"],title:""});var a=f.getLists();this.selectHierarchy.setItems(a,"entityLongId");this._currentState.hierarchyEntityLongId=this.selectHierarchy.item?this.selectHierarchy.item.entityLongId:
null;a=s.substitute(u.labelFilterDriver,{listName:this.lineItemOrPropertyName});k.setText(this.lblFilter,a);this._refreshState();this._attach()},destroy:function(){this.tooltip.destroy();this.inherited(arguments)},_attach:function(){this.selectHierarchy.on("change",h.hitch(this,this._onSelectHierarchyChange));this.inputFilterDependent.on("change",h.hitch(this,this._onChangeToFilteredDependent));this.inputFilterSelectiveAccess.on("change",h.hitch(this,this._onChangeToFilteredSelectiveAccess));this.inputShowAll.on("change",
h.hitch(this,this._onChangeToShowAll));this.selectDriver.on("change",h.hitch(this,this._onSelectDriverChange));this.selectKeyProperty.on("change",h.hitch(this,this._onSelectKeyPropertyChange));this.selectValueProperty.on("change",h.hitch(this,this._onSelectValuePropertyChange))},_setupSelect:function(a,b,d){b&&0<b.length&&(a.setItems(b,"entityLongId","label"),p.isNullOrUndefined(this._currentState[d])&&(this._currentState[d]=b[0].entityLongId),a.set("value",this._currentState[d]),p.isNullOrUndefined(a.item)&&
(this._currentState[d]=b[0].entityLongId,a.set("value",this._currentState[d])))},_fetchHierarchyInfo:function(){var a=!p.isNullOrUndefined(this._currentState.hierarchyEntityLongId)&&0<this._currentState.hierarchyEntityLongId;if(!a||p.isObject(d.getLineItemSubsetInfo(this._currentState.hierarchyEntityLongId)))return null;if(a){if(a=d.getHierarchyInfo(this._currentState.hierarchyEntityLongId))return a;if(a=d.getHierarchySubsetInfo(this._currentState.hierarchyEntityLongId)){var b=d.getHierarchyInfoForHierarchySubsetEntityLongId(this._currentState.hierarchyEntityLongId);
a.hasSelectiveAccess=b.hasSelectiveAccess;return a}throw new l.ClientException("Couldn't find the hierarchy as a list, subset of a list or as a line item subset");}},_refreshState:function(){this._stopEvents=!0;var a,b=!p.checksumEqual(this._currentState,this._activeState);this.selectHierarchy.set("value",this._currentState.hierarchyEntityLongId);var d=this._fetchHierarchyInfo();this.inputFilterSelectiveAccess.set("disabled",!d);this.inputFilterDependent.set("disabled",!d);d&&(this.inputFilterSelectiveAccess.set("disabled",
!d.hasSelectiveAccess),this._currentState.selectiveAccess&&!d.hasSelectiveAccess&&(this._currentState.selectiveAccess=!1),a=this._contextEntityTypeIndex===e.HIERARCHY_ENTITY_TYPE_INDEX?f.getRelationshipsInProperties(this._currentState.hierarchyEntityLongId,this._contextEntityLongId,this.lineItemOrPropertyEntityLongId):f.getRelationshipsInLineItems(this._currentState.hierarchyEntityLongId,this._contextEntityLongId,this.lineItemOrPropertyEntityLongId));!0===this._currentState.selectiveAccess&&this.inputFilterSelectiveAccess.set("checked",
!0);a&&0<a.length||(this._currentState.showFilterOptions=!1,this.inputFilterDependent.set("disabled",!0));d=!0===this._currentState.showFilterOptions||!0===this._currentState.selectiveAccess;this._currentState.showAll&&!d&&(this._currentState.showAll=!1);this.inputShowAll.set("disabled",!d);this.inputShowAll.set("checked",this._currentState.showAll);this._currentState.showFilterOptions?(this.inputFilterDependent.set("checked",!0),this._setupSelect(this.selectDriver,a,"drivingLineItemEntityLongId"),
a=this.selectDriver.getSelectedItem().info.format.hierarchyEntityLongId,d=f.getPropertyPairsForDrivingList(this._currentState.hierarchyEntityLongId,a),this._setupSelect(this.selectKeyProperty,d.sources,"keyEntityLongId"),this._currentState.keyEntityLongId?(this._setupSelect(this.selectValueProperty,d.targets[this._currentState.keyEntityLongId],"valueEntityLongId"),this._currentState.valueEntityLongId&&(this._currentState.mappingHierarchyEntityLongId=this.selectValueProperty.item.mappingHierarchyEntityLongId),
d=this.buildFormat(),this.exampleData.loadData(a,d)):(this.selectKeyProperty.set("disabled",!0),this.selectValueProperty.set("disabled",!0)),k.toggleNode(this.picklistFilter,!0)):(!0===this._currentState.selectiveAccess&&this.inputFilterSelectiveAccess.set("checked",!0),k.toggleNode(this.picklistFilter,!1));this.isValid()?b&&this.emit("update"):this.emit("invalid");this._activeState=h.clone(this._currentState);this.defer(function(){this._stopEvents=!1},10)},isValid:function(){var a=this.buildFormat();
return p.isObject(a)&&"ENTITY"===a.dataType&&!p.isNullOrUndefined(a.hierarchyEntityLongId)&&p.isBool(a.selectiveAccessApplied)?a.entityFormatFilter&&(p.isNullOrUndefined(a.entityFormatFilter.keyProperty)||p.isNullOrUndefined(a.entityFormatFilter.mappingHierarchy)||p.isNullOrUndefined(a.entityFormatFilter.sourceLineItemOrProperty)||p.isNullOrUndefined(a.entityFormatFilter.valueProperty))?!1:!0:!1},setFormat:function(a){this._currentState={hierarchyEntityLongId:a.hierarchyEntityLongId,showFilterOptions:!1,
drivingLineItemEntityLongId:null,selectiveAccess:a.selectiveAccessApplied||!1,showAll:a.showAll||!1};if(a.entityFormatFilter){var b=r.entityLongIdIdentifierToEntityLongId;this._currentState.drivingLineItemEntityLongId=b(a.entityFormatFilter.sourceLineItemOrProperty);this._currentState.showFilterOptions=!0;this._currentState.keyEntityLongId=b(a.entityFormatFilter.keyProperty);this._currentState.mappingHierarchyEntityLongId=b(a.entityFormatFilter.mappingHierarchy);this._currentState.valueEntityLongId=
b(a.entityFormatFilter.valueProperty)}a=h.mixin({},this._currentState);this._refreshState();p.checksumEqual(this._currentState,a)||(this._currentState.showFilterOptions=!1,this._refreshState())},buildFormat:function(){var a={dataType:"ENTITY",hierarchyEntityLongId:this._currentState.hierarchyEntityLongId,selectiveAccessApplied:this._currentState.selectiveAccess,showAll:this._currentState.showAll};this._currentState.showFilterOptions&&(a.entityFormatFilter={sourceLineItemOrProperty:r.entityLongIdToEntityLongIdIdentifier(this._currentState.drivingLineItemEntityLongId),
mappingHierarchy:r.entityLongIdToEntityLongIdIdentifier(this._currentState.mappingHierarchyEntityLongId),keyProperty:r.entityLongIdToEntityLongIdIdentifier(this._currentState.keyEntityLongId),valueProperty:r.entityLongIdToEntityLongIdIdentifier(this._currentState.valueEntityLongId)});return a},_onSelectDriverChange:function(a){!1===this._stopEvents&&(this._currentState.drivingLineItemEntityLongId=a&&0<a?a:null,this._refreshState())},_onSelectKeyPropertyChange:function(a){!1===this._stopEvents&&(this._currentState.valueEntityLongId=
null,this._currentState.keyEntityLongId=a&&0<a?a:null,this._refreshState())},_onSelectValuePropertyChange:function(a){!1===this._stopEvents&&(a&&0<a?(this._currentState.mappingHierarchyEntityLongId=this.selectValueProperty.item.mappingHierarchyEntityLongId,this._currentState.valueEntityLongId=a):(this._currentState.mappingHierarchyEntityLongId=null,this._currentState.valueEntityLongId=null),this._refreshState())},_onSelectHierarchyChange:function(a){if(!1===this._stopEvents){if(!1===((p.isNullOrUndefined(a)||
""===a)&&this._currentState.drivingLineItemEntityLongId))this._currentState.drivingLineItemEntityLongId=null,this._currentState.hierarchyEntityLongId=a&&0<a?a:null;this._refreshState()}},_onChangeToFilteredDependent:function(a){!1===this._stopEvents&&(this._currentState.showFilterOptions=a,this._refreshState())},_onChangeToFilteredSelectiveAccess:function(a){!1===this._stopEvents&&(this._currentState.selectiveAccess=a,this._refreshState())},_onChangeToShowAll:function(a){!1===this._stopEvents&&(this._currentState.showAll=
a,this._refreshState())},_getLineItemEntityLongId:function(){var a=this._context.pageInfo;return g.isLineItemsOnColumns(a)?this._selection.getEndColumnEntityLongIds(this._context)[0]:g.isLineItemsOnRows(a)?this._selection.getEndRowEntityLongIds(this._context)[0]:g.getLineItemEntityLongIdForPageInfo(a)}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),function(l,s,p,
q,f,k,n,m){function h(a){a.preventDefault()}var e={checkbox:1,radio:1,button:1},g=/\bdgrid-cell\b/,d=/\bdgrid-row\b/,a=l(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=q.mixin({},a.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=q.mixin({},a.defaultHeaderKeyMap))},postCreate:function(){function a(b){var d=b.target;return d.type&&(!e[d.type]||32==b.keyCode)}function b(e){function h(){f._focusedHeaderNode&&
(f._focusedHeaderNode.tabIndex=-1);if(f.showHeader&&(f._focusedHeaderNode=l=k?f.headerNode.getElementsByTagName("th")[0]:f.headerNode))l.tabIndex=f.tabIndex}var k=f.cellNavigation,r=k?g:d,t=e===f.headerNode,l=e;t?(h(),s.after(f,"renderHeader",h,!0)):s.after(f,"renderArray",function(a){return m.when(a,function(a){var b=f._focusedNode||l;if(r.test(b.className)&&n.contains(e,b))return a;for(var d=0,g=e.getElementsByTagName("*"),h;h=g[d];++d)if(r.test(h.className)){b=f._focusedNode=h;break}b.tabIndex=
f.tabIndex;return a})});f._listeners.push(p(e,"mousedown",function(b){a(b)||f._focusOnNode(b.target,t,b)}));f._listeners.push(p(e,"keydown",function(b){if(!b.metaKey&&!b.altKey){var d=f[t?"headerKeyMap":"keyMap"][b.keyCode];d&&!a(b)&&d.call(f,b)}}))}this.inherited(arguments);var f=this;this.tabableHeader&&(b(this.headerNode),p(this.headerNode,"dgrid-cellfocusin",function(){f.scrollTo({x:this.scrollLeft})}));b(this.contentNode)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);
var b=this,d=document.activeElement===this._focusedNode,e=this[this.cellNavigation?"cell":"row"](this._focusedNode),g=e.row||e,f;a=a.element||a;if(a===g.element){f=this.down(g,!0);if(!f||f.element===a)f=this.up(g,!0);this._removedFocus={active:d,rowId:g.id,columnId:e.column&&e.column.id,siblingId:!f||f.element===a?void 0:f.id};setTimeout(function(){b._removedFocus&&b._restoreFocus(g.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(a){var b=this.inherited(arguments);this._removedFocus&&
!this._removedFocus.wait&&this._restoreFocus(b);return b},_restoreFocus:function(a){var b=this._removedFocus,d;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(d=this.cell(a,b.columnId))&&d.element&&(a=d);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(k(a.element,".dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=
a.element)}delete this._removedFocus},addKeyHandler:function(a,b,d){return s.after(this[d?"headerKeyMap":"keyMap"],a,b,!0)},_focusOnNode:function(a,b,e){var h="_focused"+(b?"Header":"")+"Node";b=this[h];var r=this.cellNavigation?"cell":"row",m=this[r](a),n,t,l,u,x;if(a=m&&m.element){if(this.cellNavigation){n=a.getElementsByTagName("input");x=0;for(l=n.length;x<l;x++)if(t=n[x],(-1!=t.tabIndex||"lastValue"in t)&&!t.disabled){8>f("ie")&&(t.style.position="relative");t.focus();8>f("ie")&&(t.style.position=
"");u=!0;break}}null!==e&&(e=q.mixin({grid:this},e),e.type&&(e.parentType=e.type),e.bubbles||(e.bubbles=!0));b&&(k(b,"!dgrid-focus[!tabIndex]"),8>f("ie")&&(b.style.position=""),e[r]=this[r](b),p.emit(b,"dgrid-cellfocusout",e));b=this[h]=a;e&&(e[r]=m);h=this.cellNavigation?g:d;!u&&h.test(a.className)&&(8>f("ie")&&(a.style.position="relative"),a.tabIndex=this.tabIndex,a.focus());k(a,".dgrid-focus");e&&p.emit(b,"dgrid-cellfocusin",e)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,
!0)},focus:function(a){this._focusOnNode(a||this._focusedNode,!1)}}),r=a.moveFocusVertical=function(a,b){var d=this.cellNavigation,e=this[d?"cell":"row"](a),e=d&&e.column.id,g=this.down(this._focusedNode,b,!0);d&&(g=this.cell(g,e));this._focusOnNode(g,!1,a);a.preventDefault()};l=a.moveFocusUp=function(a){r.call(this,a,-1)};var b=a.moveFocusDown=function(a){r.call(this,a,1)},t=a.moveFocusPageUp=function(a){r.call(this,a,-this.pageSkip)},u=a.moveFocusPageDown=function(a){r.call(this,a,this.pageSkip)},
v=a.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var d=!this.row(a);this._focusOnNode(this.right(this["_focused"+(d?"Header":"")+"Node"],b),d,a);a.preventDefault()}},z=a.moveFocusLeft=function(a){v.call(this,a,-1)},y=a.moveFocusRight=function(a){v.call(this,a,1)},w=a.moveHeaderFocusEnd=function(a,b){var d;this.cellNavigation&&(d=this.headerNode.getElementsByTagName("th"),this._focusOnNode(d[b?0:d.length-1],!0,a));a.preventDefault()},x=a.moveHeaderFocusHome=function(a){w.call(this,a,!0)},
A=a.moveFocusEnd=function(a,b){var d=this,e=this.cellNavigation,g=this.contentNode,h=g.scrollTop+(b?0:g.scrollHeight),g=g[b?"firstChild":"lastChild"],k=-1<g.className.indexOf("dgrid-preload"),r=k?g[(b?"next":"previous")+"Sibling"]:g,n=r.offsetTop+(b?0:r.offsetHeight),t;if(k){for(;r&&0>r.className.indexOf("dgrid-row");)r=r[(b?"next":"previous")+"Sibling"];if(!r)return}!k||1>g.offsetHeight?(e&&(r=this.cell(r,this.cell(a).column.id)),this._focusOnNode(r,!1,a)):(f("dom-addeventlistener")||(a=q.mixin({},
a)),t=s.after(this,"renderArray",function(g){t.remove();return m.when(g,function(g){g=g[b?0:g.length-1];e&&(g=d.cell(g,d.cell(a).column.id));d._focusOnNode(g,!1,a)})}));h===n&&a.preventDefault()},D=a.moveFocusHome=function(a){A.call(this,a,!0)};a.defaultKeyMap={32:h,33:t,34:u,35:A,36:D,37:z,38:l,39:y,40:b};a.defaultHeaderKeyMap={32:h,35:w,36:x,37:z,39:y};return a})},"anaplan/api/Services/Model/query":function(){define(["dojo/_base/lang","dojo/i18n!anaplan/nls/api","anaplan/utils/JsHelper"],function(l,
s,p){function q(a,d,b){d=a[d].query(b.query||{});b.merge&&0<b.merge.length&&(d=d.concat(b.merge));return 0===d.length?[]:p.isEmptyObject(b)?d:e(b,d,a)}function f(a,d){var b=JSON.parse(JSON.stringify(a)),e;for(e in b.query)if(b.query.hasOwnProperty(e)){var g=b.query[e];if(p.isString(g)&&-1<g.indexOf("parent."))if(g=g.split(".")[1],d.hasOwnProperty(g))b.query[e]=d[g];else throw Error(s.errors.invalidParentProperty);}return b}function k(a,d){for(var b in d)a[b]="function"===typeof d[b]?d[b](a):d[b]}
function n(a,d,b){a.children=a.children||[];for(var e in d){var g=d[e];a.children=a.children||[];g=f(g,a);g=q(b,e,g);a.children=a.children.concat(g)}}function m(a,d){for(var b in d)if(d.hasOwnProperty(b)){var e=d[b];if(p.isFunction(e))a[b]=e(a[b],a);else throw Error(s.errors.invalidTransformationFunction);}}function h(a,d,b){var e=[];(!a||0===a.length?Object.keys(b):a).forEach(function(a){var b=p.getKeyByValue(d,a);b?e.push(b):e.push(a)});return e}function e(a,d,b){var e=[],f=h(a.props,a.rename,d[0]);
d.forEach(function(d){e.push(g(d,f,a,b))});return e}function g(a,e,b,g){var f={};e.forEach(function(b){f[b]=a[b]});b.setters&&k(f,b.setters);b.children&&n(f,b.children,g);b.transforms&&m(f,b.transforms);b.rename&&d(f,b.rename);return f}var d=function(a,d){for(var b in d)a[d[b]]=a[b],delete a[b]};return{applyParentQueryParams:f,validateTypeQuery:function(a){if(!p.isObject(a)||p.isArray(a))throw Error(s.errors.invalidTypeQuery);if(a.setters)throw Error(s.errors.invalidTypeQuery);if(a.rename){if(!p.isObject(a.rename)||
p.isArray(a.rename))throw Error(s.errors.invalidTypeQuery);for(var d in a.rename)if(a.rename.hasOwnProperty(d)&&(!p.isString(d)||!p.isString(a.rename[d])))throw Error(s.errors.invalidTypeQuery);if(!p.isObject(a))throw Error(s.errors.invalidTypeQuery);}if(a.props){if(!p.isArray(a.props))throw Error(s.errors.invalidTypeQuery);a.props.forEach(function(a){if(!p.isString(a))throw Error(s.errors.invalidTypeQuery);})}if(a.children)for(var b in a.children)a.children.hasOwnProperty(b)&&this.validateTypeQuery(a.children[b]);
if(a.transforms)for(var e in a.transforms)if(a.transforms.hasOwnProperty(e)&&!p.isFunction(a.transforms[e]))throw Error(s.errors.invalidTransformationFunction);if(a.merge&&!p.isArray(a.merge))throw Error(s.errors.invalidTypeQuery);return!0},execute:function(a,d,b){return q(a,d,b)},validate:function(a,d){if(!p.isObject(a)||p.isEmptyObject(a))throw Error(s.errors.invalidQuery);var b=d.getServicesList(),e;for(e in a)if(-1===b.indexOf(e))throw console.warn(e+" is an unsupported entity. Query supports ",
b),Error(s.errors.invalidQuery);return!0}}})},"anaplan/view/_TreeletLabelDecorator":function(){define(["dojo/_base/declare"],function(l){return l("anaplan.view._TreeletLabelDecorator",[],{decorate:function(l){for(var p=l.styles,q,f,k,n=0;n<l.entityLongIds.length;n++){q=p[n].length;for(f=0;f<q;f++)k=l.treeLineSequences[n][f],"undefined"!==typeof k&&null!==k&&(p[n][f]+=" treelet")}return l},destroy:function(){}})})},"anaplan/yolk/dashboardloader":function(){define("anaplan/loaderutils anaplan/undo/getUndoManagerSingleton anaplan/utils/CookieHelper anaplan/yolk/DashboardLoaderUtils anaplan/utils/JsHelper dijit/layout/BorderContainer dijit/layout/ContentPane dijit/registry dojo/_base/declare dojo/Deferred dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return h(null,{load:function(){var d=new e;try{s(),l.loadReduxApp(),(new k({id:"border",gutters:!1},"border")).startup(),g.subscribe("anaplan/yolk/load",q.loadDashboard),g.subscribe("anaplan/yolk/refresh",q.refresh),l.loadReactUI(),g.publish("anaplan/cbi/ready"),d.resolve()}catch(a){d.reject(a)}return d.promise}})})},"anaplan/view/RunExistingImport/_ImportList":function(){define("anaplan/anapediaKeys anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/widgets/HelpBox dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_WidgetBase dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/has dojo/i18n!anaplan/nls/imports dojo/i18n!anaplan/nls/runExistingImport dojo/i18n!dijit/nls/common dojo/json dojo/on dojo/text!anaplan/templates/RunExistingImport/ImportList.html anaplan/widgets/MasterSelector anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){return d([e,n,m,h],{baseClass:"runExistingImport_ImportList",templateString:A,constructor:function(a){this._selection=null;this._workspaceId=a.workspaceId||null;this._modelId=a.modelId||null;this._moduleEntityLongId=a.moduleEntityLongId||-1;this._withSelect=a.withSelect;this._dataPage=this._rowLabelPage=null;this._importCount=0},uninitialize:function(){},getSelectedImport:function(){return this._selection},onClose:function(){},onEdit:function(){},
onHelpChange:function(){},onModelSourceRequired:function(){},_onShow:function(){try{this.onHelpChange(l.importDialog),this.importList.focus()}catch(a){s.showErrorReporter(new q.ClientException("RunExistingImport._ImportList: onShow",a,{widgetId:this.id}))}},onTitleChange:function(){},postCreate:function(){try{this.inherited(arguments),this.runButton.set("label",z.buttonRun),this.closeButton.set("label",y.itemClose),this.runButton.set("disabled",!0),s.setText(this.importListInstructions,z.labelImportListInstructions),
s.setText(this.fileUploadInstructions,z.labelFileUploadInstructions),this._recreateFileInput(),t.set(this.runButton.domNode,"display",this._withSelect?"":"none"),r.set(this.isTemporaryInput,{value:!0})}catch(a){s.throwClientException(this,a)}},update:function(a){try{var b=a.rowLabelPages[0];b&&(this._rowLabelPage=b);var d=a.dataPages[0];d&&(this._dataPage=d);var e=f.entityLongIdToEntityLongIdIdentifier(this._moduleEntityLongId);a=0;for(var b=[],d=[],g=[],h=0;h<this._dataPage.rowCount;h++){var k=this._dataPage.cellValues[h];
if(k){var r=w.parse(k);if(r){var m=r.target;if(m&&m==e){var n=this._rowLabelPage.entityLongIds[0][h],t=this._rowLabelPage.entityIds[0][h],l=this._rowLabelPage.labels[0][h];a++;b=b.concat([n]);d=d.concat([t]);g=g.concat([l])}}}}e={count:a,entityLongIds:[b],entityIds:[d],labels:[g]};this.importList.set("labelPage",e);this._importCount=a;null!=this._selection?(this.importList.set("value",{value:null}),this._selection=null):e&&0<e.entityLongIds[0].length&&this.importList.set("value",{value:e.entityLongIds[0][0]})}catch(u){s.throwClientException(this,
u)}},getImportCount:function(){return this._importCount},onRunImport:function(){},onUploadStart:function(){},onUploadFinish:function(){},onRemove:function(){},_recreateFileInput:function(){try{this.fileInput&&(this._fileInputChangeListener&&this._fileInputChangeListener.remove(),this._fileInputFocusListener&&this._fileInputFocusListener.remove(),b.destroy(this.fileInput)),this.fileInput=b.create("input",{type:"file",name:"uploadedfile",size:"80",className:"fileInput"},this.fileInputDiv),this._fileInputChangeListener=
x(this.fileInput,"change",a.hitch(this,"_onFileChange")),this._fileInputFocusListener=x(this.fileInput,"focus",a.hitch(this,"_onFileFocus")),this.own(this._fileInputChangeListener,this._fileInputFocusListener)}catch(d){s.throwClientException(this,d)}},_onClose:function(){this.onClose()},_onEdit:function(){this.onEdit(this._selection)},_onFileChange:function(){this.onFileChange()},onFileChange:function(){},_onFileFocus:function(){var a=this;u("ie")&&setTimeout(function(){a.fileInput.focus()},1E3)},
_onRemove:function(){this.onRemove(this._selection)},_onRunImport:function(){if(null!=this._selection)this.onRunImport()},_onSelectionChange:function(a,b){try{if(null===a)this._selection=null;else{var d=g.indexOf(this._rowLabelPage.entityLongIds[0],a);this._selection={entityLongId:a,label:b,definitionJson:this._dataPage.cellValues[d]}}this.onSelectionChange()}catch(e){s.throwClientException(this,e)}},onSelectionChange:function(){}})})},"anaplan/dashboard/dashboardWidgets/_HierarchyGridlet":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/view/Export anaplan/widgets/PopupMenuItem anaplan/data/ModelContentHelper anaplan/gridlet/GridletFactory anaplan/Exceptions anaplan/widgets/Menu anaplan/utils/EntityLongIdHelper anaplan/utils/SelectionHelper anaplan/dashboard/dashboardWidgets/_Gridlet anaplan/data/ModelContentCache dojo/_base/declare dojo/topic dojo/json dojo/on dojo/_base/array dojo/_base/lang dojo/i18n!anaplan/nls/toolbar dojo/dom-style dojo/i18n!anaplan/nls/exportLabels".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){function x(k){return a([k,g],{baseClass:"treelet pageSelector gridhost",onSelectionChange:function(a){this.inherited(arguments);if(a&&a.isWholeRowSelected()){var b=this.getGridController(),d=this._model;clearTimeout(this._pageChangeTimeout);var g=this.id;this._pageChangeTimeout=setTimeout(function(){var f=e.getGlobalContext(a,b.getContext());if(f){var h=d.getViewDefinition().staticContextIdentifiers;f[1]=h[0];f.push(g);r.publish.apply(null,["anaplan/global/context"].concat(f));
s.gather()}},250)}},populateToolbarButtons:function(a){this.inherited(arguments);this._canMaintain()&&(this._insertButton=this._createInsertButton(),this._deleteButton=this._createDeleteButton(),this._moveButton=this._createMoveButton(),a.addChild(this._insertButton,0),a.addChild(this._deleteButton,1),a.addChild(this._moveButton,2))},setMenuToolbarOptions:function(a){this.inherited(arguments);var d=b.parse(a);u.forEach(["Insert","Delete","Move"],v.hitch(this,function(a){var b="_"+a.toLowerCase()+
"Button";this.hasOwnProperty(b)&&y.set(this[b].domNode,"display",!0===d["menuItem"+a]&&!0===d.showToolbar?"":"none")}));this._dataMenu&&this._setMenuToolbarOptionsDisplay(["Import","Export"],d,this._dataMenu)},_createDataMenu:function(a){try{var b=new m({parentMenu:a});this._importMenuItem=this._createImportMenuItem(!0);this._exportMenuItem=this._createExportMenuItem();b.addChild(this._importMenuItem);b.addChild(this._exportMenuItem);var d=new q({label:z.menuData,popup:b});a.addChild(d);return d}catch(e){throw new n.ClientException("anaplan.dashboard._HierarchyGridlet._createDataMenu",
e);}},_displayExportDialog:function(){try{var a=this._model,b=a.getViewDefinition(),e=h.entityLongIdIdentifierToEntityLongId(b.staticContextIdentifiers[0]),g=f.getHierarchyId(d,e),k=l.getSharedDialog({roles:["hierarchy-gridlet-export","export"]}),r=new p({modelId:modelId,viewDefinition:b,pageInfo:a.getPageInfo(),hierarchyId:g});k.set("title",w.titleExport);k.set("refocus",!1);k.set("content",r.domNode);this.own(t(r,"AfterExport",function(){k.hide()}));this.own(t(r,"Cancel",function(){k.onCancel()}));
k.show()}catch(m){m instanceof n.UnsupportedOperationException?l.showErrorReporter(m,!0):l.showErrorReporter(new n.ClientException("anaplan.dashboard._HierarchyGridlet._displayExportDialog",m))}}})}return{create:function(a,b){var d=(new k).getBaseClass({useGrid2:!1});return new (x(d))(a)}}})},"anaplan/widgets/Dialog2":function(){define("anaplan/widgets/_DialogRoleMixin anaplan/widgets/_WidgetMixin anaplan/utils/UrlHelper dijit/Dialog dijit/DialogUnderlay dijit/layout/ContentPane dijit/focus dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/fx dojo/_base/lang dijit/registry dojo/Deferred dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx/easing dojo/has dojo/i18n!anaplan/nls/dialog2 dojo/keys dojo/on dojo/text!anaplan/templates/Dialog2.html dojo/topic dojo/window dojo/sniff anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C){l=h("anaplan.widgets.Dialog2",[k,q._DialogBase,s,l],{parseOnLoad:!1,templateString:E,constructor:function(a){this._drawerConfig={verticalGap:20,defaultWidth:280,percentageWidth:0};this.roles=a&&a.roles||[]},hide:function(a,b){var d=this,e=b||!1,g;if(!e&&this.preventhide)this.onHidePrevented(),g=new r,g.resolve();else{if(!e&&!this._onBeforeHide())return g=new r,g.resolve(),g;if(this._isHelpDrawerOpen())return this._hideHelpDrawer(function(){d.hide(e)}),
g=new r,g.resolve(),g;this._stopResizeMonitor();this._disconnectDocumentKeyDownHandler();this._disconnectHelpChangeHandler();this._disconnectTitleChangeHandler();this._disconnectContentChangeHandler();this._disconnectPageTransitionHandler();this._unsubscribeToDragStart();g=this.inherited(arguments);this._onHide()}return g},preventhide:!1,_setPreventHideAttr:function(a){this._set("preventhide",a)},onHidePrevented:function(){},layout:function(){"none"!==this.domNode.style.display&&(f._singleton&&f._singleton.layout(),
w("ios")||this._position());this._onMoved(null,v.getMarginBox(this.domNode))},postCreate:function(){this.inherited(arguments);t.add(this.domNode,"anaplanDialog");this._createHelpDrawer();this.setText(this.helpButton,x.buttonHelp);b.set(this.helpButton,"label",x.tooltipHelp);(w("ios")||w("android"))&&this.own(D(this.helpButton,"touchstart",d.hitch(this,function(a){e.stop(a);this._onHelpButtonClick(a)})));this.own(D(this.domNode,"contextmenu",d.hitch(this,function(a){this.allowOnContextMenuEventPropagation(a)||
a.stopPropagation()})))},reset:function(){this._clearHelpDrawer();this._drawerConfig.percentageWidth=0;this.set("refocus",!0);this._size();this.set("content",null);z.set(this.titleBar,"display","")},setDrawerPercentageWidth:function(a){this._drawerConfig.percentageWidth=a},setHelpContent:function(a,b){this._setHelpContent(a);b&&this.setDrawerPercentageWidth(b);z.set(this.helpButton,"display",a?"":"none");t.toggle(this.titleNode,"whatsThis",!!a)},show:function(){var a=this._getContentWidget(),b,e;
if(a)return a.selectChild&&this._connectPageTransitionHandler(a),a.onHelpChange&&this._connectHelpChangeHandler(a),a.onTitleChange&&this._connectTitleChangeHandler(a),a.onContentChange&&this._connectContentChangeHandler(a),b=d.hitch(this,function(){(w("safari")||w("chrome")||w("ie")||w("ff")||w("trident"))&&this._connectDocumentKeyDownHandler();this._moveable&&(this._connectOnMovedHandler(),this._subscribeToDragStart());this._isCentredInViewport()||this._centreInViewport();if(a.onDialogShow)a.onDialogShow();
this._addRoleClasses()}),(e=this.inherited(arguments))?e=e.then(b):b(),e},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments);z.set(this.domNode,{top:0,left:0});this.own(D(this.closeButtonNode,"mousedown",d.hitch(this,"_onCloseButtonMouseDown")))},uninitialize:function(){this._resizeMonitorHandle&&(clearInterval(this._resizeMonitorHandle),this._resizeMonitorHandle=null);this._unsubscribeToDragStart();this._disconnectOnMovedHandler();this._disconnectDocumentKeyDownHandler();
this._disconnectHelpChangeHandler();this._disconnectTitleChangeHandler();this._disconnectPageTransitionHandler();this._helpDrawer.destroy();m.forEach(this.getChildren(),function(a){a.destroy&&a.destroy()});this.inherited(arguments)},_isCentredInViewport:function(){var a=C.getBox(),b=v.getMarginBox(this.domNode);return a&&b&&(a.h-b.h)/2===Math.floor(b.t)?!0:!1},_centreInViewport:function(a){var b=this._isHelpDrawerOpen(),d=C.getBox(),e=v.getMarginBox(this.domNode),f=e.w,h=e.h,k=null;if(!(0===f&&0===
h)&&(b&&(k=v.getMarginBox(this._helpDrawer.domNode),f=k.l+k.w-e.l),f=Math.floor(d.l+(d.w-f)/2),d=Math.floor(d.t+(d.h-h)/2),f!==e.l||d!==e.t))b&&(a?g.animateProperty({node:this._helpDrawer.domNode,properties:{left:{start:k.l,end:f+this._openHelpDrawerOffset.l},top:{start:k.t,end:d+this._openHelpDrawerOffset.t}},easing:y.sineOut}).play():z.set(this._helpDrawer.domNode,{left:f+this._openHelpDrawerOffset.l+"px",top:d+this._openHelpDrawerOffset.t+"px"})),a?g.animateProperty({node:this.domNode,properties:{left:{start:e.l,
end:f},top:{start:e.t,end:d}},easing:y.sineOut}).play():z.set(this.domNode,{left:f+"px",top:d+"px"})},_clearHelpDrawer:function(){this._helpDrawer.set("content",null);z.set(this.helpButton,"display","none")},_createHelpDrawer:function(){this._helpDrawer=new k({"class":"helpDrawer dijitDialog",style:"display: none;",parseOnLoad:!1});u.place(this._helpDrawer.domNode,document.body)},_connectDocumentKeyDownHandler:function(){this._documentKeyDownHandle=D(this.domNode,"keydown",d.hitch(this,"_documentKeyDownHandler"))},
_connectHelpChangeHandler:function(a){this._onHelpChangeHandler=D(a,"helpChange",d.hitch(this,"setHelpContent"))},_connectOnMovedHandler:function(){this._moveable&&(this._onMovedHandler=D(this._moveable,"Moved",d.hitch(this,"_onMoved")))},_connectPageTransitionHandler:function(a){this._onPageTransitionHandler=D(a,"selectchild",d.hitch(this,"_onStackContainerPageTransition"))},_connectTitleChangeHandler:function(a){this._onTitleChangeHandler=D(a,"titleChange",d.hitch(this,"_setTitle"))},_connectContentChangeHandler:function(a){this._onContentChangeHandler=
D(a,"contentChange",d.hitch(this,"_contentChange"))},_disconnectDocumentKeyDownHandler:function(){this._documentKeyDownHandle&&(this._documentKeyDownHandle.remove(),this._documentKeyDownHandle=null)},_disconnectHelpChangeHandler:function(){this._onHelpChangeHandler&&(this._onHelpChangeHandler.remove(),this._onHelpChangeHandler=null)},_disconnectOnMovedHandler:function(){this._onMovedHandle&&(this._onMovedHandle.remove(),this._onMovedHandle=null)},_disconnectPageTransitionHandler:function(){this._onPageTransitionHandler&&
(this._onPageTransitionHandler.remove(),this._onPageTransitionHandler=null)},_disconnectTitleChangeHandler:function(){this._onTitleChangeHandler&&(this._onTitleChangeHandler.remove(),this._onTitleChangeHandler=null)},_disconnectContentChangeHandler:function(){this._onContentChangeHandler&&(this._onContentChangeHandler.remove(),this._onContentChangeHandler=null)},_documentKeyDownHandler:function(a){a.keyCode&&a.keyCode===A.ESCAPE&&(this.onCancel(),e.stop(a));a.stopPropagation()},_endDrag:function(a){this.inherited(arguments);
a&&(a.node&&a.node===this.domNode)&&(z.set(this.domNode,"opacity",1),z.set(this._helpDrawer.domNode,"opacity",1))},_fixHelpDrawerHeight:function(){var a=v.getMarginBox(this.domNode);v.setMarginBox(this._helpDrawer.domNode,{h:a.h-2*this._drawerConfig.verticalGap});this._helpDrawer.resize()},_getContentWidget:function(){var a=this.getChildren();return a&&0<a.length?a[0]:null},_hideHelpDrawer:function(a){var b=this,d=v.position(this._helpDrawer.domNode);g.animateProperty({node:this._helpDrawer.domNode,
properties:{width:{start:d.w,end:0}},easing:y.sineIn,onEnd:function(){z.set(b._helpDrawer.domNode,"display","none");a&&a();b._keepInViewport(!0)}}).play()},_isHelpDrawerOpen:function(){return"none"!==z.get(this._helpDrawer.domNode,"display")},_keepInViewport:function(a){this._relativePosition?this._nudgeIntoViewport(a):this._centreInViewport(a)},_nudgeIntoViewport:function(a){var b=this._isHelpDrawerOpen(),d=C.getBox(),e=v.getMarginBox(this.domNode),f=e.l,h=e.t,k,r,m;0>e.t&&(h=0);0>e.l&&(f=0);e.t+
e.h>d.h&&(h=d.h-e.h);k=e.l+e.w;r=e.w;m=null;b&&(m=v.getMarginBox(this._helpDrawer.domNode),k=m.l+m.w,r=k-e.l);k>d.w&&(f=d.w-r);if(f!==e.l||h!==e.t)b&&(a?g.animateProperty({node:this._helpDrawer.domNode,properties:{left:{start:m.l,end:f+this._openHelpDrawerOffset.l},top:{start:m.t,end:h+this._openHelpDrawerOffset.t}},easing:y.sineOut}).play():z.set(this._helpDrawer.domNode,{left:f+this._openHelpDrawerOffset.l+"px",top:h+this._openHelpDrawerOffset.t+"px"})),a?g.animateProperty({node:this.domNode,properties:{left:{start:e.l,
end:f},top:{start:e.t,end:h}},easing:y.sineOut}).play():z.set(this.domNode,{left:f+"px",top:h+"px"})},_onBeforeHide:function(){var a=this._getContentWidget();return a&&a.onBeforeDialogHide?a.onBeforeDialogHide():!0},_onCloseButtonMouseDown:function(a){e.stop(a)},_onHelpButtonClick:function(){this._anapediaKey?window.open(p.createAnapediaUrl(this._anapediaKey),"_blank"):this._isHelpDrawerOpen()?this._hideHelpDrawer():this._showHelpDrawer()},_onHelpButtonMouseDown:function(a){e.stop(a)},_onHide:function(){var a=
this._getContentWidget();if(a&&a.onDialogHide)a.onDialogHide();t.remove(this.domNode,"qa-dialog-is-displayed")},_onMoved:function(a,b){this._isHelpDrawerOpen()&&z.set(this._helpDrawer.domNode,{left:b.l+this._openHelpDrawerOffset.l+"px",top:b.t+this._openHelpDrawerOffset.t+"px"})},_onStackContainerPageTransition:function(){this._keepInViewport(!1);this.resize();this._isHelpDrawerOpen()&&this._fixHelpDrawerHeight()},_position:function(){"hidden"===z.set(this.domNode,"visibility")?this.inherited(arguments):
t.contains(document.body,"dojoMove")||this._keepInViewport(!1)},_setHelpContent:function(a){"string"===typeof a?(this._helpDrawer.set("content",null),this._anapediaKey=a):(this._helpDrawer.set("content",a),this._anapediaKey=null)},_setTitle:function(a){this.set("title",a)},_contentChange:function(){this._centreInViewport()},_showHelpDrawer:function(){var a=this,b=v.position(this.domNode),d,e,f;d=this._drawerConfig.defaultWidth;this._drawerConfig.percentageWidth&&(d=b.w*this._drawerConfig.percentageWidth/
100);e=b.h-2*this._drawerConfig.verticalGap;f={h:e,w:d,l:b.x+b.w,t:b.y+this._drawerConfig.verticalGap};v.setMarginBox(this._helpDrawer.domNode,f);this._openHelpDrawerOffset={l:f.l-b.x,t:f.t-b.y};b=this._helpDrawer.getChildren();0<b.length&&v.setMarginBox(b[0].domNode,{w:d-10,h:e-12});g.animateProperty({node:this._helpDrawer.domNode,properties:{width:{start:0,end:d}},easing:y.sineOut,onPlay:function(){z.set(a._helpDrawer.domNode,"display","")},onEnd:function(){a._keepInViewport(!0)}}).play()},_startDrag:function(a){a&&
(a.node&&a.node===this.domNode)&&(z.set(this.domNode,"opacity",0.5),z.set(this._helpDrawer.domNode,"opacity",0.5))},_startResizeMonitor:function(){var a=this;this._resizeMonitorMarginBox=v.getMarginBox(this.domNode);this._resizeMonitorHandle=setInterval(function(){var b=a._resizeMonitorMarginBox,d=v.getMarginBox(a.domNode);if(b.w!==d.w||b.h!==d.h)z.set(a._helpDrawer.domNode,"display","none"),a._keepInViewport(!1);a._resizeMonitorMarginBox=d},500)},_stopResizeMonitor:function(){this._resizeMonitorHandle&&
clearInterval(this._resizeMonitorHandle)},_subscribeToDragStart:function(){this._dragStartHandle=B.subscribe("dnd/move/start",d.hitch(this,"_startDrag"))},_unsubscribeToDragStart:function(){this._dragStartHandle&&(this._dragStartHandle.remove(),this._dragStartHandle=null)}});h=h(null,{destroy:function(){if(n.curNode){var b=a.getEnclosingWidget(n.curNode);b&&b.displayMessage&&b.displayMessage()}this.inherited(arguments)},onBeforeDialogHide:function(){return!0},onDialogHide:function(){},onDialogShow:function(){},
onHelpChange:function(){},onTitleChange:function(){},onContentChange:function(){}});l.ContentMixin=h;return l})},"anaplan/api/SystemActions/StartSyncCompareRevisions":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.targetModelId)||p.isEmptyString(this._params.targetModelId)?f.errors.targetModelIdRequired:
!p.isString(this._params.sourceModelId)||p.isEmptyString(this._params.sourceModelId)?f.errors.sourceModelIdRequired:!p.isString(this._params.targetWorkspaceId)||p.isEmptyString(this._params.targetWorkspaceId)?f.errors.targetWorkspaceIdRequired:!p.isString(this._params.sourceWorkspaceId)||p.isEmptyString(this._params.sourceWorkspaceId)?f.errors.sourceWorkspaceIdRequired:!p.isString(this._params.sourceRevisionId)||p.isEmptyString(this._params.sourceRevisionId)?f.errors.sourceRevisionIdRequired:!p.isString(this._params.targetRevisionId)||
p.isEmptyString(this._params.targetRevisionId)?f.errors.targetRevisionIdRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.START_COMPARE_REVISIONS,params:{targetModelId:this._params.targetModelId,targetWorkspaceId:this._params.targetWorkspaceId,sourceModelId:this._params.sourceModelId,sourceWorkspaceId:this._params.sourceWorkspaceId,sourceRevisionId:this._params.sourceRevisionId,targetRevisionId:this._params.targetRevisionId,tokenScheme:this._params.tokenScheme,
tokenValue:this._params.tokenValue}}}})})},"anaplan/gridlet/_editor/dataTypes/FilteredList/ExampleData":function(){define("anaplan/utils/FormatHelper anaplan/data/DataLoaders/list dojo/Deferred anaplan/utils/JsHelper dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/html dojo/_base/lang dojo/_base/array dojo/text!anaplan/templates/DataType/ExampleData.html dojo/NodeList-traverse dijit/form/TextBox anaplan/widgets/Button anaplan/widgets/FlatButton".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return f("anaplan.view.ReOrder",[k,n,m],{templateString:d,baseClass:"dataTypeExamples",constructor:function(a){},loadData:function(a,d){this._loadExamplesForDriver(a,d)},clear:function(){h.set(this.splitter,"");h.set(this.driverExamples,"");h.set(this.filterExamples,"")},_loadExamplesForDriver:function(a,d){this.clear();this._fetchExampleData(a,d).then(e.hitch(this,function(a){for(var d=5>a.length?a.length:5,e="",g="",f="",k=0;k<d;k++)e+="\x3ctr\x3e\x3ctd\x3e"+l.cleanEscapeHTML(a[k].driver)+
"\x3c/td\x3e\x3c/tr\x3e",f+="\x3ctr\x3e\x3ctd\x3e"+l.cleanEscapeHTML(a[k].filters)+"\x3c/td\x3e\x3c/tr\x3e",g+="\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e";h.set(this.splitter,g);h.set(this.driverExamples,e);h.set(this.filterExamples,f)}),e.hitch(this,function(a){console.error(this.id,"_loadExamplesForDriver",a)}))},_fetchExampleData:function(a,d){var b=new p;this._fetchExampleDataForDriver(a).then(e.hitch(this,function(a){try{a.entityLongIds&&0<a.entityLongIds.length&&this._fetchExampleDataForTarget(a.entityLongIds[0],
d).then(e.hitch(this,function(d){var e=[],f;for(f in d)if(q.has(d,f)){var h=g.indexOf(a.entityLongIds[0],f);e.push({driver:a.labels[0][h],filters:d[f].join(", ")})}b.resolve(e)}))}catch(f){b.reject(f)}}));return b.promise},_fetchExampleDataForDriver:function(a){var d=new p;a&&s.getUnfilteredHierarchyLabelPages(a,5).then(e.hitch(this,function(a){q.isArray(a)&&d.resolve(a[0])}));return d.promise},_fetchExampleDataForTarget:function(a,d){var b=new p,f={};s.getSampleLabelPages(d,a,3).then(e.hitch(this,
function(d){q.isArray(d)&&0<d.length&&g.forEach(d,e.hitch(this,function(b,d){var e=q.compact(b.labels[0]);e&&3<e.length&&(e[3]="...");e&&0<e.length&&(f[a[d]]=e)}));b.resolve(f)}),function(a){b.reject(a)});return b.promise}})})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(l,s,p,q){var f={};l.mixin(q,{foldl:function(k,n,m,h){"string"==typeof k&&(k=k.split(""));h=h||p.global;n=q.lambda(n);var e,g;if(l.isArray(k)){e=0;for(g=
k.length;e<g;m=n.call(h,m,k[e],e,k),++e);}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(e=0;k.hasNext();m=n.call(h,m,k.next(),e++,k));else for(e in k)e in f||(m=n.call(h,m,k[e],e,k));return m},foldl1:function(k,n,m){"string"==typeof k&&(k=k.split(""));m=m||p.global;n=q.lambda(n);var h,e,g;if(l.isArray(k)){h=k[0];e=1;for(g=k.length;e<g;h=n.call(m,h,k[e],e,k),++e);}else if("function"==typeof k.hasNext&&"function"==typeof k.next){if(k.hasNext()){h=k.next();for(e=1;k.hasNext();h=
n.call(m,h,k.next(),e++,k));}}else for(e in g=!0,k)e in f||(g?(h=k[e],g=!1):h=n.call(m,h,k[e],e,k));return h},foldr:function(f,n,m,h){"string"==typeof f&&(f=f.split(""));h=h||p.global;n=q.lambda(n);for(var e=f.length;0<e;--e,m=n.call(h,m,f[e],e,f));return m},foldr1:function(f,n,m){"string"==typeof f&&(f=f.split(""));m=m||p.global;n=q.lambda(n);for(var h=f.length,e=f[h-1],h=h-1;0<h;--h,e=n.call(m,e,f[h],h,f));return e},reduce:function(f,n,m){return 3>arguments.length?q.foldl1(f,n):q.foldl(f,n,m)},
reduceRight:function(f,n,m){return 3>arguments.length?q.foldr1(f,n):q.foldr(f,n,m)},unfold:function(f,n,m,h,e){e=e||p.global;n=q.lambda(n);m=q.lambda(m);f=q.lambda(f);for(var g=[];!f.call(e,h);g.push(n.call(e,h)),h=m.call(e,h));return g}})})},"anaplan/widgets/_PagingPageSelectorDropdown":function(){define("anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/layout/ContentPane anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper anaplan/utils/SelectorFactory anaplan/utils/SubmissionHandler anaplan/utils/UIHelper anaplan/widgets/PageSelectorHelper anaplan/widgets/SearchableGridSelector anaplan/widgets/SearchableTreeSelector dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/json".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return r([q],{DEFAULT_SCROLL_BAR_TRACK_WIDTH:16,constructor:function(a){this._currentPageEntityLongId=a.currentPageEntityLongId;this._currentPageLabel=a.currentPageLabel;this._model=a.model;this._pageAxisIdentifier=a.pageAxisIdentifier;this._pageInfo=a.pageInfo;this._pageLabelIndex=a.pageLabelIndex;this._searchableSelector=null},postCreate:function(){this.inherited(arguments);v.add(this.domNode,"pagingPageSelectorDropdown")},focus:function(){k.isNullOrUndefined(this._searchableSelector)||
this._searchableSelector.focus();this.inherited(arguments)},onOpen:function(){try{var a=this.domNode.parentNode;if("scroll"===y.get(a,"overflowY")){var d=z.getContentBox(a);this.resize({h:d.h,w:d.w});y.set(a,"overflowY","auto")}var g=this._pageInfo,f=this._pageLabelIndex;if(-1===this._currentPageEntityLongId)this.set("content",e.getInvalidSelectionTooltip(g,f));else if(this.set("content",e.getLoadingMessage()),this._assertStaticContext(g))if(this._assertPageAxisSpecification(g,f)){var k=e.getContentViewDefinitionForPageInfo(g,
f);this._getLabelPageRequestForContentViewDefinition(k).then(b.hitch(this,function(a){if(this.domNode&&!(0>=z.getMarginBox(this.domNode).w)){var d=a.request;a=a.totalRowCount;try{if(-1===d.labelPageRequest.count&&a<=l.TREE_LIMIT){var g=e.getContentViewRequestWithLabelPageRequest(k,d.labelPageRequest);(new m({showPleaseWait:!1})).post([],[g],[]).then(b.hitch(this,function(a){try{if(this.domNode&&!(0>=z.getMarginBox(this.domNode).w)){var b=a.result.viewRequestResults[0],d=b.rowLabelPages[0];b.rowCount===
d.count?this._searchableSelector=this.createSearchableTreeSelector({pageAxisIdentifier:this._pageAxisIdentifier,labelPage:d,selectedEntityLongId:this._currentPageEntityLongId}):(console.warn(this.id,"expected to find all rows returned as single label page"),this._fallbackToUsingIndexSelectorMap())}}catch(e){console.error(e)}}),b.hitch(this,function(a){h.showErrorReporter(new p.ClientException("anaplan.widgets._PagingPageSelectorDropdown failed to retrieve contentView",a,{pageAxisIdentifier:this._pageAxisIdentifier}))}))}else this._searchableSelector=
this.createSearchableGridSelector({viewDefinition:k,startPageIndex:d.labelPageRequest.start,rowLabelWidth:this._contentBox.w-this.DEFAULT_SCROLL_BAR_TRACK_WIDTH-2,selectedRowIndex:d.selectedRowIndex,selectedEntityLongId:this._currentPageEntityLongId})}catch(f){console.warn("anaplan.widgets._PagingPageSelectorDropdown failed to create selector using request",d),h.showErrorReporter(new p.ClientException("anaplan.widgets._PagingPageSelectorDropdown failed to create selector using request",f,{pageAxisIdentifier:this._pageAxisIdentifier}))}}}),
b.hitch(this,function(a){h.showErrorReporter(new p.ClientException("anaplan.widgets._PagingPageSelectorDropdown failed to get label page request",a,{pageAxisIdentifier:this._pageAxisIdentifier}))}))}else this._fallbackToUsingIndexSelectorMap();else this._fallbackToUsingIndexSelectorMap()}catch(r){h.showErrorReporter(new p.ClientException("anaplan.widgets._PagingPageSelectorDropdown onOpen",r,{pageAxisIdentifier:this._pageAxisIdentifier}))}},onPageSelectionChange:function(a,b){},_assertPageAxisSpecification:function(a,
d){return!b.exists("pageAxisSpecifications",a)?(console.warn(this.id,"expected to find pageInfo with pageAxisSpecifications and found",a),!1):a.pageAxisSpecifications.length<d?(console.warn(this.id,"expected to find pageAxisSpecification for page label index and found",a.pageAxisSpecifications,d),!1):!b.exists("axisDefinition",a.pageAxisSpecifications[d])?(console.warn(this.id,"expected to find axisDefinition for pageAxisSpecification and found",a.pageAxisSpecifications[d]),!1):!0},_assertStaticContext:function(d){if(!b.exists("staticContext.entityLongIds",
d))return console.warn(this.id,"expected to find pageInfo with staticContext with entityLongIds and found",d),!1;if(1>d.staticContext.entityLongIds.length)return console.warn(this.id,"expected to find single array of entityLongIds in static context and found",d.staticContext.entityLongIds),!1;d=d.staticContext.entityLongIds[0];if(1>d.length)return console.warn(this.id,"expected to find at least one entityLongId in single array in static context and found",d),!1;var e=f.getEntityTypeIndex(d[0]);return-1===
a.indexOf([l.MODULE_ENTITY_TYPE_INDEX,l.HIERARCHY_ENTITY_TYPE_INDEX,l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX,l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX],e)?(console.warn(this.id,"unexpected first staticContextEntityLongId",d),!1):!0},createSearchableGridSelector:function(a){a=new g(a);this._clearLoading();this.addChild(a);this.own(a.on("SelectionChange",b.hitch(this,function(a){this.onPageSelectionChange(a,this._pageAxisIdentifier)}),!0));a.resize(this._contentBox);return a},createSearchableTreeSelector:function(a){a=
new d(a);this._clearLoading();this.addChild(a);this.own(a.on("SelectionChange",b.hitch(this,function(a){this.onPageSelectionChange(a,this._pageAxisIdentifier)}),!0));a.resize(this._contentBox);return a},_clearLoading:function(){this.set("content")},_createSelectorUsingFactory:function(a){this._clearLoading();a=n.createPageSelector({labelPage:a,pageAxisIdentifier:this._pageAxisIdentifier,pageSelectorEntityLongId:this._currentPageEntityLongId,dialog:this,disabled:!1});this.own(t.after(a,"onPageSelectionChange",
b.hitch(this,"onPageSelectionChange"),!0))},_fallbackToUsingIndexSelectorMap:function(){console.warn(this.id,"falling back to use indexSelectorMap");this._getLabelPageUsingIndexSelectorMap().then(b.hitch(this,function(a){this.domNode&&!(0>=z.getMarginBox(this.domNode).w)&&this._createSelectorUsingFactory(a)}),b.hitch(this,function(a){h.showErrorReporter(new p.ClientException("anaplan.widgets._PagingPageSelectorDropdown._fallbackToUsingIndexSelectorMap",a,{pageAxisIdentifier:this._pageAxisIdentifier}))}))},
_getLabelPageUsingIndexSelectorMap:function(){var a=new u,b=f.getEntityTypeIndex(this._currentPageEntityLongId),b=f.getEntityTypeEntityLongId(b);this._model.getPageSelectorLabelPage(b,function(b){a.resolve(b)},function(b){a.reject(b)});return a.promise},_getLabelPageRequestForContentViewDefinition:function(d){var g=new u,f={selectedRowIndex:-1,labelPageRequest:{start:0,count:-1}};if(s.axisSpecificationContainsTime(d.rowAxisSpecification)||s.axisSpecificationContainsVersion(d.rowAxisSpecification)||
s.axisSpecificationContainsLineItems(d.rowAxisSpecification)||s.axisSpecificationContainsLineItemSubset(d.rowAxisSpecification))g.resolve({request:f,totalRowCount:-1});else{var h={actionId:"VIEW_SEARCH",params:{modelId:window.modelId,searchString:this._currentPageLabel,viewDefinitionJsonString:w.stringify(d),viewIndex:-1}};d=e.getContentViewRequestWithLabelPageRequest(d,{start:0,count:1});(new m({showPleaseWait:!1})).post([],[d],[h]).then(b.hitch(this,function(b){var d=b.result.viewRequestResults[0].rowCount;
1>d&&console.warn(this.id,"expected to find at least one row and instead",d);b=b.result.systemActionResults[0].rowLabelPageFilter;var e=0;1<b.length&&(e=a.indexOf(b.entityLongIds,this._currentPageEntityLongId),-1===e&&(console.warn(this.id,"failed to find currentPageEntityLongId in row label page filter",b),g.resolve({request:f,totalRowCount:d})));b=b.indices[e];d>l.TREE_LIMIT&&(f={selectedRowIndex:b,labelPageRequest:{start:Math.floor(b/l.TREE_LIMIT)*l.TREE_LIMIT,count:l.TREE_LIMIT}});g.resolve({request:f,
totalRowCount:d})}),function(a){g.reject(a)})}return g.promise}})})},"anaplan/widgets/ListCellSelector":function(){define("anaplan/utils/JsHelper dijit/form/ComboBox dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/has dojo/keys dojo/on dojo/sniff".split(" "),function(l,s,p,q,f,k,n,m){return p(s,{pageSize:k("ios")||k("android")?50:200,required:!1,validationEnabled:!0,isValid:function(f){return this.validationEnabled&&!this.required&&""===this.get("value")?!0:this.validationEnabled&&f&&0===
f.length?!1:this.validationEnabled&&l.isObject(this.store.objectStore)?0<this.store.objectStore.query({label:this.get("value")}).length:this.validationEnabled&&this.store.containsLabel?this.store.containsLabel(this.get("value")):this.validationEnabled?this.inherited(arguments):!0},onSearch:function(f,e){this.validationEnabled&&this.validate(f);this.inherited(arguments)},onCancelEdit:function(){},onEnterKey:function(){},onTabKey:function(){},postCreate:function(){this.inherited(arguments);this.own(m(this,
"keydown",f.hitch(this,"_onEditorKeyDown")))},refreshSearch:function(){this._startSearch(this._lastInput||this.get("displayedValue")||"")},showList:function(){this.displayList(this._lastInput||this.get("displayedValue")||"")},displayList:function(){this._startSearchAll()},_onEditorKeyDown:function(f){switch(f.keyCode){case n.ENTER:if(this.isValid())this.onEnterKey(f);else q.stop(f);break;case n.TAB:if(this.isValid())this.onTabKey(f);else q.stop(f)}},_onKey:function(f){switch(f.keyCode){case n.ESCAPE:this._ignoreDummyKeyPress=
!0;this.displayMessage("");this.closeDropDown();this.onCancelEdit(f);q.stop(f);return}this._ignoreDummyKeyPress||this.inherited(arguments);this._ignoreDummyKeyPress=!1},getItem:function(){if(this.store&&this.store.objectStore){var f={label:this.getValue()},f=this.store.objectStore.query(f);return 1===f.length?f[0]:1<f.length&&this.initialItem&&this.initialItem.label===this.getValue()?this.initialItem:f}return null},setInitialItemById:function(f){f&&(this.store&&this.store.objectStore)&&(f=l.tryParseInt(f),
f=this.store.objectStore.query({entityLongId:f}),1===f.length&&(this.initialItem=f[0]))}})})},"anaplan/view/Move":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/on anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ChangeFactory anaplan/data/RequestFactory anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/widgets/Dialog2 anaplan/widgets/MasterSelector dojo/text!anaplan/templates/Move.html dojo/i18n!anaplan/nls/move dojo/i18n!dijit/nls/common anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){return n([z.ContentMixin,q,p,f],{templateString:w,baseClass:"move",constructor:function(a){this._selectedItems=a.selectedItems;this._moduleId=a.moduleId||null;this._hierarchyId=a.hierarchyId||null;this._viewDefinition=a.viewDefinition;this._serialNumbers=new d},error:function(){return!1},onCancel:function(){},onDialogShow:function(){try{this._selector.resize()}catch(a){l.throwClientException(this,a)}},onMove:function(){},postCreate:function(){this.inherited(arguments);
l.setText(this.instructions,x.labelInstructions);l.setText(this.positionLegend,x.labelPosition);l.setText(this.beforeButtonLabel,x.labelBefore);l.setText(this.afterButtonLabel,x.labelAfter);l.setText(this.invalidWarningHeading,x.labelInvalidWarningHeading);this.okButton.set("label",A.buttonOk);this.cancelButton.set("label",A.buttonCancel)},startup:function(){try{this.inherited(arguments),this._selector=new y({name:"selector",title:null,tabindex:"0",style:"width: 270px; height: 250px;",showToolbar:!1,
isEditable:!1,submitOnClick:!1},this.selectorNode),this.own(e(this._selector,"SelectionChange",m.hitch(this,"_validate"))),this._selector.startup(),this._selector.resize(),s.addObserver(this),s.gather(),this._validate()}catch(a){throw new u.ClientException("anaplan.view.Move: startup",a,{widgetId:this.id});}},uninitialize:function(){s.deleteObserver(this);this._selector&&this._selector.destroyRecursive(!1);this.inherited(arguments)},update:function(a){a=a[0];var b=this._serialNumbers,e=this._serialNumbers=
new d(a.serialNumbers);this._viewIndex=a.viewIndex;b.rowAxisSerialNumber!==e.rowAxisSerialNumber?(1!==a.rowLabelPages.length&&console.warn("anaplan.view.Move; "+a.rowLabelPages.length+" row label pages; expected 1"),this._labelPage=a.rowLabelPages[0]):b.columnAxisSerialNumber!==e.columnAxisSerialNumber&&(1!==a.columnLabelPages.length&&console.warn("anaplan.view.Move; "+a.columnLabelPages.length+" column label pages; expected 1"),this._labelPage=a.columnLabelPages[0]);this._selector.set("labelPage",
this._labelPage)},view:function(){return(new t(workspaceId)).getRequest({modelId:modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:0}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})},_moveItems:function(){try{var a=this._selectedItems;if(0!==a.length){var d;this.beforeButton.checked?d=this.beforeButton.value:this.afterButton.checked&&(d=this.afterButton.value);var e=
this._selector.getSelectedValue();if(null===e)throw new u.ClientException('"Relative To" item not selected',null,{widgetId:this.id});var f=k.indexOf(this._labelPage.entityLongIds[0],e);if(-1==f)throw new u.ClientException("entityLongId not found in label page",null,{widgetId:this.id,entityLongId:e});var h=[],m=v.getEntityTypeIndex(a[0].entityLongIds),n=g.getEntityType(m),t=(new r).getModelChangeGenerator(n);k.forEach(a,function(a){h.push({modelId:modelId,moduleId:this._moduleId,modelChangeXml:t.getModelChangeXml("MOVE",
{position:d,name:a.entityId,moduleId:this._moduleId,hierarchyId:this._hierarchyId,relativeToLabel:this._labelPage.labels[0][f],relativeToEntityLongId:this._labelPage.entityLongIds[0][f]})})},this);"After"==d&&h.reverse();var p=b.createRequest(workspaceId,[{workspaceId:workspaceId,cellChanges:[],modelChanges:h}],[],[]);s.gather(p);this.onMove()}}catch(q){l.throwClientException(this,q)}},_onCancel:function(a){this.onCancel()},_onSubmit:function(a){this._moveItems()},_validate:function(){var b=!1,d,
e,g;if(g=this._selector.get("value"))d=g.value;this._selectedItems&&k.some(this._selectedItems,function(d){return d.entityLongId===a.BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID?(b=!0,e=x.labelCantMoveFullAccessRole,!0):!1});d?d===a.BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID&&this.beforeButton.checked&&(b=!0,e=x.labelCantMoveFullAccessRole):b=!0;e?(l.setText(this.invalidWarningMessage,e),h.set(this.invalidWarning,"visibility","visible"),b=!0):h.set(this.invalidWarning,"visibility","hidden");
this.okButton.set("disabled",b)}})})},"anaplan/view/TimeDimensionImportOptions":function(){define("anaplan/utils/UIHelper anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/Aggregator anaplan/data/RequestFactory anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n!anaplan/nls/timeDimensionImportOptions dojo/on dojo/text!anaplan/templates/TimeDimensionImportOptions.html dijit/form/TextBox dijit/form/Select dijit/form/RadioButton dijit/form/MultiSelect".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return a([e,h,g,m],{baseClass:"timeDimensionImportOptions",templateString:w,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._viewDefinition=a.viewDefinition,this._importDefinition=a.importDefinition,this._targetAreaSpecification=a.targetAreaSpecification,this._timePeriodFormat=a.timePeriodFormat,this._periodFormat=this._timePeriodFormat.periodFormat,this._serialNumbers=new s,this._viewIndex=null,this._connections=
[],this._nls=z}catch(b){l.throwClientException(this,b)}},displayTargetItemsOptions:function(){this._importDefinition.globalTargetAreaSpecification!=p.importTargetArea.MAPPED_ITEMS_IN_SOURCE?t.remove(this.mappingOptions,"hidden"):t.add(this.mappingOptions,"hidden")},error:function(a){return!1},onBusy:function(a){},onChange:function(){},onIdle:function(){},postCreate:function(){try{this.inherited(arguments);var a=this._nls;l.setText(this.howToMapLabel,a.labelHowToMatch);l.setText(this.datesLabel,a.labelDates);
l.setText(this.datesDescriptionLabel,a.labelDatesDescription);l.setText(this.periodsLabel,a.labelPeriods);l.setText(this.periodsDescriptionLabel,a.labelPeriodsDescription);l.setText(this.periodsInYearLabel,a.labelPeriodsInYear);l.setText(this.periodsInYearDescriptionLabel,a.labelPeriodsInYearDescription);l.setText(this.matchNamesLabel,a.labelMatchNames);l.setText(this.matchNamesDescriptionLabel,a.labelMatchNamesDescription);l.setText(this.patternsWithSeparatorsLabel,a.labelPatternsWithSeparators);
l.setText(this.patternDescriptionSLabel,a.labelPatternDescriptionS);l.setText(this.patternDescriptionYLabel,a.labelPatternDescriptionY);l.setText(this.patternDescriptionQLabel,a.labelPatternDescriptionQ);l.setText(this.patternDescriptionMLabel,a.labelPatternDescriptionM);l.setText(this.patternDescriptionDLabel,a.labelPatternDescriptionD);l.setText(this.patternDescriptionWLabel,a.labelPatternDescriptionW);l.setText(this.fixedPositionPatternsLabel,a.labelFixedPositionPatterns);l.setText(this.fixedPositionDescriptionLabel,
a.labelFixedPositionDescription);l.setText(this.customPatternLabel,a.labelCustomPattern);l.setText(this.customPatternDescriptionLabel,a.labelCustomPatternDescription);l.setText(this.missingFormatError,a.errorMissingFormat);l.setText(this.malformedFormatError,a.errorMalformedFormat);l.setText(this.invalidFormatError,a.errorInvalidFormat);l.setText(this.matchLabel,a.labelMatch);l.setText(this.targetAreaLabel,a.labelTargetArea);l.setText(this.matchedItemsRadioButtonLabel,a.labelMatchedItems);l.setText(this.allItemsRadioButtonLabel,
a.labelAllItems);l.setText(this.optionsLabel,a.labelOptions);l.setText(this.yearTypeLabel,a.labelYearType);l.setText(this.monthTypeLabel,a.labelMonthType);l.setText(this.languageLabel,a.labelLanguage);l.setText(this.specificYearLabel,a.labelSpecificYear);var d=this.id+"_datesRadioButton",e=this.id+"_periodsRadioButton",g=this.id+"_periodsInYearRadioButton",f=this.id+"_matchNamesRadioButton",h=this.id+"_matchedItemsRadioButton",k=this.id+"_allItemsRadioButton";b.set(this.datesRadioButton,"id",d);b.set(this.periodsRadioButton,
"id",e);b.set(this.periodsInYearRadioButton,"id",g);b.set(this.matchNamesRadioButton,"id",f);b.set(this.matchedItemsRadioButton,"id",h);b.set(this.allItemsRadioButton,"id",k);b.set(this.datesLabel,"for",d);b.set(this.periodsLabel,"for",e);b.set(this.periodsInYearLabel,"for",g);b.set(this.matchNamesLabel,"for",f);b.set(this.matchedItemsRadioButtonLabel,"for",h);b.set(this.allItemsRadioButtonLabel,"for",k)}catch(r){l.throwClientException(this,r)}},startup:function(){try{this.inherited(arguments);this.displayTargetItemsOptions();
this._isOpen=!0;this._initTargetAreaOptionRadioButton();this._connections.push(y(this.matchedItemsRadioButton,"Click",r.hitch(this,this._onTargetAreaMatchedRadioButtonChange)),y(this.matchedItemsRadioButton,"KeyPress",r.hitch(this,this._onTargetAreaMatchedRadioButtonChange)),y(this.allItemsRadioButton,"Click",r.hitch(this,this._onTargetAreaAllRadioButtonChange)),y(this.allItemsRadioButton,"KeyPress",r.hitch(this,this._onTargetAreaAllRadioButtonChange)));var a=this;d.forEach([this.datesRadioButton,
this.periodsRadioButton,this.periodsInYearRadioButton,this.matchNamesRadioButton],function(b){var d=b.value,e=function(b){a._onMappingTypeRadioButtonChange(b,d)};a._connections.push(y(b,"Click",r.hitch(a,e)));a._connections.push(y(b,"KeyPress",r.hitch(a,e)))});d.forEach([this.yearTypeSelect,this.monthTypeSelect,this.languageSelect,this.specificYearSelect],function(b){a._connections.push(y(b,"click",r.hitch(a,a._validateChange)));a._connections.push(y(b,"keypress",r.hitch(a,a._validateChangeDeferred)))});
this._connections.push(y(this.patternWithSeparatorSelect,"click",r.hitch(this,this._onFormatSelectorClick)),y(this.patternWithSeparatorSelect,"keypress",r.hitch(this,this._onFormatSelectorKeyPress)),y(this.fixedPositionPatternSelect,"click",r.hitch(this,this._onFormatSelectorClick)),y(this.fixedPositionPatternSelect,"keypress",r.hitch(this,this._onFormatSelectorKeyPress)),y(this.customPatternInput,"focus",r.hitch(this,this._onCustomPatternInputFocus)),y(this.customPatternInput,"keypress",r.hitch(this,
this._onCustomPatternInputKeyPress)));this._validateChange()}catch(b){l.throwClientException(this,b)}},uninitialize:function(){try{this._isOpen=!1,this._isObserver&&q.deleteObserver(this),d.forEach(this._connections,function(a){a.remove()}),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},update:function(a){try{var b=a[0],d=this._serialNumbers,e=this._serialNumbers=new s(b.serialNumbers);this._viewIndex=b.viewIndex;d.rowAxisSerialNumber!==e.rowAxisSerialNumber&&(this._labelPage=
b.rowLabelPages[0],v.set(this.domNode,"display",""),this.onIdle())}catch(g){l.throwClientException(this,g)}},updateForm:function(){this.displayTargetItemsOptions()},view:function(){var a=null;try{a=(new k(this._workspaceId)).getRequest({modelId:this._modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(b){l.throwClientException(this,
b)}return a},_initTargetAreaOptionRadioButton:function(){try{var a=this._targetAreaSpecification,b=a.target,d=a.area,e=p.importTargetArea;d===e.MATCHED_ITEMS?this.matchedItemsRadioButton.set("checked",!0):d===e.ALL_ITEMS?this.allItemsRadioButton.set("checked",!0):""===b?this.matchedItemsRadioButton.set("checked",!0):this.allItemsRadioButton.set("checked",!0)}catch(g){l.throwClientException(this,g)}},_onFormatSelectorKeyPress:function(a){setTimeout(r.hitch(this,this._onFormatSelectorClick),100)},_onFormatSelectorClick:function(a){try{var b=
null;this._periodFormat&&(b=this._periodFormat.format);var e=[];d.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var d=0;d<a.options.length;++d){var g=a.options.item(d);g.selected&&g.value!=b&&e.push(g.value)}});if(0<e.length){var g=e[0];d.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var b=0;b<a.options.length;++b){var d=a.options.item(b);d.selected&&d.value!=g&&(d.selected=!1)}});this.customPatternInput.value=
""}this._validateChange()}catch(f){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._onFormatSelectorClick",f,{widgetId:this.id}))}},_onCustomPatternInputKeyPress:function(a){try{this._customTimeout&&clearTimeout(this._customTimeout);this._customPatternChanged=!0;var b=this;this._customTimeout=setTimeout(function(){!b._validating&&b._isOpen&&b._periodFormat.format!=b.customPatternInput.value.toUpperCase()&&(b._customTimeout=null,b._validateChange())},1E3)}catch(d){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._onCustomPatternInputKeyPress",
d,{widgetId:this.id}))}},_onCustomPatternInputFocus:function(a){try{d.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var b=0;b<a.options.length;++b)a.options.item(b).selected=!1}),this._validateChange()}catch(b){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._onCustomPatternInputFocus",b,{widgetId:this.id}))}},_onMappingTypeRadioButtonChange:function(a,b){try{this._mappingType!=this._getMappingType(b)&&(d.forEach([this.patternWithSeparatorSelect,
this.fixedPositionPatternSelect],function(a){for(var b=0;b<a.options.length;++b){var d=a.options.item(b);d.selected&&(d.selected=!1)}}),this.customPatternInput.value=""),this._validateChange(a,b)}catch(e){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._onMappingTypeRadioButtonChange",e,{widgetId:this.id}))}},_onTargetAreaChange:function(a,b){try{var d=this._targetAreaSpecification,e=p.importTargetArea;b?d.area=b:this.matchedItemsRadioButton.checked?d.area=e.MATCHED_ITEMS:
this.allItemsRadioButton.checked&&(d.area=e.ALL_ITEMS);this.onChange()}catch(g){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._onTargetAreaRadioButtonChange",g,{widgetId:this.id}))}},_onTargetAreaAllRadioButtonChange:function(a){this._onTargetAreaChange(a,p.importTargetArea.ALL_ITEMS)},_onTargetAreaMatchedRadioButtonChange:function(a){this._onTargetAreaChange(a,p.importTargetArea.MATCHED_ITEMS)},_populateFixedYears:function(a){try{for(;0<this.specificYearSelect.length;)this.specificYearSelect.remove(0);
for(var b=0;b<a.length;++b){var d=document.create("option");d.value=a[b];this.specificYearSelect.add(d)}this.specificYearSelect.disabled=1>a.length}catch(e){l.throwClientException(this,e)}},_getMappingType:function(a){return a?a:this.datesRadioButton.checked?"DATES":this.periodsRadioButton.checked?"PERIODS":this.periodsInYearRadioButton.checked?"PERIODS_IN_YEAR":"NAMES"},_populateMappingType:function(a){var b=!1;"DATES"==a?this.datesRadioButton.set("checked",!0):"PERIODS"==a?this.periodsRadioButton.set("checked",
!0):"PERIODS_IN_YEAR"==a?this.periodsInYearRadioButton.set("checked",!0):(this.matchNamesRadioButton.set("checked",!0),b=!0);this.datesRadioButton.set("disabled",!1);this.periodsRadioButton.set("disabled",!1);this.periodsInYearRadioButton.set("disabled",!1);this.matchNamesRadioButton.set("disabled",!1);this.patternWithSeparatorSelect.disabled=b;this.fixedPositionPatternSelect.disabled=b;this.customPatternInput.disabled=b},_buildPeriodFormat:function(a){if("NAMES"==a||!a&&this.matchNamesRadioButton.checked)return null;
a=this.customPatternInput.value;this.patternWithSeparatorSelect.value?a=this.patternWithSeparatorSelect.value:this.fixedPositionPatternSelect.value&&(a=this.fixedPositionPatternSelect.value);return{format:a,yearType:this.yearTypeSelect.value,monthType:this.monthTypeSelect.value,locale:this.languageSelect.value,fixedYear:this.specificYearSelect.value}},_populateSelectControl:function(a,b,d,e,g,f){var h=!1,k=!1,r;if(!b||b.length!=d.length)h=!0;else for(r=0;r<b.length;++r)if(b[r]!=d[r]){h=!0;break}if(h){for(;0<
a.length;)a.remove(0);for(r=0;r<d.length;++r)h=b=d[r],e&&(h=e[r]),h=u.create("option",{value:b,innerHTML:h},a),g==b&&(h.selected=k=!0)}else for(r=0;r<a.options.length;++r)h=a.options.item(r),h.value==g?(k=!0,h.selected||(h.selected=!0)):h.selected&&(h.selected=!1);a.disabled=!f&&1>=d.length;return k},_getLocalizedLabels:function(a,b){for(var d=[],e=0;e<a.length;++e)d.push(this._nls[b+a[e]]||a[e]);return d},_sameFormat:function(a,b){try{return null==a?null==b:null==b?null==a:a.format!=b.format||a.yearType!=
b.yearType||a.monthType!=b.monthType||a.locale!=b.locale||a.fixedYear!=b.fixedYear?!1:!0}catch(d){l.throwClientException(this,d)}},_validateChangeDeferred:function(){setTimeout(r.hitch(this,this._validateChange),100)},_validateChange:function(a,b){try{this._validating=!0;this._customPatternChanged=!1;var e={modelId:this._modelId,importDefinition:this._importDefinition};this._validated&&(this._mappingType=this._getMappingType(b),this._periodFormat=this._buildPeriodFormat(b));this._periodFormat&&(e.periodFormat=
this._periodFormat);this._mappingType&&(e.mappingType=this._mappingType);var g=f.createRequest(this._workspaceId,[],[],[{actionId:"VALIDATE_PERIOD_FORMAT",params:e}]),h=this;q.post(g,!1,function(a,g){try{if(h._isOpen&&a&&!a.error&&a.result){var f=a.result;if(f.systemActionResults&&f.systemActionResults.length){var k=a.result.systemActionResults[0],r=k.periodFormat||{};if(h._validated){var m=h._buildPeriodFormat(b);if(!h._sameFormat(m,e.periodFormat))return}var t=h._populateSelectControl(h.patternWithSeparatorSelect,
h._patternsWithSeparators,k.patternsWithSeparators,null,r.format||"");h._patternsWithSeparators=k.patternsWithSeparators;t|=h._populateSelectControl(h.fixedPositionPatternSelect,h._fixedPositionPatterns,k.fixedPositionPatterns,null,r.format||"");h._fixedPositionPatterns=k.fixedPositionPatterns;if(h._mappingType!=k.mappingType){if(h._validated&&(!k.isWellFormed||!k.isValid))r.format="";h._mappingType=k.mappingType}var u=t?"":r.format||"";h.customPatternInput.value.toUpperCase()!=u&&!h._customPatternChanged&&
(h.customPatternInput.value=u,h.customPatternInput.blur());h._periodFormat=r;h._populateSelectControl(h.yearTypeSelect,h._yearTypes,k.yearTypes,h._getLocalizedLabels(k.yearTypes,"yearType_"),r.yearType||k.yearTypes[0]);h._yearTypes=k.yearTypes;h._populateSelectControl(h.monthTypeSelect,h._monthTypes,k.monthTypes,h._getLocalizedLabels(k.monthTypes,"monthType_"),r.monthType||k.monthTypes[0]);h._monthTypes=k.monthTypes;h._populateSelectControl(h.languageSelect,h._languageCodes,k.languageCodes,k.languageNames,
r.locale||k.languageCodes[0]);h._languageCodes=k.languageCodes;h._populateSelectControl(h.specificYearSelect,h._fixedYears,k.fixedYears,null,r.fixedYear||k.fixedYears[0],"PERIODS_IN_YEAR"==k.mappingType);h._fixedYears=k.fixedYears;h._populateMappingType(k.mappingType);d.forEach(["Y","Q","M","D","W"],function(a){for(var b=!1,d=0;d<h._patternsWithSeparators.length;++d)if(-1!=h._patternsWithSeparators[d].indexOf(a)){b=!0;break}v.set(h["patternDescription"+a+"Label"],"display",b?"":"none")});m=r=f=!1;
!h._periodFormat||!h._periodFormat.format?"NAMES"!=k.mappingType&&(f=!0):k.isWellFormed?k.isValid||(m=!0):r=!0;v.set(h.missingFormatError,{display:f?"":"none"});v.set(h.malformedFormatError,{display:r?"":"none"});v.set(h.invalidFormatError,{display:m?"":"none"});if(!f&&!r&&!m){var p=k.periodFormat;p&&!p.format&&(p=null);h._sameFormat(h._timePeriodFormat.periodFormat,p)||(h._timePeriodFormat.periodFormat=p,h.onChange())}h._validated=!0}}}catch(q){l.showErrorReporter(new n.ClientException("anaplan.view.TimeDimensionImportOptions._validateChange._onGet",
q,{widgetId:h.id}))}finally{h._validating=!1}},function(a,b){h._validating=!1})}catch(k){l.throwClientException(this,k)}}})})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(l,s,p,q){l=function(f){function k(g,d){var a=f[g];a&&(f[g]=function(h){var b;"put"===g&&(b=f.getIdentity(h));if(e)return a.apply(this,arguments);e=!0;try{var k=a.apply(this,arguments);p(k,function(a){d("object"==typeof a&&a||h,b)});return k}finally{e=!1}})}var n=
[],m=0;f=s.delegate(f);f.notify=function(e,d){m++;for(var a=n.slice(),f=0,b=a.length;f<b;f++)a[f](e,d)};var h=f.query;f.query=function(e,d){d=d||{};var a=h.apply(this,arguments);if(a&&a.forEach){var k=s.mixin({},d);delete k.start;delete k.count;var b=f.queryEngine&&f.queryEngine(e,k),t=m,l=[],v;a.observe=function(e,g){1==l.push(e)&&n.push(v=function(e,h){p(a,function(a){var k=a.length!=d.count,r,n;if(++t!=m)throw Error("Query is out of date, you must observe() the query prior to any data modifications");
var p,v=-1,w=-1;if(void 0!==h){r=0;for(n=a.length;r<n;r++){var z=a[r];if(f.getIdentity(z)==h){p=z;v=r;(b||!e)&&a.splice(r,1);break}}}if(b){if(e&&(b.matches?b.matches(e):b([e]).length))r=-1<v?v:a.length,a.splice(r,0,e),w=q.indexOf(b(a),e),a.splice(r,1),d.start&&0==w||!k&&w==a.length?w=-1:a.splice(w,0,e)}else e&&(void 0!==h?w=v:d.start||(w=f.defaultIndex||0,a.splice(w,0,e)));if((-1<v||-1<w)&&(g||!b||v!=w)){k=l.slice();for(r=0;a=k[r];r++)a(e||p,v,w)}})});var h={};h.remove=h.cancel=function(){var a=q.indexOf(l,
e);-1<a&&(l.splice(a,1),l.length||n.splice(q.indexOf(n,v),1))};return h}}return a};var e;k("put",function(e,d){f.notify(e,d)});k("add",function(e){f.notify(e)});k("remove",function(e){f.notify(void 0,e)});return f};s.setObject("dojo.store.Observable",l);return l})},"anaplan/api/SystemActions/GetAuditLog":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{applyDefaults:function(f){f=
f||{};f.historyDuration=f.historyDuration?f.historyDuration.toString():"24";f.includeFullModelHistory=f.includeFullModelHistory||!0;return f},validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.historyDuration)||0===this._params.historyDuration.length?f.errors.durationIsRequired:!p.isBool(this._params.includeFullModelHistory)?f.errors.includeFullModelHistory:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_AUDIT_LOG,
params:{modelId:window.modelId,filterAxesEntityLongIds:"",filterAxesNestingCounts:"",historyDuration:this._params.historyDuration,includeFullModelHistory:this._params.includeFullModelHistory}}},parseResponse:function(f){for(var n=f.auditLog.split("\r\n"),m=n.shift().split("\t"),h=[],e=0;e<n.length;e++){var g=n[e].split("\t");1<g.length&&h.push(g)}return{currentModelSerialNumber:parseInt(f.currentModelSerialNumber,10),headings:m,rows:h,rowCount:h.length,columnCount:m.length}}})})},"anaplan/view/ImportResultSummary":function(){define("dojo/aspect dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/on dojo/query dojo/sniff dojo/string dojo/topic dijit/_Widget dijit/_Contained anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/constants dojo/i18n!anaplan/nls/importResult".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){return p("anaplan.view.ImportResultSummary",[t,u],{summaryMessageKeys:"lineItemRowsProcessed lineItemRowsProcessedWithFailures lineItemRowsProcessedWithIgnored lineItemRowsProcessedWithFailuresAndIgnored hierarchyNoChanges hierarchyRowsProcessed hierarchyRowsProcessedWithFailures hierarchyRowsProcessedWithInvalidNames hierarchyRowsProcessedWithInvalidNamesAndFailures usersNoChanges usersRowsProcessed usersRowsProcessedWithFailures usersRowsProcessedWithInvalidNames usersRowsProcessedWithInvalidNamesAndFailures versionsNoChanges versionsRowsProcessed versionsRowsProcessedWithFailures".split(" "),
_hardError:!1,_hardErrorStopEnabled:!0,_handleExpandCollapseAll:null,_handleAccordionClick:null,_handleDetailTabHooks:[],_handleDownloadLinkHooks:[],constructor:function(a){try{this._results=a.results,this._inLineItemDefinitionsTable=this._inLineItemDataValuesTable=this._inListsAndRollUpsTable=this._importContainsFailures=!1,this._tabContainer=a.tabContainer||null,l.after(this,"resize",f.hitch(this,this._setFixedContainerDimensions))}catch(b){z.throwClientException(this,b)}},_resetHardError:function(){this._hardError=
!1},_triggerHardError:function(){this._hardError=!0},_getHardErrorStatus:function(){return this._hardError},_setFixedContainerDimensions:function(){var a=d("#fixed-container-placeholder"),b=d("#fixed-container");a&&a.length?(a=a[0],a=a.clientWidth||a.scrollWidth,b&&b.length&&(b=b[0],b.style.width=a+"px",b.style.display="")):b&&b.length&&(b[0].style.display="none")},onShow:function(){this._initialized||(this._buildResultSummary(),this._initialized=!0,this._setFixedContainerDimensions());h.set(this.domNode.parentNode,
"overflow","auto")},postCreate:function(){try{this.inherited(arguments),n.add(this.domNode,"resultSummary")}catch(a){z.throwClientException(this,a)}},_addToSummaryMessage:function(a,b){try{var d,e,g,f,h,k,r,m;if(b.summaryDetails){e=b.summaryDetails;g=e.length;for(d=0;d<g;++d)a.push("\x3cbr\x3e",v.cleanEscapeHTML(e[d].localMessageText,!0))}else console.warn("no result.summaryDetails");if(b.failureDetails){a.push("\x3cbr\x3e");f=b.failureDetails;k=f.length;for(d=0;d<k;++d)h=f[d],a.push("\x3cbr\x3e",
v.cleanEscapeHTML(h.localMessageText,!0)," (",h.occurrences,")")}else console.warn("no result.failureDetails");if(b.compositeDetails){r=b.compositeDetails;m=r.length;for(d=0;d<m;++d)a=this._addToSummaryMessage(a,r[d])}else console.warn("no result.compositeDetails")}catch(n){z.throwClientException(this,n)}return a},_buildFailedLineItemMap:function(a){var b={};try{for(var d,e,g=a.length,f=0;f<g;f++)d=a[f],d.localMessageText&&(d.substitutions&&d.substitutions.lineItemName)&&(e=d.substitutions.lineItemName,
b.hasOwnProperty(e)||(b[e]=[]),b[e].push(d))}catch(h){z.throwClientException(this,h)}return b},_tableOpenCloseMismatch:function(a){a=a.join("");var b={tableStart:/<table/gim,tbodyStart:/<tbody/gim,tableEnd:/<\/table/gim,tbodyEnd:/<\/tbody/gim},d,e={};for(d in b)b.hasOwnProperty(d)&&(e[d]=b[d].exec(a));return e.tableStart!==e.tableEnd||e.tbodyStart!==e.tbodyEnd},getHighLevelStatus:function(a){var b=a.compositeDetails.length,d,e;if(b)for(d=e=0;d<b;d++)e|=a.compositeDetails[d].failureDetails&&a.compositeDetails[d].failureDetails.length;
else e=a.failureDetails.length;return{successful:a.successful,containsFailures:0<e}},_processDefaultDetail:function(a,b){var d=[],e=a.summaryDetails,g=e.length,f,h,k=b+"Default",r;if(g){d.push("\x3cul\x3e\x3c!-- _processDefaultDetailStart --\x3e");for(f=0;f<g;f++)h=e[f],r=k+f,d.push('\x3cli data-anaplan-element-name\x3d"',r,'"\x3e',h.localMessageText,"\x3c/li\x3e");d.push("\x3c/ul\x3e\x3c!-- _processDefaultDetailEnd --\x3e")}return d.join("")},_separateProcessResults:function(a,b){var d={hardFails:[],
softFails:[],summaries:[]},e,g=a.length,f;f=b.length;var h;for(e=0;e<f;e++)h=b[e],h.successful?d.summaries.push(h):(d.hardFails.push(h),h.substitutions&&d.summaries.push(h));for(e=0;e<g;e++)f=a[e],d.softFails.push(f);return d},_reportSoftFailures:function(a,b,d){var e=a.length,g,f,h=[],k={},k=!1,m,n=d+"Failure",t,l=d+"LineItemError";d+="FailedLineItemName";var u=0,p=RegExp(y.PLACEHOLDER.NEWLINE,"gi");if(e){b&&h.push('\x3ctable class\x3d"newSummaryTable"\x3e',"\x3ctbody\x3e");1===e||r.substitute(w.xErrors,
{numFailures:e});h.push("\x3ctr\x3e",'\x3ctd colspan\x3d"99"\x3e','\x3cul class\x3d"error-detail"\x3e');for(g=0;g<e;g++)f=a[g],t=n+g,!f.substitutions||!f.substitutions.lineItemName?h.push('\x3cli data-anaplan-element-name\x3d"',t,'"\x3e',v.cleanEscapeHTML(f.localMessageText,!0).replace(p,"\x3cbr\x3e"),"\x3c/li\x3e"):k=!0;if(k){h.push("\x3cli\x3e- Line Item Errors:","\x3cul\x3e");k=this._buildFailedLineItemMap(a);for(m in k){if(k.hasOwnProperty(m)){f=d+u;h.push("\x3cli\x3e\x26bull; \x3cstrong\x3e",
'\x3cspan data-anaplan-element-name\x3d"',f,'"\x3e',v.cleanEscapeHTML(m,!0),"\x3c/span\x3e","\x3c/strong\x3e\x3cul\x3e");a=k[m].length;for(e=0;e<a;e++)f=k[m][e],n=l+e,h.push('\x3cli data-anaplan-element-name\x3d"',n,'"\x3e',v.cleanEscapeHTML(f.localMessageText,!0),r.substitute(w.labelFailureDetailOccurrences,{occurrences:f.occurrences}),"\x3c/li\x3e");h.push("\x3c/ul\x3e\x3c/li\x3e")}u++}h.push("\x3c/ul\x3e\x3c/li\x3e")}h.push("\x3c/ul\x3e\x3c/td\x3e\x3c/tr\x3e");b&&h.push("\x3c/tbody\x3e","\x3c/table\x3e")}return h.join("")},
_reportSingleSummaryDetail:function(a,b,d){var e=[],g=["hierarchyRowsProcessed"],f=-1,h=d+"SingleSummary";d+="SummaryDownload";var k=RegExp(y.PLACEHOLDER.NEWLINE,"gi");a.localMessageText&&a.localMessageText.length?(f=s.indexOf(g,a.messageKey),0>f&&e.push("\x3cdiv",b?"":' class\x3d"error-red"',' data-anaplan-element-name\x3d"',h,'"\x3e',v.cleanEscapeHTML(a.localMessageText,!0).replace(k,"\x3cbr\x3e"),b&&a.importEntityLongId?' \x3cspan class\x3d"internal-link download-link-hook" data-import-entity-long-id\x3d"'+
a.importEntityLongId+'" data-anaplan-element-name\x3d"'+d+'"\x3e'+w.manualDownloadText+"\x3c/span\x3e":"","\x3c/div\x3e")):a.substitutions&&(a.substitutions.serverAlert&&a.substitutions.serverAlert.length)&&e.push('\x3cdiv class\x3d"server-alert error-red" data-anaplan-element-name\x3d"',h,'"\x3e',v.cleanEscapeHTML(a.substitutions.serverAlert,!0),"\x3c/div\x3e");return e.join("")},_reportAllSummaryDetails:function(a,b,d,e){var g=[],f=a.length,h,k=!1,r=e+"AllSummaryDetails";for(e=0;e<f;e++)if(h=a[e],
h.localMessageText&&h.localMessageText.length&&d!==b){k=!0;break}if(k){g.push('\x3cdiv class\x3d"error-red',d?" hard-error":"",'"\x3e');for(e=0;e<f;e++)h=a[e],h.localMessageText&&(h.localMessageText.length&&d!==b)&&(k=r+e,g.push('\x3cdiv data-anaplan-element-name\x3d"',k,'"\x3e',v.cleanEscapeHTML(h.localMessageText,!0),"\x3c/div\x3e"));g.push("\x3c/div\x3e")}return g.join("")},_processDeleteResult:function(a,b){for(var d=a.summaryDetails,e,g=d.length,f=0,h=[];f<g;f++)e=d[f],e.localMessageText&&e.localMessageText.length&&
(h.push(this._reportSingleSummaryDetail(e,a.successful,b)),"deleteFromSelectionSucceeded"===e.localMessageText&&h.push("\x3cdiv\x3e",r.substitute(w.deleteFromSelectionSucceeded,{affectedItems:e.substitutions.affectedItems,targetName:e.substitutions.targetName,filterName:e.substitutions.filterName}),"\x3c/div\x3e"));h.push(this._reportSoftFailures(a.failureDetails,!0,b));return h.join("")},_processExportResult:function(a,b){for(var d=a.summaryDetails,e,g=d.length,f=0,h=[];f<g;f++)e=d[f],a.successful&&
"exportSucceeded"===e.messageKey&&(e.importEntityLongId=a.importEntityLongId),h.push(this._reportSingleSummaryDetail(e,a.successful,b));h.push(this._reportSoftFailures(a.failureDetails,!0,b));return h.join("")},_processSolverResult:function(a){for(var b=a.summaryDetails,d,e=b.length,g=0,f=[];g<e;g++)d=b[g],'""'===d.localMessageText&&(d.substitutions.cmplLog&&d.substitutions.cmplLog.length)&&(d.localMessageText=v.cleanEscapeHTML(d.substitutions.cmplLog)),f.push(this._reportSingleSummaryDetail(d,a.successful));
f.push(this._reportSoftFailures(a.failureDetails,!0));return f.join("")},_getResultDetail:function(a,b){var d=[],e=y.importType,g=a.operation?a.operation:null;switch(a.importType){case e.HIERARCHY_DATA:d.push(this._processHierarchyImportResult2(a,b));break;case e.MODULE_DATA:d.push(this._processModuleImportResult2(a,b));break;case e.LINE_ITEM_DEFINITION:d.push(this._processLineItemDefinitionImportResult2(a,b));break;case e.USERS:d.push(this._processUsersOrVersionsImportResult2(e.USERS,a,b));break;
case e.VERSIONS:d.push(this._processUsersOrVersionsImportResult2(e.VERSIONS,a,b));break;case e.ACTION:switch(a.actionType){case "DELETE_BY_SELECTION":d.push(this._processDeleteResult(a,b));break;case "TASK_ELEMENT":switch(g){case y.taskElementOperation.RUN_CMPL_SCRIPT:case "OPTIMIZER":d.push(this._processSolverResult(a));break;default:d.push('actionType \x3d\x3d\x3d "TASK_ELEMENT"')}}break;case e.EXPORT_DATA:d.push(this._processExportResult(a,b));break;default:d.push(this._processDefaultDetail(a,
b))}return d.join("")},_createDataAnaplanElementNamePrefix:function(a){return["result",a,"-"].join("")},_processSingleResult:function(a,b,d){var e=z.getImportTaskLabel(a),g=[],f=this._createDataAnaplanElementNamePrefix(b);b=f+String(a.importType);var h=f+"AccordionControl",k=f+"StatusIcon",r=f+"TaskDescription",m=f+"TaskDetail",n=d?"expanded":"collapsed";this._hardErrorStopEnabled&&a.skipped?g.push('\x3cli class\x3d"accordion-item earlier-hard-error" data-anaplan-element-name\x3d"',b,'"\x3e','\x3cdiv class\x3d"row"\x3e',
'\x3cdiv class\x3d"accordion-control" data-anaplan-element-name\x3d"',h,'"\x3e\x3c/div\x3e','\x3cdiv class\x3d"status"\x3e\x3cdiv class\x3d"image" data-anaplan-element-name\x3d"',k,'"\x3e\x3c/div\x3e\x3c/div\x3e','\x3cdiv class\x3d"description" data-anaplan-element-name\x3d"',r,'"\x3e',v.cleanEscapeHTML(e,!0),"\x3c/div\x3e","\x3c/div\x3e","\x3c/li\x3e"):(a.successful?d=a.failureDetails.length?"status-fail-soft":"status-all-ok":(d="status-fail-hard",n="expanded",this._triggerHardError()),a=this._getResultDetail(a,
f),g.push('\x3cli class\x3d"accordion-item ',n," ",d,'" data-anaplan-element-name\x3d"',b,'"\x3e','\x3cdiv class\x3d"row"\x3e','\x3cdiv class\x3d"accordion-control"\x3e','\x3cdiv class\x3d"accordion-control-icon" data-anaplan-element-name\x3d"',h,'"\x3e\x3c/div\x3e',"\x3c/div\x3e",'\x3cdiv class\x3d"status"\x3e\x3cdiv class\x3d"image" data-anaplan-element-name\x3d"',k,'"\x3e\x3c/div\x3e\x3c/div\x3e','\x3cdiv class\x3d"description" data-anaplan-element-name\x3d"',r,'"\x3e',v.cleanEscapeHTML(e,!0),
"\x3c/div\x3e","\x3c/div\x3e",'\x3cdiv class\x3d"detail" data-anaplan-element-name\x3d"',m,'"\x3e',a,"\x3c/div\x3e","\x3c/li\x3e"));return g.join("")},_processAllResults:function(a){var b=[],d=0,e=a.compositeDetails&&a.compositeDetails.length?a.compositeDetails.length:0;b.push('\x3cul class\x3d"status-accordion"\x3e');this._resetHardError();if(e)for(;d<e;d++)b.push(this._processSingleResult(a.compositeDetails[d],d,1===e,this._getHardErrorStatus()));else b.push(this._processSingleResult(a,d,!0,this._getHardErrorStatus()));
b.push("\x3c/ul\x3e");return b},_switchToDetailTab:function(a){var d=Number(a.target.dataset.importEntityLongId),e,g;d&&(e=dijit.getEnclosingWidget(this),e=e._tabContainer,g=e.getChildren(),2===g.length&&(e.selectChild(g[1]),b.publish("detail-tab-hook",{importEntityLongId:d})));q.stop(a)},_manualSingleFileDownload:function(a){a=a.target;a=a.dataset?a.dataset.importEntityLongId?a.dataset.importEntityLongId:null:a.getAttribute("data-import-entity-long-id");b.publish("import-result-export-file-download",
Number(a))},_addResultSummaryEventListeners:function(a,b,d,e){var f=this;this._handleExpandCollapseAll=g(a,"click",f._accordionExpandCollapseAll);this._handleAccordionClick=g(b,"click",f._accordionClickHandler);s.forEach(d,function(a){f._handleDetailTabHooks.push(g(a,"click",f._switchToDetailTab))});s.forEach(e,function(a){f._handleDownloadLinkHooks.push(g(a,"click",f._manualSingleFileDownload))})},_buildResultSummary:function(){try{var a=this._results,b=[];this._createTopLevelStatusMessage(k.byId("top-level-status-message"),
this.getHighLevelStatus(a),this.isImport);b=this._processAllResults(a,[]);this._importResultExpandCollapsePlaceholder=m.create("div",{id:"fixed-container-placeholder"},this.domNode);this._importResultExpandCollapse=m.create("div",{id:"fixed-container",innerHTML:['\x3cspan class\x3d"collapseAllIcon collapsed" data-anaplan-element-name\x3d"expand-collapse-icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"expand-collapse-status" data-expanded\x3d"0" data-anaplan-element-name\x3d"expand-collapse-text"\x3e',w.labelExpandAllActions,
"\x3c/div\x3e"].join("")},this._tabContainer.getParent().domNode);this._importResultAccordion=m.create("div",{"class":"status-accordion-wrapper",innerHTML:b.join("")},this.domNode);this._addResultSummaryEventListeners(this._importResultExpandCollapse,this._importResultAccordion,d(".detail-tab-hook"),d(".download-link-hook"))}catch(e){z.throwClientException(this,e)}},_createTopLevelStatusMessage:function(a,b,e){try{var g={completeButWithFailures:w.processCompleteButWithFailures,failed:w.processFailed,
successComplete:w.successProcessComplete,titleCompleted:w.dialogTitleProcessCompleted,titleFailed:w.dialogTitleProcessFailed},f={completeButWithFailures:w.importCompleteButWithFailures,titleCompleted:w.dialogTitleImportCompleted,failed:w.importFailed,successComplete:w.successImportComplete,titleFailed:w.dialogTitleImportFailed};e=e?f:g;var h=f=g="",k;b.successful?(b.containsFailures?(g="status-fail-soft",f=["\x3cstrong\x3e",e.completeButWithFailures,"\x3c/strong\x3e ",w.clickBelowForDetails].join("")):
(g="status-all-ok",f=["\x3cstrong\x3e",e.successComplete,"\x3c/strong\x3e"].join("")),h=e.titleCompleted):(g="status-fail-hard",f=["\x3cstrong\x3e",e.failed,"\x3c/strong\x3e ",w.clickBelowForDetails].join(""),h=e.titleFailed);k=d(".dijitDialogFixed.dijitDialog .dijitDialogTitle");k.length&&(k[0].innerHTML=h);m.create("div",{"class":["statusMessageBox",g].join(" "),innerHTML:['\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"status-image"\x3e\x3cdiv class\x3d"icon" data-anaplan-element-name\x3d"overallStatusIcon"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"status-text" data-anaplan-element-name\x3d"overallStatusText"\x3e',
f,"\x3c/div\x3e\x3c/div\x3e"].join("")},a)}catch(r){z.throwClientException(this,r)}},_createErrorMessage:function(a){try{m.create("div",{"class":"errorMessageBox",innerHTML:a},this.domNode)}catch(b){z.throwClientException(this,b)}},_accordionClickHandler:function(a){a=a.target||a.srcElement;var b;if("detail"!==a.className)for(;a&&"detail"!==a.className&&"ul"!==a.tagName.toLowerCase();)if(b=a.tagName.toLowerCase(),"li"===b){a.className=0<=a.className.search("collapsed")?a.className.replace("collapsed",
"expanded"):a.className.replace("expanded","collapsed");break}else a=a.parentElement},_accordionExpandCollapseAll:function(){var a=k.byId("expand-collapse-status"),b=d(".collapseAllIcon",this.domNode)[0],e="1"===a.getAttribute("data-expanded")?0:1,g=d(".accordion-item",this.domNode),f=g.length,h,r,m;e?(h="collapsed",r="expanded"):(h="expanded",r="collapsed");for(;f--;)m=g[f],m.className=m.className.replace(h,r);a.setAttribute("data-expanded",e);a.innerHTML=e?w.labelCollapseAllActions:w.labelExpandAllActions;
b.className=b.className.replace(h,r)},_isErrorSummary:function(a){return 0<=s.indexOf("msgImportFailed prepareDataFailed noDataFound uploadedFileNoLongerAvailable missingHierarchy missingModuleOrLineItem lineItemVersionsBeef lineItemDimensionsBeef failedToLocateModel failedToLocateEntity webServiceFault sfApiDisabledForOrg sfConvertCurrencyMix noAccessToModule msgProcessFailed lineItemRowsProcessedWithFailures lineItemRowsProcessedWithIgnored lineItemRowsProcessedWithFailuresAndIgnored moduleImportBombed moduleImportFailed moduleImportInvalidLineItem moduleImportInvalidVersion moduleImportInvalidTimescaleIdentifier moduleImportInvalidListIdentifier moduleImportNumberFormat moduleImportDateFormat moduleImportRepeatedNonNumeric hierarchyRowsProcessedWithFailures hierarchyRowsProcessedWithInvalidNames hierarchyRowsProcessedWithInvalidNamesAndFailures hierarchyImportBombed hierarchyImportFailed hierarchyImportUniqueness hierarchyImportInconsistentRenaming hierarchyImportInvalidName hierarchyImportInvalidCode hierarchyImportInvalidParent hierarchyImportPropertyChangeFailed compositeImportRollupMismatch tableRowsProcessedWithFailures missingFields unmatchedTextDelimiter columnSeparatorExpected modelSourceAlreadyExists connectorError internalError".split(" "),
a.messageKey)},_processHierarchyImportResult2:function(a,b){try{for(var d=a.summaryDetails,e=d.length,g=0,f=null,h=[],k,r,m,n,t=this._reportSoftFailures(a.failureDetails,!1,b),l;g<e;g++)if(f=d[g],r=(k=f.substitutions.warningsCreateCount|0)?["(",k," ",1===k?w.withError:w.withErrors,")"].join(""):"",n=(m=f.substitutions.warningsUpdateCount|0)?["(",m," ",1===m?w.withError:w.withErrors,")"].join(""):"",a.successful){var u=b+"CreatedErrorsIcon",p=b+"TotalCreateCount",q=b+"CreatedErrorsText",y=b+"UpdatedErrorsIcon",
s=b+"TotalUpdateCount",S=b+"UpdatedErrorsText",R=b+"IgnoredCount",W=b+"FailedIcon",Y=b+"FailedCount";h.push('\x3ctable class\x3d"newSummaryTable"\x3e',"\x3ctbody\x3e","\x3ctr\x3e",'\x3ctd\x3e\x3cspan class\x3d"detail-tab-hook internal-link enforce-text-wrap" ','data-import-entity-long-id\x3d"',a.importEntityLongId,'" ','data-anaplan-element-name\x3d"',b+"DetailTabHook",'"\x3e',v.cleanEscapeHTML(a.targetName,!0),"\x3c/span\x3e\x3c/td\x3e",k?'\x3ctd align\x3d"right"\x3e\x3cspan class\x3d"soft-fail-icon" data-anaplan-element-name\x3d"'+
u+'"\x3e\x3c/span\x3e':"\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',p,'"\x3e',f.substitutions.totalCreateCount,"\x3c/span\x3e"," ",w.created,'\x3cspan data-anaplan-element-name\x3d"',q,'"\x3e',r,"\x3c/span\x3e","\x3c/td\x3e",m?'\x3ctd align\x3d"right"\x3e\x3cspan class\x3d"soft-fail-icon" data-anaplan-element-name\x3d"'+y+'"\x3e\x3c/span\x3e':"\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',s,'"\x3e',f.substitutions.totalUpdateCount,"\x3c/span\x3e ",w.updated,'\x3cspan data-anaplan-element-name\x3d"',
S,'"\x3e',n,"\x3c/span\x3e","\x3c/td\x3e","\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',R,'"\x3e',f.substitutions.ignoredCount,"\x3c/span\x3e"," ",w.ignored,"\x3c/td\x3e",f.substitutions.failedCount|0?'\x3ctd align\x3d"right"\x3e\x3cspan class\x3d"hard-fail-icon" data-anaplan-element-name\x3d"'+W+'"\x3e\x3c/span\x3e':"\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',Y,'"\x3e',f.substitutions.failedCount,"\x3c/span\x3e ",w.failed,"\x3c/td\x3e","\x3c/tr\x3e",t,"\x3c/tbody\x3e","\x3c/table\x3e")}else l=
b+"hardErrorMessage",h.push('\x3cdiv class\x3d"error-red hard-error" data-anaplan-element-name\x3d"',l,'"\x3e',v.cleanEscapeHTML(f.localMessageText),"\x3c/div\x3e");return h.join("")}catch(T){z.throwClientException(this,T)}},_processLineItemDefinitionImportResult2:function(a,b){try{var d=a.summaryDetails,e=d.length,g,f,h,k=this._separateProcessResults(a.failureDetails,d),r=[],m,n,t,l,u,p=this._reportSoftFailures(k.softFails,!1,b),q=b+"DetailTabHook",y=b+"CreatedCount",s=b+"RenamedCount",S=b+"UpdatedCount",
R=b+"IgnoredCount",W=b+"FailedCount",Y,T,ca,X,ba,$;if(a.successful){if(0<e)for(g=0;g<e;g++)f=d[g],h=f.substitutions,Y=q+g,T=y+g,ca=s+g,X=S+g,ba=R+g,$=W+g,m=['\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',T,'"\x3e',h.createdCount||0,"\x3c/span\x3e ",w.created,"\x3c/td\x3e"].join(""),n=['\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',ca,'"\x3e',h.renamedCount||0,"\x3c/span\x3e ",w.renamed,"\x3c/td\x3e"].join(""),t=['\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',X,'"\x3e',h.updatedCount||
0,"\x3c/span\x3e ",w.updated,"\x3c/td\x3e"].join(""),l=['\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',ba,'"\x3e',h.ignoredCount||0,"\x3c/span\x3e ",w.ignored,"\x3c/td\x3e"].join(""),u=[h.failedCount?'\x3ctd align\x3d"right"\x3e\x3cspan class\x3d"hard-fail-icon"\x3e\x3c/span\x3e ':"\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',$,'"\x3e',h.failedCount||0,"\x3c/span\x3e ",w.failed,"\x3c/td\x3e"].join(""),r.push('\x3ctable class\x3d"newSummaryTable"\x3e',"\x3ctbody\x3e","\x3ctr\x3e","\x3ctd\x3e",
'\x3cspan class\x3d"detail-tab-hook internal-link enforce-text-wrap" data-import-entity-long-id\x3d"',a.importEntityLongId,'" data-anaplan-element-name\x3d"',Y,'"\x3e',v.cleanEscapeHTML(a.targetName,!0),"\x3c/span\x3e","\x3c/td\x3e",m,n,t,l,u,"\x3c/tr\x3e",p,"\x3c/tbody\x3e","\x3c/table\x3e")}else r.push(this._reportAllSummaryDetails(k.hardFails,a.successful,!0,b));return r.join("")}catch(ja){z.throwClientException(this,ja)}},_processModuleImportResult2:function(a,b){try{var d=this.summaryMessageKeys,
e=a.summaryDetails,g=e.length,f=a.failureDetails,h=f.length,k=[],m=[],n=b+"UpdatedCount",t,l=b+"IgnoredCount",u,p=b+"FailedCount",q,y=b+"LineItemName",N,Q=b+"LineItemError",S;a.successful&&k.push('\x3ctable class\x3d"newSummaryTable"\x3e',"\x3cthead\x3e","\x3ctr\x3e",'\x3cth\x3e\x3cspan class\x3d"detail-tab-hook internal-link enforce-text-wrap" data-import-entity-long-id\x3d"',a.importEntityLongId,'" data-anaplan-element-name\x3d"',b+"DetailTabHook",'"\x3e',v.cleanEscapeHTML(a.targetName?a.targetName:
"",!0),"\x3c/span\x3e\x3c/th\x3e","\x3cth\x3e",w.updated,"\x3c/th\x3e","\x3cth\x3e",w.ignored,"\x3c/th\x3e","\x3cth\x3e",w.failed,"\x3c/th\x3e","\x3c/tr\x3e","\x3c/thead\x3e","\x3ctbody\x3e");if(0<g||0<h){if(0<h){this._importContainsFailures=!0;for(var R=[],W,Y=0;Y<h;Y++)W=f[Y],(!W.substitutions||!W.substitutions.lineItemName)&&R.push(W.localMessageText);if(R.length){m.push("\x3ctr\x3e",'\x3ctd colspan\x3d"6" class\x3d"failureDetail" data-none-line-item-failure-start\x3d"true"\x3e',"\x3cdiv\x3e",
'\x3cul class\x3d"error-detail"\x3cul\x3e');for(var T=R.length,f=0;f<T;f++)m.push("\x3cli\x3e",v.cleanEscapeHTML(R[f],!0),"\x3c/li\x3e");m.push("\x3c/ul\x3e",'\x3c/div data-none-line-item-failure-end\x3d"true"\x3e',"\x3c/td\x3e","\x3c/tr\x3e")}}for(var ca=this._buildFailedLineItemMap(a.failureDetails),X,ba,$,ja,Z,aa,R=0;R<g;R++){X=e[R];$=null;Z=0;t=n+R;u=l+R;q=p+R;N=y+R;if(X.substitutions&&X.substitutions.lineItemName&&($=X.substitutions.lineItemName,ja=ca[$]))Z=ja.length;ba=X.substitutions;if($&&
-1!==s.indexOf(d,X.messageKey)){if(k.push('\x3ctr class\x3d"lineItem"\x3e'),k.push("\x3ctd",0<Z?' class\x3d"fail"':"","\x3e",'\x3cspan class\x3d"line-item-name-min-width" data-anaplan-element-name\x3d"',N,'"\x3e',v.cleanEscapeHTML($,!0),"\x3c/span\x3e","\x3c/td\x3e"),a.successful?(k.push('\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',t,'"\x3e',Number(ba.rowCount)?String(ba.rowCount):"0","\x3c/span\x3e\x3c/td\x3e"),k.push('\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',u,'"\x3e',Number(ba.ignoredCount)?
String(ba.ignoredCount):"0","\x3c/span\x3e\x3c/td\x3e"),k.push('\x3ctd\x3e\x3cspan data-anaplan-element-name\x3d"',q,'"\x3e',Number(ba.failureCount)?'\x3cspan class\x3d"hard-fail-icon"\x3e\x3c/span\x3e':"0",ba.failureCount,"\x3c/span\x3e\x3c/td\x3e")):Number(ba.failureCount)&&k.push(['\x3ctd\x3e\x3cspan class\x3d"hard-fail-icon"\x3e\x3c/span\x3e\x3cspan data-anaplan-element-name\x3d"',q,'"\x3e',ba.failureCount,"\x3c/span\x3e ",w.failed,"\x3c/td\x3e"].join("")),k.push("\x3c/tr\x3e"),0<Z){k.push('\x3ctr class\x3d"lineItem"\x3e',
'\x3ctd colspan\x3d"4" class\x3d"failureDetail"\x3e',"\x3cdiv\x3e",'\x3cul class\x3d"error-detail"\x3e');for(T=0;T<Z;T++)S=Q+"-LineItem"+R+"-Error"+T,aa=ja[T],k.push("\x3cli\x3e",'\x3cspan data-anaplan-element-name\x3d"',S,'"\x3e',v.cleanEscapeHTML(aa.localMessageText,!0),"\x3c/span\x3e"),void 0!==aa.occurrences&&1<aa.occurrences&&k.push(r.substitute(w.labelFailureDetailOccurrences,{occurrences:aa.occurrences})),k.push("\x3c/li\x3e");k.push("\x3c/ul\x3e","\x3c/div\x3e","\x3c/td\x3e","\x3c/tr\x3e")}}else a.successful?
m.push("\x3ctr\x3e\x3ctd\x3e",v.cleanEscapeHTML(X.localMessageText),"\x3c/td\x3e\x3c/tr\x3e"):k.unshift('\x3cdiv class\x3d"error-red error-red-bottom-margin"\x3e',v.cleanEscapeHTML(X.localMessageText),"\x3c/div\x3e")}}a.successful?(k.push(m.join("")),k.push("\x3c/tbody\x3e\x3c/table\x3e")):k.push("\x3ctable\x3e\x3ctbody\x3e",m.join(""),"\x3c/tbody\x3e\x3c/table\x3e");return k.join("")}catch(ga){z.throwClientException(this,ga)}},_processUsersOrVersionsImportResult2:function(a,b,d){try{var e=this.summaryMessageKeys,
g=b.summaryDetails,f=g.length,h,k,r,m=[],n,t,l=this._separateProcessResults(b.failureDetails,g),u=this._reportSoftFailures(l.softFails,!1,d),p;b=d+"TargetName";var q,l=d+"Message",N,Q=d+"CreatedCount",S,R=d+"UpdatedCount",W;d+="FailedCount";var Y;switch(a){case y.importType.USERS:p=w.users;break;case y.importType.VERSIONS:p=w.versions;break;default:alert("_processUsersOrVersionsImportResult2 unknown import type")}if(0<f){for(h=0;h<f;h++)k=g[h],r=k.substitutions,q=b+h,N=l+h,S=Q+h,W=R+h,Y=d+h,-1!==
s.indexOf(e,k.messageKey)?(n=r.updatedCount?Number(r.updatedCount):0,t=(r.failedCount?Number(r.failedCount):0)+(r.invalidCount?Number(r.invalidCount):0),m.push('\x3ctable class\x3d"newSummaryTable"\x3e',"\x3ctbody\x3e","\x3ctr\x3e","\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',q,'"\x3e',p,"\x3c/span\x3e","\x3c/td\x3e","\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',S,'"\x3e',r.createdCount,"\x3c/span\x3e ",w.created,"\x3c/td\x3e","\x3ctd\x3e",'\x3cspan data-anaplan-element-name\x3d"',
W,'"\x3e',n,"\x3c/span\x3e ",w.updated,"\x3c/td\x3e",t?'\x3ctd align\x3d"right"\x3e\x3cspan class\x3d"hard-fail-icon"\x3e\x3c/span\x3e':"\x3ctd\x3e",'\x3cspan data-anaplam-element-name\x3d"',Y,'"\x3e',t,"\x3c/span\x3e ",w.failed,"\x3c/td\x3e","\x3c/tr\x3e",u,"\x3c/tbody\x3e","\x3c/table\x3e")):m.push('\x3cdiv data-anaplan-element-name\x3d"',N,'"\x3e',v.cleanEscapeHTML(k.localMessageText),"\x3c/div\x3e");m.push("\x3c/tbody\x3e\x3c/table\x3e")}return m.join("")}catch(T){z.throwClientException(this,
T)}}})})},"anaplan/view/ReOrder/dataprovider":function(){define("dojo/_base/declare dojo/Evented dojo/_base/lang dojo/_base/array anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ViewRequestRequestGenerator anaplan/common/ViewSerialNumbers anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper anaplan/utils/UIHelper anaplan/data/ChangeFactory anaplan/data/RequestFactory".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a){return l([s],{moduleId:null,hierarchyId:null,viewDefinition:null,
constructor:function(a){p.mixin(this,p.mixin({},a));this._serialNumbers=new m},initialize:function(){f.addObserver(this);f.gather()},view:function(){return(new n(workspaceId)).getRequest({modelId:modelId,viewDefinition:this.viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:0}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})},uninitialize:function(){f.deleteObserver(this);this._selector&&this._selector.destroyRecursive(!1);
this.inherited(arguments)},update:function(a){a=a[0];var b=this._serialNumbers,d=this._serialNumbers=new m(a.serialNumbers);this._viewIndex=a.viewIndex;b.rowAxisSerialNumber!==d.rowAxisSerialNumber&&(1!==a.rowLabelPages.length&&console.warn(this.declaredClass+".update got "+a.rowLabelPages.length+" row label pages; expected 1"),this._labelPage=a.rowLabelPages[0],this.onUpdated(this._labelPage))},error:function(){return!1},dispose:function(){f.deleteObserver(this)},commitOrder:function(a){var b=this,
d=this._getTransactions(a),e=[],g=function(b){var d=a.entityLongIds[b];return void 0===a.locked[d]?d:g(b+1)},f=g(0),h=this._getModelChangeGenerator(f);q.forEach(d,function(a){e.push({modelId:modelId,moduleId:b.moduleId,modelChangeXml:h.getModelChangeXml("MOVE",{position:a.position,name:a.name,moduleId:b.moduleId,hierarchyId:b.hierarchyId,relativeToLabel:a.relativeToLabel,relativeToEntityLongId:a.relativeToEntityLongId})})});this._doMove(e)},_getTransactions:function(a){var b=p.clone(this._labelPage.labels[0]),
d=p.clone(this._labelPage.entityLongIds[0]),g=[],f=function(){h=!0;for(var k=b.length;0<=k;k--)if(a.labels[k]!==b[k]){var m=q.indexOf(a.labels,b[k]),n=k-m,l=q.indexOf(b,a.labels[k]),p=null,s=null;n<k-l?(s=0===k?k+1:k,p={position:0===k?"before":"after",name:a.labels[k],relativeToLabel:b[s],relativeToEntityLongId:d[s]},g.push(p),b=e.moveItemInArray(b,l,s)):(s=0===m?0:m-1,p={position:0===m?"before":"after",name:b[k],relativeToLabel:b[s],relativeToEntityLongId:d[s]},g.push(p),b=e.moveItemInArray(b,k,
m));h=0===k;break}!1===h&&f()},h=!1;f();return g},_getModelChangeGenerator:function(a){a=h.getEntityTypeIndex(a);a=k.getEntityType(a);return(new d).getModelChangeGenerator(a)},_doMove:function(d){try{var b=a.createRequest(workspaceId,[{workspaceId:workspaceId,cellChanges:[],modelChanges:d}],[],[]);f.gather(b);this.onCommitFinished()}catch(e){g.throwClientException(this,e)}},onUpdated:function(){},onCommitFinished:function(){}})})},"anaplan/gridlet/_editor/dataTypes/FilteredList/dataprovider":function(){define("dojo/_base/array anaplan/data/ModelContentCache anaplan/constants anaplan/utils/JsHelper dojo/i18n!anaplan/nls/dataType dojo/_base/lang dojox/lang/functional dojox/lang/functional/fold".split(" "),
function(l,s,p,q,f,k,n){return{getLists:function(){var f=s.getHierarchiesLabelPage(),f=this._groupArrays({entityLongId:f.entityLongIds[0],label:f.labels[0]}),h=s.getHierarchySubsetsLabelPage(),e=s.getHierarchySubsetInfos(),h=this._groupArrays({entityLongId:h.entityLongIds[0],label:h.labels[0],info:e}),e=this._mapFlatten(s.getLineItemSubsetCategoryInfos(),function(e){e=e.lineItemSubsets;return this._groupArrays({entityLongId:e.entityLongIds[0],label:e.labels[0]})},this);return f.concat(h,e)},getKeyedLists:function(){var f=
this.getLists(),h={};l.forEach(f,function(e){h[e.entityLongId]=e.label});return h},getListFormattedProperties:function(f){var h=s.getHierarchiesLabelPage(),e=[];l.forEach(h.entityLongIds[0],k.hitch(this,function(g){if(!f||-1<l.indexOf(f,g))g=s.getHierarchyInfo(g),g=this._groupArrays({entityLongId:g.propertiesLabelPage.entityLongIds,label:g.propertiesLabelPage.labels,info:g.propertiesInfo}),l.forEach(g,k.hitch(this,function(d){"ENTITY"===d.info.format.dataType&&e.push(d)}))}));return e},getKeyedListFormattedProperties:function(){var f=
this.getListFormattedProperties(),h={};l.forEach(f,function(e){h[e.entityLongId]=e});return h},getListFormattedLineItems:function(f){return this.getLineItems(f,["ENTITY"])},getLineItems:function(f,h){var e=s.getModulesLabelPage(),g=[];l.forEach(e.entityLongIds[0],k.hitch(this,function(d){if(!f||-1<l.indexOf(f,d))d=s.getModuleInfo(d),d=this._groupArrays({entityLongId:d.lineItemsLabelPage.entityLongIds[0],label:d.lineItemsLabelPage.labels[0],info:d.lineItemInfos}),l.forEach(d,k.hitch(this,function(a){h?
-1<l.indexOf(h,a.info.format.dataType)&&g.push(a):g.push(a)}))}));return g},getKeyedLineItems:function(){var f=this.getLineItems(),h={};l.forEach(f,function(e){h[e.entityLongId]=e});return h},getKeyedListFormattedLineItems:function(){var f=this.getListFormattedLineItems(),h={};l.forEach(f,function(e){h[e.entityLongId]=e});return h},getRelationshipsForDrivingList:function(k,h){s.getHierarchySubsetInfo(h)&&(h=s.getHierarchyInfoForHierarchySubsetEntityLongId(h).entityLongId);var e=this.getRelationships()[k],
g=[];e.parentRelationship&&h===e.parentRelationship.entityLongId&&g.push({entityLongId:e.parentRelationship.sourceId,label:e.parentRelationship.label+f.labelParentItem,source:e.parentRelationship.label+f.labelParentItem,target:e.parentRelationship.label+" "+f.labelItem,sourceId:p.SYSTEM_PROPERTY_PARENT,targetId:p.SYSTEM_PROPERTY_ID});l.forEach(e.propertiesRelationship,function(d){if(h===d.prop1.relatesToEntityLongId){var a=k===d.prop2.relatesToEntityLongId;(e.isSubset&&e.sourceListId===d.prop2.relatesToEntityLongId||
a)&&g.push({entityLongId:d.sourceId,label:d.sourceLabel+"."+d.prop1.label+" "+d.sourceLabel+"."+d.prop2.label,source:d.sourceLabel+"."+d.prop1.label,target:d.sourceLabel+"."+d.prop2.label,sourceId:d.prop1.entityLongId,targetId:d.prop2.entityLongId})}});l.forEach(e.propertyRelationship,function(d){h===d.relatesToEntityLongId&&g.push({entityLongId:d.sourceId,label:d.sourceLabel+"."+d.label,source:d.sourceLabel+"."+d.label,target:d.sourceLabel+" "+f.labelItem,sourceId:d.entityLongId,targetId:p.SYSTEM_PROPERTY_ID})});
return g},getPropertyPairsForDrivingList:function(f,h){var e=this.getRelationshipsForDrivingList(f,h),g={sources:[],targets:{},targetmap:{}},d={};l.forEach(e,function(a){q.isUndefined(d[a.sourceId])&&(g.sources.push({entityLongId:a.sourceId,label:a.source}),d[a.sourceId]=!0);q.isUndefined(g.targets[a.sourceId])&&(g.targets[a.sourceId]=[],g.targetmap[a.sourceId]={});q.isUndefined(g.targetmap[a.sourceId][a.targetId])&&(g.targetmap[a.sourceId][a.targetId]=!0,g.targets[a.sourceId].push({entityLongId:a.targetId,
label:a.target,mappingHierarchyEntityLongId:a.entityLongId}))});return g},getRelationshipsInProperties:function(f,h,e){h=this.getListFormattedProperties([h]);var g=this.getRelationships()[f].canBeFilteredBy,d=[];l.forEach(h,function(a){a.entityLongId!==e&&-1<l.indexOf(g,a.info.format.hierarchyEntityLongId)&&d.push(a)});return d},getRelationshipsInLineItems:function(f,h,e){h=this.getListFormattedLineItems([h]);var g=this.getKeyedLineItems()[e].info,d=this.getRelationships(),a=d[f].canBeFilteredBy,
r=[];l.forEach(h,k.hitch(this,function(b){if(b.entityLongId!==e){var f=l.filter(a,function(a,b,d){return l.indexOf(d,a)===b}),h=!1;l.forEach(f,k.hitch(this,function(a){b.info.format.hierarchyEntityLongId===a?h=!0:(a=d[a],a.isSubset&&a.sourceListId===b.info.format.hierarchyEntityLongId?h=!0:-1<l.indexOf(a.subsets,b.info.format.hierarchyEntityLongId)&&(h=!0))}));h&&this._hasValidDimensions(b.info,g)&&r.push(b)}}));return r},_hasValidDimensions:function(f,h){var e=function(e){return-1<l.indexOf(h.fullAppliesTo,
e)};return l.filter(f.fullAppliesTo,function(f){if(s.getHierarchySubsetInfo(f)){var d=parseInt(s.getHierarchyInfoForHierarchySubsetEntityLongId(f).entityLongId,10);return e(d)||e(f)}return(d=s.getHierarchyInfo(f))?0<l.filter(d.subsetEntityLongIds,function(a){return e(a)}).length||e(f):e(f)}).length===f.fullAppliesTo.length},getRelationships:function(){var f=function(b,e,f){a[b].canBeFilteredBy.push(e);a[b].parentRelationship={entityLongId:e,label:d[f],parent:d[e],sourceId:u.entityLongId}},h=function(b,
e,f){var g=d[b],h=a[e.relatesToEntityLongId],r=f.relatesToEntityLongId,m=a[r];h.canBeFilteredBy.push(r);h.propertiesRelationship.push({prop1:f,prop2:e,sourceLabel:g,sourceId:parseInt(b,10)});0<h.subsets.length&&l.forEach(h.subsets,function(d){d=a[d];d.canBeFilteredBy.push(r);d.propertiesRelationship.push({prop1:f,prop2:e,sourceLabel:g,sourceId:parseInt(b,10)})});if(h.isSubset){var n=a[h.sourceListId],t=k.clone(e);t.relatesToEntityLongId=h.sourceListId;n.canBeFilteredBy.push(r);n.propertiesRelationship.push({prop1:f,
prop2:t,sourceLabel:g,sourceId:parseInt(b,10)})}m.isSubset&&(n=k.clone(f),n.relatesToEntityLongId=m.sourceListId,h.canBeFilteredBy.push(r),h.propertiesRelationship.push({prop1:n,prop2:e,sourceLabel:g,sourceId:parseInt(b,10)}))},e=function(b,e,f,g,h){a[e].canBeFilteredBy.push(f);a[e].propertiesRelationship.push({prop1:g,prop2:h,sourceLabel:d[b],sourceId:parseInt(b,10)})},g=function(b,d){a[b].propertyRelationship.push(d);a[b].canBeFilteredBy.push(d.relatesToEntityLongId)},d=this.getKeyedLists(),a={},
r;for(r in d)q.has(d,r)&&(a[r]={listName:d[r],canBeFilteredBy:[],parentRelationship:null,propertyRelationship:[],propertiesRelationship:[],subsets:[],isSubset:!1,sourceListId:null});for(r in d)if(q.has(d,r)&&s.getHierarchySubsetInfo(r)){var b=parseInt(s.getHierarchyInfoForHierarchySubsetEntityLongId(r).entityLongId,10);a[b].subsets.push(parseInt(r,10));a[r].isSubset=!0;a[r].sourceListId=b}for(r in d)if(q.has(d,r)){var n=r=parseInt(r,10);s.getHierarchySubsetInfo(r)&&(n=s.getHierarchyInfoForHierarchySubsetEntityLongId(r).entityLongId);
var u=this.getParentRelationship(n);q.isObject(u)&&f(r,u.parentHierarchyEntityLongId,n);var v=this.getListProperties(n);v&&0<v.length&&l.forEach(v,function(a){a.sourceLabel=d[n];a.sourceId=n;g(r,a);l.forEach(v,function(b){b!==a&&h(r,a,b);u&&(b={label:"Parent",entityLongId:p.SYSTEM_PROPERTY_PARENT,relatesToEntityLongId:u.parentHierarchyEntityLongId,sourceId:u.entityLongId},e(r,u.parentHierarchyEntityLongId,a.relatesToEntityLongId,a,b),e(r,a.relatesToEntityLongId,u.parentHierarchyEntityLongId,b,a))})})}return a},
getParentRelationship:function(f){return(f=s.getHierarchyInfo(f))&&-1!==f.parentHierarchyEntityLongId?{entityLongId:f.entityLongId,parentHierarchyEntityLongId:f.parentHierarchyEntityLongId}:null},getListProperties:function(f){f=s.getHierarchyInfo(f);var h=[];f&&(f=this._groupArrays({entityLongId:f.propertiesLabelPage.entityLongIds,label:f.propertiesLabelPage.labels,info:f.propertiesInfo}),l.forEach(f,function(e){"ENTITY"===e.info.format.dataType&&h.push({label:e.label,entityLongId:e.entityLongId,
relatesToEntityLongId:e.info.format.hierarchyEntityLongId})}));return h},_mapFlatten:function(f,h,e){f=l.map(f,h,e);return n.reduce(f,function(e,d){return e.concat(d)})},_groupArrays:function(f){var h=q.getObjectKeys(f);return l.map(f[h[0]],function(e,g){var d={};l.forEach(h,function(a){d[a]=f[a][g]});return d})}}})},"anaplan/widgets/SortableList":function(){define("anaplan/utils/TestAttributesHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/data/ModelContentCache dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/_base/lang dojo/query dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/_base/array dojo/window dojo/dnd/Source dojo/text!anaplan/templates/Widgets/SortableList.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){return f([k,n,m],{canDrag:!0,templateString:v,baseClass:"sortableList",alwaysUseItemStyle:!1,_ignoreNextChangedEv:!1,constructor:function(a){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);l.add(this.listNode,"listSortableList")},startup:function(){},_attach:function(){var a=this;h(this.listNode,"li:click",function(){a.onSelectionChanged()});h(this._dndSource,"Drop",function(b,e){for(var f=a._getItems(),g={},h=e.length-1;0<=
h;h--){var k=e[h],r=f.indexOf(k),k=d.get(k,"data-entitylongid"),m=a._labelPage.getIndexById(k);m>r?g[m]=r:(a._ignoreNextChangedEv=!0,a._labelPage.moveItemById(k,r))}for(var n in g)g.hasOwnProperty(n)&&(a._ignoreNextChangedEv=!0,a._labelPage.moveItem(n,g[n]))})},render:function(){this.clear();for(var a=this._labelPage.getValues(),b=[],d=0;d<a.count;d++){var e=this._createListItemHtml(a.entityLongIds[d],a.labels[d],void 0!==a.locked[a.entityLongIds[d]]);b.push(e)}this.listNode.innerHTML=b.join("");
!0===this._labelPage.hasUnlockedItems()&&(this._dndSource&&this._dndSource.destroy(),this._dndSource=new u(this.listNode,{isSource:this.canDrag}),this._attach());this.onViewChanged();this.onSelectionChanged()},_createListItemHtml:function(a,b,d){b=s.escapeHTML(b);var e;e=(e=this.alwaysUseItemStyle?this._getItemStyle(a):this._getLineItemStyle(a))?"line-item-"+e:"";if(d)return'\x3cli title\x3d"This item cannot be moved" class\x3d"locked-item" data-locked\x3d"true" data-entitylongid\x3d"'+a+'"\x3e\x3cspan class\x3d"'+
e+'"\x3e'+b+'\x3c/span\x3e\x3cdiv class\x3d"locked-icon"\x3e\x3c/div\x3e\x3c/li\x3e';d=[];d.push('\x3cli class\x3d"dojoDndItem" data-entitylongid\x3d"'+a+'"\x3e');d.push('\x3cspan class\x3d"'+e+'"\x3e'+b+"\x3c/span\x3e");this.canDrag&&d.push('\x3cdiv class\x3d"dojoDndHandle"\x3e\x3c/div\x3e');d.push("\x3c/li\x3e");return d.join("")},_getItemStyle:function(a){var b=this._labelPage._labelPage?this._labelPage._labelPage:this._labelPage;if(!b.styles)return"";a=b.entityLongIds[0].indexOf(a);return-1===
a?"":b.styles[0][a]||"normal"},_getLineItemStyle:function(a){return!q.getLineItemInfo(a)||!this._labelPage?"":this._getItemStyle(a)},clear:function(){this.listNode.innerHTML=""},setLabelPage:function(a){var b=this;this._labelPage=a;h(this._labelPage,"Changed",function(){!1===b._ignoreNextChangedEv?b.render():b._ignoreNextChangedEv=!1;b.onDataChanged()});this.render();b.onDataChanged()},_getSelectedNodes:function(a){var d=this._dndSource.getSelectedNodes();if(!1===a||0===d.length)return d;var e=this._getItems(),
f={};b.forEach(d,function(a){f[e.indexOf(a)]=a});return p.getObjectValues(f)},getSelected:function(){var a=this._getSelectedNodes(!1),e=[];b.forEach(a,function(a){a=d.get(a,"data-entitylongid");e.push(a)});return e},setSelected:function(a){var d=this;if(a&&0<a.length&&this._labelPage.hasUnlockedItems()){var e=[];b.forEach(a,function(a){!1===d._labelPage.isLocked(a)&&(a=g('li[data-entitylongid\x3d"'+a+'"]',d.listNode)[0])&&e.push(a)});this._setSelectedNodes(e)}},_setSelectedNodes:function(a){var d=
this;0<a.length&&this._labelPage.hasUnlockedItems()&&(b.forEach(a,function(a){d._dndSource._addItemClass(a,"Selected");d._dndSource.selection[a.id]=1}),d._dndSource._removeAnchor(),d._scrollTo(a[0]),d._dndSource.sync(),d.onSelectionChanged())},moveSelectedItemsTop:function(){this._moveSelected("top")},moveSelectedItemsBottom:function(){this._moveSelected("bottom")},moveSelectedItemsDown:function(){this._moveSelected("down")},moveSelectedItemsUp:function(){this._moveSelected("up")},hasSelection:function(){return 0<
this._getSelectedNodes(!1).length},_scrollTo:function(a){var b=r.position(a);b.y+=50;t.scrollIntoView(a,b)},highlightItemContaining:function(a){if(!1===e.isString(a)||0===a.length)this.removeHighlight();else{var d=this._labelPage.findNextItemByPhrase(a),f=this._labelPage.getValues(),g=this._getItems(),h,k;if(0<d.length){this._scrollTo(g[d[0]]);for(h=0;h<g.length;h++)k=g[h].firstChild,-1<b.indexOf(d,h)?k.innerHTML="\x3cspan\x3e"+s.escapeHTML(f.labels[h]).replace(RegExp("("+s.escapeHTML(a)+")","i"),
'\x3cspan class\x3d"marked"\x3e$1\x3c/span\x3e')+"\x3c/span\x3e":k.innerHTML="\x3cspan\x3e"+s.escapeHTML(f.labels[h])+"\x3c/span\x3e";this.onSearchMatches(d)}else this.removeHighlight(),this.onSearchNoMatches()}},removeHighlight:function(){var a,b,d=this._getItems(),e=this._labelPage.getValues();for(a=0;a<d.length;a++)b=d[a].firstChild,b.innerHTML="\x3cspan\x3e"+s.escapeHTML(e.labels[a])+"\x3c/span\x3e";this._scrollTo(d[0])},_moveSelected:function(a){var b={up:this._moveItemsUp,down:this._moveItemsDown,
top:this._moveItemsTop,bottom:this._moveItemsBottom};if(e.isFunction(b[a])){var d=this._getSelectedNodes();b[a].call(this,d)}},_getItems:function(){return g("\x3e li",this.listNode)},_moveItemsDown:function(a,b){if(0<a.length){for(var d=this.getSelected(),e=this._getItems(),f=isNaN(b)?e.length-1:b,g=!1,h=a.length;0<h;h--)e.indexOf(a[h])===f&&(f--,g=!0);h=null;!0===g?(h=e[f],e=e.length-f-1,a.splice(a.length-e,e)):(f=e.indexOf(a[a.length-1]),h=isNaN(b)?e[f+1]:e[b]);this._dndSource.current=h;this._dndSource.before=
!1;this._dndSource.onDndDrop(this._dndSource,a,!1,this._dndSource);this._resetLocked();this.setSelected(d)}},_moveItemsUp:function(a,d){if(0<a.length){var e=this.getSelected(),f=this._getItems(),g=isNaN(d)?0:d,h=!1;b.forEach(a,function(a){f.indexOf(a)===g&&(g++,h=!0)});var k=null;!0===h?(k=f[g],a.splice(0,g)):k=isNaN(d)?a[0].previousSibling:f[d];this._dndSource.current=k;this._dndSource.before=!0;this._dndSource.onDndDrop(this._dndSource,a,!1,this._dndSource);this._resetLocked();this.setSelected(e)}},
_resetLocked:function(){var d=this._getItems(),e=this._labelPage.getLockedIndexes(),f,h={},k;for(k in e)if(e.hasOwnProperty(k)&&(f=g("li[data-entitylongid\x3d"+k+"]",this.listNode)[0]))a.add(f,"dojoDndItem"),h[e[k]]=f;this._dndSource.sync();for(var r in h)h.hasOwnProperty(r)&&(f=h[r],b.indexOf(d,f)!==r&&(this._dndSource.selectNone(),this._setSelectedNodes([f]),this._dndSource.current=d[r],this._dndSource.before=!0,this._dndSource.onDndDrop(this._dndSource,[f],!1,this._dndSource),this._dndSource.selectNone(),
a.remove(f,"dojoDndItem")));this._dndSource.sync()},_moveItemsTop:function(a){this._moveItemsUp(a,0)},_moveItemsBottom:function(a){this._moveItemsDown(a,this._labelPage.count()-1)},onSelectionChanged:function(){},onSearchNoMatches:function(){},onSearchMatches:function(){},onDataChanged:function(){},onViewChanged:function(){}})})},"anaplan/dashboard/DashboardExport":function(){define("anaplan/Exceptions anaplan/widgets/Dialog2 dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/registry dojo/_base/declare dojo/dom-style dojo/i18n!anaplan/nls/dashboardExport dojo/i18n!dijit/nls/common dojo/on dojo/sniff dojo/text!anaplan/templates/DashboardExport.html anaplan/widgets/Button anaplan/widgets/TaskProgressMonitor dijit/form/CheckBox dijit/form/NumberTextBox dijit/form/Select".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return m("anaplan.dashboard.DashboardExport",[f,q,k,s.ContentMixin,p],{baseClass:"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft dashboardExport",templateString:r,widgetsInTemplate:!0,cancelExportTask:function(){try{this.reset()}catch(a){throw new l.ClientException("DashboardExport.cancelExportTask",a);}},onExport:function(){},onCancel:function(){},postCreate:function(){this.inherited(arguments);this.okButton.set("label",g.buttonOk);
this.cancelButton.set("label",g.buttonCancel);this.labelPageSize.appendChild(document.createTextNode(e.labelPageSize));this.labelOrientation.appendChild(document.createTextNode(e.labelOrientation));this.labelMargins.appendChild(document.createTextNode(e.labelMargins));this.labelGridHandling.appendChild(document.createTextNode(e.labelGridHandling));this.labelReplicateRowLabels.appendChild(document.createTextNode(e.labelReplicateRowLabels));this.labelAppendGridExports.appendChild(document.createTextNode(e.labelAppendGridExports));
d(n.byId("inputOrientation"),"change",function(b){"PORTRAIT"==b?(a("chrome")?h.set("exportPage",{transform:"rotate(-90deg)",top:"20px"}):h.set("exportPage",{width:"60px",height:"100px",left:"136px"}),h.set("widget_inputMarginsLeft",{left:"-53px",top:"63px"}),h.set("widget_inputMarginsRight",{left:"17px",top:"63px"}),h.set("widget_inputMarginsBottom",{left:"-88px",top:"133px"})):(a("chrome")?h.set("exportPage",{transform:"rotate(0deg)",top:"0"}):h.set("exportPage",{width:"100px",height:"60px",left:"114px"}),
h.set("widget_inputMarginsLeft",{left:"-73px",top:"46px"}),h.set("widget_inputMarginsRight",{left:"36px",top:"46px"}),h.set("widget_inputMarginsBottom",{left:"-86px",top:"93px"}))});this.inputGridHandling.addOption([{value:"TRUNCATE",label:e.optionGridHandlingTruncate},{value:"SPLIT",label:e.optionGridHandlingSplit},{value:"FIT",label:e.optionGridHandlingFit}])},reset:function(){try{this.progressMonitor.cancelTask(),this.okButton.set("disabled",!1)}catch(a){throw new l.ClientException("DashboardExport.cancelExportTask",
a);}},monitorExportTask:function(a){var d=null;try{d=this.progressMonitor.startProgressMonitor(a)}catch(e){throw new l.ClientException("DashboardExport.monitorExportTask",e);}return d},_getValues:function(){return{pageSize:this.inputPageSize.get("value"),orientation:this.inputOrientation.get("value"),margins:this.inputMarginsLeft.get("value")+", "+this.inputMarginsTop.get("value")+", "+this.inputMarginsRight.get("value")+", "+this.inputMarginsBottom.get("value"),gridHandling:this.inputGridHandling.get("value"),
replicateRowLabels:this.inputReplicateRowLabels.get("value"),appendGridExports:this.inputAppendGridExports.get("value")}},_onDashboardExport:function(){this.okButton.set("disabled",!0);h.set(this.progressMonitor.domNode,"display","");this.onExport(this._getValues())},_onCancel:function(a){this.onCancel()}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return s("dojo.dnd.Mover",[h],{constructor:function(d,b,f){function h(a){a.preventDefault();a.stopPropagation()}this.node=k.byId(d);this.marginBox={l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=f;d=d.ownerDocument;this.events=[e(d,g.move,p.hitch(this,"onFirstMove")),e(d,g.move,p.hitch(this,"onMouseMove")),e(d,g.release,p.hitch(this,"onMouseUp")),e(d,"dragstart",h),e(d.body,"selectstart",h)];a.autoScrollStart(d);if(b&&b.onMoveStart)b.onMoveStart(this)},
onMouseMove:function(d){a.autoScroll(d);var b=this.marginBox;this.host.onMove(this,{l:b.l+d.pageX,t:b.t+d.pageY},d);d.preventDefault();d.stopPropagation()},onMouseUp:function(a){(q("webkit")&&q("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,d,e=this.host;switch(b.position){case "relative":case "absolute":d=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;
default:b.position="absolute";b=n.getMarginBox(this.node);d=f.doc.body;var g=m.getComputedStyle(d),h=n.getMarginBox(d,g),g=n.getContentBox(d,g);d=b.l-(g.l-h.l);b=b.t-(g.t-h.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(e&&e.onFirstMove)e.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"anaplan/widgets/ConfirmationDialog":function(){define("anaplan/utils/UIHelper anaplan/widgets/Button anaplan/widgets/Dialog dijit/form/CheckBox dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/i18n!anaplan/nls/confirmation dojo/i18n!dijit/nls/common dojo/on dojo/dom-class".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return f([p],{constructor:function(a){this.inherited(arguments);this._buttons=[];a&&a.hasOwnProperty("buttons")?this._buttonConfig=a.buttons:this._buttonConfig=[{isPrimary:!0},{isCancel:!0}]},postCreate:function(){this.inherited(arguments);h.set(this.closeButtonNode,"visibility","hidden");a.add(this.domNode,"qa-dialog-confirm");this._divButtons=m.create("div");this._divButtons.className="dijit dijitReset dijitLeft buttons";n.forEach(this._buttonConfig,k.hitch(this,
function(a){var b;b=a.isPrimary?new s({label:a.label||g.buttonOk,type:"submit","class":"primary-button",onClick:k.hitch(this,function(){a&&a.handler&&a.handler()})}):a.isCancel?new s({label:a.label||g.buttonCancel,onClick:k.hitch(this,function(){this.onCancel();a&&a.handler&&a.handler()})}):new s({label:a.label||g.buttonCancel,onClick:k.hitch(this,function(){a&&a.handler&&a.handler();this.hide()})});this._buttons.push(b);this._divButtons.appendChild(b.domNode)}));h.set(this._divButtons,"padding",
"10px");h.set(this.domNode,"width","600px");this.domNode.appendChild(this._divButtons);this.own(d(this,"execute",k.hitch(this,this._onExecute)));this.get("title")||this.set("title",e.titleConfirm)},show:function(){this.inherited(arguments);this._disableCheckBox&&this._disableCheckBox.set("checked",!1);a.add(this.domNode,"qa-dialog-is-displayed")},onHide:function(){a.remove(this.domNode,"qa-dialog-is-displayed")},uninitialize:function(){this._buttons&&this._buttons.length&&this._destroyButtons();this._disableCheckBox&&
(this._disableCheckBox.destroy(),this._disableCheckBox=null);this.inherited(arguments)},_destroyButtons:function(){n.forEach(this._buttons,function(a){a&&a.destroy()});this._buttons.length=0;this._buttons=[];n.forEach(this._buttonConfig,function(a){});this._buttonConfig.length=0;this._buttonConfig=[]},_onExecute:function(){this._changeValidator&&(this._disableCheckBox&&this._disableCheckBox.get("checked"))&&this._changeValidator.disableLastConfirmations()},_setChangeValidatorAttr:function(a){a?(this._changeValidator=
a,this._disableDiv?this._disableDiv.style.display="":this._disableDiv=m.create("div",{"class":"confirmationDisableDiv"},this._divButtons,"before"),this._disableCheckBox||(this._disableCheckBox=new q,m.place(this._disableCheckBox.domNode,this._disableDiv),a=m.create("label",{"for":this._disableCheckBox.id},this._disableDiv),l.setText(a,e.disableConfirmation))):(this._changeValidator=null,this._disableDiv&&(this._disableDiv.style.display="none"))}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],
function(l){return function(s,p){function q(f){f=l.filter(f,s);var n=p&&p.sort;n&&f.sort("function"==typeof n?n:function(f,e){for(var g,d=0;g=n[d];d++){var a=f[g.attribute],k=e[g.attribute],a=null!=a?a.valueOf():a,k=null!=k?k.valueOf():k;if(a!=k)return!!g.descending==(null==a||a>k)?-1:1}return 0});if(p&&(p.start||p.count)){var m=f.length;f=f.slice(p.start||0,(p.start||0)+(p.count||Infinity));f.total=m}return f}switch(typeof s){default:throw Error("Can not query with a "+typeof s);case "object":case "undefined":var f=
s;s=function(k){for(var n in f){var m=f[n];if(m&&m.test){if(!m.test(k[n],k))return!1}else if(m!=k[n])return!1}return!0};break;case "string":if(!this[s])throw Error("No filter function "+s+" was found in store");s=this[s];case "function":}q.matches=s;return q}})},"anaplan/widgets/InlineSearch":function(){define("anaplan/Exceptions anaplan/utils/UIHelper dijit/_FocusMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-style dojo/i18n!anaplan/nls/searchPane dojo/keys dojo/text!anaplan/templates/Widgets/InlineSearch.html dijit/form/TextBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return n([f,q,k,p],{baseClass:"inlineSearch",searchProvider:null,placeholder:d.labelSearchPlaceholder,templateString:r,constructor:function(){},doSearch:function(){return this.searchProvider.search(this.tbSearch.getDisplayedValue())},focus:function(){this.tbSearch.focus()},onSearch:function(){},onSearchClear:function(){},onSearchError:function(a){},onSearchMatches:function(a){},_clearSearch:function(){this.tbSearch.setDisplayedValue("")},_doSearch:function(a){this.emit("Search");
this.searchProvider.search(a).then(h.hitch(this,function(a){this.emit("SearchMatches",a)}),h.hitch(this,function(a){this.emit("SearchError",a);s.showErrorReporter(new l.ClientException("_doSearch",a,{id:this.id}))}))},_onBlur:function(){e.remove(this.domNode,"focus");this.inherited(arguments)},_onClearButtonClick:function(){this._clearSearch()},_onFocus:function(){e.add(this.domNode,"focus");this.inherited(arguments)},_onKeyDown:function(b){switch(b.keyCode){case a.ESCAPE:var d=this.tbSearch.getDisplayedValue();
d&&d.length&&(this._clearSearch(),m.stop(b));break;case a.ENTER:this._searchTimer&&clearTimeout(this._searchTimer);this._doSearch(this.tbSearch.getDisplayedValue());m.stop(b);break;case a.LEFT_ARROW:case a.RIGHT_ARROW:case a.HOME:case a.END:b.stopPropagation()}},_onSearchButtonClick:function(){this._searchTimer&&clearTimeout(this._searchTimer);this._doSearch(this.tbSearch.getDisplayedValue())},_onSearchChange:function(){var a=this.tbSearch.getDisplayedValue();this._searchTimer&&clearTimeout(this._searchTimer);
a.length?("hidden"===g.get(this.btnClear,"visibility")&&g.set(this.btnClear,"visibility","visible"),this._searchTimer=setTimeout(h.hitch(this,function(){this._doSearch(a)}),500)):("hidden"!==g.get(this.btnClear,"visibility")&&g.set(this.btnClear,"visibility","hidden"),this.emit("SearchClear"))},_setDisabledAttr:function(a){this._set("disabled",a);this.tbSearch.set("disabled",a);e.toggle(this.domNode,"dijitMenuItemDisabled",a)},_setSearchProviderAttr:function(a){this._set("searchProvider",a);this.tbSearch.set("disabled",
null===a)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return l("dijit._HasDropDown",t,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below",
"above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(g.once(this.ownerDocument,d.release,e.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(b){var d=this.dropDown,e=!1;if(b&&this._opened){var g=k.position(this._buttonNode,!0);if(!(b.pageX>=g.x&&b.pageX<=g.x+g.w)||!(b.pageY>=g.y&&b.pageY<=g.y+g.h)){for(g=b.target;g&&!e;)f.contains(g,"dijitPopup")?
e=!0:g=g.parentNode;if(e){g=b.target;if(d.onItemClick){for(var h;g&&!(h=a.byNode(g));)g=g.parentNode;if(h&&h.onClick&&h.getParent)h.getParent().onItemClick(h,b)}return}}}if(this._opened){if(d.focus&&(!1!==d.autoFocus||"mouseup"==b.type&&!this.hovering))this._focusDropDownTimer=this.defer(function(){d.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(g(this._buttonNode,
d.press,e.hitch(this,"_onDropDownMouseDown")),g(this._buttonNode,"click",e.hitch(this,"_onDropDownClick")),g(a,"keydown",e.hitch(this,"_onKey")),g(a,"keyup",e.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,d=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),
a.preventDefault();else if(b&&this._opened&&a.keyCode==h.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==h.DOWN_ARROW||(a.keyCode==h.ENTER||a.keyCode==h.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();
var a=this.dropDown;a&&a.focus&&this.defer(e.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new s,b=e.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=
this.dropDown,d=a.domNode,g=this._aroundNode||this.domNode,h=this,r=b.open({parent:this,popup:a,around:g,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){h.closeDropDown(!0)},onCancel:function(){h.closeDropDown(!0)},onClose:function(){q.set(h._popupStateNode,"popupActive",!1);f.remove(h._popupStateNode,"dijitHasDropDownOpen");h._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&g.offsetWidth>a._popupWrapper.offsetWidth){var g=g.offsetWidth-a._popupWrapper.offsetWidth,
m={w:a.domNode.offsetWidth+g};e.isFunction(a.resize)?a.resize(m):k.setMarginBox(d,m);"R"==r.corner[1]&&(a._popupWrapper.style.left=a._popupWrapper.style.left.replace("px","")-g+"px")}q.set(this._popupStateNode,"popupActive","true");f.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==d.getAttribute("role")&&!d.getAttribute("aria-labelledby")&&d.setAttribute("aria-labelledby",
this.id);return r},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),b.close(this.dropDown),this._opened=!1)}})})},"anaplan/api/Fetchers/Entities/Modules":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Entities/Base/LabelPageWithDataPages","anaplan/utils/JsHelper"],function(l,s,p){return l([s],{_populateData:function(l,
f){var k=this.inherited(arguments);p.isObject(l)?k.functionalAreaId=p.tryParseInt(l.FUNCTIONAL_AREA.cellValue,-1):console.warn("Expected data object for the Module when trying to _populateData");return k}})})},"anaplan/widgets/Select":function(){define(["dojo/_base/declare","dijit/form/Select","anaplan/widgets/_DomVisibleMixin","anaplan/widgets/_ListsMixin","anaplan/utils/JsHelper"],function(l,s,p,q,f){return l([s,p,q],{getSelectedItem:function(){if(this.store&&this.store.objectStore){var f={};f[this.store.objectStore.idProperty]=
this.getValue();f=this.store.objectStore.query(f);return 1===f.length?f[0]:f}return null},_setValueAttr:function(k){this.inherited(arguments);k&&f.isNullOrUndefined(this.item)&&(this.item=this.getSelectedItem())}})})},"anaplan/view/Filter/MainView":function(){define("anaplan/constants anaplan/utils/UIHelper anaplan/utils/FormatHelper dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/SelectionHelper dojo/i18n!anaplan/nls/filter dojo/i18n!dijit/nls/common dojo/_base/declare dojo/_base/event dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojo/text!anaplan/templates/Filter/MainView.html anaplan/view/Filter/AdvancedTab anaplan/view/Filter/Tab anaplan/view/Filter/DisabledTab dijit/layout/TabContainer anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return r([k,f,n],{baseClass:"filterMainView",tabIndex:-1,templateString:w,constructor:function(a){try{this._context=a.context,this._selection=a.gridSelection,this._gridController=a.gridController,this._selectedRow=a.selectedRow,this._selectedColumn=a.selectedColumn,this._columnAxisTab=this._rowAxisTab=null,this._pageAxisTabs=[]}catch(b){s.throwClientException(this,b)}},getColumnAxisSpecification:function(){return this._columnAxisTab?this._columnAxisTab.getAxisSpecification():
null},getPageAxisSpecifications:function(){return z.map(this._pageAxisTabs,function(a){return a.getAxisSpecification()})},getRowAxisSpecification:function(){return this._rowAxisTab?this._rowAxisTab.getAxisSpecification():null},isValid:function(){var a=this.axisTabContainer.selectedChildWidget;if(a&&!a.isValid())return!1;for(var a=this.axisTabContainer.getChildren(),b=a.length,d=0;d<b;d++){var e=a[d];if(!e.isValid())return this.axisTabContainer.selectChild(e),!1}return!0},onCancel:function(){},onOk:function(){},
_onShow:function(){try{this.onTitleChange(d.titleFilter),this._focusRule?(this._focusRule.setFocus(),this._focusRule=null):this.okButton.focus()}catch(a){s.throwClientException(this,a)}},onTitleChange:function(){},postCreate:function(){try{this.inherited(arguments),this.okButton.set("label",a.buttonOk),this.cancelButton.set("label",a.buttonCancel),this.clearAllButton.set("label",d.buttonClearAll),this._createTabs(),this._handleSelections()}catch(b){s.throwClientException(this,b)}},resize:function(){try{this.inherited(arguments),
this.axisTabContainer.resize()}catch(a){s.throwClientException(this,a)}},_clearAllFilters:function(){try{z.forEach(this.axisTabContainer.getChildren(),function(a){a.clearFilter&&a.clearFilter()})}catch(a){s.throwClientException(this,a)}},_createDisabledTab:function(a,b,d){var e=this._getIconClass(b);a=new D({title:p.escapeHTML(a),rawTitle:a,causeLabel:d,iconClass:e,axisSpecification:b});this.axisTabContainer.addChild(a);return a},_createTab:function(a,b){var d=null;try{var f=h.getAllDimensionIdentifiersForAxisSpecification(b);
if(!f.length||h.axisSpecificationContainsEmpty(b))return null;var g=!1,k=[],r=[];z.forEach(f,function(a){k.push(h.getLabelForDimensionIdentifier(m,a))},this);!this._selectedRow&&a.rowAxisSpecification!==b?(g=!0,z.forEach(h.getAllDimensionIdentifiersForAxisSpecification(a.rowAxisSpecification),function(a){r.push(h.getLabelForDimensionIdentifier(m,a))})):!this._selectedColumn&&a.columnAxisSpecification!==b?(g=!0,z.forEach(h.getAllDimensionIdentifiersForAxisSpecification(a.columnAxisSpecification),function(a){r.push(h.getLabelForDimensionIdentifier(m,
a))})):z.forEach(a.pageAxisSpecifications,function(d,e){if(d!==b&&-1===h.getCurrentPageEntityLongId(a,e,0)){g=!0;var f=h.getAllDimensionIdentifiersForAxisSpecification(d);z.forEach(f,function(a){r.push(h.getLabelForDimensionIdentifier(m,a))})}},this);if(g)return this._createDisabledTab(k.join(" / "),b,r.join(" / "));var n=this._getIconClass(b),d=new (m.hasEntitlement(l.ENTITLED_FEATURES.QUICK_FILTER)?x:A)({title:p.escapeHTML(k.join(" / ")),rawTitle:k.join(" / "),iconClass:n,gridController:this._gridController,
dimensionIdentifiers:f,axisSpecification:b,selectedRow:this._selectedRow,selectedColumn:this._selectedColumn});this.own(y(d,"ActiveStatusChange",v.hitch(this,"_onFilterActiveStatusChange")),y(d,"Clear",v.hitch(this,"_onFilterClear")));this.axisTabContainer.addChild(d)}catch(t){throw new e.ClientException("_MainView._createTab",t);}return d},_createTabs:function(){try{var a=this._gridController.getPageInfo();if(a&&(a.rowAxisSpecification&&(this._rowAxisTab=this._createTab(a,a.rowAxisSpecification)),
a.columnAxisSpecification&&(this._columnAxisTab=this._createTab(a,a.columnAxisSpecification)),a.pageAxisSpecifications&&z.forEach(a.pageAxisSpecifications,function(b){(b=this._createTab(a,b))&&this._pageAxisTabs.push(b)},this),!this.axisTabContainer.getChildren().length)){t.set(this.axisTabContainer.domNode,"display","none");t.set(this.clearAllButton.domNode,"display","none");var b=document.createElement("span");b.innerHTML=p.searchAndReplacePlaceholders(d.infoFilterNoAxes);u.place(b,this.axisTabContainer.domNode,
"before")}}catch(e){s.throwClientException(this,e)}},_getIconClass:function(a){var b=!0,d=!1;if(a&&a.axisDefinition&&a.axisDefinition.sortAndFilterDefinition){a=a.axisDefinition.sortAndFilterDefinition;for(var d=a.filterConditionInfos,e=d.length,f=0;f<e;f++)if(!d[f].isValid){b=!1;break}d=a.isActive}return!b?"filterValidationIcon":d?"filterActiveIcon":"filterInactiveIcon"},_getTabButton:function(a){var b=null;try{var d=this.axisTabContainer,e=d.getIndexOfChild(a),b=d.tablist.getChildren()[e]}catch(f){s.throwClientException(this,
f)}return b},_handleSelections:function(){if(this._selection&&this._context){var a;if(this._selection.isWholeRowSelected())a=!0;else if(this._selection.isWholeColumnSelected())a=!1;else if(this._selection.isWholeGridSelected())a=!1;else return;var b=a?this._columnAxisTab:this._rowAxisTab;if(!b||b.isDisabled())console.warn("Was going to add filter rules to a an empty or disabled tab",this._selection,this._context);else{b.set("selected",!0);var d=[];if(this._selection.isWholeGridSelected())d.push(v.clone(this._selectedColumn));
else{var e=a?g.getSelectionOnRows(this._selection,this._context):g.getSelectionOnColumns(this._selection,this._context);if(!e)return;for(var f=Math.min(e.count,5),h=0;h<f;h++){for(var k={entityIds:[],entityLongIds:[],labels:[]},r=e.labels.length,m=0;m<r;m++)k.entityIds.push(e.entityIds[m][h]),k.entityLongIds.push(e.entityLongIds[m][h]),k.labels.push(e.labels[m][h]);d.push(k)}}var n=[],t=a?this._selectedColumn:this._selectedRow,l=b._getFilterConditions();z.forEach(d,function(d){d=b.createCondition(null,
a?t:d,a?d:t);var e=d.getFilterCondition(),f=!1,g=e.contextIdentifiers.join(""),h=e.lineItemIdentifier||!1;z.some(l,function(a){var b=a.contextIdentifiers.join("");a=a.lineItemIdentifier||!1;if(g===b&&h===a)return f=!0});f||(b.placeCondition(d,null),n.push(d))});0<n.length&&(this._focusRule=n[0])&&this._focusRule.setFocus()}}},_onCancel:function(){this.onCancel()},_onCancelButtonClick:function(){this._onCancel()},_onClearAllButtonClick:function(){this._clearAllFilters()},_onFilterActiveStatusChange:function(a){try{a.isValid()&&
(a.getFilterConditionCount()?this._updateTabIcon(a,a.isActive()?"filterActiveIcon":"filterInactiveIcon"):this._updateTabIcon(a))}catch(b){s.throwClientException(this,b)}},_onFilterClear:function(a){try{this._updateTabIcon(a)}catch(b){s.throwClientException(this,b)}},_onKeyDown:function(a){a.keyCode===q.ESCAPE&&(this._onCancel(),b.stop(a))},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_onOk:function(){this.onOk()},_onOkButtonClick:function(){this._onOk()},_updateTabIcon:function(a,
b){try{this._getTabButton(a).set("iconClass",b?b:"dijitTabButtonIcon")}catch(d){s.throwClientException(this,d)}}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a){function r(){}function b(a){return function(b,d,e,f){return b&&"string"==typeof d&&b[d]==
r?b.on(d.substring(2).toLowerCase(),n.hitch(e,f)):a.apply(p,arguments)}}l.around(p,"connect",b);k.connect&&l.around(k,"connect",b);l=q("dijit._Widget",[g,d,a],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===r&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);
for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?p.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){k.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,
arguments):this.get(a)},getDescendants:function(){k.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?m("[widgetId]",this.containerNode).map(e.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});f("dijit-legacy-requires")&&h(0,function(){require(["dijit/_base"])});return l})},"anaplan/view/ManageImportSources/_Edit":function(){define("anaplan/anapediaKeys anaplan/utils/FormatHelper dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/keys dijit/tree/TreeStoreModel anaplan/utils/UIHelper anaplan/widgets/HelpBox anaplan/widgets/Tree dojo/data/ItemFileReadStore dojo/_base/array dojo/dom-construct dojo/i18n!anaplan/nls/imports dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/Edit.html anaplan/widgets/Button anaplan/widgets/SimpleTextarea".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){return p([q,f,k,n],{templateString:A,baseClass:"manageImportSources_Edit",widgetsInTemplate:!0,lblFilter:w.labelFilter,lblSource:w.labelSourceFields,lblSave:x.buttonSave,lblCancel:x.buttonCancel,constructor:function(){this.inherited(arguments);this._treeHandles=[]},_onShow:function(){var a=this;this.onTitleChange(w.titleEditSource);this.onHelpChange(l.manageImportSources);this._tree.set("path",["root","allSourceFields"]);setTimeout(function(){a.filterTextBox.focus()},
1E3)},setSourceDefinition:function(a){this._sourceDefinition=a;this.filterTextBox.set("value",a.filter)},setSourceFields:function(a){try{this._buildTree(a)}catch(b){r.throwClientException(this,b)}},uninitialize:function(){this._destroyTree();this.inherited(arguments)},_buildTree:function(b){try{this._destroyTree();b=v.filter(b,function(a){return a.sourceColumnId});b.sort(function(a,b){return b.displayName<a.displayName});var d=new u({data:{identifier:"sourceColumnId",label:"displayName",items:[{sourceColumnId:"root",
displayName:"root",children:[{sourceColumnId:"allSourceFields",displayName:w.labelAllFields,children:b}]}]}}),e=new a({store:d,mayHaveChildren:function(a){return a&&a.children?0<a.children.length:!1}}),f=new t({model:e,showRoot:!1,autoExpandFirstNode:!0,"class":"sourceFieldsTree"});z.place(f.domNode,this.sourceFieldTreeNode);this._treeHandles.push(f.on("click",h.hitch(this,"_onTreeClick")));this._treeHandles.push(f.on("KeyDown",h.hitch(this,"_onTreeKeyDown")));this._tree=f;f.startup()}catch(g){r.throwClientException(this,
g)}},_insertIntoFilter:function(a){this.filterTextBox.insert(a)},_destroyTree:function(){try{this._treeOnSelectHandle&&(v.forEach(this._treeHandles,function(a){a.remove()}),this._treeHandles=[]),this._tree&&(this._tree.destroy(),this._tree=null)}catch(a){r.throwClientException(this,a)}},_onCancel:function(){this.onCancel()},_onCancelButtonClick:function(){this._onCancel()},_onKeyDown:function(a){switch(a.keyCode){case d.ENTER:a.target!==this._tree.domNode&&(this._onSave(),m.stop(a));break;case d.ESCAPE:this._onCancel(),
m.stop(a)}},_onKeyPress:function(a){a&&a.currentTarget===this.domNode&&a.stopPropagation()},_onOperatorClick:function(a){try{var b=a.target;if(g.contains(b,"operatorButton"))switch(e.get(b,"id")){case "Op_AND":this._insertIntoFilter("AND");break;case "Op_OR":this._insertIntoFilter("OR");break;case "Op_NOT":this._insertIntoFilter("NOT");break;case "Op_EQUALS":this._insertIntoFilter("\x3d");break;case "Op_NOT_EQUALS":this._insertIntoFilter("!\x3d");break;case "Op_LESS_THAN":this._insertIntoFilter("\x3c");
break;case "Op_GREATER_THAN":this._insertIntoFilter("\x3e");break;case "Op_LESS_THAN_OR_EQUAL_TO":this._insertIntoFilter("\x3c\x3d");break;case "Op_GREATER_THAN_OR_EQUAL_TO":this._insertIntoFilter("\x3e\x3d");break;case "Op_LIKE":this._insertIntoFilter("LIKE");break;case "Op_IN":this._insertIntoFilter("IN");break;case "Op_NOT_IN":this._insertIntoFilter("NOT IN");break;case "Op_INCLUDES":this._insertIntoFilter("INCLUDES");break;case "Op_EXCLUDES":this._insertIntoFilter("EXCLUDES");break;default:console.warn(this.declaredClass+
"_onOperatorClick - unrecognised operator")}}catch(d){console.error(this.declaredClass+"_onOperatorClick",d)}},_onSave:function(){this._sourceDefinition.filter=this.filterTextBox.get("value");this.onSave(this._sourceDefinition)},_onSaveButtonClick:function(){this._onSave()},_onTreeClick:function(a){a&&!a.children&&(a=a.sourceColumnId[0])&&this._insertIntoFilter(a)},_onTreeKeyDown:function(a){switch(a.keyCode){case d.ENTER:var b=this._tree.getSelectedTreeNode();if(b&&(b=b.item)&&!b.children)if(b=b.sourceColumnId[0])this._insertIntoFilter(b),
m.stop(a)}},onTitleChange:function(){},onHelpChange:function(){},onSave:function(){},onCancel:function(){}})})},"anaplan/undo/UndoConfirmation":function(){define("anaplan/constants anaplan/format/util dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/i18n!anaplan/nls/undo dojo/text!anaplan/templates/UndoConfirmation.html".split(" "),function(l,s,p,q,f,k,n,m){return k("anaplan.view.UndoConfirmation",[q,p,f],{baseClass:"ap-undoConfirmation",templateString:m,
cellCount:0,preview:null,constructor:function(){this.nls=n},postCreate:function(){this.inherited(arguments);var f=1<this.cellCount?document.createTextNode(n.confirmationTextSuffixMultiple):document.createTextNode(n.confirmationTextSuffixSingle);this.confirmationTextSuffix.appendChild(f);this._renderPreview()},_renderPreview:function(){this.preview&&this.preview.forEach(function(f){var e=document.createElement("tr"),g=this._buildPreviewTd(f.from,f.format);f=this._buildPreviewTd(f.to,f.format);e.appendChild(g);
e.appendChild(f);this.previewBody.appendChild(e)}.bind(this))},_buildPreviewTd:function(f,e){var g=document.createElement("td"),d=document.createElement("div"),a=f;"NUMBER"===e.dataType?e.zeroFormat===l.zeroFormat.BLANK&&0===s.parseNumberUsingFormat(f,e)&&(a="\u00a0"):(a=this._stripSingleQuotes(a),""===a&&(a="\u00a0"));a=document.createTextNode(a);d.appendChild(a);g.appendChild(d);return g},_stripSingleQuotes:function(f){var e=""+f;return/^'.*'$/.test(e)?e.substring(1,e.length-1):f}})})},"anaplan/api/SystemActions/ProgressSyncCompareRevisions":function(){define(["dojo/_base/declare",
"./Base/PlainRequest","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.modelId)||""===this._params.modelId?f.errors.modelIdIsRequired:!p.isString(this._params.workspaceId)||""===this._params.workspaceId?f.errors.workspaceIdRequired:!p.isString(this._params.taskId)||""===this._params.taskId?f.errors.taskIsRequied:this.inherited(arguments)},buildRequestObject:function(){return{workspaceId:this._params.workspaceId,
modelId:this._params.modelId,taskId:this._params.taskId}}})})},"anaplan/utils/SelectionHelper":function(){define("anaplan/constants anaplan/data/ItemsFactory anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/formula/DataReference anaplan/gridlet/Selection anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper dojo/_base/array dojo/_base/lang dojo/topic".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a){var r={canDelete:function(a,d){return!a||
a.isWholeGridSelected()||this._isEmptyGrid(d)?!1:this._canMaintainCurrentCell(a,d)},canDrillDown:function(a){return!!a},canDrillToTransaction:function(a){return!!a&&a.isSingleDataCellSelected()},canFilter:function(a,d){return!a?!1:d.isDataView()&&null==d.getHierarchyId()},canResetListFilter:function(a,d){if(!d||!a)return!1;var f=this._getPageInfo(d);if(e.isNullOrUndefined(f))return!1;var g=q.isLineItemsOnRows(f),f=(a.isWholeRowSelected()?l.COLUMNS:g?l.COLUMNS:l.ROWS)===l.COLUMNS?f.columnAxisSpecification:
f.rowAxisSpecification,f=q.getAllDimensionIdentifiersForAxisSpecification(f);return 0<d.model.getListFilterChanges(f).length},canListFilter:function(a,d){if(!d||!this.canFilter(a,d.model)||a.isWholeGridSelected()||this._isEmptyGrid(d))return!1;var f=this._getPageInfo(d);if(e.isNullOrUndefined(f))return!1;var g=q.isLineItemsOnRows(f);if(g){if(a.isWholeColumnSelected())return!1;g=this.getCurrentRow(a,d).entityLongIds;return this._isListFormattedLineItemSelected(g)&&a.getNestingIndices()[0]===g.length-
1&&!q.axisSpecificationContainsEmpty(f.columnAxisSpecification)}var h=q.isLineItemsOnColumns(f);if(h){if(a.isWholeRowSelected())return!1;g=this.getCurrentColumn(a,d).entityLongIds;return this._isListFormattedLineItemSelected(g)&&a.getNestingIndices()[0]===g.length-1&&!q.axisSpecificationContainsEmpty(f.rowAxisSpecification)}return!g&&!h?(g=q.getLineItemEntityLongIdForPageInfo(f),a.isWholeColumnSelected()?!q.axisSpecificationContainsEmpty(f.rowAxisSpecification)&&this._isListFormattedLineItem(g):!q.axisSpecificationContainsEmpty(f.columnAxisSpecification)&&
this._isListFormattedLineItem(g)):!1},canQuickFilter:function(a,d){return!a||!d?!1:this.canFilter(a,d.model)&&this._selectionSupportsQuickFilter(a,d)&&this._pageInfoSupportsQuickFilter(a.isWholeRowSelected(),this._getPageInfo(d))},_pageInfoSupportsQuickFilter:function(a,d){if(!d)return!1;var e=a?d.columnAxisSpecification:d.rowAxisSpecification;return!(q.axisSpecificationContainsEmpty(e)||q.axisSpecificationContainsLineItems(e))},_selectionSupportsQuickFilter:function(a,d){var e=a.isWholeRowSelected();
if(!(e&&1===this.getRowsSelection(a,d).count||a.isWholeColumnSelected()&&1===this.getColumnsSelection(a,d).count))return!1;e=e?this.getCurrentRow(a,d):this.getCurrentColumn(a,d);return null!==e?a.getNestingIndices()[0]===e.entityLongIds.length-1:!0},canHide:function(a,d){if(!a)return!1;var e=d.model;return e.isDataView()&&null==e.getHierarchyId()&&(a.isWholeRowSelected()||a.isWholeColumnSelected())},canHideForAll:function(a,d){return this._canShowOrHideForAll(a,d)},canInsert:function(a,d){if(!a)return!1;
if(a.isWholeGridSelected()){if(this._isEmptyGrid(d)){var e=d.model,f=this._getPageInfo(d);return!e.isDataView()||this._canMaintainRows(f)||this._canMaintainColumns(f)}return!1}return this._canMaintainCurrentCell(a,d)},canMaintain:function(a){return this._canMaintainRows(a)||this._canMaintainColumns(a)},canMaintainRows:function(a,d){var e=this._getPageInfo(d);return!this._canMaintainRows(e)?!1:!a.currentCell.isRowLabelSelected()?!0:this._canMaintainCurrentCell(a,d)},canMove:function(a,d){if(!a||a.isWholeGridSelected()||
this._isEmptyGrid(d))return!1;if(this.isOperationOnColumns(a,d)){if(1>=d.model.getColumnCount())return!1}else if(1>=d.model.getRowCount())return!1;return this._canMaintainCurrentCell(a,d)},_isSelectedDimensionSupportedByReOrder:function(a,d){if(!a)return!1;var e=this.getSingleDimensionIdentifier(a,d);if("string"!==typeof e)return!1;e=h.entityLongIdIdentifierToEntityLongId(e);return 0<=[l.HIERARCHY_ENTITY_TYPE_INDEX,l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX].indexOf(h.getEntityTypeIndex(e))?!1:!0},canReOrder:function(a,
d){return!this._getPageInfo(d)||!this._isSelectedDimensionSupportedByReOrder(a,d)?!1:this.canMove(a,d)},canShowHistory:function(a,d){return d.isDataView()},canSelectItems:function(a,d){if(!a||!a.ranges||!a.ranges.length)return!1;var f=d.model;if(!f.isDataView()||!e.isNullOrUndefined(f.getHierarchyId())||a.isWholeGridSelected()||!a.isWholeColumnSelected()&&!a.isWholeRowSelected())return!1;f=f.getPageInfo();f=a.isWholeRowSelected()?f.rowAxisSpecification:f.columnAxisSpecification;return 1!==q.getAllDimensionIdentifiersForAxisSpecification(f).length||
q.axisSpecificationContainsBranchSync(f)||q.axisSpecificationContainsEmpty(f)?!1:!0},canSelectLevels:function(a,d){var f,g,h,k,r,n;if(!a||!a.ranges||!a.ranges.length)return!1;f=d.model;g=!f.isDataView();h=f.getHierarchyId();h=!e.isNullOrUndefined(h);r=a.isWholeGridSelected();k=!r&&!a.isWholeColumnSelected()&&!a.isWholeRowSelected();n=a.isMixedNestingLevel();if(g||h||k||r||n)return!1;f=f.getPageInfo();f=a.isWholeRowSelected()?f.rowAxisSpecification:f.columnAxisSpecification;if(!f)return!1;g=a.getNestingIndices()[0];
if(-1===g)return!1;g=q.getAllDimensionIdentifiersForAxisSpecification(f)[g];if(!g)return!1;f=m.isTimeSystemAxisIdentifier(g);g=m.isVersionSystemAxisIdentifier(g);return!f&&!g},canSort:function(a,d){return!a?!1:d.isDataView()&&null==d.getHierarchyId()},canShow:function(a,d){if(!a)return!1;var e=d.model;return e.isDataView()&&null==e.getHierarchyId()&&(a.isWholeRowSelected()||a.isWholeColumnSelected())},canShowAll:function(a,d){var e=d.model.getPageInfo();if(a){if(a.isWholeColumnSelected())return q.axisSpecificationContainsSelection(e.columnAxisSpecification)||
q.axisSpecificationContainsLevelBasedSelection(e.columnAxisSpecification);if(a.isWholeRowSelected())return q.axisSpecificationContainsSelection(e.rowAxisSpecification)||q.axisSpecificationContainsLevelBasedSelection(e.rowAxisSpecification)}return q.axisSpecificationContainsSelection(e.columnAxisSpecification)||q.axisSpecificationContainsSelection(e.rowAxisSpecification)||q.axisSpecificationContainsLevelBasedSelection(e.columnAxisSpecification)||q.axisSpecificationContainsLevelBasedSelection(e.rowAxisSpecification)},
canShowForAll:function(a,d){return this._canShowOrHideForAll(a,d)},canChart:function(a){return!a?!1:!0},filterEntityLongIds:function(a,d){var e=-1;if(p.getHierarchySubsetInfo(d))e=p.getHierarchyInfoForHierarchySubsetEntityLongId(d).entityLongId;else if(p.getHierarchyInfo(d))e=d;else return[];var f=p._entityTypeList,e=g.indexOf(f.hierarchyEntityLongIds,e),k=f.entityTypeIndices[e],r={};return g.filter(a,function(a){return r.hasOwnProperty(a)?!1:h.getEntityTypeIndex(a)==k?(r[a]=a,!0):!1})},getCellSelections:function(a,
d){var e=[];if(!a)return e;var f=d.model,g=f.getRowCount(),h=f.getColumnCount();if(!g||!h)return e;g=a.getViews(d,!0);h=g.length;if(!h)return e;for(var k,r=0;r<h;r++)(k=g[r])&&e.push(f.getCellsObject(k.y[0],k.y[1],k.x[0],k.x[1]));return e},getColumnsSelection:function(a,d){var e=d.model;if(!a||0===e.getColumnCount())return{count:0};var f=a.getStartColumnIndex(d);-1===f&&(f=0);var g=a.getEndColumnIndex(d);-1===g&&(g=e.getColumnCount()-1);return e.getColumnLabelsObject(f,g)},getCurrentCell:function(a,
d){if(!a||!a.currentCell)return null;var e=a.currentCell;if(!e.isDataCellSelected())return null;var f=e.getStartRowIndex(d),e=e.getStartColumnIndex(d);return d.model.getCell(f,e)},getCurrentColumn:function(a,d){if(!a||!a.currentCell)return null;var e=a.currentCell.getStartColumnIndex(d);if(-1==e)return null;e=d.model.getColumnLabelsObject(e,e);return!e.count?null:this._transposeLabelsObjectItem(e,0)},getCurrentRow:function(a,d){if(!a||!a.currentCell)return null;var e=a.currentCell.getStartRowIndex(d);
if(-1==e)return null;e=d.model.getRowLabelsObject(e,e);return!e.count?null:this._transposeLabelsObjectItem(e,0)},getEntityLongIdsForCurrentSelection:function(a,d){var e=this._getPageInfo(d),e=q.getAllEntityLongIdsForPageInfo(e);if(!a||!a.currentCell)return e;var f=a.currentCell,g;f&&f.isDataCellSelected()?((g=f.getRowEntityLongIds(d))&&(e=e.concat(g)),(f=f.getColumnEntityLongIds(d))&&(e=e.concat(f))):f&&f.isColumnLabelSelected()?(f=f.getColumnEntityLongIds(d))&&(e=e.concat(f)):f.isRowLabelSelected()&&
(g=f.getRowEntityLongIds(d))&&(e=e.concat(g));return e},getFirstColumn:function(a){var d=a.values;if(-1===d.startColumn)return null;a=a.model.getColumnLabelsObject(d.startColumn,d.startColumn);return!a.count?null:this._transposeLabelsObjectItem(a,0)},getFirstRow:function(a){var d=a.values;if(-1===d.startRow)return null;a=a.model.getRowLabelsObject(d.startRow,d.startRow);return!a.count?null:this._transposeLabelsObjectItem(a,0)},getGlobalContext:function(a,d){var e=d.model.getPageInfo(),f=a.currentCell;
if(!f.isRowLabelSelected()&&!f.isColumnLabelSelected())return null;var g=null,h=-1;f.isRowLabelSelected()?(g=q.getSingleDimensionIdentifierFromAxisSpecification(e.rowAxisSpecification,f.getRowNestingIndex()),h=f.getRowEntityLongIds(d)[f.getRowNestingIndex()]):(g=q.getSingleDimensionIdentifierFromAxisSpecification(e.columnAxisSpecification,f.getColumnNestingIndex()),h=f.getColumnEntityLongIds(d)[f.getColumnNestingIndex()]);return[{entityLongId:h,label:null},g]},getHierarchyEntityLongIdForLabelsObject:function(a,
d){if(!a.count)return-1;var e=h.getEntityTypeIndex(a.entityLongIds[d][0]);return p.getEntityType(e).hierarchyEntityLongId},getHierarchyIdForLabelsObject:function(a,d){var e=this.getHierarchyEntityLongIdForLabelsObject(a,d);return q.getHierarchyId(p,e)},getMinimalColumnsSelection:function(a,d){var e=d.model,f,g;if(!a||0===e.getColumnCount())return{count:0};f=a.getStartColumnIndex(d);g=a.getEndColumnIndex(d);if(-1===f&&-1===g)return{count:0};-1===f&&-1!==g?f=g:-1!==f&&-1===g&&(g=f);return e.getColumnLabelsObject(f,
g)},getMinimalRowsSelection:function(a,d){var e=d.model,f,g;if(!a||0===e.getRowCount())return{count:0};f=a.getStartRowIndex(d);g=a.getEndRowIndex(d);if(-1===f&&-1===g)return{count:0};-1===f&&-1!==g?f=g:-1!==f&&-1===g&&(g=f);return e.getRowLabelsObject(f,g)},getMinimalSelection:function(a,d){var e;a&&(a.ranges&&a.ranges.length)&&(e=this._getSelection(a,d,this.isOperationOnColumns(a,d),!0));return e||{count:0}},getSelectedColumns:function(a,d){if(!a)return[];var e=d.model;return a.getViews(d,!0).map(function(a){return e.getColumnLabelsObject(a.x[0],
a.x[1])})},getSelectedRows:function(a,d){if(!a)return[];var e=d.model;return a.getViews(d,!0).map(function(a){return e.getRowLabelsObject(a.y[0],a.y[1])})},getNestingIndexForCurrentCell:function(a,d){return this._getNestingIndexForCurrentCell(a,d)},isSingleRowSelected:function(a,d){return 1===this.getSelectionOnRows(a,d).count},getRowsSelection:function(a,d){var e=d.model;if(!a||0===e.getRowCount())return{count:0};var f=a.getStartRowIndex(d);-1===f&&(f=0);var g=a.getEndRowIndex(d);-1===g&&(g=e.getRowCount()-
1);return e.getRowLabelsObject(f,g)},getSelectedAxisSpecification:function(a,d){var e=null,f;if(!d||!d.model||!a)return null;f=this._getPageInfo(d);if(!f)return null;a.isWholeColumnSelected()?e=f.columnAxisSpecification||null:a.isWholeRowSelected()&&(e=f.rowAxisSpecification||null);return e},getSelectedDimensionIdentifiers:function(a,d){var e=[],f,h,k,r;f=this.getSelectedAxisSpecification(a,d);h=q.getAllDimensionIdentifiersForAxisSpecification(f);f=a.getNestingIndices();k={};g.forEach(f,function(a){k[h[a]]=
!0});for(r in k)k.hasOwnProperty(r)&&e.push(r);return e},getSelection:function(a,d){var e={count:0};try{a&&(a.ranges&&a.ranges.length)&&(e=this._getSelection(a,d,this.isOperationOnColumns(a,d)))}catch(g){throw new f.ClientException("anaplan.utils.SelectionHelper.getSelection",g);}return e},getSelectionOnColumns:function(a,d){return this._getSelection(a,d,!0)},getSelectionOnRows:function(a,d){return this._getSelection(a,d,!1)},_getSelection:function(a,d,e,g){var h={count:0},k;try{if(!a||!a.ranges||
!a.ranges.length)return h;var r=d.model,m=e?r.getColumnNesting():r.getRowNesting();if(1>m)return h;h=(new s).createLabelItems(m,0);for(r=0;r<a.ranges.length;r++){var n=a.ranges[r];k=g?e?this.getMinimalColumnsSelection(n,d):this.getMinimalRowsSelection(n,d):e?this.getColumnsSelection(n,d):this.getRowsSelection(n,d);if(k.count){h.count+=k.count;for(var l=0;l<m;l++)h.canDelete[l]=h.canDelete[l].concat(k.canDelete[l]),h.canInsertSibling[l]=h.canInsertSibling[l].concat(k.canInsertSibling[l]),h.entityIds[l]=
h.entityIds[l].concat(k.entityIds[l]),h.entityCodes[l]=h.entityCodes[l].concat(k.entityCodes[l]),h.entityLongIds[l]=h.entityLongIds[l].concat(k.entityLongIds[l]),h.entityTypes[l]=h.entityTypes[l].concat(k.entityTypes[l]),h.isAggregate[l]=h.isAggregate[l].concat(k.isAggregate[l]),h.isEditable[l]=h.isEditable[l].concat(k.isEditable[l]),h.isItemEditable[l]=h.isItemEditable[l].concat(k.isItemEditable[l]),h.labels[l]=h.labels[l].concat(k.labels[l]),h.originalLabels[l]=h.originalLabels[l].concat(k.originalLabels[l]),
h.parentEntityLongIds[l]=h.parentEntityLongIds[l].concat(k.parentEntityLongIds[l]),h.styles[l]=h.styles[l].concat(k.styles[l]),h.treeLineSequences[l]=h.treeLineSequences[l].concat(k.treeLineSequences[l])}}}catch(p){throw new f.ClientException("anaplan.utils.SelectionHelper._getSelection",p);}return h},getSingleDimensionEntityTypeIndices:function(a,d){if(!a)return[];var e=this._getNestingIndexForCurrentCell(a,d);if(-1==e)return[];var f=this._getPageInfo(d);return this.isOperationOnColumns(a,d)?q.getSingleDimensionEntityTypeIndices(f.columnEntityTypeIndices,
e):q.getSingleDimensionEntityTypeIndices(f.rowEntityTypeIndices,e)},getSingleDimensionIdentifier:function(a,d){if(!a)return[];var e=this._getNestingIndexForCurrentCell(a,d);if(-1==e)return null;var f=this._getAxisSpecification(a,d);return q.getSingleDimensionIdentifierFromAxisSpecification(f,e)},getSingleDimensionIdentifierFromSelectedAxis:function(a,d){var e,f;if(!a)return null;e=this._getNestingIndexForCurrentCell(a,d);if(-1===e)return null;f=this.getSelectedAxisSpecification(a,d);return q.getSingleDimensionIdentifierFromAxisSpecification(f,
e)},getSingleDimensionLabelFromSelectedAxis:function(a,d){var e,f;if(!a)return null;e=this._getNestingIndexForCurrentCell(a,d);if(-1===e)return null;f=this.getSelectedAxisSpecification(a,d);return q.getSingleDimensionLabelFromAxisSpecification(p,f,e)},getSingleDimensionLabel:function(a,d){if(!a)return null;var e=this._getNestingIndexForCurrentCell(a,d);if(-1==e)return null;var f=this._getAxisSpecification(a,d);return q.getSingleDimensionLabelFromAxisSpecification(p,f,e)},getWholeOfRowSelection:function(a,
d){var e=new n,f=e.currentCell,g=e.getCurrentRange();f.setX({fixedIndex:0});f.setY({index:a,offset:0,entityLongIds:[d]});g.setTopLeft(f.clone());g.bottomRight.setX({index:-1,offset:0,entityLongIds:null});return e},isEmptyGrid:function(a){return!a.model?(console.warn("anaplan.utils.SelectionHelper.isEmptyGrid: deprecated function now takes context"),!1):this._isEmptyGrid(a)},isOperationOnColumns:function(a,d){if(!a)return!1;var e=d.model,f=this._getPageInfo(d);return a.isWholeColumnSelected()&&0<e.getRowCount()||
e.isDataView()&&!a.isWholeRowSelected()&&!this._canMaintainRows(f)},publishExpression:function(b,d,e){if(b&&null!=e){var f=d.model,g=f.getPageInfo(),r=b.currentCell,n=-1,x=null,n=null;b=-1;if(r.isColumnLabelSelected()){x=q.getSingleDimensionIdentifierFromAxisSpecification(g.columnAxisSpecification,r.getColumnNestingIndex());if(m.isEmptySystemAxisIdentifier(x))return;n=r.getStartColumnIndex(d);b=r.getColumnNestingIndex();n=f.getColumnLabelsObject(n,n)}else if(r.isRowLabelSelected()){x=q.getSingleDimensionIdentifierFromAxisSpecification(g.rowAxisSpecification,
r.getRowNestingIndex());if(m.isEmptySystemAxisIdentifier(x))return;n=r.getStartRowIndex(d);b=r.getRowNestingIndex();n=f.getRowLabelsObject(n,n)}else{for(var s=q.getAllDimensionIdentifiersForAxisSpecification(g.rowAxisSpecification),D=0;D<s.length;D++)if(m.isLineItemsSystemAxisIdentifier(s[D])){x=s[D];n=r.getStartRowIndex(d);b=D;n=f.getRowLabelsObject(n,n);break}D=q.getAllDimensionIdentifiersForAxisSpecification(g.columnAxisSpecification);for(g=0;g<D.length;g++)if(m.isLineItemsSystemAxisIdentifier(D[g])){x=
D[g];n=r.getStartColumnIndex(d);b=g;n=f.getColumnLabelsObject(n,n);break}}if(null==n||!n.count)return null;var E=null,r=n.labels[b][0];d=new k;if(m.isLineItemsSystemAxisIdentifier(x)){if(h.getEntityTypeIndex(n.entityLongIds[b][0])===l.MODULE_ENTITY_TYPE_INDEX)return;b=f.getModuleId();null==b&&(b=f.getLineItemSubsetId());b==e?E=d.generateSinglePartIdentifier(r):null!=b&&(E=d.generateTwoPartIdentifier(b,r))}else m.isGeneralListSystemAxisIdentifier(x)||m.isLineItemSubsetSystemAxisIdentifier(x)?E=d.generateSinglePartIdentifier(r):
m.isCustomHierarchySystemAxisIdentifier(x)||m.isEntitySystemAxisIdentifier(x)?(f=this.getHierarchyIdForLabelsObject(n,b),E=d.generateTwoPartIdentifier(f,n.entityIds[b][0])):m.isCustomPropertySystemAxisIdentifier(x)?E=d.generateTwoPartIdentifier(f.getHierarchyId(),r):x==h.entityLongIdToEntityLongIdIdentifier(l.SYSTEM_AXIS_IDENTIFIER_PROPERTY_ENTITY_LONG_ID)&&(e=h.getEntityTypeIndex(n.entityLongIds[b][0]),"PROPERTY"==p.getEntityType(e).entityTypeClass&&(E=d.generateTwoPartIdentifier(f.getHierarchyId(),
r)));null!=E&&setTimeout(function(){a.publish("anaplan/formula/insertExpression",E)},50)}},selectedListContainsLevelBasedSelection:function(a,d){return null!==this.getSelectedLevelsFromAxisDefinition(a,d)},selectedListContainsItemsSelection:function(a,d){if(!this.canSelectItems(a,d))return!1;var e=d.model.getPageInfo(),e=a.isWholeRowSelected()?e.rowAxisSpecification:e.columnAxisSpecification;return q.axisSpecificationContainsSelection(e)},getSelectedLevelsFromAxisDefinition:function(a,d){var e,f;
if(!this.canSelectLevels(a,d))return null;e=a.getNestingIndices()[0];f=d.model.getPageInfo();f=a.isWholeColumnSelected()?f.columnAxisSpecification:f.rowAxisSpecification;e=q.getAllDimensionIdentifiersForAxisSpecification(f)[e];e=q.getAxisDefinitionOfDimensionInAxisSpecification(f,e);return q.getSelectedLevelsFromAxisDefinition(e)},_canMaintainCurrentCell:function(a,d){var e=this._getPageInfo(d),f=this._getNestingIndexForCurrentCell(a,d);if(-1==f)return!1;var g=null,g=this.isOperationOnColumns(a,d)?
e.canMaintainColumns:e.canMaintainRows;return q.getSingleDimensionCanMaintain(g,f)},_canMaintainColumns:function(a){return!a?!1:q.canMaintainSomeDimensionsForCanMaintain(a.canMaintainColumns)},_canMaintainRows:function(a){return!a?!1:q.canMaintainSomeDimensionsForCanMaintain(a.canMaintainRows)},_canShowOrHideForAll:function(a,d){var e,f,h;if(!a||!a.ranges||!a.ranges.length)return!1;e=d.model;if(!e.isDataView()||!(null===e.getHierarchyId()||void 0===e.getHierarchyId())||!a.isWholeRowSelected()&&!a.isWholeColumnSelected())return!1;
h=a.isWholeRowSelected()?"y":"x";f=g.filter(a.ranges[0].topLeft[h].entityLongIds,function(a){return null!==a}).slice(0,-1);return!g.some(a.ranges,function(a){var b=a.topLeft[h].entityLongIds;a=a.bottomRight[h]?a.bottomRight[h].entityLongIds:b;var d,e;if(!b||!a)return!0;d=g.filter(b,function(a){return null!==a}).slice(0,-1);e=g.filter(a,function(a){return null!==a}).slice(0,-1);return d.length!==f.length||e.length!==f.length?!0:g.some(f,function(a,b){return a!==d[b]||a!==e[b]})})},_getAxisSpecification:function(a,
d){var e=this._getPageInfo(d);return this.isOperationOnColumns(a,d)?e.columnAxisSpecification:e.rowAxisSpecification},_getFirstDimensionIndexCanMaintain:function(a,d){var e=-1;if(a instanceof Array)for(var f=0;f<a.length;f++){if(!d||a[f]){e=f;break}}else if(!d||a)e=0;return e},_getNestingIndexForCurrentCell:function(a,d){var e=d.model,f=this._getPageInfo(d),g=a.currentCell,h=-1,h=this.isOperationOnColumns(a,d)?g.isColumnLabelSelected()?g.getColumnNestingIndex():this._getFirstDimensionIndexCanMaintain(f.canMaintainColumns,
e.isDataView()):g.isRowLabelSelected()?g.getRowNestingIndex():this._getFirstDimensionIndexCanMaintain(f.canMaintainRows,e.isDataView());-1==h&&console.warn("anaplan.utils.SelectionHelper _getNestingIndex failed to find nesting index");return h},_getPageInfo:function(a){return a.model.getPageInfo()},_isEmptyGrid:function(a){a=a.model;return 0===a.getRowCount()&&0===a.getColumnCount()},_isListFormattedLineItem:function(a){a=p.getLineItemInfo(a);return e.isNullOrUndefined(a)?!1:"ENTITY"===a.format.dataType},
_isListFormattedLineItemSelected:function(a){return g.some(a,function(a){return this._isListFormattedLineItem(a)},this)},_transposeLabelsObjectItem:function(a,d){var e=[],f=[],g=[],h=a.entityLongIds.length,k=0;if(a.count&&d<h)for(;k<h;k++)e.push(a.entityIds[k][d]),f.push(a.entityLongIds[k][d]),g.push(a.originalLabels[k][d]);return{labels:g,entityIds:e,entityLongIds:f}}};d.setObject("anaplan.utils.SelectionHelper",r);return r})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(l,
s,p){var q=window,f={addOnWindowUnload:function(f,n){l.windowUnloaded||p(q,"unload",l.windowUnloaded=function(){});p(q,"unload",s.hitch(f,n))},addOnUnload:function(f,n){p(q,"beforeunload",s.hitch(f,n))}};l.addOnWindowUnload=f.addOnWindowUnload;l.addOnUnload=f.addOnUnload;return f})},"anaplan/widgets/Dialog":function(){define("anaplan/widgets/_DialogRoleMixin dojo/_base/declare dijit/DialogUnderlay dijit/Dialog anaplan/widgets/_WidgetMixin dojo/_base/lang dojo/dom-class dojo/has dojo/on dojo/_base/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h){return s([q,f,l],{resizeContentsToFitViewport:!0,constructor:function(e){this.roles=e&&e.roles||[]},postCreate:function(){this.inherited(arguments);n.add(this.domNode,"anaplan_Dialog");this._addRoleClasses();var e=h(this.closeButtonNode,"touchstart",k.hitch(this,"onCancel")),f=h(this.domNode,"contextmenu",k.hitch(this,"onContextMenu"));this.own(e,f)},onContextMenu:function(e){this.allowOnContextMenuEventPropagation(e)||e.stopPropagation()},resize:function(){"none"!==this.domNode.style.display&&
(p._singleton&&p._singleton.layout(),m("ios")||this._position(),this.inherited(arguments))},show:function(){var e=this.on("keydown",function(d){d.stopPropagation()});this.own(e);var e=k.hitch(this,function(){var d=this.getChildren();if(d&&0<d.length&&d[0].onDialogShow)d[0].onDialogShow();n.add(this.domNode,"qa-dialog-is-displayed")}),f=this.inherited(arguments);f?f=f.then(e):e();return f},onHide:function(){n.remove(this.domNode,"qa-dialog-is-displayed")},_size:function(){this.resizeContentsToFitViewport&&
this.inherited(arguments)}})})},"anaplan/widgets/DimensionItem":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dijit/_TemplatedMixin dijit/_WidgetBase anaplan/utils/UIHelper anaplan/widgets/SimpleTextarea dojo/text!anaplan/templates/DimensionItem.html dojo/i18n!anaplan/nls/pivotComponent".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){return l([g,e],{baseClass:"dimensionItem",templateString:r,
globalLibPath:window?window.globalLibPath:"lib",axisDefinition:null,_disabled:!1,_display:!0,_editable:!1,_entityLongId:null,_iconClass:null,_label:null,_sortPosition:Number.MAX_VALUE,_title:null,onEdit:function(){},postCreate:function(){this.inherited(arguments);this.own(h(this.iconNode,"dragstart",function(a){a.preventDefault()}),this.on("selectstart",p.hitch(this,function(a){(!this._textarea||!q.isDescendant(a.target,this._textarea.domNode))&&s.stop(a)})));this._editable&&this._createEditButtonAndTextArea()},
startup:function(){this.inherited(arguments);this._textarea&&this._textarea.startup()},uninitialize:function(){this._textarea&&this._textarea.destroy();this.inherited(arguments)},_createEditButtonAndTextArea:function(){this._textarea=new a({"class":"dimensionItemTextArea",title:b.tooltipItemNamesTextArea,promptMessage:b.placeholderLineItems,tooltipPosition:["after","below"]});n.place(this._textarea.domNode,this.domNode);this._textarea.set("placeHolder",b.placeholderLineItems);this._editButton=n.create("img",
{src:this.globalLibPath+"/dojo/resources/blank.gif","class":"dimensionItemPopupButton dimensionItemPopupIcon",title:b.buttonEnterLineItems,alt:b.buttonEnterLineItems,draggable:!1});n.place(this._editButton,this.domNode);this.own(h(this._textarea,"mousedown",function(a){a.stopPropagation()}),h(this._editButton,"click",p.hitch(this,function(a){a.stopPropagation();this.onEdit()})),h(this._editButton,"dragstart",function(a){a.preventDefault()}))},_getDisabledAttr:function(){return this._disabled},_getDisplayAttr:function(){return this._display},
_getEditableAttr:function(){return this._editable},_getEntityLongIdAttr:function(){return this._entityLongId},_getExpandedAttr:function(){return k.contains(this.domNode,this.baseClass+"Expanded")},_getIconClassAttr:function(){return this._iconClass},_getLabelAttr:function(){return this._label},_getSortPositionAttr:function(){return this._sortPosition},_getTitleAttr:function(){return this._title},_getValueAttr:function(){return this._textarea?this._textarea.get("value"):null},_setDisabledAttr:function(a){k.toggle(this.domNode,
this.baseClass+"Disabled",a);(this._disabled=a)?m.set(this.domNode,"opacity","0.25"):this._title&&m.set(this.domNode,"opacity","1.0")},_setDisplayAttr:function(a){this._display=a;m.set(this.domNode,"display",a?"":"none")},_setEditableAttr:function(a){this._textarea||this._createEditButtonAndTextArea();this._editable=a;k.toggle(this.domNode,this.baseClass+"Editable",a);this._set("editable",a)},_setEntityLongIdAttr:function(a){this._entityLongId=a},_setExpandedAttr:function(a){k.toggle(this.domNode,
this.baseClass+"Expanded",a);this._textarea&&(m.set(this._textarea.domNode,"display",a?"":"none"),this._textarea.set("placeHolder",a?b.placeholderLineItems:null))},_setIconClassAttr:function(a){this._iconClass&&k.remove(this.iconNode,this._iconClass);this._iconClass=a;k.add(this.iconNode,a)},_setLabelAttr:function(a){this._label=a;d.setText(this.labelNode,a)},_setSortPositionAttr:function(a){this._sortPosition=a},_setTitleAttr:function(a){(this._title=a)?f.set(this.domNode,"title",a):f.remove(this.domNode,
"title")},_setValueAttr:function(a){this._textarea&&this._textarea.set("value",a)}})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(l,s,p,q,f,k,n){function m(e,d){d&&d.nodeType&&e.appendChild(d)}function h(e,d,a,f){if(this.formatter){f=this.formatter;var b=this.grid.formatterScope;a.innerHTML="string"===typeof f&&b?b[f](d,e):this.formatter(d,e)}else null!=d&&a.appendChild(document.createTextNode(d))}
var e=8>q("ie")&&!q("quirks");s=s(k,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(e){return"object"!=typeof e?this.columns[e]:this.cell(e).column},listType:"grid",cell:function(e,d){if(e.column&&e.element)return e;e.target&&e.target.nodeType&&(e=e.target);var a;if(e.nodeType){do{if(this._rowIdToObject[e.id])break;var f=e.columnId;if(f){d=f;a=e;break}e=e.parentNode}while(e&&e!=this.domNode)}if(!a&&"undefined"!=typeof d){var b=this.row(e);if(f=b&&b.element)for(var f=
f.getElementsByTagName("td"),h=0;h<f.length;h++)if(f[h].columnId==d){a=f[h];break}}if(null!=e)return{row:b||this.row(e),column:d&&this.column(d),element:a}},createRowCells:function(g,d,a,h){var b=f("table.dgrid-row-table[role\x3dpresentation]"),k=9>q("ie")||q("quirks")?f(b,"tbody"):b,m,l,p,s,w,x,A,D,E,B;a=a||this.subRows;l=0;for(p=a.length;l<p;l++){x=a[l];m=f(k,"tr");x.className&&f(m,"."+x.className);s=0;for(w=x.length;s<w;s++){A=x[s];D=A.id;E=A.field?".field-"+n.escapeCssIdentifier(A.field,"-"):
"";(B="function"===typeof A.className?A.className(h):A.className)&&(E+="."+B);E=f(g+(".dgrid-cell.dgrid-cell-padding"+(D?".dgrid-column-"+n.escapeCssIdentifier(D,"-"):"")+E.replace(/ +/g,"."))+"[role\x3d"+("th"===g?"columnheader":"gridcell")+"]");E.columnId=D;e?(D=f(E,"!dgrid-cell-padding div.dgrid-cell-padding"),E.contents=D):D=E;if(B=A.colSpan)E.colSpan=B;if(B=A.rowSpan)E.rowSpan=B;d(D,A);m.appendChild(E)}}return b},left:function(e,d){e.element||(e=this.cell(e));return this.cell(this._move(e,-(d||
1),"dgrid-cell"))},right:function(e,d){e.element||(e=this.cell(e));return this.cell(this._move(e,d||1,"dgrid-cell"))},renderRow:function(e,d){var a=this.createRowCells("td",function(a,b){var f=e;b.get?f=b.get(e):"field"in b&&"_item"!=b.field&&(f=f[b.field]);b.renderCell?m(a,b.renderCell(e,f,a,d)):h.call(b,e,f,a,d)},d&&d.subRows,e);return f("div[role\x3drow]\x3e",a)},renderHeader:function(){var g=this,d=this.headerNode,a=d.childNodes.length;for(d.setAttribute("role","row");a--;)f(d.childNodes[a],"!");
a=this.createRowCells("th",function(a,b){var d=b.headerNode=a;e&&(a=a.parentNode);var f=b.field;f&&(a.field=f);if(b.renderHeaderCell)m(d,b.renderHeaderCell(d));else if("label"in b||b.field)d.appendChild(document.createTextNode("label"in b?b.label:b.field));!1!==b.sortable&&(f&&"_item"!=f)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[a.id=this.id+"-header"]=this.columns;d.appendChild(a);this._sortListener&&this._sortListener.remove();this._sortListener=
p(a,"click,keydown",function(a){if("click"==a.type||32==a.keyCode||!q("opera")&&13==a.keyCode){var b=a.target,e,f,h;do if(b.sortable){h=[{attribute:e=b.field||b.columnId,descending:(f=g._sort[0])&&f.attribute==e&&!f.descending}];e={bubbles:!0,cancelable:!0,grid:g,parentType:a.type,sort:h};p.emit(a.target,"dgrid-sort",e)&&(g._sortNode=b,g.set("sort",h));break}while((b=b.parentNode)&&b!=d)}})},resize:function(){var e=this.headerNode.firstChild,d=this.contentNode,a;this.inherited(arguments);if(!q("ie")||
7<q("ie")&&!q("quirks"))if(d.style.width="",d&&e&&(a=e.offsetWidth)!=d.offsetWidth)d.style.width=a+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(e,d){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(e){var d=this.columns,a;for(a in d){var f=d[a];if(f.field==e)return f.headerNode}},updateSortArrow:function(e,d){this._lastSortedArrow&&(f(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),
f(this._lastSortedArrow,"!"),delete this._lastSortedArrow);d&&(this._sort=e);if(e[0]){var a=e[0].attribute,h=e[0].descending,a=this._sortNode||this._findSortArrowParent(a),b;delete this._sortNode;a&&(a=a.contents||a,b=this._lastSortedArrow=f("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),b.innerHTML="\x26nbsp;",a.insertBefore(b,a.firstChild),f(a,h?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(e,d){return this.addCssRule("#"+n.escapeCssIdentifier(this.domNode.id)+
" .dgrid-column-"+n.escapeCssIdentifier(e,"-"),d)},_configColumns:function(e,d){var a=[],f=d instanceof Array;n.each(d,function(b,h){"string"==typeof b&&(d[h]=b={label:b});!f&&!b.field&&(b.field=h);h=b.id=b.id||(isNaN(h)?h:e+h);this._configColumn&&(this._configColumn(b,h,d,e),h=b.id);f&&(this.columns[h]=b);b.grid=this;"function"===typeof b.init&&b.init();a.push(b)},this);return f?d:a},_destroyColumns:function(){var e=this.subRows,d=e&&e.length,a,f,b,h;this.cleanup();for(a=0;a<d;a++){f=0;for(h=e[a].length;f<
h;f++)b=e[a][f],"function"===typeof b.destroy&&b.destroy()}},configStructure:function(){var e=this.subRows,d=this._columns=this.columns;this.columns=!d||d instanceof Array?{}:d;if(e)for(d=0;d<e.length;d++)e[d]=this._configColumns(d+"-",e[d]);else this.subRows=[this._configColumns("",d)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(e){this._destroyColumns();this.subRows=null;this.columns=e;this._updateColumns()},_setSubRows:function(e){this._destroyColumns();this.subRows=
e;this._updateColumns()},setColumns:function(e){l.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",e)},setSubRows:function(e){l.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",e)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});
s.appendIfNode=m;s.defaultRenderCell=h;return s})},"anaplan/dashboard/dashboardWidgets/_Cell":function(){define("anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin anaplan/Exceptions anaplan/gridlet/Cell anaplan/toolbar/_ButtonsMixin anaplan/utils/JsHelper dojo/_base/declare dojo/dom-geometry dojo/dom-style dojo/json".split(" "),function(l,s,p,q,f,k,n,m,h){return k("anaplan.dashboard.dashboardWidgets._Cell",[p,l,q],{onUpdate:function(){try{this.inherited(arguments);var e=n.getMarginBox(this.domNode);
if(e.w!==this._marginBox.w||e.h!==this._marginBox.h)this._marginBox=e,this.onContentSizeChange()}catch(f){throw new s.ClientException("anaplan.dashboard._Cell.onUpdate",f);}},postCreate:function(){try{this.inherited(arguments),this._marginBox={w:0,h:0}}catch(e){throw new s.ClientException("anaplan.dashboard._Cell.postCreate",e);}},resize:function(){try{this.inherited(arguments),this._marginBox=n.getMarginBox(this.domNode)}catch(e){throw new s.ClientException("anaplan.dashboard._Cell.resize",e);}},
populateRuntimeModeMenu:function(){var e=this.model.getModuleEntityLongId();-1<e&&(this._menuItemGotoModule=this._createGotoModuleMenuItem(e),this._optionsMenu.addChild(this._menuItemGotoModule))},setMenuToolbarOptions:function(e){f.isNullOrUndefined(e)||(e=h.parse(e),this.hasOwnProperty("_menuItemGotoModule")&&this._menuItemGotoModule.domNode&&m.set(this._menuItemGotoModule.domNode,"display",!0===e.menuItemGotoModule?"":"none"),this._menuToolbarOptions=e)}})})},"anaplan/dashboard/DesignControlsHeader":function(){define("anaplan/anapediaKeys anaplan/widgets/_HelpIconMixin dojo/_base/declare dojo/_base/lang dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/text!../templates/dashboard/DesignControlsHeader.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return p([k,n,m,h,s],{baseClass:"DashboardDesignControlsHeader",templateString:e,_anapediaKey:l.dashboardDesign,onCloseButtonClick:function(){}})})},"anaplan/data/DataPageCache/_DataPage":function(){define("anaplan/utils/FormatHelper dojo/_base/declare dojo/json anaplan/constants anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/data/OtherAction anaplan/Exceptions anaplan/format/util anaplan/utils/LinkFormatter anaplan/utils/UIHelper anaplan/utils/WorkflowEntityHelper dojo/i18n!anaplan/nls/common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return s([],{constructor:function(a){try{this._page=a.page||{},this._allCurrenciesLabelPage=a.allCurrenciesLabelPage,this._formattedCellText=a.page?Array(a.page.cellText.length):[],this._formattedComparisonText=a.page&&a.page.comparisonText?Array(a.page.comparisonText.length):null}catch(b){throw new m.ClientException("anaplan.data.DataPageCache._DataPage: constructor",b);}},contains:function(a,b){var d=this._page;return d.startRow<=a&&d.startColumn<=b&&d.startRow+
d.rowCount>a&&d.startColumn+d.columnCount>b?!0:!1},destroy:function(){this._formattedComparisonText=this._formattedCellText=this._page=null},getBgColor:function(a){return!this._page.bgColors?null:this._page.bgColors[a]},getCellText:function(a){this._formattedCellText[a]||(this._formattedCellText[a]=this._getFormattedCellText(a));return this._formattedCellText[a]},getCellValue:function(a){var b=this._getDataType(a);return"FORMAT"==b?this._getFormat(a):"SUMMARY"==b?this._getSummary(a):"ACTION_DEFINITION"==
b?this._getActionDefinition(a):this._page.cellValues[a]},getComparisonState:function(a){return!this._page.comparisonStates?"NO":this._page.comparisonStates[a]},getComparisonText:function(a,b){this._formattedComparisonText[a]||(this._formattedComparisonText[a]=this._getFormattedComparisonText(a,b));return this._formattedComparisonText[a]},getComparisonValue:function(a){return this._page.comparisonValues[a]},getEndColumn:function(){var a=this._page;return a.startColumn+a.columnCount-1},getEndRow:function(){var a=
this._page;return a.startRow+a.rowCount-1},getFormat:function(a){return this._page.formats[a]},getHeldRangeIndex:function(a){return this._page.heldRangeIndices?this._page.heldRangeIndices[a]:-1},getHeldRangeIndices:function(){return this._page.heldRangeIndices||null},getIndex:function(a,b){var d=this._page;return(a-d.startRow)*d.columnCount+(b-d.startColumn)},getIsCalculated:function(a){return this._page.isCalculated[a]},getIsEditable:function(a){return this._page.isEditable[a]},getOriginalText:function(a){var b=
this._getDataType(a);return"ENTITY"===b||"TIME_ENTITY"===b?this._page.cellText[a]:this._page.cellValues[a]},getStartColumn:function(){return this._page.startColumn},getStartRow:function(){return this._page.startRow},getWriteableLeafCellCount:function(a){return this._page.writeableLeafCellCounts[a]},_formatDate:function(a){var b=null;try{a&&(b=h.formatDateCellText(a))}catch(d){g.throwClientException(this,d)}return b||a},_formatNumeric:function(a,b){return null===a?"":isNaN(a)||Infinity==Math.abs(a)?
a.toString():h.applyFormat(a,b,this._allCurrenciesLabelPage)},_formatPercentage:function(a,b){return h.applyFormat(a,this._getDefaultPercentFormat())},_getActionDefinition:function(a){try{return p.parse(this._page.cellValues[a])}catch(b){console.error("anaplan.data.DataPageCache _getActionDefinition: error converting format to JSON")}},_getDataType:function(a){return this.getFormat(a).dataType},_getDefaultPercentFormat:function(){return{minimumSignificantDigits:-1,decimalPlaces:2,decimalSeparator:"FULL_STOP",
groupingSeparator:"COMMA",negativeNumberNotation:"MINUS_SIGN",unitsType:"PERCENTAGE",unitsDisplayType:"PERCENTAGE_SUFFIX",zeroFormat:"ZERO",dataType:"NUMBER"}},_getFormat:function(a){try{return p.parse(this._page.cellValues[a])}catch(b){console.error("DataPageCache.getItems: error converting format to JSON")}},_getFormattedCellText:function(g){var b,h;b=this.getFormat(g);h=b.dataType;var m="ENTITY"===h||"TIME_ENTITY"===h||"FORMAT"===h||"SUMMARY"===h||"MULTISELECT_USER"===h||"MULTISELECT_ENTITY"===
h||"MULTISELECT_MODULE"===h||"ACTION_DEFINITION"===h||"REMOTE_MODEL_DEFINITION"===h?this._page.cellText[g]:this._page.cellValues[g];return"NUMBER"===h?this._formatNumeric(m,b):"DATE"===h?this._formatDate(m):"FORMAT"===h?(m=this._getFormat(g),"ENTITY"===m.dataType?l.escapeHTML(f.getHierarchyId(k,m.hierarchyEntityLongId)):"TIME_ENTITY"===m.dataType&&null!==m.periodType?l.escapeHTML(m.periodType.entityLabel):a["labelDataType"+m.dataType]):"ENTITY"===h&&100000000008==b.hierarchyEntityLongId?(new d).getCellText(m,
this.getIsEditable(g)):"SUMMARY"===h?(m=this._getSummary(g),g=a["labelSummaryMethod"+m.summaryMethod],m.timeSummarySameAsMainSummary?g:[g,[a.labelTime,a["labelSummaryMethod"+m.timeSummaryMethod]].join(": ")].join(", ")):"ACTION_DEFINITION"===h?(m=this._getActionDefinition(g),(new n(m)).getDisplayValue()):"TEXT"===h?(h=b.textType,b=q.textFormatType,g=m,h===b.DRILLTHRU_URI?(g=(new e).parseCellValueAsLink(m),g=g.label||g.href||m):h===b.EMAIL_ADDRESS&&(g=(new e).parseCellValueAsMailTo(m),g=g.label||g.displayUri||
m),l.escapeHTML(g)):l.escapeHTML(m)},_getFormattedComparisonText:function(a,b){if(!this._page.comparisonValues&&!this._page.comparisonText||this._page.comparisonStates&&"YES"!==this._page.comparisonStates[a])return this._getFormattedCellText(a);var d=this._page.cellValues[a],e=this.getFormat(a);if("NUMBER"===e.dataType){if(b==q.viewComparisonMode.VALUE)return this._formatNumeric(d,e);var f=this._page.comparisonValues[a];if(b==q.viewComparisonMode.DIFFERENCE)return this._formatNumeric(d-f,e);if(b==
q.viewComparisonMode.PERCENTAGE)return 0===f?"-":this._formatPercentage(d/f);if(b==q.viewComparisonMode.PERCENTAGE_DIFFERENCE)return 0===f?"-":this._formatPercentage((d-f)/f);console.warn("TODO: unsupported comparisonMode "+b)}return this._getFormattedCellText(a)},_getSummary:function(a){try{return p.parse(this._page.cellValues[a])}catch(b){console.error("anaplan.data.DataPageCache _getSummary: error converting format to JSON")}}})})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang",
"./_base/Color","./_base/array"],function(l,s,p,q){var f={};s.setObject("dojo.colors",f);var k=function(f,h,e){0>e&&++e;1<e&&--e;var g=6*e;return 1>g?f+(h-f)*g:1>2*e?h:2>3*e?f+6*(h-f)*(2/3-e):f};l.colorFromRgb=p.fromRgb=function(f,h){var e=f.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){var g=e[2].split(/\s*,\s*/),d=g.length,e=e[1];if("rgb"==e&&3==d||"rgba"==e&&4==d)return e=g[0],"%"==e.charAt(e.length-1)?(e=q.map(g,function(a){return 2.56*parseFloat(a)}),4==d&&(e[3]=g[3]),p.fromArray(e,
h)):p.fromArray(g,h);if("hsl"==e&&3==d||"hsla"==e&&4==d){var e=(parseFloat(g[0])%360+360)%360/360,a=parseFloat(g[1])/100,r=parseFloat(g[2])/100,a=0.5>=r?r*(a+1):r+a-r*a,r=2*r-a,e=[256*k(r,a,e+1/3),256*k(r,a,e),256*k(r,a,e-1/3),1];4==d&&(e[3]=g[3]);return p.fromArray(e,h)}}return null};var n=function(f,h,e){f=Number(f);return isNaN(f)?e:f<h?h:f>e?e:f};p.prototype.sanitize=function(){this.r=Math.round(n(this.r,0,255));this.g=Math.round(n(this.g,0,255));this.b=Math.round(n(this.b,0,255));this.a=n(this.a,
0,1);return this};f.makeGrey=p.makeGrey=function(f,h){return p.fromArray([f,f,f,h])};s.mixin(p.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,
255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],
dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,
216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,
85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,
112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,
191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return p})},"anaplan/api/SystemActions/Restore":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isNumber(this._params.targetModelSerialNumber)?f.errors.targetModelSerialNumberRequired:
!p.isNumber(this._params.currentModelSerialNumber)?f.errors.sourceModelSerialNumberRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.RESTORE_MODEL,params:{modelId:window.modelId,currentModelSerialNumber:this._params.currentModelSerialNumber,targetModelSerialNumber:this._params.targetModelSerialNumber}}}})})},"anaplan/widgets/InfoDialog":function(){define("dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/declare dojo/i18n!dijit/nls/common dojo/dom-class dojo/text!anaplan/templates/Widgets/InfoDialogActionBar.html dijit/form/Button".split(" "),
function(l,s,p,q,f,k){return p([s,l],{baseClass:"informationDialog",actionBarTemplate:k,actionButtonLabel:q.buttonOk,actionButtonPrimary:!0,_setActionButtonLabelAttr:{node:"actionButton",attribute:"label"},_setActionButtonPrimaryAttr:function(k){this._set("actionButtonPrimary",k);f.toggle(this.actionButton.domNode,"primary-button",k)},show:function(){var f=this.on("keydown",function(f){(f.altKey||f.shiftKey||f.metaKey||f.ctrlKey)&&f.stopPropagation()});this.own(f);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);
f.add(this.domNode,"qa-dialog");f.add(this.domNode,"qa-dialog-info");"none"!==this.domNode.style.display&&f.add(this.domNode,"qa-dialog-is-displayed")}})})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(l,s,p,q,f,k,n){var m=function(){},h=Object.freeze||function(){},e=l.Deferred=function(g){function d(d){if(b)throw Error("This deferred has already been resolved");r=d;b=!0;a()}function a(){for(var a;!a&&
y;){var d=y;y=y.next;if(a=d.progress==m)b=!1;var e=v?d.error:d.resolved;f("config-useDeferredInstrumentation")&&v&&s.instrumentRejected&&s.instrumentRejected(r,!!e);if(e)try{var g=e(r);g&&"function"===typeof g.then?g.then(k.hitch(d.deferred,"resolve"),k.hitch(d.deferred,"reject"),k.hitch(d.deferred,"progress")):(e=a&&void 0===g,a&&!e&&(v=g instanceof Error),d.deferred[e&&v?"reject":"resolve"](e?r:g))}catch(h){d.deferred.reject(h)}else v?d.deferred.reject(r):d.deferred.resolve(r)}}var r,b,n,l,v,z,
y,w=this.promise=new p;this.isResolved=w.isResolved=function(){return 0==l};this.isRejected=w.isRejected=function(){return 1==l};this.isFulfilled=w.isFulfilled=function(){return 0<=l};this.isCanceled=w.isCanceled=function(){return n};this.resolve=this.callback=function(a){this.fired=l=0;this.results=[a,null];d(a)};this.reject=this.errback=function(a){v=!0;this.fired=l=1;f("config-useDeferredInstrumentation")&&s.instrumentRejected&&s.instrumentRejected(a,!!y);d(a);this.results=[null,a]};this.progress=
function(a){for(var b=y;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,m);return this};w.then=this.then=function(d,f,g){var h=g==m?this:new e(w.cancel);d={resolved:d,error:f,progress:g,deferred:h};y?z=z.next=d:y=z=d;b&&a();return h.promise};var x=this;w.cancel=this.cancel=function(){if(!b){var a=g&&g(x);b||(a instanceof Error||(a=new q(a)),a.log=!1,x.reject(a))}n=!0};h(w)};k.extend(e,{addCallback:function(e){return this.addCallbacks(k.hitch.apply(l,arguments))},
addErrback:function(e){return this.addCallbacks(null,k.hitch.apply(l,arguments))},addBoth:function(e){var d=k.hitch.apply(l,arguments);return this.addCallbacks(d,d)},fired:-1});e.when=l.when=n;return e})},"anaplan/view/InsertActions":function(){define("dojo/_base/declare anaplan/view/FastInsert anaplan/view/InsertActions/_Widget dojo/_base/lang dojo/json dojo/on dojo/i18n!anaplan/nls/actionEditor".split(" "),function(l,s,p,q,f,k,n){return l("anaplan.view.InsertActions",[s],{postCreate:function(f){this.inherited(arguments);
this._dialog.setHelpContent(this.helpContent)},_createFastInsertWidget:function(f){this._widget=new p(f);this.own(k(this._widget,"cancel",q.hitch(this,"_onCancel")),k(this._widget,"insert",q.hitch(this,"_onInsert")),k(this._widget,"error",q.hitch(this,"_onError")),k(this._widget,"positionChanged",q.hitch(this,"_onPositionChange")),k(this._widget,"complete",q.hitch(this,"_hideValidationError")))},_getTitle:function(k){var h=k.actionType;"TASK_ELEMENT"===h&&(k=f.parse(k.taskElement),h=k.taskElementType,
"BULK_OPERATION"===h&&(h=k.operation));return n[h]},_validate:function(){return!this._widget?!1:this._widget.isValid()}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(l,s,p,q,f,k){q=l("dojo.dnd.move.constrainedMoveable",k,{constraints:function(){},within:!1,constructor:function(f,k){k||(k={});this.constraints=k.constraints;this.within=k.within},onFirstMove:function(f){var k=this.constraintBox=this.constraints.call(this,
f);k.r=k.l+k.w;k.b=k.t+k.h;this.within&&(f=s.getMarginSize(f.node),k.r-=f.w,k.b-=f.h)},onMove:function(f,k){var h=this.constraintBox,e=f.node.style;this.onMoving(f,k);k.l=k.l<h.l?h.l:h.r<k.l?h.r:k.l;k.t=k.t<h.t?h.t:h.b<k.t?h.b:k.t;e.left=k.l+"px";e.top=k.t+"px";this.onMoved(f,k)}});f=l("dojo.dnd.move.boxConstrainedMoveable",q,{box:{},constructor:function(f,k){var h=k&&k.box;this.constraints=function(){return h}}});l=l("dojo.dnd.move.parentConstrainedMoveable",q,{area:"content",constructor:function(f,
k){var h=k&&k.area;this.constraints=function(){var e=this.node.parentNode,f=p.getComputedStyle(e),d=s.getMarginBox(e,f);if("margin"==h)return d;var a=s.getMarginExtents(e,f);d.l+=a.l;d.t+=a.t;d.w-=a.w;d.h-=a.h;if("border"==h)return d;a=s.getBorderExtents(e,f);d.l+=a.l;d.t+=a.t;d.w-=a.w;d.h-=a.h;if("padding"==h)return d;a=s.getPadExtents(e,f);d.l+=a.l;d.t+=a.t;d.w-=a.w;d.h-=a.h;return d}}});return{constrainedMoveable:q,boxConstrainedMoveable:f,parentConstrainedMoveable:l}})},"anaplan/view/History":function(){define("anaplan/utils/JsHelper anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/widgets/Button anaplan/widgets/ConfirmationDialog anaplan/settings/HistoryRestoreToLockedDialog dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/NumberTextBox dijit/layout/ContentPane dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/history dojo/i18n!anaplan/nls/toolbar dojo/i18n!dijit/nls/common dojo/i18n!dijit/nls/loading dojo/io/iframe dojo/json dojo/keys dojo/on dojo/query anaplan/widgets/Dialog2 dojo/string dojo/text!anaplan/templates/HistoryDialog.html dojo/topic dojo/window anaplan/widgets/Button dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R){return y([r,a,b],{templateString:Q,allowRestore:!0,baseClass:"history",widgetsInTemplate:!0,COLUMN_INDEX_SERIAL_NUMBER:0,COLUMN_INDEX_DATE_TIME:1,COLUMN_INDEX_USER:2,MINIMUM_RESTORE_SERIAL_NUMBER:2E6,constructor:function(a){this._includeFullModelHistory=a.includeFullModelHistory;this._viewDefinition=a.viewDefinition;this._pageInfo=a.pageInfo;this._rowsSelectionEntityLongIds=a.rowsSelectionEntityLongIds;this._columnsSelectionEntityLongIds=
a.columnsSelectionEntityLongIds;this._historyDuration=a.historyDuration;"RANGE"===this._historyDuration?(this._historyFromDate=a.historyFromDate,this._historyToDate=a.historyToDate):this._historyToDate=this._historyFromDate=void 0;this._saveOptions=!1;this._exportName=void 0;a.saveOptions&&(this._saveOptions=!0,this._exportName=a.exportName);this._prepare();this._selectedRowNode=null;this._selectedSerialNumber=this._selectedRowIndex=-1;this._selectedDateTime=null},postCreate:function(){this.inherited(arguments);
this._displayHistory();this.buttonOk.set("label",L.buttonOk);this.buttonExport.set("label",H.labelExport);q.getModelSummary(window.modelId).activeState===s.ACTIVE_STATE_LOCKED&&this.buttonRestoreToSerialNumber.set("disabled",!0);this.allowRestore?(this.buttonRestoreToSerialNumber.set("label",G.buttonRestoreToSerialNumber),this.on("mousedown",x.hitch(this,"_onHistoryMouseDown")),this.on("keydown",x.hitch(this,"_onHistoryKeyDown")),A.add(this.domNode,"historyRestoreEnabled")):B.set(this.buttonRestoreToSerialNumber.domNode,
"display","none")},resize:function(a){try{this.inherited(arguments),a&&E.setMarginBox(this.domNode,a)}catch(b){h.throwClientException(this,b)}},_clearSelection:function(){this._selectedRowNode=null;this._selectedSerialNumber=this._selectedRowIndex=-1;this._selectedDateTime=null},_getFloatingColumnLayouts:function(){var a=[],b=O(".preview-table-header tr",this._tableDiv);if(b&&0<b.length)for(var b=b[0].childNodes,d=b.length,e,f,g=0,h=0;h<d;h++)e=b[h],f=E.getContentBox(e).w,e=E.getContentBox(e).h,a[h]=
{height:e,width:f,xpos:g},g+=f+9+9+1;return a},_createFloatingColumnHeaders:function(){try{var a=O("table.previewTable tr:first-child",this._tableDiv);if(a&&0<a.length){var b=a[0],a=[];a.push('\x3cdiv class\x3d"preview-table-floating-header" style\x3d"width: ',E.getMarginBox(b).w,'px;"\x3e');for(var d=b.childNodes,e=d.length,f,g=this._getFloatingColumnLayouts(),k,b=0;b<e;b++)f=d[b],k=g[b],a.push('\x3cdiv style\x3d"position:absolute;top:0;width: ',k.width,"px;","height:",k.height,"px;","left:",k.xpos,
'px"\x3e',f.innerHTML.replace(" ","\x26nbsp;"),"\x3c/div\x3e");a.push("\x3c/div\x3e");var r=D.create("div",{"class":"importResultPreviewColumnHeaders"});r.innerHTML=a.join("");this._floatingColumnHeaders=r;this._tableDiv.appendChild(r)}}catch(m){h.throwClientException(this,m)}},_confirmRestore:function(a,b,d){try{if(-1!==a){var e=this._getConfirmationDialog(),f;f=b?N.substitute(G.confirmModelRestoreDateTime,{serialNumber:a,selectedDateTime:b}):N.substitute(G.confirmModelRestore,{serialNumber:a});
e.set("content",f);var g=!0;!l.isNullOrUndefined(d)&&"locked"===d&&(g=!1);this._confirmationHandles.push(I(e,"execute",x.hitch(this,function(){this._checkForOtherUserChangesThenRestore(a,g)})));e.show()}}catch(k){h.throwClientException(this,k)}},_checkForOtherUserChangesThenRestore:function(a,b){l.isNullOrUndefined(b)&&(b=!0);h.showPleaseWaitDialog(G.labelPleaseWaitValidatingRestorePoint);var d=this,e=k.createRequest(workspaceId,[],[],[{actionId:"CHECK_FOR_OTHER_USER_CHANGES",params:{modelId:modelId,
targetModelSerialNumber:a}}]);this._post(e,function(e){e.hasOtherUserChanges?(h.hidePleaseWaitDialog(),setTimeout(function(){var e=d._getConfirmationDialog();e.set("content",G.confirmOtherUserChanges);d._confirmationHandles.push(I(e,"execute",x.hitch(d,function(){d._restoreModel(a,b)})));e.show()},200)):d._restoreModel(a,b)},function(){})},_displayHistory:function(){try{var a=this;this._clearSelection();this._displayLoadingIndicator();this._getHistory(function(b,d){a.domNode&&0<E.getMarginBox(a._tableDiv).w&&
a._displayTable(b);a._currentModelSerialNumber=d},function(){})}catch(b){h.throwClientException(this,b)}},_displayLoadingIndicator:function(){try{this._tableDiv.innerHTML="";var a=D.create("div",{"class":"loadingMessage"},this._tableDiv),b=D.create("span",{"class":"loadingMessageLabel"},a);h.setText(b,F.loadingState)}catch(d){h.throwClientException(this,d)}},_displaySerialNumberDialog:function(){try{var a=new d;this._serialNumberDialog||this._addRestoreDialogUsingContentFrom(a);this._addOnClickListenersToRestoreDialog(a);
this.own(a.on("DialogShow",function(){this._setLimitsForSerialNumberDialog(a)}.bind(this)));a._serialNumberTextBox.watch("state",x.hitch(this,function(b,d,e){a._serialNumberRestoreButton.set("disabled",""!==e)}));a.setIconStylingToEditableSelected();this._serialNumberDialog.show()}catch(b){h.throwClientException(this,b)}},_addOnClickListenersToRestoreDialog:function(a){a.own(I(a._cancelButton,"click",x.hitch(this,function(){this._serialNumberDialog.hide()})),I(a._serialNumberRestoreButton,"click",
x.hitch(this,function(){this._doRestore(a)})),I(a._restoreToChoiceLocked,"click",x.hitch(this,function(){a.setIconStylingToLockedSelected()})),I(a._restoreToChoiceEditable,"click",x.hitch(this,function(){a.setIconStylingToEditableSelected()})),I(a,"keydown",x.hitch(this,function(b){b.keyCode===M.ENTER&&!a._serialNumberRestoreButton.get("disabled")&&this._doRestore(a)})))},_doRestore:function(a){var b=a._serialNumberTextBox.get("value");a=a._restoreForm.attr("value").restoreTo;this._serialNumberDialog.hide();
this._confirmRestore(b,"",a)},_addRestoreDialogUsingContentFrom:function(a){this._serialNumberDialog=new P({title:G.buttonRestoreToSerialNumber,"class":"anaplanBlueDialog",resizeContentsToFitViewport:!0,content:a.domNode});A.add(this._serialNumberDialog.domNode,"qa-dialog-restore")},_setLimitsForSerialNumberDialog:function(a){var b=this.MINIMUM_RESTORE_SERIAL_NUMBER,d=this._currentModelSerialNumber,e=N.substitute(G.errorSerialNumberOutOfRange,{lowerLimit:b,upperLimit:d});a._serialNumberTextBox.set("constraints",
{min:b,max:d,fractional:!1,pattern:"#####"});a._serialNumberTextBox.set("rangeMessage",e);a._serialNumberTextBox.set("invalidMessage",e);a._serialNumberTextBox.set("value",-1===this._selectedSerialNumber?-1===this._lastModelSerialNumber?null:Math.max(this._lastModelSerialNumber-1,this.MINIMUM_RESTORE_SERIAL_NUMBER):this._selectedSerialNumber)},_displayTable:function(a){try{var b,d,e,f,g,k,r,n,t,u,p,q,v,w,s,x,y;f=this.COLUMN_INDEX_USER;p=this.MAX_TABLE_ROWS;u=0;g=this.id;x=[];k=[];t=a.split("\r\n");
for(n=t.length;--n&&x.length<p;)r=t[n],r.length&&(q=r.split("\t"),s=q.length,0<n&&f<s&&(y=q[f],q[f]="\x3cuser unknown\x3e"!==y?['\x3ca href\x3d"mailto:',y,'"\x3e',y,"\x3c/a\x3e"].join(""):m.escapeHTML(y)),x.push(q),u<s&&(u=s));v=x.length;q=t[0].split("\t");d=q.length;u<d&&(u=d);this._lastModelSerialNumber=-1;if(0===v)k.push("\x3cspan\x3e","(Cancelled)"===q[0]?G.labelCancelled:G.labelNoHistoryRecords,"\x3c/span\x3e");else{k.push('\x3ctable class\x3d"previewTable" cellspacing\x3d"0"\x3e','\x3cthead class\x3d"preview-table-header"\x3e',
"\x3ctr\x3e");for(e=0;e<d;e++)b=q[e],0===b.indexOf("_Error_")&&(b=b.replace(/_/g," ")),k.push("\x3cth\x3e",m.escapeHTML(b).replace(" ","\x26nbsp;"),"\x3c/th\x3e");for(;e<u;e++)k.push("\x3cth/\x3e");k.push("\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e");for(w=v-1;0<=w;w--){q=x[w];d=q.length;k.push('\x3ctr id\x3d"',g,"-",w,'" class\x3d"',"preview-table-row",'"\x3e');if(1===d)k.push('\x3ctd colspan\x3d"',u,'"\x3e'),k.push(m.escapeHTML(q[0]),"\x3c/td\x3e");else{for(e=0;e<d;e++)b=q[e],f!==e&&(b=m.escapeHTML(b)),
k.push("\x3ctd\x3e",b,"\x3c/td\x3e");for(;e<u;e++)k.push("\x3ctd/\x3e")}k.push("\x3c/tr\x3e")}if(v){q=null;for(a=0;a<v;++a)if(q=x[a],q.length){var z=parseInt(q[0],10);l.isNumber(z)&&z>this._lastModelSerialNumber&&(this._lastModelSerialNumber=z)}}k.push("\x3c/tbody\x3e","\x3c/table\x3e");v===p&&k.push('\x3cdiv class\x3d"importFailurePreviewLimitLabel"\x3e',N.substitute(G.labelTableLimitReached,{maxRows:p}),"\x3c/div\x3e")}this._tableDiv.innerHTML=k.join("");var A=this;setTimeout(function(){A._createFloatingColumnHeaders()},
50)}catch(R){h.throwClientException(this,R)}},_downloadHistory:function(a){var b,d=document.createElement("form");d.id="formPostHistory";d.action="servlet";d.method="post";d.encoding="multipart/form-data";this.domNode.appendChild(d);try{b={url:"servlet?taskType\x3dexport",content:{auditLogIncludeFullModelHistory:this._includeFullModelHistory,auditLogFilterAxesEntityLongIds:this._filterAxesEntityLongIds,auditLogFilterAxesNestingCounts:this._filterAxesNestingCounts,historyDuration:this._historyDuration,
context:J.stringify({workspaceId:workspaceId,modelId:modelId}),exportLayout:"AUDIT_LOG",fileType:"TXT"},form:d,timeout:50,preventCache:!0},a&&(b.content.taskId=a),"RANGE"===b.content.historyDuration&&("undefined"!==typeof this._historyFromDate&&(b.content.historyFromDate=this._historyFromDate),"undefined"!==typeof this._historyToDate&&(b.content.historyToDate=this._historyToDate)),K.send(b)}catch(e){h.throwClientException(this,e)}},_getHistory:function(a,b){var d=k.createRequest(workspaceId,[],[],
[{actionId:"GET_AUDIT_LOG",params:{modelId:modelId,includeFullModelHistory:this._includeFullModelHistory,filterAxesEntityLongIds:this._filterAxesEntityLongIds,filterAxesNestingCounts:this._filterAxesNestingCounts,historyDuration:this._historyDuration,historyFromDate:this._historyFromDate,historyToDate:this._historyToDate,saveOptions:this._saveOptions,exportName:this._exportName}}]);this._postGetAuditLog(d,function(b){a(b.auditLog,Number(b.currentModelSerialNumber))},b)},_onButtonExportClick:function(a){try{var b=
this;p.post({workspaceId:workspaceId,requestType:"PROGRESS",modelId:modelId},!1,function(a){b._downloadHistory(a.taskId);b.emit("cancel")},function(a){h.throwClientException(b,a)})}catch(d){h.showErrorReporter(new n.ClientException("anaplan.view.History: _onButtonExportClick",d,{widgetId:this.id},a))}},_onButtonRestoreToSerialNumberClick:function(a){this._displaySerialNumberDialog()},_onHistoryKeyDown:function(a){switch(a.keyCode){case M.UP_ARROW:this._selectPreviousRow();a.preventDefault();break;
case M.DOWN_ARROW:this._selectNextRow(),a.preventDefault()}},_onHistoryMouseDown:function(a){a=a.target;if(w.isDescendant(a,this._tableDiv)&&"TD"===a.nodeName&&(a=a.parentNode))this._selectRow(a),R.scrollIntoView(a)},_restoreModel:function(a,b){h.showPleaseWaitDialog(G.labelPleaseWaitOnRestore);var d=k.createRequest(workspaceId,[],[],[{actionId:"RESTORE_MODEL",params:{modelId:modelId,currentModelSerialNumber:this._currentModelSerialNumber,targetModelSerialNumber:a,asEditableModel:b}}]);this._post(d,
function(a){h.hidePleaseWaitDialog();!a.hasOwnProperty("isSuccess")||a.isSuccess?h.showInfoDialog("Restore successful",{title:"History",refocus:!1}).then(function(){window.location.reload()}):a.hasOwnProperty("errorMessage")?(i18nText=N.substitute(G.errorRestoreWithMessage,{errorMessage:a.errorMessage}),h.showErrorReporter(new n.BaseException(i18nText),!0)):h.showErrorReporter(new n.BaseException(G.errorRestore),!0)},function(){})},_setColumnHeaderLayouts:function(){var a=this._getFloatingColumnLayouts(),
b,d=a.length,e,f=document.querySelectorAll(".preview-table-floating-header div"),g;for(e=0;e<d;e++)g=f[e].style,b=a[e],g.width=b.width+"px",g.height=b.height+"px",g.left=b.xpos+"px"},_onScroll:function(a){try{if(this._floatingColumnHeaders)if(C("webkit"))this._floatingColumnHeaders.style.top=a.target.scrollTop+"px",this._setColumnHeaderLayouts();else{this._floatingColumnHeaders.style.display="none";var b=this,d=a.target;this._scrollTimeout&&clearTimeout(this._scrollTimeout);this._scrollTimeout=setTimeout(function(){b._floatingColumnHeaders.style.top=
d.scrollTop+"px";b._floatingColumnHeaders.style.display="";b._setColumnHeaderLayouts()},150)}}catch(e){console.error(e)}},_post:function(a,b,d){var e=function(a,b){d&&d(a,b)};p.post(a,!1,function(a,d){var f=null;a.result&&a.result.systemActionResults&&a.result.systemActionResults.length?(f=a.result.systemActionResults[0],b&&b(f)):e(a,d)},e)},_postGetAuditLog:function(a,b,d){var e=this,f=function(a,b){d&&d(a,b)};p.post(a,!1,function(a,d){var g=null;a.result&&a.result.systemActionResults&&a.result.systemActionResults.length?
(g=a.result.systemActionResults[0],"true"===g.successful?b&&b(g):(e.emit("cancel"),h.showErrorReporter(new n.InvalidArgumentException(g.error),!0,!1))):f(a,d)},f)},_prepare:function(){try{var a=[],b=[];if(!this._includeFullModelHistory){var d=f.getAllEntityLongIdsForPageInfo(this._pageInfo);a.push(d.join(", "));for(var e=0;e<d.length;e++)b.push(1);if(this._rowsSelectionEntityLongIds&&this._rowsSelectionEntityLongIds.length){for(var d=[],g=f.getAllDimensionIdentifiersForAxisSpecification(this._pageInfo.rowAxisSpecification).length,
e=0;e<this._rowsSelectionEntityLongIds.length;e++)d=d.concat(this._rowsSelectionEntityLongIds[e]);a.push(d.join(" "));b.push(g)}if(this._columnsSelectionEntityLongIds&&this._columnsSelectionEntityLongIds.length){for(var g=[],k=f.getAllDimensionIdentifiersForAxisSpecification(this._pageInfo.columnAxisSpecification).length,d=0;d<this._columnsSelectionEntityLongIds.length;d++)g=g.concat(this._columnsSelectionEntityLongIds[d]);a.push(g.join(" "));b.push(k)}}this._filterAxesEntityLongIds=a.join(", ");
this._filterAxesNestingCounts=b.join(" ");C("ie")&&9>C("ie")?this.MAX_TABLE_ROWS=200:this.MAX_TABLE_ROWS=1E3}catch(r){h.throwClientException(this,r)}},_selectFirstRow:function(){try{var a=O(".previewTable tr",this.domNode);1<a.length&&(this._selectRow(a[1]),R.scrollIntoView(a[0]))}catch(b){h.throwClientException(this,b)}},_selectLastRow:function(){try{var a=O(".previewTable tr",this.domNode);if(1<a.length){var b=a[a.length-1];this._selectRow(b);R.scrollIntoView(b)}}catch(d){h.throwClientException(this,
d)}},_selectNextRow:function(){try{if(this._selectedRowNode){var a=this._selectedRowNode.nextSibling;a&&(this._selectRow(a),R.scrollIntoView(a))}else this._selectFirstRow()}catch(b){h.throwClientException(this,b)}},_selectPreviousRow:function(){try{if(this._selectedRowNode){var a=this._selectedRowNode.previousSibling;a&&a.previousSibling&&(this._selectRow(a),R.scrollIntoView(a.previousSibling))}else this._selectLastRow()}catch(b){h.throwClientException(this,b)}},_selectRow:function(a){try{if(a&&a.id&&
a.cells&&!(2>a.cells.length)){var b=a.id;if(b){var d=b.lastIndexOf("-");if(-1!==d){var e=b.substring(d+1);e&&(this._selectedRowIndex=Number(e))}}var f=a.cells[this.COLUMN_INDEX_SERIAL_NUMBER];if(f.childNodes.length){this._selectedSerialNumber=Number(f.childNodes[0].nodeValue);var g=a.cells[this.COLUMN_INDEX_DATE_TIME];g.childNodes.length&&(this._selectedDateTime=g.childNodes[0].nodeValue,this._selectedRowNode&&this._selectedRowNode!==a&&A.remove(this._selectedRowNode,"selected"),this._selectedRowNode=
a,A.add(this._selectedRowNode,"selected"))}}}catch(k){h.throwClientException(this,k)}},_getConfirmationDialog:function(){this._confirmationDialog?z.forEach(this._confirmationHandles,function(a){a.remove()}):(this._confirmationDialog=new g({title:H.labelRestore}),this._confirmationHandles=[]);return this._confirmationDialog},uninitialize:function(){this._confirmationDialog&&(z.forEach(this._confirmationHandles,function(a){a.remove()}),this._confirmationDialog.destroy());this._serialNumberDialog&&(this._serialNumberDialog.destroy(),
this._serialNumberDialog=null);this.inherited(arguments)}})})},"anaplan/widgets/ImportDateFormat":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/data/RequestFactory anaplan/Exceptions dojo/_base/declare dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojo/i18n!anaplan/nls/timeDimensionImportOptions dojo/text!anaplan/templates/ImportDateFormat.html dijit/form/CheckBox anaplan/widgets/MasterSelector anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return h([q,f,k,p],{baseClass:"importDateFormat",templateString:t,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._importDefinition=a.importDefinition,this._valueMapping=a.valueMapping,this._selectorMapping=a.selectorMapping||null,this._selectorValues=a.selectorValues||null,this._formatDefinition=a.formatDefinition||{type:"date"},this._connections=[],this._nls=b,this._resizeEnabled=!0}catch(d){l.throwClientException(this,
d)}},onCancel:function(){},onSubmit:function(){},error:function(){return!1},onBusy:function(){},onChange:function(){},onIdle:function(){},postCreate:function(){this.inherited(arguments);l.setText(this.datesLabel,b.labelDates);l.setText(this.datesDescriptionLabel,b.labelDatesDescription);l.setText(this.patternsWithSeparatorsLabel,b.labelPatternsWithSeparators);l.setText(this.patternDescriptionYLabel,b.labelPatternDescriptionY);l.setText(this.patternDescriptionMLabel,b.labelPatternDescriptionM);l.setText(this.patternDescriptionDLabel,
b.labelPatternDescriptionD);l.setText(this.fixedPositionPatternsLabel,b.labelFixedPositionPatterns);l.setText(this.fixedPositionDescriptionLabel,b.labelFixedPositionDescription);l.setText(this.customPatternLabel,b.labelCustomPattern);l.setText(this.customPatternDescriptionLabel,b.labelCustomPatternDescription);l.setText(this.missingFormatError,b.errorMissingFormat);l.setText(this.malformedFormatError,b.errorMalformedFormat);l.setText(this.invalidFormatError,b.errorInvalidFormat);l.setText(this.optionsLabel,
b.labelOptions);l.setText(this.languageLabel,b.labelLanguage);l.setText(this.applyToAllLabel,"Use this format for all Date fields");this.okButton.set("label","OK");this.cancelButton.set("label","Cancel")},resize:function(a){if(!a||!(0>=a.h||0>=a.w))a=dojo.marginBox(this.questionsTable),this.sourceItemSelector&&e.set(this.sourceItemSelector.domNode,"height",a.h+"px")},startup:function(){try{this.inherited(arguments),this._isOpen=!0,this._connections.push(r(this.languageSelect,"click",d.hitch(this,
this._validateChange))),this._connections.push(r(this.languageSelect,"keypress",d.hitch(this,this._validateChangeDeferred))),this._connections.push(r(this.patternWithSeparatorSelect,"click",d.hitch(this,this._onFormatSelectorClick))),this._connections.push(r(this.patternWithSeparatorSelect,"keypress",d.hitch(this,this._onFormatSelectorKeyPress))),this._connections.push(r(this.fixedPositionPatternSelect,"click",d.hitch(this,this._onFormatSelectorClick))),this._connections.push(r(this.fixedPositionPatternSelect,
"keypress",d.hitch(this,this._onFormatSelectorKeyPress))),this._connections.push(r(this.customPatternInput,"focus",d.hitch(this,this._onCustomPatternInputFocus))),this._connections.push(r(this.customPatternInput,"keypress",d.hitch(this,this._onCustomPatternInputKeyPress))),this._validateChange()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){this._isOpen=!1;a.forEach(this._connections,function(a){a.remove()});this.inherited(arguments)},_onFormatSelectorKeyPress:function(){setTimeout(d.hitch(this,
this._onFormatSelectorClick),100)},_onFormatSelectorClick:function(){try{var b=null;this._formatDefinition&&(b=this._formatDefinition.format);var d=[];a.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var e=0;e<a.options.length;++e){var f=a.options.item(e);f.selected&&f.value!=b&&d.push(f.value)}});if(0<d.length){var e=d[0];a.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var b=0;b<a.options.length;++b){var d=a.options.item(b);
d.selected&&d.value!=e&&(d.selected=!1)}});this.customPatternInput.value=""}this._validateChange()}catch(f){l.showErrorReporter(new m.ClientException("anaplan.widgets.ImportDateFormat._onFormatSelectorClick",f,{widgetId:this.id}),!1,!0)}},_onCancelButtonClick:function(){this.onCancel()},_onCustomPatternInputKeyPress:function(){var a=this;try{this._customTimeout&&clearTimeout(this._customTimeout),this._customPatternChanged=!0,this._customTimeout=setTimeout(function(){!a._validating&&a._isOpen&&a._formatDefinition.format!=
a.customPatternInput.value.toUpperCase()&&(a._customTimeout=null,a._validateChange())},1E3)}catch(b){l.showErrorReporter(new m.ClientException("anaplan.widgets.ImportDateFormat._onCustomPatternInputKeyPress",b,{widgetId:this.id}),!1,!0)}},_onCustomPatternInputFocus:function(){try{a.forEach([this.patternWithSeparatorSelect,this.fixedPositionPatternSelect],function(a){for(var b=0;b<a.options.length;++b)a.options.item(b).selected=!1}),this._validateChange()}catch(b){l.showErrorReporter(new m.ClientException("anaplan.widgets.ImportDateFormat._onCustomPatternInputFocus",
b,{widgetId:this.id}),!1,!0)}},_onOkButtonClick:function(){this._validateChange(!0)},_buildFormatDefinition:function(){var a=this.customPatternInput.value;this.patternWithSeparatorSelect.value?a=this.patternWithSeparatorSelect.value:this.fixedPositionPatternSelect.value&&(a=this.fixedPositionPatternSelect.value);return{format:a,locale:this.languageSelect.value}},_populateSelectControl:function(a,b,d,e,f,h){var k=!1,r=!1,m;if(!b||b.length!==d.length)k=!0;else for(m=0;m<b.length;++m)if(b[m]!=d[m]){k=
!0;break}if(k){for(;0<a.length;)a.remove(0);for(m=0;m<d.length;++m)k=b=d[m],e&&(k=e[m]),k=g.create("option",{value:b,innerHTML:k},a),f==b&&(k.selected=r=!0)}else for(m=0;m<a.options.length;++m)k=a.options.item(m),k.value==f?(r=!0,k.selected||(k.selected=!0)):k.selected&&(k.selected=!1);a.disabled=!h&&1>=d.length;return r},_getLocalizedLabels:function(a,b){for(var d=[],e=0;e<a.length;++e)d.push(this._nls[b+a[e]]||"");return d},_sameFormat:function(a,b){try{return null==a?null==b:null==b?null==a:a.format!=
b.format||a.locale!=b.locale?!1:!0}catch(d){l.throwClientException(this,d)}},_validateChangeDeferred:function(){setTimeout(d.hitch(this,this._validateChange),100)},_validateChange:function(b){try{this._validating=!0;this._customPatternChanged=!1;var d={modelId:this._modelId,importDefinition:this._importDefinition};this._mappingType="DATE_DATA";this._validated&&(this._formatDefinition=this._buildFormatDefinition());this._formatDefinition&&(d.periodFormat=this._formatDefinition);d.mappingType=this._mappingType;
this._valueMapping&&(d.sampleData=this._sourceItemsLabelPage?this._sourceItemsLabelPage.labels[0]:"LOAD",d.valueMapping=this._valueMapping,this._selectorMapping&&(d.selectorMapping=this._selectorMapping,d.selectorValues=this._selectorValues||[]));var f=n.createRequest(this._workspaceId,[],[],[{actionId:"VALIDATE_PERIOD_FORMAT",params:d}]),g=this;s.post(f,!1,function(f){try{if(g._isOpen&&f){if(f.error)return l.showErrorReporter(new m.ServerException(f.error,null,null),!1,!0),!0;if(f.result){var h=
f.result;if(h.systemActionResults&&h.systemActionResults.length){var k=f.result.systemActionResults[0],r=k.periodFormat||{};if(g._validated){var n=g._buildFormatDefinition();if(!g._sameFormat(n,d.periodFormat))return}var t=g._populateSelectControl(g.patternWithSeparatorSelect,g._patternsWithSeparators,k.patternsWithSeparators,null,r.format||"");g._patternsWithSeparators=k.patternsWithSeparators;t|=g._populateSelectControl(g.fixedPositionPatternSelect,g._fixedPositionPatterns,k.fixedPositionPatterns,
null,r.format||"");g._fixedPositionPatterns=k.fixedPositionPatterns;var p=t?"":r.format||"";g.customPatternInput.value.toUpperCase()!=p&&!g._customPatternChanged&&(g.customPatternInput.value=p,g.customPatternInput.blur());g._formatDefinition=r;g._populateSelectControl(g.languageSelect,g._languageCodes,k.languageCodes,k.languageNames,r.locale||k.languageCodes[0]);g._languageCodes=k.languageCodes;g.customPatternInput.disabled=!1;a.forEach(["Y","Q","M","D","W"],function(a){for(var b=!1,d=0;d<g._patternsWithSeparators.length;++d)if(-1!=
g._patternsWithSeparators[d].indexOf(a)){b=!0;break}e.set(g["patternDescription"+a+"Label"],"display",b?"":"none")});r=h=f=!1;!g._formatDefinition||!g._formatDefinition.format?f=!0:k.isWellFormed?k.isValid||(r=!0):h=!0;e.set(g.missingFormatError,{display:f?"":"none"});e.set(g.malformedFormatError,{display:h?"":"none"});e.set(g.invalidFormatError,{display:r?"":"none"});if(!f&&!h&&!r){var q=k.periodFormat;if(!q||!q.format)q={};q.type="date";if(b)g.onSubmit(q,g.applyToAllCheckBox.get("value"));else g.onChange()}g.sourceItemSelector?
(g.sourceItemSelector.set("targetLabelPage",k.parsedItemsLabelPage),g.sourceItemSelector.set("labelPage",k.sourceItemsLabelPage),g.sourceItemSelector.set("valueMappings",k.sampleMap)):console.warn("No sourceItemSelector");g._sourceItemsLabelPage=k.sourceItemsLabelPage;g._validated=!0}}}}catch(w){l.showErrorReporter(new m.ClientException("anaplan.widgets.ImportDateFormat._validateChange._onGet",w,{widgetId:g.id}),!1,!0)}finally{g._validating=!1}},function(){g._validating=!1;l.showErrorReporter(new m.ClientException("anaplan.widgets.ImportDateFormat._validateChange._onError",
null,{widgetId:g.id}),!1,!0);return!0})}catch(h){l.throwClientException(this,h)}}})})},"anaplan/gridlet/_editor/BooleanEditor":function(){define("anaplan/Exceptions anaplan/gridlet/_editor/BaseEditor dijit/form/CheckBox dojo/_base/declare dojo/_base/lang dojo/dom-construct".split(" "),function(l,s,p,q,f,k){return q("anaplan.gridlet._editor.BooleanEditor",s,{constructor:function(n){var m=n.containerNode||null;this.widget=new p({style:n.style?n.style:"","class":n["class"]?n["class"]:""});m&&k.place(this.widget.domNode,
m);this.widget.startup();this.connect(this.widget,"keydown",f.hitch(this,"onKeyDown"));this.connect(this.widget,"change",f.hitch(this,"_onChange"))},getValue:function(){return this.widget&&this.widget.get?this.widget.get("checked"):!1},prepare:function(k){var m=this.inherited(arguments),h=f.mixin({},this._params,k);h.hasOwnProperty("value")&&this.setValue("true"===h.value);m.resolve();return m},setValue:function(f){this.widget&&this.widget.set&&this.widget.set("checked",f)},_onChange:function(f){try{if(null!==
f)this.onChange(f)}catch(k){throw new l.ClientException("anaplan.gridlet._editor.BooleanEditor#_onChange",k);}}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){m=l("dijit.form.TextBox"+(n("dojo-bidi")?"_NoBidi":""),[m,h],{templateString:e,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:n("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var d=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==d||"file"==d)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>n("ie")&&this.defer(function(){try{var d=p.getComputedStyle(this.domNode);if(d){var a=d.fontFamily;
if(a){var e=this.domNode.getElementsByTagName("INPUT");if(e)for(d=0;d<e.length;d++)e[d].style.fontFamily=a}}}catch(b){}})},_setPlaceHolderAttr:function(d){this._set("placeHolder",d);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=s.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(k(this._phspan,"mousedown",function(a){a.preventDefault()}),k(this._phspan,"touchend, pointerup, MSPointerUp",f.hitch(this,function(){this.focus()}))));this._phspan.innerHTML=
"";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(d));this._updatePlaceHolder()},_onInput:function(d){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(d,a,e){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){q.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.",
"","2.0");return this.get("displayedValue")},setDisplayedValue:function(d){q.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",d)},_onBlur:function(d){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),n("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(d){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});
9>n("ie")&&(m.prototype._isTextSelected=function(){var d=this.ownerDocument.selection.createRange();return d.parentElement()==this.textbox&&0<d.text.length},g._setSelectionRange=h._setSelectionRange=function(d,a,e){d.createTextRange&&(d=d.createTextRange(),d.collapse(!0),d.moveStart("character",-99999),d.moveStart("character",a),d.moveEnd("character",e-a),d.select())});n("dojo-bidi")&&(m=l("dijit.form.TextBox",m,{_setPlaceHolderAttr:function(d){this.inherited(arguments);this.applyTextDir(this._phspan)}}));
return m})},"anaplan/cf/ColorSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/form/_FormValueMixin dijit/form/Select dijit/MenuSeparator anaplan/Exceptions ./ColorSelectMenuItem".split(" "),function(l,s,p,q,f,k,n,m,h){return s(k,{constructor:function(){},postCreate:function(){this.inherited(arguments);q.add(this.domNode,"anaplanColorSelect")},_getMenuItemForOption:function(e){var f,d;try{if(!e.value&&!e.label)return new n({ownerDocument:this.ownerDocument});
f=p.hitch(this,"_setValueAttr",e);d=new h({option:e,colors:e.colors||this.emptyLabel,onClick:f,ownerDocument:this.ownerDocument,dir:this.dir,disabled:e.disabled||!1});d.focusNode.setAttribute("role","option")}catch(a){throw new m.ClientException("anaplan.cf.ColorSelect#_getMenuItemForOption",a);}return d},_setDisplay:function(e){var f,d,a,h;this.containerNode.innerHTML="";if(e&&e.length){h=document.createDocumentFragment();f=e.length;for(a=0;a<f;a++)d=document.createElement("div"),d.className="colorSelectMenuItemColor",
d.style.backgroundColor=e[a],h.appendChild(d);d=document.createElement("div");d.className="colorSelectMenuItemClear";h.appendChild(d);this.containerNode.appendChild(h)}},_setValueAttr:function(e,g){this._onChangeActive||(g=null);if(this._loadingStore)this._pendingValue=e;else{var d=this.getOptions()||[];p.isArray(e)||(e=[e]);l.forEach(e,function(a,f){p.isObject(a)||(a+="");"string"===typeof a&&(e[f]=l.filter(d,function(d){return d.value===a})[0]||{value:"",label:""})},this);e=l.filter(e,function(a){return a&&
a.value});if(!this.multiple&&(!e[0]||!e[0].value)&&d.length)e[0]=d[0];l.forEach(d,function(a){a.selected=l.some(e,function(d){return d.value===a.value})});var a=l.map(e,function(a){return a.value}),h=l.map(e,function(a){return a.colors});"undefined"==typeof a||"undefined"==typeof a[0]||(this._setDisplay(this.multiple?h:h[0]),f.prototype._setValueAttr.call(this,this.multiple?a:a[0],g),this._updateSelection())}}})})},"anaplan/api/watcher":function(){define(["dojo/_base/declare","anaplan/utils/JsHelper",
"dojo/Evented","dojo/_base/lang"],function(l,s,p,q){return new (l([p],{constructor:function(){},update:function(f){f&&(s.isObject(f.modelInfo)&&this.emit("modelInfoChange",f.modelInfo),s.isObject(f.workspaceInfo)&&this.emit("workspaceInfoChange",f.workspaceInfo),s.isString(f.activeState)&&this.emit("activeStateChange",f.activeState))}}))})},"anaplan/utils/WorkspaceHelper":function(){define("anaplan/constants anaplan/utils/FormatHelper anaplan/utils/UrlHelper dojo/_base/lang dojo/i18n!anaplan/nls/util dojo/topic".split(" "),
function(l,s,p,q,f,k){var n={getWorkspacePercentageFull:function(f){return!f?0:Math.floor(100*(f.currentWorkspaceSize/f.workspaceSizeAllowance))},getWorkspacePercentageFullMessage:function(k){k=this.getWorkspacePercentageFull(k);return f.workspacePercentageFullMessage.replace(/\$\{percentage\}/,k)},getWorkspaceSizeMessage:function(k){var h=this.getWorkspacePercentageFullMessage(k),e=s.formatBytes(k.currentWorkspaceSize),g=s.formatBytes(k.workspaceSizeAllowance);k=f.workspaceSizeMessage;k=k.replace(/\$\{memory\}/,
e);k=k.replace(/\$\{allowance\}/,g);e=f.workspaceSizeHelp;e=s.searchAndReplacePlaceholders(e);return[h,k,e]},assertWorkspaceSize:function(f,h){var e;this._isAuthorizedToAssertWorkspaceSize(function(a){e=a});if(f&&e){var g=this.getWorkspacePercentageFull(f);if(g>l.WORKSPACE_PERCENTAGE_FULL_WARNING_THRESHOLD){var d=this.getWorkspaceSizeMessage(f),a=d.join("\x3cbr /\x3e\x3cbr /\x3e"),g=g>l.WORKSPACE_PERCENTAGE_FULL_ERROR_THRESHOLD;h||(g?k.publish("anaplan/persistentmessage",a,l.SYSTEM_MESSAGE_ERROR):
k.publish("anaplan/systemmessage",a,null,-1,l.SYSTEM_MESSAGE_WARNING));__ANAPLAN_CORE_CLIENT_STORE__.dispatch(App.interim.globalNavActions.setWorkspaceAlerts({notificationType:g?"PINNED_ERROR":"PINNED_WARNING",title:d[0],description:d[1]+"\n"+d[2],url:p.createAnapediaUrl("default.htm#cshid\x3d1177")}))}else __ANAPLAN_CORE_CLIENT_STORE__.dispatch(App.interim.globalNavActions.setWorkspaceAlerts())}},geti18nSystemStatusMessage:function(k){return k==l.REQUEST_STATUS_UNKNOWN_REQUEST?f.messageRequestNotReceivedByServer:
k==l.REQUEST_STATUS_KNOWN_REQUEST?f.messageRequestReceivedByServer:k},setAutomaticRefreshInterval:function(f){k.publish("anaplan/setAutomaticRefreshInterval",f)},_isAuthorizedToAssertWorkspaceSize:function(f){require(["anaplan/common/SelectiveAccess"],function(h){f(h.isAuthorized(l.userActions.CAN_ASSERT_WORKSPACE_SIZE))})}};q.setObject("anaplan.util.setAutomaticRefreshInterval",n.setAutomaticRefreshInterval);q.setObject("anaplan.utils.WorkspaceHelper",n);return n})},"anaplan/data/TypeInfo":function(){define(["dojo/_base/declare",
"anaplan/Exceptions"],function(l,s){var p=l(null,{});p.getCompatibleOperators=function(f){f=q[f]||q.NONE;return f=f.slice(0)};p.getFilterMaxArity=function(k){var n=f[k];if("number"!==typeof n)throw new s.ClientException('anaplan.data.TypeInfo.getFilterMaxArity: Bad TypeName "'+k+'".');return n};p.typename={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",TEXT:"TEXT",DATE:"DATE",ENTITY:"ENTITY",TIME_ENTITY:"TIME_ENTITY",NONE:"NONE"};var q={NUMBER:"EQUALS NOT_EQUALS LESS_THAN LESS_THAN_OR_EQUAL_TO GREATER_THAN GREATER_THAN_OR_EQUAL_TO".split(" "),
BOOLEAN:["EQUALS","NOT_EQUALS"],TEXT:"EQUALS NOT_EQUALS IS_BLANK IS_NOT_BLANK CONTAINS STARTS_WITH ENDS_WITH".split(" "),DATE:"EQUALS NOT_EQUALS LESS_THAN LESS_THAN_OR_EQUAL_TO GREATER_THAN GREATER_THAN_OR_EQUAL_TO IS_BLANK IS_NOT_BLANK".split(" "),ENTITY:["EQUALS","NOT_EQUALS","IS_BLANK","IS_NOT_BLANK"],TIME_ENTITY:"EQUALS NOT_EQUALS LESS_THAN LESS_THAN_OR_EQUAL_TO GREATER_THAN GREATER_THAN_OR_EQUAL_TO IS_BLANK IS_NOT_BLANK".split(" "),NONE:["IS_BLANK"]},f={NUMBER:1,BOOLEAN:1,TEXT:1,DATE:1,ENTITY:Infinity,
TIME_ENTITY:Infinity,NONE:0};return p})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(l,s,p,q,f,k,n,m){s=s("dijit.layout.LayoutContainer",n,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(l.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(f){this.inherited(arguments);
f.region&&p.add(f.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var f=l.map(this.getChildren(),function(e,f){return{pane:e,weight:["center"==e.region?Infinity:0,e.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(e.region)?1:-1),f]}},this);f.sort(function(e,f){for(var d=e.weight,a=f.weight,h=0;h<d.length;h++)if(d[h]!=a[h])return d[h]-a[h];return 0});return l.map(f,function(e){return e.pane})},layout:function(){m.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(f,e){this.inherited(arguments);this._started&&this.layout()},removeChild:function(f){this.inherited(arguments);this._started&&this.layout();p.remove(f.domNode,this.baseClass+"Pane");q.set(f.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});q.set(f.domNode,/top|bottom/.test(f.region)?"width":"height","auto")}});s.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};f.extend(k,s.ChildWidgetProperties);return s})},"anaplan/gridlet/_editor/HTML5DateEditor":function(){define("anaplan/gridlet/_editor/BaseEditor dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/gridlet".split(" "),
function(l,s,p,q,f,k,n){return s("anaplan.gridlet._editor.HTML5DateEditor",l,{constructor:function(k){this.widget=f.create("input",{type:"date",autocorrect:"off",autocapitalize:"off",autocomplete:"off",title:n.labelDateEditor,tabindex:"-1",style:k.style?k.style:"","class":k["class"]?k["class"]:""});(k=k.containerNode||null)&&f.place(this.widget,k);this.connect(this.widget,"blur",p.hitch(this,"_onBlur"))},getValue:function(){var f;return this.widget?(f=this.widget.value,""!==f&&(f=q.parse(f,{selector:"date",
datePattern:"yyyy-MM-dd"}),f=q.format(f,{selector:"date"})),f):null},prepare:function(f){var h=this.inherited(arguments),e=p.mixin({},this._params,f);this.setValue(e.value);e.cellNode?k.setMarginBox(this.widget,k.getMarginBox(e.cellNode)):e.size&&k.setMarginBox(this.widget,e.size);h.resolve();return h},setValue:function(f){if(this.widget){var h="";f&&(f=q.parse(f,{selector:"date"}),h=q.format(f,{selector:"date",datePattern:"yyyy-MM-dd"}));this.widget.value=h}},_onBlur:function(){this.onChange(this.getValue())}})})},
"anaplan/gridlet/_editor/DataType":function(){define("anaplan/utils/FormatHelper anaplan/data/ModelContentCache anaplan/format/util anaplan/constants anaplan/utils/UIHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojox/lang/functional/object dojo/has dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/dataType dojo/i18n!dijit/nls/common dojo/json dojo/data/ObjectStore dojo/store/Memory dojo/text!anaplan/templates/DataType.html dojo/sniff anaplan/widgets/Button anaplan/gridlet/_editor/dataTypes/FilteredList anaplan/gridlet/_editor/dataTypes/Text anaplan/gridlet/_editor/dataTypes/TimeEntity dijit/form/Select".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return e([m,n,h,k],{baseClass:"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft dataType",name:"",tabIndex:-1,templateString:y,confirmationDialog:null,initialFormat:null,_mappingDomainHierarchyBySource:null,constructor:function(a){this._allNodes={};this.initialFormat=a.initialFormat||g.clone(q.DEFAULT_NUMBER_FORMAT_DEFINITION);this._context=a.context;this._selection=a.selection},focus:function(){this.selectDataType.focus()},
onDialogShow:function(){var a;"NUMBER"!==this.initialFormat.dataType&&(a=this._buildDefaultNumberFormat(),this._setNumberFormat(a));this._displayFormat(this.initialFormat);this.initialFormat=this._buildFormat();this._updateSample()},postCreate:function(){this.inherited(arguments);this.inputOk.set("label",t.buttonOk);this.inputCancel.set("label",t.buttonCancel);f.setText(this.labelDataType,b.labelDataType);f.setText(this.labelSample,b.labelSample);f.setText(this.labelFormat,b.labelFormat);f.setText(this.labelDecimalPlaces,
b.labelDecimalPlaces);f.setText(this.labelDecimalPoint,b.labelDecimalPoint);f.setText(this.labelThousandSeparator,b.labelThousandSeparator);f.setText(this.labelNegativeNumbers,b.labelNegativeNumbers);f.setText(this.labelZero,b.labelZero);f.setText(this.labelUnits,b.labelUnits);f.setText(this.labelNone,b.labelNone);f.setText(this.labelCurrency,b.labelCurrency);f.setText(this.labelMultiCurrency,b.labelMultiCurrency);f.setText(this.labelPercentage,b.labelPercentage);f.setText(this.labelOther,b.labelOther);
f.setText(this.labelUseSymbol,b.labelUseSymbol);f.setText(this.labelUseCurrencyCode,b.labelUseCurrencyCode);f.setText(this.labelCustomUnits,b.labelCustomUnits);f.setText(this.labelUseSymbolMultiCurrency,b.labelUseSymbol);f.setText(this.labelUseCurrencyCodeMultiCurrency,b.labelUseCurrencyCode);f.setText(this.labelPrefix,b.labelPrefix);f.setText(this.labelSuffix,b.labelSuffix);f.setText(this.labelMinimumSignificantDigits,b.labelMinimumSignificantDigits);f.setText(this.labelFieldsetComparisonIncrease,
b.labelFieldsetComparisonIncrease);f.setText(this.labelSelectComparisonIncrease,b.labelSelectComparisonIncrease);this._prepareSelectMinimumSignificantDigits();this._prepareSelectDecimalPlaces();this._prepareSelectDecimalPoint();this._prepareSelectThousandSeparator();this._prepareSelectNegativeNumbers();this._prepareSelectZero();this._prepareSelectCurrency();this._prepareSelectComparisonIncrease();this._containers={NUMBER:this.configureNumberContainer,BOOLEAN:null,DATE:null,TIME_ENTITY:this.configureTimeEntityContainer,
ENTITY:this.configureEntityContainer,TEXT:this.configureTextContainer};this.own(this.configureEntityContainer.on("update",g.hitch(this,"_dirtyCheck")),this.configureEntityContainer.on("invalid",g.hitch(this,"_disableOk")),this.configureTextContainer.on("update",g.hitch(this,"_dirtyCheck")),this.configureTimeEntityContainer.on("update",g.hitch(this,"_dirtyCheck")))},startup:function(){this.inherited(arguments);this._prepareSelectDataType()},_disableOk:function(){this.inputOk.set("disabled",!0)},_dirtyCheck:function(){var a=
this.initialFormat,b=this._buildFormat();a&&b?this.inputOk.set("disabled",u.stringify(a)===u.stringify(b)):this.inputOk.set("disabled",!b)},_prepareSelectComparisonIncrease:function(){this._addSelectOption(this.selectComparisonIncrease,"GOOD","Good","good");this._addSelectOption(this.selectComparisonIncrease,"BAD","Bad","bad");this._addSelectOption(this.selectComparisonIncrease,"NEUTRAL","Neutral","neutral")},_prepareSelectDataType:function(){var a=new v({objectStore:new z({data:[{label:r.labelDataTypeNUMBER,
id:"NUMBER"},{label:r.labelDataTypeBOOLEAN,id:"BOOLEAN"},{label:r.labelDataTypeDATE,id:"DATE"},{label:r.labelDataTypeTIME_ENTITY,id:"TIME_ENTITY"},{label:r.labelDataTypeENTITY,id:"ENTITY"},{label:r.labelDataTypeTEXT,id:"TEXT"},{label:r.labelDataTypeNONE,id:"NONE"}]})});this.selectDataType.set("store",a)},_prepareSelectMinimumSignificantDigits:function(){var a;for(a=1;15>=a;a++)this._addSelectOption(this.selectMinimumSignificantDigits,a,a)},_prepareSelectDecimalPlaces:function(){var a;for(a=0;15>=
a;a++)this._addSelectOption(this.selectDecimalPlaces,a,a)},_prepareSelectDecimalPoint:function(){this._addSelectOption(this.selectDecimalPoint,"FULL_STOP","Dot");this._addSelectOption(this.selectDecimalPoint,"COMMA","Comma");this.selectDecimalPoint.value="FULL_STOP"},_prepareSelectThousandSeparator:function(){this._addSelectOption(this.selectThousandSeparator,"NONE","None");this._addSelectOption(this.selectThousandSeparator,"FULL_STOP","Dot");this._addSelectOption(this.selectThousandSeparator,"COMMA",
"Comma");this._addSelectOption(this.selectThousandSeparator,"SPACE","Space");this.selectThousandSeparator.value="COMMA"},_prepareSelectNegativeNumbers:function(){this._addSelectOption(this.selectNegativeNumbers,"MINUS_SIGN","Minus Sign");this._addSelectOption(this.selectNegativeNumbers,"PARENTHESES","Brackets")},_prepareSelectZero:function(){this._addSelectOption(this.selectZero,"ZERO","Zero");this._addSelectOption(this.selectZero,"BLANK","Blank");this._addSelectOption(this.selectZero,"HYPHEN","Hyphen")},
_prepareSelectCurrency:function(){var a=s.getAllCurrenciesLabelPage(),b,d,e;if(a){b=a.labels[0];for(d=0;d<a.count;d++)e=b[d],this._addSelectOption(this.selectCurrency,e,e)}else console.warn("anaplan.gridlet._editor Expected to find currencies label page and did not.")},_addSelectOption:function(b,d,e,f){var g=document.createElement("option");g.value=d;g.text=e;f&&(g.className=f);a("ie")?b.add(g):b.add(g,null)},_displayFormat:function(a){var b=a.dataType;this.selectDataType.set("value",b);this._makeDataTypeActive(b);
"NUMBER"===b?this._setNumberFormat(a):(b=this._containers[b])&&b.setFormat(a)},_makeDataTypeActive:function(a){d.forIn(this._containers,function(b,d){b&&b.set&&b.set("visible",d===a)});this._setDivVisible(this.sampleContainer,"NUMBER"===a);this._setDivVisible(this.configureNumberContainer,"NUMBER"===a)},_setDivVisible:function(a,b){a.style.display=b?"":"none"},_setNumberFormat:function(a){this._setMinimumSignificantDigitsControlsDisabled(-1===a.minimumSignificantDigits);-1!==a.minimumSignificantDigits?
(this.inputMinimumSignificantDigits.checked=!0,this.selectMinimumSignificantDigits.value=a.minimumSignificantDigits,this.selectDecimalPlaces.value=0):(this.inputDecimalPlaces.checked=!0,this.selectMinimumSignificantDigits.value=4,this.selectDecimalPlaces.value=a.decimalPlaces);this.selectDecimalPoint.value=a.decimalSeparator;this.selectThousandSeparator.value=a.groupingSeparator;this.selectNegativeNumbers.value=a.negativeNumberNotation;this.selectZero.value=a.zeroFormat;this.inputNone.checked=!1;
this.inputCurrency.checked=!1;this.inputMultiCurrency.checked=!1;this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);this._setOtherUnitsControlsDisabled(!0);this.inputPercentage.checked=!1;this.inputOther.checked=!1;"CURRENCY"===a.unitsType?(this.inputCurrency.checked=!0,this._setCurrencyControlsDisabled(!1),this.selectCurrency.value=a.currencyCode,"CURRENCY_CODE"===a.unitsDisplayType?this.inputUseCurrencyCode.checked=!0:this.inputUseSymbol.checked=!0):"MULTI_CURRENCY"===
a.unitsType?(this.inputMultiCurrency.checked=!0,this._setMultiCurrencyControlsDisabled(!1),"CURRENCY_CODE"===a.unitsDisplayType?this.inputUseCurrencyCodeMultiCurrency.checked=!0:this.inputUseSymbolMultiCurrency.checked=!0):"PERCENTAGE"===a.unitsType?this.inputPercentage.checked=!0:"CUSTOM"===a.unitsType?(this.inputOther.checked=!0,this._setOtherUnitsControlsDisabled(!1),this.inputCustomUnits.value=l.unescapeHTML(a.customUnits),"CUSTOM_PREFIX"===a.unitsDisplayType?(this.inputPrefix.checked=!0,this.inputSuffix.checked=
!1):(this.inputPrefix.checked=!1,this.inputSuffix.checked=!0)):this.inputNone.checked=!0;this.selectComparisonIncrease.value=a.comparisonIncrease;this.selectComparisonIncrease.className=String(a.comparisonIncrease).toLowerCase()},_buildFormat:function(){var a=this.selectDataType.get("value");if("NUMBER"===a)return this._buildNumberFormat();var b=this._containers[a];return b?b.buildFormat():{dataType:a}},_buildNumberFormat:function(){var a={dataType:"NUMBER"};this.inputMinimumSignificantDigits.checked?
(a.minimumSignificantDigits=this.selectMinimumSignificantDigits.value,a.decimalPlaces=-1):(a.minimumSignificantDigits=-1,a.decimalPlaces=this.selectDecimalPlaces.value);a.decimalSeparator=this.selectDecimalPoint.value;a.groupingSeparator=this.selectThousandSeparator.value;a.negativeNumberNotation=this.selectNegativeNumbers.value;a.zeroFormat=this.selectZero.value;a.unitsType="NONE";a.unitsDisplayType="NONE";a.currencyCode=null;a.customUnits=null;this.inputCurrency.checked?(a.unitsType="CURRENCY",
a.currencyCode=this.selectCurrency.value,a.unitsDisplayType=this.inputUseSymbol.checked?"CURRENCY_SYMBOL":"CURRENCY_CODE"):this.inputMultiCurrency.checked?(a.unitsType="MULTI_CURRENCY",a.unitsDisplayType=this.inputUseSymbolMultiCurrency.checked?"CURRENCY_SYMBOL":"CURRENCY_CODE"):this.inputPercentage.checked?(a.unitsType="PERCENTAGE",a.unitsDisplayType="PERCENTAGE_SUFFIX"):this.inputOther.checked&&(a.unitsType="CUSTOM",a.customUnits=l.escapeHTML(this.inputCustomUnits.value),a.unitsDisplayType=this.inputPrefix.checked?
"CUSTOM_PREFIX":"CUSTOM_SUFFIX");a.comparisonIncrease=this.selectComparisonIncrease.value;return a},_buildDefaultNumberFormat:function(){return g.clone(q.DEFAULT_NUMBER_FORMAT_DEFINITION)},_updateSample:function(){var a=this._buildFormat(),b=s.getAllCurrenciesLabelPage(),a=p.applyFormat(-1234.567890123457,a,b);this.spanSample.innerHTML=a},_setCurrencyControlsDisabled:function(a){this.selectCurrency.disabled=a;this.inputUseSymbol.disabled=a;this.inputUseCurrencyCode.disabled=a},_setMultiCurrencyControlsDisabled:function(a){this.inputUseSymbolMultiCurrency.disabled=
a;this.inputUseCurrencyCodeMultiCurrency.disabled=a},_setOtherUnitsControlsDisabled:function(a){this.inputCustomUnits.disabled=a;this.inputPrefix.disabled=a;this.inputSuffix.disabled=a},uninitialize:function(){this._allNodes=null;this.inherited(arguments)},_getChildren:function(a){var b=[],d=[];a=a.getAllNodes();var e;for(e=0;e<a.length;e++)b.push(a[e].innerHTML),d.push(this._allNodes[a[e].innerHTML]);return{label:b.join(),identifier:d.join()}},_getConfirmationDialogAttr:function(){return this.confirmationDialog},
_layoutChildren:function(a){},_setConfirmationDialogAttr:function(a){a&&(this.confirmationDialog=a)},_onSelectDataTypeChange:function(a){a=this.selectDataType.get("value");this._makeDataTypeActive(a);this._dirtyCheck()},_onInputMinimumSignificantDigitsClick:function(a){this._setMinimumSignificantDigitsControlsDisabled(!1);this._updateSample();this._dirtyCheck()},_onSelectMinimumSignificantDigitsChange:function(a){this._updateSample();this._dirtyCheck()},_onInputDecimalPlacesClick:function(a){this._setMinimumSignificantDigitsControlsDisabled(!0);
this._updateSample();this._dirtyCheck()},_setMinimumSignificantDigitsControlsDisabled:function(a){this.selectMinimumSignificantDigits.disabled=a;this.selectDecimalPlaces.disabled=!a},_onSelectComparisonIncreaseChange:function(){this.selectComparisonIncrease.className=String(this.selectComparisonIncrease.value).toLowerCase();this._dirtyCheck()},_onSelectDecimalPlacesChange:function(a){this._updateSample();this._dirtyCheck()},_onSelectDecimalPointChange:function(a){"COMMA"===this.selectDecimalPoint.value&&
"COMMA"===this.selectThousandSeparator.value?this.selectThousandSeparator.value="FULL_STOP":"FULL_STOP"===this.selectDecimalPoint.value&&"FULL_STOP"===this.selectThousandSeparator.value&&(this.selectThousandSeparator.value="COMMA");this._updateSample();this._dirtyCheck()},_onSelectThousandSeparatorChange:function(a){"FULL_STOP"===this.selectThousandSeparator.value&&"FULL_STOP"===this.selectDecimalPoint.value?this.selectDecimalPoint.value="COMMA":"COMMA"===this.selectThousandSeparator.value&&"COMMA"===
this.selectDecimalPoint.value&&(this.selectDecimalPoint.value="FULL_STOP");this._updateSample();this._dirtyCheck()},_onSelectNegativeNumbersChange:function(a){this._updateSample();this._dirtyCheck()},_onSelectZeroChange:function(a){this._updateSample();this._dirtyCheck()},_onInputNoneClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);this._setOtherUnitsControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onInputCurrencyClick:function(a){this._setCurrencyControlsDisabled(!1);
this._setMultiCurrencyControlsDisabled(!0);this._setOtherUnitsControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onSelectCurrencyChange:function(a){this._updateSample();this._dirtyCheck()},_onInputUseSymbolClick:function(a){this._updateSample();this._dirtyCheck()},_onInputUseCurrencyCodeClick:function(a){this._updateSample();this._dirtyCheck()},_onInputUseSymbolMultiCurrencyClick:function(a){this._updateSample();this._dirtyCheck()},_onInputUseCurrencyCodeMultiCurrencyClick:function(a){this._updateSample();
this._dirtyCheck()},_onInputMultiCurrencyClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!1);this._setOtherUnitsControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onInputPercentageClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);this._setOtherUnitsControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onInputOtherClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);
this._setOtherUnitsControlsDisabled(!1);this._updateSample();this._dirtyCheck()},_onInputCustomUnitsChange:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onInputPrefixClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);this._updateSample();this._dirtyCheck()},_onInputSuffixClick:function(a){this._setCurrencyControlsDisabled(!0);this._setMultiCurrencyControlsDisabled(!0);
this._updateSample();this._dirtyCheck()},_onInputOkClick:function(a){a=this._buildFormat();this.onSubmitFormat(a)},_onInputCancelClick:function(a){this.onCancelEdit()},onSubmitFormat:function(a){},onCancelEdit:function(){}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(l,s){l.add("dom-contains",function(f,e,g){return!!g.contains});var p=[],q,f,k,n=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,m={defaultDelay:15,throttle:function(f,e,g){var d=!1;g=g||m.defaultDelay;return function(){d||
(d=!0,f.apply(e,arguments),setTimeout(function(){d=!1},g))}},throttleDelayed:function(f,e,g){var d=!1;g=g||m.defaultDelay;return function(){if(!d){d=!0;var a=arguments;setTimeout(function(){d=!1;f.apply(e,a)},g)}}},debounce:function(f,e,g){var d;g=g||m.defaultDelay;return function(){d&&(clearTimeout(d),d=null);var a=arguments;d=setTimeout(function(){f.apply(e,a)},g)}},each:function(f,e,g){var d,a;if(f)if("number"===typeof f.length){d=0;for(a=f.length;d<a;d++)e.call(g,f[d],d,f)}else for(d in f)e.call(g,
f[d],d,f)},contains:function(f,e){return l("dom-contains")?f.contains(e):f.compareDocumentPosition(e)&8},addCssRule:function(h,e){q||(q=s(document.getElementsByTagName("head")[0],"style"),q=q.sheet||q.styleSheet,f=q.deleteRule?"deleteRule":"removeRule",k=q.cssRules?"cssRules":"rules");var g=p.length;p[g]=(q.cssRules||q.rules).length;q.addRule?q.addRule(h,e):q.insertRule(h+"{"+e+"}",p[g]);return{get:function(d){return q[k][p[g]].style[d]},set:function(d,a){"undefined"!==typeof p[g]&&(q[k][p[g]].style[d]=
a)},remove:function(){var d=p[g],a,e;if(void 0!==d){q[f](d);p[g]=void 0;a=g+1;for(e=p.length;a<e;a++)p[a]>d&&p[a]--}}}},escapeCssIdentifier:function(f,e){return f.replace(n,e||"\\$1")}};return m})},"anaplan/dnd/Manager":function(){define("anaplan/dnd/Avatar anaplan/dnd/Draggable anaplan/dnd/DropZone anaplan/Exceptions anaplan/utils/UIHelper anaplan/widgets/ConfirmationDialog dijit/Destroyable dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-construct dojo/dom-geometry dojo/has dojo/on dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){return h(n,{_avatar:null,_currentDropZone:null,_confirmationHandlers:null,_connections:null,_draggableItems:null,_draggableItemIdMap:null,_dragInProgress:!1,_dropZones:null,_dropZoneIdMap:null,_grabbedItem:null,_mouseX:null,_mouseY:null,_rootNode:null,_targetInfo:null,addConfirmationHandler:function(a,b){this._confirmationHandlers.push(e.hitch(a,b))},addDraggableItem:function(a){this._draggableItems.push(a);a.id&&(this._draggableItemIdMap[a.id]=a);this.own(g.after(a,
"onGrab",e.hitch(this,"_onGrab"),!0))},addDropZone:function(a){this._dropZones.push(a);a.id&&(this._dropZoneIdMap[a.id]=a)},confirm:function(a,b,d,f,h,r,n,l){var p=[],q,s;m.forEach(this._confirmationHandlers,function(a){(a=a(b,d,f,h,r))&&p.push(a)});p.length?(this._confirmationDialog||(this._confirmationDialog=new k),this._confirmationDialog.set("title",a),this._confirmationDialog.set("content",p.join("\x3cbr\x3e\x3cbr\x3e")),q=g.after(this._confirmationDialog,"onCancel",e.hitch(this,function(){s.remove();
q.remove();l&&l()}),!0),s=g.after(this._confirmationDialog,"execute",e.hitch(this,function(){s.remove();q.remove();n()})),this._confirmationDialog.show()):n()},constructor:function(a){this._rootNode=a;this._confirmationHandlers=[];this._connections=[];this._draggableItems=[];this._dropZones=[];this._draggableItemIdMap={};this._dropZoneIdMap={};r("ios")||r("android")?this.own(b(document,"touchmove",e.hitch(this,"_onTouchMove")),b(document,"touchend",e.hitch(this,"_onTouchEnd")),b(document,"touchcancel",
e.hitch(this,"_onTouchCancel"))):this.own(b(document,"mousemove",e.hitch(this,"_onMouseMove")),b(document,"mouseup",e.hitch(this,"_onMouseUp")))},createDraggableItem:function(a){a=new s(a.domNode||a,{id:a.id});this.addDraggableItem(a);return a},createDropZone:function(a){a=new p(a.domNode||a,a.dropNode||a.domNode||a,{id:a.id});this.addDropZone(a);return a},destroy:function(){this._confirmationDialog&&(this._confirmationDialog.destroy(),this._confirmationDialog=null);this._avatar&&this._destroyAvatar();
this._draggableItems&&(m.forEach(this._draggableItems,function(a){a.destroy()}),this._draggableItems=null);this._dropZones&&(m.forEach(this._dropZones,function(a){a.destroy()}),this._dropZones=null);this.inherited(arguments)},destroyDraggableItem:function(a){var b;a&&(delete this._draggableItemIdMap[a.id],b=m.indexOf(this._draggableItems,a),-1!==b&&this._draggableItems.splice(b,1),a.domNode&&a.destroy())},destroyDropZone:function(a){var b;a&&(delete this._dropZoneIdMap[a.id],b=m.indexOf(this._dropZones,
a),-1!==b&&this._dropZones.splice(b,1),a.domNode&&a.destroy())},getDraggableItemById:function(a){return this._draggableItemIdMap[a]},getItems:function(){return this._draggableItems},getDropZoneById:function(a){return this._dropZoneIdMap[a]},onDrop:function(){},_calculateCurrentDropZone:function(b,d){var e=null,f=0,g,h,k,r,m;h=a.position(this._avatar.domNode,!0);k=this._dropZones;r=k.length;for(this._currentDropZone=null;r--;)m=k[r],m.setHasHover(!1),!this._currentDropZone&&m.isActive()&&(g=a.position(m.domNode,
!0),b>=g.x&&b<g.x+g.w&&d>=g.y&&d<g.y+g.h?this._currentDropZone=e=m:(g=this._calculateIntersection(h,g),g=g.w*g.h,g>f&&(f=g,e=m)));(this._currentDropZone=e)?(e.setHasHover(!0),this._targetInfo=e.targetAt(this._grabbedItem,this._mouseX,this._mouseY)):this._targetInfo=null},_calculateIntersection:function(a,b){var d={x:0,y:0,w:0,h:0},e=Math.max(a.x,b.x),f=Math.max(a.y,b.y),g=Math.min(a.x+a.w,b.x+b.w),h=Math.min(a.y+a.h,b.y+b.h);d.x=e;d.y=f;d.w=g>e?g-e:0;d.h=h>f?h-f:0;return d},_createAvatar:function(){var b,
f,g;this._grabbedItem&&(b=a.position(this._grabbedItem.domNode,!0),f=a.getMarginBox(this._grabbedItem.domNode),g=e.clone(this._grabbedItem.domNode),d.place(g,this._rootNode),this._avatar=new l(g,{marginBox:{l:b.x,t:b.y,w:f.w}}))},_destroyAvatar:function(){this._avatar&&(this._avatar.destroy(),this._avatar=null)},_moveAvatar:function(a,b){this._avatar&&(this._avatar.move(a-this._mouseX,b-this._mouseY),this._mouseX=a,this._mouseY=b,this._calculateCurrentDropZone(a,b))},_onGrab:function(a,b){this._grabbedItem=
a;b.touches?(this._mouseX=b.touches[0].pageX,this._mouseY=b.touches[0].pageY):(this._mouseX=b.pageX,this._mouseY=b.pageY);m.forEach(this._dropZones,function(a){a.setHasHover(!1);a.activate(this._grabbedItem)},this)},_onMouseMove:function(a){!this._dragInProgress&&this._grabbedItem&&(this._dragInProgress=!0,this._startDrag());this._dragInProgress&&(a.preventDefault(),this._moveAvatar(a.pageX,a.pageY))},_onMouseUp:function(a){var b,d,e;try{this._targetInfo?(b=this._grabbedItem.getDropZone(),e=this._targetInfo[0],
d=e.isInstanceOf(s)?e.getDropZone():e,this._grabbedItem!==e&&(d.drop(this._grabbedItem,b,e,this._targetInfo[1]),this.onDrop()),this._stopDrag(!1)):this._grabbedItem&&this._stopDrag(!0)}catch(g){f.showErrorReporter(new q.ClientException("anaplan.dnd.Manager#_onMouseUp",g,null,a))}},_onTouchCancel:function(a){this._onMouseUp(a)},_onTouchEnd:function(a){this._onMouseUp(a)},_onTouchMove:function(a){try{!this._dragInProgress&&this._grabbedItem&&(this._dragInProgress=!0,this._startDrag()),this._dragInProgress&&
this._moveAvatar(a.touches[0].pageX,a.touches[0].pageY),a.preventDefault()}catch(b){f.showErrorReporter(new q.ClientException("anaplan.dnd.Manager#_onTouchMove",b,null,a))}},_startDrag:function(){this._dragInProgress=!0;this._createAvatar()},_stopDrag:function(a){var b=this;this._dragInProgress=!1;this._grabbedItem=this._targetInfo=this._currentDropZone=null;m.forEach(this._dropZones,function(a){a.deactivate()});this._avatar&&(a?this._avatar.cancel(function(){b._destroyAvatar()}):this._destroyAvatar())}})})},
"anaplan/widgets/MenuItem":function(){define(["dojo/_base/declare","dijit/MenuItem","dojo/dom-class","dojo/has","dojo/sniff"],function(l,s,p,q){return l([s],{postCreate:function(){this.inherited(arguments);p.add(this.domNode,"anaplanMenuItem");p.add(this.domNode,"qa-menu-item");p.add(this.domNode,arguments["class"])},focus:function(){q("ios")||this.inherited(arguments)},onShow:function(){}})})},"anaplan/layout/StackContainer":function(){define(["dojo/_base/declare","dijit/layout/StackContainer"],
function(l,s){return l(s,{resize:function(l){l&&0===l.h||this.selectedChildWidget&&this.inherited(arguments)},onSelectChild:function(){},selectChild:function(){this.inherited(arguments);this.onSelectChild()}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(l,s,p,q){function f(d,a,e){var b="";d&&d.stack&&(b+=d.stack);a&&a.stack&&(b+="\n    ----------------------------------------\n    rejected"+a.stack.split("\n").slice(1).join("\n").replace(/^\s+/,
" "));e&&e.stack&&(b+="\n    ----------------------------------------\n"+e.stack);console.error(d,b)}function k(d,a,e,b){a||f(d,e,b)}function n(d,a,f,b){a?q.some(h,function(a,b){if(a.error===d)return h.splice(b,1),!0}):q.some(h,function(a){return a.error===d})||h.push({error:d,rejection:f,deferred:b,timestamp:(new Date).getTime()});e||(e=setTimeout(m,g))}function m(){var d=(new Date).getTime(),a=d-g;h=q.filter(h,function(d){return d.timestamp<a?(f(d.error,d.rejection,d.deferred),!1):!0});e=h.length?
setTimeout(m,h[0].timestamp+g-d):!1}s.add("config-useDeferredInstrumentation","report-unhandled-rejections");var h=[],e=!1,g=1E3;return function(d){var a=s("config-useDeferredInstrumentation");if(a){l.on("resolved",p.hitch(console,"log","resolved"));l.on("rejected",p.hitch(console,"log","rejected"));l.on("progress",p.hitch(console,"log","progress"));var e=[];"string"===typeof a&&(e=a.split(","),a=e.shift());if("report-rejections"===a)d.instrumentRejected=k;else if("report-unhandled-rejections"===
a||!0===a||1===a)d.instrumentRejected=n,g=parseInt(e[0],10)||g;else throw Error("Unsupported instrumentation usage \x3c"+a+"\x3e");}}})},"anaplan/dashboard/dashboardWidgets/_StaticText":function(){define(["anaplan/gridlet/StaticText","anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin","dojo/_base/declare"],function(l,s,p){return p([l,s],{})})},"anaplan/dashboard/dashboardWidgets/_WaterfallChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/Waterfall","dojo/_base/declare"],
function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._WaterfallChart",[s,l],{})})},"anaplan/common/KeepAlive":function(){define(["dojo/_base/declare","dojo/_base/lang","anaplan/data/Aggregator"],function(l,s,p){return l([],{constructor:function(l){this._interval=l.interval;this._workspaceId=l.workspaceId;this._activityRecorded=!1},init:function(){var l="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",f="ontouchstart"in document.createElement("div");
window.addEventListener("mousemove",s.hitch(this,this._handleEvent),!0);window.addEventListener("click",s.hitch(this,this._handleEvent),!0);window.addEventListener("keydown",s.hitch(this,this._handleEvent),!0);window.addEventListener(l,s.hitch(this,this._handleEvent),!0);f&&window.addEventListener("touchstart",s.hitch(this,this._handleEvent),!0);setTimeout(s.hitch(this,function(){this._keepAlivePing()}),this._interval)},_handleEvent:function(){this._activityRecorded=!0},_keepAlivePing:function(){p.post({requestType:"SYSTEM_STATUS",
workspaceId:this._workspaceId},!1,s.hitch(this,function(l){setTimeout(s.hitch(this,function(){this._keepAlivePing()}),this._interval)}),function(l){},this._activityRecorded?!1:!0);this._activityRecorded=!1}})})},"anaplan/view/Filter":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/layout/StackContainer anaplan/widgets/Dialog2 dojo/_base/declare dojo/_base/lang dojo/on anaplan/view/Filter/MainView".split(" "),function(l,s,p,q,f,k,n,m){return f("anaplan.view.Filter",[p,q.ContentMixin],
{baseClass:"filter",constructor:function(f){try{this._context=f.context,this._selection=f.gridSelection,this._selectedRow=f.selectedRow,this._selectedColumn=f.selectedColumn,this._gridController=f.gridController}catch(e){l.throwClientException(this,e)}},onApplyFilter:function(){},onCancel:function(){},postCreate:function(){try{this.inherited(arguments),this._createMainView()}catch(f){l.throwClientException(this,f)}},_createMainView:function(){try{var f=new m({context:this._context,gridSelection:this._selection,
gridController:this._gridController,selectedRow:this._selectedRow,selectedColumn:this._selectedColumn});this.addChild(f);this.own(n(f,"Cancel",k.hitch(this,"_onCancel")),n(f,"Ok",k.hitch(this,"_onApplyFilter")),n(f,"TitleChange",k.hitch(this,"onTitleChange")));this._mainView=f}catch(e){l.throwClientException(this,e)}},_onApplyFilter:function(){try{if(this._mainView.isValid()){var f=this._gridController.getViewDefinition(),e=k.mixin(f,{rowAxisSpecification:this._mainView.getRowAxisSpecification(),
columnAxisSpecification:this._mainView.getColumnAxisSpecification(),pageAxisSpecifications:this._mainView.getPageAxisSpecifications()});this._gridController.setViewDefinition(e);s.gather();this.onApplyFilter()}}catch(g){l.throwClientException(this,g)}},_onCancel:function(){try{this.onCancel()}catch(f){l.throwClientException(this,f)}}})})},"anaplan/dashboard/_InitialModelObserver":function(){define("anaplan/charts/HighChartsHelper anaplan/charts/PagingChartModel anaplan/charts/ViewRequestChartletModel anaplan/data/ModelContentCache anaplan/constants anaplan/gridlet/ViewRequestCellModel anaplan/gridlet/ViewRequestGridModel anaplan/view/_ComparisonViewCellDecorator anaplan/view/_LinkCellDecorator anaplan/view/_QuickFilterLabelDecorator anaplan/view/_TreeLabelDecorator dojo/_base/declare dojo/_base/lang dojo/Deferred".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return d("anaplan.dashboard._InitialModelObserver",r,{constructor:function(a){(this._model=this._getModel(a))?this._addAsObserver():this.resolve(null)},deleteAsObserver:function(){this._deleteAsObserver()},destroy:function(){this._deleteAsObserver();this._model&&this._model.destroy()},error:function(a){this.reject(a)},getInitialValues:function(){return this._initialValues},getModel:function(){return this._model},update:function(a){this._initialValues=a;this.resolve(a)},
view:function(){return{x:[0,-1],y:[0,-1]}},_addAsObserver:function(){this._model&&!this._isObserver&&(this._model.addObserver(this),this._isObserver=!0)},_deleteAsObserver:function(){this._model&&this._isObserver&&(this._model.deleteObserver(this),this._isObserver=!1)},_getModel:function(b){var d=null,r=f.dashboardElementType;switch(b.dashboardElementType){case r.GRID:d=new n(a.mixin(b,{labelDecorators:[new g].concat(q.hasEntitlement(f.ENTITLED_FEATURES.QUICK_FILTER)?[new e]:[]),cellDecorators:[new h,
new m(b.viewDefinition||{})]}));break;case r.CHART:d=b.chartType===f.chartType.COLUMNRANGE?new s(b):new p(a.mixin(b,{maxRowsToRequestFromServer:l.getMaxRowsToRequestFromServer(b.chartType)}));break;case r.CELL:d=new k(b);break;case r.IMAGE:null!==b.viewDefinition&&(d=new k(b));break;case r.PAGE_SELECTOR:d=new n(b)}return d}})})},"anaplan/undo/confirmUndo":function(){define(["anaplan/undo/UndoConfirmation","anaplan/widgets/ConfirmationDialog","dojo/Deferred","dojo/string","dojo/i18n!anaplan/nls/undo"],
function(l,s,p,q,f){return function(k,n,m){var h=new p;if(1===n)k=q.substitute(f.confirmationSingleCellTitle,{operation:f["operation"+k]});else if(1<n)k=q.substitute(f.confirmationMultiCellTitle,{operation:f["operation"+k]});else return h.reject("nothing to undo"),h.promise;n=new l({cellCount:n,preview:m});var e=new s({title:k,content:n,buttons:[{isPrimary:!0,label:f.confirmationPrimaryButton},{isCancel:!0}]});e.own(e.on("execute",function(){h.resolve()}),e.on("cancel",function(){h.reject()}),e.on("hide",
function(){e.destroyRecursive()}));e.show();return h.promise}})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(l,s){var p={};l.setObject("dojo.cldr.supplemental",p);p.getFirstDayOfWeek=function(l){l={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,
mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[p._region(l)];return void 0===l?1:l};p._region=function(l){l=s.normalizeLocale(l);l=l.split("-");var f=l[1];f?4==f.length&&(f=l[2]):f={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",
dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",
lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",
to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",
chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",
kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",
mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",
syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[l[0]];return f};p.getWeekend=function(l){var f=p._region(l);l={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[f];
f={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[f];void 0===l&&(l=6);void 0===f&&(f=0);return{start:l,end:f}};return p})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,s,p,q,f){var k={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(f){k[f]=q[f]});p.mixin(k,{defaultDuration:s.defaultDuration||200});p.mixin(f,
k);return f})},"anaplan/utils/EntityLongIdHelper":function(){define(["dojo/number","dojo/_base/lang","anaplan/constants","anaplan/Exceptions","dojo/_base/array"],function(l,s,p,q,f){var k={_ENTITY_LONG_ID_MULTIPLIER:1E9,getEntityLongId:function(f,k){return 0>f||0>k?-1:f*this._ENTITY_LONG_ID_MULTIPLIER+k},getEntityIndex:function(f){return 0>f?-1:f%this._ENTITY_LONG_ID_MULTIPLIER},getEntityTypeIndex:function(f){return 0>f?-1:Math.floor(f/this._ENTITY_LONG_ID_MULTIPLIER)},getEntityTypeEntityLongId:function(f){return this.getEntityLongId(p.ENTITY_TYPE_ENTITY_TYPE_INDEX,
f)},entityLongIdsToEntityTypeIndexes:function(f){for(var k=[],h=0;h<f.length;h++)k.push(this.getEntityTypeIndex(f[h]));return k},entityLongIdsToEntityLongIdIdentifiers:function(f){try{if(f){for(var k=Array(f.length),h=0;h<f.length;h++)k[h]=this.entityLongIdToEntityLongIdIdentifier(f[h]);return k}}catch(e){throw new q.ClientException("entityLongIdsToEntityLongIdIdentifiers",e);}return null},entityLongIdToEntityLongIdIdentifier:function(f){return!f?null:["_",f,"_"].join("")},entityLongIdIdentifierToEntityLongId:function(f){return f?
(f=f.substring(1,f.length-1),l.parse(f)):NaN},entityLongIdIdentifiersToEntityLongIds:function(f){try{if(f){for(var k=Array(f.length),h=0;h<f.length;h++)k[h]=this.entityLongIdIdentifierToEntityLongId(f[h]);return k}}catch(e){throw new q.ClientException("entityLongIdIdentifiersToEntityLongIds",e);}return null},getIndexOfItemByEntityLongIds:function(k,m){if(!k||!m)return-1;for(var h=k.entityLongIds,e=k.span||null,g=h.length,d,a=0,r=h.length?h[0].length:null,b,l=0;l<g&&null!==m[l];l++){d=f.indexOf(h[l].slice(a,
r),m[l]);if(-1===d)return-1;a+=d;if(e&&(b=e[l][a],b!==p.SPAN_END&&b!==p.SPAN_NONE))for(d=a+1;d<r;d++)if(b=e[l][d],b===p.SPAN_START||b===p.SPAN_NONE){r=d;break}}return null===a?-1:a},deepReplace:function(f,m,h){Object.keys(f).forEach(function(e){null!=f[e]&&"object"===typeof f[e]?k.deepReplace(f[e],m,h):"string"===typeof f[e]&&f[e]===m&&(f[e]=h)})},parseEntityLongId:function(f){var k=parseFloat(f);if(!isFinite(k)||0!==k%1)return-1;f=parseInt(f);return!isFinite(f)||0>f||1>this.getEntityTypeIndex(f)?
-1:f}};s.setObject("anaplan.utils.EntityLongIdHelper",k);return k})},"anaplan/api/Services/modules":function(){define(["anaplan/api/Entities/Modules"],function(l){return new l})},"anaplan/api/Entities/LineItemSubsets":function(){define(["dojo/_base/declare","./Base/LabelPageWithInfos","anaplan/api/Entity/LineItemSubset"],function(l,s,p){return l([s],{_entityClass:p})})},"anaplan/data/UserInfo":function(){define("anaplan/data/UserInfo/_UserInfoBase anaplan/data/ModelContentCache anaplan/utils/JsHelper dojo/_base/lang dojo/_base/array dojo/_base/declare".split(" "),
function(l,s,p,q,f,k){l=new (k([l],{constructor:function(){s.addObserver(this)},destroy:function(){s.deleteObserver(this);this.inherited(arguments)},update:function(){var k=s.getUserInfo(),m=!1;if(this._userInfo){if(this._userInfo.loggedInUserFirstName!=k.loggedInUserFirstName&&console.warn("anaplan.data.UserInfo#update TODO: unsupported; did not expect user first name to change"),!p.isNullOrUndefined(k.permittedActions))if(this._userInfo.permittedActions.length!=k.permittedActions.length)m=!0;else for(var h=
0;h<k.permittedActions.length;h++)if(-1==f.indexOf(this._userInfo.permittedActions,k.permittedActions[h])){m=!0;break}}else m=!0;this._userInfo=k;if(m)this.onChange()}}));q.setObject("anaplan.data.UserInfo",l);return l})},"anaplan/common/ColourPickerManager":function(){define(["dojo/_base/declare","dojo/i18n!anaplan/nls/colourPickerManager"],function(l,s){return l(null,{constructor:function(l){this._originalColour=this._openPickerId=null},closePicker:function(){this._originalColour=this._openPickerId=
null},getColour:function(l){return this._pickerMap[l]},isOpen:function(l){return l===this._openPickerId},openPicker:function(l){this._openPickerId=l;this._originalColour=this._pickerMap[l]},resetOpenPicker:function(){this._openPickerId&&(this._pickerMap[this._openPickerId]=this._originalColour)},togglePicker:function(l){this._openPickerId===l?this.closePicker():this.openPicker(l)},_getPaletteColours:function(l){var q=l.chartColours.colourPalettes;l=l.chartColours.themePaletteId;for(var f,k=0;k<q.length;k++)if(q[k].id===
l){f=q[k].colours;break}return f}})})},"anaplan/api/Services/views":function(){define(["anaplan/api/Entities/Views"],function(l){return new l})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(l){return l.cache})},"anaplan/dnd/Avatar":function(){define("anaplan/dnd/Draggable dojo/_base/declare dojo/_base/fx dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/fx/easing".split(" "),function(l,s,p,q,f,k,n){return s("anaplan.dnd.Avatar",l,{_startX:null,_startY:null,cancel:function(f){var h=
this._startX,e=this._startY;null!==h&&null!==e&&p.animateProperty({node:this.domNode,properties:{left:{end:h},top:{end:e}},easing:n.sineIn,onEnd:f}).play()},constructor:function(m,h){var e;q.toggle(this.domNode,this.baseClass+"Avatar",!0);h&&h.marginBox&&(e=h.marginBox,f.setMarginBox(this.domNode,e),this._startX=e.l,this._startY=e.t);k.set(this.domNode,{opacity:"0.5",marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0"})},destroy:function(){dojo.destroy(this.domNode);this.domNode=null;this.inherited(arguments)},
move:function(f,h){var e=this.domNode.style,g=e.left,g=Number(g.substring(0,g.indexOf("px"))),d=e.top,d=Number(d.substring(0,d.indexOf("px")));e.left=g+f+"px";e.top=d+h+"px"}})})},"anaplan/snav/bulkoperationfactory/SetPropertyAndSynchroniseHierarchy":function(){define("anaplan/snav/bulkoperationfactory/_multiselectdelegate dojo/Stateful dojo/_base/declare dojo/_base/array dojo/_base/lang anaplan/data/ModelContentHelper anaplan/data/ModelContentCache dojo/i18n!anaplan/snav/nls/global".split(" "),function(l,
s,p,q,f,k,n,m){return p("anaplan.snav.bulkoperationfactory.setpropertyandsynchronisehierarchy",[s,l],{associatedDataChanges:[],targetHierarchyEntityLongId:-1,entityLongId:-1,newPropertyHierarchyEntityLongId:-1,source0HierarchyEntityLongId:-1,source1HierarchyEntityLongId:-1,selectedItems:[],postCreate:function(){this.inherited(arguments);this._addClass("bulkoperation bulkoperation"+this.operation)},_doSetPropertyAndSynchronise:function(f){return this._doGather([],[],[{actionId:"SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY",
params:{modelId:modelId,targetHierarchyEntityLongId:this.targetHierarchyEntityLongId,entityLongId:this.selectedItems[0].entityLongId,newPropertyValueEntityLongId:f,source0HierarchyEntityLongId:this.source0HierarchyEntityLongId,source1HierarchyEntityLongId:this.source1HierarchyEntityLongId}}])},_getMultiSelectHierarchyEntityLongId:function(){return this.newPropertyValueEntityLongId},_getNonMaintainableHierarchyEntityLongIds:function(){for(var h=[],e=this.targetHierarchyEntityLongId;-1<e&&e!=this.entityLongId;)h.push(e),
e=n.getHierarchyInfo(e).parentHierarchyEntityLongId;var g=n.getUserInfo();return q.filter(h,f.hitch(this,function(d){d=this._getEntityTypeIndexOfListItems(d);return-1==q.indexOf(g.entityTypeIndicesUserCanMaintain,d)}))},_isValid:function(){return 0===this._getNonMaintainableHierarchyEntityLongIds().length},_setSelectedItemsAttr:function(f){this.isParentItemEditable=f[0].isItemEditable;this.selectedItems=f},_setTargetHierarchyEntityLongIdAttr:function(f){this.hierarchyEntityLongId=f},_submit:function(h){if(this.isParentItemEditable)if(this._isValid()){var e=
this._multiSelect.get("value");1!==e.length&&h.reject(this._i18n.messageInvalidSelection);this._doSetPropertyAndSynchronise(Number(e[0])).then(f.hitch(this,function(e){if(2==e.length&&1==e[1].length)try{h.resolve(null)}catch(d){h.reject(d)}else h.reject("Invalid response")}),f.hitch(this,function(e){h.reject(e)}))}else e=q.filter(this._getNonMaintainableHierarchyEntityLongIds(),f.hitch(this,function(e){return e!=this.hierarchyEntityLongId})),e.length?(e=k.getHierarchyLabel(n,e[0]),h.reject(f.replace(m.messageNoPermissionToMaintain,
{list:e}))):h.reject(null);else h.reject(null)}})})},"anaplan/cf/BgColorScaleFormatDefinition":function(){define(["dojo/_base/declare","dojo/_base/lang","anaplan/constants","anaplan/cf/_FormatDefinitionBase"],function(l,s,p,q){return l(q,{_serializableProperties:["formatType","pegs","bgColor"],constructor:function(f){this.formatType=p.conditionalFormatType.BG_COLOR_SCALE;this.pegs=[];this.bgColor=[];f&&s.mixin(this,f)}})})},"dojox/math/random/Simple":function(){define(["dojo"],function(l){return l.declare("dojox.math.random.Simple",
null,{destroy:function(){},nextBytes:function(l){for(var p=0,q=l.length;p<q;++p)l[p]=Math.floor(256*Math.random())}})})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,s,p,q,f,k,n,m){function h(a){var d="";a=a.childNodes;for(var b=0,e;e=a[b];b++)8!=e.nodeType&&(d=1==e.nodeType?d+h(e):d+e.nodeValue);return d}var e={},g=0,d=s._scopeName+"attrid";p.add("dom-textContent",function(a,d,b){return"textContent"in
b});l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};l.get=function(a,d){a=f.byId(a);var b=d.toLowerCase(),b=l.names[b]||d;return"textContent"==b&&!p("dom-textContent")?h(a):a[b]};l.set=function(a,h,b){a=f.byId(a);if(2==arguments.length&&"string"!=typeof h){for(var t in h)l.set(a,t,h[t]);return a}t=h.toLowerCase();t=l.names[t]||h;if("style"==t&&"string"!=
typeof b)return k.set(a,b),a;if("innerHTML"==t)return p("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(n.empty(a),a.appendChild(n.toDom(b,a.ownerDocument))):a[t]=b,a;if("textContent"==t&&!p("dom-textContent"))return n.empty(a),a.appendChild(a.ownerDocument.createTextNode(b)),a;if(q.isFunction(b)){var u=a[d];u||(u=g++,a[d]=u);e[u]||(e[u]={});var v=e[u][t];if(v)m.disconnect(v);else try{delete a[t]}catch(s){}b?e[u][t]=m.connect(a,t,b):a[t]=null;return a}a[t]=
b;return a}})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(l,s){return l("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var l=s._getTabNavigable(this.domNode);this._firstFocusItem=l.lowest||l.first||this.closeButtonNode||this.domNode;this._lastFocusItem=l.last||l.highest||this._firstFocusItem}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(l,s){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(l){this._set("readOnly",l);s.set(this.focusNode,"readOnly",l)},_setLabelAttr:void 0,_getSubmitValue:function(l){return null==l||""===l?"on":l},_setValueAttr:function(l){l=this._getSubmitValue(l);this._set("value",l);s.set(this.focusNode,"value",l)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));
s.set(this.focusNode,"value",this.value)},_onClick:function(l){return this.readOnly?(l.stopPropagation(),l.preventDefault(),!1):this.inherited(arguments)}})})},"anaplan/widgets/LineItemSelector":function(){define("anaplan/data/ModelContentCache dijit/layout/BorderContainer dijit/focus anaplan/Exceptions anaplan/widgets/MasterSelector anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/UIHelper anaplan/data/ModelContentHelper anaplan/constants dojo/i18n!anaplan/nls/lineItemSelector dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return d(s,{gutters:!1,constructor:function(a){try{this._currentModuleEntityLongId=a.currentModuleEntityLongId||null,this._selectedItemEntityLongId=a.selectedItemEntityLongId||null,this._modules=a.modules||[],this._lineItemFilter=a.lineItemFilter||function(){return!0},this._lineItemSelector=this._moduleSelector=this._moduleEntityLongId=null}catch(b){throw new q.ClientException("anaplan.widgets.LineItemSelector.constructor",b);}},focus:function(){try{this._lineItemSelector?
this._lineItemSelector.focus():this._moduleSelector?this._moduleSelector.focus():p.focus(this.domNode)}catch(a){throw new q.ClientException("anaplan.widgets.LineItemSelector.focus",a);}},onSelectionChange:function(){},postCreate:function(){try{this.inherited(arguments),t.set(this.domNode,"height","250px"),t.set(this.domNode,"width","500px"),t.set(this.domNode,"visibility","hidden")}catch(a){throw new q.ClientException("anaplan.widgets.LineItemSelector.postCreate",a);}},startup:function(){var a=this;
try{this.inherited(arguments),this._createModuleSelector(),this._moduleSelector.set("value",{value:this._moduleEntityLongId}),setTimeout(function(){t.set(a.domNode,"visibility","visible")},25)}catch(b){throw new q.ClientException("anaplan.widgets.LineItemSelector.startup",b);}},_createLineItemSelector:function(){try{if(this._moduleEntityLongId){if(this._currentModuleEntityLongId&&this._currentModuleEntityLongId===this._moduleEntityLongId)this._lineItemsLabelPage={count:1,nestingCount:1,labels:[[g.currentModule]],
entityLongIds:[[this._moduleEntityLongId]]};else{var d=l.getModuleInfo(this._moduleEntityLongId);this._lineItemsLabelPage=this._lineItemFilter?n.filterLabelPage(d.lineItemsLabelPage,this._lineItemFilter):d.lineItemsLabelPage}this._selectedItemEntityLongId?-1===r.indexOf(this._lineItemsLabelPage.entityLongIds[0],this._selectedItemEntityLongId)&&(this._selectedItemEntityLongId=this._lineItemsLabelPage.entityLongIds[0][0]||null):this._selectedItemEntityLongId=this._lineItemsLabelPage.entityLongIds[0][0]||
null;this._lineItemSelector=new f({title:g.chooseLineItem,labelPage:this._lineItemsLabelPage,submitOnClick:!0,region:"center","class":"lineItemSelector"});b(this._lineItemSelector,"SelectionChange",a.hitch(this,"_onLineItemSelectionChange"));b(this._lineItemSelector,"Submit",a.hitch(this,"_onSelectedItemSubmit"));b(this._lineItemSelector,"KeyDown",a.hitch(this,"_onSelectorKeyDown"));this.addChild(this._lineItemSelector);this._selectedItemEntityLongId&&(this._ignoreLineItemSelectorOnSelectionChange=
!0,this._lineItemSelector.set("value",{value:this._selectedItemEntityLongId}),this._ignoreLineItemSelectorOnSelectionChange=!1);this._moduleSelector.focus();setTimeout(a.hitch(this,function(){this._moduleSelector.scrollToSelection();this._lineItemSelector&&this._lineItemSelector.scrollToSelection()}),200)}}catch(e){throw new q.ClientException("anaplan.widgets.LineItemSelector._createLineItemSelector",e);}},_createModuleSelector:function(){try{this._moduleEntityLongId=l.getModulesLabelPage().entityLongIds[0][0]||
null;if(this._selectedItemEntityLongId)if(k.getEntityTypeIndex(this._selectedItemEntityLongId)===e.MODULE_ENTITY_TYPE_INDEX)this._moduleEntityLongId=this._selectedItemEntityLongId;else{var d=h.getModuleEntityLongIdForLineItem(l,this._selectedItemEntityLongId);-1!==d&&(this._moduleEntityLongId=d)}this._moduleSelector=new f({title:g.selectModule,items:[{name:"root",children:this._modules}],region:"left",splitter:!0,"class":"moduleSelector"});b(this._moduleSelector,"SelectionChange",a.hitch(this,"_onModuleSelectionChange"));
b(this._moduleSelector,"KeyDown",a.hitch(this,"_onSelectorKeyDown"));this.addChild(this._moduleSelector)}catch(r){throw new q.ClientException("anaplan.widgets.LineItemSelector._createModuleSelector",r);}},_onLineItemSelectionChange:function(a){this._ignoreLineItemSelectorOnSelectionChange||(this._selectedItemEntityLongId=a)},_onSelectedItemSubmit:function(a,b){this._selectedItemEntityLongId=a;this.onSelectionChange(a,b)},_onModuleSelectionChange:function(a){try{this._noLineItemLabel&&(this.removeChild(this._noLineItemLabel),
this._noLineItemLabel.destroy(),this._noLineItemLabel=null),this._lineItemSelector&&(this.removeChild(this._lineItemSelector),this._lineItemSelector.destroy(),this._lineItemSelector=null),!a&&-1===a?this._lineItemEntityLongId=this._moduleEntityLongId=null:(this._moduleEntityLongId=a,this._createLineItemSelector())}catch(b){m.showErrorReporter(new q.ClientException("anaplan.widgets.LineItemSelector._onModuleSelectionChange",b))}},_onSelectorKeyDown:function(a){a.keyCode===dojo.keys.LEFT_ARROW?this._moduleSelector&&
(this._moduleSelector.focus(),this._moduleSelector.scrollToSelection()):a.keyCode===dojo.keys.RIGHT_ARROW&&(this._lineItemSelector&&this._lineItemsLabelPage&&this._lineItemsLabelPage.count)&&(this._lineItemSelector.focus(),this._lineItemSelector.scrollToSelection())}})})},"highcharts/anaplan-highcharts":function(){define(["dijit","dojo","dojox"],function(l,s,p){(function(l,f){"object"===typeof module&&module.exports?module.exports=l.document?f(l):f:l.Highcharts=f(l)})("undefined"!==typeof window?
window:this,function(l){l=function(){var f=window,k=f.document,n=f.navigator&&f.navigator.userAgent||"",m=k&&k.createElementNS&&!!k.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h=/(edge|msie|trident)/i.test(n)&&!window.opera,e=!m,g=/Firefox/.test(n),d=g&&4>parseInt(n.split("Firefox/")[1],10);return f.Highcharts?f.Highcharts.error(16,!0):{product:"Highcharts",version:"x.x.x",deg2rad:2*Math.PI/360,doc:k,hasBidiBug:d,hasTouch:k&&void 0!==k.documentElement.ontouchstart,isMS:h,isWebKit:/AppleWebKit/.test(n),
isFirefox:g,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:m,vml:e,win:f,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}();(function(f){var k=[],n=f.charts,m=f.doc,h=f.win;f.error=function(e,g){var d=f.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(g)throw Error(d);};f.Fx=function(e,f,d){this.options=f;this.elem=e;this.prop=d};f.Fx.prototype=
{dSetter:function(){var e=this.paths[0],f=this.paths[1],d=[],a=this.now,h=e.length,b;if(1===a)d=this.toD;else if(h===f.length&&1>a)for(;h--;)b=parseFloat(e[h]),d[h]=isNaN(b)?e[h]:a*parseFloat(f[h]-b)+b;else d=f;this.elem.attr("d",d,null,!0)},update:function(){var e=this.elem,f=this.prop,d=this.now,a=this.options.step;if(this[f+"Setter"])this[f+"Setter"]();else e.attr?e.element&&e.attr(f,d,null,!0):e.style[f]=d+this.unit;a&&a.call(e,d,this)},run:function(e,f,d){var a=this,h=function(b){return h.stopped?
!1:a.step(b)},b;this.startTime=+new Date;this.start=e;this.end=f;this.unit=d;this.now=this.start;this.pos=0;h.elem=this.elem;h.prop=this.prop;h()&&1===k.push(h)&&(h.timerId=setInterval(function(){for(b=0;b<k.length;b++)k[b]()||k.splice(b--,1);k.length||clearInterval(h.timerId)},13))},step:function(e){var f=+new Date,d,a=this.options;d=this.elem;var h=a.complete,b=a.duration,k=a.curAnim,m;if(d.attr&&!d.element)d=!1;else if(e||f>=b+this.startTime){this.now=this.end;this.pos=1;this.update();e=k[this.prop]=
!0;for(m in k)!0!==k[m]&&(e=!1);e&&h&&h.call(d);d=!1}else this.pos=a.easing((f-this.startTime)/b),this.now=this.start+(this.end-this.start)*this.pos,this.update(),d=!0;return d},initPath:function(e,g,d){function a(a){var b,d;for(A=a.length;A--;)b="M"===a[A]||"L"===a[A],d=/[a-zA-Z]/.test(a[A+3]),b&&d&&a.splice(A+1,0,a[A+1],a[A+2],a[A+1],a[A+2])}function h(a,b){for(;a.length<q;){a[0]=b[q-a.length];var d=a.slice(0,p);[].splice.apply(a,[0,0].concat(d));D&&(d=a.slice(a.length-p),[].splice.apply(a,[a.length,
0].concat(d)),A--)}a[0]="M"}function b(a,b){for(var d=(q-a.length)/p;0<d&&d--;)s=a.slice().splice(a.length/E-p,p*E),s[0]=b[q-p-d*p],l&&(s[p-6]=s[p-2],s[p-5]=s[p-1]),[].splice.apply(a,[a.length/E,0].concat(s)),D&&d--}g=g||"";var k,m=e.startX,n=e.endX,l=-1<g.indexOf("C"),p=l?7:3,q,s,A;g=g.split(" ");d=d.slice();var D=e.isArea,E=D?2:1,B;l&&(a(g),a(d));if(m&&n){for(A=0;A<m.length;A++)if(m[A]===n[0]){k=A;break}else if(m[0]===n[n.length-m.length+A]){k=A;B=!0;break}void 0===k&&(g=[])}g.length&&f.isNumber(k)&&
(q=d.length+k*E*p,B?(h(g,d),b(d,g)):(h(d,g),b(g,d)));return[g,d]}};f.extend=function(e,f){var d;e||(e={});for(d in f)e[d]=f[d];return e};f.merge=function(){var e,g=arguments,d,a={},h=function(a,d){var e,g;"object"!==typeof a&&(a={});for(g in d)d.hasOwnProperty(g)&&(e=d[g],f.isObject(e,!0)&&"renderTo"!==g&&"number"!==typeof e.nodeType?a[g]=h(a[g]||{},e):a[g]=d[g]);return a};!0===g[0]&&(a=g[1],g=Array.prototype.slice.call(g,2));d=g.length;for(e=0;e<d;e++)a=h(a,g[e]);return a};f.pInt=function(e,f){return parseInt(e,
f||10)};f.isString=function(e){return"string"===typeof e};f.isArray=function(e){e=Object.prototype.toString.call(e);return"[object Array]"===e||"[object Array Iterator]"===e};f.isObject=function(e,g){return e&&"object"===typeof e&&(!g||!f.isArray(e))};f.isNumber=function(e){return"number"===typeof e&&!isNaN(e)};f.erase=function(e,f){for(var d=e.length;d--;)if(e[d]===f){e.splice(d,1);break}};f.defined=function(e){return void 0!==e&&null!==e};f.attr=function(e,g,d){var a,h;if(f.isString(g))f.defined(d)?
e.setAttribute(g,d):e&&e.getAttribute&&(h=e.getAttribute(g));else if(f.defined(g)&&f.isObject(g))for(a in g)e.setAttribute(a,g[a]);return h};f.splat=function(e){return f.isArray(e)?e:[e]};f.syncTimeout=function(e,f,d){if(f)return setTimeout(e,f,d);e.call(0,d)};f.pick=function(){var e=arguments,f,d,a=e.length;for(f=0;f<a;f++)if(d=e[f],void 0!==d&&null!==d)return d};f.css=function(e,g){f.isMS&&!f.svg&&(g&&void 0!==g.opacity)&&(g.filter="alpha(opacity\x3d"+100*g.opacity+")");f.extend(e.style,g)};f.createElement=
function(e,g,d,a,h){e=m.createElement(e);var b=f.css;g&&f.extend(e,g);h&&b(e,{padding:0,border:"none",margin:0});d&&b(e,d);a&&a.appendChild(e);return e};f.extendClass=function(e,g){var d=function(){};d.prototype=new e;f.extend(d.prototype,g);return d};f.pad=function(e,f,d){return Array((f||2)+1-String(e).length).join(d||0)+e};f.relativeLength=function(e,f){return/%$/.test(e)?f*parseFloat(e)/100:parseFloat(e)};f.wrap=function(e,f,d){var a=e[f];e[f]=function(){var e=Array.prototype.slice.call(arguments),
b=arguments,f=this;f.proceed=function(){a.apply(f,arguments.length?arguments:b)};e.unshift(a);e=d.apply(this,e);f.proceed=null;return e}};f.getTZOffset=function(e){var g=f.Date;return 6E4*(g.hcGetTimezoneOffset&&g.hcGetTimezoneOffset(e)||g.hcTimezoneOffset||0)};f.dateFormat=function(e,g,d){if(!f.defined(g)||isNaN(g))return f.defaultOptions.lang.invalidDate||"";e=f.pick(e,"%Y-%m-%d %H:%M:%S");var a=f.Date,h=new a(g-f.getTZOffset(g)),b,k=h[a.hcGetHours](),m=h[a.hcGetDay](),n=h[a.hcGetDate](),l=h[a.hcGetMonth](),
p=h[a.hcGetFullYear](),q=f.defaultOptions.lang,s=q.weekdays,A=q.shortWeekdays,D=f.pad,a=f.extend({a:A?A[m]:s[m].substr(0,3),A:s[m],d:D(n),e:D(n,2," "),w:m,b:q.shortMonths[l],B:q.months[l],m:D(l+1),y:p.toString().substr(2,2),Y:p,H:D(k),k:k,I:D(k%12||12),l:k%12||12,M:D(h[a.hcGetMinutes]()),p:12>k?"AM":"PM",P:12>k?"am":"pm",S:D(h.getSeconds()),L:D(Math.round(g%1E3),3)},f.dateFormats);for(b in a)for(;-1!==e.indexOf("%"+b);)e=e.replace("%"+b,"function"===typeof a[b]?a[b](g):a[b]);return d?e.substr(0,1).toUpperCase()+
e.substr(1):e};f.formatSingle=function(e,g){var d=/\.([0-9])/,a=f.defaultOptions.lang;/f$/.test(e)?(d=(d=e.match(d))?d[1]:-1,null!==g&&(g=f.numberFormat(g,d,a.decimalPoint,-1<e.indexOf(",")?a.thousandsSep:""))):g=f.dateFormat(e,g);return g};f.format=function(e,g){for(var d="{",a=!1,h,b,k,m,n=[],l;e;){d=e.indexOf(d);if(-1===d)break;h=e.slice(0,d);if(a){h=h.split(":");b=h.shift().split(".");m=b.length;l=g;for(k=0;k<m;k++)l=l[b[k]];h.length&&(l=f.formatSingle(h.join(":"),l));n.push(l)}else n.push(h);
e=e.slice(d+1);d=(a=!a)?"}":"{"}n.push(e);return n.join("")};f.getMagnitude=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))};f.normalizeTickInterval=function(e,g,d,a,h){var b,k=e;d=f.pick(d,1);b=e/d;g||(g=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===d?g=f.grep(g,function(a){return 0===a%1}):0.1>=d&&(g=[1/d])));for(a=0;a<g.length&&!(k=g[a],h&&k*d>=e||!h&&b<=(g[a]+(g[a+1]||g[a]))/2);a++);return k=f.correctFloat(k*d,-Math.round(Math.log(0.001)/Math.LN10))};f.stableSort=
function(e,f){var d=e.length,a,h;for(h=0;h<d;h++)e[h].safeI=h;e.sort(function(b,d){a=f(b,d);return 0===a?b.safeI-d.safeI:a});for(h=0;h<d;h++)delete e[h].safeI};f.arrayMin=function(e){for(var f=e.length,d=e[0];f--;)e[f]<d&&(d=e[f]);return d};f.arrayMax=function(e){for(var f=e.length,d=e[0];f--;)e[f]>d&&(d=e[f]);return d};f.destroyObjectProperties=function(e,f){for(var d in e)e[d]&&(e[d]!==f&&e[d].destroy)&&e[d].destroy(),delete e[d]};f.discardElement=function(e){var g=f.garbageBin;g||(g=f.createElement("div"));
e&&g.appendChild(e);g.innerHTML=""};f.correctFloat=function(e,f){return parseFloat(e.toPrecision(f||14))};f.setAnimation=function(e,g){g.renderer.globalAnimation=f.pick(e,g.options.chart.animation,!0)};f.animObject=function(e){return f.isObject(e)?f.merge(e):{duration:e?500:0}};f.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5};f.numberFormat=function(e,g,d,a){e=+e||0;g=+g;var h=f.defaultOptions.lang,b=(e.toString().split(".")[1]||"").length,
k,m;-1===g?g=Math.min(b,20):f.isNumber(g)||(g=2);m=(Math.abs(e)+Math.pow(10,-Math.max(g,b)-1)).toFixed(g);b=String(f.pInt(m));k=3<b.length?b.length%3:0;d=f.pick(d,h.decimalPoint);a=f.pick(a,h.thousandsSep);e=(0>e?"-":"")+(k?b.substr(0,k)+a:"");e+=b.substr(k).replace(/(\d{3})(?=\d)/g,"$1"+a);g&&(e+=d+m.slice(-g));return e};Math.easeInOutSine=function(e){return-0.5*(Math.cos(Math.PI*e)-1)};f.getStyle=function(e,g){var d;return"width"===g?Math.min(e.offsetWidth,e.scrollWidth)-f.getStyle(e,"padding-left")-
f.getStyle(e,"padding-right"):"height"===g?Math.min(e.offsetHeight,e.scrollHeight)-f.getStyle(e,"padding-top")-f.getStyle(e,"padding-bottom"):(d=h.getComputedStyle(e,void 0))&&f.pInt(d.getPropertyValue(g))};f.inArray=function(e,f){return f.indexOf?f.indexOf(e):[].indexOf.call(f,e)};f.grep=function(e,f){return[].filter.call(e,f)};f.find=function(e,f){return[].find.call(e,f)};f.map=function(e,f){for(var d=[],a=0,h=e.length;a<h;a++)d[a]=f.call(e[a],e[a],a,e);return d};f.offset=function(e){var f=m.documentElement;
e=e.getBoundingClientRect();return{top:e.top+(h.pageYOffset||f.scrollTop)-(f.clientTop||0),left:e.left+(h.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}};f.stop=function(e,f){for(var d=k.length;d--;)if(k[d].elem===e&&(!f||f===k[d].prop))k[d].stopped=!0};f.each=function(e,f,d){return Array.prototype.forEach.call(e,f,d)};f.addEvent=function(e,g,d){function a(a){a.target=a.srcElement||h;d.call(e,a)}var k=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(g,d,!1):e.attachEvent&&(e.hcEventsIE||
(e.hcEventsIE={}),e.hcEventsIE[d.toString()]=a,e.attachEvent("on"+g,a));k[g]||(k[g]=[]);k[g].push(d);return function(){f.removeEvent(e,g,d)}};f.removeEvent=function(e,g,d){function a(a,b){e.removeEventListener?e.removeEventListener(a,b,!1):e.attachEvent&&(b=e.hcEventsIE[b.toString()],e.detachEvent("on"+a,b))}function h(){var b,d;if(e.nodeName)for(d in g?(b={},b[g]=!0):b=k,b)if(k[d])for(b=k[d].length;b--;)a(d,k[d][b])}var b,k=e.hcEvents,m;k&&(g?(b=k[g]||[],d?(m=f.inArray(d,b),-1<m&&(b.splice(m,1),
k[g]=b),a(g,d)):(h(),k[g]=[])):(h(),e.hcEvents={}))};f.fireEvent=function(e,g,d,a){var h;h=e.hcEvents;var b,k;d=d||{};if(m.createEvent&&(e.dispatchEvent||e.fireEvent))h=m.createEvent("Events"),h.initEvent(g,!0,!0),f.extend(h,d),e.dispatchEvent?e.dispatchEvent(h):e.fireEvent(g,h);else if(h){h=h[g]||[];b=h.length;d.target||f.extend(d,{preventDefault:function(){d.defaultPrevented=!0},target:e,type:g});for(g=0;g<b;g++)(k=h[g])&&!1===k.call(e,d)&&d.preventDefault()}a&&!d.defaultPrevented&&a(d)};f.animate=
function(e,g,d){var a,h="",b,k,m;f.isObject(d)||(a=arguments,d={duration:a[2],easing:a[3],complete:a[4]});f.isNumber(d.duration)||(d.duration=400);d.easing="function"===typeof d.easing?d.easing:Math[d.easing]||Math.easeInOutSine;d.curAnim=f.merge(g);for(m in g)f.stop(e,m),k=new f.Fx(e,d,m),b=null,"d"===m?(k.paths=k.initPath(e,e.d,g.d),k.toD=g.d,a=0,b=1):e.attr?a=e.attr(m):(a=parseFloat(f.getStyle(e,m))||0,"opacity"!==m&&(h="px")),b||(b=g[m]),b&&(b.match&&b.match("px"))&&(b=b.replace(/px/g,"")),k.run(a,
b,h)};f.seriesType=function(e,g,d,a,h){var b=f.getOptions(),k=f.seriesTypes;b.plotOptions[e]=f.merge(b.plotOptions[g],d);k[e]=f.extendClass(k[g]||function(){},a);k[e].prototype.type=e;h&&(k[e].prototype.pointClass=f.extendClass(f.Point,h));return k[e]};f.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),f=0;return function(){return"highcharts-"+e+"-"+f++}}();h.jQuery&&(h.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new (f[f.isString(e[0])?
e.shift():"Chart"])(this[0],e[0],e[1]),this):n[f.attr(this[0],"data-highcharts-chart")]});m&&!m.defaultView&&(f.getStyle=function(e,g){var d;d={width:"clientWidth",height:"clientHeight"}[g];if(e.style[g])return f.pInt(e.style[g]);"opacity"===g&&(g="filter");if(d)return e.style.zoom=1,Math.max(e[d]-2*f.getStyle(e,"padding"),0);d=e.currentStyle[g.replace(/\-(\w)/g,function(a,d){return d.toUpperCase()})];"filter"===g&&(d=d.replace(/alpha\(opacity=([0-9]+)\)/,function(a,d){return d/100}));return""===
d?1:f.pInt(d)});Array.prototype.forEach||(f.each=function(e,f,d){for(var a=0,h=e.length;a<h;a++)if(!1===f.call(d,e[a],a,e))return a});Array.prototype.indexOf||(f.inArray=function(e,f){var d,a=0;if(f)for(d=f.length;a<d;a++)if(f[a]===e)return a;return-1});Array.prototype.filter||(f.grep=function(e,f){for(var d=[],a=0,h=e.length;a<h;a++)f(e[a],a)&&d.push(e[a]);return d});Array.prototype.find||(f.find=function(e,f){var d,a=e.length;for(d=0;d<a;d++)if(f(e[d],d))return e[d]})})(l);(function(f){var k=f.each,
n=f.isNumber,m=f.map,h=f.merge,e=f.pInt;f.Color=function(e){if(!(this instanceof f.Color))return new f.Color(e);this.init(e)};f.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(f){return[e(f[1]),e(f[2]),e(f[3]),parseFloat(f[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(f){return[e(f[1]),e(f[2]),e(f[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var d,
a,h,b;if((this.input=e=this.names[e]||e)&&e.stops)this.stops=m(e.stops,function(a){return new f.Color(a[1])});else if(e&&"#"===e[0]&&(d=e.length,e=parseInt(e.substr(1),16),7===d?a=[(e&16711680)>>16,(e&65280)>>8,e&255,1]:4===d&&(a=[(e&3840)>>4|(e&3840)>>8,(e&240)>>4|e&240,(e&15)<<4|e&15,1])),!a)for(h=this.parsers.length;h--&&!a;)b=this.parsers[h],(d=b.regex.exec(e))&&(a=b.parse(d));this.rgba=a||[]},get:function(e){var d=this.input,a=this.rgba,f;this.stops?(f=h(d),f.stops=[].concat(f.stops),k(this.stops,
function(a,d){f.stops[d]=[f.stops[d][0],a.get(e)]})):f=a&&n(a[0])?"rgb"===e||!e&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===e?a[3]:"rgba("+a.join(",")+")":d;return f},brighten:function(f){var d,a=this.rgba;if(this.stops)k(this.stops,function(a){a.brighten(f)});else if(n(f)&&0!==f)for(d=0;3>d;d++)a[d]+=e(255*f),0>a[d]&&(a[d]=0),255<a[d]&&(a[d]=255);return this},setOpacity:function(e){this.rgba[3]=e;return this}};f.color=function(e){return new f.Color(e)}})(l);(function(f){var k,n,m=f.addEvent,
h=f.animate,e=f.attr,g=f.charts,d=f.color,a=f.css,r=f.createElement,b=f.defined,l=f.deg2rad,p=f.destroyObjectProperties,q=f.doc,s=f.each,y=f.extend,w=f.erase,x=f.grep,A=f.hasTouch,D=f.inArray,E=f.isArray,B=f.isFirefox,C=f.isMS,G=f.isObject,H=f.isString,L=f.isWebKit,F=f.merge,K=f.noop,J=f.pick,M=f.pInt,I=f.removeEvent,O=f.stop,P=f.svg,N=f.SVG_NS,Q=f.symbolSizes,S=f.win;k=f.SVGElement=function(){return this};k.prototype={opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),
init:function(a,b){this.element="span"===b?r(b):q.createElementNS(this.SVG_NS,b);this.renderer=a},animate:function(a,b,d){b=f.animObject(J(b,this.renderer.globalAnimation,!0));0!==b.duration?(d&&(b.complete=d),h(this,a,b)):(this.attr(a,null,d),b.step&&b.step.call(this));return this},colorGradient:function(a,d,e){var g=this.renderer,h,k,r,m,n,l,t,p,q,u,v,w=[],x;a.linearGradient?k="linearGradient":a.radialGradient&&(k="radialGradient");if(k){r=a[k];n=g.gradients;t=a.stops;u=e.radialReference;E(r)&&
(a[k]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===k&&(u&&!b(r.gradientUnits))&&(m=r,r=F(r,g.getRadialAttr(u,m),{gradientUnits:"userSpaceOnUse"}));for(v in r)"id"!==v&&w.push(v,r[v]);for(v in t)w.push(t[v]);w=w.join(",");n[w]?u=n[w].attr("id"):(r.id=u=f.uniqueKey(),n[w]=l=g.createElement(k).attr(r).add(g.defs),l.radAttr=m,l.stops=[],s(t,function(a){0===a[1].indexOf("rgba")?(h=f.color(a[1]),p=h.get("rgb"),q=h.get("a")):(p=a[1],q=1);a=g.createElement("stop").attr({offset:a[0],
"stop-color":p,"stop-opacity":q}).add(l);l.stops.push(a)}));x="url("+g.url+"#"+u+")";e.setAttribute(d,x);e.gradient=w;a.toString=function(){return x}}},applyTextOutline:function(a){var b=this.element,d,f,g,h;-1!==a.indexOf("contrast")&&(a=a.replace(/contrast/g,this.renderer.getContrast(b.style.fill)));this.fakeTS=!0;this.ySetter=this.xSetter;d=[].slice.call(b.getElementsByTagName("tspan"));a=a.split(" ");f=a[a.length-1];if((g=a[0])&&"none"!==g)g=g.replace(/(^[\d\.]+)(.*?)$/g,function(a,b,d){return 2*
b+d}),s(d,function(a){"highcharts-text-outline"===a.getAttribute("class")&&w(d,b.removeChild(a))}),h=b.firstChild,s(d,function(a,d){var k;0===d&&(a.setAttribute("x",b.getAttribute("x")),d=b.getAttribute("y"),a.setAttribute("y",d||0),null===d&&b.setAttribute("y",0));k=a.cloneNode(1);e(k,{"class":"highcharts-text-outline",fill:f,stroke:f,"stroke-width":g,"stroke-linejoin":"round"});b.insertBefore(k,h)})},attr:function(a,b,d,e){var f,g=this.element,h,k=this,r;"string"===typeof a&&void 0!==b&&(f=a,a=
{},a[f]=b);if("string"===typeof a)k=(this[a+"Getter"]||this._defaultGetter).call(this,a,g);else{for(f in a){b=a[f];r=!1;e||O(this,f);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(f)&&(h||(this.symbolAttr(a),h=!0),r=!0);if(this.rotation&&("x"===f||"y"===f))this.doTransform=!0;r||(r=this[f+"Setter"]||this._defaultSetter,r.call(this,b,f,g),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(f)&&this.updateShadows(f,b,r))}this.doTransform&&(this.updateTransform(),
this.doTransform=!1)}d&&d();return k},updateShadows:function(a,b,d){for(var e=this.shadows,f=e.length;f--;)d.call(e[f],"height"===a?Math.max(b-(e[f].cutHeight||0),0):"d"===a?this.d:b,a,e[f])},addClass:function(a,b){var d=this.attr("class")||"";-1===d.indexOf(a)&&(b||(a=(d+(d?" ":"")+a).replace("  "," ")),this.attr("class",a));return this},hasClass:function(a){return-1!==e(this.element,"class").indexOf(a)},removeClass:function(a){e(this.element,"class",(e(this.element,"class")||"").replace(a,""));
return this},symbolAttr:function(a){var b=this;s("x y r start end width height innerR anchorX anchorY".split(" "),function(d){b[d]=J(a[d],b[d])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,d){var e,f={},g;d=d||a.strokeWidth||0;g=Math.round(d)%2/2;a.x=Math.floor(a.x||this.x||0)+g;a.y=Math.floor(a.y||this.y||0)+g;a.width=Math.floor((a.width||this.width||0)-2*
g);a.height=Math.floor((a.height||this.height||0)-2*g);b(a.strokeWidth)&&(a.strokeWidth=d);for(e in a)this[e]!==a[e]&&(this[e]=f[e]=a[e]);return f},css:function(b){var d=this.styles,f={},g=this.element,h,k="",r=!d,m=["textOverflow","width"];b&&b.color&&(b.fill=b.color);if(d)for(h in b)b[h]!==d[h]&&(f[h]=b[h],r=!0);if(r){d&&(b=y(d,f));d=this.textWidth=b&&b.width&&"auto"!==b.width&&"text"===g.nodeName.toLowerCase()&&M(b.width);this.styles=b;d&&(!P&&this.renderer.forExport)&&delete b.width;if(C&&!P)a(this.element,
b);else{d=function(a,b){return"-"+b.toLowerCase()};for(h in b)-1===D(h,m)&&(k+=h.replace(/([A-Z])/g,d)+":"+b[h]+";");k&&e(g,"style",k)}this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),b&&b.textOutline&&this.applyTextOutline(b.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,b){var d=this,e=d.element;A&&"click"===a?(e.ontouchstart=function(a){d.touchEventFired=Date.now();a.preventDefault();b.call(e,a)},e.onclick=function(a){(-1===
S.navigator.userAgent.indexOf("Android")||1100<Date.now()-(d.touchEventFired||0))&&b.call(e,a)}):e["on"+a]=b;return this},setRadialReference:function(a){var b=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr));return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(a){this.inverted=a;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||
0,d=this.translateY||0,e=this.scaleX,f=this.scaleY,g=this.inverted,h=this.rotation,k=this.element;g&&(a+=this.width,d+=this.height);a=["translate("+a+","+d+")"];g?a.push("rotate(90) scale(-1,1)"):h&&a.push("rotate("+h+" "+(k.getAttribute("x")||0)+" "+(k.getAttribute("y")||0)+")");(b(e)||b(f))&&a.push("scale("+J(e,1)+" "+J(f,1)+")");a.length&&k.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,b,d){var e,f,g,h,k={};
f=this.renderer;g=f.alignedObjects;var r,m;if(a){if(this.alignOptions=a,this.alignByTranslate=b,!d||H(d))this.alignTo=e=d||"renderer",w(g,this),g.push(this),d=null}else a=this.alignOptions,b=this.alignByTranslate,e=this.alignTo;d=J(d,f[e],f);e=a.align;f=a.verticalAlign;g=(d.x||0)+(a.x||0);h=(d.y||0)+(a.y||0);"right"===e?r=1:"center"===e&&(r=2);r&&(g+=(d.width-(a.width||0))/r);k[b?"translateX":"x"]=Math.round(g);"bottom"===f?m=1:"middle"===f&&(m=2);m&&(h+=(d.height-(a.height||0))/m);k[b?"translateY":
"y"]=Math.round(h);this[this.placed?"animate":"attr"](k);this.placed=!0;this.alignAttr=k;return this},getBBox:function(a,b){var d,e=this.renderer,f,g,h,k=this.element,r=this.styles,m=this.textStr,n,p=e.cache,q=e.cacheKeys,u;g=J(b,this.rotation);h=g*l;f=r&&r.fontSize;void 0!==m&&(u=m.toString(),-1===u.indexOf("\x3c")&&(u=u.replace(/[0-9]/g,"0")),u+=["",g||0,f,r&&r.width,r&&r.textOverflow].join());u&&!a&&(d=p[u]);if(!d){if(k.namespaceURI===this.SVG_NS||e.forExport){try{(n=this.fakeTS&&function(a){s(k.querySelectorAll(".highcharts-text-outline"),
function(b){b.style.display=a})})&&n("none"),d=k.getBBox?y({},k.getBBox()):{width:k.offsetWidth,height:k.offsetHeight},n&&n("")}catch(v){}if(!d||0>d.width)d={width:0,height:0}}else d=this.htmlGetBBox();e.isSVG&&(e=d.width,f=d.height,r&&("11px"===r.fontSize&&17===Math.round(f))&&(d.height=f=14),g&&(d.width=Math.abs(f*Math.sin(h))+Math.abs(e*Math.cos(h)),d.height=Math.abs(f*Math.cos(h))+Math.abs(e*Math.sin(h))));if(u&&0<d.height){for(;250<q.length;)delete p[q.shift()];p[u]||q.push(u);p[u]=d}}return d},
show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(a){var b=this.renderer,d=this.element,e;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&b.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)e=this.zIndexSetter();e||(a?a.element:b.box).appendChild(d);if(this.onAdd)this.onAdd();
return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a=this.element||{},b=this.renderer.isSVG&&"SPAN"===a.nodeName&&this.parentGroup,d,e;a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null;O(this);this.clipPath&&(this.clipPath=this.clipPath.destroy());if(this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}this.safeRemoveChild(a);for(this.destroyShadows();b&&b.div&&0===b.div.childNodes.length;)a=
b.parentGroup,this.safeRemoveChild(b.div),delete b.div,b=a;this.alignTo&&w(this.renderer.alignedObjects,this);for(d in this)delete this[d];return null},shadow:function(a,b,d){var f=[],g,h,k=this.element,r,m,n,l;if(a){if(!this.shadows){m=J(a.width,3);n=(a.opacity||0.15)/m;l=this.parentInverted?"(-1,-1)":"("+J(a.offsetX,1)+", "+J(a.offsetY,1)+")";for(g=1;g<=m;g++)h=k.cloneNode(0),r=2*m+1-2*g,e(h,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":n*g,"stroke-width":r,transform:"translate"+l,
fill:"none"}),d&&(e(h,"height",Math.max(e(h,"height")-r,0)),h.cutHeight=r),b?b.element.appendChild(h):k.parentNode.insertBefore(h,k),f.push(h);this.shadows=f}}else this.destroyShadows();return this},destroyShadows:function(){s(this.shadows||[],function(a){this.safeRemoveChild(a)},this);this.shadows=void 0},xGetter:function(a){"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy"));return this._defaultGetter(a)},_defaultGetter:function(a){a=J(this[a],this.element?this.element.getAttribute(a):
null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function(a,b,d){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");d.setAttribute(b,a);this[b]=a},dashstyleSetter:function(a){var b,d=this["stroke-width"];"inherit"===d&&(d=1);if(a=a&&a.toLowerCase()){a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,
"").split(",");for(b=a.length;b--;)a[b]=M(a[b])*d;a=a.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,d){this[b]=a;d.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=q.createElementNS(this.SVG_NS,"title"),this.element.appendChild(b));b.firstChild&&b.removeChild(b.firstChild);
b.appendChild(q.createTextNode(String(J(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,d){"string"===typeof a?d.setAttribute(b,a):a&&this.colorGradient(a,b,d)},visibilitySetter:function(a,b,d){"inherit"===a?d.removeAttribute(b):d.setAttribute(b,a)},zIndexSetter:function(a,d){var e=this.renderer,f=this.parentGroup,g=(f||e).element||e.box,h,k,r=this.element,m;h=this.added;
var n;b(a)&&(r.zIndex=a,a=+a,this[d]===a&&(h=!1),this[d]=a);if(h){if((a=this.zIndex)&&f)f.handleZ=!0;f=g.childNodes;for(n=0;n<f.length&&!m;n++)if(h=f[n],k=h.zIndex,h!==r&&(M(k)>a||!b(a)&&b(k)||0>a&&!b(k)&&g!==e.box))g.insertBefore(r,h),m=!0;m||g.appendChild(r)}return m},_defaultSetter:function(a,b,d){d.setAttribute(b,a)}};k.prototype.yGetter=k.prototype.xGetter;k.prototype.translateXSetter=k.prototype.translateYSetter=k.prototype.rotationSetter=k.prototype.verticalAlignSetter=k.prototype.scaleXSetter=
k.prototype.scaleYSetter=function(a,b){this[b]=a;this.doTransform=!0};k.prototype["stroke-widthSetter"]=k.prototype.strokeSetter=function(a,b,d){this[b]=a;this.stroke&&this["stroke-width"]?(k.prototype.fillSetter.call(this,this.stroke,"stroke",d),d.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===b&&(0===a&&this.hasStroke)&&(d.removeAttribute("stroke"),this.hasStroke=!1)};n=f.SVGRenderer=function(){this.init.apply(this,arguments)};n.prototype={Element:k,SVG_NS:N,
init:function(b,d,f,g,h,k){var r;g=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(g));r=g.element;b.appendChild(r);-1===b.innerHTML.indexOf("xmlns")&&e(r,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=r;this.boxWrapper=g;this.alignedObjects=[];this.url=(B||L)&&q.getElementsByTagName("base").length?S.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(q.createTextNode("Created with Highcharts x.x.x"));
this.defs=this.createElement("defs").add();this.allowHTML=k;this.forExport=h;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(d,f,!1);var n;B&&b.getBoundingClientRect&&(d=function(){a(b,{left:0,top:0});n=b.getBoundingClientRect();a(b,{left:Math.ceil(n.left)-n.left+"px",top:Math.ceil(n.top)-n.top+"px"})},d(),this.unSubPixelFix=m(S,"resize",d))},getStyle:function(a){return this.style=y({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},
a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();p(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:K,getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-
a[2]/2+b.cy*a[2],r:b.r*a[2]}},buildText:function(b){var d=b.element,f=this,g=f.forExport,h=J(b.textStr,"").toString(),k=-1!==h.indexOf("\x3c"),r=d.childNodes,m,n,l,t,p=e(d,"x"),u=b.styles,w=b.textWidth,y=u&&u.lineHeight,A=u&&u.textOutline,C=u&&"ellipsis"===u.textOverflow,B=u&&"nowrap"===u.whiteSpace,D=u&&u.fontSize,E,O=r.length,u=w&&!b.added&&this.box,F=function(a){var b;b=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:D||f.style.fontSize||12;return y?M(y):f.fontMetrics(b,a.getAttribute("style")?
a:d).h},S=function(a){return a.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")};E=[h,C,B,y,A,D,w].join();if(E!==b.textCache){for(b.textCache=E;O--;)d.removeChild(r[O]);!k&&!A&&!C&&!w&&-1===h.indexOf(" ")?d.appendChild(q.createTextNode(S(h))):(m=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,l=/<.*href="(http[^"]+)".*>/,u&&u.appendChild(d),h=k?h.replace(/<(b|strong)>/g,'\x3cspan style\x3d"font-weight:bold"\x3e').replace(/<(i|em)>/g,'\x3cspan style\x3d"font-style:italic"\x3e').replace(/<a/g,"\x3cspan").replace(/<\/(b|strong|i|em|a)>/g,
"\x3c/span\x3e").split(/<br.*?>/g):[h],h=x(h,function(a){return""!==a}),s(h,function(h,k){var r,u=0;h=h.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||\x3cspan").replace(/<\/span>/g,"\x3c/span\x3e|||");r=h.split("|||");s(r,function(h){if(""!==h||1===r.length){var s={},x=q.createElementNS(f.SVG_NS,"tspan"),y,z;m.test(h)&&(y=h.match(m)[1],e(x,"class",y));n.test(h)&&(z=h.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),e(x,"style",z));l.test(h)&&!g&&(e(x,"onclick",'location.href\x3d"'+h.match(l)[1]+
'"'),a(x,{cursor:"pointer"}));h=S(h.replace(/<(.|\n)*?>/g,"")||" ");if(" "!==h){x.appendChild(q.createTextNode(h));u?s.dx=0:k&&null!==p&&(s.x=p);e(x,s);d.appendChild(x);!u&&k&&(!P&&g&&a(x,{display:"block"}),e(x,"dy",F(x)));if(w){s=h.replace(/([^\^])-/g,"$1- ").split(" ");y=1<r.length||k||1<s.length&&!B;for(var A,D,E=[],O=F(x),I=b.rotation,L=h,J=L.length;(y||C)&&(s.length||E.length);)b.rotation=0,A=b.getBBox(!0),D=A.width,!P&&f.forExport&&(D=f.measureSpanWidth(x.firstChild.data,b.styles)),A=D>w,void 0===
t&&(t=A),C&&t?(J/=2,""===L||!A&&0.5>J?s=[]:(L=h.substring(0,L.length+(A?-1:1)*Math.ceil(J)),s=[L+(3<w?"\u2026":"")],x.removeChild(x.firstChild))):!A||1===s.length?(s=E,E=[],s.length&&!B&&(x=q.createElementNS(N,"tspan"),e(x,{dy:O,x:p}),z&&e(x,"style",z),d.appendChild(x)),D>w&&(w=D)):(x.removeChild(x.firstChild),E.unshift(s.pop())),s.length&&x.appendChild(q.createTextNode(s.join(" ").replace(/- /g,"-")));b.rotation=I}u++}}})}),t&&b.attr("title",b.textStr),u&&u.removeChild(d),A&&b.applyTextOutline&&
b.applyTextOutline(A))}},getContrast:function(a){a=d(a).rgba;return 510<a[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,b,d,e,f,g,h,k,r){var n=this.label(a,b,d,r,null,null,null,null,"button"),l=0;n.attr(F({padding:8,r:2},f));var t,p,u,q;f=F({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},f);t=f.style;delete f.style;g=F(f,{fill:"#e6e6e6"},g);p=g.style;delete g.style;h=F(f,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},
h);u=h.style;delete h.style;k=F(f,{style:{color:"#cccccc"}},k);q=k.style;delete k.style;m(n.element,C?"mouseover":"mouseenter",function(){3!==l&&n.setState(1)});m(n.element,C?"mouseout":"mouseleave",function(){3!==l&&n.setState(l)});n.setState=function(a){1!==a&&(n.state=l=a);n.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]);n.attr([f,g,h,k][a||0]).css([t,p,u,q][a||0])};n.attr(f).css(y({cursor:"default"},
t));return n.on("click",function(a){3!==l&&e.call(n,a)})},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+b%2/2);return a},path:function(a){var b={fill:"none"};E(a)?b.d=a:G(a)&&y(b,a);return this.createElement("path").attr(b)},circle:function(a,b,d){a=G(a)?a:{x:a,y:b,r:d};b=this.createElement("circle");b.xSetter=b.ySetter=function(a,b,d){d.setAttribute("c"+b,a)};return b.attr(a)},arc:function(a,b,d,e,f,g){G(a)?(e=a,b=e.y,d=e.r,a=e.x):
e={innerR:e,start:f,end:g};a=this.symbol("arc",a,b,d,d,e);a.r=d;return a},rect:function(a,b,d,f,g,h){g=G(a)?a.r:g;var k=this.createElement("rect");a=G(a)?a:void 0===a?{}:{x:a,y:b,width:Math.max(d,0),height:Math.max(f,0)};void 0!==h&&(a.strokeWidth=h,a=k.crisp(a));a.fill="none";g&&(a.r=g);k.rSetter=function(a,b,d){e(d,{rx:a,ry:a})};return k.attr(a)},setSize:function(a,b,d){var e=this.alignedObjects,f=e.length;this.width=a;this.height=b;for(this.boxWrapper.animate({width:a,height:b},{step:function(){this.attr({viewBox:"0 0 "+
this.attr("width")+" "+this.attr("height")})},duration:J(d,!0)?void 0:0});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return a?b.attr({"class":"highcharts-"+a}):b},image:function(a,b,d,e,f){var g={preserveAspectRatio:"none"};1<arguments.length&&y(g,{x:b,y:d,width:e,height:f});g=this.createElement("image").attr(g);g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):g.element.setAttribute("hc-svg-href",a);return g},symbol:function(d,e,f,h,k,
m){var n=this,l,t=this.symbols[d],p=b(e)&&t&&this.symbols[d](Math.round(e),Math.round(f),h,k,m),u=/^url\((.*?)\)$/,w,x;t?(l=this.path(p),l.attr("fill","none"),y(l,{symbolName:d,x:e,y:f,width:h,height:k}),m&&y(l,m)):u.test(d)&&(w=d.match(u)[1],l=this.image(w),l.imgwidth=J(Q[w]&&Q[w].width,m&&m.width),l.imgheight=J(Q[w]&&Q[w].height,m&&m.height),x=function(){l.attr({width:l.width,height:l.height})},s(["width","height"],function(a){l[a+"Setter"]=function(a,d){var e={},f=this["img"+d],g="width"===d?"translateX":
"translateY";this[d]=a;b(f)&&(this.element&&this.element.setAttribute(d,f),this.alignByTranslate||(e[g]=((this[d]||0)-f)/2,this.attr(e)))}}),b(e)&&l.attr({x:e,y:f}),l.isImg=!0,b(l.imgwidth)&&b(l.imgheight)?x():(l.attr({width:0,height:0}),r("img",{onload:function(){var b=g[n.chartIndex];0===this.width&&(a(this,{position:"absolute",top:"-999em"}),q.body.appendChild(this));Q[w]={width:this.width,height:this.height};l.imgwidth=this.width;l.imgheight=this.height;l.element&&x();this.parentNode&&this.parentNode.removeChild(this);
n.imgCount--;if(!n.imgCount&&b&&b.onload)b.onload()},src:w}),this.imgCount++));return l},symbols:{circle:function(a,b,d,e){return this.arc(a+d/2,b+e/2,d/2,e/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,b,d,e){return["M",a,b,"L",a+d,b,a+d,b+e,a,b+e,"Z"]},triangle:function(a,b,d,e){return["M",a+d/2,b,"L",a+d,b+e,a,b+e,"Z"]},"triangle-down":function(a,b,d,e){return["M",a,b,"L",a+d,b,a+d/2,b+e,"Z"]},diamond:function(a,b,d,e){return["M",a+d/2,b,"L",a+d,b+e/2,a+d/2,b+e,a,b+e/2,"Z"]},arc:function(a,
d,e,f,g){var h=g.start,k=g.r||e,r=g.r||f||e,m=g.end-0.001;e=g.innerR;f=g.open;var n=Math.cos(h),l=Math.sin(h),t=Math.cos(m),m=Math.sin(m);g=g.end-h<Math.PI?0:1;k=["M",a+k*n,d+r*l,"A",k,r,0,g,1,a+k*t,d+r*m];b(e)&&k.push(f?"M":"L",a+e*t,d+e*m,"A",e,e,0,g,0,a+e*n,d+e*l);k.push(f?"":"Z");return k},callout:function(a,b,d,e,f){var g=Math.min(f&&f.r||0,d,e),h=g+6,k=f&&f.anchorX;f=f&&f.anchorY;var r;r=["M",a+g,b,"L",a+d-g,b,"C",a+d,b,a+d,b,a+d,b+g,"L",a+d,b+e-g,"C",a+d,b+e,a+d,b+e,a+d-g,b+e,"L",a+g,b+e,"C",
a,b+e,a,b+e,a,b+e-g,"L",a,b+g,"C",a,b,a,b,a+g,b];k&&k>d?f>b+h&&f<b+e-h?r.splice(13,3,"L",a+d,f-6,a+d+6,f,a+d,f+6,a+d,b+e-g):r.splice(13,3,"L",a+d,e/2,k,f,a+d,e/2,a+d,b+e-g):k&&0>k?f>b+h&&f<b+e-h?r.splice(33,3,"L",a,f+6,a-6,f,a,f-6,a,b+g):r.splice(33,3,"L",a,e/2,k,f,a,e/2,a,b+g):f&&f>e&&k>a+h&&k<a+d-h?r.splice(23,3,"L",k+6,b+e,k,b+e+6,k-6,b+e,a+g,b+e):f&&(0>f&&k>a+h&&k<a+d-h)&&r.splice(3,3,"L",k-6,b,k,b-6,k+6,b,d-g,b);return r}},clipRect:function(a,b,d,e){var g=f.uniqueKey(),h=this.createElement("clipPath").attr({id:g}).add(this.defs);
a=this.rect(a,b,d,e,0).add(h);a.id=g;a.clipPath=h;a.count=0;return a},text:function(a,b,d,e){var f=!P&&this.forExport,g={};if(e&&(this.allowHTML||!this.forExport))return this.html(a,b,d);g.x=Math.round(b||0);d&&(g.y=Math.round(d));if(a||0===a)g.text=a;a=this.createElement("text").attr(g);f&&a.css({position:"absolute"});e||(a.xSetter=function(a,b,d){var e=d.getElementsByTagName("tspan"),f,g=d.getAttribute(b),h;for(h=0;h<e.length;h++)f=e[h],f.getAttribute(b)===g&&f.setAttribute(b,a);d.setAttribute(b,
a)});return a},fontMetrics:function(a,b){var d,e;a=a||b&&b.style&&b.style.fontSize||this.style&&this.style.fontSize;a=/px/.test(a)?M(a):/em/.test(a)?parseFloat(a)*(b?this.fontMetrics(null,b.parentNode).f:16):12;d=24>a?a+3:Math.round(1.2*a);e=Math.round(0.8*d);return{h:d,b:e,f:a}},rotCorr:function(a,b,d){var e=a;b&&d&&(e=Math.max(e*Math.cos(b*l),4));return{x:-a/3*Math.sin(b*l),y:e}},label:function(a,d,e,g,h,r,m,n,l){var t=this,p=t.g("button"!==l&&"label"),u=p.text=t.text("",0,0,m).attr({zIndex:1}),
q,v,w=0,x=3,A=0,C,D,B,E,O,S={},P,L,J=/^url\((.*?)\)$/.test(g),H=J,G,K,N,M;l&&p.addClass("highcharts-"+l);H=J;G=function(){return(P||0)%2/2};K=function(){var a=u.element.style,d={};v=(void 0===C||void 0===D||O)&&b(u.textStr)&&u.getBBox();p.width=(C||v.width||0)+2*x+A;p.height=(D||v.height||0)+2*x;L=x+t.fontMetrics(a&&a.fontSize,u).b;H&&(q||(p.box=q=t.symbols[g]||J?t.symbol(g):t.rect(),q.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),q.add(p),a=G(),d.x=a,d.y=(n?-L:
0)+a),d.width=Math.round(p.width),d.height=Math.round(p.height),q.attr(y(d,S)),S={})};N=function(){var a=A+x,d;d=n?0:L;if(b(C)&&v&&("center"===O||"right"===O))a+={center:0.5,right:1}[O]*(C-v.width);if(a!==u.x||d!==u.y)u.attr("x",a),void 0!==d&&u.attr("y",d);u.x=a;u.y=d};M=function(a,b){q?q.attr(a,b):S[a]=b};p.onAdd=function(){u.add(p);p.attr({text:a||0===a?a:"",x:d,y:e});q&&b(h)&&p.attr({anchorX:h,anchorY:r})};p.widthSetter=function(a){C=f.isNumber(a)?a:null};p.heightSetter=function(a){D=a};p["text-alignSetter"]=
function(a){O=a};p.paddingSetter=function(a){b(a)&&a!==x&&(x=p.padding=a,N())};p.paddingLeftSetter=function(a){b(a)&&a!==A&&(A=a,N())};p.alignSetter=function(a){a={left:0,center:0.5,right:1}[a];a!==w&&(w=a,v&&p.attr({x:B}))};p.textSetter=function(a){void 0!==a&&u.textSetter(a);K();N()};p["stroke-widthSetter"]=function(a,b){a&&(H=!0);P=this["stroke-width"]=a;M(b,a)};p.strokeSetter=p.fillSetter=p.rSetter=function(a,b){"fill"===b&&a&&(H=!0);M(b,a)};p.anchorXSetter=function(a,b){h=a;M(b,Math.round(a)-
G()-B)};p.anchorYSetter=function(a,b){r=a;M(b,a-E)};p.xSetter=function(a){p.x=a;w&&(a-=w*((C||v.width)+2*x));B=Math.round(a);p.attr("translateX",B)};p.ySetter=function(a){E=p.y=Math.round(a);p.attr("translateY",E)};var Q=p.css;return y(p,{css:function(a){if(a){var b={};a=F(a);s(p.textProps,function(d){void 0!==a[d]&&(b[d]=a[d],delete a[d])});u.css(b)}return Q.call(p,a)},getBBox:function(){return{width:v.width+2*x,height:v.height+2*x,x:v.x-x,y:v.y-x}},shadow:function(a){a&&(K(),q&&q.shadow(a));return p},
destroy:function(){I(p.element,"mouseenter");I(p.element,"mouseleave");u&&(u=u.destroy());q&&(q=q.destroy());k.prototype.destroy.call(p);p=t=K=N=M=null}})}};f.Renderer=n})(l);(function(f){var k=f.attr,n=f.createElement,m=f.css,h=f.defined,e=f.each,g=f.extend,d=f.isFirefox,a=f.isMS,r=f.isWebKit,b=f.pInt,l=f.SVGRenderer,p=f.win,q=f.wrap;g(f.SVGElement.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&"SPAN"===b.tagName&&a.width)delete a.width,this.textWidth=b,this.updateTransform();a&&"ellipsis"===
a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=g(this.styles,a);m(this.element,a);return this},htmlGetBBox:function(){var a=this.element;"text"===a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,d=this.element,f=this.translateX||0,g=this.translateY||0,k=this.x||0,n=this.y||0,l=this.textAlign||"left",t={left:0,center:0.5,right:1}[l],p=this.styles;
m(d,{marginLeft:f,marginTop:g});this.shadows&&e(this.shadows,function(a){m(a,{marginLeft:f+1,marginTop:g+1})});this.inverted&&e(d.childNodes,function(b){a.invertChild(b,d)});if("SPAN"===d.tagName){var u=this.rotation,q=b(this.textWidth),v=p&&p.whiteSpace,s=[u,l,d.innerHTML,this.textWidth,this.textAlign].join();if(s!==this.cTT){p=a.fontMetrics(d.style.fontSize).b;h(u)&&this.setSpanRotation(u,t,p);m(d,{width:"",whiteSpace:v||"nowrap"});if(d.offsetWidth>q&&/[ \-]/.test(d.textContent||d.innerText))m(d,
{width:q+"px",display:"block",whiteSpace:v||"normal"});this.getSpanCorrection(d.offsetWidth,p,t,u,l)}m(d,{left:k+(this.xCorr||0)+"px",top:n+(this.yCorr||0)+"px"});r&&(p=d.offsetHeight);this.cTT=s}}else this.alignOnAdd=!0},setSpanRotation:function(b,e,f){var g={},h=a?"-ms-transform":r?"-webkit-transform":d?"MozTransform":p.opera?"-o-transform":"";g[h]=g.transform="rotate("+b+"deg)";g[h+(d?"Origin":"-origin")]=g.transformOrigin=100*e+"% "+f+"px";m(this.element,g)},getSpanCorrection:function(a,b,d){this.xCorr=
-a*d;this.yCorr=-b}});g(l.prototype,{html:function(a,b,d){var f=this.createElement("span"),h=f.element,r=f.renderer,m=r.isSVG,l=function(a,b){e(["opacity","visibility"],function(d){q(a,d+"Setter",function(a,d,e,f){a.call(this,d,e,f);b[e]=d})})};f.textSetter=function(a){a!==h.innerHTML&&delete this.bBox;h.innerHTML=this.textStr=a;f.htmlUpdateTransform()};m&&l(f,f.element.style);f.xSetter=f.ySetter=f.alignSetter=f.rotationSetter=function(a,b){"align"===b&&(b="textAlign");f[b]=a;f.htmlUpdateTransform()};
f.attr({text:a,x:Math.round(b),y:Math.round(d)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"});h.style.whiteSpace="nowrap";f.css=f.htmlCss;m&&(f.add=function(a){var b,d=r.box.parentNode,m=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;)m.push(a),a=a.parentGroup;e(m.reverse(),function(a){var e,h=k(a.element,"class");h&&(h={className:h});b=a.div=a.div||n("div",h,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,
opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||d);e=b.style;g(a,{on:function(){f.on.apply({element:m[0].div},arguments);return a},translateXSetter:function(b,d){e.left=b+"px";a[d]=b;a.doTransform=!0},translateYSetter:function(b,d){e.top=b+"px";a[d]=b;a.doTransform=!0}});l(a,e)})}}else b=d;b.appendChild(h);f.added=!0;f.alignOnAdd&&f.htmlUpdateTransform();return f});return f}})})(l);(function(f){var k,n,m=f.createElement,h=f.css,e=f.defined,g=f.deg2rad,d=f.discardElement,a=f.doc,
r=f.each,b=f.erase,l=f.extend;k=f.extendClass;var p=f.isArray,q=f.isNumber,s=f.isObject,y=f.merge;n=f.noop;var w=f.pick,x=f.pInt,A=f.SVGElement,D=f.SVGRenderer,E=f.win;f.svg||(n={docMode8:a&&8===a.documentMode,init:function(a,b){var d=["\x3c",b,' filled\x3d"f" stroked\x3d"f"'],e=["position: ","absolute",";"],f="div"===b;("shape"===b||f)&&e.push("left:0;top:0;width:1px;height:1px;");e.push("visibility: ",f?"hidden":"visible");d.push(' style\x3d"',e.join(""),'"/\x3e');b&&(d=f||"span"===b||"img"===b?
d.join(""):a.prepVML(d),this.element=m(d));this.renderer=a},add:function(a){var b=this.renderer,d=this.element,e=b.box,f=a&&a.inverted,e=a?a.element||a:e;a&&(this.parentGroup=a);f&&b.invertChild(d,e);e.appendChild(d);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd)this.onAdd();this.className&&this.attr("class",this.className);return this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=Math.cos(a*g),d=
Math.sin(a*g);h(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11\x3d",b,", M12\x3d",-d,", M21\x3d",d,", M22\x3d",b,", sizingMethod\x3d'auto expand')"].join(""):"none"})},getSpanCorrection:function(a,b,d,e,f){var k=e?Math.cos(e*g):1,r=e?Math.sin(e*g):0,m=w(this.elemHeight,this.element.offsetHeight),n;this.xCorr=0>k&&-a;this.yCorr=0>r&&-m;n=0>k*r;this.xCorr+=r*b*(n?1-d:d);this.yCorr-=k*b*(e?n?d:1-d:1);f&&"left"!==f&&(this.xCorr-=a*d*(0>k?-1:1),e&&(this.yCorr-=m*d*(0>r?-1:1)),h(this.element,
{textAlign:f}))},pathToVML:function(a){for(var b=a.length,d=[];b--;)if(q(a[b]))d[b]=Math.round(10*a[b])-5;else if("Z"===a[b])d[b]="x";else if(d[b]=a[b],a.isArc&&("wa"===a[b]||"at"===a[b]))d[b+5]===d[b+7]&&(d[b+7]+=a[b+7]>a[b+5]?1:-1),d[b+6]===d[b+8]&&(d[b+8]+=a[b+8]>a[b+6]?1:-1);return d.join(" ")||"x"},clip:function(a){var d=this,e;a?(e=a.members,b(e,d),e.push(d),d.destroyClip=function(){b(e,d)},a=a.getCSS(d)):(d.destroyClip&&d.destroyClip(),a={clip:d.docMode8?"inherit":"rect(auto)"});return d.css(a)},
css:A.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&d(a)},destroy:function(){this.destroyClip&&this.destroyClip();return A.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var a=E.event;a.target=a.srcElement;b(a)};return this},cutOffPath:function(a,b){var d;a=a.split(/[ ,]/);d=a.length;if(9===d||11===d)a[d-4]=a[d-2]=x(a[d-2])-10*b;return a.join(" ")},shadow:function(a,b,d){var e=[],f,g=this.element,h=this.renderer,k,r=g.style,n,l=g.path,t,p,u,q;l&&"string"!==
typeof l.value&&(l="x");p=l;if(a){u=w(a.width,3);q=(a.opacity||0.15)/u;for(f=1;3>=f;f++)t=2*u+1-2*f,d&&(p=this.cutOffPath(l.value,t+0.5)),n=['\x3cshape isShadow\x3d"true" strokeweight\x3d"',t,'" filled\x3d"false" path\x3d"',p,'" coordsize\x3d"10 10" style\x3d"',g.style.cssText,'" /\x3e'],k=m(h.prepVML(n),null,{left:x(r.left)+w(a.offsetX,1),top:x(r.top)+w(a.offsetY,1)}),d&&(k.cutOff=t+1),n=['\x3cstroke color\x3d"',a.color||"#000000",'" opacity\x3d"',q*f,'"/\x3e'],m(h.prepVML(n),null,null,k),b?b.element.appendChild(k):
g.parentNode.insertBefore(k,g),e.push(k);this.shadows=e}return this},updateShadows:n,setAttr:function(a,b){this.docMode8?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){(this.added?this.element:this).className=a},dashstyleSetter:function(a,b,d){(d.getElementsByTagName("stroke")[0]||m(this.renderer.prepVML(["\x3cstroke/\x3e"]),null,null,d))[b]=a||"solid";this[b]=a},dSetter:function(a,b,d){var e=this.shadows;a=a||[];this.d=a.join&&a.join(" ");d.path=a=this.pathToVML(a);if(e)for(d=
e.length;d--;)e[d].path=e[d].cutOff?this.cutOffPath(a,e[d].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,d){var e=d.nodeName;"SPAN"===e?d.style.color=a:"IMG"!==e&&(d.filled="none"!==a,this.setAttr("fillcolor",this.renderer.color(a,d,b,this)))},"fill-opacitySetter":function(a,b,d){m(this.renderer.prepVML(["\x3c",b.split("-")[0],' opacity\x3d"',a,'"/\x3e']),null,null,d)},opacitySetter:n,rotationSetter:function(a,b,d){d=d.style;this[b]=d[b]=a;d.left=-Math.round(Math.sin(a*g)+1)+"px";d.top=Math.round(Math.cos(a*
g))+"px"},strokeSetter:function(a,b,d){this.setAttr("strokecolor",this.renderer.color(a,d,b,this))},"stroke-widthSetter":function(a,b,d){d.stroked=!!a;this[b]=a;q(a)&&(a+="px");this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,d){"inherit"===a&&(a="visible");this.shadows&&r(this.shadows,function(d){d.style[b]=a});"DIV"===d.nodeName&&(a="hidden"===a?"-999em":0,this.docMode8||(d.style[b]=a?"visible":"hidden"),b="top");d.style[b]=a},xSetter:function(a,
b,d){this[b]=a;"x"===b?b="left":"y"===b&&(b="top");this.updateClipping?(this[b]=a,this.updateClipping()):d.style[b]=a},zIndexSetter:function(a,b,d){d.style[b]=a}},n["stroke-opacitySetter"]=n["fill-opacitySetter"],f.VMLElement=n=k(A,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,n={Element:n,isIE8:-1<E.navigator.userAgent.indexOf("MSIE 8.0"),init:function(b,d,e){var f,g;this.alignedObjects=[];f=this.createElement("div").css({position:"relative"});g=f.element;
b.appendChild(f.element);this.isVML=!0;this.box=g;this.boxWrapper=f;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(d,e,!1);if(!a.namespaces.hcv){a.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{a.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(h){a.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},
isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,b,d,e){var f=this.createElement(),g=s(a);return l(f,{members:[],count:0,left:(g?a.x:a)+1,top:(g?a.y:b)+1,width:(g?a.width:d)-1,height:(g?a.height:e)-1,getCSS:function(a){var b=a.element,d=b.nodeName,e=a.inverted,f=this.top-("shape"===d?b.offsetTop:0),g=this.left,b=g+this.width,h=f+this.height,f={clip:"rect("+Math.round(e?g:f)+"px,"+Math.round(e?h:b)+"px,"+Math.round(e?b:h)+"px,"+Math.round(e?f:g)+"px)"};!e&&(a.docMode8&&"DIV"===
d)&&l(f,{width:b+"px",height:h+"px"});return f},updateClipping:function(){r(f.members,function(a){a.element&&a.css(f.getCSS(a))})}})},color:function(a,b,d,e){var g=this,h,k=/^rgba/,n,l,t="none";a&&a.linearGradient?l="gradient":a&&a.radialGradient&&(l="pattern");if(l){var p,u,q=a.linearGradient||a.radialGradient,v,s,w,x,y,z="";a=a.stops;var A,D=[],E=function(){n=['\x3cfill colors\x3d"'+D.join(",")+'" opacity\x3d"',w,'" o:opacity2\x3d"',s,'" type\x3d"',l,'" ',z,'focus\x3d"100%" method\x3d"any" /\x3e'];
m(g.prepVML(n),null,null,b)};v=a[0];A=a[a.length-1];0<v[0]&&a.unshift([0,v[1]]);1>A[0]&&a.push([1,A[1]]);r(a,function(a,b){k.test(a[1])?(h=f.color(a[1]),p=h.get("rgb"),u=h.get("a")):(p=a[1],u=1);D.push(100*a[0]+"% "+p);b?(w=u,x=p):(s=u,y=p)});if("fill"===d)if("gradient"===l)d=q.x1||q[0]||0,a=q.y1||q[1]||0,v=q.x2||q[2]||0,q=q.y2||q[3]||0,z='angle\x3d"'+(90-180*Math.atan((q-a)/(v-d))/Math.PI)+'"',E();else{var t=q.r,$=2*t,ja=2*t,Z=q.cx,aa=q.cy,ga=b.radialReference,ea,t=function(){ga&&(ea=e.getBBox(),
Z+=(ga[0]-ea.x)/ea.width-0.5,aa+=(ga[1]-ea.y)/ea.height-0.5,$*=ga[2]/ea.width,ja*=ga[2]/ea.height);z='src\x3d"'+f.getOptions().global.VMLRadialGradientURL+'" size\x3d"'+$+","+ja+'" origin\x3d"0.5,0.5" position\x3d"'+Z+","+aa+'" color2\x3d"'+y+'" ';E()};e.added?t():e.onAdd=t;t=x}else t=p}else k.test(a)&&"IMG"!==b.tagName?(h=f.color(a),e[d+"-opacitySetter"](h.get("a"),d,b),t=h.get("rgb")):(t=b.getElementsByTagName(d),t.length&&(t[0].opacity=1,t[0].type="solid"),t=a);return t},prepVML:function(a){var b=
this.isIE8;a=a.join("");b?(a=a.replace("/\x3e",' xmlns\x3d"urn:schemas-microsoft-com:vml" /\x3e'),a=-1===a.indexOf('style\x3d"')?a.replace("/\x3e",' style\x3d"display:inline-block;behavior:url(#default#VML);" /\x3e'):a.replace('style\x3d"','style\x3d"display:inline-block;behavior:url(#default#VML);')):a=a.replace("\x3c","\x3chcv:");return a},text:D.prototype.html,path:function(a){var b={coordsize:"10 10"};p(a)?b.d=a:s(a)&&l(b,a);return this.createElement("shape").attr(b)},circle:function(a,b,d){var e=
this.symbol("circle");s(a)&&(d=a.r,b=a.y,a=a.x);e.isCircle=!0;e.r=d;return e.attr({x:a,y:b})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement("div").attr(b)},image:function(a,b,d,e,f){var g=this.createElement("img").attr({src:a});1<arguments.length&&g.attr({x:b,y:d,width:e,height:f});return g},createElement:function(a){return"rect"===a?this.symbol(a):D.prototype.createElement.call(this,a)},invertChild:function(a,b){var d=this,e=b.style,f="IMG"===
a.tagName&&a.style;h(a,{flip:"x",left:x(e.width)-(f?x(f.top):1),top:x(e.height)-(f?x(f.left):1),rotation:-90});r(a.childNodes,function(b){d.invertChild(b,a)})},symbols:{arc:function(a,b,d,e,f){var g=f.start,h=f.end,k=f.r||d||e;d=f.innerR;e=Math.cos(g);var r=Math.sin(g),m=Math.cos(h),n=Math.sin(h);if(0===h-g)return["x"];g=["wa",a-k,b-k,a+k,b+k,a+k*e,b+k*r,a+k*m,b+k*n];f.open&&!d&&g.push("e","M",a,b);g.push("at",a-d,b-d,a+d,b+d,a+d*m,b+d*n,a+d*e,b+d*r,"x","e");g.isArc=!0;return g},circle:function(a,
b,d,f,g){g&&e(g.r)&&(d=f=2*g.r);g&&g.isCircle&&(a-=d/2,b-=f/2);return["wa",a,b,a+d,b+f,a+d,b+f/2,a+d,b+f/2,"e"]},rect:function(a,b,d,f,g){return D.prototype.symbols[!e(g)||!g.r?"square":"callout"].call(0,a,b,d,f,g)}}},f.VMLRenderer=k=function(){this.init.apply(this,arguments)},k.prototype=y(D.prototype,n),f.Renderer=k);D.prototype.measureSpanWidth=function(b,e){var f=a.createElement("span"),g;g=a.createTextNode(b);f.appendChild(g);h(f,e);this.box.appendChild(f);g=f.offsetWidth;d(f);return g}})(l);
(function(f){function k(){var d=f.defaultOptions.global,b=a.moment;if(d.timezone){if(b)return function(a){return-b.tz(a,d.timezone).utcOffset()};f.error(25)}return d.useUTC&&d.getTimezoneOffset}function n(){var g=f.defaultOptions.global,b,m=g.useUTC,n=m?"getUTC":"get",l=m?"setUTC":"set";f.Date=b=g.Date||a.Date;b.hcTimezoneOffset=m&&g.timezoneOffset;b.hcGetTimezoneOffset=k();b.hcMakeTime=function(a,f,g,h,k,r){var n;m?(n=b.UTC.apply(0,arguments),n+=e(n)):n=(new b(a,f,d(g,1),d(h,0),d(k,0),d(r,0))).getTime();
return n};h("Minutes Hours Day Date Month FullYear".split(" "),function(a){b["hcGet"+a]=n+a});h("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(a){b["hcSet"+a]=l+a})}var m=f.color,h=f.each,e=f.getTZOffset,g=f.merge,d=f.pick,a=f.win;f.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/x.x.x/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},
position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},
itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:f.svg,borderRadius:3,
dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:f.isTouchDevice?25:10,backgroundColor:m("#f7f7f7").setOpacity(0.85).get(),borderWidth:1,headerFormat:'\x3cspan style\x3d"font-size: 10px"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e',
shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};f.setOptions=function(a){f.defaultOptions=g(!0,f.defaultOptions,a);n();return f.defaultOptions};f.getOptions=function(){return f.defaultOptions};f.defaultPlotOptions=f.defaultOptions.plotOptions;n()})(l);
(function(f){var k=f.arrayMax,n=f.arrayMin,m=f.defined,h=f.destroyObjectProperties,e=f.each,g=f.erase,d=f.merge,a=f.pick;f.PlotLineOrBand=function(a,b){this.axis=a;b&&(this.options=b,this.id=b.id)};f.PlotLineOrBand.prototype={render:function(){var e=this,b=e.axis,f=b.horiz,g=e.options,h=g.label,k=e.label,n=g.to,l=g.from,p=g.value,q=m(l)&&m(n),s=m(p),E=e.svgElem,B=!E,C=[],G,H=g.color,L=a(g.zIndex,0),F=g.events,C={"class":"highcharts-plot-"+(q?"band ":"line ")+(g.className||"")},K={},J=b.chart.renderer,
M=q?"bands":"lines",I=b.log2lin;b.isLog&&(l=I(l),n=I(n),p=I(p));s?(C={stroke:H,"stroke-width":g.width},g.dashStyle&&(C.dashstyle=g.dashStyle)):q&&(H&&(C.fill=H),g.borderWidth&&(C.stroke=g.borderColor,C["stroke-width"]=g.borderWidth));K.zIndex=L;M+="-"+L;(H=b[M])||(b[M]=H=J.g("plot-"+M).attr(K).add());B&&(e.svgElem=E=J.path().attr(C).add(H));if(s)C=b.getPlotLinePath(p,E.strokeWidth());else if(q)C=b.getPlotBandPath(l,n,g);else return;if(B&&C&&C.length){if(E.attr({d:C}),F)for(G in g=function(a){E.on(a,
function(b){F[a].apply(e,[b])})},F)g(G)}else E&&(C?(E.show(),E.animate({d:C})):(E.hide(),k&&(e.label=k=k.destroy())));h&&m(h.text)&&C&&C.length&&0<b.width&&0<b.height&&!C.flat?(h=d({align:f&&q&&"center",x:f?!q&&4:10,verticalAlign:!f&&q&&"middle",y:f?q?16:10:q?6:-4,rotation:f&&!q&&90},h),this.renderLabel(h,C,q,L)):k&&k.hide();return e},renderLabel:function(a,b,d,e){var f=this.label,g=this.axis.chart.renderer;f||(f={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+(d?"band":
"line")+"-label "+(a.className||"")},f.zIndex=e,this.label=f=g.text(a.text,0,0,a.useHTML).attr(f).add(),f.css(a.style));e=[b[1],b[4],d?b[6]:b[1]];b=[b[2],b[5],d?b[7]:b[2]];d=n(e);g=n(b);f.align(a,!1,{x:d,y:g,width:k(e)-d,height:k(b)-g});f.show()},destroy:function(){g(this.axis.plotLinesAndBands,this);delete this.axis;h(this)}};f.AxisPlotLineOrBandExtension={getPlotBandPath:function(a,b){var d=this.getPlotLinePath(b,null,null,!0),e=this.getPlotLinePath(a,null,null,!0);e&&d?(e.flat=e.toString()===d.toString(),
e.push(d[4],d[5],d[1],d[2],"z")):e=null;return e},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var d=(new f.PlotLineOrBand(this,a)).render(),e=this.userOptions;d&&(b&&(e[b]=e[b]||[],e[b].push(a)),this.plotLinesAndBands.push(d));return d},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,d=this.options,f=this.userOptions,h=b.length;h--;)b[h].id===a&&b[h].destroy();
e([d.plotLines||[],f.plotLines||[],d.plotBands||[],f.plotBands||[]],function(b){for(h=b.length;h--;)b[h].id===a&&g(b,b[h])})}}})(l);(function(f){var k=f.correctFloat,n=f.defined,m=f.destroyObjectProperties,h=f.isNumber,e=f.merge,g=f.pick,d=f.deg2rad;f.Tick=function(a,d,b,e){this.axis=a;this.pos=d;this.type=b||"";this.isNew=!0;!b&&!e&&this.addLabel()};f.Tick.prototype={addLabel:function(){var a=this.axis,d=a.options,b=a.chart,f=a.categories,h=a.names,m=this.pos,l=d.labels,p=a.tickPositions,q=m===p[0],
s=m===p[p.length-1],h=f?g(f[m],h[m],m):m,f=this.label,p=p.info,A;a.isDatetimeAxis&&p&&(A=d.dateTimeLabelFormats[p.higherRanks[m]||p.unitName]);this.isFirst=q;this.isLast=s;d=a.labelFormatter.call({axis:a,chart:b,isFirst:q,isLast:s,dateTimeLabelFormat:A,value:a.isLog?k(a.lin2log(h)):h});n(f)?f&&f.attr({text:d}):(this.labelLength=(this.label=f=n(d)&&l.enabled?b.renderer.text(d,0,0,l.useHTML).css(e(l.style)).add(a.labelGroup):null)&&f.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?
this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var e=this.axis,b=a.x,f=e.chart.chartWidth,h=e.chart.spacing,k=g(e.labelLeft,Math.min(e.pos,h[3])),h=g(e.labelRight,Math.max(e.pos+e.len,f-h[1])),m=this.label,n=this.rotation,l={left:0,center:0.5,right:1}[e.labelAlign],p=m.getBBox().width,q=e.getSlotWidth(),s=q,E=1,B,C={};if(n)0>n&&b-l*p<k?B=Math.round(b/Math.cos(n*d)-k):0<n&&b+l*p>h&&(B=Math.round((f-b)/Math.cos(n*d)));else if(f=b+(1-l)*p,b-l*p<k?s=a.x+s*(1-l)-k:
f>h&&(s=h-a.x+s*l,E=-1),s=Math.min(q,s),s<q&&"center"===e.labelAlign&&(a.x+=E*(q-s-l*(q-Math.min(p,s)))),p>s||e.autoRotation&&(m.styles||{}).width)B=s;B&&(C.width=B,(e.options.labels.style||{}).textOverflow||(C.textOverflow="ellipsis"),m.css(C))},getPosition:function(a,d,b,e){var f=this.axis,g=f.chart,h=e&&g.oldChartHeight||g.chartHeight;return{x:a?f.translate(d+b,null,null,e)+f.transB:f.left+f.offset+(f.opposite?(e&&g.oldChartWidth||g.chartWidth)-f.right-f.left:0),y:a?h-f.bottom+f.offset-(f.opposite?
f.height:0):h-f.translate(d+b,null,null,e)-f.transB}},getLabelPosition:function(a,e,b,f,g,h,k,m){var l=this.axis,p=l.transA,q=l.reversed,s=l.staggerLines,E=l.tickRotCorr||{x:0,y:0},B=g.y;n(B)||(B=0===l.side?b.rotation?-8:-b.getBBox().height:2===l.side?E.y+8:Math.cos(b.rotation*d)*(E.y-b.getBBox(!1,0).height/2));a=a+g.x+E.x-(h&&f?h*p*(q?-1:1):0);e=e+B-(h&&!f?h*p*(q?1:-1):0);s&&(b=k/(m||1)%s,l.opposite&&(b=s-b-1),e+=b*(l.labelOffset/s));return{x:a,y:Math.round(e)}},getMarkPath:function(a,d,b,e,f,g){return g.crispLine(["M",
a,d,"L",a+(f?0:-b),d+(f?b:0)],e)},renderGridLine:function(a,d,b){var e=this.axis,f=e.options,g=this.gridLine,h={},k=this.pos,m=this.type,n=e.tickmarkOffset,l=e.chart.renderer,p=m?m+"Grid":"grid",q=f[p+"LineWidth"],s=f[p+"LineColor"],f=f[p+"LineDashStyle"];g||(h.stroke=s,h["stroke-width"]=q,f&&(h.dashstyle=f),m||(h.zIndex=1),a&&(h.opacity=0),this.gridLine=g=l.path().attr(h).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(e.gridGroup));if(!a&&g&&(a=e.getPlotLinePath(k+n,g.strokeWidth()*b,a,!0)))g[this.isNew?
"attr":"animate"]({d:a,opacity:d})},renderMark:function(a,d,b){var e=this.axis,f=e.options,h=e.chart.renderer,k=this.type,m=k?k+"Tick":"tick",n=e.tickSize(m),l=this.mark,p=!l,q=a.x;a=a.y;var s=g(f[m+"Width"],!k&&e.isXAxis?1:0),f=f[m+"Color"];n&&(e.opposite&&(n[0]=-n[0]),p&&(this.mark=l=h.path().addClass("highcharts-"+(k?k+"-":"")+"tick").add(e.axisGroup),l.attr({stroke:f,"stroke-width":s})),l[p?"attr":"animate"]({d:this.getMarkPath(q,a,n[0],l.strokeWidth()*b,e.horiz,h),opacity:d}))},renderLabel:function(a,
d,b,e){var f=this.axis,k=f.horiz,m=f.options,n=this.label,l=m.labels,p=l.step,q=f.tickmarkOffset,s=!0,E=a.x;a=a.y;n&&h(E)&&(n.xy=a=this.getLabelPosition(E,a,n,k,l,q,e,p),this.isFirst&&!this.isLast&&!g(m.showFirstLabel,1)||this.isLast&&!this.isFirst&&!g(m.showLastLabel,1)?s=!1:k&&(!f.isRadial&&!l.step&&!l.rotation&&!d&&0!==b)&&this.handleOverflow(a),p&&e%p&&(s=!1),s&&h(a.y)?(a.opacity=b,n[this.isNew?"attr":"animate"](a)):n.attr("y",-9999),this.isNew=!1)},render:function(a,d,b){var e=this.axis,f=e.horiz,
h=this.getPosition(f,this.pos,e.tickmarkOffset,d),k=h.x,m=h.y,e=f&&k===e.pos+e.len||!f&&m===e.pos?-1:1;b=g(b,1);this.isActive=!0;this.renderGridLine(d,b,e);this.renderMark(h,b,e);this.renderLabel(h,d,b,a)},destroy:function(){m(this,this.axis)}}})(l);(function(f){var k=f.addEvent,n=f.animObject,m=f.arrayMax,h=f.arrayMin,e=f.AxisPlotLineOrBandExtension,g=f.color,d=f.correctFloat,a=f.defaultOptions,r=f.defined,b=f.deg2rad,l=f.destroyObjectProperties,p=f.each,q=f.extend,s=f.fireEvent,y=f.format,w=f.getMagnitude,
x=f.grep,A=f.inArray,D=f.isArray,E=f.isNumber,B=f.isString,C=f.merge,G=f.normalizeTickInterval,H=f.pick,L=f.PlotLineOrBand,F=f.removeEvent,K=f.splat,J=f.syncTimeout,M=f.Tick;f.Axis=function(){this.init.apply(this,arguments)};f.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:0.01,
maxPadding:0.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:0.05,minPadding:0.05,
startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return f.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},
title:{rotation:0}},init:function(a,b){var d=b.isX;this.chart=a;this.horiz=a.inverted?!d:d;this.isXAxis=d;this.coll=this.coll||(d?"xAxis":"yAxis");this.opposite=b.opposite;this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(b);var e=this.options,f=e.type;this.labelFormatter=e.labels.formatter||this.defaultLabelFormatter;this.userOptions=b;this.minPixelPadding=0;this.reversed=e.reversed;this.visible=!1!==e.visible;this.zoomEnabled=!1!==e.zoomEnabled;this.hasNames="category"===
f||!0===e.categories;this.categories=e.categories||this.hasNames;this.names=this.names||[];this.isLog="logarithmic"===f;this.isDatetimeAxis="datetime"===f;this.positiveValuesOnly=this.isLog&&!this.allowNegativeLog;this.isLinked=r(e.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=e.minRange||e.maxZoom;this.range=e.range;this.offset=e.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=
0;this.min=this.max=null;this.crosshair=H(e.crosshair,K(a.options.tooltip.crosshairs)[d?0:1],!1);var g,f=this.options.events;-1===A(this,a.axes)&&(d?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this));this.series=this.series||[];a.inverted&&(d&&void 0===this.reversed)&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(g in f)k(this,g,f[g]);this.lin2log=e.linearToLogConverter||this.lin2log;this.isLog&&(this.val2lin=this.log2lin,this.lin2val=
this.lin2log)},setOptions:function(b){this.options=C(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],C(a[this.coll],b))},defaultLabelFormatter:function(){var b=this.axis,d=this.value,e=b.categories,g=this.dateTimeLabelFormat,h=a.lang,k=h.numericSymbols,h=h.numericSymbolMagnitude||1E3,r=k&&k.length,m,n=b.options.labels.format,b=b.isLog?Math.abs(d):b.tickInterval;
if(n)m=y(n,this);else if(e)m=d;else if(g)m=f.dateFormat(g,d);else if(r&&1E3<=b)for(;r--&&void 0===m;)e=Math.pow(h,r+1),b>=e&&(0===10*d%e&&null!==k[r]&&0!==d)&&(m=f.numberFormat(d/e,-1)+k[r]);void 0===m&&(m=1E4<=Math.abs(d)?f.numberFormat(d,-1):f.numberFormat(d,-1,void 0,""));return m},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();p(a.series,function(d){if(d.visible||!b.options.chart.ignoreHiddenSeries){var e=
d.options,f=e.threshold,g;a.hasVisibleSeries=!0;a.positiveValuesOnly&&0>=f&&(f=null);if(a.isXAxis)e=d.xData,e.length&&(d=h(e),!E(d)&&!(d instanceof Date)&&(e=x(e,function(a){return E(a)}),d=h(e)),a.dataMin=Math.min(H(a.dataMin,e[0]),d),a.dataMax=Math.max(H(a.dataMax,e[0]),m(e)));else if(d.getExtremes(),g=d.dataMax,d=d.dataMin,r(d)&&r(g)&&(a.dataMin=Math.min(H(a.dataMin,d),d),a.dataMax=Math.max(H(a.dataMax,g),g)),r(f)&&(a.threshold=f),!e.softThreshold||a.positiveValuesOnly)a.softThreshold=!1}})},translate:function(a,
b,d,e,f,g){var h=this.linkedParent||this,k=1,r=0,m=e?h.oldTransA:h.transA;e=e?h.oldMin:h.min;var n=h.minPixelPadding;f=(h.isOrdinal||h.isBroken||h.isLog&&f)&&h.lin2val;m||(m=h.transA);d&&(k*=-1,r=h.len);h.reversed&&(k*=-1,r-=k*(h.sector||h.len));b?(a=a*k+r-n,a=a/m+e,f&&(a=h.lin2val(a))):(f&&(a=h.val2lin(a)),a=k*(a-e)*m+r+k*n+(E(g)?m*g:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,
!this.horiz,null,!0)},getPlotLinePath:function(a,b,d,e,f){var g=this.chart,h=this.left,k=this.top,r,m,n=d&&g.oldChartHeight||g.chartHeight,l=d&&g.oldChartWidth||g.chartWidth,t;r=this.transB;var p=function(a,b,d){if(a<b||a>d)e?a=Math.min(Math.max(b,a),d):t=!0;return a};f=H(f,this.translate(a,null,null,d));a=d=Math.round(f+r);r=m=Math.round(n-f-r);E(f)?this.horiz?(r=k,m=n-this.bottom,a=d=p(a,h,h+this.width)):(a=h,d=l-this.right,r=m=p(r,k,k+this.height)):t=!0;return t&&!e?null:g.renderer.crispLine(["M",
a,r,"L",d,m],b||1)},getLinearTickPositions:function(a,b,e){var f,g=d(Math.floor(b/a)*a);e=d(Math.ceil(e/a)*a);var h=[];if(this.single)return[b];for(b=g;b<=e;){h.push(b);b=d(b+a);if(b===f)break;f=b}return h},getMinorTickPositions:function(){var a=this,b=a.options,d=a.tickPositions,e=a.minorTickInterval,f=[],g=a.pointRangePadding||0,h=a.min-g,g=a.max+g,k=g-h;if(k&&k/e<a.len/3)if(a.isLog)p(this.paddedTicks,function(b,d,g){d&&f.push.apply(f,a.getLogTickPositions(e,g[d-1],g[d],!0))});else if(a.isDatetimeAxis&&
"auto"===b.minorTickInterval)f=f.concat(a.getTimeTicks(a.normalizeTimeTickInterval(e),h,g,b.startOfWeek));else for(b=h+(d[0]-h)%e;b<=g&&b!==f[0];b+=e)f.push(b);0!==f.length&&a.trimTicks(f);return f},adjustForMinRange:function(){var a=this.options,b=this.min,d=this.max,e,f=this.dataMax-this.dataMin>=this.minRange,g,k,n,l,t,q;this.isXAxis&&(void 0===this.minRange&&!this.isLog)&&(r(a.min)||r(a.max)?this.minRange=null:(p(this.series,function(a){l=a.xData;for(k=t=a.xIncrement?1:l.length-1;0<k;k--)if(n=
l[k]-l[k-1],void 0===g||n<g)g=n}),this.minRange=Math.min(5*g,this.dataMax-this.dataMin)));d-b<this.minRange&&(q=this.minRange,e=(q-d+b)/2,e=[b-e,H(a.min,b-e)],f&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=m(e),d=[b+q,H(a.max,b+q)],f&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),d=h(d),d-b<q&&(e[0]=d-q,e[1]=H(a.min,d-q),b=m(e)));this.min=b;this.max=d},getClosest:function(){var a;this.categories?a=1:p(this.series,function(b){var d=b.closestPointRange,e=b.visible||!b.chart.options.chart.ignoreHiddenSeries;
!b.noSharedTooltip&&(r(d)&&e)&&(a=r(a)?Math.min(a,d):d)});return a},nameToX:function(a){var b=D(this.categories),d=b?this.categories:this.names,e=a.options.x,f;a.series.requireSorting=!1;r(e)||(e=!1===this.options.uniqueNames?a.series.autoIncrement():A(a.name,d));-1===e?b||(f=d.length):f=e;this.names[f]=a.name;return f},updateNames:function(){var a=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,p(this.series||[],function(b){b.xIncrement=null;if(!b.points||b.isDirtyData)b.processData(),
b.generatePoints();p(b.points,function(d,e){var f;d.options&&(f=a.nameToX(d),f!==d.x&&(d.x=f,b.xData[e]=f))})}))},setAxisTranslation:function(a){var b=this,d=b.max-b.min,e=b.axisPointRange||0,f,g=0,h=0,k=b.linkedParent,r=!!b.categories,m=b.transA,n=b.isXAxis;if(n||r||e)f=b.getClosest(),k?(g=k.minPointOffset,h=k.pointRangePadding):p(b.series,function(a){var d=r?1:n?H(a.options.pointRange,f,0):b.axisPointRange||0;a=a.options.pointPlacement;e=Math.max(e,d);b.single||(g=Math.max(g,B(a)?0:d/2),h=Math.max(h,
"on"===a?0:d))}),k=b.ordinalSlope&&f?b.ordinalSlope/f:1,b.minPointOffset=g*=k,b.pointRangePadding=h*=k,b.pointRange=Math.min(e,d),n&&(b.closestPointRange=f);a&&(b.oldTransA=m);b.translationSlope=b.transA=m=b.options.staticScale||b.len/(d+h||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=m*g},minFromRange:function(){return this.max-this.range},setTickInterval:function(a){var b=this,e=b.chart,g=b.options,h=b.isLog,k=b.log2lin,m=b.isDatetimeAxis,n=b.isXAxis,l=b.isLinked,t=g.maxPadding,q=g.minPadding,
v=g.tickInterval,x=g.tickPixelInterval,y=b.categories,A=b.threshold,D=b.softThreshold,C,F,B,J;!m&&(!y&&!l)&&this.getTickAmount();B=H(b.userMin,g.min);J=H(b.userMax,g.max);l?(b.linkedParent=e[b.coll][g.linkedTo],e=b.linkedParent.getExtremes(),b.min=H(e.min,e.dataMin),b.max=H(e.max,e.dataMax),g.type!==b.linkedParent.options.type&&f.error(11,1)):(!D&&r(A)&&(b.dataMin>=A?(C=A,q=0):b.dataMax<=A&&(F=A,t=0)),b.min=H(B,C,b.dataMin),b.max=H(J,F,b.dataMax));h&&(b.positiveValuesOnly&&(!a&&0>=Math.min(b.min,
H(b.dataMin,b.min)))&&f.error(10,1),b.min=d(k(b.min),15),b.max=d(k(b.max),15));b.range&&r(b.max)&&(b.userMin=b.min=B=Math.max(b.min,b.minFromRange()),b.userMax=J=b.max,b.range=null);s(b,"foundExtremes");b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!y&&(!b.axisPointRange&&!b.usePercentage&&!l&&r(b.min)&&r(b.max))&&(k=b.max-b.min))!r(B)&&q&&(b.min-=k*q),!r(J)&&t&&(b.max+=k*t);E(g.floor)?b.min=Math.max(b.min,g.floor):E(g.softMin)&&(b.min=Math.min(b.min,g.softMin));E(g.ceiling)?b.max=Math.min(b.max,
g.ceiling):E(g.softMax)&&(b.max=Math.max(b.max,g.softMax));D&&r(b.dataMin)&&(A=A||0,!r(B)&&b.min<A&&b.dataMin>=A?b.min=A:!r(J)&&(b.max>A&&b.dataMax<=A)&&(b.max=A));b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:l&&!v&&x===b.linkedParent.options.tickPixelInterval?v=b.linkedParent.tickInterval:H(v,this.tickAmount?(b.max-b.min)/Math.max(this.tickAmount-1,1):void 0,y?1:(b.max-b.min)*x/Math.max(b.len,x));n&&!a&&p(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)});
b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval));b.pointRange&&!v&&(b.tickInterval=Math.max(b.pointRange,b.tickInterval));a=H(g.minTickInterval,b.isDatetimeAxis&&b.closestPointRange);!v&&b.tickInterval<a&&(b.tickInterval=a);!m&&(!h&&!v)&&(b.tickInterval=G(b.tickInterval,null,w(b.tickInterval),H(g.allowDecimals,!(0.5<b.tickInterval&&5>b.tickInterval&&1E3<b.max&&9999>b.max)),!!this.tickAmount));
this.tickAmount||(b.tickInterval=b.unsquish());this.setTickPositions()},setTickPositions:function(){var a=this.options,b,d=a.tickPositions,e=a.tickPositioner,f=a.startOnTick,g=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?0.5:0;this.minorTickInterval="auto"===a.minorTickInterval&&this.tickInterval?this.tickInterval/5:a.minorTickInterval;this.single=this.min===this.max&&r(this.min)&&!this.tickAmount&&!1!==a.allowDecimals;this.tickPositions=
b=d&&d.slice();if(!b&&(b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),b.length>this.len&&(b=[b[0],b.pop()]),this.tickPositions=b,e&&(e=e.apply(this,[this.min,this.max]))))this.tickPositions=b=e;this.paddedTicks=b.slice(0);this.trimTicks(b,
f,g);this.isLinked||(this.single&&(this.min-=0.5,this.max+=0.5),!d&&!e&&this.adjustTickAmount())},trimTicks:function(a,b,d){var e=a[0],f=a[a.length-1],g=this.minPointOffset||0;if(!this.isLinked){if(b)this.min=e;else for(;this.min-g>a[0];)a.shift();if(d)this.max=f;else for(;this.max+g<a[a.length-1];)a.pop();0===a.length&&r(e)&&a.push((f+e)/2)}},alignToOthers:function(){var a={},b,d=this.options;!1!==this.chart.options.chart.alignTicks&&(!1!==d.alignTicks&&!this.isLog)&&p(this.chart[this.coll],function(d){var e=
d.options,e=[d.horiz?e.left:e.top,e.width,e.height,e.pane].join();d.series.length&&(a[e]?b=!0:a[e]=1)});return b},getTickAmount:function(){var a=this.options,b=a.tickAmount,d=a.tickPixelInterval;!r(a.tickInterval)&&(this.len<d&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick)&&(b=2);!b&&this.alignToOthers()&&(b=Math.ceil(this.len/d)+1);4>b&&(this.finalTickAmt=b,b=5);this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,e=this.tickAmount,f=this.finalTickAmt,
g=b&&b.length;if(g<e){for(;b.length<e;)b.push(d(b[b.length-1]+a));this.transA*=(g-1)/(e-1);this.max=b[b.length-1]}else g>e&&(this.tickInterval*=2,this.setTickPositions());if(r(f)){for(a=e=b.length;a--;)(3===f&&1===a%2||2>=f&&0<a&&a<e-1)&&b.splice(a,1);this.finalTickAmt=void 0}},setScale:function(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;p(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=
!0});b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(a,b,d,e,f){var g=this,h=g.chart;d=H(d,!0);p(g.series,function(a){delete a.kdTree});
f=q(f,{min:a,max:b});s(g,"setExtremes",f,function(){g.userMin=a;g.userMax=b;g.eventArgs=f;d&&h.redraw(e)})},zoom:function(a,b){var d=this.dataMin,e=this.dataMax,f=this.options,g=Math.min(d,H(f.min,d)),f=Math.max(e,H(f.max,e));if(a!==this.min||b!==this.max)this.allowZoomOutside||(r(d)&&(a<g&&(a=g),a>f&&(a=f)),r(e)&&(b<g&&(b=g),b>f&&(b=f))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"});return!0},setAxisSize:function(){var a=this.chart,b=this.options,d=b.offsets||
[0,0,0,0],e=this.horiz,f=H(b.width,a.plotWidth-d[3]+d[1]),g=H(b.height,a.plotHeight-d[0]+d[2]),h=H(b.top,a.plotTop+d[0]),b=H(b.left,a.plotLeft+d[3]),d=/%$/;d.test(g)&&(g=Math.round(parseFloat(g)/100*a.plotHeight));d.test(h)&&(h=Math.round(parseFloat(h)/100*a.plotHeight+a.plotTop));this.left=b;this.top=h;this.width=f;this.height=g;this.bottom=a.chartHeight-g-h;this.right=a.chartWidth-f-b;this.len=Math.max(e?f:g,0);this.pos=e?b:h},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?
d(b(this.min)):this.min,max:a?d(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,d=this.lin2log,e=b?d(this.min):this.min,b=b?d(this.max):this.max;null===a?a=e:e>a?a=e:b<a&&(a=b);return this.translate(a,0,1,0,1)},autoLabelAlign:function(a){a=(H(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center"},tickSize:function(a){var b=this.options,d=b[a+"Length"],e=H(b[a+"Width"],
"tick"===a&&this.isXAxis?1:0);if(e&&d)return"inside"===b[a+"Position"]&&(d=-d),[d,e]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var a=this.options.labels,d=this.horiz,e=this.tickInterval,f=e,g=this.len/(((this.categories?1:0)+this.max-this.min)/e),h,k=a.rotation,m=this.labelMetrics(),n,l=Number.MAX_VALUE,t,q=function(a){a/=g||1;a=1<a?Math.ceil(a):1;return a*e};
d?(t=!a.staggerLines&&!a.step&&(r(k)?[k]:g<H(a.autoRotationLimit,80)&&a.autoRotation))&&p(t,function(a){var d;if(a===k||a&&-90<=a&&90>=a)n=q(Math.abs(m.h/Math.sin(b*a))),d=n+Math.abs(a/360),d<l&&(l=d,h=a,f=n)}):a.step||(f=q(m.h));this.autoRotation=t;this.labelRotation=H(h,k);return f},getSlotWidth:function(){var a=this.chart,b=this.horiz,d=this.options.labels,e=Math.max(this.tickPositions.length-(this.categories?0:1),1),f=a.margin[3];return b&&2>(d.step||0)&&!d.rotation&&(this.staggerLines||1)*this.len/
e||!b&&(f&&f-a.spacing[3]||0.33*a.chartWidth)},renderUnsquish:function(){var a=this.chart,b=a.renderer,d=this.tickPositions,e=this.ticks,f=this.options.labels,g=this.horiz,h=this.getSlotWidth(),k=Math.max(1,Math.round(h-2*(f.padding||5))),r={},m=this.labelMetrics(),n=f.style&&f.style.textOverflow,l,t=0,q,s;B(f.rotation)||(r.rotation=f.rotation||0);p(d,function(a){if((a=e[a])&&a.labelLength>t)t=a.labelLength});this.maxLabelLength=t;if(this.autoRotation)t>k&&t>m.h?r.rotation=this.labelRotation:this.labelRotation=
0;else if(h&&(l={width:k+"px"},!n)){l.textOverflow="clip";for(q=d.length;!g&&q--;)if(s=d[q],k=e[s].label)k.styles&&"ellipsis"===k.styles.textOverflow?k.css({textOverflow:"clip"}):e[s].labelLength>h&&k.css({width:h+"px"}),k.getBBox().height>this.len/d.length-(m.h-m.f)&&(k.specCss={textOverflow:"ellipsis"})}r.rotation&&(l={width:(t>0.5*a.chartHeight?0.33*a.chartHeight:a.chartHeight)+"px"},n||(l.textOverflow="ellipsis"));if(this.labelAlign=f.align||this.autoLabelAlign(this.labelRotation))r.align=this.labelAlign;
p(d,function(a){var b=(a=e[a])&&a.label;b&&(b.attr(r),l&&b.css(C(l,b.specCss)),delete b.specCss,a.rotation=r.rotation)});this.tickRotCorr=b.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||r(this.min)&&r(this.max)&&!!this.tickPositions},addTitle:function(a){var b=this.chart.renderer,d=this.horiz,e=this.opposite,f=this.options.title,g;this.axisTitle||((g=f.textAlign)||(g=(d?{low:"left",middle:"center",high:"right"}:{low:e?"right":"left",middle:"center",
high:e?"left":"right"})[f.align]),this.axisTitle=b.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:g}).addClass("highcharts-axis-title").css(f.style).add(this.axisGroup),this.axisTitle.isNew=!0);this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new M(this,a)},getOffset:function(){var a=this,b=a.chart,d=b.renderer,e=a.options,f=a.tickPositions,g=a.ticks,h=a.horiz,k=a.side,m=b.inverted?[1,0,3,2][k]:k,n,l,t=0,q,s=0,v=e.title,
w=e.labels,x=0,y=b.axisOffset,b=b.clipOffset,z=[-1,1,1,-1][k],A,D=e.className,E=a.axisParent,C=this.tickSize("tick");n=a.hasData();a.showAxis=l=n||H(e.showEmpty,!0);a.staggerLines=a.horiz&&w.staggerLines;a.axisGroup||(a.gridGroup=d.g("grid").attr({zIndex:e.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(D||"")).add(E),a.axisGroup=d.g("axis").attr({zIndex:e.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(D||"")).add(E),a.labelGroup=d.g("axis-labels").attr({zIndex:w.zIndex||
7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(D||"")).add(E));if(n||a.isLinked)p(f,function(b,d){a.generateTick(b,d)}),a.renderUnsquish(),!1!==w.reserveSpace&&(0===k||2===k||{1:"left",3:"right"}[k]===a.labelAlign||"center"===a.labelAlign)&&p(f,function(a){x=Math.max(g[a].getLabelSize(),x)}),a.staggerLines&&(x*=a.staggerLines,a.labelOffset=x*(a.opposite?-1:1));else for(A in g)g[A].destroy(),delete g[A];v&&(v.text&&!1!==v.enabled)&&(a.addTitle(l),l&&(t=a.axisTitle.getBBox()[h?"height":
"width"],q=v.offset,s=r(q)?0:H(v.margin,h?5:10)));a.renderLine();a.offset=z*H(e.offset,y[k]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};d=0===k?-a.labelMetrics().h:2===k?a.tickRotCorr.y:0;s=Math.abs(x)+s;x&&(s=s-d+z*(h?H(w.y,a.tickRotCorr.y+8*z):w.x));a.axisTitleMargin=H(q,s);y[k]=Math.max(y[k],a.axisTitleMargin+t+z*a.offset,s,n&&f.length&&C?C[0]+z*a.offset:0);e=e.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2);b[m]=Math.max(b[m],e)},getLinePath:function(a){var b=this.chart,d=this.opposite,e=this.offset,
f=this.horiz,g=this.left+(d?this.width:0)+e,e=b.chartHeight-this.bottom-(d?this.height:0)+e;d&&(a*=-1);return b.renderer.crispLine(["M",f?this.left:g,f?e:this.top,"L",f?b.chartWidth-this.right:g,f?e:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,
b=this.left,d=this.top,e=this.len,f=this.options.title,g=a?b:d,h=this.opposite,k=this.offset,r=f.x||0,m=f.y||0,n=this.chart.renderer.fontMetrics(f.style&&f.style.fontSize,this.axisTitle).f,e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],b=(a?d+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?n:0);return{x:a?e+r:b+(h?this.width:0)+k+r,y:a?b+m-(h?this.height:0)+k:e+m}},renderMinorTick:function(a){var b=this.chart.hasRendered&&E(this.oldMin),d=this.minorTicks;d[a]||(d[a]=new M(this,
a,"minor"));b&&d[a].isNew&&d[a].render(null,!0);d[a].render(null,!1,1)},renderTick:function(a,b){var d=this.isLinked,e=this.ticks,f=this.chart.hasRendered&&E(this.oldMin);if(!d||a>=this.min&&a<=this.max)e[a]||(e[a]=new M(this,a)),f&&e[a].isNew&&e[a].render(b,!0,0.1),e[a].render(b)},render:function(){var a=this,b=a.chart,d=a.options,e=a.isLog,f=a.lin2log,g=a.isLinked,h=a.tickPositions,k=a.axisTitle,r=a.ticks,m=a.minorTicks,l=a.alternateBands,t=d.stackLabels,q=d.alternateGridColor,s=a.tickmarkOffset,
v=a.axisLine,w=a.showAxis,x=n(b.renderer.globalAnimation),y,z;a.labelEdge.length=0;a.overlap=!1;p([r,m,l],function(a){for(var b in a)a[b].isActive=!1});if(a.hasData()||g){a.minorTickInterval&&!a.categories&&p(a.getMinorTickPositions(),function(b){a.renderMinorTick(b)});if(h.length&&(p(h,function(b,d){a.renderTick(b,d)}),s&&(0===a.min||a.single)))r[-1]||(r[-1]=new M(a,-1,null,!0)),r[-1].render(-1);q&&p(h,function(d,g){z=void 0!==h[g+1]?h[g+1]+s:a.max-s;if(0===g%2&&d<a.max&&z<=a.max+(b.polar?-s:s))l[d]||
(l[d]=new L(a)),y=d+s,l[d].options={from:e?f(y):y,to:e?f(z):z,color:q},l[d].render(),l[d].isActive=!0});a._addedPlotLB||(p((d.plotLines||[]).concat(d.plotBands||[]),function(b){a.addPlotBandOrLine(b)}),a._addedPlotLB=!0)}p([r,m,l],function(a){var d,e,f=[],g=x.duration;for(d in a)a[d].isActive||(a[d].render(d,!1,0),a[d].isActive=!1,f.push(d));J(function(){for(e=f.length;e--;)a[f[e]]&&!a[f[e]].isActive&&(a[f[e]].destroy(),delete a[f[e]])},a===l||!b.hasRendered||!g?0:g)});v&&(v[v.isPlaced?"animate":
"attr"]({d:this.getLinePath(v.strokeWidth())}),v.isPlaced=!0,v[w?"show":"hide"](!0));k&&w&&(k[k.isNew?"attr":"animate"](a.getTitlePosition()),k.isNew=!1);t&&t.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){this.visible&&(this.render(),p(this.plotLinesAndBands,function(a){a.render()}));p(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var b=this,d=b.stacks,e,f=b.plotLinesAndBands,g;a||F(b);for(e in d)l(d[e]),
d[e]=null;p([b.ticks,b.minorTicks,b.alternateBands],function(a){l(a)});if(f)for(a=f.length;a--;)f[a].destroy();p("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())});for(g in b)b.hasOwnProperty(g)&&-1===A(g,b.keepProps)&&delete b[g]},drawCrosshair:function(a,b){var d,e=this.crosshair,f=H(e.snap,!0),h,k=this.cross;a||(a=this.cross&&this.cross.e);!this.crosshair||!1===(r(b)||!f)?this.hideCrosshair():(f?r(b)&&(h=this.isXAxis?b.plotX:
this.len-b.plotY):h=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),r(h)&&(d=this.getPlotLinePath(b&&(this.isXAxis?b.x:H(b.stackY,b.y)),null,null,null,h)||null),r(d)?(f=this.categories&&!this.isRadial,k||(this.cross=k=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(f?"category ":"thin ")+e.className).attr({zIndex:H(e.zIndex,2)}).add(),k.attr({stroke:e.color||(f?g("#ccd6eb").setOpacity(0.25).get():"#cccccc"),"stroke-width":H(e.width,1)}),e.dashStyle&&
k.attr({dashstyle:e.dashStyle})),k.show().attr({d:d}),f&&!e.width&&k.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair())},hideCrosshair:function(){this.cross&&this.cross.hide()}};q(f.Axis.prototype,e)})(l);(function(f){var k=f.Axis,n=f.Date,m=f.dateFormat,h=f.defaultOptions,e=f.defined,g=f.each,d=f.extend,a=f.getMagnitude,r=f.getTZOffset,b=f.normalizeTickInterval,l=f.pick,p=f.timeUnits;k.prototype.getTimeTicks=function(a,b,f,k){var q=[],s={},D=h.global.useUTC,E,B=new n(b-Math.abs(r(b))),
C=n.hcMakeTime,G=a.unitRange,H=a.count,L;if(e(b)){B[n.hcSetMilliseconds](G>=p.second?0:H*Math.floor(B.getMilliseconds()/H));if(G>=p.second)B[n.hcSetSeconds](G>=p.minute?0:H*Math.floor(B.getSeconds()/H));if(G>=p.minute)B[n.hcSetMinutes](G>=p.hour?0:H*Math.floor(B[n.hcGetMinutes]()/H));if(G>=p.hour)B[n.hcSetHours](G>=p.day?0:H*Math.floor(B[n.hcGetHours]()/H));if(G>=p.day)B[n.hcSetDate](G>=p.month?1:H*Math.floor(B[n.hcGetDate]()/H));G>=p.month&&(B[n.hcSetMonth](G>=p.year?0:H*Math.floor(B[n.hcGetMonth]()/
H)),E=B[n.hcGetFullYear]());if(G>=p.year)B[n.hcSetFullYear](E-E%H);if(G===p.week)B[n.hcSetDate](B[n.hcGetDate]()-B[n.hcGetDay]()+l(k,1));E=B[n.hcGetFullYear]();k=B[n.hcGetMonth]();var F=B[n.hcGetDate](),K=B[n.hcGetHours]();if(n.hcTimezoneOffset||n.hcGetTimezoneOffset)L=(!D||!!n.hcGetTimezoneOffset)&&(f-b>4*p.month||r(b)!==r(f)),B=B.getTime(),B=new n(B+r(B));D=B.getTime();for(b=1;D<f;)q.push(D),D=G===p.year?C(E+b*H,0):G===p.month?C(E,k+b*H):L&&(G===p.day||G===p.week)?C(E,k,F+b*H*(G===p.day?1:7)):L&&
G===p.hour?C(E,k,F,K+b*H):D+G*H,b++;q.push(D);G<=p.hour&&1E4>q.length&&g(q,function(a){0===a%18E5&&"000000000"===m("%H%M%S%L",a)&&(s[a]="day")})}q.info=d(a,{higherRanks:s,totalRange:G*H});return q};k.prototype.normalizeTimeTickInterval=function(d,e){var f=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],g=f[f.length-1],h=p[g[0]],k=g[1],r;for(r=0;r<
f.length&&!(g=f[r],h=p[g[0]],k=g[1],f[r+1]&&d<=(h*k[k.length-1]+p[f[r+1][0]])/2);r++);h===p.year&&d<5*h&&(k=[1,2,5]);f=b(d/h,k,"year"===g[0]?Math.max(a(d/h),1):1);return{unitRange:h,count:f,unitName:g[0]}}})(l);(function(f){var k=f.Axis,n=f.getMagnitude,m=f.map,h=f.normalizeTickInterval,e=f.pick;k.prototype.getLogTickPositions=function(f,d,a,k){var b=this.options,l=this.len,p=this.lin2log,q=this.log2lin,s=[];k||(this._minorAutoInterval=null);if(0.5<=f)f=Math.round(f),s=this.getLinearTickPositions(f,
d,a);else if(0.08<=f)for(var l=Math.floor(d),y,w,x,A,D,b=0.3<f?[1,2,4]:0.15<f?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<a+1&&!D;l++){w=b.length;for(y=0;y<w&&!D;y++)x=q(p(l)*b[y]),x>d&&((!k||A<=a)&&void 0!==A)&&s.push(A),A>a&&(D=!0),A=x}else d=p(d),a=p(a),f=b[k?"minorTickInterval":"tickInterval"],f=e("auto"===f?null:f,this._minorAutoInterval,(a-d)*(b.tickPixelInterval/(k?5:1))/((k?l/this.tickPositions.length:l)||1)),f=h(f,null,n(f)),s=m(this.getLinearTickPositions(f,d,a),q),k||(this._minorAutoInterval=f/5);
k||(this.tickInterval=f);return s};k.prototype.log2lin=function(e){return Math.log(e)/Math.LN10};k.prototype.lin2log=function(e){return Math.pow(10,e)}})(l);(function(f){var k=f.dateFormat,n=f.each,m=f.extend,h=f.format,e=f.isNumber,g=f.map,d=f.merge,a=f.pick,r=f.splat,b=f.syncTimeout,l=f.timeUnits;f.Tooltip=function(){this.init.apply(this,arguments)};f.Tooltip.prototype={init:function(a,b){this.chart=a;this.options=b;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=b.split&&!a.inverted;
this.shared=b.shared||this.split},cleanSplit:function(a){n(this.chart.series,function(b){var d=b&&b.tt;d&&(!d.isActive||a?b.tt=d.destroy():d.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,b=this.options;this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:b.padding,r:b.borderRadius}),this.label.attr({fill:b.backgroundColor,"stroke-width":b.borderWidth}).css(b.style).shadow(b.shadow)),this.label.attr({zIndex:8}).add());
return this.label},update:function(a){this.destroy();this.init(this.chart,d(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(a,b,d,e){var f=this,g=f.now,h=!1!==f.options.animation&&!f.isHidden&&(1<Math.abs(a-g.x)||1<Math.abs(b-g.y)),k=f.followPointer||1<f.len;m(g,{x:h?(2*g.x+a)/3:a,y:h?(g.y+b)/2:b,anchorX:k?
void 0:h?(2*g.anchorX+d)/3:d,anchorY:k?void 0:h?(g.anchorY+e)/2:e});f.getLabel().attr(g);h&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(a,b,d,e)},32))},hide:function(d){var e=this;clearTimeout(this.hideTimer);d=a(d,this.options.hideDelay,500);this.isHidden||(this.hideTimer=b(function(){e.getLabel()[d?"fadeOut":"hide"]();e.isHidden=!0},d))},getAnchor:function(a,b){var d,e=this.chart,f=e.inverted,h=e.plotTop,k=e.plotLeft,m=0,l=0,t,p;a=r(a);d=a[0].tooltipPos;
this.followPointer&&b&&(void 0===b.chartX&&(b=e.pointer.normalize(b)),d=[b.chartX-e.plotLeft,b.chartY-h]);d||(n(a,function(a){t=a.series.yAxis;p=a.series.xAxis;m+=a.plotX+(!f&&p?p.left-k:0);l+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&t?t.top-h:0)}),m/=a.length,l/=a.length,d=[f?e.plotWidth-l:m,this.shared&&!f&&1<a.length&&b?b.chartY-h:f?e.plotHeight-m:l]);return g(d,Math.round)},getPosition:function(b,d,e){var f=this.chart,g=this.distance,h={},k=e.h||0,r,m=["y",f.chartHeight,d,e.plotY+f.plotTop,
f.plotTop,f.plotTop+f.plotHeight],n=["x",f.chartWidth,b,e.plotX+f.plotLeft,f.plotLeft,f.plotLeft+f.plotWidth],l=!this.followPointer&&a(e.ttBelow,!f.inverted===!!e.negative),t=function(a,b,d,e,f,r){var m=d<e-g,n=e+g+d<b,t=e-g-d;e+=g;if(l&&n)h[a]=e;else if(!l&&m)h[a]=t;else if(m)h[a]=Math.min(r-d,0>t-k?t:t-k);else if(n)h[a]=Math.max(f,e+k+d>b?e:e+k);else return!1},p=function(a,b,d,e){var f;e<g||e>b-g?f=!1:h[a]=e<d/2?1:e>b-d/2?b-d-2:e-d/2;return f},q=function(a){var b=m;m=n;n=b;r=a},s=function(){!1!==
t.apply(0,m)?!1===p.apply(0,n)&&!r&&(q(!0),s()):r?h.x=h.y=0:(q(!0),s())};(f.inverted||1<this.len)&&q();s();return h},defaultFormatter:function(a){var b=this.points||r(this),d;d=[a.tooltipFooterHeaderFormatter(b[0])];d=d.concat(a.bodyFormatter(b));d.push(a.tooltipFooterHeaderFormatter(b[0],!0));return d},refresh:function(b,d){var e,f=this.options,g,h,k=b,m,l={},t=[];e=f.formatter||this.defaultFormatter;var l=this.shared,p;clearTimeout(this.hideTimer);this.followPointer=r(k)[0].series.tooltipOptions.followPointer;
m=this.getAnchor(k,d);g=m[0];h=m[1];l&&(!k.series||!k.series.noSharedTooltip)?(n(k,function(a){a.setState("hover");t.push(a.getLabelConfig())}),l={x:k[0].category,y:k[0].y},l.points=t,k=k[0]):l=k.getLabelConfig();this.len=t.length;l=e.call(l,this);p=k.series;this.distance=a(p.tooltipOptions.distance,16);!1===l?this.hide():(e=this.getLabel(),this.isHidden&&e.attr({opacity:1}).show(),this.split?this.renderSplit(l,b):(e.attr({text:l&&l.join?l.join(""):l}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+
a(k.colorIndex,p.colorIndex)),e.attr({stroke:f.borderColor||k.color||p.color||"#666666"}),this.updatePosition({plotX:g,plotY:h,negative:k.negative,ttBelow:k.ttBelow,h:m[2]||0})),this.isHidden=!1)},renderSplit:function(b,d){var e=this,g=[],h=this.chart,k=h.renderer,r=!0,m=this.options,l,t=this.getLabel();n(b.slice(0,d.length+1),function(b,f){var n=d[f-1]||{isHeader:!0,plotX:d[0].plotX},p=n.series||e,q=p.tt,u=n.series||{},s="highcharts-color-"+a(n.colorIndex,u.colorIndex,"none");q||(p.tt=q=k.label(null,
null,null,"callout").addClass("highcharts-tooltip-box "+s).attr({padding:m.padding,r:m.borderRadius,fill:m.backgroundColor,stroke:n.color||u.color||"#333333","stroke-width":m.borderWidth}).add(t));q.isActive=!0;q.attr({text:b});q.css(m.style);u=q.getBBox();s=u.width+q.strokeWidth();n.isHeader?(l=u.height,s=Math.max(0,Math.min(n.plotX+h.plotLeft-s/2,h.chartWidth-s))):s=n.plotX+h.plotLeft-a(m.distance,16)-s;0>s&&(r=!1);u=(n.series&&n.series.yAxis&&n.series.yAxis.pos)+(n.plotY||0);u-=h.plotTop;g.push({target:n.isHeader?
h.plotHeight+l:u,rank:n.isHeader?1:0,size:p.tt.getBBox().height+1,point:n,x:s,tt:q})});this.cleanSplit();f.distribute(g,h.plotHeight+l);n(g,function(b){var d=b.point,e=d.series;b.tt.attr({visibility:void 0===b.pos?"hidden":"inherit",x:r||d.isHeader?b.x:d.plotX+h.plotLeft+a(m.distance,16),y:b.pos+h.plotTop,anchorX:d.isHeader?d.plotX+h.plotLeft:d.plotX+e.xAxis.pos,anchorY:d.isHeader?b.pos+h.plotTop-15:d.plotY+e.yAxis.pos})})},updatePosition:function(a){var b=this.chart,d=this.getLabel(),d=(this.options.positioner||
this.getPosition).call(this,d.width,d.height,a);this.move(Math.round(d.x),Math.round(d.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getDateFormat:function(a,b,d,e){var f=k("%m-%d %H:%M:%S.%L",b),g,h,r={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(h in l){if(a===l.week&&+k("%w",b)===d&&"00:00:00.000"===f.substr(6)){h="week";break}if(l[h]>a){h=m;break}if(r[h]&&f.substr(r[h])!=="01-01 00:00:00.000".substr(r[h]))break;"week"!==h&&(m=h)}h&&(g=e[h]);return g},getXDateFormat:function(a,
b,d){b=b.dateTimeLabelFormats;var e=d&&d.closestPointRange;return(e?this.getDateFormat(e,a.x,d.options.startOfWeek,b):b.day)||b.year},tooltipFooterHeaderFormatter:function(a,b){var d=b?"footer":"header",f=a.series,g=f.tooltipOptions,k=g.xDateFormat,r=f.xAxis,m=r&&"datetime"===r.options.type&&e(a.key),d=g[d+"Format"];m&&!k&&(k=this.getXDateFormat(a,g,r));m&&k&&(d=d.replace("{point.key}","{point.key:"+k+"}"));return h(d,{point:a,series:f})},bodyFormatter:function(a){return g(a,function(a){var b=a.series.tooltipOptions;
return(b.pointFormatter||a.point.tooltipFormatter).call(a.point,b.pointFormat)})}}})(l);(function(f){var k=f.addEvent,n=f.attr,m=f.charts,h=f.color,e=f.css,g=f.defined,d=f.doc,a=f.each,r=f.extend,b=f.fireEvent,l=f.offset,p=f.pick,q=f.removeEvent,s=f.splat,y=f.Tooltip,w=f.win;f.Pointer=function(a,b){this.init(a,b)};f.Pointer.prototype={init:function(a,b){this.options=b;this.chart=a;this.runChartClick=b.chart.events&&!!b.chart.events.click;this.pinchDown=[];this.lastValidTouch={};y&&b.tooltip.enabled&&
(a.tooltip=new y(a,b.tooltip),this.followTouchMove=p(b.tooltip.followTouchMove,!0));this.setDOMEvents()},zoomOption:function(a){var b=this.chart,d=b.options.chart,e=d.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(e=p(d.pinchType,e));this.zoomX=a=/x/.test(e);this.zoomY=e=/y/.test(e);this.zoomHor=a&&!b||e&&b;this.zoomVert=e&&!b||a&&b;this.hasZoom=a||e},normalize:function(a,b){var d,e;a=a||w.event;a.target||(a.target=a.srcElement);e=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:
a;b||(this.chartPosition=b=l(this.chart.container));void 0===e.pageX?(d=Math.max(a.x,a.clientX-b.left),e=a.y):(d=e.pageX-b.left,e=e.pageY-b.top);return r(a,{chartX:Math.round(d),chartY:Math.round(e)})},getCoordinates:function(b){var d={xAxis:[],yAxis:[]};a(this.chart.axes,function(a){d[a.isXAxis?"xAxis":"yAxis"].push({axis:a,value:a.toValue(b[a.horiz?"chartX":"chartY"])})});return d},getKDPoints:function(b,d,e){var f=[],g,h,k;a(b,function(a){g=a.noSharedTooltip&&d;h=!d&&a.directTouch;a.visible&&!g&&
!h&&p(a.options.enableMouseTracking,!0)&&(k=a.searchPoint(e,!g&&1===a.kdDimensions))&&k.series&&f.push(k)});f.sort(function(a,b){var e=a.distX-b.distX,f=a.dist-b.dist,g=(b.series.group&&b.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);return 0!==e&&d?e:0!==f?f:0!==g?g:a.series.index>b.series.index?-1:1});if(d)for(b=f.length;b--;)(f[b].x!==f[0].x||f[b].series.noSharedTooltip)&&f.splice(b,1);return f},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=a.parentNode;return b},
getHoverData:function(b,d,e,f,g,h){var k=b;b=d;var r;if(f)g?(r=[],a(e,function(a){var b=a.noSharedTooltip&&g,d=!g&&a.directTouch;a.visible&&!b&&!d&&p(a.options.enableMouseTracking,!0)&&(a=a.searchKDTree({clientX:k.clientX,plotY:k.plotY},!b&&1===a.kdDimensions))&&a.series&&r.push(a)}),0===r.length&&(r=[k])):r=[k];else{if(b&&!b.options.stickyTracking)r=this.getKDPoints([b],g,h);else{if(!g)if(b)b.options.stickyTracking||(e=[b]);else for(f=0;f<e.length;f++)if(e[f].directTouch||!e[f].options.stickyTracking)e=
[];r=this.getKDPoints(e,g,h)}b=(k=r[0])&&k.series}r.sort(function(a,b){return a.series.index-b.series.index});return{hoverPoint:k,hoverSeries:b,hoverPoints:r}},runPointActions:function(b,e){var g=this.chart,h=g.tooltip,r=h?h.shared:!1,n=e||g.hoverPoint,l=n&&n.series||g.hoverSeries,t=this.getHoverData(n,l,g.series,!!e||l&&l.directTouch,r,b),p,q,n=t.hoverPoint;p=(l=t.hoverSeries)&&l.tooltipOptions.followPointer;q=(r=r&&n&&!n.series.noSharedTooltip)?t.hoverPoints:[n];if(n&&(n!==g.hoverPoint||h&&h.isHidden)){a(g.hoverPoints||
[],function(a){-1===f.inArray(a,q)&&a.setState()});a(q||[],function(a){a.setState("hover")});if(g.hoverSeries!==l)l.onMouseOver();l&&!l.directTouch&&(g.hoverPoint&&g.hoverPoint.firePointEvent("mouseOut"),n.firePointEvent("mouseOver"));g.hoverPoints=q;g.hoverPoint=n;h&&h.refresh(r?q:n,b)}else p&&(h&&!h.isHidden)&&(n=h.getAnchor([{}],b),h.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=k(d,"mousemove",function(a){var b=m[f.hoverChartIndex];if(b)b.pointer.onDocumentMouseMove(a)}));
a(q,function(d){a(g.axes,function(a){(!d||d.series&&d.series[a.coll]===a)&&a.drawCrosshair(b,d)})})},reset:function(b,d){var e=this.chart,f=e.hoverSeries,g=e.hoverPoint,h=e.hoverPoints,k=e.tooltip,r=k&&k.shared?h:g;b&&r&&a(s(r),function(a){a.series.isCartesian&&void 0===a.plotX&&(b=!1)});if(b)k&&r&&(k.refresh(r),g&&(g.setState(g.state,!0),a(e.axes,function(a){a.crosshair&&a.drawCrosshair(null,g)})));else{if(g)g.onMouseOut();h&&a(h,function(a){a.setState()});if(f)f.onMouseOut();k&&k.hide(d);this.unDocMouseMove&&
(this.unDocMouseMove=this.unDocMouseMove());a(e.axes,function(a){a.hideCrosshair()});this.hoverX=e.hoverPoints=e.hoverPoint=null}},scaleGroups:function(b,d){var e=this.chart,f;a(e.series,function(a){f=b||a.getPlotBox();a.xAxis&&(a.xAxis.zoomEnabled&&a.group)&&(a.group.attr(f),a.markerGroup&&(a.markerGroup.attr(f),a.markerGroup.clip(d?e.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(f))});e.clipRect.attr(d||e.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=
!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b=this.chart,d=b.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,k=this.zoomVert,r=b.plotLeft,m=b.plotTop,n=b.plotWidth,l=b.plotHeight,t,p=this.selectionMarker,q=this.mouseDownX,u=this.mouseDownY,s=d.panKey&&a[d.panKey+"Key"];if(!p||!p.touch)if(e<r?e=r:e>r+n&&(e=r+n),f<m?f=m:f>m+l&&(f=m+l),this.hasDragged=Math.sqrt(Math.pow(q-e,2)+Math.pow(u-f,2)),10<this.hasDragged){t=b.isInsidePlot(q-r,u-m);if(b.hasCartesianSeries&&
((this.zoomX||this.zoomY)&&t&&!s)&&!p)this.selectionMarker=p=b.renderer.rect(r,m,g?1:n,k?1:l,0).attr({fill:d.selectionMarkerFill||h("#335cad").setOpacity(0.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add();p&&g&&(e-=q,p.attr({width:Math.abs(e),x:(0<e?0:e)+q}));p&&k&&(e=f-u,p.attr({height:Math.abs(e),y:(0<e?0:e)+u}));t&&(!p&&d.panning)&&b.pan(a,d.panning)}},drop:function(d){var f=this,h=this.chart,k=this.hasPinched;if(this.selectionMarker){var m={originalEvent:d,xAxis:[],yAxis:[]},n=
this.selectionMarker,l=n.attr?n.attr("x"):n.x,t=n.attr?n.attr("y"):n.y,p=n.attr?n.attr("width"):n.width,q=n.attr?n.attr("height"):n.height,u;if(this.hasDragged||k)a(h.axes,function(a){if(a.zoomEnabled&&g(a.min)&&(k||f[{xAxis:"zoomX",yAxis:"zoomY"}[a.coll]])){var b=a.horiz,e="touchend"===d.type?a.minPixelPadding:0,h=a.toValue((b?l:t)+e),b=a.toValue((b?l+p:t+q)-e);m[a.coll].push({axis:a,min:Math.min(h,b),max:Math.max(h,b)});u=!0}}),u&&b(h,"selection",m,function(a){h.zoom(r(a,k?{animation:!1}:null))});
this.selectionMarker=this.selectionMarker.destroy();k&&this.scaleGroups()}h&&(e(h.container,{cursor:h._cursor}),h.cancelClick=10<this.hasDragged,h.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a);this.zoomOption(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){m[f.hoverChartIndex]&&m[f.hoverChartIndex].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,d=this.chartPosition;
a=this.normalize(a,d);d&&(!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&this.reset()},onContainerMouseLeave:function(a){var b=m[f.hoverChartIndex];if(b&&(a.relatedTarget||a.toElement))b.pointer.reset(),b.pointer.chartPosition=null},onContainerMouseMove:function(a){var b=this.chart;if(!g(f.hoverChartIndex)||!m[f.hoverChartIndex]||!m[f.hoverChartIndex].mouseIsDown)f.hoverChartIndex=b.index;a=this.normalize(a);a.returnValue=!1;"mousedown"===b.mouseIsDown&&
this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var d;a;){if(d=n(a,"class")){if(-1!==d.indexOf(b))return!0;if(-1!==d.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement;if(b&&a&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&(!this.inClass(a,"highcharts-series-"+
b.index)||!this.inClass(a,"highcharts-tracker")))b.onMouseOut()},onContainerClick:function(a){var d=this.chart,e=d.hoverPoint,f=d.plotLeft,g=d.plotTop;a=this.normalize(a);d.cancelClick||(e&&this.inClass(a.target,"highcharts-tracker")?(b(e.series,"click",r(a,{point:e})),d.hoverPoint&&e.firePointEvent("click",a)):(r(a,this.getCoordinates(a)),d.isInsidePlot(a.chartX-f,a.chartY-g)&&b(d,"click",a)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)};
b.onmousemove=function(b){a.onContainerMouseMove(b)};b.onclick=function(b){a.onContainerClick(b)};k(b,"mouseleave",a.onContainerMouseLeave);1===f.chartCount&&k(d,"mouseup",a.onDocumentMouseUp);f.hasTouch&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===f.chartCount&&k(d,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;q(this.chart.container,"mouseleave",this.onContainerMouseLeave);f.chartCount||(q(d,"mouseup",this.onDocumentMouseUp),
q(d,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}}})(l);(function(f){var k=f.charts,n=f.each,m=f.extend,h=f.map,e=f.noop,g=f.pick;m(f.Pointer.prototype,{pinchTranslate:function(d,a,e,b,f,g){this.zoomHor&&this.pinchTranslateDirection(!0,d,a,e,b,f,g);this.zoomVert&&this.pinchTranslateDirection(!1,d,a,e,b,f,g)},pinchTranslateDirection:function(d,a,e,b,f,g,h,k){var m=this.chart,n=d?"x":"y",l=d?"X":"Y",p="chart"+l,q=d?"width":"height",s=m["plot"+(d?
"Left":"Top")],B,C,G=k||1,H=m.inverted,L=m.bounds[d?"h":"v"],F=1===a.length,K=a[0][p],J=e[0][p],M=!F&&a[1][p],I=!F&&e[1][p],O;e=function(){!F&&20<Math.abs(K-M)&&(G=k||Math.abs(J-I)/Math.abs(K-M));C=(s-J)/G+K;B=m["plot"+(d?"Width":"Height")]/G};e();a=C;a<L.min?(a=L.min,O=!0):a+B>L.max&&(a=L.max-B,O=!0);O?(J-=0.8*(J-h[n][0]),F||(I-=0.8*(I-h[n][1])),e()):h[n]=[J,I];H||(g[n]=C-s,g[q]=B);g=H?1/G:G;f[q]=B;f[n]=a;b[H?d?"scaleY":"scaleX":"scale"+l]=G;b["translate"+l]=g*s+(J-g*K)},pinch:function(d){var a=
this,f=a.chart,b=a.pinchDown,k=d.touches,l=k.length,p=a.lastValidTouch,q=a.hasZoom,s=a.selectionMarker,w={},x=1===l&&(a.inClass(d.target,"highcharts-tracker")&&f.runTrackerClick||a.runChartClick),A={};1<l&&(a.initiated=!0);q&&(a.initiated&&!x)&&d.preventDefault();h(k,function(b){return a.normalize(b)});"touchstart"===d.type?(n(k,function(a,d){b[d]={chartX:a.chartX,chartY:a.chartY}}),p.x=[b[0].chartX,b[1]&&b[1].chartX],p.y=[b[0].chartY,b[1]&&b[1].chartY],n(f.axes,function(a){if(a.zoomEnabled){var b=
f.bounds[a.horiz?"h":"v"],d=a.minPixelPadding,e=a.toPixels(g(a.options.min,a.dataMin)),h=a.toPixels(g(a.options.max,a.dataMax)),k=Math.min(e,h),e=Math.max(e,h);b.min=Math.min(a.pos,k-d);b.max=Math.max(a.pos+a.len,e+d)}}),a.res=!0):a.followTouchMove&&1===l?this.runPointActions(a.normalize(d)):b.length&&(s||(a.selectionMarker=s=m({destroy:e,touch:!0},f.plotBox)),a.pinchTranslate(b,k,w,s,A,p),a.hasPinched=q,a.scaleGroups(w,A),a.res&&(a.res=!1,this.reset(!1,0)))},touch:function(d,a){var e=this.chart,
b,h;if(e.index!==f.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});f.hoverChartIndex=e.index;1===d.touches.length?(d=this.normalize(d),(h=e.isInsidePlot(d.chartX-e.plotLeft,d.chartY-e.plotTop))&&!e.openMenu?(a&&this.runPointActions(d),"touchmove"===d.type&&(e=this.pinchDown,b=e[0]?4<=Math.sqrt(Math.pow(e[0].chartX-d.chartX,2)+Math.pow(e[0].chartY-d.chartY,2)):!1),g(b,!0)&&this.pinch(d)):a&&this.reset()):2===d.touches.length&&this.pinch(d)},onContainerTouchStart:function(d){this.zoomOption(d);
this.touch(d,!0)},onContainerTouchMove:function(d){this.touch(d)},onDocumentTouchEnd:function(d){k[f.hoverChartIndex]&&k[f.hoverChartIndex].pointer.drop(d)}})})(l);(function(f){var k=f.addEvent,n=f.charts,m=f.css,h=f.doc,e=f.extend,g=f.noop,d=f.Pointer,a=f.removeEvent,r=f.win,b=f.wrap;if(r.PointerEvent||r.MSPointerEvent){var l={},p=!!r.PointerEvent,q=function(){var a,b=[];b.item=function(a){return this[a]};for(a in l)l.hasOwnProperty(a)&&b.push({pageX:l[a].pageX,pageY:l[a].pageY,target:l[a].target});
return b},s=function(a,b,d,e){if(("touch"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_TOUCH)&&n[f.hoverChartIndex])e(a),e=n[f.hoverChartIndex].pointer,e[b]({type:d,target:a.currentTarget,preventDefault:g,touches:q()})};e(d.prototype,{onContainerPointerDown:function(a){s(a,"onContainerTouchStart","touchstart",function(a){l[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){s(a,"onContainerTouchMove","touchmove",function(a){l[a.pointerId]={pageX:a.pageX,
pageY:a.pageY};l[a.pointerId].target||(l[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){s(a,"onDocumentTouchEnd","touchend",function(a){delete l[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(h,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b(d.prototype,"init",function(a,b,d){a.call(this,b,d);this.hasZoom&&
m(b.container,{"-ms-touch-action":"none","touch-action":"none"})});b(d.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(k)});b(d.prototype,"destroy",function(b){this.batchMSEvents(a);b.call(this)})}})(l);(function(f){var k,n=f.addEvent,m=f.css,h=f.discardElement,e=f.defined,g=f.each,d=f.isFirefox,a=f.marginNames,r=f.merge,b=f.pick,l=f.setAnimation,p=f.stableSort,q=f.win,s=f.wrap;k=f.Legend=function(a,b){this.init(a,b)};k.prototype={init:function(a,
b){this.chart=a;this.setOptions(b);b.enabled&&(this.render(),n(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var d=b(a.padding,8);this.options=a;this.itemStyle=a.itemStyle;this.itemHiddenStyle=r(this.itemStyle,a.itemHiddenStyle);this.itemMarginTop=a.itemMarginTop||0;this.initialItemX=this.padding=d;this.initialItemY=d-5;this.itemHeight=this.maxItemWidth=0;this.symbolWidth=b(a.symbolWidth,16);this.pages=[]},update:function(a,d){var e=this.chart;this.setOptions(r(!0,
this.options,a));this.destroy();e.isDirtyLegend=e.isDirtyBox=!0;b(d,!0)&&e.redraw()},colorizeItem:function(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");var d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,k=b?a.color||h:h,r=a.options&&a.options.marker,m={fill:k},n;e&&e.css({fill:d,color:d});f&&f.attr({stroke:k});if(g){if(r&&g.isMarker&&(m=a.pointAttribs(),!b))for(n in m)m[n]=h;g.attr(m)}},positionItem:function(a){var b=
this.options,d=b.symbolPadding,b=!b.rtl,e=a._legendItemPos,f=e[0],e=e[1],g=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?f:this.legendWidth-f-2*d-4,e);g&&(g.x=f,g.y=e)},destroyItem:function(a){var b=a.checkbox;g(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())});b&&h(a.checkbox)},destroy:function(){function a(b){this[b]&&(this[b]=this[b].destroy())}g(this.getAllItems(),function(b){g(["legendItem","legendGroup"],a,b)});g("clipRect up down pager nav box title group".split(" "),
a,this);this.display=null},positionCheckboxes:function(a){var b=this.group&&this.group.alignAttr,d,e=this.clipHeight||this.legendHeight,f=this.titleHeight;b&&(d=b.translateY,g(this.allItems,function(g){var h=g.checkbox,k;h&&(k=d+f+h.y+(a||0)+3,m(h,{left:b.translateX+g.checkboxOffset+h.x-20+"px",top:k+"px",display:k>d-6&&k<d+e-6?"":"none"}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,d=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,
null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),d=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:d}));this.titleHeight=d},setText:function(a){var b=this.options;a.legendItem.attr({text:b.labelFormat?f.format(b.labelFormat,a):b.labelFormatter.call(a)})},renderItem:function(a){var d=this.chart,e=d.renderer,f=this.options,g="horizontal"===f.layout,h=this.symbolWidth,k=f.symbolPadding,m=this.itemStyle,n=this.itemHiddenStyle,l=this.padding,
t=g?b(f.itemDistance,20):0,p=!f.rtl,q=f.width,u=f.itemMarginBottom||0,s=this.itemMarginTop,v=this.initialItemX,z=a.legendItem,P=!a.series,N=!P&&a.series.drawLegendSymbol?a.series:a,Q=N.options,Q=this.createCheckboxForItem&&Q&&Q.showCheckbox,S=f.useHTML,R=12;z||(a.legendGroup=e.g("legend-item").addClass("highcharts-"+N.type+"-series highcharts-color-"+a.colorIndex+(a.options.className?" "+a.options.className:"")+(P?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=
z=e.text("",p?h+k:-k,this.baseline||0,S).css(r(a.visible?m:n)).attr({align:p?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(R=m.fontSize,this.fontMetrics=e.fontMetrics(R,z),this.baseline=this.fontMetrics.f+3+s,z.attr("y",this.baseline)),this.symbolHeight=f.symbolHeight||this.fontMetrics.f,N.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,z,S),Q&&this.createCheckboxForItem(a));this.colorizeItem(a,a.visible);this.setText(a);e=z.getBBox();h=a.checkboxOffset=f.itemWidth||
a.legendItemWidth||h+k+e.width+t+(Q?20:0);this.itemHeight=k=Math.round(a.legendItemHeight||e.height);if(g&&this.itemX-v+h>(q||d.chartWidth-2*l-v-f.x))this.itemX=v,this.itemY+=s+this.lastLineHeight+u,this.lastLineHeight=0;this.maxItemWidth=Math.max(this.maxItemWidth,h);this.lastItemY=s+this.itemY+u;this.lastLineHeight=Math.max(k,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];g?this.itemX+=h:(this.itemY+=s+k+u,this.lastLineHeight=k);this.offsetWidth=q||Math.max((g?this.itemX-v-t:h)+l,
this.offsetWidth)},getAllItems:function(){var a=[];g(this.chart.series,function(d){var f=d&&d.options;if(d&&b(f.showInLegend,!e(f.linkedTo)?void 0:!1,!0))a=a.concat(d.legendItems||("point"===f.legendType?d.data:d))});return a},adjustMargins:function(d,f){var h=this.chart,k=this.options,r=k.align.charAt(0)+k.verticalAlign.charAt(0)+k.layout.charAt(0);k.floating||g([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(g,m){g.test(r)&&!e(d[m])&&(h[a[m]]=Math.max(h[a[m]],h.legend[(m+
1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][m]*k[m%2?"x":"y"]+b(k.margin,12)+f[m]))})},render:function(){var a=this,b=a.chart,d=b.renderer,e=a.group,f,h,k,m,n=a.box,l=a.options,t=a.padding;a.itemX=a.initialItemX;a.itemY=a.initialItemY;a.offsetWidth=0;a.lastItemY=0;e||(a.group=e=d.g("legend").attr({zIndex:7}).add(),a.contentGroup=d.g().attr({zIndex:1}).add(e),a.scrollGroup=d.g().add(a.contentGroup));a.renderTitle();f=a.getAllItems();p(f,function(a,b){return(a.options&&a.options.legendIndex||0)-
(b.options&&b.options.legendIndex||0)});l.reversed&&f.reverse();a.allItems=f;a.display=h=!!f.length;a.lastLineHeight=0;g(f,function(b){a.renderItem(b)});k=(l.width||a.offsetWidth)+t;m=a.lastItemY+a.lastLineHeight+a.titleHeight;m=a.handleOverflow(m);m+=t;n||(a.box=n=d.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(e),n.isNew=!0);n.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow);0<k&&0<m&&(n[n.isNew?"attr":"animate"](n.crisp({x:0,
y:0,width:k,height:m},n.strokeWidth())),n.isNew=!1);n[h?"show":"hide"]();a.legendWidth=k;a.legendHeight=m;g(f,function(b){a.positionItem(b)});h&&e.align(r(l,{width:k,height:m}),!0,"spacingBox");b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var d=this,e=this.chart,f=e.renderer,h=this.options,k=h.y,e=e.spacingBox.height+("top"===h.verticalAlign?-k:k)-this.padding,k=h.maxHeight,r,m=this.clipRect,n=h.navigation,l=b(n.animation,!0),t=n.arrowSize||12,p=this.nav,q=this.pages,u=this.padding,
s,v=this.allItems,z=function(a){a?m.attr({height:a}):m&&(d.clipRect=m.destroy(),d.contentGroup.clip());d.contentGroup.div&&(d.contentGroup.div.style.clip=a?"rect("+u+"px,9999px,"+(u+a)+"px,0)":"auto")};"horizontal"===h.layout&&("middle"!==h.verticalAlign&&!h.floating)&&(e/=2);k&&(e=Math.min(e,k));q.length=0;a>e&&!1!==n.enabled?(this.clipHeight=r=Math.max(e-20-this.titleHeight-u,0),this.currentPage=b(this.currentPage,1),this.fullHeight=a,g(v,function(a,b){var d=a._legendItemPos[1],e=Math.round(a.legendItem.getBBox().height),
f=q.length;if(!f||d-q[f-1]>r&&(s||d)!==q[f-1])q.push(s||d),f++;b===v.length-1&&d+e-q[f-1]>r&&q.push(d);d!==s&&(s=d)}),m||(m=d.clipRect=f.clipRect(0,u,9999,0),d.contentGroup.clip(m)),z(r),p||(this.nav=p=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,t,t).on("click",function(){d.scroll(-1,l)}).add(p),this.pager=f.text("",15,10).addClass("highcharts-legend-navigation").css(n.style).add(p),this.down=f.symbol("triangle-down",0,0,t,t).on("click",function(){d.scroll(1,l)}).add(p)),
d.scroll(0),a=e):p&&(z(),this.nav=p.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a},scroll:function(a,b){var d=this.pages,e=d.length,f=this.currentPage+a,g=this.clipHeight,h=this.options.navigation,k=this.pager,r=this.padding;f>e&&(f=e);0<f&&(void 0!==b&&l(b,this.chart),this.nav.attr({translateX:r,translateY:g+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===f?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),k.attr({text:f+
"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,"class":f===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===f?h.inactiveColor:h.activeColor}).css({cursor:1===f?"default":"pointer"}),this.down.attr({fill:f===e?h.inactiveColor:h.activeColor}).css({cursor:f===e?"default":"pointer"}),d=-d[f-1]+this.initialItemY,this.scrollGroup.animate({translateY:d}),this.currentPage=f,this.positionCheckboxes(d))}};f.LegendSymbolMixin={drawRectangle:function(a,d){var e=
a.symbolHeight,f=a.options.squareSymbol;d.legendSymbol=this.chart.renderer.rect(f?(a.symbolWidth-e)/2:0,a.baseline-e+1,f?e:a.symbolWidth,e,b(a.options.symbolRadius,e/2)).addClass("highcharts-point").attr({zIndex:3}).add(d.legendGroup)},drawLineMarker:function(a){var d=this.options,e=d.marker,f=a.symbolWidth,g=a.symbolHeight,h=g/2,k=this.chart.renderer,m=this.legendGroup;a=a.baseline-Math.round(0.3*a.fontMetrics.b);var n={},n={"stroke-width":d.lineWidth||0};d.dashStyle&&(n.dashstyle=d.dashStyle);this.legendLine=
k.path(["M",0,a,"L",f,a]).addClass("highcharts-graph").attr(n).add(m);e&&!1!==e.enabled&&(d=Math.min(b(e.radius,h),h),0===this.symbol.indexOf("url")&&(e=r(e,{width:g,height:g}),d=0),this.legendSymbol=e=k.symbol(this.symbol,f/2-d,a-d,2*d,2*d,e).addClass("highcharts-point").add(m),e.isMarker=!0)}};(/Trident\/7\.0/.test(q.navigator.userAgent)||d)&&s(k.prototype,"positionItem",function(a,b){var d=this,e=function(){b._legendItemPos&&a.call(d,b)};e();setTimeout(e)})})(l);(function(f){var k=f.addEvent,n=
f.animate,m=f.animObject,h=f.attr,e=f.doc,g=f.Axis,d=f.createElement,a=f.defaultOptions,r=f.discardElement,b=f.charts,l=f.css,p=f.defined,q=f.each,s=f.extend,y=f.find,w=f.fireEvent,x=f.getStyle,A=f.grep,D=f.isNumber,E=f.isObject,B=f.isString,C=f.Legend,G=f.marginNames,H=f.merge,L=f.Pointer,F=f.pick,K=f.pInt,J=f.removeEvent,M=f.seriesTypes,I=f.splat,O=f.svg,P=f.syncTimeout,N=f.win,Q=f.Renderer,S=f.Chart=function(){this.getArgs.apply(this,arguments)};f.chart=function(a,b,d){return new S(a,b,d)};S.prototype=
{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);if(B(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1])},init:function(d,e){var g,h=d.series;d.series=null;g=H(a,d);g.series=d.series=h;this.userOptions=d;var h=g.chart,r=h.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.callback=e;this.isResizing=0;this.options=g;this.axes=[];this.series=[];this.hasCartesianSeries=h.showAxes;var m;this.index=b.length;b.push(this);f.chartCount++;if(r)for(m in r)k(this,
m,r[m]);this.xAxis=[];this.yAxis=[];this.pointCount=this.colorCounter=this.symbolCounter=0;this.firstRender()},initSeries:function(a){var b=this.options.chart;(b=M[a.type||b.type||b.defaultSeriesType])||f.error(17,!0);b=new b;b.init(this,a);return b},orderSeries:function(a){var b=this.series;for(a=a||0;a<b.length;a++)b[a]&&(b[a].index=a,b[a].name=b[a].name||"Series "+(b[a].index+1))},isInsidePlot:function(a,b,d){var e=d?b:a;a=d?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(a){var b=
this.axes,d=this.series,e=this.pointer,g=this.legend,h=this.isDirtyLegend,k,r,m=this.hasCartesianSeries,n=this.isDirtyBox,l,t=this.renderer,p=t.isHidden(),u=[];this.setResponsive&&this.setResponsive(!1);f.setAnimation(a,this);p&&this.cloneRenderTo();this.layOutTitles();for(a=d.length;a--;)if(l=d[a],l.options.stacking&&(k=!0,l.isDirty)){r=!0;break}if(r)for(a=d.length;a--;)l=d[a],l.options.stacking&&(l.isDirty=!0);q(d,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),
h=!0);a.isDirtyData&&w(a,"updatedData")});h&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1);k&&this.getStacks();m&&q(b,function(a){a.updateNames();a.setScale()});this.getMargins();m&&(q(b,function(a){a.isDirty&&(n=!0)}),q(b,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,u.push(function(){w(a,"afterSetExtremes",s(a.eventArgs,a.getExtremes()));delete a.eventArgs}));(n||k)&&a.redraw()}));n&&this.drawChartBox();w(this,"predraw");q(d,function(a){(n||a.isDirty)&&a.visible&&a.redraw();
a.isDirtyData=!1});e&&e.reset(!0);t.draw();w(this,"redraw");w(this,"render");p&&this.cloneRenderTo(!0);q(u,function(a){a.call()})},get:function(a){function b(d){return d.id===a||d.options&&d.options.id===a}var d,e=this.series,f;d=y(this.axes,b)||y(this.series,b);for(f=0;!d&&f<e.length;f++)d=y(e[f].points||[],b);return d},getAxes:function(){var a=this,b=this.options,d=b.xAxis=I(b.xAxis||{}),b=b.yAxis=I(b.yAxis||{});q(d,function(a,b){a.index=b;a.isX=!0});q(b,function(a,b){a.index=b});d=d.concat(b);
q(d,function(b){new g(a,b)})},getSelectedPoints:function(){var a=[];q(this.series,function(b){a=a.concat(A(b.points||[],function(a){return a.selected}))});return a},getSelectedSeries:function(){return A(this.series,function(a){return a.selected})},setTitle:function(a,b,d){var e=this,f=e.options,g;g=f.title=H({style:{color:"#333333",fontSize:f.isStock?"16px":"18px"}},f.title,a);f=f.subtitle=H({style:{color:"#666666"}},f.subtitle,b);q([["title",a,g],["subtitle",b,f]],function(a,b){var d=a[0],f=e[d],
g=a[1],h=a[2];f&&g&&(e[d]=f=f.destroy());h&&(h.text&&!f)&&(e[d]=e.renderer.text(h.text,0,0,h.useHTML).attr({align:h.align,"class":"highcharts-"+d,zIndex:h.zIndex||4}).add(),e[d].update=function(a){e.setTitle(!b&&a,b&&a)},e[d].css(h.style))});e.layOutTitles(d)},layOutTitles:function(a){var b=0,d,e=this.renderer,f=this.spacingBox;q(["title","subtitle"],function(a){var d=this[a],g=this.options[a],h;d&&(h=g.style.fontSize,h=e.fontMetrics(h,d).b,d.css({width:(g.width||f.width+g.widthAdjust)+"px"}).align(s({y:b+
h+("title"===a?-3:2)},g),!1,"spacingBox"),!g.floating&&!g.verticalAlign&&(b=Math.ceil(b+d.getBBox().height)))},this);d=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&d&&(this.isDirtyBox=d,this.hasRendered&&(F(a,!0)&&this.isDirtyBox)&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,d=this.renderToClone||this.renderTo;p(b)||(this.containerWidth=x(d,"width"));p(a)||(this.containerHeight=x(d,"height"));this.chartWidth=Math.max(0,b||this.containerWidth||
600);this.chartHeight=Math.max(0,f.relativeLength(a,this.chartWidth)||this.containerHeight||400)},cloneRenderTo:function(a){var b=this.renderToClone,d=this.container;if(a){if(b){for(;b.childNodes.length;)this.renderTo.appendChild(b.firstChild);r(b);delete this.renderToClone}}else d&&d.parentNode===this.renderTo&&this.renderTo.removeChild(d),this.renderToClone=b=this.renderTo.cloneNode(0),l(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block",
"important"),e.body.appendChild(b),d&&b.appendChild(d)},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var a,g=this.options,k=g.chart,r,m;a=this.renderTo;var n=f.uniqueKey(),l;a||(this.renderTo=a=k.renderTo);B(a)&&(this.renderTo=a=e.getElementById(a));a||f.error(13,!0);r=K(h(a,"data-highcharts-chart"));D(r)&&(b[r]&&b[r].hasRendered)&&b[r].destroy();h(a,"data-highcharts-chart",this.index);a.innerHTML="";!k.skipClone&&!a.offsetWidth&&this.cloneRenderTo();
this.getChartSize();r=this.chartWidth;m=this.chartHeight;l=s({position:"relative",overflow:"hidden",width:r+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},k.style);this.container=a=d("div",{id:n},l,this.renderToClone||a);this._cursor=a.style.cursor;this.renderer=new (f[k.renderer]||Q)(a,r,m,null,k.forExport,g.exporting&&g.exporting.allowHTML);this.setClassName(k.className);this.renderer.setStyle(k.style);this.renderer.chartIndex=this.index},
getMargins:function(a){var b=this.spacing,d=this.margin,e=this.titleOffset;this.resetMargins();e&&!p(d[0])&&(this.plotTop=Math.max(this.plotTop,e+this.options.title.margin+b[0]));this.legend.display&&this.legend.adjustMargins(d,b);this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);a||this.getAxisMargins()},getAxisMargins:function(){var a=this,b=a.axisOffset=[0,0,0,0],d=a.margin;a.hasCartesianSeries&&
q(a.axes,function(a){a.visible&&a.getOffset()});q(G,function(e,f){p(d[f])||(a[e]+=b[f])});a.setChartSize()},reflow:function(a){var b=this,d=b.options.chart,f=b.renderTo,g=p(d.width),h=d.width||x(f,"width"),d=d.height||x(f,"height"),f=a?a.target:N;if(!g&&!b.isPrinting&&h&&d&&(f===N||f===e)){if(h!==b.containerWidth||d!==b.containerHeight)clearTimeout(b.reflowTimeout),b.reflowTimeout=P(function(){b.container&&b.setSize(void 0,void 0,!1)},a?100:0);b.containerWidth=h;b.containerHeight=d}},initReflow:function(){var a=
this,b;b=k(N,"resize",function(b){a.reflow(b)});k(a,"destroy",b)},setSize:function(a,b,d){var e=this,g=e.renderer;e.isResizing+=1;f.setAnimation(d,e);e.oldChartHeight=e.chartHeight;e.oldChartWidth=e.chartWidth;void 0!==a&&(e.options.chart.width=a);void 0!==b&&(e.options.chart.height=b);e.getChartSize();a=g.globalAnimation;(a?n:l)(e.container,{width:e.chartWidth+"px",height:e.chartHeight+"px"},a);e.setChartSize(!0);g.setSize(e.chartWidth,e.chartHeight,d);q(e.axes,function(a){a.isDirty=!0;a.setScale()});
e.isDirtyLegend=!0;e.isDirtyBox=!0;e.layOutTitles();e.getMargins();e.redraw(d);e.oldChartHeight=null;w(e,"resize");P(function(){e&&w(e,"endResize",null,function(){e.isResizing-=1})},m(a).duration)},setChartSize:function(a){var b=this.inverted,d=this.renderer,e=this.chartWidth,f=this.chartHeight,g=this.options.chart,h=this.spacing,k=this.clipOffset,r,m,n,l;this.plotLeft=r=Math.round(this.plotLeft);this.plotTop=m=Math.round(this.plotTop);this.plotWidth=n=Math.max(0,Math.round(e-r-this.marginRight));
this.plotHeight=l=Math.max(0,Math.round(f-m-this.marginBottom));this.plotSizeX=b?l:n;this.plotSizeY=b?n:l;this.plotBorderWidth=g.plotBorderWidth||0;this.spacingBox=d.spacingBox={x:h[3],y:h[0],width:e-h[3]-h[1],height:f-h[0]-h[2]};this.plotBox=d.plotBox={x:r,y:m,width:n,height:l};e=2*Math.floor(this.plotBorderWidth/2);b=Math.ceil(Math.max(e,k[3])/2);d=Math.ceil(Math.max(e,k[0])/2);this.clipBox={x:b,y:d,width:Math.floor(this.plotSizeX-Math.max(e,k[1])/2-b),height:Math.max(0,Math.floor(this.plotSizeY-
Math.max(e,k[2])/2-d))};a||q(this.axes,function(a){a.setAxisSize();a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart;q(["margin","spacing"],function(d){var e=b[d],f=E(e)?e:[e,e,e,e];q(["Top","Right","Bottom","Left"],function(e,g){a[d][g]=F(b[d+e],f[g])})});q(G,function(b,d){a[b]=F(a.margin[d],a.spacing[d])});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.chartBackground,
g=this.plotBackground,h=this.plotBorder,k,r=this.plotBGImage,m=a.backgroundColor,n=a.plotBackgroundColor,l=a.plotBackgroundImage,t,p=this.plotLeft,q=this.plotTop,u=this.plotWidth,s=this.plotHeight,v=this.plotBox,w=this.clipRect,x=this.clipBox,z="animate";f||(this.chartBackground=f=b.rect().addClass("highcharts-background").add(),z="attr");k=a.borderWidth||0;t=k+(a.shadow?8:0);m={fill:m||"none"};if(k||f["stroke-width"])m.stroke=a.borderColor,m["stroke-width"]=k;f.attr(m).shadow(a.shadow);f[z]({x:t/
2,y:t/2,width:d-t-k%2,height:e-t-k%2,r:a.borderRadius});z="animate";g||(z="attr",this.plotBackground=g=b.rect().addClass("highcharts-plot-background").add());g[z](v);g.attr({fill:n||"none"}).shadow(a.plotShadow);l&&(r?r.animate(v):this.plotBGImage=b.image(l,p,q,u,s).add());w?w.animate({width:x.width,height:x.height}):this.clipRect=b.clipRect(x);z="animate";h||(z="attr",this.plotBorder=h=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());h.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||
0,fill:"none"});h[z](h.crisp({x:p,y:q,width:u,height:s},-h.strokeWidth()));this.isDirtyBox=!1},propFromSeries:function(){var a=this,b=a.options.chart,d,e=a.options.series,f,g;q(["inverted","angular","polar"],function(h){d=M[b.type||b.defaultSeriesType];g=b[h]||d&&d.prototype[h];for(f=e&&e.length;!g&&f--;)(d=M[e[f].type])&&d.prototype[h]&&(g=!0);a[h]=g})},linkSeries:function(){var a=this,b=a.series;q(b,function(a){a.linkedSeries.length=0});q(b,function(b){var d=b.options.linkedTo;if(B(d)&&(d=":previous"===
d?a.series[b.index-1]:a.get(d))&&d.linkedParent!==b)d.linkedSeries.push(b),b.linkedParent=d,b.visible=F(b.options.visible,d.options.visible,b.visible)})},renderSeries:function(){q(this.series,function(a){a.translate();a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&q(b.items,function(d){var e=s(b.style,d.style),f=K(e.left)+a.plotLeft,g=K(e.top)+a.plotTop+12;delete e.left;delete e.top;a.renderer.text(d.html,f,g).attr({zIndex:2}).css(e).add()})},render:function(){var a=
this.axes,b=this.renderer,d=this.options,e,f,g;this.setTitle();this.legend=new C(this,d.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();d=this.plotWidth;e=this.plotHeight-=21;q(a,function(a){a.setScale()});this.getAxisMargins();f=1.1<d/this.plotWidth;g=1.05<e/this.plotHeight;if(f||g)q(a,function(a){(a.horiz&&f||!a.horiz&&g)&&a.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&q(a,function(a){a.visible&&a.render()});this.seriesGroup||
(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0},addCredits:function(a){var b=this;a=H(!0,this.options.credits,a);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(N.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),
this.credits.update=function(a){b.credits=b.credits.destroy();b.addCredits(a)})},destroy:function(){var a=this,d=a.axes,e=a.series,g=a.container,h,k=g&&g.parentNode;w(a,"destroy");b[a.index]=void 0;f.chartCount--;a.renderTo.removeAttribute("data-highcharts-chart");J(a);for(h=d.length;h--;)d[h]=d[h].destroy();this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(h=e.length;h--;)e[h]=e[h].destroy();q("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),
function(b){var d=a[b];d&&d.destroy&&(a[b]=d.destroy())});g&&(g.innerHTML="",J(g),k&&r(g));for(h in a)delete a[h]},isReadyToRender:function(){var a=this;return!O&&N==N.top&&"complete"!==e.readyState?(e.attachEvent("onreadystatechange",function(){e.detachEvent("onreadystatechange",a.firstRender);"complete"===e.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();w(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();
a.getAxes();q(b.series||[],function(b){a.initSeries(b)});a.linkSeries();w(a,"beforeRender");L&&(a.pointer=new L(a,b));a.render();if(!a.renderer.imgCount&&a.onload)a.onload();a.cloneRenderTo(!0)}},onload:function(){q([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this);w(this,"load");w(this,"render");p(this.index)&&!1!==this.options.chart.reflow&&this.initReflow();this.onload=null}}})(l);(function(f){var k,n=f.each,m=f.extend,h=f.erase,e=f.fireEvent,
g=f.format,d=f.isArray,a=f.isNumber,r=f.pick,b=f.removeEvent;k=f.Point=function(){};k.prototype={init:function(a,b,d){var e;e=a.chart.options.chart.colorCount;this.series=a;this.color=a.color;this.applyOptions(b,d);a.options.colorByPoint?(e=a.options.colors||a.chart.options.colors,this.color=this.color||e[a.colorCounter],e=e.length,b=a.colorCounter,a.colorCounter++,a.colorCounter===e&&(a.colorCounter=0)):b=a.colorIndex;this.colorIndex=r(this.colorIndex,b);a.chart.pointCount++;return this},applyOptions:function(b,
d){var e=this.series,f=e.options.pointValKey||e.pointValKey;b=k.prototype.optionsToObject.call(this,b);m(this,b);this.options=this.options?m(this.options,b):b;b.group&&delete this.group;f&&(this.y=this[f]);this.isNull=r(this.isValid&&!this.isValid(),null===this.x||!a(this.y,!0));this.selected&&(this.state="select");"name"in this&&(void 0===d&&e.xAxis&&e.xAxis.hasNames)&&(this.x=e.xAxis.nameToX(this));void 0===this.x&&e&&(this.x=void 0===d?e.autoIncrement(this):d);return this},optionsToObject:function(b){var e=
{},f=this.series,g=f.options.keys,h=g||f.pointArrayMap||["y"],k=h.length,r=0,m=0;if(a(b)||null===b)e[h[0]]=b;else if(d(b)){!g&&b.length>k&&(f=typeof b[0],"string"===f?e.name=b[0]:"number"===f&&(e.x=b[0]),r++);for(;m<k;){if(!g||void 0!==b[r])e[h[m]]=b[r];r++;m++}}else"object"===typeof b&&(e=b,b.dataLabels&&(f._hasPointLabels=!0),b.marker&&(f._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":
"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var a=this.series,b=a.zones,a=a.zoneAxis||"y",d=0,e;for(e=b[d];this[a]>=e.value;)e=b[++d];e&&(e.color&&!this.options.color)&&(this.color=e.color);return e},destroy:function(){var a=this.series.chart,d=a.hoverPoints,e;a.pointCount--;
d&&(this.setState(),h(d,this),d.length||(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)b(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],b,d=6;d--;)b=a[d],this[b]&&(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||
this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,d=b.tooltipOptions,e=r(d.valueDecimals,""),f=d.valuePrefix||"",h=d.valueSuffix||"";n(b.pointArrayMap||["y"],function(b){b="{point."+b;if(f||h)a=a.replace(b+"}",f+b+"}"+h);a=a.replace(b+"}",b+":,."+e+"f}")});return g(a,{point:this,series:this.series})},firePointEvent:function(a,b,d){var f=this,g=this.series.options;(g.point.events[a]||f.options&&
f.options.events&&f.options.events[a])&&this.importEvents();"click"===a&&g.allowPointSelect&&(d=function(a){f.select&&f.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});e(this,a,b,d)},visible:!0}})(l);(function(f){var k=f.addEvent,n=f.animObject,m=f.arrayMax,h=f.arrayMin,e=f.correctFloat,g=f.Date,d=f.defaultOptions,a=f.defaultPlotOptions,r=f.defined,b=f.each,l=f.erase,p=f.extend,q=f.fireEvent,s=f.grep,y=f.isArray,w=f.isNumber,x=f.isString,A=f.merge,D=f.pick,E=f.removeEvent,B=f.splat,C=f.SVGElement,
G=f.syncTimeout,H=f.win;f.Series=f.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":f.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",
textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3},{isCartesian:!0,pointClass:f.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,d){var e=this,f,g,h=a.series,r;e.chart=a;e.options=d=e.setOptions(d);
e.linkedSeries=[];e.bindAxes();p(e,{name:d.name,state:"",visible:!1!==d.visible,selected:!0===d.selected});g=d.events;for(f in g)k(e,f,g[f]);if(g&&g.click||d.point&&d.point.events&&d.point.events.click||d.allowPointSelect)a.runTrackerClick=!0;e.getColor();e.getSymbol();b(e.parallelArrays,function(a){e[a+"Data"]=[]});e.setData(d.data,!1);e.isCartesian&&(a.hasCartesianSeries=!0);h.length&&(r=h[h.length-1]);e._i=D(r&&r._i,-1)+1;a.orderSeries(this.insert(h))},insert:function(a){var b=this.options.index,
d;if(w(b)){for(d=a.length;d--;)if(b>=D(a[d].options.index,a[d]._i)){a.splice(d+1,0,this);break}-1===d&&a.unshift(this);d+=1}else a.push(this);return D(d,a.length-1)},bindAxes:function(){var a=this,d=a.options,e=a.chart,g;b(a.axisTypes||[],function(h){b(e[h],function(b){g=b.options;if(d[h]===g.index||void 0!==d[h]&&d[h]===g.id||void 0===d[h]&&0===g.index)a.insert(b.series),a[h]=b,b.isDirty=!0});!a[h]&&a.optionalAxis!==h&&f.error(18,!0)})},updateParallelArrays:function(a,d){var e=a.series,f=arguments,
g=w(d)?function(b){var f="y"===b&&e.toYData?e.toYData(a):a[b];e[b+"Data"][d]=f}:function(a){Array.prototype[d].apply(e[a+"Data"],Array.prototype.slice.call(f,2))};b(e.parallelArrays,g)},autoIncrement:function(){var a=this.options,b=this.xIncrement,d,e=a.pointIntervalUnit,b=D(b,a.pointStart,0);this.pointInterval=d=D(this.pointInterval,a.pointInterval,1);e&&(a=new g(b),"day"===e?a=+a[g.hcSetDate](a[g.hcGetDate]()+d):"month"===e?a=+a[g.hcSetMonth](a[g.hcGetMonth]()+d):"year"===e&&(a=+a[g.hcSetFullYear](a[g.hcGetFullYear]()+
d)),d=a-b);this.xIncrement=b+d;return b},setOptions:function(a){var b=this.chart,e=b.options.plotOptions,b=b.userOptions||{},f=b.plotOptions||{},g=e[this.type];this.userOptions=a;e=A(g,e.series,a);this.tooltipOptions=A(d.tooltip,d.plotOptions[this.type].tooltip,b.tooltip,f.series&&f.series.tooltip,f[this.type]&&f[this.type].tooltip,a.tooltip);null===g.marker&&delete e.marker;this.zoneAxis=e.zoneAxis;a=this.zones=(e.zones||[]).slice();if((e.negativeColor||e.negativeFillColor)&&!e.zones)a.push({value:e[this.zoneAxis+
"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor});a.length&&r(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor});return e},getCyclic:function(a,b,d){var e,f=this.chart,g=this.userOptions,h=a+"Index",k=a+"Counter",m=d?d.length:D(f.options.chart[a+"Count"],f[a+"Count"]);b||(e=D(g[h],g["_"+h]),r(e)||(f.series.length||(f[k]=0),g["_"+h]=e=f[k]%m,f[k]+=1),d&&(b=d[e]));void 0!==e&&(this[h]=e);this[a]=b},getColor:function(){this.options.colorByPoint?
this.options.color=null:this.getCyclic("color",this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:f.LegendSymbolMixin.drawLineMarker,setData:function(a,d,e,g){var h=this,k=h.points,r=k&&k.length||0,m,n=h.options,l=h.chart,t=null,p=h.xAxis,q=n.turboThreshold,u=this.xData,s=this.yData,v=(m=h.pointArrayMap)&&m.length;a=a||[];m=a.length;d=D(d,!0);if(!1!==g&&m&&r===m&&!h.cropped&&
!h.hasGroupedData&&h.visible)b(a,function(a,b){k[b].update&&a!==n.data[b]&&k[b].update(a,!1,null,!1)});else{h.xIncrement=null;h.colorCounter=0;b(this.parallelArrays,function(a){h[a+"Data"].length=0});if(q&&m>q){for(e=0;null===t&&e<m;)t=a[e],e++;if(w(t))for(e=0;e<m;e++)u[e]=this.autoIncrement(),s[e]=a[e];else if(y(t))if(v)for(e=0;e<m;e++)t=a[e],u[e]=t[0],s[e]=t.slice(1,v+1);else for(e=0;e<m;e++)t=a[e],u[e]=t[0],s[e]=t[1];else f.error(12)}else for(e=0;e<m;e++)void 0!==a[e]&&(t={series:h},h.pointClass.prototype.applyOptions.apply(t,
[a[e]]),h.updateParallelArrays(t,e));x(s[0])&&f.error(14,!0);h.data=[];h.options.data=h.userOptions.data=a;for(e=r;e--;)k[e]&&k[e].destroy&&k[e].destroy();p&&(p.minRange=p.userMinRange);h.isDirty=l.isDirtyBox=!0;h.isDirtyData=!!k;e=!1}"point"===n.legendType&&(this.processData(),this.generatePoints());d&&l.redraw(e)},processData:function(a){var b=this.xData,d=this.yData,e=b.length,g;g=0;var h,k,r=this.xAxis,m,n=this.options;m=n.cropThreshold;var l=this.getExtremesFromAll||n.getExtremesFromAll,t=this.isCartesian,
n=r&&r.val2lin,p=r&&r.isLog,q,u;if(t&&!this.isDirty&&!r.isDirty&&!this.yAxis.isDirty&&!a)return!1;r&&(a=r.getExtremes(),q=a.min,u=a.max);if(t&&this.sorted&&!l&&(!m||e>m||this.forceCrop))if(b[e-1]<q||b[0]>u)b=[],d=[];else if(b[0]<q||b[e-1]>u)g=this.cropData(this.xData,this.yData,q,u),b=g.xData,d=g.yData,g=g.start,h=!0;for(m=b.length||1;--m;)e=p?n(b[m])-n(b[m-1]):b[m]-b[m-1],0<e&&(void 0===k||e<k)?k=e:0>e&&this.requireSorting&&f.error(15);this.cropped=h;this.cropStart=g;this.processedXData=b;this.processedYData=
d;this.closestPointRange=k},cropData:function(a,b,d,e){var f=a.length,g=0,h=f,k=D(this.cropShoulder,1),r;for(r=0;r<f;r++)if(a[r]>=d){g=Math.max(0,r-k);break}for(d=r;d<f;d++)if(a[d]>e){h=d+k;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a=this.options.data,b=this.data,d,e=this.processedXData,f=this.processedYData,g=this.pointClass,h=e.length,k=this.cropStart||0,r,m=this.hasGroupedData,n,l=[],t;!b&&!m&&(b=[],b.length=a.length,b=this.data=b);for(t=0;t<
h;t++)r=k+t,m?(n=(new g).init(this,[e[t]].concat(B(f[t]))),n.dataGroup=this.groupMap[t]):(n=b[r],!n&&void 0!==a[r]&&(b[r]=n=(new g).init(this,a[r],e[t]))),n.index=r,l[t]=n;if(b&&(h!==(d=b.length)||m))for(t=0;t<d;t++)t===k&&!m&&(t+=h),b[t]&&(b[t].destroyElements(),b[t].plotX=void 0);this.data=b;this.points=l},getExtremes:function(a){var b=this.yAxis,d=this.processedXData,e,f=[],g=0;e=this.xAxis.getExtremes();var k=e.min,r=e.max,n,l,t,p;a=a||this.stackedYData||this.processedYData||[];e=a.length;for(p=
0;p<e;p++)if(l=d[p],t=a[p],n=(w(t,!0)||y(t))&&(!b.positiveValuesOnly||t.length||0<t),l=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[p+1]||l)>=k&&(d[p-1]||l)<=r,n&&l)if(n=t.length)for(;n--;)null!==t[n]&&(f[g++]=t[n]);else f[g++]=t;this.dataMin=h(f);this.dataMax=m(f)},translate:function(){this.processedXData||this.processData();this.generatePoints();var a=this.options,b=a.stacking,d=this.xAxis,f=d.categories,g=this.yAxis,h=this.points,k=h.length,m=!!this.modifyValue,n=
a.pointPlacement,l="between"===n||w(n),t=a.threshold,p=a.startFromThreshold?t:0,q,u,s,v,x=Number.MAX_VALUE;"between"===n&&(n=0.5);w(n)&&(n*=D(a.pointRange||d.pointRange));for(a=0;a<k;a++){var z=h[a],y=z.x,A=z.y;u=z.low;var C=b&&g.stacks[(this.negStacks&&A<(p?0:t)?"-":"")+this.stackKey],E;g.positiveValuesOnly&&(null!==A&&0>=A)&&(z.isNull=!0);z.plotX=q=e(Math.min(Math.max(-1E5,d.translate(y,0,0,0,1,n,"flags"===this.type)),1E5));b&&(this.visible&&!z.isNull&&C&&C[y])&&(v=this.getStackIndicator(v,y,this.index),
E=C[y],A=E.points[v.key],u=A[0],A=A[1],u===p&&v.key===C[y].base&&(u=D(t,g.min)),g.positiveValuesOnly&&0>=u&&(u=null),z.total=z.stackTotal=E.total,z.percentage=E.total&&100*(z.y/E.total),z.stackY=A,E.setOffset(this.pointXOffset||0,this.barW||0));z.yBottom=r(u)?g.translate(u,0,1,0,1):null;m&&(A=this.modifyValue(A,z));z.plotY=u="number"===typeof A&&Infinity!==A?Math.min(Math.max(-1E5,g.translate(A,0,1,0,1)),1E5):void 0;z.isInside=void 0!==u&&0<=u&&u<=g.len&&0<=q&&q<=d.len;z.clientX=l?e(d.translate(y,
0,0,0,1,n)):q;z.negative=z.y<(t||0);z.category=f&&void 0!==f[z.x]?f[z.x]:z.x;z.isNull||(void 0!==s&&(x=Math.min(x,Math.abs(q-s))),s=q);z.zone=this.zones.length&&z.getZone()}this.closestPointRangePx=x},getValidPoints:function(a,b){var d=this.chart;return s(a||this.points||[],function(a){return b&&!d.isInsidePlot(a.plotX,a.plotY,d.inverted)?!1:!a.isNull})},setClip:function(a){var b=this.chart,d=this.options,e=b.renderer,f=b.inverted,g=this.clipBox,h=g||b.clipBox,k=this.sharedClipKey||["_sharedClip",
a&&a.duration,a&&a.easing,h.height,d.xAxis,d.yAxis].join(),r=b[k],m=b[k+"m"];r||(a&&(h.width=0,b[k+"m"]=m=e.clipRect(-99,f?-b.plotLeft:-b.plotTop,99,f?b.chartWidth:b.chartHeight)),b[k]=r=e.clipRect(h),r.count={length:0});a&&!r.count[this.index]&&(r.count[this.index]=!0,r.count.length+=1);!1!==d.clip&&(this.group.clip(a||g?r:b.clipRect),this.markerGroup.clip(m),this.sharedClipKey=k);a||(r.count[this.index]&&(delete r.count[this.index],r.count.length-=1),0===r.count.length&&(k&&b[k])&&(g||(b[k]=b[k].destroy()),
b[k+"m"]&&(this.markerGroup.clip(),b[k+"m"]=b[k+"m"].destroy())))},animate:function(a){var b=this.chart,d=n(this.options.animation),e;a?this.setClip(d):(e=this.sharedClipKey,(a=b[e])&&a.animate({width:b.plotSizeX},d),b[e+"m"]&&b[e+"m"].animate({width:b.plotSizeX+99},d),this.animate=null)},afterAnimate:function(){this.setClip();q(this,"afterAnimate")},drawPoints:function(){var a=this.points,b=this.chart,d,e,f,g,h=this.options.marker,k,r,m,n,l=this.markerGroup,t=D(h.enabled,this.xAxis.isRadial?!0:null,
this.closestPointRangePx>=2*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(e=0;e<a.length;e++)if(f=a[e],d=f.plotY,g=f.graphic,k=f.marker||{},r=!!f.marker,m=t&&void 0===k.enabled||k.enabled,n=f.isInside,m&&w(d)&&null!==f.y){d=D(k.symbol,this.symbol);f.hasImage=0===d.indexOf("url");m=this.markerAttribs(f,f.selected&&"select");if(g)g[n?"show":"hide"](!0).animate(m);else if(n&&(0<m.width||f.hasImage))f.graphic=g=b.renderer.symbol(d,m.x,m.y,m.width,m.height,r?k:h).add(l);g&&g.attr(this.pointAttribs(f,
f.selected&&"select"));g&&g.addClass(f.getClassName(),!0)}else g&&(f.graphic=g.destroy())},markerAttribs:function(a,b){var d=this.options.marker,e=a.marker||{},f=D(e.radius,d.radius);b&&(d=d.states[b],e=e.states&&e.states[b],f=D(e&&e.radius,d&&d.radius,f+(d&&d.radiusPlus||0)));a.hasImage&&(f=0);d={x:Math.floor(a.plotX)-f,y:a.plotY-f};f&&(d.width=d.height=2*f);return d},pointAttribs:function(a,b){var d=this.options.marker,e=a&&a.options,f=e&&e.marker||{},g=this.color,h=e&&e.color,k=a&&a.color,e=D(f.lineWidth,
d.lineWidth),r=a&&a.zone&&a.zone.color,g=h||r||k||g,h=f.fillColor||d.fillColor||g,g=f.lineColor||d.lineColor||g;b&&(d=d.states[b],f=f.states&&f.states[b]||{},e=D(f.lineWidth,d.lineWidth,e+D(f.lineWidthPlus,d.lineWidthPlus,0)),h=f.fillColor||d.fillColor||h,g=f.lineColor||d.lineColor||g);return{stroke:g,"stroke-width":e,fill:h}},destroy:function(){var a=this,d=a.chart,e=/AppleWebKit\/533/.test(H.navigator.userAgent),f,g=a.data||[],h,k,r;q(a,"destroy");E(a);b(a.axisTypes||[],function(b){if((r=a[b])&&
r.series)l(r.series,a),r.isDirty=r.forceRedraw=!0});a.legendItem&&a.chart.legend.destroyItem(a);for(f=g.length;f--;)(h=g[f])&&h.destroy&&h.destroy();a.points=null;clearTimeout(a.animationTimeout);for(k in a)a[k]instanceof C&&!a[k].survive&&(f=e&&"group"===k?"hide":"destroy",a[k][f]());d.hoverSeries===a&&(d.hoverSeries=null);l(d.series,a);d.orderSeries();for(k in a)delete a[k]},getGraphPath:function(a,d,e){var f=this,g=f.options,h=g.step,k,m=[],n=[],l;a=a||f.points;(k=a.reversed)&&a.reverse();(h={right:1,
center:2}[h]||h&&3)&&k&&(h=4-h);g.connectNulls&&(!d&&!e)&&(a=this.getValidPoints(a));b(a,function(b,k){var t=b.plotX,p=b.plotY,q=a[k-1];if((b.leftCliff||q&&q.rightCliff)&&!e)l=!0;b.isNull&&!r(d)&&0<k?l=!g.connectNulls:b.isNull&&!d?l=!0:(0===k||l?q=["M",b.plotX,b.plotY]:f.getPointSpline?q=f.getPointSpline(a,b,k):h?(q=1===h?["L",q.plotX,p]:2===h?["L",(q.plotX+t)/2,q.plotY,"L",(q.plotX+t)/2,p]:["L",t,q.plotY],q.push("L",t,p)):q=["L",t,p],n.push(b.x),h&&n.push(b.x),m.push.apply(m,q),l=!1)});m.xMap=n;
return f.graphPath=m},drawGraph:function(){var a=this,d=this.options,e=(this.gappedPath||this.getGraphPath).call(this),f=[["graph","highcharts-graph",d.lineColor||this.color,d.dashStyle]];b(this.zones,function(b,e){f.push(["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(b.className||""),b.color||a.color,b.dashStyle||d.dashStyle])});b(f,function(b,f){var g=b[0],h=a[g];h?(h.endX=e.xMap,h.animate({d:e})):e.length&&(a[g]=a.chart.renderer.path(e).addClass(b[1]).attr({zIndex:1}).add(a.group),
h={stroke:b[2],"stroke-width":d.lineWidth,fill:a.fillGraph&&a.color||"none"},b[3]?h.dashstyle=b[3]:"square"!==d.linecap&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),h=a[g].attr(h).shadow(2>f&&d.shadow));h&&(h.startX=e.xMap,h.isArea=e.isArea)})},applyZones:function(){var a=this,d=this.chart,e=d.renderer,f=this.zones,g,h,k=this.clips||[],r,m=this.graph,n=this.area,l=Math.max(d.chartWidth,d.chartHeight),t=this[(this.zoneAxis||"y")+"Axis"],p,q,u=d.inverted,s,v,w,x,z=!1;if(f.length&&(m||n)&&t&&
void 0!==t.min)q=t.reversed,s=t.horiz,m&&m.hide(),n&&n.hide(),p=t.getExtremes(),b(f,function(b,f){g=q?s?d.plotWidth:0:s?0:t.toPixels(p.min);g=Math.min(Math.max(D(h,g),0),l);h=Math.min(Math.max(Math.round(t.toPixels(D(b.value,p.max),!0)),0),l);z&&(g=h=t.toPixels(p.max));v=Math.abs(g-h);w=Math.min(g,h);x=Math.max(g,h);t.isXAxis?(r={x:u?x:w,y:0,width:v,height:l},s||(r.x=d.plotHeight-r.x)):(r={x:0,y:u?x:w,width:l,height:v},s&&(r.y=d.plotWidth-r.y));u&&e.isVML&&(r=t.isXAxis?{x:0,y:q?w:x,height:r.width,
width:d.chartWidth}:{x:r.y-d.plotLeft-d.spacingBox.x,y:0,width:r.height,height:d.chartHeight});k[f]?k[f].animate(r):(k[f]=e.clipRect(r),m&&a["zone-graph-"+f].clip(k[f]),n&&a["zone-area-"+f].clip(k[f]));z=b.value>p.max}),this.clips=k},invertGroups:function(a){function d(){b(["group","markerGroup"],function(b){e[b]&&(f.renderer.isVML&&e[b].attr({width:e.yAxis.len,height:e.xAxis.len}),e[b].width=e.yAxis.len,e[b].height=e.xAxis.len,e[b].invert(a))})}var e=this,f=e.chart,g;e.xAxis&&(g=k(f,"resize",d),
k(e,"destroy",g),d(a),e.invertGroups=d)},plotGroup:function(a,b,d,e,f){var g=this[a],h=!g;h&&(this[a]=g=this.chart.renderer.g(b).attr({zIndex:e||0.1}).add(f),g.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||"")));g.attr({visibility:d})[h?"attr":"animate"](this.getPlotBox());return g},getPlotBox:function(){var a=this.chart,b=this.xAxis,d=this.yAxis;a.inverted&&(b=d,d=this.xAxis);return{translateX:b?b.left:a.plotLeft,
translateY:d?d.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a=this,b=a.chart,d,e=a.options,f=!!a.animate&&b.renderer.isSVG&&n(e.animation).duration,g=a.visible?"inherit":"hidden",h=e.zIndex,k=a.hasRendered,r=b.seriesGroup,m=b.inverted;d=a.plotGroup("group","series",g,h,r);a.markerGroup=a.plotGroup("markerGroup","markers",g,h,r);f&&a.animate(!0);d.inverted=a.isCartesian?m:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&
!1!==a.options.enableMouseTracking&&a.drawTracker();a.invertGroups(m);!1!==e.clip&&(!a.sharedClipKey&&!k)&&d.clip(b.clipRect);f&&a.animate();k||(a.animationTimeout=G(function(){a.afterAnimate()},f));a.isDirty=!1;a.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,d=this.group,e=this.xAxis,f=this.yAxis;d&&(a.inverted&&d.attr({width:a.plotWidth,height:a.plotHeight}),d.animate({translateX:D(e&&e.left,a.plotLeft),translateY:D(f&&f.top,a.plotTop)}));this.translate();this.render();
b&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var d=this.xAxis,e=this.yAxis,f=this.chart.inverted;return this.searchKDTree({clientX:f?d.len-a.chartY+d.pos:a.chartX-d.pos,plotY:f?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function(){function a(d,e,f){var g,h;if(h=d&&d.length)return g=b.kdAxisArray[e%f],d.sort(function(a,b){return a[g]-b[g]}),h=Math.floor(h/2),{point:d[h],left:a(d.slice(0,h),e+1,f),right:a(d.slice(h+1),e+1,f)}}this.buildingKdTree=
!0;var b=this,d=b.kdDimensions;delete b.kdTree;G(function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),d,d);b.buildingKdTree=!1},b.options.kdNow?0:1)},searchKDTree:function(a,b){function d(a,b,k,m){var n=b.point,l=e.kdAxisArray[k%m],t,p,q=n;p=r(a[f])&&r(n[f])?Math.pow(a[f]-n[f],2):null;t=r(a[g])&&r(n[g])?Math.pow(a[g]-n[g],2):null;t=(p||0)+(t||0);n.dist=r(t)?Math.sqrt(t):Number.MAX_VALUE;n.distX=r(p)?Math.sqrt(p):Number.MAX_VALUE;l=a[l]-n[l];t=0>l?"left":"right";p=0>l?"right":"left";b[t]&&(t=
d(a,b[t],k+1,m),q=t[h]<q[h]?t:n);b[p]&&Math.sqrt(l*l)<q[h]&&(a=d(a,b[p],k+1,m),q=a[h]<q[h]?a:q);return q}var e=this,f=this.kdAxisArray[0],g=this.kdAxisArray[1],h=b?"distX":"dist";!this.kdTree&&!this.buildingKdTree&&this.buildKDTree();if(this.kdTree)return d(a,this.kdTree,this.kdDimensions,this.kdDimensions)}})})(l);(function(f){function k(a,d,e,f,g){var h=a.chart.inverted;this.axis=a;this.isNegative=e;this.options=d;this.x=f;this.total=null;this.points={};this.stack=g;this.rightCliff=this.leftCliff=
0;this.alignOptions={align:d.align||(h?e?"left":"right":"center"),verticalAlign:d.verticalAlign||(h?"middle":e?"bottom":"top"),y:r(d.y,h?4:e?14:-6),x:r(d.x,h?e?-6:6:0)};this.textAlign=d.textAlign||(h?e?"right":"left":"center")}var n=f.Axis,m=f.Chart,h=f.correctFloat,e=f.defined,g=f.destroyObjectProperties,d=f.each,a=f.format,r=f.pick;f=f.Series;k.prototype={destroy:function(){g(this,this.axis)},render:function(b){var d=this.options,e=d.format,e=e?a(e,this):d.formatter.call(this);this.label?this.label.attr({text:e,
visibility:"hidden"}):this.label=this.axis.chart.renderer.text(e,null,null,d.useHTML).css(d.style).attr({align:this.textAlign,rotation:d.rotation,visibility:"hidden"}).add(b)},setOffset:function(a,d){var e=this.axis,f=e.chart,g=f.inverted,h=e.reversed,h=this.isNegative&&!h||!this.isNegative&&h,k=e.translate(e.usePercentage?100:this.total,0,0,0,1),e=e.translate(0),e=Math.abs(k-e),r=f.xAxis[0].translate(this.x)+a,m=f.plotHeight,h={x:g?h?k:k-e:r,y:g?m-r-d:h?m-k-e:m-k,width:g?e:d,height:g?d:e};if(g=this.label)g.align(this.alignOptions,
null,h),h=g.alignAttr,g[!1===this.options.crop||f.isInsidePlot(h.x,h.y)?"show":"hide"](!0)}};m.prototype.getStacks=function(){var a=this;d(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)});d(a.series,function(d){if(d.options.stacking&&(!0===d.visible||!1===a.options.chart.ignoreHiddenSeries))d.stackKey=d.type+r(d.options.stack,"")})};n.prototype.buildStacks=function(){var a=this.series,d,e=r(this.options.reversedStacks,!0),f=a.length,g;if(!this.isXAxis){this.usePercentage=
!1;for(g=f;g--;)a[e?g:f-g-1].setStackedPoints();for(g=f;g--;)d=a[e?g:f-g-1],d.setStackCliffs&&d.setStackCliffs();if(this.usePercentage)for(g=0;g<f;g++)a[g].setPercentStacks()}};n.prototype.renderStackTotals=function(){var a=this.chart,d=a.renderer,e=this.stacks,f,g,h=this.stackTotalGroup;h||(this.stackTotalGroup=h=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());h.translate(a.plotLeft,a.plotTop);for(f in e)for(g in a=e[f],a)a[g].render(h)};n.prototype.resetStacks=function(){var a=
this.stacks,d,e;if(!this.isXAxis)for(d in a)for(e in a[d])a[d][e].touched<this.stacksTouched?(a[d][e].destroy(),delete a[d][e]):(a[d][e].total=null,a[d][e].cum=null)};n.prototype.cleanStacks=function(){var a,d,e;if(!this.isXAxis)for(d in this.oldStacks&&(a=this.stacks=this.oldStacks),a)for(e in a[d])a[d][e].cum=a[d][e].total};f.prototype.setStackedPoints=function(){if(this.options.stacking&&!(!0!==this.visible&&!1!==this.chart.options.chart.ignoreHiddenSeries)){var a=this.processedXData,d=this.processedYData,
f=[],g=d.length,m=this.options,n=m.threshold,l=m.startFromThreshold?n:0,p=m.stack,m=m.stacking,q=this.stackKey,s="-"+q,E=this.negStacks,B=this.yAxis,C=B.stacks,G=B.oldStacks,H,L,F,K,J,M,I;B.stacksTouched+=1;for(J=0;J<g;J++)M=a[J],I=d[J],H=this.getStackIndicator(H,M,this.index),K=H.key,F=(L=E&&I<(l?0:n))?s:q,C[F]||(C[F]={}),C[F][M]||(G[F]&&G[F][M]?(C[F][M]=G[F][M],C[F][M].total=null):C[F][M]=new k(B,B.options.stackLabels,L,M,p)),F=C[F][M],null!==I&&(F.points[K]=F.points[this.index]=[r(F.cum,l)],e(F.cum)||
(F.base=K),F.touched=B.stacksTouched,0<H.index&&!1===this.singleStacks&&(F.points[K][0]=F.points[this.index+","+M+",0"][0])),"percent"===m?(L=L?q:s,E&&C[L]&&C[L][M]?(L=C[L][M],F.total=L.total=Math.max(L.total,F.total)+Math.abs(I)||0):F.total=h(F.total+(Math.abs(I)||0))):F.total=h(F.total+(I||0)),F.cum=r(F.cum,l)+(I||0),null!==I&&(F.points[K].push(F.cum),f[J]=F.cum);"percent"===m&&(B.usePercentage=!0);this.stackedYData=f;B.oldStacks={}}};f.prototype.setPercentStacks=function(){var a=this,e=a.stackKey,
f=a.yAxis.stacks,g=a.processedXData,k;d([e,"-"+e],function(d){for(var e=g.length,r,m;e--;)if(r=g[e],k=a.getStackIndicator(k,r,a.index,d),r=(m=f[d]&&f[d][r])&&m.points[k.key])m=m.total?100/m.total:0,r[0]=h(r[0]*m),r[1]=h(r[1]*m),a.stackedYData[e]=r[1]})};f.prototype.getStackIndicator=function(a,d,f,g){!e(a)||a.x!==d||g&&a.key!==g?a={x:d,index:0,key:g}:a.index++;a.key=[f,d,a.index].join();return a}})(l);(function(f){var k=f.addEvent,n=f.animate,m=f.Axis,h=f.createElement,e=f.css,g=f.defined,d=f.each,
a=f.erase,r=f.extend,b=f.fireEvent,l=f.inArray,p=f.isNumber,q=f.isObject,s=f.merge,y=f.pick,w=f.Point,x=f.Series,A=f.seriesTypes,D=f.setAnimation,E=f.splat;r(f.Chart.prototype,{addSeries:function(a,d,e){var f,g=this;a&&(d=y(d,!0),b(g,"addSeries",{options:a},function(){f=g.initSeries(a);g.isDirtyLegend=!0;g.linkSeries();d&&g.redraw(e)}));return f},addAxis:function(a,b,d,e){var f=b?"xAxis":"yAxis",g=this.options;a=s(a,{index:this[f].length,isX:b});new m(this,a);g[f]=E(g[f]||{});g[f].push(a);y(d,!0)&&
this.redraw(e)},showLoading:function(a){var b=this,d=b.options,f=b.loadingDiv,g=d.loading,m=function(){f&&e(f,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};f||(b.loadingDiv=f=h("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=h("span",{className:"highcharts-loading-inner"},null,f),k(b,"redraw",m));f.className="highcharts-loading";b.loadingSpan.innerHTML=a||d.lang.loading;e(f,r(g.style,{zIndex:10}));e(b.loadingSpan,
g.labelStyle);b.loadingShown||(e(f,{opacity:0,display:""}),n(f,{opacity:g.style.opacity||0.5},{duration:g.showDuration||0}));b.loadingShown=!0;m()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",n(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){e(b,{display:"none"})}}));this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(a,b){var e,f={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},h=a.chart,k,r;if(h){s(!0,this.options.chart,h);"className"in h&&this.setClassName(h.className);if("inverted"in h||"polar"in h)this.propFromSeries(),k=!0;for(e in h)h.hasOwnProperty(e)&&(-1!==l("chart."+e,this.propsRequireUpdateSeries)&&(r=!0),-1!==l(e,this.propsRequireDirtyBox)&&(this.isDirtyBox=
!0));"style"in h&&this.renderer.setStyle(h.style)}for(e in a){if(this[e]&&"function"===typeof this[e].update)this[e].update(a[e],!1);else if("function"===typeof this[f[e]])this[f[e]](a[e]);"chart"!==e&&-1!==l(e,this.propsRequireUpdateSeries)&&(r=!0)}a.colors&&(this.options.colors=a.colors);a.plotOptions&&s(!0,this.options.plotOptions,a.plotOptions);d(["xAxis","yAxis","series"],function(b){a[b]&&d(E(a[b]),function(a,d){var e=g(a.id)&&this.get(a.id)||this[b][d];e&&e.coll===b&&e.update(a,!1)},this)},
this);k&&d(this.axes,function(a){a.update({},!1)});r&&d(this.series,function(a){a.update({},!1)});a.loading&&s(!0,this.options.loading,a.loading);e=h&&h.width;h=h&&h.height;p(e)&&e!==this.chartWidth||p(h)&&h!==this.chartHeight?this.setSize(e,h):y(b,!0)&&this.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}});r(w.prototype,{update:function(a,b,d,e){function f(){g.applyOptions(a);null===g.y&&k&&(g.graphic=k.destroy());q(a,!0)&&(k&&k.element&&(a&&a.marker&&a.marker.symbol)&&(g.graphic=k.destroy()),
a&&(a.dataLabels&&g.dataLabel)&&(g.dataLabel=g.dataLabel.destroy()));r=g.index;h.updateParallelArrays(g,r);n.data[r]=q(n.data[r],!0)||q(a,!0)?g.options:a;h.isDirty=h.isDirtyData=!0;!h.fixedBox&&h.hasCartesianSeries&&(m.isDirtyBox=!0);"point"===n.legendType&&(m.isDirtyLegend=!0);b&&m.redraw(d)}var g=this,h=g.series,k=g.graphic,r,m=h.chart,n=h.options;b=y(b,!0);!1===e?f():g.firePointEvent("update",{options:a},f)},remove:function(a,b){this.series.removePoint(l(this,this.series.data),a,b)}});r(x.prototype,
{addPoint:function(a,b,d,e){var f=this.options,g=this.data,h=this.chart,k=this.xAxis,k=k&&k.hasNames&&k.names,r=f.data,m,n,l=this.xData,t,p;b=y(b,!0);m={series:this};this.pointClass.prototype.applyOptions.apply(m,[a]);p=m.x;t=l.length;if(this.requireSorting&&p<l[t-1])for(n=!0;t&&l[t-1]>p;)t--;this.updateParallelArrays(m,"splice",t,0,0);this.updateParallelArrays(m,t);k&&m.name&&(k[p]=m.name);r.splice(t,0,a);n&&(this.data.splice(t,0,null),this.processData());"point"===f.legendType&&this.generatePoints();
d&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(m,"shift"),r.shift()));this.isDirtyData=this.isDirty=!0;b&&h.redraw(e)},removePoint:function(a,b,d){var e=this,f=e.data,g=f[a],h=e.points,k=e.chart,r=function(){h&&h.length===f.length&&h.splice(a,1);f.splice(a,1);e.options.data.splice(a,1);e.updateParallelArrays(g||{series:e},"splice",a,1);g&&g.destroy();e.isDirty=!0;e.isDirtyData=!0;b&&k.redraw()};D(d,k);b=y(b,!0);g?g.firePointEvent("remove",null,r):r()},remove:function(a,
d,e){function f(){g.destroy();h.isDirtyLegend=h.isDirtyBox=!0;h.linkSeries();y(a,!0)&&h.redraw(d)}var g=this,h=g.chart;!1!==e?b(g,"remove",null,f):f()},update:function(a,b){var e=this,f=this.chart,g=this.userOptions,h=this.oldType||this.type,k=a.type||g.type||f.options.chart.type,m=A[h].prototype,n=["group","markerGroup","dataLabelsGroup"],l;if(k&&k!==h||void 0!==a.zIndex)n.length=0;d(n,function(a){n[a]=e[a];delete e[a]});a=s(g,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},
a);this.remove(!1,null,!1);for(l in m)this[l]=void 0;r(this,A[k||h].prototype);d(n,function(a){e[a]=n[a]});this.init(f,a);this.oldType=h;f.linkSeries();y(b,!0)&&f.redraw(!1)}});r(m.prototype,{update:function(a,b){var d=this.chart;a=d.options[this.coll][this.options.index]=s(this.userOptions,a);this.destroy(!0);this.init(d,r(a,{events:void 0}));d.isDirtyBox=!0;y(b,!0)&&d.redraw()},remove:function(b){for(var e=this.chart,f=this.coll,g=this.series,h=g.length;h--;)g[h]&&g[h].remove(!1);a(e.axes,this);
a(e[f],this);e.options[f].splice(this.options.index,1);d(e[f],function(a,b){a.options.index=b});this.destroy();e.isDirtyBox=!0;y(b,!0)&&e.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})})(l);(function(f){var k=f.color,n=f.each,m=f.map,h=f.pick,e=f.Series,g=f.seriesType;g("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var d=[],a=[],e=this.xAxis,b=this.yAxis,f=b.stacks[this.stackKey],g={},
k=this.points,l=this.index,p=b.series,q=p.length,s,A=h(b.options.reversedStacks,!0)?1:-1,D,E;if(this.options.stacking){for(D=0;D<k.length;D++)g[k[D].x]=k[D];for(E in f)null!==f[E].total&&a.push(E);a.sort(function(a,b){return a-b});s=m(p,function(){return this.visible});n(a,function(h,k){var m=0,p,v;if(g[h]&&!g[h].isNull)d.push(g[h]),n([-1,1],function(b){var d=1===b?"rightNull":"leftNull",e=0,r=f[a[k+b]];if(r)for(D=l;0<=D&&D<q;)p=r.points[D],p||(D===l?g[h][d]=!0:s[D]&&(v=f[h].points[D])&&(e-=v[1]-
v[0])),D+=A;g[h][1===b?"rightCliff":"leftCliff"]=e});else{for(D=l;0<=D&&D<q;){if(p=f[h].points[D]){m=p[1];break}D+=A}m=b.translate(m,0,1,0,1);d.push({isNull:!0,plotX:e.translate(h,0,0,0,1),x:h,plotY:m,yBottom:m})}})}return d},getGraphPath:function(d){var a=e.prototype.getGraphPath,f=this.options,b=f.stacking,g=this.yAxis,k,m,n=[],l=[],p=this.index,q,s=g.stacks[this.stackKey],D=f.threshold,E=g.getThreshold(f.threshold),B,f=f.connectNulls||"percent"===b,C=function(a,e,f){var h=d[a];a=b&&s[h.x].points[p];
var k=h[f+"Null"]||0;f=h[f+"Cliff"]||0;var r,m,h=!0;f||k?(r=(k?a[0]:a[1])+f,m=a[0]+f,h=!!k):!b&&(d[e]&&d[e].isNull)&&(r=m=D);void 0!==r&&(l.push({plotX:q,plotY:null===r?E:g.getThreshold(r),isNull:h,isCliff:!0}),n.push({plotX:q,plotY:null===m?E:g.getThreshold(m),doCurve:!1}))};d=d||this.points;b&&(d=this.getStackPoints());for(k=0;k<d.length;k++)if(m=d[k].isNull,q=h(d[k].rectPlotX,d[k].plotX),B=h(d[k].yBottom,E),!m||f){f||C(k,k-1,"left");if(!m||b||!f)l.push(d[k]),n.push({x:k,plotX:q,plotY:B});f||C(k,
k+1,"right")}k=a.call(this,l,!0,!0);n.reversed=!0;m=a.call(this,n,!0,!0);m.length&&(m[0]="L");m=k.concat(m);a=a.call(this,l,!1,f);m.xMap=k.xMap;this.areaPath=m;return a},drawGraph:function(){this.areaPath=[];e.prototype.drawGraph.apply(this);var d=this,a=this.areaPath,f=this.options,b=[["area","highcharts-area",this.color,f.fillColor]];n(this.zones,function(a,e){b.push(["zone-area-"+e,"highcharts-area highcharts-zone-area-"+e+" "+a.className,a.color||d.color,a.fillColor||f.fillColor])});n(b,function(b){var e=
b[0],g=d[e];g?(g.endX=a.xMap,g.animate({d:a})):(g=d[e]=d.chart.renderer.path(a).addClass(b[1]).attr({fill:h(b[3],k(b[2]).setOpacity(h(f.fillOpacity,0.75)).get()),zIndex:0}).add(d.group),g.isArea=!0);g.startX=a.xMap;g.shiftUnit=f.step?2:1})},drawLegendSymbol:f.LegendSymbolMixin.drawRectangle})})(l);(function(f){var k=f.pick;f=f.seriesType;f("spline","line",{},{getPointSpline:function(f,m,h){var e=m.plotX,g=m.plotY,d=f[h-1];h=f[h+1];var a,r,b,l;if(d&&!d.isNull&&!1!==d.doCurve&&!m.isCliff&&h&&!h.isNull&&
!1!==h.doCurve&&!m.isCliff){f=d.plotY;b=h.plotX;h=h.plotY;var p=0;a=(1.5*e+d.plotX)/2.5;r=(1.5*g+f)/2.5;b=(1.5*e+b)/2.5;l=(1.5*g+h)/2.5;b!==a&&(p=(l-r)*(b-e)/(b-a)+g-l);r+=p;l+=p;r>f&&r>g?(r=Math.max(f,g),l=2*g-r):r<f&&r<g&&(r=Math.min(f,g),l=2*g-r);l>h&&l>g?(l=Math.max(h,g),r=2*g-l):l<h&&l<g&&(l=Math.min(h,g),r=2*g-l);m.rightContX=b;m.rightContY=l}m=["C",k(d.rightContX,d.plotX),k(d.rightContY,d.plotY),k(a,e),k(r,g),e,g];d.rightContX=d.rightContY=null;return m}})})(l);(function(f){var k=f.seriesTypes.area.prototype,
n=f.seriesType;n("areaspline","spline",f.defaultPlotOptions.area,{getStackPoints:k.getStackPoints,getGraphPath:k.getGraphPath,setStackCliffs:k.setStackCliffs,drawGraph:k.drawGraph,drawLegendSymbol:f.LegendSymbolMixin.drawRectangle})})(l);(function(f){var k=f.animObject,n=f.color,m=f.each,h=f.extend,e=f.isNumber,g=f.merge,d=f.pick,a=f.Series,r=f.seriesType,b=f.svg;r("column","line",{borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,
brightness:0.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){a.prototype.init.apply(this,arguments);var b=this,d=b.chart;d.hasRendered&&m(d.series,function(a){a.type===b.type&&(a.isDirty=!0)})},getColumnMetrics:function(){var a=
this,b=a.options,e=a.xAxis,f=a.yAxis,g=e.reversed,h,k={},r=0;!1===b.grouping?r=1:m(a.chart.series,function(b){var d=b.options,e=b.yAxis,g;b.type===a.type&&(b.visible&&f.len===e.len&&f.pos===e.pos)&&(d.stacking?(h=b.stackKey,void 0===k[h]&&(k[h]=r++),g=k[h]):!1!==d.grouping&&(g=r++),b.columnIndex=g)});var n=Math.min(Math.abs(e.transA)*(e.ordinalSlope||b.pointRange||e.closestPointRange||e.tickInterval||1),e.len),l=n*b.groupPadding,p=(n-2*l)/(r||1),b=Math.min(b.maxPointWidth||e.len,d(b.pointWidth,p*
(1-2*b.pointPadding)));a.columnMetrics={width:b,offset:(p-b)/2+(l+((a.columnIndex||0)+(g?1:0))*p-n/2)*(g?-1:1)};return a.columnMetrics},crispCol:function(a,b,d,e){var f=this.chart,g=this.borderWidth,h=-(g%2?0.5:0),g=g%2?0.5:1;f.inverted&&f.renderer.isVML&&(g+=1);d=Math.round(a+d)+h;a=Math.round(a)+h;d-=a;e=Math.round(b+e)+g;h=0.5>=Math.abs(b)&&0.5<e;b=Math.round(b)+g;e-=b;h&&e&&(b-=1,e+=1);return{x:a,y:b,width:d,height:e}},translate:function(){var b=this,e=b.chart,f=b.options,g=b.dense=2>b.closestPointRange*
b.xAxis.transA,g=b.borderWidth=d(f.borderWidth,g?0:1),h=b.yAxis,k=b.translatedThreshold=h.getThreshold(f.threshold),r=d(f.minPointLength,5),n=b.getColumnMetrics(),l=n.width,p=b.barW=Math.max(l,1+2*g),q=b.pointXOffset=n.offset;e.inverted&&(k-=0.5);f.pointPadding&&(p=Math.ceil(p));a.prototype.translate.apply(b);m(b.points,function(a){var f=d(a.yBottom,k),g=999+Math.abs(f),g=Math.min(Math.max(-g,a.plotY),h.len+g),m=a.plotX+q,n=p,s=Math.min(g,f),v,z=Math.max(g,f)-s;Math.abs(z)<r&&r&&(z=r,v=!h.reversed&&
!a.negative||h.reversed&&a.negative,s=Math.abs(s-k)>r?f-r:k-(v?r:0));a.barX=m;a.pointWidth=l;a.tooltipPos=e.inverted?[h.len+h.pos-e.plotLeft-g,b.xAxis.len-m-n/2,z]:[m+n/2,g+h.pos-e.plotTop,z];a.shapeType="rect";a.shapeArgs=b.crispCol.apply(b,a.isNull?[a.plotX,h.len/2,0,0]:[m,s,n,z])})},getSymbol:f.noop,drawLegendSymbol:f.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,b){var d=this.options,e,f,h=
this.pointAttrToOptions||{};f=h.stroke||"borderColor";var k=h["stroke-width"]||"borderWidth",r=a&&a.color||this.color,m=a[f]||d[f]||this.color||r,l=a[k]||d[k]||this[k]||0,h=d.dashStyle,p;a&&this.zones.length&&(r=(e=a.getZone())&&e.color||a.options.color||this.color);b&&(e=g(d.states[b],a.options.states&&a.options.states[b]||{}),p=e.brightness,r=e.color||void 0!==p&&n(r).brighten(e.brightness).get()||r,m=e[f]||m,l=e[k]||l,h=e.dashStyle||h);f={fill:r,stroke:m,"stroke-width":l};d.borderRadius&&(f.r=
d.borderRadius);h&&(f.dashstyle=h);return f},drawPoints:function(){var a=this,b=this.chart,d=a.options,f=b.renderer,h=d.animationLimit||250,k;m(a.points,function(r){var m=r.graphic;if(e(r.plotY)&&null!==r.y){k=r.shapeArgs;if(m)m[b.pointCount<h?"animate":"attr"](g(k));else r.graphic=m=f[r.shapeType](k).add(r.group||a.group);m.attr(a.pointAttribs(r,r.selected&&"select")).shadow(d.shadow,null,d.stacking&&!d.borderRadius);m.addClass(r.getClassName(),!0)}else m&&(r.graphic=m.destroy())})},animate:function(a){var d=
this,e=this.yAxis,f=d.options,g=this.chart.inverted,r={};b&&(a?(r.scaleY=0.001,a=Math.min(e.pos+e.len,Math.max(e.pos,e.toPixels(f.threshold))),g?r.translateX=a-e.len:r.translateY=a,d.group.attr(r)):(r[g?"translateX":"translateY"]=e.pos,d.group.animate(r,h(k(d.options.animation),{step:function(a,b){d.group.attr({scaleY:Math.max(0.001,b.pos)})}})),d.animate=null))},remove:function(){var b=this,d=b.chart;d.hasRendered&&m(d.series,function(a){a.type===b.type&&(a.isDirty=!0)});a.prototype.remove.apply(b,
arguments)}})})(l);(function(f){f=f.seriesType;f("bar","column",null,{inverted:!0})})(l);(function(f){var k=f.Series;f=f.seriesType;f("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cspan style\x3d"font-size: 0.85em"\x3e {series.name}\x3c/span\x3e\x3cbr/\x3e',pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group",
"markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&k.prototype.drawGraph.call(this)}})})(l);(function(f){var k=f.pick,n=f.relativeLength;f.CenteredSeriesMixin={getCenter:function(){var f=this.options,h=this.chart,e=2*(f.slicedOffset||0),g=h.plotWidth-2*e,h=h.plotHeight-2*e,d=f.center,d=[k(d[0],"50%"),k(d[1],"50%"),f.size||"100%",f.innerSize||0],a=Math.min(g,h),r,b;for(r=0;4>r;++r)b=d[r],f=2>r||2===r&&/%$/.test(b),d[r]=n(b,[g,h,a,d[2]][r])+
(f?e:0);d[3]>d[2]&&(d[3]=d[2]);return d}}})(l);(function(f){var k=f.addEvent,n=f.defined,m=f.each,h=f.extend,e=f.inArray,g=f.noop,d=f.pick,a=f.Point,r=f.Series,b=f.seriesType,l=f.setAnimation;b("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",
borderWidth:1,states:{hover:{brightness:0.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:f.seriesTypes.column.prototype.pointAttribs,animate:function(a){var b=this,d=b.points,e=b.startAngleRad;a||(m(d,function(a){var d=a.graphic,f=a.shapeArgs;d&&(d.attr({r:a.startR||b.center[3]/2,start:e,end:e}),d.animate({r:f.r,start:f.start,end:f.end},b.options.animation))}),b.animate=null)},updateTotals:function(){var a,
b=0,d=this.points,e=d.length,f,g=this.options.ignoreHiddenPoint;for(a=0;a<e;a++)f=d[a],0>f.y&&(f.y=null),b+=g&&!f.visible?0:f.y;this.total=b;for(a=0;a<e;a++)f=d[a],f.percentage=0<b&&(f.visible||!g)?100*(f.y/b):0,f.total=b},generatePoints:function(){r.prototype.generatePoints.call(this);this.updateTotals()},translate:function(a){this.generatePoints();var b=0,e=this.options,f=e.slicedOffset,g=f+(e.borderWidth||0),h,k,r,m=e.startAngle||0,n=this.startAngleRad=Math.PI/180*(m-90),m=(this.endAngleRad=Math.PI/
180*(d(e.endAngle,m+360)-90))-n,l=this.points,t=e.dataLabels.distance,e=e.ignoreHiddenPoint,p,q=l.length,s;a||(this.center=a=this.getCenter());this.getX=function(b,d){r=Math.asin(Math.min((b-a[1])/(a[2]/2+t),1));return a[0]+(d?-1:1)*Math.cos(r)*(a[2]/2+t)};for(p=0;p<q;p++){s=l[p];h=n+b*m;if(!e||s.visible)b+=s.percentage/100;k=n+b*m;s.shapeType="arc";s.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1E3*h)/1E3,end:Math.round(1E3*k)/1E3};r=(k+h)/2;r>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/
2&&(r+=2*Math.PI);s.slicedTranslation={translateX:Math.round(Math.cos(r)*f),translateY:Math.round(Math.sin(r)*f)};h=Math.cos(r)*a[2]/2;k=Math.sin(r)*a[2]/2;s.tooltipPos=[a[0]+0.7*h,a[1]+0.7*k];s.half=r<-Math.PI/2||r>Math.PI/2?1:0;s.angle=r;g=Math.min(g,t/5);s.labelPos=[a[0]+h+Math.cos(r)*t,a[1]+k+Math.sin(r)*t,a[0]+h+Math.cos(r)*g,a[1]+k+Math.sin(r)*g,a[0]+h,a[1]+k,0>t?"center":s.half?"right":"left",r]}},drawGraph:null,drawPoints:function(){var a=this,b=a.chart.renderer,d,e,f,g,k=a.options.shadow;
k&&!a.shadowGroup&&(a.shadowGroup=b.g("shadow").add(a.group));m(a.points,function(r){if(null!==r.y){e=r.graphic;g=r.shapeArgs;d=r.getTranslate();var m=r.shadowGroup;k&&!m&&(m=r.shadowGroup=b.g("shadow").add(a.shadowGroup));m&&m.attr(d);f=a.pointAttribs(r,r.selected&&"select");e?e.setRadialReference(a.center).attr(f).animate(h(g,d)):(r.graphic=e=b[r.shapeType](g).setRadialReference(a.center).attr(d).add(a.group),r.visible||e.attr({visibility:"hidden"}),e.attr(f).attr({"stroke-linejoin":"round"}).shadow(k,
m));e.addClass(r.getClassName())}})},searchPoint:g,sortByAngle:function(a,b){a.sort(function(a,d){return void 0!==a.angle&&(d.angle-a.angle)*b})},drawLegendSymbol:f.LegendSymbolMixin.drawRectangle,getCenter:f.CenteredSeriesMixin.getCenter,getSymbol:g},{init:function(){a.prototype.init.apply(this,arguments);var b=this,e;b.name=d(b.name,"Slice");e=function(a){b.slice("select"===a.type)};k(b,"select",e);k(b,"unselect",e);return b},setVisible:function(a,b){var f=this,g=f.series,h=g.chart,k=g.options.ignoreHiddenPoint;
b=d(b,k);a!==f.visible&&(f.visible=f.options.visible=a=void 0===a?!f.visible:a,g.options.data[e(f,g.data)]=f.options,m(["graphic","dataLabel","connector","shadowGroup"],function(b){if(f[b])f[b][a?"show":"hide"](!0)}),f.legendItem&&h.legend.colorizeItem(f,a),!a&&"hover"===f.state&&f.setState(""),k&&(g.isDirty=!0),b&&h.redraw())},slice:function(a,b,f){var g=this.series;l(f,g.chart);d(b,!0);this.sliced=this.options.sliced=n(a)?a:!this.sliced;g.options.data[e(this,g.data)]=this.options;this.graphic.animate(this.getTranslate());
this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}})})(l);(function(f){var k=f.addEvent,n=f.arrayMax,m=f.defined,h=f.each,e=f.extend,g=f.format,d=f.map,a=f.merge,r=f.noop,b=f.pick,l=f.relativeLength,p=f.Series,
q=f.seriesTypes,s=f.stableSort;f.distribute=function(a,b){function e(a,b){return a.target-b.target}var f,g=!0,k=a,r=[],m;m=0;for(f=a.length;f--;)m+=a[f].size;if(m>b){s(a,function(a,b){return(b.rank||0)-(a.rank||0)});for(m=f=0;m<=b;)m+=a[f].size,f++;r=a.splice(f-1,a.length)}s(a,e);for(a=d(a,function(a){return{size:a.size,targets:[a.target]}});g;){for(f=a.length;f--;)g=a[f],m=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=Math.min(Math.max(0,m-g.size/2),b-g.size);f=a.length;for(g=
!1;f--;)0<f&&a[f-1].pos+a[f-1].size>a[f].pos&&(a[f-1].size+=a[f].size,a[f-1].targets=a[f-1].targets.concat(a[f].targets),a[f-1].pos+a[f-1].size>b&&(a[f-1].pos=b-a[f-1].size),a.splice(f,1),g=!0)}f=0;h(a,function(a){var b=0;h(a.targets,function(){k[f].pos=a.pos+b;b+=k[f].size;f++})});k.push.apply(k,r);s(k,e)};p.prototype.drawDataLabels=function(){var d=this,e=d.options,f=e.dataLabels,r=d.points,n,l,t=d.hasRendered||0,p,q,s=b(f.defer,!0),u=d.chart.renderer;if(f.enabled||d._hasPointLabels)d.dlProcessOptions&&
d.dlProcessOptions(f),q=d.plotGroup("dataLabelsGroup","data-labels",s&&!t?"hidden":"visible",f.zIndex||6),s&&(q.attr({opacity:+t}),t||k(d,"afterAnimate",function(){d.visible&&q.show(!0);q[e.animation?"animate":"attr"]({opacity:1},{duration:200})})),l=f,h(r,function(h){var k,r=h.dataLabel,t,s,v,z=h.connector,A=!r,B;n=h.dlOptions||h.options&&h.options.dataLabels;if(k=b(n&&n.enabled,l.enabled)&&null!==h.y)for(s in f=a(l,n),t=h.getLabelConfig(),p=f.format?g(f.format,t):f.formatter.call(t,f),B=f.style,
v=f.rotation,B.color=b(f.color,B.color,d.color,"#000000"),"contrast"===B.color&&(B.color=f.inside||0>f.distance||e.stacking?u.getContrast(h.color||d.color):"#000000"),e.cursor&&(B.cursor=e.cursor),t={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:v,padding:f.padding,zIndex:1},t)void 0===t[s]&&delete t[s];r&&(!k||!m(p))?(h.dataLabel=r.destroy(),z&&(h.connector=z.destroy())):k&&m(p)&&(r?t.text=p:(r=h.dataLabel=u[v?"text":"label"](p,0,-9999,f.shape,
null,null,f.useHTML,null,"data-label"),r.addClass("highcharts-data-label-color-"+h.colorIndex+" "+(f.className||"")+(f.useHTML?"highcharts-tracker":""))),r.attr(t),r.css(B).shadow(f.shadow),r.added||r.add(q),d.alignDataLabel(h,r,f,null,A))})};p.prototype.alignDataLabel=function(a,d,f,g,h){var k=this.chart,r=k.inverted,m=b(a.plotX,-9999),n=b(a.plotY,-9999),l=d.getBBox(),t,p=f.rotation,q=f.align,s=this.visible&&(a.series.forceDL||k.isInsidePlot(m,Math.round(n),r)||g&&k.isInsidePlot(m,r?g.x+1:g.y+g.height-
1,r)),u="justify"===b(f.overflow,"justify");s&&(t=f.style.fontSize,t=k.renderer.fontMetrics(t,d).b,g=e({x:r?k.plotWidth-n:m,y:Math.round(r?k.plotHeight-m:n),width:0,height:0},g),e(f,{width:l.width,height:l.height}),p?(u=!1,r=k.renderer.rotCorr(t,p),r={x:g.x+f.x+g.width/2+r.x,y:g.y+f.y+{top:0,middle:0.5,bottom:1}[f.verticalAlign]*g.height},d[h?"attr":"animate"](r).attr({align:q}),m=(p+720)%360,m=180<m&&360>m,"left"===q?r.y-=m?l.height:0:"center"===q?(r.x-=l.width/2,r.y-=l.height/2):"right"===q&&(r.x-=
l.width,r.y-=m?0:l.height)):(d.align(f,null,g),r=d.alignAttr),u?this.justifyDataLabel(d,f,r,l,g,h):b(f.crop,!0)&&(s=k.isInsidePlot(r.x,r.y)&&k.isInsidePlot(r.x+l.width,r.y+l.height)),f.shape&&!p&&d.attr({anchorX:a.plotX,anchorY:a.plotY}));s||(d.attr({y:-9999}),d.placed=!1)};p.prototype.justifyDataLabel=function(a,b,d,e,f,g){var h=this.chart,k=b.align,r=b.verticalAlign,m,n,l=a.box?0:a.padding||0;m=d.x+l;0>m&&("right"===k?b.align="left":b.x=-m,n=!0);m=d.x+e.width-l;m>h.plotWidth&&("left"===k?b.align=
"right":b.x=h.plotWidth-m,n=!0);m=d.y+l;0>m&&("bottom"===r?b.verticalAlign="top":b.y=-m,n=!0);m=d.y+e.height-l;m>h.plotHeight&&("top"===r?b.verticalAlign="bottom":b.y=h.plotHeight-m,n=!0);n&&(a.placed=!g,a.align(b,null,f))};q.pie&&(q.pie.prototype.drawDataLabels=function(){var a=this,e=a.data,g,k=a.chart,r=a.options.dataLabels,m=b(r.connectorPadding,10),l=b(r.connectorWidth,1),t=k.plotWidth,q=k.plotHeight,s,v=r.distance,z=a.center,K=z[2]/2,J=z[1],M=0<v,I,O,P,N,Q=[[],[]],S,R,W,Y,T=[0,0,0,0];if(a.visible&&
(r.enabled||a._hasPointLabels))if(h(e,function(a){a.dataLabel&&(a.visible&&a.dataLabel.shortened)&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),p.prototype.drawDataLabels.apply(a),h(e,function(a){a.dataLabel&&a.visible&&(Q[a.half].push(a),a.dataLabel._pos=null)}),h(Q,function(b,e){var h,n,l=b.length,p,s,u;if(l){a.sortByAngle(b,e-0.5);0<v&&(h=Math.max(0,J-K-v),n=Math.min(J+K+v,k.plotHeight),p=d(b,function(a){if(a.dataLabel)return u=a.dataLabel.getBBox().height||
21,{target:a.labelPos[1]-h+u/2,size:u,rank:a.y}}),f.distribute(p,n+u-h));for(Y=0;Y<l;Y++)g=b[Y],P=g.labelPos,I=g.dataLabel,W=!1===g.visible?"hidden":"inherit",s=P[1],p?void 0===p[Y].pos?W="hidden":(N=p[Y].size,R=h+p[Y].pos):R=s,S=r.justify?z[0]+(e?-1:1)*(K+v):a.getX(R<h+2||R>n-2?s:R,e),I._attr={visibility:W,align:P[6]},I._pos={x:S+r.x+({left:m,right:-m}[P[6]]||0),y:R+r.y-10},P.x=S,P.y=R,null===a.options.size&&(O=I.getBBox().width,s=null,S-O<m?(s=Math.round(O-S+m),T[3]=Math.max(s,T[3])):S+O>t-m&&(s=
Math.round(S+O-t+m),T[1]=Math.max(s,T[1])),0>R-N/2?T[0]=Math.max(Math.round(-R+N/2),T[0]):R+N/2>q&&(T[2]=Math.max(Math.round(R+N/2-q),T[2])),I.sideOverflow=s)}}),0===n(T)||this.verifyDataLabelOverflow(T))this.placeDataLabels(),M&&l&&h(this.points,function(b){var d;s=b.connector;if((I=b.dataLabel)&&I._pos&&b.visible){W=I._attr.visibility;if(d=!s)b.connector=s=k.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+b.colorIndex).add(a.dataLabelsGroup),s.attr({"stroke-width":l,
stroke:r.connectorColor||b.color||"#666666"});s[d?"attr":"animate"]({d:a.connectorPath(b.labelPos)});s.attr("visibility",W)}else s&&(b.connector=s.destroy())})},q.pie.prototype.connectorPath=function(a){var d=a.x,e=a.y;return b(this.options.dataLabels.softConnector,!0)?["M",d+("left"===a[6]?5:-5),e,"C",d,e,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",d+("left"===a[6]?5:-5),e,"L",a[2],a[3],"L",a[4],a[5]]},q.pie.prototype.placeDataLabels=function(){h(this.points,function(a){var b=a.dataLabel;
b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},q.pie.prototype.alignDataLabel=r,q.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,d=this.options,e=d.center,f=d.minSize||80,g=f,h;null!==e[0]?g=Math.max(b[2]-Math.max(a[1],a[3]),f):(g=Math.max(b[2]-a[1]-a[3],f),b[0]+=(a[3]-a[1])/
2);null!==e[1]?g=Math.max(Math.min(g,b[2]-Math.max(a[0],a[2])),f):(g=Math.max(Math.min(g,b[2]-a[0]-a[2]),f),b[1]+=(a[0]-a[2])/2);g<b[2]?(b[2]=g,b[3]=Math.min(l(d.innerSize||0,g),g),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):h=!0;return h});q.column&&(q.column.prototype.alignDataLabel=function(d,e,f,g,h){var k=this.chart.inverted,r=d.series,m=d.dlBox||d.shapeArgs,n=b(d.below,d.plotY>b(this.translatedThreshold,r.yAxis.len)),l=b(f.inside,!!this.options.stacking);m&&(g=a(m),0>g.y&&
(g.height+=g.y,g.y=0),m=g.y+g.height-r.yAxis.len,0<m&&(g.height-=m),k&&(g={x:r.yAxis.len-g.y-g.height,y:r.xAxis.len-g.x-g.width,width:g.height,height:g.width}),l||(k?(g.x+=n?0:g.width,g.width=0):(g.y+=n?g.height:0,g.height=0)));f.align=b(f.align,!k||l?"center":n?"right":"left");f.verticalAlign=b(f.verticalAlign,k||l?"middle":n?"top":"bottom");p.prototype.alignDataLabel.call(this,d,e,f,g,h)})})(l);(function(f){var k=f.Chart,n=f.each,m=f.pick,h=f.addEvent;k.prototype.callbacks.push(function(e){function f(){var d=
[];n(e.series||[],function(a){var e=a.options.dataLabels,b=a.dataLabelCollections||["dataLabel"];(e.enabled||a._hasPointLabels)&&(!e.allowOverlap&&a.visible)&&n(b,function(b){n(a.points,function(a){a[b]&&(a[b].labelrank=m(a.labelrank,a.shapeArgs&&a.shapeArgs.height),d.push(a[b]))})})});e.hideOverlappingLabels(d)}f();h(e,"redraw",f)});k.prototype.hideOverlappingLabels=function(e){var f=e.length,d,a,h,b,k,m,l,p,q;for(a=0;a<f;a++)if(d=e[a])d.oldOpacity=d.opacity,d.newOpacity=1;e.sort(function(a,b){return(b.labelrank||
0)-(a.labelrank||0)});for(a=0;a<f;a++){h=e[a];for(d=a+1;d<f;++d)if(b=e[d],h&&(b&&h.placed&&b.placed&&0!==h.newOpacity&&0!==b.newOpacity)&&(k=h.alignAttr,m=b.alignAttr,l=h.parentGroup,p=b.parentGroup,q=2*(h.box?0:h.padding),k=!(m.x+p.translateX>k.x+l.translateX+(h.width-q)||m.x+p.translateX+(b.width-q)<k.x+l.translateX||m.y+p.translateY>k.y+l.translateY+(h.height-q)||m.y+p.translateY+(b.height-q)<k.y+l.translateY)))(h.labelrank<b.labelrank?h:b).newOpacity=0}n(e,function(a){var b,d;a&&(d=a.newOpacity,
a.oldOpacity!==d&&a.placed&&(d?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=d,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}})(l);(function(f){var k=f.addEvent,n=f.Chart,m=f.createElement,h=f.css,e=f.defaultOptions,g=f.defaultPlotOptions,d=f.each,a=f.extend,r=f.fireEvent,b=f.hasTouch,l=f.inArray,p=f.isObject,q=f.Legend,s=f.merge,y=f.pick,w=f.Point,x=f.Series,A=f.seriesTypes,D=f.svg;f=f.TrackerMixin={drawTrackerPoint:function(){var a=this,e=a.chart.pointer,f=function(a){var b=
e.getPointFromEvent(a);if(void 0!==b)b.onMouseOver(a)};d(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)});a._hasTracking||(d(a.trackerGroups,function(d){if(a[d]){a[d].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){e.onTrackerMouseOut(a)});if(b)a[d].on("touchstart",f);a.options.cursor&&a[d].css(h).css({cursor:a.options.cursor})}}),a._hasTracking=!0)},drawTrackerGraph:function(){var a=
this,e=a.options,f=e.trackByArea,g=[].concat(f?a.areaPath:a.graphPath),h=g.length,k=a.chart,r=k.pointer,m=k.renderer,n=k.options.tooltip.snap,l=a.tracker,p,t=function(){if(k.hoverSeries!==a)a.onMouseOver()},q="rgba(192,192,192,"+(D?1E-4:0.002)+")";if(h&&!f)for(p=h+1;p--;)"M"===g[p]&&g.splice(p+1,0,g[p+1]-n,g[p+2],"L"),(p&&"M"===g[p]||p===h)&&g.splice(p,0,"L",g[p-2]+n,g[p-1]);l?l.attr({d:g}):a.graph&&(a.tracker=m.path(g).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:q,
fill:f?q:"none","stroke-width":a.graph.strokeWidth()+(f?0:2*n),zIndex:2}).add(a.group),d([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(a){r.onTrackerMouseOut(a)});e.cursor&&a.css({cursor:e.cursor});if(b)a.on("touchstart",t)}))}};A.column&&(A.column.prototype.drawTracker=f.drawTrackerPoint);A.pie&&(A.pie.prototype.drawTracker=f.drawTrackerPoint);A.scatter&&(A.scatter.prototype.drawTracker=f.drawTrackerPoint);a(q.prototype,{setItemEvents:function(a,
b,d){var e=this,f=e.chart.renderer.boxWrapper,g="highcharts-legend-"+(a.series?"point":"series")+"-active";(d?b:a.legendGroup).on("mouseover",function(){a.setState("hover");f.addClass(g);b.css(e.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?e.itemStyle:e.itemHiddenStyle);f.removeClass(g);a.setState()}).on("click",function(b){var d=function(){a.setVisible&&a.setVisible()};b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,d):r(a,"legendItemClick",b,d)})},
createCheckboxForItem:function(a){a.checkbox=m("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);k(a.checkbox,"click",function(b){r(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});e.legend.itemStyle.cursor="pointer";a(n.prototype,{showResetZoom:function(){var a=this,b=e.lang,d=a.options.chart.resetZoomButton,f=d.theme,g=f.states,h="chart"===d.relativeTo?null:"plotBox";this.resetZoomButton=
a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},f,g&&g.hover).attr({align:d.position.align,title:b.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(d.position,!1,h)},zoomOut:function(){var a=this;r(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,e=this.pointer,f=!1,g;!a||a.resetSelection?d(this.axes,function(a){b=a.zoom()}):d(a.xAxis.concat(a.yAxis),function(a){var d=a.axis;if(e[d.isXAxis?"zoomX":"zoomY"])b=d.zoom(a.min,a.max),d.displayBtn&&
(f=!0)});g=this.resetZoomButton;f&&!g?this.showResetZoom():!f&&p(g)&&(this.resetZoomButton=g.destroy());b&&this.redraw(y(this.options.chart.animation,a&&a.animation,100>this.pointCount))},pan:function(a,b){var e=this,f=e.hoverPoints,g;f&&d(f,function(a){a.setState()});d("xy"===b?[1,0]:[1],function(b){b=e[b?"xAxis":"yAxis"][0];var d=b.horiz,f=a[d?"chartX":"chartY"],d=d?"mouseDownX":"mouseDownY",h=e[d],k=(b.pointRange||0)/2,r=b.getExtremes(),m=b.toValue(h-f,!0)+k,k=b.toValue(h+b.len-f,!0)-k,n=k<m,h=
n?k:m,m=n?m:k,n=b.toValue(b.toPixels(r.min)-b.minPixelPadding),k=b.toValue(b.toPixels(r.max)+b.minPixelPadding),n=Math.min(r.dataMin,n)-h,r=m-Math.max(r.dataMax,k);b.series.length&&(0>n&&0>r)&&(b.setExtremes(h,m,!1,!1,{trigger:"pan"}),g=!0);e[d]=f});g&&e.redraw(!1);h(e.container,{cursor:"move"})}});a(w.prototype,{select:function(a,b){var e=this,f=e.series,g=f.chart;a=y(a,!e.selected);e.firePointEvent(a?"select":"unselect",{accumulate:b},function(){e.selected=e.options.selected=a;f.options.data[l(e,
f.data)]=e.options;e.setState(a&&"select");b||d(g.getSelectedPoints(),function(a){a.selected&&a!==e&&(a.selected=a.options.selected=!1,f.options.data[l(a,f.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series.chart.pointer;this.firePointEvent("mouseOver");b.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;this.firePointEvent("mouseOut");d(a.hoverPoints||[],function(a){a.setState()});a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var a=
s(this.series.options.point,this.options).events,b;this.events=a;for(b in a)k(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(b,d){var e=Math.floor(this.plotX),f=this.plotY,h=this.series,k=h.options.states[b]||{},r=g[h.type].marker&&h.options.marker,m=r&&!1===r.enabled,n=r&&r.states&&r.states[b]||{},l=!1===n.enabled,p=h.stateMarkerGraphic,t=this.marker||{},q=h.chart,s=h.halo,u,v=r&&h.markerAttribs;b=b||"";if(!(b===this.state&&!d||this.selected&&"select"!==b||!1===k.enabled||b&&(l||m&&!1===
n.enabled)||b&&t.states&&t.states[b]&&!1===t.states[b].enabled)){v&&(u=h.markerAttribs(this,b));if(this.graphic)this.state&&this.graphic.removeClass("highcharts-point-"+this.state),b&&this.graphic.addClass("highcharts-point-"+b),this.graphic.attr(h.pointAttribs(this,b)),u&&this.graphic.animate(u,y(q.options.chart.animation,n.animation,r.animation)),p&&p.hide();else{if(b&&n){r=t.symbol||h.symbol;p&&p.currentSymbol!==r&&(p=p.destroy());if(p)p[d?"animate":"attr"]({x:u.x,y:u.y});else r&&(h.stateMarkerGraphic=
p=q.renderer.symbol(r,u.x,u.y,u.width,u.height).add(h.markerGroup),p.currentSymbol=r);p&&p.attr(h.pointAttribs(this,b))}p&&(p[b&&q.isInsidePlot(e,f,q.inverted)?"show":"hide"](),p.element.point=this)}(e=k.halo)&&e.size?(s||(h.halo=s=q.renderer.path().add(v?h.markerGroup:h.group)),s[d?"animate":"attr"]({d:this.haloPath(e.size)}),s.attr({"class":"highcharts-halo highcharts-color-"+y(this.colorIndex,h.colorIndex)}),s.point=this,s.attr(a({fill:this.color||h.color,"fill-opacity":e.opacity,zIndex:-1},e.attributes))):
s&&(s.point&&s.point.haloPath)&&s.animate({d:s.point.haloPath(0)});this.state=b}},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}});a(x.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&r(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,d=b.tooltip,e=b.hoverPoint;b.hoverSeries=null;if(e)e.onMouseOut();
this&&a.events.mouseOut&&r(this,"mouseOut");d&&(!a.stickyTracking&&(!d.shared||this.noSharedTooltip))&&d.hide();this.setState()},setState:function(a){var b=this,e=b.options,f=b.graph,g=e.states,h=e.lineWidth,e=0;a=a||"";if(b.state!==a&&(d([b.group,b.markerGroup,b.dataLabelsGroup],function(d){d&&(b.state&&d.removeClass("highcharts-series-"+b.state),a&&d.addClass("highcharts-series-"+a))}),b.state=a,!(g[a]&&!1===g[a].enabled)&&(a&&(h=g[a].lineWidth||h+(g[a].lineWidthPlus||0)),f&&!f.dashstyle))){h={"stroke-width":h};
for(f.animate(h,y(b.chart.options.chart.animation,g[a]&&g[a].animation));b["zone-graph-"+e];)b["zone-graph-"+e].attr(h),e+=1}},setVisible:function(a,b){var e=this,f=e.chart,g=e.legendItem,h,k=f.options.chart.ignoreHiddenSeries,m=e.visible;h=(e.visible=a=e.options.visible=e.userOptions.visible=void 0===a?!m:a)?"show":"hide";d(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){if(e[a])e[a][h]()});if(f.hoverSeries===e||(f.hoverPoint&&f.hoverPoint.series)===e)e.onMouseOut();g&&f.legend.colorizeItem(e,
a);e.isDirty=!0;e.options.stacking&&d(f.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});d(e.linkedSeries,function(b){b.setVisible(a,!1)});k&&(f.isDirtyBox=!0);!1!==b&&f.redraw();r(e,h)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);r(this,a?"select":"unselect")},drawTracker:f.drawTrackerGraph})})(l);(function(f){var k=f.Chart,n=f.each,m=f.inArray,h=
f.isArray,e=f.isObject,g=f.pick,d=f.splat;k.prototype.setResponsive=function(a){var d=this.options.responsive,b=[],e=this.currentResponsive;d&&d.rules&&n(d.rules,function(d){void 0===d._id&&(d._id=f.uniqueKey());this.matchResponsiveRule(d,b,a)},this);var g=f.merge.apply(0,f.map(b,function(a){return f.find(d.rules,function(b){return b._id===a}).chartOptions})),b=b.toString()||void 0;b!==(e&&e.ruleIds)&&(e&&this.update(e.undoOptions,a),b?(this.currentResponsive={ruleIds:b,mergedOptions:g,undoOptions:this.currentOptions(g)},
this.update(g,a)):this.currentResponsive=void 0)};k.prototype.matchResponsiveRule=function(a,d){var b=a.condition;(b.callback||function(){return this.chartWidth<=g(b.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=g(b.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=g(b.minWidth,0)&&this.chartHeight>=g(b.minHeight,0)}).call(this)&&d.push(a._id)};k.prototype.currentOptions=function(a){function f(a,b,g,k){var n,l;for(n in a)if(!k&&-1<m(n,["series","xAxis","yAxis"])){a[n]=d(a[n]);g[n]=[];for(l=0;l<a[n].length;l++)b[n][l]&&
(g[n][l]={},f(a[n][l],b[n][l],g[n][l],k+1))}else e(a[n])?(g[n]=h(a[n])?[]:{},f(a[n],b[n]||{},g[n],k+1)):g[n]=b[n]||null}var b={};f(a,this.options,b,0);return b}})(l);(function(f){function k(e,d,a){this.init(e,d,a)}var n=f.each,m=f.extend,h=f.merge,e=f.splat;m(k.prototype,{init:function(f,d,a){var k=this,b=k.defaultOptions;k.chart=d;k.options=f=h(b,d.angular?{background:{}}:void 0,f);(f=f.background)&&n([].concat(e(f)).reverse(),function(b){var d,e=a.userOptions;d=h(k.defaultBackgroundOptions,b);b.backgroundColor&&
(d.backgroundColor=b.backgroundColor);d.color=d.backgroundColor;a.options.plotBands.unshift(d);e.plotBands=e.plotBands||[];e.plotBands!==a.options.plotBands&&e.plotBands.unshift(d)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{className:"highcharts-pane",shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});
f.Pane=k})(l);(function(f){var k=f.CenteredSeriesMixin,n=f.each,m=f.extend,h=f.map,e=f.merge,g=f.noop,d=f.Pane,a=f.pick,r=f.pInt,b=f.splat,l=f.wrap,p,q,s=f.Axis.prototype;f=f.Tick.prototype;p={getOffset:g,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:g,setCategories:g,setTitle:g};q={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,
tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){a=this.options=e(this.defaultOptions,this.defaultRadialOptions,a);a.plotBands||(a.plotBands=[])},getOffset:function(){s.getOffset.call(this);
this.chart.axisOffset[this.side]=0;this.center=this.pane.center=k.getCenter.call(this.pane)},getLinePath:function(b,d){var e=this.center,f,g=this.chart;f=a(d,e[2]/2-this.offset);this.isCircular||void 0!==d?e=this.chart.renderer.symbols.arc(this.left+e[0],this.top+e[1],f,f,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(f=this.postTranslate(this.angleRad,f),e=["M",e[0]+g.plotLeft,e[1]+g.plotTop,"L",f.x,f.y]);return e},setAxisTranslation:function(){s.setAxisTranslation.call(this);
this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){if(this.autoConnect=this.isCircular&&void 0===a(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad===2*Math.PI)this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0},setAxisSize:function(){s.setAxisSize.call(this);this.isRadial&&
(this.center=this.pane.center=k.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*a(this.sector,1)/2)},getPosition:function(b,d){return this.postTranslate(this.isCircular?this.translate(b):this.angleRad,a(this.isCircular?d:this.translate(b),this.center[2]/2)-this.offset)},postTranslate:function(a,b){var d=this.chart,e=this.center;a=this.startAngleRad+a;return{x:d.plotLeft+e[0]+Math.cos(a)*b,y:d.plotTop+e[1]+
Math.sin(a)*b}},getPlotBandPath:function(b,d,e){var f=this.center,g=this.startAngleRad,k=f[2]/2,m=[a(e.outerRadius,"100%"),e.innerRadius,a(e.thickness,10)],n=Math.min(this.offset,0),l=/%$/,p,t=this.isCircular;"polygon"===this.options.gridLineInterpolation?f=this.getPlotLinePath(b).concat(this.getPlotLinePath(d,!0)):(b=Math.max(b,this.min),d=Math.min(d,this.max),t||(m[0]=this.translate(b),m[1]=this.translate(d)),m=h(m,function(a){l.test(a)&&(a=r(a,10)*k/100);return a}),"circle"===e.shape||!t?(b=-Math.PI/
2,d=1.5*Math.PI,p=!0):(b=g+this.translate(b),d=g+this.translate(d)),m[0]-=n,m[2]-=n,f=this.chart.renderer.symbols.arc(this.left+f[0],this.top+f[1],m[0],m[0],{start:Math.min(b,d),end:Math.max(b,d),innerR:a(m[1],m[0]-m[2]),open:p}));return f},getPlotLinePath:function(a,b){var d=this,e=d.center,f=d.chart,g=d.getPosition(a),h,k,r;d.isCircular?r=["M",e[0]+f.plotLeft,e[1]+f.plotTop,"L",g.x,g.y]:"circle"===d.options.gridLineInterpolation?(a=d.translate(a))&&(r=d.getLinePath(0,a)):(n(f.xAxis,function(a){a.pane===
d.pane&&(h=a)}),r=[],a=d.translate(a),e=h.tickPositions,h.autoConnect&&(e=e.concat([e[0]])),b&&(e=[].concat(e).reverse()),n(e,function(b,d){k=h.getPosition(b,a);r.push(d?"L":"M",k.x,k.y)}));return r},getTitlePosition:function(){var a=this.center,b=this.chart,d=this.options.title;return{x:b.plotLeft+a[0]+(d.x||0),y:b.plotTop+a[1]-{high:0.5,middle:0.25,low:0}[d.align]*a[2]+(d.y||0)}}};l(s,"init",function(f,g,h){var k=g.angular,r=g.polar,n=h.isX,l=k&&n,t,s=g.options,z=h.pane||0;if(k){if(m(this,l?p:q),
t=!n)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else r&&(m(this,q),this.defaultRadialOptions=(t=n)?this.defaultRadialXOptions:e(this.defaultYAxisOptions,this.defaultRadialYOptions));k||r?(this.isRadial=!0,g.inverted=!1,s.chart.zoomType=null):this.isRadial=!1;f.call(this,g,h);if(!l&&(k||r))f=this.options,g.panes||(g.panes=[]),this.pane=g=g.panes[z]=g.panes[z]||new d(b(s.pane)[z],g,this),g=g.options,this.angleRad=(f.angle||0)*Math.PI/180,this.startAngleRad=(g.startAngle-90)*Math.PI/180,
this.endAngleRad=(a(g.endAngle,g.startAngle+360)-90)*Math.PI/180,this.offset=f.offset||0,this.isCircular=t});l(s,"autoLabelAlign",function(a){if(!this.isRadial)return a.apply(this,[].slice.call(arguments,1))});l(f,"getPosition",function(a,b,d,e,f){var g=this.axis;return g.getPosition?g.getPosition(d):a.call(this,b,d,e,f)});l(f,"getLabelPosition",function(b,d,e,f,g,h,k,r,m){var n=this.axis,l=h.y,p=20,t=h.align,q=180*((n.translate(this.pos)+n.startAngleRad+Math.PI/2)/Math.PI)%360;n.isRadial?(b=n.getPosition(this.pos,
n.center[2]/2+a(h.distance,-25)),"auto"===h.rotation?f.attr({rotation:q}):null===l&&(l=n.chart.renderer.fontMetrics(f.styles.fontSize).b-f.getBBox().height/2),null===t&&(n.isCircular?(this.label.getBBox().width>n.len*n.tickInterval/(n.max-n.min)&&(p=0),t=q>p&&q<180-p?"left":q>180+p&&q<360-p?"right":"center"):t="center",f.attr({align:t})),b.x+=h.x,b.y+=l):b=b.call(this,d,e,f,g,h,k,r,m);return b});l(f,"getMarkPath",function(a,b,d,e,f,g,h){var k=this.axis;k.isRadial?(a=k.getPosition(this.pos,k.center[2]/
2+e),b=["M",b,d,"L",a.x,a.y]):b=a.call(this,b,d,e,f,g,h);return b})})(l);(function(f){var k=f.each,n=f.noop,m=f.pick,h=f.Series,e=f.seriesType,g=f.seriesTypes;e("arearange","area",{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'\x3cspan style\x3d"color:{series.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.low}\x3c/b\x3e - \x3cb\x3e{point.high}\x3c/b\x3e\x3cbr/\x3e'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}},
{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(d){return[d.low,d.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(d){var a=this.chart,e=this.xAxis.postTranslate(d.rectPlotX,this.yAxis.len-d.plotHigh);d.plotHighX=e.x-a.plotLeft;d.plotHigh=e.y-a.plotTop},translate:function(){var d=this,a=d.yAxis,e=!!d.modifyValue;g.area.prototype.translate.apply(d);k(d.points,function(b){var f=b.low,g=b.high,h=b.plotY;null===g||null===f?b.isNull=!0:
(b.plotLow=h,b.plotHigh=a.translate(e?d.modifyValue(g,b):g,0,1,0,1),e&&(b.yBottom=b.plotHigh))});this.chart.polar&&k(this.points,function(a){d.highToXY(a)})},getGraphPath:function(d){var a=[],e=[],b,f=g.area.prototype.getGraphPath,h,k,n;n=this.options;var l=this.chart.polar&&!1!==n.connectEnds,p=n.step;d=d||this.points;for(b=d.length;b--;)h=d[b],!h.isNull&&(!l&&(!d[b+1]||d[b+1].isNull))&&e.push({plotX:h.plotX,plotY:h.plotY,doCurve:!1}),k={polarPlotY:h.polarPlotY,rectPlotX:h.rectPlotX,yBottom:h.yBottom,
plotX:m(h.plotHighX,h.plotX),plotY:h.plotHigh,isNull:h.isNull},e.push(k),a.push(k),!h.isNull&&(!l&&(!d[b-1]||d[b-1].isNull))&&e.push({plotX:h.plotX,plotY:h.plotY,doCurve:!1});d=f.call(this,d);p&&(!0===p&&(p="left"),n.step={left:"right",center:"center",right:"left"}[p]);a=f.call(this,a);e=f.call(this,e);n.step=p;n=[].concat(d,a);!this.chart.polar&&"M"===e[0]&&(e[0]="L");this.graphPath=n;this.areaPath=this.areaPath.concat(d,e);n.isArea=!0;n.xMap=d.xMap;this.areaPath.xMap=d.xMap;return n},drawDataLabels:function(){var d=
this.data,a=d.length,e,b=[],f=h.prototype,g=this.options.dataLabels,k=g.align,m=g.verticalAlign,n=g.inside,l,p,q=this.chart.inverted;if(g.enabled||this._hasPointLabels){for(e=a;e--;)if(l=d[e])p=n?l.plotHigh<l.plotLow:l.plotHigh>l.plotLow,l.y=l.high,l._plotY=l.plotY,l.plotY=l.plotHigh,b[e]=l.dataLabel,l.dataLabel=l.dataLabelUpper,l.below=p,q?k||(g.align=p?"right":"left"):m||(g.verticalAlign=p?"top":"bottom"),g.x=g.xHigh,g.y=g.yHigh;f.drawDataLabels&&f.drawDataLabels.apply(this,arguments);for(e=a;e--;)if(l=
d[e])p=n?l.plotHigh<l.plotLow:l.plotHigh>l.plotLow,l.dataLabelUpper=l.dataLabel,l.dataLabel=b[e],l.y=l.low,l.plotY=l._plotY,l.below=!p,q?k||(g.align=p?"left":"right"):m||(g.verticalAlign=p?"bottom":"top"),g.x=g.xLow,g.y=g.yLow;f.drawDataLabels&&f.drawDataLabels.apply(this,arguments)}g.align=k;g.verticalAlign=m},alignDataLabel:function(){g.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:n,getSymbol:n,drawPoints:n})})(l);(function(f){var k=f.seriesType;k("areasplinerange","arearange",
null,{getPointSpline:f.seriesTypes.spline.prototype.getPointSpline})})(l);(function(f){var k=f.defaultPlotOptions,n=f.each,m=f.merge,h=f.noop,e=f.pick,g=f.seriesType,d=f.seriesTypes.column.prototype;g("columnrange","arearange",m(k.column,k.arearange,{lineWidth:1,pointRange:null}),{translate:function(){var a=this,f=a.yAxis,b=a.xAxis,g=b.startAngleRad,h,k=a.chart,m=a.xAxis.isRadial,l;d.translate.apply(a);n(a.points,function(d){var n=d.shapeArgs,p=a.options.minPointLength,q,s;d.plotHigh=l=f.translate(d.high,
0,1,0,1);d.plotLow=d.plotY;s=l;q=e(d.rectPlotY,d.plotY)-l;Math.abs(q)<p?(p-=q,q+=p,s-=p/2):0>q&&(q*=-1,s-=q);m?(h=d.barX+g,d.shapeType="path",d.shapeArgs={d:a.polarArc(s+q,s,h,h+d.pointWidth)}):(n.height=q,n.y=s,d.tooltipPos=k.inverted?[f.len+f.pos-k.plotLeft-s-q/2,b.len+b.pos-k.plotTop-n.x-n.width/2,q]:[b.left-k.plotLeft+n.x+n.width/2,f.pos-k.plotTop+s+q/2,q])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:h,crispCol:d.crispCol,drawPoints:d.drawPoints,drawTracker:d.drawTracker,
getColumnMetrics:d.getColumnMetrics,animate:function(){return d.animate.apply(this,arguments)},polarArc:function(){return d.polarArc.apply(this,arguments)},pointAttribs:d.pointAttribs})})(l);(function(f){var k=f.each,n=f.isNumber,m=f.merge,h=f.pick,e=f.pInt,g=f.Series,d=f.seriesType,a=f.TrackerMixin;d("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},
{angular:!0,directTouch:!0,drawGraph:f.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var a=this.yAxis,b=this.options,d=a.center;this.generatePoints();k(this.points,function(f){var g=m(b.dial,f.dial),k=e(h(g.radius,80))*d[2]/200,l=e(h(g.baseLength,70))*k/100,p=e(h(g.rearLength,10))*k/100,q=g.baseWidth||3,s=g.topWidth||1,D=b.overshoot,E=a.startAngleRad+a.translate(f.y,null,null,null,!0);n(D)?(D=D/180*Math.PI,E=Math.max(a.startAngleRad-
D,Math.min(a.endAngleRad+D,E))):!1===b.wrap&&(E=Math.max(a.startAngleRad,Math.min(a.endAngleRad,E)));E=180*E/Math.PI;f.shapeType="path";f.shapeArgs={d:g.path||["M",-p,-q/2,"L",l,-q/2,k,-s/2,k,s/2,l,q/2,-p,q/2,"z"],translateX:d[0],translateY:d[1],rotation:E};f.plotX=d[0];f.plotY=d[1]})},drawPoints:function(){var a=this,b=a.yAxis.center,d=a.pivot,e=a.options,f=e.pivot,g=a.chart.renderer;k(a.points,function(b){var d=b.graphic,f=b.shapeArgs,h=f.d,k=m(e.dial,b.dial);d?(d.animate(f),f.d=h):(b.graphic=g[b.shapeType](f).attr({rotation:f.rotation,
zIndex:1}).addClass("highcharts-dial").add(a.group),b.graphic.attr({stroke:k.borderColor||"none","stroke-width":k.borderWidth||0,fill:k.backgroundColor||"#000000"}))});d?d.animate({translateX:b[0],translateY:b[1]}):(a.pivot=g.circle(0,0,h(f.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(b[0],b[1]).add(a.group),a.pivot.attr({"stroke-width":f.borderWidth||0,stroke:f.borderColor||"#cccccc",fill:f.backgroundColor||"#000000"}))},animate:function(a){var b=this;a||(k(b.points,function(a){var d=
a.graphic;d&&(d.attr({rotation:180*b.yAxis.startAngleRad/Math.PI}),d.animate({rotation:a.shapeArgs.rotation},b.options.animation))}),b.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);g.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(a,b){g.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();h(b,!0)&&this.chart.redraw()},drawTracker:a&&a.drawTrackerPoint},
{setState:function(a){this.state=a}})})(l);(function(f){var k=f.each,n=f.noop,m=f.pick,h=f.seriesType,e=f.seriesTypes;h("boxplot","column",{threshold:null,tooltip:{pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cb\x3e {series.name}\x3c/b\x3e\x3cbr/\x3eMaximum: {point.high}\x3cbr/\x3eUpper quartile: {point.q3}\x3cbr/\x3eMedian: {point.median}\x3cbr/\x3eLower quartile: {point.q1}\x3cbr/\x3eMinimum: {point.low}\x3cbr/\x3e'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,
medianWidth:2,states:{hover:{brightness:-0.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttribs:function(e){var d=this.options,a=e&&e.color||this.color;return{fill:e.fillColor||d.fillColor||a,stroke:d.lineColor||a,"stroke-width":d.lineWidth||0}},drawDataLabels:n,translate:function(){var f=this.yAxis,d=this.pointArrayMap;e.column.prototype.translate.apply(this);k(this.points,function(a){k(d,
function(d){null!==a[d]&&(a[d+"Plot"]=f.translate(a[d],0,1,0,1))})})},drawPoints:function(){var e=this,d=e.options,a=e.chart.renderer,f,b,h,n,l,p,q=0,s,x,A,D,E=!1!==e.doQuartiles,B,C=e.options.whiskerLength;k(e.points,function(k){var H=k.graphic,L=H?"animate":"attr",F=k.shapeArgs,K={},J={},M={},I=k.color||e.color;void 0!==k.plotY&&(s=F.width,x=Math.floor(F.x),A=x+s,D=Math.round(s/2),f=Math.floor(E?k.q1Plot:k.lowPlot),b=Math.floor(E?k.q3Plot:k.lowPlot),h=Math.floor(k.highPlot),n=Math.floor(k.lowPlot),
H||(k.graphic=H=a.g("point").add(e.group),k.stem=a.path().addClass("highcharts-boxplot-stem").add(H),C&&(k.whiskers=a.path().addClass("highcharts-boxplot-whisker").add(H)),E&&(k.box=a.path(void 0).addClass("highcharts-boxplot-box").add(H)),k.medianShape=a.path(void 0).addClass("highcharts-boxplot-median").add(H),K.stroke=k.stemColor||d.stemColor||I,K["stroke-width"]=m(k.stemWidth,d.stemWidth,d.lineWidth),K.dashstyle=k.stemDashStyle||d.stemDashStyle,k.stem.attr(K),C&&(J.stroke=k.whiskerColor||d.whiskerColor||
I,J["stroke-width"]=m(k.whiskerWidth,d.whiskerWidth,d.lineWidth),k.whiskers.attr(J)),E&&(H=e.pointAttribs(k),k.box.attr(H)),M.stroke=k.medianColor||d.medianColor||I,M["stroke-width"]=m(k.medianWidth,d.medianWidth,d.lineWidth),k.medianShape.attr(M)),p=k.stem.strokeWidth()%2/2,q=x+D+p,k.stem[L]({d:["M",q,b,"L",q,h,"M",q,f,"L",q,n]}),E&&(p=k.box.strokeWidth()%2/2,f=Math.floor(f)+p,b=Math.floor(b)+p,x+=p,A+=p,k.box[L]({d:["M",x,b,"L",x,f,"L",A,f,"L",A,b,"L",x,b,"z"]})),C&&(p=k.whiskers.strokeWidth()%
2/2,h+=p,n+=p,B=/%$/.test(C)?D*parseFloat(C)/100:C/2,k.whiskers[L]({d:["M",q-B,h,"L",q+B,h,"M",q-B,n,"L",q+B,n]})),l=Math.round(k.medianPlot),p=k.medianShape.strokeWidth()%2/2,l+=p,k.medianShape[L]({d:["M",x,l,"L",A,l]}))})},setStackedPoints:n})})(l);(function(f){var k=f.each,n=f.noop,m=f.seriesType,h=f.seriesTypes;m("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e {series.name}: \x3cb\x3e{point.low}\x3c/b\x3e - \x3cb\x3e{point.high}\x3c/b\x3e\x3cbr/\x3e'},
whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:h.arearange?function(){var e=this.pointValKey;h.arearange.prototype.drawDataLabels.call(this);k(this.data,function(f){f.y=f[e]})}:n,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||h.column.prototype.getColumnMetrics.call(this)}})})(l);(function(f){var k=f.correctFloat,n=f.isNumber,m=f.pick,h=f.Point,e=f.Series,
g=f.seriesType,d=f.seriesTypes;g("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var a=this.options,e=this.yAxis,b,f,g,h,n,l,p,q,s,D=m(a.minPointLength,5),E=D/2,B=a.threshold,C=a.stacking,G;d.column.prototype.translate.apply(this);p=q=B;f=this.points;b=0;for(a=f.length;b<a;b++)g=f[b],l=this.processedYData[b],h=g.shapeArgs,n=C&&e.stacks[(this.negStacks&&l<B?"-":
"")+this.stackKey],G=this.getStackIndicator(G,g.x),s=n?n[g.x].points[this.index+","+b+","+G.index]:[0,l],g.isSum?g.y=k(l):g.isIntermediateSum&&(g.y=k(l-q)),n=Math.max(p,p+g.y)+s[0],h.y=e.translate(n,0,1,0,1),g.isSum?(h.y=e.translate(s[1],0,1,0,1),h.height=Math.min(e.translate(s[0],0,1,0,1),e.len)-h.y):g.isIntermediateSum?(h.y=e.translate(s[1],0,1,0,1),h.height=Math.min(e.translate(q,0,1,0,1),e.len)-h.y,q=s[1]):(h.height=0<l?e.translate(p,0,1,0,1)-h.y:e.translate(p,0,1,0,1)-e.translate(p-l,0,1,0,1),
p+=l),0>h.height&&(h.y+=h.height,h.height*=-1),g.plotY=h.y=Math.round(h.y)-this.borderWidth%2/2,h.height=Math.max(Math.round(h.height),0.001),g.yBottom=h.y+h.height,h.height<=D&&!g.isNull?(h.height=D,h.y-=E,g.plotY=h.y,g.minPointLengthOffset=0>g.y?-E:E):g.minPointLengthOffset=0,h=g.plotY+(g.negative?h.height:0),this.chart.inverted?g.tooltipPos[0]=e.len-h:g.tooltipPos[1]=h},processData:function(a){var d=this.yData,b=this.options.data,f,g=d.length,h,m,n,l,p,q;m=h=n=l=this.options.threshold||0;for(q=
0;q<g;q++)p=d[q],f=b&&b[q]?b[q]:{},"sum"===p||f.isSum?d[q]=k(m):"intermediateSum"===p||f.isIntermediateSum?d[q]=k(h):(m+=p,h+=p),n=Math.min(m,n),l=Math.max(m,l);e.prototype.processData.call(this,a);this.dataMin=n;this.dataMax=l},toYData:function(a){return a.isSum?0===a.x?null:"sum":a.isIntermediateSum?0===a.x?null:"intermediateSum":a.y},pointAttribs:function(a,e){var b=this.options.upColor;b&&!a.options.color&&(a.color=0<a.y?b:null);b=d.column.prototype.pointAttribs.call(this,a,e);delete b.dashstyle;
return b},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var a=this.data,d=a.length,b=this.graph.strokeWidth()+this.borderWidth,b=Math.round(b)%2/2,e=this.yAxis.reversed,f=[],g,h,k;for(k=1;k<d;k++){h=a[k].shapeArgs;g=a[k-1].shapeArgs;h=["M",g.x+g.width,g.y+a[k-1].minPointLengthOffset+b,"L",h.x,g.y+a[k-1].minPointLengthOffset+b];if(0>a[k-1].y&&!e||0<a[k-1].y&&e)h[2]+=g.height,h[5]+=g.height;f=f.concat(h)}return f},drawGraph:function(){e.prototype.drawGraph.call(this);this.graph.attr({d:this.getCrispPath()})},
getExtremes:f.noop},{getClassName:function(){var a=h.prototype.getClassName.call(this);this.isSum?a+=" highcharts-sum":this.isIntermediateSum&&(a+=" highcharts-intermediate-sum");return a},isValid:function(){return n(this.y,!0)||this.isSum||this.isIntermediateSum}})})(l);(function(f){var k=f.Series,n=f.seriesType,m=f.seriesTypes;n("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var f=
k.prototype.getGraphPath.call(this),e=f.length+1;e--;)(e===f.length||"M"===f[e])&&0<e&&f.splice(e,0,"z");return this.areaPath=f},drawGraph:function(){this.options.fillColor=this.color;m.area.prototype.drawGraph.call(this)},drawLegendSymbol:f.LegendSymbolMixin.drawRectangle,drawTracker:k.prototype.drawTracker,setStackedPoints:f.noop})})(l);(function(f){var k=f.arrayMax,n=f.arrayMin,m=f.Axis,h=f.color,e=f.each,g=f.isNumber,d=f.noop,a=f.pick,r=f.pInt,b=f.Point,l=f.Series,p=f.seriesType,q=f.seriesTypes;
p("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["markerGroup","dataLabelsGroup"],bubblePadding:!0,
zoneAxis:"z",pointAttribs:function(b,d){var e=a(this.options.marker.fillOpacity,0.5),f=l.prototype.pointAttribs.call(this,b,d);1!==e&&(f.fill=h(f.fill).setOpacity(e).get("rgba"));return f},getRadii:function(a,b,d,e){var f,g,h,k=this.zData,m=[],r=this.options,n="width"!==r.sizeBy,l=r.zThreshold,p=b-a;g=0;for(f=k.length;g<f;g++)h=k[g],r.sizeByAbsoluteValue&&null!==h&&(h=Math.abs(h-l),b=Math.max(b-l,Math.abs(a-l)),a=0),null===h?h=null:h<a?h=d/2-1:(h=0<p?(h-a)/p:0.5,n&&0<=h&&(h=Math.sqrt(h)),h=Math.ceil(d+
h*(e-d))/2),m.push(h);this.radii=m},animate:function(a){var b=this.options.animation;a||(e(this.points,function(a){var d=a.graphic,e;d&&d.width&&(e={x:d.x,y:d.y,width:d.width,height:d.height},d.attr({x:a.plotX,y:a.plotY,width:1,height:1}),d.animate(e,b))}),this.animate=null)},translate:function(){var a,b=this.data,d,e,h=this.radii;q.scatter.prototype.translate.call(this);for(a=b.length;a--;)d=b[a],e=h?h[a]:0,g(e)&&e>=this.minPxSize/2?(d.marker=f.extend(d.marker,{radius:e,width:2*e,height:2*e}),d.dlBox=
{x:d.plotX-e,y:d.plotY-e,width:2*e,height:2*e}):d.shapeArgs=d.plotY=d.dlBox=void 0},alignDataLabel:q.column.prototype.alignDataLabel,buildKDTree:d,applyZones:d},{haloPath:function(a){return b.prototype.haloPath.call(this,0===a?0:(this.marker?this.marker.radius||0:0)+a)},ttBelow:!1});m.prototype.beforePadding=function(){var b=this,d=this.len,f=this.chart,h=0,m=d,l=this.isXAxis,p=l?"xData":"yData",t=this.min,q={},s=Math.min(f.plotWidth,f.plotHeight),u=Number.MAX_VALUE,v=-Number.MAX_VALUE,F=this.max-
t,K=d/F,J=[];e(this.series,function(d){var g=d.options;if(d.bubblePadding&&(d.visible||!f.options.chart.ignoreHiddenSeries))b.allowZoomOutside=!0,J.push(d),l&&(e(["minSize","maxSize"],function(a){var b=g[a],d=/%$/.test(b),b=r(b);q[a]=d?s*b/100:b}),d.minPxSize=q.minSize,d.maxPxSize=Math.max(q.maxSize,q.minSize),d=d.zData,d.length&&(u=a(g.zMin,Math.min(u,Math.max(n(d),!1===g.displayNegative?g.zThreshold:-Number.MAX_VALUE))),v=a(g.zMax,Math.max(v,k(d)))))});e(J,function(a){var d=a[p],e=d.length,f;l&&
a.getRadii(u,v,a.minPxSize,a.maxPxSize);if(0<F)for(;e--;)g(d[e])&&(b.dataMin<=d[e]&&d[e]<=b.dataMax)&&(f=a.radii[e],h=Math.min((d[e]-t)*K-f,h),m=Math.max((d[e]-t)*K+f,m))});J.length&&(0<F&&!this.isLog)&&(m-=d,K*=(d+h-m)/d,e([["min","userMin",h],["max","userMax",m]],function(d){void 0===a(b.options[d[0]],b[d[1]])&&(b[d[0]]+=d[2]/K)}))}})(l);(function(f){function k(d,a){var e=this.chart,b=this.options.animation,f=this.group,g=this.markerGroup,h=this.xAxis.center,k=e.plotLeft,m=e.plotTop;e.polar?e.renderer.isSVG&&
(!0===b&&(b={}),a?(e={translateX:h[0]+k,translateY:h[1]+m,scaleX:0.001,scaleY:0.001},f.attr(e),g&&g.attr(e)):(e={translateX:k,translateY:m,scaleX:1,scaleY:1},f.animate(e,b),g&&g.animate(e,b),this.animate=null)):d.call(this,a)}var n=f.each,m=f.pick,h=f.seriesTypes,e=f.wrap,g=f.Series.prototype;f=f.Pointer.prototype;g.searchPointByAngle=function(d){var a=this.chart,e=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(d.chartX-e[0]-a.plotLeft,d.chartY-e[1]-a.plotTop)*(-180/Math.PI)})};
e(g,"buildKDTree",function(d){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2);d.apply(this)});g.toXY=function(d){var a,e=this.chart,b=d.plotX;a=d.plotY;d.rectPlotX=b;d.rectPlotY=a;a=this.xAxis.postTranslate(d.plotX,this.yAxis.len-a);d.plotX=d.polarPlotX=a.x-e.plotLeft;d.plotY=d.polarPlotY=a.y-e.plotTop;this.kdByAngle?(e=(180*(b/Math.PI)+this.xAxis.pane.options.startAngle)%360,0>e&&(e+=360),d.clientX=e):d.clientX=d.plotX};h.spline&&e(h.spline.prototype,
"getPointSpline",function(d,a,e,b){var f,g,h,k,m,n,l;this.chart.polar?(f=e.plotX,g=e.plotY,d=a[b-1],h=a[b+1],this.connectEnds&&(d||(d=a[a.length-2]),h||(h=a[1])),d&&h&&(k=d.plotX,m=d.plotY,a=h.plotX,n=h.plotY,k=(1.5*f+k)/2.5,m=(1.5*g+m)/2.5,h=(1.5*f+a)/2.5,l=(1.5*g+n)/2.5,a=Math.sqrt(Math.pow(k-f,2)+Math.pow(m-g,2)),n=Math.sqrt(Math.pow(h-f,2)+Math.pow(l-g,2)),k=Math.atan2(m-g,k-f),m=Math.atan2(l-g,h-f),l=Math.PI/2+(k+m)/2,Math.abs(k-l)>Math.PI/2&&(l-=Math.PI),k=f+Math.cos(l)*a,m=g+Math.sin(l)*a,
h=f+Math.cos(Math.PI+l)*n,l=g+Math.sin(Math.PI+l)*n,e.rightContX=h,e.rightContY=l),b?(e=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,k||f,m||g,f,g],d.rightContX=d.rightContY=null):e=["M",f,g]):e=d.call(this,a,e,b);return e});e(g,"translate",function(d){var a=this.chart;d.call(this);if(a.polar&&(this.kdByAngle=a.tooltip&&a.tooltip.shared,!this.preventPostTranslate)){d=this.points;for(a=d.length;a--;)this.toXY(d[a])}});e(g,"getGraphPath",function(d,a){var e=this,b,f;if(this.chart.polar){a=a||this.points;
for(b=0;b<a.length;b++)if(!a[b].isNull){f=b;break}!1!==this.options.connectEnds&&void 0!==f&&(this.connectEnds=!0,a.splice(a.length,0,a[f]));n(a,function(a){void 0===a.polarPlotY&&e.toXY(a)})}return d.apply(this,[].slice.call(arguments,1))});e(g,"animate",k);h.column&&(h=h.column.prototype,h.polarArc=function(d,a,e,b){var f=this.xAxis.center,g=this.yAxis.len;return this.chart.renderer.symbols.arc(f[0],f[1],g-a,null,{start:e,end:b,innerR:g-m(d,g)})},e(h,"animate",k),e(h,"translate",function(d){var a=
this.xAxis,e=a.startAngleRad,b,f,g;this.preventPostTranslate=!0;d.call(this);if(a.isRadial){b=this.points;for(g=b.length;g--;)f=b[g],d=f.barX+e,f.shapeType="path",f.shapeArgs={d:this.polarArc(f.yBottom,f.plotY,d,d+f.pointWidth)},this.toXY(f),f.tooltipPos=[f.plotX,f.plotY],f.ttBelow=f.plotY>a.center[1]}}),e(h,"alignDataLabel",function(d,a,e,b,f,h){this.chart.polar?(d=180*(a.rectPlotX/Math.PI),null===b.align&&(b.align=20<d&&160>d?"left":200<d&&340>d?"right":"center"),null===b.verticalAlign&&(b.verticalAlign=
45>d||315<d?"bottom":135<d&&225>d?"top":"middle"),g.alignDataLabel.call(this,a,e,b,f,h)):d.call(this,a,e,b,f,h)}));e(f,"getCoordinates",function(d,a){var e=this.chart,b={xAxis:[],yAxis:[]};e.polar?n(e.axes,function(d){var f=d.isXAxis,g=d.center,h=a.chartX-g[0]-e.plotLeft,g=a.chartY-g[1]-e.plotTop;b[f?"xAxis":"yAxis"].push({axis:d,value:d.translate(f?Math.PI-Math.atan2(h,g):Math.sqrt(Math.pow(h,2)+Math.pow(g,2)),!0)})}):b=d.call(this,a);return b})})(l);(function(f){var k=f.Axis,n=f.each,m=f.pick;f=
f.wrap;f(k.prototype,"getSeriesExtremes",function(f){var e=this.isXAxis,g,d,a=[],k;e&&n(this.series,function(b,d){b.useMapGeometry&&(a[d]=b.xData,b.xData=[])});f.call(this);e&&(g=m(this.dataMin,Number.MAX_VALUE),d=m(this.dataMax,-Number.MAX_VALUE),n(this.series,function(b,e){b.useMapGeometry&&(g=Math.min(g,m(b.minX,g)),d=Math.max(d,m(b.maxX,g)),b.xData=a[e],k=!0)}),k&&(this.dataMin=g,this.dataMax=d))});f(k.prototype,"setAxisTranslation",function(f){var e=this.chart,g=e.plotWidth/e.plotHeight,e=e.xAxis[0],
d;f.call(this);"yAxis"===this.coll&&void 0!==e.transA&&n(this.series,function(a){a.preserveAspectRatio&&(d=!0)});if(d&&(this.transA=e.transA=Math.min(this.transA,e.transA),f=g/((e.max-e.min)/(this.max-this.min)),f=1>f?this:e,g=(f.max-f.min)*f.transA,f.pixelPadding=f.len-g,f.minPixelPadding=f.pixelPadding/2,g=f.fixTo)){g=g[1]-f.toValue(g[0],!0);g*=f.transA;if(Math.abs(g)>f.minPixelPadding||f.min===f.dataMin&&f.max===f.dataMax)g=0;f.minPixelPadding-=g}});f(k.prototype,"render",function(f){f.call(this);
this.fixTo=null})})(l);(function(f){var k=f.Axis,n=f.Chart,m=f.color,h,e=f.each,g=f.extend,d=f.isNumber,a=f.Legend,r=f.LegendSymbolMixin,b=f.noop,l=f.merge,p=f.pick,q=f.wrap;h=f.ColorAxis=function(){this.init.apply(this,arguments)};g(h.prototype,k.prototype);g(h.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:0.01,color:"#999999"},labels:{overflow:"justify",rotation:0},
minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(k.prototype.keepProps),init:function(a,b){var d="vertical"!==a.options.legend.layout,e;this.coll="colorAxis";e=l(this.defaultColorAxisOptions,{side:d?2:1,reversed:!d},b,{opposite:!d,showEmpty:!1,title:null});k.prototype.init.call(this,a,e);b.dataClasses&&this.initDataClasses(b);this.initStops(b);this.horiz=d;this.zoomEnabled=!1;this.defaultLegendLength=
200},tweenColors:function(a,b,d){var e;!b.rgba.length||!a.rgba.length?a=b.input||"none":(a=a.rgba,b=b.rgba,e=1!==b[3]||1!==a[3],a=(e?"rgba(":"rgb(")+Math.round(b[0]+(a[0]-b[0])*(1-d))+","+Math.round(b[1]+(a[1]-b[1])*(1-d))+","+Math.round(b[2]+(a[2]-b[2])*(1-d))+(e?","+(b[3]+(a[3]-b[3])*(1-d)):"")+")");return a},initDataClasses:function(a){var b=this,d=this.chart,f,g=0,h=d.options.chart.colorCount,k=this.options,r=a.dataClasses.length;this.dataClasses=f=[];this.legendItems=[];e(a.dataClasses,function(a,
e){var n;a=l(a);f.push(a);a.color||("category"===k.dataClassColor?(n=d.options.colors,h=n.length,a.color=n[g],a.colorIndex=g,g++,g===h&&(g=0)):a.color=b.tweenColors(m(k.minColor),m(k.maxColor),2>r?0.5:e/(r-1)))})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]];e(this.stops,function(a){a.color=m(a[1])})},setOptions:function(a){k.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker},setAxisSize:function(){var a=this.legendSymbol,
b=this.chart,d=b.options.legend||{},e,f;a?(this.left=d=a.attr("x"),this.top=e=a.attr("y"),this.width=f=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-d-f,this.bottom=b.chartHeight-e-a,this.len=this.horiz?f:a,this.pos=this.horiz?d:e):this.len=(this.horiz?d.symbolWidth:d.symbolHeight)||this.defaultLegendLength},toColor:function(a,b){var d,e=this.stops,f,g=this.dataClasses,h,k;if(g)for(k=g.length;k--;){if(h=g[k],f=h.from,e=h.to,(void 0===f||a>=f)&&(void 0===e||a<=e)){d=h.color;
b&&(b.dataClass=k,b.colorIndex=h.colorIndex);break}}else{this.isLog&&(a=this.val2lin(a));d=1-(this.max-a)/(this.max-this.min||1);for(k=e.length;k--&&!(d>e[k][0]););f=e[k]||e[k+1];e=e[k+1]||f;d=1-(e[0]-d)/(e[0]-f[0]||1);d=this.tweenColors(f.color,e.color,d)}return d},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];a&&(this.axisParent=a,k.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=
b)},setLegendColor:function(){var a,b=this.options,d=this.reversed;a=d?1:0;d=d?0:1;a=this.horiz?[a,0,d,0]:[0,d,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:b.stops||[[0,b.minColor],[1,b.maxColor]]}},drawLegendSymbol:function(a,b){var d=a.padding,e=a.options,f=this.horiz,g=p(e.symbolWidth,f?this.defaultLegendLength:12),h=p(e.symbolHeight,f?12:this.defaultLegendLength),k=p(e.labelPadding,f?16:30),e=p(e.itemDistance,10);this.setLegendColor();b.legendSymbol=this.chart.renderer.rect(0,
a.baseline-11,g,h).attr({zIndex:1}).add(b.legendGroup);this.legendItemWidth=g+d+(f?e:k);this.legendItemHeight=h+d+(f?k:0)},setState:b,visible:!0,setVisible:b,getSeriesExtremes:function(){var a=this.series,b=a.length;this.dataMin=Infinity;for(this.dataMax=-Infinity;b--;)void 0!==a[b].valueMin&&(this.dataMin=Math.min(this.dataMin,a[b].valueMin),this.dataMax=Math.max(this.dataMax,a[b].valueMax))},drawCrosshair:function(a,b){var d=b&&b.plotX,e=b&&b.plotY,f,g=this.pos,h=this.len;b&&(f=this.toPixels(b[b.series.colorKey]),
f<g?f=g-2:f>g+h&&(f=g+h+2),b.plotX=f,b.plotY=this.len-f,k.prototype.drawCrosshair.call(this,a,b),b.plotX=d,b.plotY=e,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(a,b,e,f,g){return d(g)?this.horiz?["M",g-4,this.top-6,"L",g+4,this.top-6,g,this.top,"Z"]:["M",this.left,g,"L",this.left-6,g+6,this.left-6,g-6,"Z"]:k.prototype.getPlotLinePath.call(this,a,b,e,f)},update:function(a,b){var d=this.chart,
f=d.legend;e(this.series,function(a){a.isDirtyData=!0});a.dataClasses&&f.allItems&&(e(f.allItems,function(a){a.isDataClass&&a.legendGroup.destroy()}),d.isDirtyLegend=!0);d.options[this.coll]=l(this.userOptions,a);k.prototype.update.call(this,a,b);this.legendItem&&(this.setLegendColor(),f.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var a=this,d=this.chart,h=this.legendItems,k=d.options.legend,m=k.valueDecimals,n=k.valueSuffix||"",l;h.length||e(this.dataClasses,function(k,p){var q=
!0,t=k.from,s=k.to;l="";void 0===t?l="\x3c ":void 0===s&&(l="\x3e ");void 0!==t&&(l+=f.numberFormat(t,m)+n);void 0!==t&&void 0!==s&&(l+=" - ");void 0!==s&&(l+=f.numberFormat(s,m)+n);h.push(g({chart:d,name:l,options:{},drawLegendSymbol:r.drawRectangle,visible:!0,setState:b,isDataClass:!0,setVisible:function(){q=this.visible=!q;e(a.series,function(a){e(a.points,function(a){a.dataClass===p&&a.setVisible(q)})});d.legend.colorizeItem(this,q)}},k))});return h},name:""});e(["fill","stroke"],function(a){f.Fx.prototype[a+
"Setter"]=function(){this.elem.attr(a,h.prototype.tweenColors(m(this.start),m(this.end),this.pos),null,!0)}});q(n.prototype,"getAxes",function(a){var b=this.options.colorAxis;a.call(this);this.colorAxis=[];b&&new h(this,b)});q(a.prototype,"getAllItems",function(a){var b=[],d=this.chart.colorAxis[0];d&&d.options&&(d.options.showInLegend&&(d.options.dataClasses?b=b.concat(d.getDataClassLegendSymbols()):b.push(d)),e(d.series,function(a){a.options.showInLegend=!1}));return b.concat(a.call(this))});q(a.prototype,
"colorizeItem",function(a,b,d){a.call(this,b,d);d&&b.legendColor&&b.legendSymbol.attr({fill:b.legendColor})})})(l);(function(f){var k=f.defined,n=f.each,m=f.noop,h=f.seriesTypes;f.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(e){var f=this,d=e?"show":"hide";n(["graphic","dataLabel"],function(a){if(f[a])f[a][d]()})},setState:function(e){f.Point.prototype.setState.call(this,e);this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}};f.colorSeriesMixin={pointArrayMap:["value"],
axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:m,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:h.column.prototype.pointAttribs,translateColors:function(){var e=this,f=this.options.nullColor,d=this.colorAxis,a=this.colorKey;n(this.data,function(h){var b=h[a];if(b=h.options.color||(h.isNull?f:d&&void 0!==b?d.toColor(b,h):h.color||e.color))h.color=b})},colorAttribs:function(e){var f={};k(e.color)&&(f[this.colorProp||
"fill"]=e.color);return f}}})(l);(function(f){function k(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}function n(a){this.init(a)}var m=f.addEvent,h=f.Chart,e=f.doc,g=f.each,d=f.extend,a=f.merge,r=f.pick;f=f.wrap;n.prototype.init=function(a){this.chart=a;a.mapNavButtons=[]};n.prototype.update=function(b){var e=this.chart,f=e.options.mapNavigation,g,h,n,l,p,q=function(a){this.handler.call(e,a);k(a)},s=e.mapNavButtons;b&&(f=e.options.mapNavigation=
a(e.options.mapNavigation,b));for(;s.length;)s.pop().destroy();if(r(f.enableButtons,f.enabled)&&!e.renderer.forExport)for(g in b=f.buttons,b)b.hasOwnProperty(g)&&(n=a(f.buttonOptions,b[g]),h=n.theme,h.style=a(n.theme.style,n.style),p=(l=h.states)&&l.hover,l=l&&l.select,h=e.renderer.button(n.text,0,0,q,h,p,l,0,"zoomIn"===g?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:n.width,height:n.height,title:e.options.lang[g],padding:n.padding,zIndex:5}).add(),h.handler=n.onclick,
h.align(d(n,{width:h.width,height:2*h.height}),null,n.alignTo),m(h.element,"dblclick",k),s.push(h));this.updateEvents(f)};n.prototype.updateEvents=function(a){var d=this.chart;r(a.enableDoubleClickZoom,a.enabled)||a.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||m(d.container,"dblclick",function(a){d.pointer.onContainerDblClick(a)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick());r(a.enableMouseWheelZoom,a.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||m(d.container,
void 0===e.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){d.pointer.onContainerMouseWheel(a);k(a);return!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())};d(h.prototype,{fitToBox:function(a,d){g([["x","width"],["y","height"]],function(e){var f=e[0];e=e[1];a[f]+a[e]>d[f]+d[e]&&(a[e]>d[e]?(a[e]=d[e],a[f]=d[f]):a[f]=d[f]+d[e]-a[e]);a[e]>d[e]&&(a[e]=d[e]);a[f]<d[f]&&(a[f]=d[f])});return a},mapZoom:function(a,d,e,f,g){var h=this.xAxis[0],k=h.max-h.min,m=r(d,h.min+k/2),
n=k*a,k=this.yAxis[0],l=k.max-k.min,p=r(e,k.min+l/2),l=l*a,m=this.fitToBox({x:m-n*(f?(f-h.pos)/h.len:0.5),y:p-l*(g?(g-k.pos)/k.len:0.5),width:n,height:l},{x:h.dataMin,y:k.dataMin,width:h.dataMax-h.dataMin,height:k.dataMax-k.dataMin}),n=m.x<=h.dataMin&&m.width>=h.dataMax-h.dataMin&&m.y<=k.dataMin&&m.height>=k.dataMax-k.dataMin;f&&(h.fixTo=[f-h.pos,d]);g&&(k.fixTo=[g-k.pos,e]);void 0!==a&&!n?(h.setExtremes(m.x,m.x+m.width,!1),k.setExtremes(m.y,m.y+m.height,!1)):(h.setExtremes(void 0,void 0,!1),k.setExtremes(void 0,
void 0,!1));this.redraw()}});f(h.prototype,"render",function(a){this.mapNavigation=new n(this);this.mapNavigation.update();a.call(this)})})(l);(function(f){var k=f.extend,n=f.pick,m=f.Pointer;f=f.wrap;k(m.prototype,{onContainerDblClick:function(f){var e=this.chart;f=this.normalize(f);e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(f.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(f.chartX-e.plotLeft,f.chartY-e.plotTop)&&e.mapZoom(0.5,e.xAxis[0].toValue(f.chartX),
e.yAxis[0].toValue(f.chartY),f.chartX,f.chartY)},onContainerMouseWheel:function(f){var e=this.chart,g;f=this.normalize(f);g=f.detail||-(f.wheelDelta/120);e.isInsidePlot(f.chartX-e.plotLeft,f.chartY-e.plotTop)&&e.mapZoom(Math.pow(e.options.mapNavigation.mouseWheelSensitivity,g),e.xAxis[0].toValue(f.chartX),e.yAxis[0].toValue(f.chartY),f.chartX,f.chartY)}});f(m.prototype,"zoomOption",function(f){var e=this.chart.options.mapNavigation;n(e.enableTouchZoom,e.enabled)&&(this.chart.options.chart.pinchType=
"xy");f.apply(this,[].slice.call(arguments,1))});f(m.prototype,"pinchTranslate",function(f,e,g,d,a,k,b){f.call(this,e,g,d,a,k,b);"map"===this.chart.options.chart.type&&this.hasZoom&&(f=d.scaleX>d.scaleY,this.pinchTranslateDirection(!f,e,g,d,a,k,b,f?d.scaleX:d.scaleY))})})(l);(function(f){var k=f.color,n=f.ColorAxis,m=f.colorPointMixin,h=f.each,e=f.extend,g=f.isNumber,d=f.map,a=f.merge,r=f.noop,b=f.pick,l=f.isArray,p=f.Point,q=f.Series,s=f.seriesType,y=f.seriesTypes,w=f.splat,x=void 0!==f.doc.documentElement.style.vectorEffect;
s("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}\x3cbr/\x3e"},states:{normal:{animation:!0},hover:{brightness:0.2,halo:null},select:{color:"#cccccc"}}},a(f.colorSeriesMixin,{type:"map",supportsDrilldown:!0,
getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:r,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(a){var d=Number.MAX_VALUE,e=-d,k=d,m=-d,r=d,n=d,l=this.xAxis,p=this.yAxis,q;h(a||[],function(a){if(a.path){"string"===typeof a.path&&(a.path=f.splitPath(a.path));var h=a.path||[],l=h.length,p=!1,t=-d,s=d,u=-d,v=d,w=a.properties;if(!a._foundBox){for(;l--;)g(h[l])&&(p?(t=Math.max(t,h[l]),s=Math.min(s,h[l])):(u=Math.max(u,h[l]),v=Math.min(v,h[l])),p=!p);a._midX=
s+(t-s)*(a.middleX||w&&w["hc-middle-x"]||0.5);a._midY=v+(u-v)*(a.middleY||w&&w["hc-middle-y"]||0.5);a._maxX=t;a._minX=s;a._maxY=u;a._minY=v;a.labelrank=b(a.labelrank,(t-s)*(u-v));a._foundBox=!0}e=Math.max(e,a._maxX);k=Math.min(k,a._minX);m=Math.max(m,a._maxY);r=Math.min(r,a._minY);n=Math.min(a._maxX-a._minX,a._maxY-a._minY,n);q=!0}});q&&(this.minY=Math.min(r,b(this.minY,d)),this.maxY=Math.max(m,b(this.maxY,-d)),this.minX=Math.min(k,b(this.minX,d)),this.maxX=Math.max(e,b(this.maxX,-d)),l&&void 0===
l.options.minRange&&(l.minRange=Math.min(5*n,(this.maxX-this.minX)/5,l.minRange||d)),p&&void 0===p.options.minRange&&(p.minRange=Math.min(5*n,(this.maxY-this.minY)/5,p.minRange||d)))},getExtremes:function(){q.prototype.getExtremes.call(this,this.valueData);this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data);this.valueMin=this.dataMin;this.valueMax=this.dataMax;this.dataMin=this.minY;this.dataMax=this.maxY},translatePath:function(a){var b=!1,d=this.xAxis,e=this.yAxis,f=d.min,h=
d.transA,d=d.minPixelPadding,k=e.min,m=e.transA,e=e.minPixelPadding,r,n=[];if(a)for(r=a.length;r--;)g(a[r])?(n[r]=b?(a[r]-f)*h+d:(a[r]-k)*m+e,b=!b):n[r]=a[r];return n},setData:function(b,e,k,m){var r=this.options,n=this.chart.options.chart,p=n&&n.map,s=r.mapData,u=r.joinBy,x=null===u,z=r.keys||this.pointArrayMap,y=[],I={},O,P=this.chart.mapTransforms;!s&&p&&(s="string"===typeof p?f.maps[p]:p);x&&(u="_i");u=this.joinBy=w(u);u[1]||(u[1]=u[0]);b&&h(b,function(a,d){var e=0;if(g(a))b[d]={value:a};else if(l(a)){b[d]=
{};!r.keys&&(a.length>z.length&&"string"===typeof a[0])&&(b[d]["hc-key"]=a[0],++e);for(var f=0;f<z.length;++f,++e)z[f]&&(b[d][z[f]]=a[e])}x&&(b[d]._i=d)});this.getBox(b);if(this.chart.mapTransforms=P=n&&n.mapTransforms||s&&s["hc-transform"]||P)for(O in P)P.hasOwnProperty(O)&&O.rotation&&(O.cosAngle=Math.cos(O.rotation),O.sinAngle=Math.sin(O.rotation));if(s){"FeatureCollection"===s.type&&(this.mapTitle=s.title,s=f.geojson(s,this.type,this));this.mapData=s;this.mapMap={};for(O=0;O<s.length;O++)n=s[O],
p=n.properties,n._i=O,u[0]&&(p&&p[u[0]])&&(n[u[0]]=p[u[0]]),I[n[u[0]]]=n;this.mapMap=I;b&&u[1]&&h(b,function(a){I[a[u[1]]]&&y.push(I[a[u[1]]])});r.allAreas?(this.getBox(s),b=b||[],u[1]&&h(b,function(a){y.push(a[u[1]])}),y="|"+d(y,function(a){return a&&a[u[0]]}).join("|")+"|",h(s,function(d){if(!u[0]||-1===y.indexOf("|"+d[u[0]]+"|"))b.push(a(d,{value:null})),m=!1})):this.getBox(y)}q.prototype.setData.call(this,b,e,k,m)},drawGraph:r,drawDataLabels:r,doFullTranslate:function(){return this.isDirtyData||
this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var a=this,b=a.xAxis,d=a.yAxis,e=a.doFullTranslate();a.generatePoints();h(a.data,function(f){f.plotX=b.toPixels(f._midX,!0);f.plotY=d.toPixels(f._midY,!0);e&&(f.shapeType="path",f.shapeArgs={d:a.translatePath(f.path)})});a.translateColors()},pointAttribs:function(a,b){var d;d=y.column.prototype.pointAttribs.call(this,a,b);a.isFading&&delete d.fill;x?d["vector-effect"]="non-scaling-stroke":d["stroke-width"]="inherit";
return d},drawPoints:function(){var a=this,b=a.xAxis,d=a.yAxis,e=a.group,f=a.chart,g=f.renderer,k,m,r,n,l=this.baseTrans,p,q,t,s,u;a.transformGroup||(a.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(e),a.transformGroup.survive=!0);a.doFullTranslate()?(f.hasRendered&&h(a.points,function(b){b.shapeArgs&&(b.shapeArgs.fill=a.pointAttribs(b,b.state).fill)}),a.group=a.transformGroup,y.column.prototype.drawPoints.apply(a),a.group=e,h(a.points,function(a){a.graphic&&(a.name&&a.graphic.addClass("highcharts-name-"+
a.name.replace(/ /g,"-").toLowerCase()),a.properties&&a.properties["hc-key"]&&a.graphic.addClass("highcharts-key-"+a.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:b.min-b.minPixelPadding/b.transA,originY:d.min-d.minPixelPadding/d.transA+(d.reversed?0:d.len/d.transA),transAX:b.transA,transAY:d.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(k=b.transA/l.transAX,m=d.transA/l.transAY,r=b.toPixels(l.originX,!0),n=d.toPixels(l.originY,!0),0.99<k&&(1.01>
k&&0.99<m&&1.01>m)&&(m=k=1,r=Math.round(r),n=Math.round(n)),p=this.transformGroup,f.renderer.globalAnimation?(q=p.attr("translateX"),t=p.attr("translateY"),s=p.attr("scaleX"),u=p.attr("scaleY"),p.attr({animator:0}).animate({animator:1},{step:function(a,b){p.attr({translateX:q+(r-q)*b.pos,translateY:t+(n-t)*b.pos,scaleX:s+(k-s)*b.pos,scaleY:u+(m-u)*b.pos})}})):p.attr({translateX:r,translateY:n,scaleX:k,scaleY:m}));x||a.group.element.setAttribute("stroke-width",a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||
"borderWidth"]/(k||1));this.drawMapDataLabels()},drawMapDataLabels:function(){q.prototype.drawDataLabels.call(this);this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,b=q.prototype.render;a.chart.renderer.isVML&&3E3<a.data.length?setTimeout(function(){b.call(a)}):b.call(a)},animate:function(a){var b=this.options.animation,d=this.group,e=this.xAxis,f=this.yAxis,g=e.pos,h=f.pos;this.chart.renderer.isSVG&&(!0===b&&(b={duration:1E3}),a?d.attr({translateX:g+
e.len/2,translateY:h+f.len/2,scaleX:0.001,scaleY:0.001}):(d.animate({translateX:g,translateY:h,scaleX:1,scaleY:1},b),this.animate=null))},animateDrilldown:function(a){var b=this.chart.plotBox,d=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],e=d.bBox,f=this.chart.options.drilldown.animation;a||(a=Math.min(e.width/b.width,e.height/b.height),d.shapeArgs={scaleX:a,scaleY:a,translateX:e.x,translateY:e.y},h(this.points,function(a){a.graphic&&a.graphic.attr(d.shapeArgs).animate({scaleX:1,
scaleY:1,translateX:0,translateY:0},f)}),this.animate=null)},drawLegendSymbol:f.LegendSymbolMixin.drawRectangle,animateDrillupFrom:function(a){y.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){y.column.prototype.animateDrillupTo.call(this,a)}}),e({applyOptions:function(a,b){var d=p.prototype.applyOptions.call(this,a,b),f=this.series,g=f.joinBy;f.mapData&&((g=void 0!==d[g[1]]&&f.mapMap[d[g[1]]])?(f.xyFromShape&&(d.x=g._midX,d.y=g._midY),e(d,g)):d.value=d.value||null);
return d},onMouseOver:function(a){clearTimeout(this.colorInterval);if(null!==this.value)p.prototype.onMouseOver.call(this,a);else this.series.onMouseOut(a)},onMouseOut:function(){var a=this,b=+new Date,d=k(this.series.pointAttribs(a).fill),e=k(this.series.pointAttribs(a,"hover").fill),f=a.series.options.states.normal.animation,g=f&&(f.duration||500);g&&(4===d.rgba.length&&4===e.rgba.length&&"select"!==a.state)&&(clearTimeout(a.colorInterval),a.colorInterval=setInterval(function(){var f=(new Date-
b)/g,h=a.graphic;1<f&&(f=1);h&&h.attr("fill",n.prototype.tweenColors.call(0,e,d,f));1<=f&&clearTimeout(a.colorInterval)},13),a.isFading=!0);p.prototype.onMouseOut.call(a);a.isFading=null},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1);a.yAxis.setExtremes(this._minY,this._maxY,!1);a.chart.redraw()}},m))})(l);(function(f){var k=f.seriesType,n=f.seriesTypes;k("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color",
"stroke-width":"lineWidth"},pointAttribs:function(f,h){var e=n.map.prototype.pointAttribs.call(this,f,h);e.fill=this.options.fillColor;return e},drawLegendSymbol:n.line.prototype.drawLegendSymbol})})(l);(function(f){var k=f.merge,n=f.Point;f=f.seriesType;f("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(f,h){var e=void 0!==f.lat&&void 0!==f.lon?k(f,this.series.chart.fromLatLonToPoint(f)):
f;return n.prototype.applyOptions.call(this,e,h)}})})(l);(function(f){var k=f.merge,n=f.Point,m=f.seriesType,h=f.seriesTypes;h.bubble&&m("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:h.map.prototype.getMapData,getBox:h.map.prototype.getBox,setData:h.map.prototype.setData},{applyOptions:function(e,f){return e&&void 0!==e.lat&&void 0!==e.lon?n.prototype.applyOptions.call(this,k(e,this.series.chart.fromLatLonToPoint(e)),
f):h.map.prototype.pointClass.prototype.applyOptions.call(this,e,f)},ttBelow:!1})})(l);(function(f){var k=f.colorPointMixin,n=f.each,m=f.merge,h=f.noop,e=f.pick,g=f.Series,d=f.seriesType,a=f.seriesTypes;d("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}\x3cbr/\x3e"},states:{normal:{animation:!0},
hover:{halo:!1,brightness:0.2}}},m(f.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var d;a.scatter.prototype.init.apply(this,arguments);d=this.options;d.pointRange=e(d.pointRange,d.colsize||1);this.yAxis.axisPointRange=d.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,d=this.yAxis,e=function(a,b,d){return Math.min(Math.max(b,a),d)};this.generatePoints();n(this.points,function(f){var g=
(a.colsize||1)/2,h=(a.rowsize||1)/2,k=e(Math.round(b.len-b.translate(f.x-g,0,1,0,1)),-b.len,2*b.len),g=e(Math.round(b.len-b.translate(f.x+g,0,1,0,1)),-b.len,2*b.len),m=e(Math.round(d.translate(f.y-h,0,1,0,1)),-d.len,2*d.len),h=e(Math.round(d.translate(f.y+h,0,1,0,1)),-d.len,2*d.len);f.plotX=f.clientX=(k+g)/2;f.plotY=(m+h)/2;f.shapeType="rect";f.shapeArgs={x:Math.min(k,g),y:Math.min(m,h),width:Math.abs(g-k),height:Math.abs(h-m)}});this.translateColors()},drawPoints:function(){a.column.prototype.drawPoints.call(this);
n(this.points,function(a){a.graphic.attr(this.colorAttribs(a))},this)},animate:h,getBox:h,drawLegendSymbol:f.LegendSymbolMixin.drawRectangle,alignDataLabel:a.column.prototype.alignDataLabel,getExtremes:function(){g.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;g.prototype.getExtremes.call(this)}}),k)})(l);(function(f){function k(a,b){var d,e,f,g,h=!1,k=a.x,m=a.y;d=0;for(e=b.length-1;d<b.length;e=d++)f=b[d][1]>m,g=b[e][1]>m,f!==g&&k<(b[e][0]-
b[d][0])*(m-b[d][1])/(b[e][1]-b[d][1])+b[d][0]&&(h=!h);return h}var n=f.Chart,m=f.each,h=f.extend,e=f.format,g=f.merge,d=f.win,a=f.wrap;n.prototype.transformFromLatLon=function(a,b){if(void 0===d.proj4)return f.error(21),{x:0,y:null};var e=d.proj4(b.crs,[a.lon,a.lat]),g=b.cosAngle||b.rotation&&Math.cos(b.rotation),h=b.sinAngle||b.rotation&&Math.sin(b.rotation),e=b.rotation?[e[0]*g+e[1]*h,-e[0]*h+e[1]*g]:e;return{x:((e[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),
y:(((b.yoffset||0)-e[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}};n.prototype.transformToLatLon=function(a,b){if(void 0===d.proj4)f.error(21);else{var e={x:((a.x-(b.jsonmarginX||0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),y:((-a.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)},g=b.cosAngle||b.rotation&&Math.cos(b.rotation),h=b.sinAngle||b.rotation&&Math.sin(b.rotation),e=d.proj4(b.crs,"WGS84",b.rotation?{x:e.x*g+e.y*-h,y:e.x*h+e.y*
g}:e);return{lat:e.y,lon:e.x}}};n.prototype.fromPointToLatLon=function(a){var b=this.mapTransforms,d;if(b){for(d in b)if(b.hasOwnProperty(d)&&b[d].hitZone&&k({x:a.x,y:-a.y},b[d].hitZone.coordinates[0]))return this.transformToLatLon(a,b[d]);return this.transformToLatLon(a,b["default"])}f.error(22)};n.prototype.fromLatLonToPoint=function(a){var b=this.mapTransforms,d,e;if(!b)return f.error(22),{x:0,y:null};for(d in b)if(b.hasOwnProperty(d)&&b[d].hitZone&&(e=this.transformFromLatLon(a,b[d]),k({x:e.x,
y:-e.y},b[d].hitZone.coordinates[0])))return e;return this.transformFromLatLon(a,b["default"])};f.geojson=function(a,b,d){var f=[],g=[],k=function(a){var b,d=a.length;g.push("M");for(b=0;b<d;b++)1===b&&g.push("L"),g.push(a[b][0],-a[b][1])};b=b||"map";m(a.features,function(a){var d=a.geometry,e=d.type,d=d.coordinates;a=a.properties;var r;g=[];"map"===b||"mapbubble"===b?("Polygon"===e?(m(d,k),g.push("Z")):"MultiPolygon"===e&&(m(d,function(a){m(a,k)}),g.push("Z")),g.length&&(r={path:g})):"mapline"===
b?("LineString"===e?k(d):"MultiLineString"===e&&m(d,k),g.length&&(r={path:g})):"mappoint"===b&&"Point"===e&&(r={x:d[0],y:-d[1]});r&&f.push(h(r,{name:a.name||a.NAME,properties:a}))});d&&a.copyrightShort&&(d.chart.mapCredits=e(d.chart.options.credits.mapText,{geojson:a}),d.chart.mapCreditsFull=e(d.chart.options.credits.mapTextFull,{geojson:a}));return f};a(n.prototype,"addCredits",function(a,b){b=g(!0,this.options.credits,b);this.mapCredits&&(b.href=null);a.call(this,b);this.credits&&this.mapCreditsFull&&
this.credits.attr({title:this.mapCreditsFull})})})(l);(function(f){function k(a,b,d,e,f,g,h,k){return["M",a+f,b,"L",a+d-g,b,"C",a+d-g/2,b,a+d,b+g/2,a+d,b+g,"L",a+d,b+e-h,"C",a+d,b+e-h/2,a+d-h/2,b+e,a+d-h,b+e,"L",a+k,b+e,"C",a+k/2,b+e,a,b+e-k/2,a,b+e-k,"L",a,b+f,"C",a,b+f/2,a+f/2,b,a+f,b,"Z"]}var n=f.Chart,m=f.defaultOptions,h=f.each,e=f.extend,g=f.merge,d=f.pick,a=f.Renderer,r=f.SVGRenderer,b=f.VMLRenderer;e(m.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});m.mapNavigation={buttonOptions:{alignTo:"plotBox",
align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(0.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1};f.splitPath=function(a){var b;a=a.replace(/([A-Za-z])/g," $1 ");a=a.replace(/^\s*/,"").replace(/\s*$/,"");a=a.split(/[ ,]+/);for(b=0;b<a.length;b++)/[a-zA-Z]/.test(a[b])||(a[b]=parseFloat(a[b]));
return a};f.maps={};r.prototype.symbols.topbutton=function(a,b,d,e,f){return k(a-1,b-1,d,e,f.r,f.r,0,0)};r.prototype.symbols.bottombutton=function(a,b,d,e,f){return k(a-1,b-1,d,e,0,0,f.r,f.r)};a===b&&h(["topbutton","bottombutton"],function(a){b.prototype.symbols[a]=r.prototype.symbols[a]});f.Map=f.mapChart=function(a,b,e){var h="string"===typeof a||a.nodeName,k=arguments[h?1:0],m={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},r,l=f.getOptions().credits;r=k.series;k.series=null;
k=g({chart:{panning:"xy",type:"map"},credits:{mapText:d(l.mapText,' \u00a9 \x3ca href\x3d"{geojson.copyrightUrl}"\x3e{geojson.copyrightShort}\x3c/a\x3e'),mapTextFull:d(l.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:m,yAxis:g(m,{reversed:!0})},k,{chart:{inverted:!1,alignTicks:!1}});k.series=r;return h?new n(a,k,e):new n(k,b)}})(l);(function(f){var k=f.defaultOptions,n=f.doc,m=f.Chart,h=f.addEvent,e=f.removeEvent,g=f.fireEvent,d=f.createElement,a=f.discardElement,r=f.css,b=
f.merge,l=f.pick,p=f.each,q=f.extend,s=f.isTouchDevice,y=f.win,w=f.Renderer.prototype.symbols;q(k.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});k.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};b(!0,k.navigation,{menuStyle:{border:"1px solid #999999",
background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:s?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});k.exporting={type:"image/png",url:"chartexporting",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",
menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};f.post=function(e,f,g){var h;e=d("form",b({method:"post",action:e,enctype:"application/x-www-form-urlencoded"},
g),{display:"none"},n.body);for(h in f)d("input",{type:"hidden",name:h,value:f[h]},null,e);e.submit();a(e)};q(m.prototype,{sanitizeSVG:function(a,b){if(b&&b.exporting&&b.exporting.allowHTML){var d=a.match(/<\/svg>(.*?$)/);d&&(d='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+b.chart.width+'" height\x3d"'+b.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+d[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",a=a.replace("\x3c/svg\x3e",d+"\x3c/svg\x3e"))}a=a.replace(/zIndex="[^"]+"/g,
"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,
"\u00a0").replace(/&shy;/g,"\u00ad");return a=a.replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},
getSVG:function(e){var g,h,k,m,r,l=b(this.options,e);n.createElementNS||(n.createElementNS=function(a,b){return n.createElement(b)});h=d("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},n.body);k=this.renderTo.style.width;r=this.renderTo.style.height;k=l.exporting.sourceWidth||l.chart.width||/px$/.test(k)&&parseInt(k,10)||600;r=l.exporting.sourceHeight||l.chart.height||/px$/.test(r)&&parseInt(r,10)||400;q(l.chart,{animation:!1,renderTo:h,forExport:!0,
renderer:"SVGRenderer",width:k,height:r});l.exporting.enabled=!1;delete l.data;l.series=[];p(this.series,function(a){m=b(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible});m.isInternal||l.series.push(m)});p(this.axes,function(a){a.userOptions.internalKey=f.uniqueKey()});g=new f.Chart(l,this.callback);e&&p(["xAxis","yAxis","series"],function(a){var b={};e[a]&&(b[a]=e[a],g.update(b))});p(this.axes,function(a){var b=f.find(g.axes,function(b){return b.options.internalKey===
a.userOptions.internalKey}),d=a.getExtremes(),e=d.userMin,d=d.userMax;b&&(void 0!==e||void 0!==d)&&b.setExtremes(e,d,!0,!1)});k=g.getChartHTML();k=this.sanitizeSVG(k,l);l=null;g.destroy();a(h);return k},getSVGForExport:function(a,d){var e=this.options.exporting;return this.getSVG(b({chart:{borderRadius:0}},e.chartOptions,d,{exporting:{sourceWidth:a&&a.sourceWidth||e.sourceWidth,sourceHeight:a&&a.sourceHeight||e.sourceHeight}}))},exportChart:function(a,d){var e=this.getSVGForExport(a,d);a=b(this.options.exporting,
a);f.post(a.url,{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale,svg:e},a.formAttributes)},print:function(){var a=this,b=a.container,d=[],e=b.parentNode,f=n.body,h=f.childNodes,k=a.options.exporting.printMaxWidth,m,r;if(!a.isPrinting){a.isPrinting=!0;a.pointer.reset(null,0);g(a,"beforePrint");if(r=k&&a.chartWidth>k)m=[a.options.chart.width,void 0,!1],a.setSize(k,void 0,!1);p(h,function(a,b){1===a.nodeType&&(d[b]=a.style.display,a.style.display="none")});f.appendChild(b);y.focus();
y.print();setTimeout(function(){e.appendChild(b);p(h,function(a,b){1===a.nodeType&&(a.style.display=d[b])});a.isPrinting=!1;r&&a.setSize.apply(a,m);g(a,"afterPrint")},1E3)}},contextMenu:function(a,b,e,f,g,k,m){var l=this,t=l.options.navigation,s=l.chartWidth,w=l.chartHeight,z="cache-"+a,y=l[z],I=Math.max(g,k),O,P;y||(l[z]=y=d("div",{className:a},{position:"absolute",zIndex:1E3,padding:I+"px"},l.container),O=d("div",{className:"highcharts-menu"},null,y),r(O,q({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",
boxShadow:"3px 3px 10px #888"},t.menuStyle)),P=function(){r(y,{display:"none"});m&&m.setState(0);l.openMenu=!1},h(y,"mouseleave",function(){y.hideTimer=setTimeout(P,500)}),h(y,"mouseenter",function(){clearTimeout(y.hideTimer)}),z=h(n,"mouseup",function(b){l.pointer.inClass(b.target,a)||P()}),h(l,"destroy",z),p(b,function(a){if(a){var b;a.separator?b=d("hr",null,null,O):(b=d("div",{className:"highcharts-menu-item",onclick:function(b){b&&b.stopPropagation();P();a.onclick&&a.onclick.apply(l,arguments)},
innerHTML:a.text||l.options.lang[a.textKey]},null,O),b.onmouseover=function(){r(this,t.menuItemHoverStyle)},b.onmouseout=function(){r(this,t.menuItemStyle)},r(b,q({cursor:"pointer"},t.menuItemStyle)));l.exportDivElements.push(b)}}),l.exportDivElements.push(O,y),l.exportMenuWidth=y.offsetWidth,l.exportMenuHeight=y.offsetHeight);b={display:"block"};e+l.exportMenuWidth>s?b.right=s-e-g-I+"px":b.left=e-I+"px";f+k+l.exportMenuHeight>w&&"top"!==m.alignOptions.verticalAlign?b.bottom=w-f-I+"px":b.top=f+k-
I+"px";r(y,b);l.openMenu=!0},addButton:function(a){var d=this,e=d.renderer,f=b(d.options.navigation.buttonOptions,a),g=f.onclick,h=f.menuItems,k,m,r=f.symbolSize||12;d.btnCount||(d.btnCount=0);d.exportDivElements||(d.exportDivElements=[],d.exportSVGElements=[]);if(!1!==f.enabled){var n=f.theme,p=n.states,s=p&&p.hover,p=p&&p.select,u;delete n.states;g?u=function(a){a.stopPropagation();g.call(d,a)}:h&&(u=function(){d.contextMenu(m.menuClassName,h,m.translateX,m.translateY,m.width,m.height,m);m.setState(2)});
f.text&&f.symbol?n.paddingLeft=l(n.paddingLeft,25):f.text||q(n,{width:f.width,height:f.height,padding:0});m=e.button(f.text,0,0,u,n,s,p).addClass(a.className).attr({"stroke-linecap":"round",title:d.options.lang[f._titleKey],zIndex:3});m.menuClassName=a.menuClassName||"highcharts-menu-"+d.btnCount++;f.symbol&&(k=e.symbol(f.symbol,f.symbolX-r/2,f.symbolY-r/2,r,r).addClass("highcharts-button-symbol").attr({zIndex:1}).add(m),k.attr({stroke:f.symbolStroke,fill:f.symbolFill,"stroke-width":f.symbolStrokeWidth||
1}));m.add().align(q(f,{width:m.width,x:l(f.x,d.buttonOffset)}),!0,"spacingBox");d.buttonOffset+=(m.width+f.buttonSpacing)*("right"===f.align?-1:1);d.exportSVGElements.push(m,k)}},destroyExport:function(b){var d=b?b.target:this;b=d.exportSVGElements;var f=d.exportDivElements;b&&(p(b,function(a,b){a&&(a.onclick=a.ontouchstart=null,d.exportSVGElements[b]=a.destroy())}),b.length=0);f&&(p(f,function(b,f){clearTimeout(b.hideTimer);e(b,"mouseleave");d.exportDivElements[f]=b.onmouseout=b.onmouseover=b.ontouchstart=
b.onclick=null;a(b)}),f.length=0)}});w.menu=function(a,b,d,e){return["M",a,b+2.5,"L",a+d,b+2.5,"M",a,b+e/2+0.5,"L",a+d,b+e/2+0.5,"M",a,b+e-1.5,"L",a+d,b+e-1.5]};m.prototype.renderExporting=function(){var a,b=this.options.exporting,d=b.buttons,e=this.isDirtyExporting||!this.exportSVGElements;this.buttonOffset=0;this.isDirtyExporting&&this.destroyExport();if(e&&!1!==b.enabled){for(a in d)this.addButton(d[a]);this.isDirtyExporting=!1}h(this,"destroy",this.destroyExport)};m.prototype.callbacks.push(function(a){a.renderExporting();
h(a,"redraw",a.renderExporting);p(["exporting","navigation"],function(d){a[d]={update:function(e,f){a.isDirtyExporting=!0;b(!0,a.options[d],e);l(f,!0)&&a.redraw()}}})})})(l);return l})})},"anaplan/utils/AuthHelper":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/RequestFactory dojo/_base/array dojo/_base/lang dojo/Deferred dojo/request/script".split(" "),function(l,s,p,q,f,k,n,m){var h={CONNECTOR_MODEL_OBJECT_USERID_KEY:"connector|MODEL_OBJECT|USERID",
CONNECTOR_MODEL_OBJECT_PASSWORD_KEY:"connector|MODEL_OBJECT|PASSWORD",getFirstLocalModelSourceServiceLocation:function(){var e=null,g=f.filter(p.getWorkspaceInfo().modelSources,function(d){return d.local});0<g.length&&(e=g[0].serviceLocation);return e},requestTokenAcquisitionTicket:function(e){var f=new n;e=q.createRequest(e,[],[],[{actionId:l.SYSTEM_ACTIONS.CREATE_TOKEN_ACQUISITION_TICKET}]);s.post(e,!1,function(d){d.error?f.reject(d.error):(d=d.result.systemActionResults[0],d.ticket?f.resolve(d):
f.reject("Failed to fetch token acquisition ticket from server"))},function(){f.reject("Failed to fetch token acquisition ticket from server")});return f},requestToken:function(e,f){var d=new n;this.requestTokenAcquisitionTicket(e).then(function(a){try{m.get(f+"/jsonpauth",{jsonp:"call",query:"cs\x3d"+a.workspaceServerGuid+"\x26ct\x3d"+a.ticket,preventCache:!0,timeout:5E3}).then(function(a){d.resolve(a)}).otherwise(function(a){d.reject(a)})}catch(e){d.reject("Error acquiring token")}}).otherwise(function(a){d.reject(a)});
return d}};k.setObject("anaplan.utils.AuthHelper",h);return h})},"anaplan/view/MoveHierarchyItem/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase anaplan/Exceptions anaplan/utils/UIHelper anaplan/utils/SelectorFactory dojo/_base/array dojo/dom-geometry".split(" "),function(l,s,p,q,f,k,n){return l([s],{constructor:function(){this._selectedItem=null},getSelectedItem:function(){return this._selectedItem},onSelect:function(){},reset:function(){this._selectedItem=null;this._tree&&(this._tree.destroy(),
this._tree=null)},uninitialize:function(){this.reset();this.inherited(arguments)},updateTree:function(m){this.reset();var h=this,e=n.getContentBox(this.domNode);this._tree=f.createSelector({widgetContainer:this.domNode,labelPage:m,style:"width: "+e.w+"px; height: "+e.h+"px;",onSelectionChange:function(d){try{var a=k.indexOf(m.entityLongIds[0],d);if(-1!==a){var e=m.parentEntityLongIds[0][a],b=null;-1!==e&&(b=m.entityIds[0][k.indexOf(m.entityLongIds[0],e)]);h._selectedItem={entityLongId:d,parentEntityLongId:e,
isAggregate:m.isAggregate[0][a],name:m.labels[0][a],entityId:m.entityIds[0][a],parentId:b,hasChildren:h._hasChildren(m,d),canDelete:m.hasOwnProperty("canDelete")?m.canDelete[0][a]:!0,isItemEditable:m.hasOwnProperty("isItemEditable")?m.isItemEditable[0][a]:!0,canInsertSibling:m.hasOwnProperty("canInsertSibling")?m.canInsertSibling[0][a]:!0}}else h._selectedItem=null;h.onSelect(h._selectedItem)}catch(f){q.showErrorReporter(new p.ClientException("MoveHierarchyItem: onSelectionChange",f))}}});if(this._tree instanceof
anaplan.treelet.Treelet){var e=m.parentEntityLongIds[0][0],g=null;-1!==e&&(g=k.indexOf(m.entityLongIds[0],e),g=m.entityIds[0][g]);this._selectedItem={entityLongId:m.entityLongIds[0][0],parentEntityLongId:e,isAggregate:m.isAggregate[0][0],name:m.labels[0][0],entityId:m.entityIds[0][0],parentId:g,hasChildren:this._hasChildren(m,m.entityLongIds[0][0]),canDelete:m.canDelete?m.canDelete[0][0]:!0,isItemEditable:m.isItemEditable?m.isItemEditable[0][0]:!0,canInsertSibling:m.canInsertSibling?m.canInsertSibling[0][0]:
!0};this.onSelect(this._selectedItem)}},_hasChildren:function(f,h){return-1!==k.indexOf(f.parentEntityLongIds[0],h)}})})},"dojox/validate/web":function(){define(["./_base","./regexp"],function(l,s){l.isIpAddress=function(l,q){return RegExp("^"+s.ipAddress(q)+"$","i").test(l)};l.isUrl=function(l,q){return RegExp("^"+s.url(q)+"$","i").test(l)};l.isEmailAddress=function(l,q){return RegExp("^"+s.emailAddress(q)+"$","i").test(l)};l.isEmailAddressList=function(l,q){return RegExp("^"+s.emailAddressList(q)+
"$","i").test(l)};l.getEmailAddressList=function(p,q){q||(q={});q.listSeparator||(q.listSeparator="\\s;,");return l.isEmailAddressList(p,q)?p.split(RegExp("\\s*["+q.listSeparator+"]\\s*")):[]};return l})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,s){l.fromJson=function(l){return eval("("+l+")")};l._escapeString=s.stringify;l.toJsonIndentStr="\t";l.toJson=function(p,q){return s.stringify(p,function(f,k){if(k){var n=k.__json__||k.json;if("function"==typeof n)return n.call(k)}return k},
q&&l.toJsonIndentStr)};return l})},"anaplan/gridlet/DesktopGridlet":function(){define("anaplan/constants anaplan/Exceptions anaplan/gridlet/_LinkMixin anaplan/gridlet/Gridlet anaplan/gridlet/Selection anaplan/i18n/Locale anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/topics anaplan/utils/UIHelper anaplan/utils/UIHelper anaplan/widgets/DropDownButton anaplan/widgets/MenuItem dijit dijit/Menu dijit/MenuSeparator dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/clipboardHelp dojo/i18n!anaplan/nls/gridlet dojo/keys dojo/mouse dojo/on dojo/query dojo/string".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I){var O="Insert Meta Win OS ContextMenu Apps F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 NumLock Scroll ScrollLock VolumeMute VolumeDown VolumeUp AudioVolumeMute AudioVolumeDown AudioVolumeUp MediaTrackNext MediaNextTrack MediaTrackPrevious MediaPreviousTrack MediaPlayPause BrowserSearch LaunchApplication2".split(" ");return v([q,p],{constructor:function(a){this._dynamicCellMenuDelegate=a.dynamicCellMenuDelegate||
null;this._selectionCellMenuDelegate=a.selectionCellMenuDelegate||null;this._drillDownId=a.drillDownId||null;this._drillDownLevel=a.drillDownLevel||0;this._labelCells=[];this._lastKeyDownTime=this._updateRetryTimeout=null},focusPasteNode:function(){this._pasteNode.focus()},hideCellButtonMenu:function(){this._hideCellMenuButton()},postCreate:function(){try{this.inherited(arguments);this._createCellMenuButton();this._pasteNode=E.create("textarea",{tabindex:-1,autocomplete:"off"},this._wrapper,"before");
var a={overflow:"hidden",position:"absolute",left:"0px",top:"0px",height:"1px",width:"1px",borderStyle:"none",borderWidth:"0px",resize:"none"};C.set(this._pasteNode,a);this._hasIe()&&(this._iePasteNode=E.create("div",{tabindex:-1,contenteditable:"true"},this._wrapper,"before"),C.set(this._iePasteNode,a));if(this._editorFactory){var b=y.mixin({},this._editorFactoryParams,{"class":"grideditor"});this._editorFactory.preloadDefaultEditor(b);this._editorFactory.preloadListEditor(b);this._editorFactory.preloadDateEditor(b);
this._editorFactory.preloadTextEditor(b);this._editorFactory.preloadLinkEditor(b);this._editorFactory.preloadMailToEditor(b)}this.own(J(this._tableDiv,"mouseout",y.hitch(this,function(){this._hideTooltip()})))}catch(d){g.throwClientException(this,d)}},reset:function(){try{this.inherited(arguments),this._hideCellMenuButton()}catch(a){g.throwClientException(this,a)}},setSelectionText:function(a){try{this._pasteNode.value=a,r.selectInputText(this._pasteNode)}catch(b){g.throwClientException(this,b)}},
startup:function(){this.inherited(arguments);this.own(J(x.doc,"mouseup",y.hitch(this,function(){this._mouseDownCell=null})));this.own(J(x.doc,"keydown",y.hitch(this,"_documentKeyDownHandler")),J(this.domNode,"keydown",y.hitch(this,"_onKeyDown")),J(this.domNode,"keypress",y.hitch(this,"_onKeyPress")));G("safari")&&this.own(J(x.doc,"onbeforepaste",y.hitch(this,"_documentBeforePasteHandler")));this.on("MouseLeave",y.hitch(this,function(a){var b=B.position(this.domNode,!0);(a.pageX<b.x||a.pageX>b.x+b.w||
a.pageY<b.y||a.pageY>b.y+b.h)&&this._hideCellMenuButton()}));this._wheelEventSupported=this._detectWheelEventSupport();this._hasIe()?this.own(J(this.domNode,"click",y.hitch(this,"_onClick")),J(this.domNode,this._wheelEventSupported,y.hitch(this,"_onWheelEvent")),J(this.domNode,"contextmenu",y.hitch(this,"_onContextMenu")),J(this._tableDiv,"dblclick",y.hitch(this,"_cellDoubleClickHandler")),J(this._tableDiv,"mousedown",y.hitch(this,"_cellMouseDownHandler")),J(this._tableDiv,"mousemove",y.hitch(this,
"_cellMouseMoveHandler")),J(this._tableDiv,"selectstart",y.hitch(this,"_cellSelectStartHandler")),J(this._pasteNode,"beforepaste",y.hitch(this,"_focusIePasteDiv")),J(this._iePasteNode,"paste",y.hitch(this,"_pasteNodePasteHandler"))):this.own(J(this.domNode,"click",y.hitch(this,"_onClick")),J(this.domNode,this._wheelEventSupported,y.hitch(this,"_onWheelEvent")),J(this.domNode,"contextmenu",y.hitch(this,"_onContextMenu")),J(this._tableDiv,"dblclick",y.hitch(this,"_cellDoubleClickHandler")),J(this._tableDiv,
"mousedown",y.hitch(this,"_cellMouseDownHandler")),J(this._tableDiv,"mousemove",y.hitch(this,"_cellMouseMoveHandler")),J(this._tableDiv,"selectstart",y.hitch(this,"_cellSelectStartHandler")),J(this._pasteNode,"paste",y.hitch(this,"_pasteNodePasteHandler")))},uninitialize:function(){try{this._cellMenuButton&&(this._cellMenuButton.destroy(),this._cellMenuButton=null),this.inherited(arguments)}catch(a){g.throwClientException(this,a)}},update:function(a){try{this._updateRetryTimeout&&(clearTimeout(this._updateRetryTimeout),
this._updateRetryTimeout=null);var b=new Date-this._lastKeyDownTime;if(this.editorActive()&&1E3>b){var d=this;this._updateRetryTimeout=setTimeout(function(){d.update(a)},1E3)}else this.inherited(arguments)}catch(e){g.throwClientException(this,e)}},_hasIe:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("msie")||-1!==navigator.userAgent.toLowerCase().indexOf("trident")},_cellDivSelectionButtonDoubleClickHandler:function(a){z.stop(a)},_cellDivSelectionButtonClickHandler:function(a){try{if(this._selection){var b=
this._selection.currentCell.getCellIndexInView(this._values,this._pageInfo);this._values.cells.isEditable[b]&&this._startEdit(a,!1,!0);z.stop(a)}}catch(d){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _cellDivSelectionButtonClickHandler",d,{widgetId:this.id,selection:this._selection},a))}},_cellDivSelectionButtonMouseDownHandler:function(a){try{z.stop(a),this._linkOpenTimer&&(clearTimeout(this._linkOpenTimer),this._linkOpenTimer=null)}catch(b){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _cellDivSelectionButtonMouseDownHandler",
b,{widgetId:this.id,selection:this._selection},a))}},_cellDoubleClickHandler:function(a){try{this._linkOpenTimer&&(clearTimeout(this._linkOpenTimer),this._linkOpenTimer=null),a.target===this._tableDiv||(a.shiftKey||a.ctrlKey||a.metaKey)||this._startEdit(a,!1)}catch(b){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _cellDoubleClickHandler",b,{widgetId:this.id,selection:this._selection},a))}},_cellMouseDownHandler:function(a){var b;try{this._mouseMoveCellClientY=this._mouseMoveCellClientX=
-1;this._focus||this._onFocus();b={clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY};var d=a.target;if(d===this._tableDiv)this._endEdit(a);else{var g={values:this._values},h=this._selection,k=null,m=null;if(D.contains(d,"gridSelection")){if(!K.isLeft(a))return;if((G("mac")&&a.metaKey||!G("mac")&&a.ctrlKey)&&this._allowDeselect){this._handleDeselect(a);return}k=this._getCellSelectionAtClientXY(a.clientX,a.clientY);this._endEdit(a);if(k)if(this._mouseDownCell=this._lastMouseDownCoords=
k.currentCell.clone(),a.shiftKey&&this._allowRangeSelections)this._handleShiftClick(k);else{if(this._isValidLinkCell(this._mouseDownCell)){this._postponedSelection=k;this._linkSelectTimer=setTimeout(y.hitch(this,function(){this._setSelection(k);this.scrollToSelection();this._onSelect();this._postMouseDownHandler(b);this._postponedSelection=this._linkSelectTimer=null}),this.LINK_SELECT_DELAY);return}this._setSelection(k);this.scrollToSelection();this._onSelect()}}else if(k=this._deriveSelection(d),
this._endEdit(a),k)if(m=k.currentCell.clone(),a.shiftKey&&this._allowRangeSelections)this._handleShiftClick(k);else if((!G("mac")&&a.ctrlKey||G("mac")&&a.metaKey)&&this._allowMultipleSelections){if(h=this._selection){var r=k.ranges[0],d=!1;h.isWholeRowSelected()?r.isRowLabelSelected()?d=!0:k=h:h.isWholeColumnSelected()&&(r.isColumnLabelSelected()?d=!0:k=h);d&&(k=new f(h),k.addRange(r))}this._setSelection(k)}else{this._mouseDownCell=this._lastMouseDownCoords=m;if(this._isValidLinkCell(m)){this._postponedSelection=
k;this._linkSelectTimer=setTimeout(y.hitch(this,function(){this._setSelection(k);k&&(this.scrollToSelection(),this._onSelect(),this._postMouseDownHandler(b));this._postponedSelection=this._linkSelectTimer=null}),this.LINK_SELECT_DELAY);return}this._setSelection(k);if(h=this._selection){if(!this.readOnly)if(D.contains(d,"subsidiaryView")){var n=h.currentCell.getRowEntityLongIds(g),l=h.currentCell.getRowNestingIndex(g);this.onSubsidiaryViewSelect(n[l])}else if(D.contains(d,"subsidiaryViewColumn")){var p=
h.currentCell.getColumnEntityLongIds(g),q=h.currentCell.getColumnNestingIndex(g);this.onSubsidiaryViewSelect(p[q])}this.scrollToSelection();this._onSelect()}}else this._setSelection(null);this._postMouseDownHandler(b)}}catch(t){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet#_cellMouseDownHandler",t,{widgetId:this.id,selection:this._selection},a))}},_cellMouseMoveHandler:function(a){try{if(a.preventDefault(),K.isLeft(a)&&!(a.clientX===this._mouseMoveCellClientX&&a.clientY===
this._mouseMoveCellClientY)){this._mouseMoveCellClientX=a.clientX;this._mouseMoveCellClientY=a.clientY;var b=this._selection,d,f={values:this._values};if(this._mouseDownCell&&b&&this._allowRangeSelections){var g=0,h=0,k;this._mouseDownCell.resolve(f);if(d=this._getCellSelectionAtClientXY(this._mouseDownCell.isRowLabelSelected()?this._mouseDownCellClientX:a.clientX,this._mouseDownCell.isColumnLabelSelected()?this._mouseDownCellClientY:a.clientY))k=d.currentCell,g=k.calculateColumnDelta(this._mouseDownCell,
f),h=k.calculateRowDelta(this._mouseDownCell,f);else{var m=B.position(this._selectionWidgets[this._selectionWidgets.length-1].domNode);a.clientX<m.x?g=-1:a.clientX>=m.x+m.w&&(g=1);a.clientY<m.y?h=-1:a.clientY>=m.y+m.h&&(h=1)}if((!d||!this._isSelectionCoordsEqual(this._mouseDownCell,d.currentCell))&&this._linkSelectTimer)clearTimeout(this._linkSelectTimer),this._linkSelectTimer=null,this._setSelection(this._postponedSelection),this.scrollToSelection(),this._onSelect(),this._postponedSelection=null;
if((g||h)&&D.contains(a.target,"gridSelection")){var r=b.getFocusedRange();switch(this._getAnchorForRange(r)){case "TL":0<g&&(g=0);0<h&&(h=0);break;case "TR":0>g&&(g=0);0<h&&(h=0);break;case "BL":0<g&&(g=0);0>h&&(h=0);break;case "BR":0>g&&(g=0),0>h&&(h=0)}}k&&(g&&this._mouseDownCell.setX(k.x.clone()),h&&this._mouseDownCell.setY(k.y.clone()));this._updateSelectionDelta(g,h)}var n=this._cellMenuButton;if(!n._opened){this._labelCells.length||(this._labelCells=M("th",this._tableDiv));var l=this._labelCells,
p=a.pageX,q=a.pageY,t="none"!==n.domNode.style.display;if(this._mouseOverLabelCellCoords){var u=this._mouseOverLabelCellCoords,v=u.x,w=u.y;if(p>=v&&p<v+u.w&&q>=w&&q<w+u.h)return}this._mouseOverLabelCellCoords=null;for(var z=l.length,x,y,C,F,E;z--;){x=A.byId(l[z].id);if(!x)break;F=B.position(l[z].id,!0);E=B.getMarginBox(l[z].id);y=F.x;C=F.y;if(p>=y&&p<y+F.w&&q>=C&&q<C+F.h&&(d=this._deriveSelection(l[z]))&&!d.isWholeGridSelected()&&d.currentCell.isContainedInView(this._getViewExcludingPartials(),this._values)){var O;
d.isWholeColumnSelected()?O={l:E.l+E.w-15,t:E.t+E.h-7}:d.isWholeRowSelected()&&(O={l:E.l+E.w-6,t:E.t});B.setMarginBox(n.domNode,O);n.targetSelection=d;t||(n.domNode.style.display="");this._mouseOverLabelCellCoords=F;this._processCellTooltip(a);return}}if(t){var J=B.position(n.domNode),I=J.x,H=J.y;if(p<I||p>=I+J.w||q<H||q>=H+J.h)n.domNode.style.display="none"}this._processCellTooltip(a)}}}catch(L){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _cellMouseMoveHandler",L,{widgetId:this.id,
selection:this._selection},a))}},_cellSelectStartHandler:function(a){a.preventDefault()},_clearCellMenu:function(){try{this._cellMenu.destroyDescendants()}catch(a){console.error("anaplan.gridlet.DesktopGridlet._clearCellMenu",a)}},_copySelection:function(a){this._selection&&this._gridController.attemptCopy(this._selection,a)},_createCellMenuButton:function(){try{var a=new b({"class":"anaplanCellMenu"});this.own(J(a,"Open",y.hitch(this,"_onCellMenuOpen")));var e=new d({label:"",showLabel:!0,dropDown:a,
"class":"cellMenuButton",style:"display: none;"});E.place(e.domNode,this.domNode);this._cellMenuButton=e;this._cellMenu=a;this._clearCellMenu()}catch(f){g.throwClientException(this,f)}},_createGridSelectionWidget:function(){var a=null;try{a=this.inherited(arguments),a.connectEventHandler(a.selectionButton,"dblclick",this,"_cellDivSelectionButtonDoubleClickHandler"),a.connectEventHandler(a.selectionButton,"click",this,"_cellDivSelectionButtonClickHandler"),a.connectEventHandler(a.selectionButton,"mousedown",
this,"_cellDivSelectionButtonMouseDownHandler"),a.connectEventHandler(a.domNode,"dblclick",this,"_cellDoubleClickHandler"),a.connectEventHandler(a.domNode,"mousedown",this,"_cellMouseDownHandler"),a.connectEventHandler(a.domNode,"mousemove",this,"_cellMouseMoveHandler"),a.connectEventHandler(a.domNode,"selectstart",this,"_cellSelectStartHandler")}catch(b){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._createGridSelectionWidget",b);}return a},_detectWheelEventSupport:function(){return"onwheel"in
document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},_documentBeforePasteHandler:function(a){try{this._activeEditor||this._focus&&this._pasteNode.focus()}catch(b){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _documentBeforePasteHandler",b,{widgetId:this.id,selection:this._selection},a))}},_documentKeyDownHandler:function(a){var b=a.keyCode;try{if(this._lastKeyDownTime=new Date,!this.isLocked()&&!this._activeEditor&&this._focus&&
this._selection){if(!G("mac")&&a.ctrlKey||G("mac")&&a.metaKey){if(a.shiftKey)return;if(!this._activeEditor)switch(G("safari")&&(this._pasteNode.focus(),this._copySelection(!0)),b){case 86:this._pasteNode.focus();return;case 67:G("safari")||this._copySelection();h.systemMessage(H.systemMessageCopiedToClipboard);return}}if(G("ff")&&a.target!==x.body()||!this._handleArrowKeys(a))switch(b){case F.SPACE:if(a.ctrlKey||a.altKey||a.metaKey||a.shiftKey)break;this._onSelect();!this.readOnly&&this._gridController&&
this._gridController.attemptToggle(this._selection,!1);z.stop(a);break;case F.DELETE:this.readOnly||this._gridController.attemptClear(this._selection);z.stop(a);break;case F.BACKSPACE:a.metaKey?this.readOnly||this._gridController.attemptClear(this._selection):(!this._selection.isWholeRowSelected()||!this._selection.isWholeColumnSelected())&&this._startEdit(a,!0);z.stop(a);break;case F.F2:this._startEdit(a,!1);z.stop(a);break;case F.F8:!a.ctrlKey&&!a.metaKey&&(a.altKey?this._gridController.drillToTransaction():
this._gridController.drillDown(this._selection,this._drillDownLevel,this._drillDownId),z.stop(a));break;case F.HOME:a.ctrlKey||a.metaKey?a.shiftKey?this._doShiftCtrlHomeCommand():this._doCtrlHomeCommand():a.shiftKey?this._doShiftHomeCommand():this._doHomeCommand();z.stop(a);break;case F.END:a.ctrlKey||a.metaKey?a.shiftKey?this._doShiftCtrlEndCommand():this._doCtrlEndCommand():a.shiftKey?this._doShiftEndCommand():this._doEndCommand();z.stop(a);break;case F.PAGE_UP:a.shiftKey?this._doShiftPageUpCommand():
this._doPageUpCommand();z.stop(a);break;case F.PAGE_DOWN:a.shiftKey?this._doShiftPageDownCommand():this._doPageDownCommand();z.stop(a);break;case F.TAB:a.shiftKey?this._moveSelection(-1,0):this._moveSelection(1,0);z.stop(a);break;default:if(null===this._selection.x||null===this._selection.y){z.stop(a);break}!a.ctrlKey&&!a.metaKey&&40<a.keyCode&&(255>a.keyCode&&!O.includes(a.key))&&this._startEdit(a,!0)}}}catch(d){d instanceof s.KnownException?e.showErrorReporter(d,!0):e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _documentKeyDownHandler",
d,{widgetId:this.id,selection:this._selection},a))}},_doCtrlEndCommand:function(){try{var a=new f;a.currentCell.setX({index:-1,offset:0,entityLongIds:null});a.currentCell.setY({index:-1,offset:0,entityLongIds:null});a.getCurrentRange().setTopLeft(a.currentCell.clone());this._setSelection(a);this.scrollToSelection()}catch(b){g.throwClientException(this,b)}},_doCtrlHomeCommand:function(){try{this._setSelection((new f).initializeToDefaults()),this.scrollToSelection()}catch(a){g.throwClientException(this,
a)}},_doEndCommand:function(){try{if(this._selection){var a=this._values;if(a.dataColumnCount){var b=new f;b.setCurrentCell(this._selection.currentCell.clone());b.currentCell.setX({index:a.dataColumnCount-1,offset:0,entityLongIds:null});b.getCurrentRange().setTopLeft(b.currentCell.clone());b.currentCell.y.isFixed()&&b.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null});this._setSelection(b);this.scrollToSelection()}}}catch(d){g.throwClientException(this,d)}},_doHomeCommand:function(){try{if(this._selection&&
this._values.dataColumnCount){var a=new f;a.setCurrentCell(this._selection.currentCell.clone());a.currentCell.setX({index:0,offset:0,entityLongIds:null});a.getCurrentRange().setTopLeft(a.currentCell.clone());a.currentCell.y.isFixed()&&a.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null});this._setSelection(a);this.scrollToSelection()}}catch(b){g.throwClientException(this,b)}},_doPageDownCommand:function(){if(0!==this._values.dataRowCount){var a=this._getViewExcludingPartials(),
b=Math.min(2*(a.y[1]-a.y[0]),this._values.dataRowCount-this._values.startRow);if(b&&!(0>b))if(a=new f,a.currentCell.setX({index:this._values.startColumn,offset:0,entityLongIds:null}),a.currentCell.setY({index:this._values.startRow+b,offset:0,entityLongIds:null}),a.getCurrentRange().setTopLeft(a.currentCell.clone()),!this._selection||this._selection.isWholeGridSelected()||this._selection.isWholeColumnSelected())this.scrollToSelection(a);else{var b=this._selection.clone(),d=b.currentCell,e=b.getCurrentRange();
b.setRanges([e]);b.setCurrentCellRangeIndex(0);var g={values:this._values};b.isSpanningOnRowAxis(g)&&b.isWholeRowSelected()&&b.getStartRowSpan(g)!==anaplan.constants.SPAN_NONE&&(g=b.getStartRowIndexInView(this._values),-1!==g&&(d.y.setIndex(g),d.y.setOffset(0),d.y.setEntityLongIds(null),e.topLeft.setY(d.y.clone()),d.x.setFixedIndex(this._values.fixedColumnCount-1),e.topLeft.x.setFixedIndex(d.x.fixedIndex)));var g=d.y.index-this._values.startRow,h=null!==e.bottomRight.y?e.bottomRight.y.index-this._values.startRow:
g;this.scrollToSelection(a);d.y.setIndex(this._values.startRow+g);d.y.setEntityLongIds(null);e.topLeft.setY(d.y.clone());null!==e.bottomRight.y&&(e.bottomRight.y.setIndex(this._values.startRow+h),e.bottomRight.y.setEntityLongIds(null));this._setSelection(b)}}},_doPageUpCommand:function(){if(0!==this._values.dataRowCount){var a=this._getViewExcludingPartials(),b=Math.max(-a.y[1]+a.y[0],-this._values.startRow);if(b&&!(0<b))if(a=new f,a.currentCell.setX({index:this._values.startColumn,offset:0,entityLongIds:null}),
a.currentCell.setY({index:Math.max(this._values.startRow+b,0),offset:0,entityLongIds:null}),a.getCurrentRange().setTopLeft(a.currentCell.clone()),!this._selection||this._selection.isWholeGridSelected()||this._selection.isWholeColumnSelected())this.scrollToSelection(a);else{var b=this._selection.clone(),d=b.currentCell,e=b.getCurrentRange();b.setRanges([e]);b.setCurrentCellRangeIndex(0);var g={values:this._values};b.isSpanningOnRowAxis(g)&&b.isWholeRowSelected()&&b.getStartRowSpan(g)!==anaplan.constants.SPAN_NONE&&
(g=b.getStartRowIndexInView(this._values),-1!==g&&(d.y.setIndex(g),d.y.setOffset(0),d.y.setEntityLongIds(null),e.topLeft.setY(d.y.clone()),d.x.setFixedIndex(this._values.fixedColumnCount-1),e.topLeft.x.setFixedIndex(d.x.fixedIndex)));var g=d.y.index-this._values.startRow,h=null!==e.bottomRight.y?e.bottomRight.y.index-this._values.startRow:g;this.scrollToSelection(a);d.y.setIndex(this._values.startRow+g);d.y.setEntityLongIds(null);e.topLeft.setY(d.y.clone());null!==e.bottomRight.y&&(e.bottomRight.y.setIndex(this._values.startRow+
h),e.bottomRight.y.setEntityLongIds(null));this._setSelection(b)}}},_doPaste:function(a,b,d){if(this._selection&&a&&b){a.blur();this.focus();a=b.length;b.lastIndexOf("\n")===a-1&&(b=b.substr(0,a-1));var e=this._fromCSV(b);0!==e.length&&setTimeout(y.hitch(this,function(){this._gridController.attemptPaste(this._selection,e,d,y.hitch(this,function(){this._startEdit(null,!0);return!0}))}),25)}},_doShiftCtrlEndCommand:function(){try{if(this._selection&&!this._selection.isWholeGridSelected()){var a=this._selection.clone(),
b=a.getFocusedRange();switch(b.anchor){case "TL":b.isWholeRowSelected()||b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});b.isWholeColumnSelected()||b.bottomRight.setY({index:this._values.dataRowCount-1,offset:0,entityLongIds:null});break;case "BL":b.isWholeRowSelected()||b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});b.isWholeColumnSelected()||(b.bottomRight.y&&!b.topLeft.y.equals(b.bottomRight.y)&&b.topLeft.setY(b.bottomRight.y.clone()),
b.bottomRight.setY({index:this._values.dataRowCount-1,offset:0,entityLongIds:null}));break;case "TR":b.isWholeRowSelected()||(b.bottomRight.x&&!b.topLeft.x.equals(b.bottomRight.x)&&b.topLeft.setX(b.bottomRight.x.clone()),b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null}));b.isWholeColumnSelected()||b.bottomRight.setY({index:this._values.dataRowCount-1,offset:0,entityLongIds:null});break;case "BR":b.isWholeRowSelected()||(b.bottomRight.x&&!b.topLeft.x.equals(b.bottomRight.x)&&
b.topLeft.setX(b.bottomRight.x.clone()),b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null})),b.isWholeColumnSelected()||(b.bottomRight.y&&!b.topLeft.y.equals(b.bottomRight.y)&&b.topLeft.setY(b.bottomRight.y.clone()),b.bottomRight.setY({index:this._values.dataRowCount-1,offset:0,entityLongIds:null}))}b.setAnchor("TL");this._setSelection(a);var d=new f;d.currentCell.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});d.currentCell.setY({index:this._values.dataRowCount-
1,offset:0,entityLongIds:null});d.getCurrentRange().setTopLeft(d.currentCell.clone());this.scrollToSelection(d)}}catch(e){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftCtrlEndCommand",e);}},_doShiftCtrlHomeCommand:function(){try{if(this._selection&&!this._selection.isWholeGridSelected()){var a=this._selection.clone(),b=a.getFocusedRange();switch(b.anchor){case "TL":b.isWholeRowSelected()||(b.bottomRight.setX(b.topLeft.x.clone()),b.topLeft.setX({index:0,offset:0,entityLongIds:null}));
b.isWholeColumnSelected()||(b.bottomRight.setY(b.topLeft.y.clone()),b.topLeft.setY({index:0,offset:0,entityLongIds:null}));break;case "BL":b.isWholeRowSelected()||(b.bottomRight.setX(b.topLeft.x.clone()),b.topLeft.setX({index:0,offset:0,entityLongIds:null}));b.isWholeColumnSelected()||b.topLeft.setY({index:0,offset:0,entityLongIds:null});break;case "TR":b.isWholeRowSelected()||b.topLeft.setX({index:0,offset:0,entityLongIds:null});b.isWholeColumnSelected()||(b.bottomRight.setY(b.topLeft.y.clone()),
b.topLeft.setY({index:0,offset:0,entityLongIds:null}));break;case "BR":b.isWholeRowSelected()||b.topLeft.setX({index:0,offset:0,entityLongIds:null}),b.isWholeColumnSelected()||b.topLeft.setY({index:0,offset:0,entityLongIds:null})}b.setAnchor("BR");this._setSelection(a);var d=(new f).initializeToDefaults();this.scrollToSelection(d)}}catch(e){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftCtrlHomeCommand",e);}},_doShiftEndCommand:function(){try{if(this._selection&&this._values.dataColumnCount&&
!this._selection.isWholeGridSelected()&&!this._selection.isWholeRowSelected()){var a=this._selection.clone(),b=a.getFocusedRange();switch(b.anchor){case "BL":case "TL":b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});break;case "BR":b.bottomRight.x&&b.topLeft.setX(b.bottomRight.x.clone());b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});b.setAnchor("BL");break;case "TR":b.bottomRight.x&&b.topLeft.setX(b.bottomRight.x.clone()),
b.bottomRight.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null}),b.setAnchor("TL")}this._setSelection(a);var d=new f;d.currentCell.setX({index:this._values.dataColumnCount-1,offset:0,entityLongIds:null});d.currentCell.setY(a.currentCell.y.clone());d.getCurrentRange().setTopLeft(d.currentCell.clone());this.scrollToSelection(d)}}catch(e){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftEndCommand",e);}},_doShiftHomeCommand:function(){try{if(this._selection&&
this._values.dataColumnCount&&!this._selection.isWholeGridSelected()&&!this._selection.isWholeRowSelected()){var a=this._selection.clone(),b=a.getCurrentRange();switch(b.anchor){case "BL":b.bottomRight.setX(b.topLeft.x.clone());b.topLeft.setX({index:0,offset:0,entityLongIds:null});b.setAnchor("BR");break;case "TL":b.bottomRight.setX(b.topLeft.x.clone());b.topLeft.setX({index:0,offset:0,entityLongIds:null});b.setAnchor("TR");break;case "BR":case "TR":b.topLeft.setX({index:0,offset:0,entityLongIds:null})}this._setSelection(a);
var d=new f;d.currentCell.setX({index:0,offset:0,entityLongIds:null});d.currentCell.setY(a.currentCell.y.clone());d.getCurrentRange().setTopLeft(d.currentCell.clone());this.scrollToSelection(d)}}catch(e){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftHomeCommand",e);}},_doShiftPageDownCommand:function(){try{if(0!==this._values.dataRowCount){var a=this._getViewExcludingPartials(),b=Math.min(2*(a.y[1]-a.y[0]),this._values.dataRowCount-this._values.startRow);if(b&&!(0>b)){a=null;
if(this._values.startRow+this._values.rowCount<this._values.dataRowCount&&(a=new f,a.currentCell.setX({index:this._values.startColumn,offset:0,entityLongIds:null}),a.currentCell.setY({index:this._values.startRow+b,offset:0,entityLongIds:null}),a.getCurrentRange().setTopLeft(a.currentCell.clone()),!this._selection||this._selection.isWholeGridSelected()||this._selection.isWholeColumnSelected())){this.scrollToSelection(a);return}var d=this._selection.clone(),e=d.getCurrentRange(),g=d.getFocusedRange(),
h={values:this._values,model:this._model};if(d.isSpanningOnRowAxis(h)&&d.isWholeRowSelected()&&g.getStartRowSpan(h)!==anaplan.constants.SPAN_NONE){var k=g.getStartRowIndexInView(this._values);-1!==k&&(g.topLeft.y.setIndex(k),g.topLeft.y.setOffset(0),g.topLeft.y.setEntityLongIds(null),g.topLeft.x.setFixedIndex(this._values.fixedColumnCount-1),g.bottomRight.y&&g.bottomRight.y.setEntityLongIds(null),g.equals(e)&&d.setCurrentCell(g.topLeft.clone()))}var m;a&&(m="TL"===g.anchor||"TR"===g.anchor?(g.bottomRight.y?
g.bottomRight.y.index:g.topLeft.y.index)-this._values.startRow:g.topLeft.y.index-this._values.startRow,this.scrollToSelection(a));switch(g.anchor){case "TL":case "TR":g.bottomRight.setY({index:a?this._values.startRow+m:this._values.dataRowCount-1,offset:0,entityLongIds:null});break;case "BL":case "BR":g.topLeft.setY({index:a?this._values.startRow+m:this._values.dataRowCount-1,offset:0,entityLongIds:null})}this._setSelection(d)}}}catch(r){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftPageDownCommand",
r);}},_doShiftPageUpCommand:function(){try{if(0!==this._values.dataRowCount){var a=this._getViewExcludingPartials(),b=Math.max(-a.y[1]+a.y[0],-this._values.startRow),a=null;if(0<this._values.startRow&&(a=new f,a.currentCell.setX({index:this._values.startColumn,offset:0,entityLongIds:null}),a.currentCell.setY({index:Math.max(this._values.startRow+b,0),offset:0,entityLongIds:null}),a.getCurrentRange().setTopLeft(a.currentCell.clone()),!this._selection||this._selection.isWholeGridSelected()||this._selection.isWholeColumnSelected())){this.scrollToSelection(a);
return}var d=this._selection.clone(),e=d.getCurrentRange(),g=d.getFocusedRange(),h={values:this._values,model:this._model};if(d.isSpanningOnRowAxis(h)&&d.isWholeRowSelected()&&d.getStartRowSpan(h)!==anaplan.constants.SPAN_NONE){var k=g.getEndRowIndexInView(this._values);-1!==k&&(g.topLeft.y.setIndex(k),g.topLeft.y.setOffset(0),g.topLeft.y.setEntityLongIds(null),g.topLeft.x.setFixedIndex(this._values.fixedColumnCount-1),g.bottomRight.y&&g.bottomRight.y.setEntityLongIds(null),g.equals(e)&&d.setCurrentCell(g.topLeft.clone()))}var m;
a&&(m="TL"===g.anchor||"TR"===g.anchor?(g.bottomRight.y?g.bottomRight.y.index:g.topLeft.y.index)-this._values.startRow:g.topLeft.y.index-this._values.startRow,this.scrollToSelection(a));switch(g.anchor){case "TL":case "TR":g.bottomRight.setY({index:a?this._values.startRow+m:0,offset:0,entityLongIds:null});break;case "BL":case "BR":g.topLeft.setY({index:a?this._values.startRow+m:0,offset:0,entityLongIds:null})}this._setSelection(d)}}catch(r){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._doShiftPageUpCommand",
r);}},_fromCSV:function(a,b,d){b||(b="\n");d||(d="\t");a=a.split(b);for(b=a.length-1;0<=b;b--)a[b]=a[b].split(d);return this._transpose(a)},_handleArrowKeys:function(a){if(!this._selection)return!1;var b={values:this._values},d=this._selection.getCurrentRange(),e;if(a.keyCode===F.ENTER||37<=a.keyCode&&40>=a.keyCode){switch(a.keyCode){case F.LEFT_ARROW:a.shiftKey&&this._allowRangeSelections?a.ctrlKey||a.metaKey?this._doShiftHomeCommand():this._extendSelection(-1,0):this._moveSelection(-1,0);break;
case F.RIGHT_ARROW:a.shiftKey&&this._allowRangeSelections?a.ctrlKey||a.metaKey?this._doShiftEndCommand():this._extendSelection(1,0):this._moveSelection(1,0);break;case F.UP_ARROW:a.shiftKey&&this._allowRangeSelections?a.ctrlKey||a.metaKey?(e=this._selection.getDY(b),0<e?this._extendSelection(0,-e):(b=d.getStartRowIndex(b),-1!==b&&this._extendSelection(0,-b))):this._extendSelection(0,-1):this._moveSelection(0,-1);break;case F.DOWN_ARROW:a.shiftKey&&this._allowRangeSelections?a.ctrlKey||a.metaKey?(e=
this._selection.getDY(b),0>e?this._extendSelection(0,-e):(b=d.getEndRowIndex(b),-1!==b&&this._extendSelection(0,this._values.dataRowCount-b-1))):this._extendSelection(0,1):this._moveSelection(0,1);break;case F.ENTER:this._onSelect(),this.domNode&&(a.shiftKey?this._moveSelection(0,-1):this._moveSelection(0,1))}z.stop(a);return!0}return!1},_handleDeselect:function(a){try{var b=r.getEnclosingWidget(a.target),d=u.indexOf(this._selectionWidgets,b);if(-1!==d){var e=this._selection.clone();e.removeRangeAtIndex(d);
this._setSelection(e.ranges.length?e:null)}}catch(f){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._handleDeselect",f);}},_handleShiftClick:function(a){try{var b=this._selection;if(b){if(b.isWholeColumnSelected()){if(!a.isWholeColumnSelected()||b.currentCell.getColumnNestingIndex()!==a.currentCell.getColumnNestingIndex())return}else if(b.isWholeRowSelected()){if(!a.isWholeRowSelected()||b.currentCell.getRowNestingIndex()!==a.currentCell.getRowNestingIndex())return}else if(a.isWholeRowSelected()||
a.isWholeColumnSelected())return;var d=b.getFocusedRange(),e=b.clone(),g,h=a.currentCell,k=e.getFocusedRange(),m=this._getAnchorForRange(d);k.setAnchor(m);switch(m){case "TL":g=new f.CoordinatePair({x:k.topLeft.x,y:k.topLeft.y});break;case "TR":g=new f.CoordinatePair({x:k.bottomRight.x?k.bottomRight.x:k.topLeft.x,y:k.topLeft.y});break;case "BL":g=new f.CoordinatePair({x:k.topLeft.x,y:k.bottomRight.y?k.bottomRight.y:k.topLeft.y});break;case "BR":g=new f.CoordinatePair({x:k.bottomRight.x?k.bottomRight.x:
k.topLeft.x,y:k.bottomRight.y?k.bottomRight.y:k.topLeft.y})}!g.x.isFixed()&&!h.x.isFixed()&&(-1!==g.x.index&&-1!==h.x.index)&&(h.x.index<=g.x.index?(k.topLeft.setX(h.x),k.bottomRight.setX(g.x),"TL"===k.anchor?k.setAnchor("TR"):"BL"===k.anchor&&k.setAnchor("BR")):h.x.index>g.x.index&&(k.bottomRight.setX(h.x),k.topLeft.setX(g.x),"TR"===k.anchor?k.setAnchor("TL"):"BR"===k.anchor&&k.setAnchor("BL")));!g.y.isFixed()&&!h.y.isFixed()&&(-1!==g.y.index&&-1!==h.y.index)&&(h.y.index<=g.y.index?(k.topLeft.setY(h.y),
k.bottomRight.setY(g.y),"TL"===k.anchor?k.setAnchor("BL"):"TR"===k.anchor&&k.setAnchor("BR")):h.y.index>g.y.index&&(k.bottomRight.setY(h.y),k.topLeft.setY(g.y),"BL"===k.anchor?k.setAnchor("TL"):"BR"===k.anchor&&k.setAnchor("TR")));this._setSelection(e)}else this._setSelection(a)}catch(r){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._handleShiftClick",r);}},_hideTooltip:function(){try{if(this._tooltipShowTimeout&&(clearTimeout(this._tooltipShowTimeout),this._tooltipShowTimeout=null),
this._tooltipCellId){var a=A.byId(this._tooltipCellId);a&&anaplan.hideTooltip(a);this._tooltipCellId=null}}catch(b){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._hideTooltip",b);}},_hideCellMenuButton:function(){var a=this._cellMenuButton;"none"!==a.domNode.style.display&&(a.closeDropDown(),a.domNode.style.display="none")},_isSelectionCoordsEqual:function(a,b){var d,e;if(!a||!b)return!1;d=a instanceof f.CoordinatePair?a:new f.CoordinatePair(a);e=b instanceof f.CoordinatePair?b:new f.CoordinatePair(b);
return d.equals(e)},_onCellMenuOpen:function(b){var d=!1;try{this._clearCellMenu();var f=this._gridController.getContext(),g=this._cellMenuButton.targetSelection,h=-1;g?g.isWholeColumnSelected()?(h=g.getStartColumnIndex(f),d=!0):g.isWholeRowSelected()&&(h=g.getStartRowIndex(f)):console.warn("DesktopGridlet expected to find targetSelection on cellMenuButton",b);if(this._selectionCellMenuDelegate){var k=!0;this._selection&&u.some(this._selection.ranges,function(a){if(d){if(a.isColumnLabelSelected()&&
h>=a.getStartColumnIndex(f)&&h<=a.getEndColumnIndex(f))return!0}else if(a.isRowLabelSelected()&&h>=a.getStartRowIndex(f)&&h<=a.getEndRowIndex(f))return!0;return!1})&&(k=!1);var m="rows";k?g&&g.isWholeColumnSelected()&&(m="columns"):this._selection&&this._selection.isWholeColumnSelected()&&(m="columns");this._selectionCellMenuDelegate.populateCellMenu(this._cellMenu,this._gridController,k?g:null,m);this._cellMenu.getChildren().length&&this._cellMenu.addChild(new t)}this._dynamicCellMenuDelegate&&this._dynamicCellMenuDelegate.populateCellMenu(this._cellMenu,
this._gridController,g);this._cellMenu.getChildren().length||this._cellMenu.addChild(new a({label:L.messageNoActions,"class":"cellMenuLoading"}))}catch(r){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onCellMenuOpen",r,{widgetId:this.id},b))}},_onClick:function(){var a;try{if(this._lastMouseDownCoords&&(a=this._getLink(this._lastMouseDownCoords))&&this._linkSelectTimer)clearTimeout(this._linkSelectTimer),this._linkSelectTimer=null,this._postponedSelection&&(this._setSelection(this._postponedSelection),
this.scrollToSelection(),this._onSelect(),this._postponedSelection=null),this._linkOpenTimer&&clearTimeout(this._linkOpenTimer),this._linkOpenTimer=setTimeout(y.hitch(this,"_openLink",a),this.LINK_OPEN_DELAY)}catch(b){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet#_onClick",b,{widgetId:this.id},event))}},_onContextMenu:function(a){try{if(this._selectionCellMenuDelegate){var b=null;if(b=D.contains(a.target,"gridSelection")?this._selection:this._getCellSelectionAtClientXY(a.clientX,
a.clientY)){var d=null;b.isWholeRowSelected()?d="rows":b.isWholeColumnSelected()&&(d="columns");var f=null,h=null;this._selectionCellMenuDelegate&&(f=this._selectionCellMenuDelegate.getMenuItems(this._gridController,b,d));null!==d&&this._dynamicCellMenuDelegate&&(h=this._dynamicCellMenuDelegate.getMenuItems(this._gridController,b));if(f||h){var k=g.getContextMenu();f&&k.addMenuItem(f);h&&k.addLazyMenuItem(h)}}}}catch(m){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onContextMenu",
m,{widgetId:this.id},a))}},_onDomMouseScroll:function(a){try{var b=this._node,d=0,f=0;a.detail&&(a.axis===a.VERTICAL_AXIS?f=6*a.detail:a.axis===a.HORIZONTAL_AXIS&&(d=6*a.detail));b.scrollLeft+=d;b.scrollTop+=f}catch(g){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onDomMouseScroll",g,{widgetId:this.id},a))}},_onKeyDown:function(a){try{if(!this._activeEditor&&!a.altKey&&this._focus&&!G("ff")&&(a.ctrlKey||a.metaKey)){if(a.keyCode===F.HOME&&(a.stopPropagation(),G("webkit")||
9>G("ie")))a.shiftKey?this._doShiftCtrlHomeCommand():this._doCtrlHomeCommand();if(a.keyCode===F.END&&(a.stopPropagation(),G("webkit")||9>G("ie")))a.shiftKey?this._doShiftCtrlEndCommand():this._doCtrlEndCommand()}}catch(b){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onKeyDown",b,{widgetId:this.id,selection:this._selection},a))}},_onKeyPress:function(a){var b=a.charCode||a.keyCode;try{if(!this._activeEditor&&!a.altKey&&this._focus){if(a.ctrlKey||a.metaKey)b===F.HOME&&
(a.stopPropagation(),8<G("ie")&&(a.shiftKey?this._doShiftCtrlHomeCommand():this._doCtrlHomeCommand())),b===F.END&&(a.stopPropagation(),8<G("ie")&&(a.shiftKey?this._doShiftCtrlEndCommand():this._doCtrlEndCommand()));G("ff")&&this._handleArrowKeys(a)}}catch(d){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onKeyPress",d,{widgetId:this.id,selection:this._selection},a))}},_onMouseWheel:function(a){try{var b=this._node,d=0,f=0;a.wheelDeltaX&&(d=-a.wheelDeltaX);a.wheelDeltaY&&
(f=-a.wheelDeltaY);!d&&!f&&a.wheelDelta&&this._values.rowCount&&(f=-Math.ceil(a.wheelDelta/this._values.rowCount));b.scrollLeft+=d;b.scrollTop+=f}catch(g){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet#_onMouseWheel",g,{widgetId:this.id},a))}},_onWheelEvent:function(a){var b;a.preventDefault();a.target!==this._lockOverlay&&this._values&&("mousewheel"===this._wheelEventSupported?this._onMouseWheel(a):"DOMMouseScroll"===this._wheelEventSupported?this._onDomMouseScroll(a):
(b=this._node,b.scrollLeft+=a.deltaX,b.scrollTop+=a.deltaY))},_populatePasteOptionsFromLocale:function(a){var b=new k;b.decimalSeparator&&(a.groupingSeparator="NONE","."===b.decimalSeparator?a.decimalSeparator="FULL_STOP":","===b.decimalSeparator&&(a.decimalSeparator="COMMA"))},_populateDecimalSeparatorFromHtml:function(a,b){var d=/mso-displayed-decimal-separator:"([^"]+)"/.exec(a);d&&2===d.length&&(d=d[1],d=d.substr(d.length-1),"."===d?b.decimalSeparator="FULL_STOP":","===d&&(b.decimalSeparator=
"COMMA"))},_populateThousandSeparatorFromHtml:function(a,b){var d=/mso-displayed-thousand-separator:"([^"]+)"/.exec(a);if(d&&2===d.length)d=d[1],d=d.substr(d.length-1),"."===d?b.groupingSeparator="FULL_STOP":","===d?b.groupingSeparator="COMMA":" "===d&&(b.groupingSeparator="SPACE");else if((d=/mso-displayed-thousand-separator:/.exec(a))&&1===d.length)b.groupingSeparator="NONE"},_populatePasteOptionsFromHtml:function(a,b){a&&(this._populateDecimalSeparatorFromHtml(a,b),this._populateThousandSeparatorFromHtml(a,
b))},_populatePasteOptionsFromPasteHtmlOrLocale:function(a,b){this._populatePasteOptionsFromHtml(a,b);b.decimalSeparator||this._populatePasteOptionsFromLocale(b)},_focusIePasteDiv:function(){this._iePasteNode.focus();var a=document.createRange();a.selectNodeContents(this._iePasteNode);var b=window.getSelection();b.removeAllRanges();b.addRange(a)},_pasteNodePasteHandler:function(a){try{var b=a.target,d=null,f={};if(a.clipboardData){var g=a.clipboardData.getData("text/html");this._populatePasteOptionsFromPasteHtmlOrLocale(g,
f);if(G("mac")&&G("webkit"))setTimeout(y.hitch(this,"_triggerPasteFromTargetNode",b,f),25);else if(d=a.clipboardData.getData("text/plain"))this._doPaste(b,d,f),b.value=""}else window.clipboardData?(d=window.clipboardData.getData("Text"),setTimeout(y.hitch(this,"_triggerPasteFromTargetNodeForIE",d,b),25)):setTimeout(y.hitch(this,"_triggerPasteFromTargetNode",b),25)}catch(h){h instanceof s.KnownException?e.showErrorReporter(h,!0):e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _pasteNodePasteHandler",
h,{widgetId:this.id,selection:this._selection},a))}},_postMouseDownHandler:function(a){var b=this._selection,d=this._values,e,f,g,h;try{if(b){if(this._mouseDownCellClientX=a.clientX,this._mouseDownCellClientY=a.clientY,b.isSingleDataCellSelected()&&(f=b.currentCell.getCellIndexInView(d,this._pageInfo),(e=d.cells.formats[f])&&"BOOLEAN"===e.dataType))if(h=b.currentCell.getIndices({values:d}),g=A.byId(this._generateCheckboxId(h.x,h.y,h.nx,h.ny))){var k=B.position(g,!0);a.pageX>=k.x&&a.pageX<k.x+k.w&&
a.pageY>=k.y&&a.pageY<k.y+k.h&&this._toggleCheckbox(g)}}else this._mouseDownCell=null}catch(m){throw new s.ClientException("anaplan.gridlet.DesktopGridlet#_postMouseDownHandler",m);}},_processCellTooltip:function(a){try{var b=this._getCellNodeAtClientXY(a.clientX,a.clientY);if(b){var d=this._deriveSelection(b);if(d){var e=d.currentCell.getCellIndexInView(this._values,this._pageInfo);-1!==e&&(this._isImportDataSourceImportsCell(d)?this._showImportsCellTooltip(b,this._values.cells.cellValues[e]):this._showBreakbackMarkers?
d.currentCell.isDataCellSelected()?!this._values.cells.isCalculated[e]||!this._values.cells.isEditable[e]?this._hideTooltip():this._showBreakbackCellTooltip(b,this._values.cells.writeableLeafCellCounts[e]):this._hideTooltip():this._hideTooltip())}}}catch(f){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._processCellTooltip",f);}},_isImportDataSourceImportsCell:function(a){var b={values:this._values},d=a.currentCell.getRowEntityLongIds(b);return d&&0<d.length&&n.getEntityTypeIndex(d[0])===
l.IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX&&(a=a.currentCell.getColumnEntityLongIds(b))&&0<a.length&&a[0]===l.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_IMPORTS?!0:!1},_scrollEventHandler:function(){try{this.inherited(arguments),this._hideCellMenuButton()}catch(a){e.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _scrollEventHandler",a,{widgetId:this.id},a))}},_showCellTooltip:function(a,b){try{a?this._tooltipCellId&&this._tooltipCellId===a.id||(this._tooltipShowTimeout&&(clearTimeout(this._tooltipShowTimeout),
this._tooltipShowTimeout=null),this._hideTooltip(),this._tooltipCellId=a.id,this._tooltipShowTimeout=setTimeout(b,400)):this._hideTooltip()}catch(d){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._showCellTooltip",d);}},_wrapString:function(a,b,d,e){if(a.length>b){for(var f=b;0<f&&!/\s/.test(a[f]);f--);0===f&&(f=b);var g=a.substring(0,f);e=!e?1:e;return e<d?(a=a.substring(f+1),g+"\x3cbr\x3e"+this._wrapString(a,b,d,e+1)):g}return a},_showImportsCellTooltip:function(a,b){var d=this;this._showCellTooltip(a,
function(){anaplan.showTooltip(d._wrapString(m.escapeHTML(b),l.importsTooltip.LINE_LENGTH,l.importsTooltip.MAX_LINES),a,["above"]);d._tooltipShowTimeout=null})},_showBreakbackCellTooltip:function(a,b){var d=this;this._showCellTooltip(a,function(){anaplan.showTooltip(I.substitute(m.searchAndReplacePlaceholders(L.tooltipWriteableLeafCellCount),{writeableLeafCellCount:b}),a);d._tooltipShowTimeout=null})},_transpose:function(a){for(var b=Array(a[0].length),d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++)b[e]||
(b[e]=Array(a.length)),b[e][d]=a[d][e];return b},_triggerPasteFromTargetNode:function(a,b){var d=a.value;d&&(this._doPaste(a,d,b),a.value="")},_triggerPasteFromTargetNodeForIE:function(a,b){var d=b.innerHTML;b.innerHtml="";var e={};this._populatePasteOptionsFromPasteHtmlOrLocale(d,e);a&&this._doPaste(b,a,e)},_update:function(){try{this._hideTooltip(),this.inherited(arguments),this._labelCells=[],this._mouseOverLabelCellCoords=null}catch(a){g.throwClientException(this,a)}},_usesHtmlRenderer:function(){return!0}})})},
"anaplan/widgets/SearchBox":function(){define("dojo/_base/declare dojo/dom-style dojo/keys dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/i18n!anaplan/nls/searchBox dojo/text!anaplan/templates/SearchBox.html dijit/form/TextBox anaplan/widgets/Button".split(" "),function(l,s,p,q,f,k,n,m){return l([f,q,k],{baseClass:"anaplanSearchBox",placeHolder:n.placeHolderTextBox,iconClass:"",label:n.labelSearchButton,showButton:!0,showLabel:!0,templateString:m,value:"",onSearch:function(f){},
postCreate:function(){this.inherited(arguments);this.searchButton.set("label",this.label);this.searchButton.set("iconClass",this.iconClass);this.searchButton.set("showLabel",this.showLabel);this.searchButton.set("disabled",this.disabled);this.textBox.set("placeHolder",this.placeHolder);this.textBox.set("disabled",this.disabled);this.textBox.set("value",this.value)},_fireOnSearch:function(){if(!this.get("disabled")){var f=this.textBox.get("value");this.textBox.set("value",f,!1);this.onSearch(f)}},
_getValueAttr:function(){return this.textBox?this.textBox.get("value"):""},_onTextBoxKeyDown:function(f){f.keyCode===p.ENTER&&this._fireOnSearch()},_setDisabledAttr:function(f){this._set("disabled",f);this.searchButton&&this.searchButton.set("disabled",f);this.textBox&&this.textBox.set("disabled",f)},_setIconClassAttr:function(f){this._set("iconClass",f);this.searchButton&&this.searchButton.set("iconClass",f)},_setLabelAttr:function(f){this._set("label",f);this.searchButton&&this.searchButton.set("label",
f)},_setPlaceHolderAttr:function(f){this._set("placeHolder",f);this.textBox&&this.textBox.set("placeHolder",f)},_setShowButtonAttr:function(f){this._set("showButton",f);this.searchButton&&s.set(this.searchButton.domNode,"display",f?"":"none")},_setShowLabelAttr:function(f){this._set("showLabel",f);this.searchButton&&this.searchButton.set("showLabel",f)},_setValueAttr:function(f){this._set("value",f);this.textBox&&this.textBox.set("value",f)}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return l("dijit.form._Spinner",m,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:h,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(e){return e},_arrowPressed:function(f,d,a){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),d*a),!1),e.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(e,d,a){var f=this.smallDelta;d==this.textbox&&(d=a.keyCode,f=d==s.PAGE_UP||d==s.PAGE_DOWN?this.largeDelta:this.smallDelta,d=d==s.UP_ARROW||d==s.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==e?this._arrowReleased(d):this._arrowPressed(d,d==this.upArrowNode?1:-1,f)},_wheelTimer:null,_mouseWheeled:function(e){e.stopPropagation();e.preventDefault();var d=e.wheelDelta/120;Math.floor(d)!=d&&(d=0<e.wheelDelta?1:-1);e=e.detail?
-1*e.detail:d;if(0!==e){var a=this[0<e?"upArrowNode":"downArrowNode"];this._arrowPressed(a,e,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(a)},50)}},_setConstraintsAttr:function(e){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(e,d){this.focusNode.setAttribute("aria-valuenow",e);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,f.wheel,p.hitch(this,"_mouseWheeled")),n.addListener(this.upArrowNode,this.textbox,{keyCode:s.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.downArrowNode,
this.textbox,{keyCode:s.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.upArrowNode,this.textbox,{keyCode:s.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.downArrowNode,this.textbox,{keyCode:s.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"anaplan/api/Entities/Modules":function(){define("anaplan/api/Entities/Base/FetchableEntity anaplan/api/Entities/LineItems anaplan/api/Entity/Module anaplan/api/Fetchers/modules anaplan/api/Services/lineItemSubsets anaplan/api/Services/versions anaplan/api/SystemActions/index anaplan/utils/JsHelper anaplan/utils/EntityLongIdHelper dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){return e([l],{_fetcher:q,
_entityClass:p,_lineItems:{},copy:function(d){if(d)return n.copyModule(d).then(function(a){return this.fetchById(a)}.bind(this));console.error("Accepted params: {name: string, includeAllViews:bool, includeData: bool, functionalAreaId:null|long, toCopy:long }")},_populateInfo:function(d,a){var e=this.inherited(arguments);m.isObject(d)?(this._populatelineItemSubsets(e,d),this._populatelineItems(e,d,a),this._populateVersionFormulae(e,d),e.showInContents=d.showInContents,e.functionalAreaId=d.functionalAreaEntityLongId):
console.warn("Expected an info for the Module when trying to _populateInfo");return e},_populatelineItemSubsets:function(d,a){d.countLineItemSubsets=a.lineItemSubsetEntityLongIds.length;d.hasLineItemSubsets=0<d.countLineItemSubsets;d.lineItemSubsets={};d.lineItemSubsetsNames=[];d.hasLineItemSubsets&&a.lineItemSubsetEntityLongIds.forEach(function(a){d.lineItemSubsets[a]=f.getItemById(a);d.lineItemSubsetsNames.push(d.lineItemSubsets[a].entityId)})},_populateVersionFormulae:function(d,a){d.countVersionFormulae=
a.formulaInfos.length;d.hasVersionFormulae=0<d.countVersionFormulae;d.versionFormulaeLineItemNames=[];d.versionFormulae=[];d.hasVersionFormulae&&a.formulaInfos.forEach(function(a){a={formula:a.formulaString,lineItemSubset:d.lineItemSubsets[a.formulaScope.lineItemSubsetEntityLongId],version:k.getItemById(a.formulaScope.versionEntityLongId)};d.versionFormulae.push(a);d.versionFormulaeLineItemNames.push(a.lineItemSubset.entityId)})},_populatelineItems:function(d,a,e){d.countLineItems=a.lineItemInfos.length;
d.hasLineItems=0<d.countLineItems;d.hasLineItems&&(d.lineItemEntityTypeIndex=h.getEntityTypeIndex(a.lineItemsLabelPage.entityLongIds[0][0]),this._lineItems[e.entityLongId]=new s({labelPage:a.lineItemsLabelPage,infos:a.lineItemInfos}))},getLineItems:function(d){return this._lineItems[d]},clear:function(){this.inherited(arguments);this._lineItems={}},getById:function(d){return new this._entityClass(this.getItemById(d),this._lineItems[d])}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){g("dijit-legacy-requires")&&t(0,function(){l(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return p("dijit.Menu",b,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):s.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(b){return a.get(this._iframeContentDocument(b))||
this._iframeContentDocument(b).__parent__||b.name&&document.frames[b.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=q.byId(a,this.ownerDocument);var b;if("iframe"==a.tagName.toLowerCase()){var g=a;b=this._iframeContentWindow(g);b=d.body(b.document)}else b=a==d.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var k={node:a,
iframe:g};f.set(a,"_dijitMenu"+this.id,this._bindings.push(k));var r=h.hitch(this,function(a){var b=this.selector,d=b?function(a){return e.selector(b,a)}:function(a){return a},f=this;return[e(a,d(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||f._scheduleOpen(this,g,{x:a.pageX,y:a.pageY},a.target)}),e(a,d("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==m.F10||this.leftClickToOpen&&a.keyCode==
m.SPACE)a.stopPropagation(),a.preventDefault(),f._scheduleOpen(this,g,null,a.target),this._lastKeyDown=(new Date).getTime()})]});k.connects=b?r(b):[];g&&(k.onloadHandler=h.hitch(this,function(){var a=this._iframeContentWindow(g),a=d.body(a.document);k.connects=r(a)}),g.addEventListener?g.addEventListener("load",k.onloadHandler,!1):g.attachEvent("onload",k.onloadHandler))},unBindDomNode:function(a){var b;try{b=q.byId(a,this.ownerDocument)}catch(d){return}a="_dijitMenu"+this.id;if(b&&f.has(b,a)){for(var e=
f.get(b,a)-1,g=this._bindings[e],h;h=g.connects.pop();)h.remove();(h=g.iframe)&&(h.removeEventListener?h.removeEventListener("load",g.onloadHandler,!1):h.detachEvent("onload",g.onloadHandler));f.remove(b,a);delete this._bindings[e]}},_scheduleOpen:function(a,b,d,e){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:e,delegatedTarget:a,iframe:b,coords:d})},1))},_openMyself:function(a){function b(){t.refocus&&s&&s.focus();r.close(t)}var d=a.target,
e=a.iframe,f=a.coords,h=!f;this.currentTarget=a.delegatedTarget;if(f){if(e){a=k.position(e,!0);var d=this._iframeContentWindow(e),d=k.docScroll(d.document),m=n.getComputedStyle(e),l=n.toPixelValue,p=(g("ie")&&g("quirks")?0:l(e,m.paddingLeft))+(g("ie")&&g("quirks")?l(e,m.borderLeftWidth):0),e=(g("ie")&&g("quirks")?0:l(e,m.paddingTop))+(g("ie")&&g("quirks")?l(e,m.borderTopWidth):0);f.x+=a.x+p-d.x;f.y+=a.y+e-d.y}}else f=k.position(d,!0),f.x+=10,f.y+=10;var t=this,e=this._focusManager.get("prevNode");
a=this._focusManager.get("curNode");var s=!a||q.isDescendant(a,this.domNode)?e:a;r.open({popup:this,x:f.x,y:f.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();h||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);r.close(this)}},destroy:function(){s.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"anaplan/api/Entities/Base/LabelPageWithInfos":function(){define(["dojo/_base/declare",
"anaplan/utils/JsHelper","dojo/_base/lang","anaplan/api/Entities/Base/LabelPage","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([q],{_infos:null,constructor:function(f){s.isObject(f)&&(s.isArray(f.infos)&&s.isObject(f.labelPage))&&this.setInfos(f.infos,f.labelPage)},setInfos:function(k,n){if(s.isArray(k))this.setLabelPage(n),this._infos=k;else throw Error(f.errors.invalidInfos);},_populateObject:function(f,n){var m=this.inherited(arguments);if(m&&(m.hasInfo=!1,this._infos&&s.isObject(this._infos[f]))){var h=
this._populateInfo(this._infos[f],m);h.hasInfo=!0;for(var e in h)h.hasOwnProperty(e)&&(m[e]=h[e])}return m},_populateInfo:function(f,n){return{}},clear:function(){this.inherited(arguments);this._infos=null}})})},"anaplan/cf/FormattingInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","anaplan/common/_DefinitionBase","./BaseFormattingInfo","./ConditionalFormattingInfo"],function(l,s,p,q,f){return l(p,{_serializableProperties:["base","conditional"],constructor:function(k){k&&(s.mixin(this,
k),this.base&&!(this.base instanceof q)&&(this.base=new q(this.base)),this.conditional&&!(this.conditional instanceof f)&&(this.conditional=new f(this.conditional)))}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(l,s,p,q,f){function k(k,h){var e=k.resize?k.resize(h):p.setMarginBox(k.domNode,h);e?f.mixin(k,e):(f.mixin(k,p.getMarginBox(k.domNode)),f.mixin(k,h))}var n={marginBox2contentBox:function(f,
h){var e=q.getComputedStyle(f),g=p.getMarginExtents(f,e),d=p.getPadBorderExtents(f,e);return{l:q.toPixelValue(f,e.paddingLeft),t:q.toPixelValue(f,e.paddingTop),w:h.w-(g.w+d.w),h:h.h-(g.h+d.h)}},layoutChildren:function(m,h,e,g,d){h=f.mixin({},h);s.add(m,"dijitLayoutContainer");e=l.filter(e,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(l.filter(e,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(e,function(a){var e=a.domNode,b=a.region||a.layoutAlign;
if(!b)throw Error("No region setting for "+a.id);var f=e.style;f.left=h.l+"px";f.top=h.t+"px";f.position="absolute";s.add(e,"dijitAlign"+(b.substring(0,1).toUpperCase()+b.substring(1)));e={};g&&g==a.id&&(e["top"==a.region||"bottom"==a.region?"h":"w"]=d);"leading"==b&&(b=a.isLeftToRight()?"left":"right");"trailing"==b&&(b=a.isLeftToRight()?"right":"left");"top"==b||"bottom"==b?(e.w=h.w,k(a,e),h.h-=a.h,"top"==b?h.t+=a.h:f.top=h.t+h.h+"px"):"left"==b||"right"==b?(e.h=h.h,k(a,e),h.w-=a.w,"left"==b?h.l+=
a.w:f.left=h.l+h.w+"px"):("client"==b||"center"==b)&&k(a,h)})}};f.setObject("dijit.layout.utils",n);return n})},"anaplan/api/SystemActions/Base/PlainRequest":function(){define(["dojo/_base/declare","dojo/i18n!anaplan/nls/api"],function(l,s){return l(null,{_params:{},constructor:function(l){this._params=this.applyDefaults(l)},applyDefaults:function(l){return l},extractResult:function(l){return l},validate:function(){return!0},buildRequestObject:function(){throw Error(s.errors.notImplemented);},parseResponse:function(l){return l}})})},
"anaplan/data/Aggregator/BaseAggregator":function(){define("anaplan/data/automaticRefreshInterval anaplan/data/Aggregator/PostHandler anaplan/data/ModelContentCache anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/FormatHelper anaplan/utils/Observable dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/aggregator dojo/json dojo/string dojo/topic".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return h([n],{constructor:function(a){a=a||{};this._synchronous=a.synchronous||
!1;this._newRequests=[];this._poster=new s;e.mixin(dojo.contentHandlers,{anaplan:function(a){var b=(new Date).getTime(),e=null;try{e=d.parse(a.responseText||null)}catch(g){throw console.error(g),new f.ParseException(null,null,k.safeParseXhr(a));}e?e.endPostTime=b:console.warn("anaplan.data.Aggregator anaplan handler found empty response");return e}});this._handles=[r.subscribe("anaplan/modelId",e.hitch(this,function(){this._poster.cancelInFlightRequest()})),r.subscribe("anaplan/error",e.hitch(this,
"_recordError"))];n.call(this)},destroy:function(){m.forEach(this._handles,function(a){a.remove()})},isInFlight:function(){return this._gatherInProgress},gather:function(a){this._newRequests.push(a);if(this._gatherInProgress)return!1;var d=this;a=function(a,b){try{var e;d._serverTimeFromLastRequest=b&&b.xhr?b.xhr.getResponseHeader("Date"):null;d._clientTimeFromLastRequest=(new Date).toString();if(!d._gatherInProgress)throw new f.IllegalStateException("Expected gather to be in progress: found ${state}",
null,{state:d._gatherInProgress});if(!a||!a.result&&!a.error)throw new f.InvalidArgumentException(null,null,{value:"response"});if(a.error){var g=!1;for(e=0;e<d._observers.length;e++)d._observers[e].error(a.error)&&(g=!0);return g}g=d._split(a.result);if(a.result&&a.result.errorInfo){var h=a.result;p.populateCache(h);var k=h.errorInfo,h=!1;for(e=0;e<d._observers.length;e++)d._observers[e].error(k)&&(h=!0);if(h)return;if(k.isKnownError)r.publish("anaplan/uierror",new f.BaseException(k.errorMessage),
!0,!1,g?null:function(){d.gather()});else{var n=new f.ServerException(k.errorMessage);n.setModelRestored(!0);r.publish("anaplan/uierror",n);return}}p.populateCache(a.result);d._startRefreshTimer();if(g){if(g.length!=d._recipientList.length)throw new f.IllegalStateException("Expected result for each observer in recipient list: found ${state}",null,{state:[g.length,d._recipientList.length].join()});for(e=0;e<g.length;e++){var l=d._recipientList[e],q=l.id||"";if(-1!=m.indexOf(d._observers,l))try{l.update(g[e])}catch(s){throw new f.ClientException("Error updating widget ${widgetId}",
s,{widgetId:q});}}}else console.warn("Aggregator: gather contains no results")}catch(u){console.error(u),r.publish("anaplan/uierror",new f.ClientException("Error during gather load ",u))}finally{d._gatherInProgress=!1,d._newRequests.length&&setTimeout(function(){d.gather()},25)}};var e=function(a){try{if(!(a&&"cancel"==a.dojoType))for(a=0;a<d._observers.length;a++)d._observers[a].error(null)}catch(b){r.publish("anaplan/uierror",new f.ClientException("Unexpected error during gather error handler ",
b))}finally{d._gatherInProgress=!1}};try{this._gatherInProgress=!0;this._pendingRequests=this._newRequests.slice();this._newRequests=[];this._recipientList=[];for(var g=0;g<this._observers.length;g++){var h=this._observers[g].view();h&&null!=h&&(this._pendingRequests.push(h),this._recipientList.push(this._observers[g]))}var k=this._aggregate(this._pendingRequests);k?this.postWithRetry(k,this._synchronous,a,e):this._gatherInProgress=!1}catch(n){this._gatherInProgress=!1,r.publish("anaplan/uierror",
e instanceof Error?new f.ClientException("Error occurred during gather ",n):n)}finally{return this._gatherInProgress}},getClientTimeFromLastRequest:function(){return this._clientTimeFromLastRequest||null},getServerTimeFromLastRequest:function(){return this._serverTimeFromLastRequest||null},isDirty:function(){return this._gatherInProgress||this._poster.isDirty()||this._newRequests.length},postWithRetry:function(a,d,e,f,g){this._poster.doPost(a,d,e,f,g)},post:function(a,d,e,f,g){if(this._gatherInProgress){var h=
this;setTimeout(function(){h.post(a,d,e,f,g)},2E3)}else this._poster.isDirty()&&console.warn("TODO: likely post in gather load handler or widget requesting another post in post load handler; anaplan.data.Aggregator.prototoype.post found "+(this._poster.postInProgress?"post in progress":"post pending")),this.postWithRetry(a,d,e,f,g)},_getSlowConnectionTooltip:function(b,d){var e=g.tooltipSlowConnection,e=a.substitute(e,{clientWaitTimeMillis:b,coreProcessingTimeMillis:d},function(a,b){return null!=
a&&void 0!=a?a:["${",b,"}"].join("")});return k.searchAndReplacePlaceholders(e)},_startRefreshTimer:function(){try{this._refreshTimer&&(clearTimeout(this._refreshTimer),this._refreshTimer=null);var a=this,d=l.getAutomaticRefreshInterval();if(d){var e=1E3*d,f;f=function(){a.isDirty()?a._refreshTimer=setTimeout(f,e):a.gather()};this._refreshTimer=setTimeout(f,e)}}catch(g){console.error(g)}},_recordError:function(a){try{var d=q.createRequest(workspaceId,[],[],[{actionId:"RECORD_CLIENT_ERROR",params:a}]);
console.error(a);this.post(d,!1,function(){},function(){})}catch(e){console.error(e)}},_aggregate:function(a){throw new f.UnsupportedOperationException(null,null,{operation:"anaplan.data.BaseAggregator._aggregate"});},_debug:function(a){throw new f.UnsupportedOperationException(null,null,{operation:"anaplan.data.BaseAggregator._debug"});},_split:function(a){throw new f.UnsupportedOperationException(null,null,{operation:"anaplan.data.BaseAggregator._split"});}})})},"anaplan/widgets/SearchPane":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/gridlet/Selection anaplan/constants anaplan/data/RequestFactory anaplan/Exceptions anaplan/data/ModelContentHelper dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/html dojo/json dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/on dojo/query dojo/topic dojo/window dojo/text!anaplan/templates/SearchPane.html dojo/i18n!anaplan/nls/searchPane dojo/sniff dijit/form/TextBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F){return r([g,e,d],{baseClass:"searchPane",templateString:L,labelSearchPlaceholder:F.labelSearchPlaceholder,pageIndicesToExcludeFromSearchResult:[],constructor:function(a){this._widget=a.widget||null;this._model=a.model||null;this._previousSearchString="";this._searchTimer=null;this._hits={};this._hitIds=[];this._selection=null},focus:function(){this.focusNode.focus();this.focusNode.textbox.select()},onExecute:function(){},postCreate:function(){try{this.inherited(arguments),
l.setText(this.loading,F.labelSearchInProgress),this.own(B(this,"keydown",v.hitch(this,this._onSearchPaneKeyDown)))}catch(a){l.throwClientException(this,a)}},search:function(){this._performSearch()},_checkSelectionIndex:function(){var b,d,e,f;try{if(this._selection&&(b=this._hitIds,e=this._selection.id,f=this._selection.index,f>=b.length||b[f].id!==e))d=a.indexOf(b,e),-1===d?this._selection=null:this._selection.index=d}catch(g){l.throwClientException(this,g)}},_clearResults:function(){try{9==D("ie")&&
A.set(this.domNode,"box-shadow","none"),this.results.innerHTML="",this._hits={},this._hitIds=[],9==D("ie")&&A.set(this.domNode,"box-shadow","0px 3px 5px #333333")}catch(a){l.throwClientException(this,a)}},_clearSearchField:function(){try{this.searchField.set("value",""),this.searchField.focus()}catch(a){l.throwClientException(this,a)}},_displayLabelPageFilter:function(b,d,e){var f,g,m,r,n,p,t,s,u,w,z,x,y,A=null,C=d.entityLongIds,D=null,F=this._hits,E=this._hitIds,B=e===k.ROWS,H=d.indices,L=d.labels,
G=d.nestingIndices,ha={},U=[],sa=this.id;try{if(r=d.length,0!==r){u=this._model.getPageInfo();if(e===k.ROWS)A=u.rowAxisSpecification;else if(e===k.COLUMNS)A=u.columnAxisSpecification;else return;f=h.getAllDimensionIdentifiersForAxisSpecification(A);for(s=0;s<f.length;s++)g=h.getLabelForDimensionIdentifier(q,f[s]),U.push({count:0,label:g,entityLongIds:[],indices:[],labels:[]});for(n=0;n<r;n++)if((ha=U[G[n]])&&-1===a.indexOf(ha.entityLongIds,C[n]))ha.count++,ha.entityLongIds.push(C[n]),ha.labels.push(L[n]),
ha.indices.push(H[n]);for(p=0;p<U.length;p++){t=U[p];for(w=0;w<t.count;w++)D=0===w?t.label:null,z=t.labels[w],m=t.entityLongIds[w],x=t.indices[w],y=sa+"_"+m,b.push('\x3ctr id\x3d"'),b.push(y),b.push('"\x3e'),this._generateGroupItemCells(b,D,z),b.push("\x3c/tr\x3e"),F[y]=v.mixin({label:z,entityLongId:m,nestingIndex:p},B?{rowIndex:x}:{columnIndex:x}),E.push(y);this._generateSpacer(b)}}}catch(ta){l.throwClientException(this,ta)}},_displaySearchResult:function(a){var b=[];try{this._hideLoadingMessage(),
this._clearResults(),b.push('\x3ctable class\x3d"resultsTable" cellspacing\x3d"0"\x3e\x3ctbody\x3e'),b.push('\x3ctr class\x3d"topSpacer"\x3e'),this._generateGroupItemCells(b,null,null),b.push("\x3c/tr\x3e"),this._generateRowAxisResults(b,a.rowLabelPageFilter),this._generateColumnAxisResults(b,a.columnLabelPageFilter),this._generatePageAxesResults(b,a.pageSelectorLabelPageFilters,this.pageIndicesToExcludeFromSearchResult),0===this._hitIds.length&&(b.push("\x3ctr\x3e"),this._generateGroupItemCells(b,
null,F.labelNoResults),b.push("\x3c/tr\x3e"),this._generateSpacer(b)),b.push("\x3c/tbody\x3e\x3c/table\x3e"),this.results.innerHTML=b.join(""),this._setResultsHeight(),this.results.style.display="",this._updateSelection()}catch(d){l.throwClientException(this,d)}},_generateColumnAxisResults:function(a,b){try{this._displayLabelPageFilter(a,b,k.COLUMNS)}catch(d){l.throwClientException(this,d)}},_generateGroupItemCells:function(a,b,d){try{b=b||"",d=d||"",a.push('\x3ctd class\x3d"group"\x3e'),a.push(7===
D("ie")&&0===b.length?"\x26nbsp;":s.escapeHTML(b)),a.push("\x3c/td\x3e"),a.push('\x3ctd class\x3d"item"\x3e'),a.push(7===D("ie")&&0===d.length?"\x26nbsp;":s.escapeHTML(d)),a.push("\x3c/td\x3e")}catch(e){l.throwClientException(this,e)}},_generatePageAxesResults:function(b,d,e){try{var f,g,k,m,r,n,p,t,s,u,v,w,z,x,y,A,C=null,D=this._model.getPageInfo().pageAxisSpecifications,F=d.length,E=this.id,B=this._hits,H=this._hitIds;if(D.length!==F)console.warn("anaplan.widgets.SearchPane: _generatePageAxesResults page selector mismatch - ignoring search results");
else for(f=0;f<F;f++)if(g=d[f],k=g.length,0<k&&-1===a.indexOf(e,f)){m=g.labels;r=g.entityLongIds;n=g.indices;p=g.nestingIndices;t=D[f];s=h.getAllDimensionIdentifiersForAxisSpecification(t)[0];u=h.getLabelForDimensionIdentifier(q,s);for(A=0;A<k;A++)C=0===A?u:null,v=m[A],w=r[A],z=n[A],x=p[A],y=E+"_"+w,b.push('\x3ctr id\x3d"'),b.push(y),b.push('"\x3e'),this._generateGroupItemCells(b,C,v),b.push("\x3c/tr\x3e"),B[y]={label:v,entityLongId:w,pageIndex:z,nestingIndex:x,pageSelectorIndex:f,pageAxisIdentifier:s},
H.push(y);this._generateSpacer(b)}}catch(L){l.throwClientException(this,L)}},_generateRowAxisResults:function(a,b){try{this._displayLabelPageFilter(a,b,k.ROWS)}catch(d){l.throwClientException(this,d)}},_generateSpacer:function(a){try{a.push('\x3ctr class\x3d"spacer"\x3e'),this._generateGroupItemCells(a,null,null),a.push("\x3c/tr\x3e")}catch(b){l.throwClientException(this,b)}},_hideLoadingMessage:function(){try{A.set(this.loading,"display","none")}catch(a){l.throwClientException(this,a)}},_hideResultsContainer:function(){try{this._hideLoadingMessage(),
A.set(this.results,"display","none"),A.set(this.resultsContainer,"display","none"),this._clearResults()}catch(a){l.throwClientException(this,a)}},_locateColumnInView:function(a){var b;try{b=new f,b.initializeToDefaults(),b.currentCell.setX({index:a.columnIndex,offset:0,entityLongIds:null}),b.currentCell.setY({fixedIndex:a.nestingIndex}),b.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null}),b.getCurrentRange().setTopLeft(b.currentCell.clone()),this._setSearchResult(b)}catch(d){l.throwClientException(this,
d)}},_locateInView:function(){var a,b;try{""===A.get(this.loading,"display")?setTimeout(v.hitch(this,function(){this._locateInView()}),200):this._selection?(a=this._hits[this._selection.id])?(void 0!==a.rowIndex?this._locateRowInView(a):void 0!==a.columnIndex?this._locateColumnInView(a):void 0!==a.pageIndex?this._locatePageInView(a):console.error("anaplan.widgets.SearchPane: _locateInView invalid hit"),this.onExecute(),b=this._widget,b.focus(),setTimeout(function(){b.focus()},200)):console.error("anaplan.widgets.SearchPane: _locateInView failed to find hit"):
1===this._hitIds.length&&(this._selection={id:this._hitIds[0],index:0},this._updateSelection(),this._locateInView())}catch(d){l.throwClientException(this,d)}},_locatePageInView:function(a){try{G.publish("anaplan/global/context",{entityLongId:a.entityLongId,label:a.label},a.pageAxisIdentifier),p.gather()}catch(b){l.throwClientException(this,b)}},_locateRowInView:function(a){var b;try{b=new f,b.initializeToDefaults(),b.currentCell.setY({index:a.rowIndex,offset:0,entityLongIds:null}),b.currentCell.setX({fixedIndex:a.nestingIndex}),
b.getCurrentRange().bottomRight.setX({index:-1,offset:0,entityLongIds:null}),b.getCurrentRange().setTopLeft(b.currentCell.clone()),this._setSearchResult(b)}catch(d){l.throwClientException(this,d)}},_moveSelectionDown:function(){var a;try{a=this._hitIds;if(0===a.length)this._selection=null;else if(this._selection){if(this._checkSelectionIndex(),this._selection.index<a.length-1){var b=this._selection.index+1;this._selection={id:a[b],index:b}}}else this._selection={id:a[0],index:0};this._updateSelection()}catch(d){l.throwClientException(this,
d)}},_moveSelectionUp:function(){var a;try{a=this._hitIds;if(0===a.length)this._selection=null;else if(this._selection&&(this._checkSelectionIndex(),0<this._selection.index)){var b=this._selection.index-1;this._selection={id:a[b],index:b}}this._updateSelection()}catch(d){l.throwClientException(this,d)}},_onClearButtonClick:function(a){this._clearSearchField()},_onError:function(a){console.error(a);this._clearSearchField()},_onResultsClick:function(a){this._setSelectionToMouseEvent(a,!0)},_onResultsMouseMove:function(a){this._setSelectionToMouseEvent(a,
!1)},_onSearchFieldChange:function(a){var b=this._previousSearchString;try{0<b.length?0===a.length&&(w.toggle(this.clearButtonImage,"searchBoxRightClearButton",!1),this._hideResultsContainer(),this._selection=null):0<a.length&&w.toggle(this.clearButtonImage,"searchBoxRightClearButton",!0),this._previousSearchString=a,0<a.length&&this._showLoadingMessage(),this._searchTimer&&clearTimeout(this._searchTimer),this._searchTimer=setTimeout(v.hitch(this,function(){this._performSearch()}),1E3)}catch(d){l.showErrorReporter(new m.ClientException("anaplan.widgets.SearchPane: _onSearchFieldChange",
d,{widgetId:this.id}))}},_onSearchPaneKeyDown:function(a){switch(a.charOrCode){case E.ENTER:this._locateInView();b.stop(a);break;case E.UP_ARROW:this._moveSelectionUp();b.stop(a);break;case E.DOWN_ARROW:this._moveSelectionDown(),b.stop(a)}},_performSearch:function(){try{var a,b,d,e=this.searchField.get("value"),f=this._model,g={};0!==e.length&&(this._showLoadingMessage(),g={actionId:"VIEW_SEARCH",params:{modelId:modelId,viewDefinitionJsonString:u.stringify(f.getViewDefinition()),viewIndex:f.getViewIndex(),
searchString:e}},a=n.createRequest(workspaceId,[],[],[g]),b=v.hitch(this,function(a){try{if(a.result.systemActionResults&&a.result.systemActionResults.length)this._displaySearchResult(a.result.systemActionResults[0]);else throw new m.ClientException("anaplan.widgets.SearchPane: _performSearch has no system action results");}catch(b){this._onError(new m.ClientException("anaplan.widgets.SearchPane: _performSearch (_onGet)",b,{widgetId:this.id}))}}),d=v.hitch(this,function(a,b){var d={};try{a instanceof
m.BaseException?this._onError(a):(b&&(b.xhr&&b.xhr.status)&&(d.httpStatus=b.xhr.status,d.httpStatusText=b.xhr.statusText),a.error?this._onError(new m.ServerException(a.error,null,d)):!b||!b.xhr||!b.xhr.status?this._onError(new m.TransportException("anaplan.widgets.SearchPane: _performSearch (No HTTP status response)")):(d.response=a,this._onError(new m.ClientException("anaplan.widgets.SearchPane: _performSearch (Unexpected failure)",null,d))))}catch(e){this._onError(new m.ClientException("anaplan.widgets.SearchPane: _performSearch (_onError)",
e,{widgetId:this.id}))}}),p.post(a,!1,b,d))}catch(h){l.throwClientException(this,h)}},_scrollToSelection:function(){try{var a,b,d,e,f=this._selection;if(f&&(a=z.byId(f.id)))b=t.coords(a),d=t.coords(this.results),e=this.results.scrollTop,0>b.y-d.y?this.results.scrollTop=e+b.y-d.y:b.y+b.h>d.y+d.h&&(this.results.scrollTop=e+(b.y-d.y+b.h)-d.h)}catch(g){l.throwClientException(this,g)}},_setModelAttr:function(a){this._model=a},_setWidgetAttr:function(a){this._widget=a},_setResultsHeight:function(){var a,
b,d;try{a=x.position(this.searchBox,!1),b=H.getBox(),d=Math.max(b.h-(a.y+a.h)-10,150),A.set(this.results,"maxHeight",d+"px")}catch(e){l.throwClientException(this,e)}},_setSearchResult:function(a){var b;this._widget&&(v.isFunction(this._widget.getGridController)?(b=this._widget.getGridController(),b.setSearchResult(a)):v.isFunction(this._widget.setCurrentSelection)?this._widget.setCurrentSelection(a):console.warn(this.id,"_setSearchResult unsupported widget?",this._widget))},_setSelectionToMouseEvent:function(b,
d){var e,f,g,h;try{if(e=b.target)if(f=e.parentNode)if(h=f.id)if(g=this._hits[h])this._selection={id:h,index:a.indexOf(this._hitIds,h)},this._updateSelection(),d&&this._locateInView()}catch(k){l.throwClientException(this,k)}},_showLoadingMessage:function(){this._showResultsContainer();A.set(this.loading,"display","")},_showResultsContainer:function(){A.set(this.resultsContainer,"display","")},_updateSelection:function(){var a;try{C("tr.selected",this.results).forEach(function(a){w.remove(a,"selected")}),
this._selection&&((a=z.byId(this._selection.id))?(w.add(a,"selected"),this._scrollToSelection()):this._selection=null)}catch(b){l.throwClientException(this,b)}}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(l,s,p,q,f,k,n,m,h){p.add("dojo-preload-i18n-Api",1);n=l.i18n={};var e=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,g=function(a,b,d,e){var f=[d+e];b=b.split("-");for(var g="",h=0;h<b.length;h++)if(g+=
(g?"-":"")+b[h],!a||a[g])f.push(d+g+"/"+e),f.specificity=g;return f},d={},a=function(a,b,d){d=d?d.toLowerCase():l.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},r=l.getL10nName=function(b,d,e){return h.id+"!"+a(b,d,e)},b=function(a,b,e,f,h,m){a([b],function(r){var n=k.clone(r.root||r.ROOT),l=g(!r._v1x&&r,h,e,f);a(l,function(){for(var a=1;a<l.length;a++)n=k.mixin(k.clone(n),arguments[a]);d[b+"/"+h]=n;n.$locale=l.specificity;m()})})},t=function(a){var b=
f.extraLocale||[],b=k.isArray(b)?b:[b];b.push(a);return b},u=function(a,f,g){if(p("dojo-preload-i18n-Api")){var h=a.split("*"),r="preload"==h[1];r&&(d[a]||(d[a]=1,x(h[2],m.parse(h[3]),1,f)),g(1));if(!(h=r))y&&w.push([a,f,g]),h=y;if(h)return}a=e.exec(a);var n=a[1]+"/",s=a[5]||a[4],u=n+s,h=(a=a[5]&&a[4])||l.locale||"",v=u+"/"+h;a=a?[h]:t(h);var z=a.length,D=function(){--z||g(k.delegate(d[v]))};q.forEach(a,function(a){var e=u+"/"+a;p("dojo-preload-i18n-Api")&&A(e);d[e]?D():b(f,u,n,s,a,D)})};if(p("dojo-unit-tests"))var v=
n.unitTests=[];p("dojo-preload-i18n-Api");var z=n.normalizeLocale=function(a){a=a?a.toLowerCase():l.locale;return"root"==a?"ROOT":a},y=0,w=[],x=n._preloadLocalizations=function(a,b,e,f){function g(a,b){f([a],b)}function h(a,b){for(var d=a.split("-");d.length;){if(b(d.join("-")))return;d.pop()}b("ROOT")}function m(){for(--y;!y&&w.length;)u.apply(null,w.shift())}function r(e){e=z(e);h(e,function(r){if(0<=q.indexOf(b,r)){var n=a.replace(/\./g,"/")+"_"+r;y++;g(n,function(a){for(var b in a){var g=a[b],
n=b.match(/(.+)\/([^\/]+)$/),l;if(n){l=n[2];n=n[1]+"/";g._localized=g._localized||{};var p;if("ROOT"===r){var q=p=g._localized;delete g._localized;q.root=g;d[s.toAbsMid(b)]=q}else p=g._localized,d[s.toAbsMid(n+l+"/"+r)]=g;r!==e&&function(a,b,g,r){var n=[],l=[];h(e,function(d){r[d]&&(n.push(s.toAbsMid(a+d+"/"+b)),l.push(s.toAbsMid(a+b+"/"+d)))});n.length?(y++,f(n,function(){for(var f=0;f<n.length;f++)g=k.mixin(k.clone(g),arguments[f]),d[l[f]]=g;d[s.toAbsMid(a+b+"/"+e)]=k.clone(g);m()})):d[s.toAbsMid(a+
b+"/"+e)]=g}(n,l,g,p)}}m()});return!0}return!1})}f=f||s;r();q.forEach(l.config.extraLocale,r)},A=function(){},D={},E=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
A=function(a){for(var b,e=a.split("/"),f=l.global[e[0]],g=1;f&&g<e.length-1;f=f[e[g++]]);f&&((b=f[e[g]])||(b=f[e[g].replace(/-/g,"_")]),b&&(d[a]=b));return b};n.getLocalization=function(b,d,e){var f;b=a(b,d,e);u(b,s,function(a){f=a});return f};p("dojo-unit-tests")&&v.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=E("{prop:1}",A,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=E("({prop:1})",A,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=E("{'prop-x':1}",A,"nonsense",D);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("({'prop-x':1})",A,"nonsense",D);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=E("define({'prop-x':1})",A,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=E("define('some/module', {'prop-x':1})",A,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=E("this is total nonsense and should throw an error",A,"nonsense",D);a.is(b instanceof Error,!0)})});return k.mixin(n,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:u,cache:d,getL10nName:r})})},
"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(l,s,p,q,f){var k=q.trim,n=p.forEach,m="BackCompat"==f.doc.compatMode,h=!1,e=function(){return!0},g=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var b=function(b,d){return k(a.slice(b,d))},d=[],e=-1,f=-1,g=-1,m=-1,r=-1,n=-1,l=-1,p,q="",t="",s,u=0,v=a.length,w=null,z=null,x=function(){0<=n&&(w.id=b(n,u).replace(/\\/g,""),n=-1);if(0<=l){var a=l==u?null:b(l,u);w[0>
"\x3e~+".indexOf(a)?"tag":"oper"]=a;l=-1}0<=r&&(w.classes.push(b(r+1,u).replace(/\\/g,"")),r=-1)};q=t,t=a.charAt(u),u<v;u++)if("\\"!=q)if(w||(s=u,w={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return h?this.otag:this.tag}},l=u),p)t==p&&(p=null);else if("'"==t||'"'==t)p=t;else if(0<=e)if("]"==t){z.attr?z.matchFor=b(g||e+1,u):z.attr=b(e+1,u);if((e=z.matchFor)&&('"'==e.charAt(0)||"'"==e.charAt(0)))z.matchFor=e.slice(1,-1);z.matchFor&&(z.matchFor=z.matchFor.replace(/\\/g,
""));w.attrs.push(z);z=null;e=g=-1}else"\x3d"==t&&(g=0<="|~^$*".indexOf(q)?q:"",z.type=g+t,z.attr=b(e+1,u-g.length),g=u+1);else 0<=f?")"==t&&(0<=m&&(z.value=b(f+1,u)),m=f=-1):"#"==t?(x(),n=u+1):"."==t?(x(),r=u):":"==t?(x(),m=u):"["==t?(x(),e=u,z={}):"("==t?(0<=m&&(z={name:b(m+1,u),value:null},w.pseudos.push(z)),f=u):" "==t&&q!=t&&(x(),0<=m&&w.pseudos.push({name:b(m+1,u)}),w.loops=w.pseudos.length||w.attrs.length||w.classes.length,w.oquery=w.query=b(s,u),w.otag=w.tag=w.oper?null:w.tag||"*",w.tag&&
(w.tag=w.tag.toUpperCase()),d.length&&d[d.length-1].oper&&(w.infixOper=d.pop(),w.query=w.infixOper.query+" "+w.query),d.push(w),w=null);return d},d=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},a=function(a,b){var d=b||[];a&&d.push(a);return d},r=function(a){return 1==a.nodeType},b=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(h?a.getAttribute(b):a.getAttribute(b,2))||""},t={"*\x3d":function(a,
d){return function(e){return 0<=b(e,a).indexOf(d)}},"^\x3d":function(a,d){return function(e){return 0==b(e,a).indexOf(d)}},"$\x3d":function(a,d){return function(e){e=" "+b(e,a);var f=e.lastIndexOf(d);return-1<f&&f==e.length-d.length}},"~\x3d":function(a,d){var e=" "+d+" ";return function(d){return 0<=(" "+b(d,a)+" ").indexOf(e)}},"|\x3d":function(a,d){var e=d+"-";return function(f){f=b(f,a);return f==d||0==f.indexOf(e)}},"\x3d":function(a,d){return function(e){return b(e,a)==d}}},u="undefined"==typeof f.doc.firstChild.nextElementSibling,
v=!u?"nextElementSibling":"nextSibling",z=!u?"previousElementSibling":"previousSibling",y=u?r:e,w=function(a){for(;a=a[z];)if(y(a))return!1;return!0},x=function(a){for(;a=a[v];)if(y(a))return!1;return!0},A=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,d=0,e=b.children||b.childNodes,f=a._i||a.getAttribute("_i")||-1,g=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!e)return-1;e=e.length;if(g==e&&0<=f&&0<=g)return f;s("ie")&&"undefined"!==typeof b.setAttribute?
b.setAttribute("_l",e):b._l=e;f=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[v])y(b)&&(s("ie")?b.setAttribute("_i",++d):b._i=++d,a===b&&(f=d));return f},D=function(a){return!(A(a)%2)},E=function(a){return A(a)%2},B={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,b){return function(a){return a.disabled}},enabled:function(a,b){return function(a){return!a.disabled}},"first-child":function(){return w},"last-child":function(){return x},"only-child":function(a,
b){return function(a){return w(a)&&x(a)}},empty:function(a,b){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var d=b[a].nodeType;if(1===d||3==d)return!1}return!0}},contains:function(a,b){var d=b.charAt(0);if('"'==d||"'"==d)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var d=g(b)[0],e={el:1};"*"!=d.tag&&(e.tag=1);d.classes.length||(e.classes=1);var f=G(d,e);return function(a){return!f(a)}},"nth-child":function(a,b){var d=parseInt;
if("odd"==b)return E;if("even"==b)return D;if(-1!=b.indexOf("n")){var e=b.split("n",2),f=e[0]?"-"==e[0]?-1:d(e[0]):1,g=e[1]?d(e[1]):0,h=0,k=-1;0<f?0>g?g=g%f&&f+g%f:0<g&&(g>=f&&(h=g-g%f),g%=f):0>f&&(f*=-1,0<g&&(k=g,g%=f));if(0<f)return function(a){a=A(a);return a>=h&&(0>k||a<=k)&&a%f==g};b=g}var m=d(b);return function(a){return A(a)==m}}},C=9>s("ie")||9==s("ie")&&s("quirks")?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(d){return h?d.getAttribute(a):d[a]||d[b]}}:function(a){return function(b){return b&&
b.getAttribute&&b.hasAttribute(a)}},G=function(a,b){if(!a)return e;b=b||{};var f=null;"el"in b||(f=d(f,r));"tag"in b||"*"!=a.tag&&(f=d(f,function(b){return b&&(h?b.tagName:b.tagName.toUpperCase())==a.getTag()}));"classes"in b||n(a.classes,function(a,b,e){var g=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");f=d(f,function(a){return g.test(a.className)});f.count=b});"pseudos"in b||n(a.pseudos,function(a){var b=a.name;B[b]&&(f=d(f,B[b](b,a.value)))});"attrs"in b||n(a.attrs,function(a){var b,e=a.attr;a.type&&t[a.type]?
b=t[a.type](e,a.matchFor):e.length&&(b=C(e));b&&(f=d(f,b))});"id"in b||a.id&&(f=d(f,function(b){return!!b&&b.id==a.id}));f||"default"in b||(f=e);return f},H=function(a){return function(b,d,e){for(;b=b[v];)if(!u||r(b)){(!e||X(b,e))&&a(b)&&d.push(b);break}return d}},L=function(a){return function(b,d,e){for(b=b[v];b;){if(y(b)){if(e&&!X(b,e))break;a(b)&&d.push(b)}b=b[v]}return d}},F=function(a){a=a||e;return function(b,d,e){for(var f=0,g=b.children||b.childNodes;b=g[f++];)y(b)&&((!e||X(b,e))&&a(b,f))&&
d.push(b);return d}},K={},J=function(b){var d=K[b.query];if(d)return d;var g=b.infixOper,g=g?g.oper:"",h=G(b,{el:1}),k="*"==b.tag,r=f.doc.getElementsByClassName;if(g)r={el:1},k&&(r.tag=1),h=G(b,r),"+"==g?d=H(h):"~"==g?d=L(h):"\x3e"==g&&(d=F(h));else if(b.id)h=!b.loops&&k?e:G(b,{el:1,id:1}),d=function(d,e){var f=l.byId(b.id,d.ownerDocument||d);if(f&&h(f)){if(9==d.nodeType)return a(f,e);for(var g=f.parentNode;g&&g!=d;)g=g.parentNode;if(g)return a(f,e)}};else if(r&&/\{\s*\[native code\]\s*\}/.test(String(r))&&
b.classes.length&&!m)var h=G(b,{el:1,classes:1,id:1}),n=b.classes.join(" "),d=function(b,d,e){d=a(0,d);for(var f,g=0,k=b.getElementsByClassName(n);f=k[g++];)h(f,b)&&X(f,e)&&d.push(f);return d};else!k&&!b.loops?d=function(d,e,f){e=a(0,e);for(var g=0,h=b.getTag(),h=h?d.getElementsByTagName(h):[];d=h[g++];)X(d,f)&&e.push(d);return e}:(h=G(b,{el:1,tag:1,id:1}),d=function(d,e,f){e=a(0,e);for(var g,k=0,m=(g=b.getTag())?d.getElementsByTagName(g):[];g=m[k++];)h(g,d)&&X(g,f)&&e.push(g);return e});return K[b.query]=
d},M={},I={},O=function(b){var d=g(k(b));if(1==d.length){var e=J(d[0]);return function(a){if(a=e(a,[]))a.nozip=!0;return a}}return function(b){b=a(b);for(var e,f,g=d.length,h,k,m=0;m<g;m++){k=[];e=d[m];f=b.length-1;0<f&&(h={},k.nozip=!0);f=J(e);for(var r=0;e=b[r];r++)f(e,k,h);if(!k.length)break;b=k}return k}},P=s("ie")?"commentStrip":"nozip",N=!!f.doc.querySelectorAll,Q=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,S=function(a,b,d,e){return d?(b?b+" ":"")+d+(e?" "+e:""):a},R=/([^[]*)([^\]]*])?/g,W=function(a,
b,d){return b.replace(Q,S)+(d||"")},Y=function(a,b){a=a.replace(R,W);if(N){var d=I[a];if(d&&!b)return d}if(d=M[a])return d;var d=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(b=!0);if(N&&!b&&-1=="\x3e~+".indexOf(d)&&(!s("ie")||-1==a.indexOf(":"))&&!(m&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var f=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return I[a]=function(b){try{if(!(9==b.nodeType||e))throw"";var d=b.querySelectorAll(f);
d[P]=!0;return d}catch(g){return Y(a,!0)(b)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return M[a]=2>g.length?O(a):function(a){for(var b=0,d=[],e;e=g[b++];)d=d.concat(O(e)(a));return d}},T=0,ca=s("ie")?function(a){return h?a.getAttribute("_uid")||a.setAttribute("_uid",++T)||T:a.uniqueID}:function(a){return a._uid||(a._uid=++T)},X=function(a,b){if(!b)return 1;var d=ca(a);return!b[d]?b[d]=1:0},ba=function(a){if(a&&a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];
var b=[];T++;var d,e;if(s("ie")&&h){var f=T+"";for(d=0;d<a.length;d++)if((e=a[d])&&e.getAttribute("_zipIdx")!=f)b.push(e),e.setAttribute("_zipIdx",f)}else if(s("ie")&&a.commentStrip)try{for(d=0;d<a.length;d++)(e=a[d])&&r(e)&&b.push(e)}catch(g){}else for(d=0;d<a.length;d++)if((e=a[d])&&e._zipIdx!=T)b.push(e),e._zipIdx=T;return b},$=function(a,b){b=b||f.doc;h="div"===(b.ownerDocument||b).createElement("div").tagName;var d=Y(a)(b);return d&&d.nozip?d:ba(d)};$.filter=function(a,b,d){for(var e=[],f=g(b),
f=1==f.length&&!/[^\w#\.]/.test(b)?G(f[0]):function(a){return-1!=p.indexOf($(b,l.byId(d)),a)},h=0,k;k=a[h];h++)f(k)&&e.push(k);return e};return $})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,s,p){return l("dojo.store.Memory",null,{constructor:function(l){for(var f in l)this[f]=l[f];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:p,get:function(l){return this.data[this.index[l]]},getIdentity:function(l){return l[this.idProperty]},
put:function(l,f){var k=this.data,n=this.index,m=this.idProperty,m=l[m]=f&&"id"in f?f.id:m in l?l[m]:Math.random();if(m in n){if(f&&!1===f.overwrite)throw Error("Object already exists");k[n[m]]=l}else n[m]=k.push(l)-1;return m},add:function(l,f){(f=f||{}).overwrite=!1;return this.put(l,f)},remove:function(l){var f=this.index,k=this.data;if(l in f)return k.splice(f[l],1),this.setData(k),!0},query:function(l,f){return s(this.queryEngine(l,f)(this.data))},setData:function(l){l.items?(this.idProperty=
l.identifier||this.idProperty,l=this.data=l.items):this.data=l;this.index={};for(var f=0,k=l.length;f<k;f++)this.index[l[f][this.idProperty]]=f}})})},"anaplan/gridlet/_editor/TextEditor":function(){define("anaplan/gridlet/_editor/BaseEditor dijit/form/_TextBoxMixin dijit/form/SimpleTextarea dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-style anaplan/Exceptions dojo/i18n!anaplan/nls/dashboard".split(" "),function(l,s,p,q,f,k,n,m,h,e){return q("anaplan.gridlet._editor.TextEditor",
l,{height:100,width:300,constructor:function(e){var d="resize:none;"+(e.style||"");this._inputControlSizerDiv=null;this.widget=new p({style:d,"class":e["class"]?e["class"]:""});(e=e.containerNode||null)&&k.place(this.widget.domNode,e);this.widget.domNode.classList.add("qa-text-editor");this.widget.startup();this.own(this.widget.on("keyDown",f.hitch(this,"onKeyDown")))},addLineBreak:function(){var e,d,a,f;d=this.widget.domNode;e=d.value;"number"===typeof d.selectionStart&&"number"===typeof d.selectionEnd?
(a=d.selectionStart,f=e.slice(0,a)+"\n",d.value=f+e.slice(d.selectionEnd),d.selectionStart=d.selectionEnd=a+1,this._inputControlSizerDiv&&d&&(this._inputControlSizerDiv.innerHTML=f.replace(/\n/g,"\x3cbr /\x3e"),d.scrollTop=this._inputControlSizerDiv.clientHeight+parseInt(this._inputControlSizerDiv.style.lineHeight,10)-d.clientHeight/2)):document.selection&&document.selection.createRange&&(d.focus(),e=document.selection.createRange(),e.text="\n",e.collapse(!1),e.select())},createSizerDiv:function(e,
d){var a=document.createElement("div");a.id="SizerDiv";e.appendChild(a);m.set("SizerDiv",{lineHeight:"14px",position:"absolute",visibility:"hidden",top:"-10000px",left:"-10000px",width:d});this._inputControlSizerDiv=a},focus:function(){var f,d;this.inherited(arguments);this.widget&&(f=this.widget.textbox.value,d=f.length,f===e.staticTextDefault?s.selectInputText(this.widget.textbox,0,d):s.selectInputText(this.widget.textbox,d,d))},hide:function(){try{this.inherited(arguments),this._inputControlSizerDiv&&
k.destroy(this._inputControlSizerDiv)}catch(e){throw new h.ClientException("anaplan.gridlet._editor.TextEditor: hide",e);}},prepare:function(e){var d=this.inherited(arguments),a=f.mixin({},this._params,e),h,b,k,m,l;this.widget.set("value",a.isEnterMode?"":a.value);a.cellNode&&a.wrapperNode?(h=n.getMarginBox(a.cellNode),b=n.getMarginBox(a.wrapperNode),a=h.t,k=this.height,m=this.width,h.t+h.h-k>b.t?a=a-k+h.h:h.t+k<b.t+b.h?a=h.t:(k=h.t+h.h-b.t,l=b.t+b.h-h.t,k>l?a=b.t:(a=h.t,k=l)),h.l+m<b.l+b.w?h=h.l:
b.l+m<h.l?h=h.l+h.w-m:(m=h.l+h.w-b.l,l=b.l+b.w-h.l,m>l?h=b.l:(h=h.l,m=l)),n.setMarginBox(this.widget.domNode,{l:h,t:a,w:m,h:k})):a.size&&n.setMarginBox(this.widget.domNode,a.size);d.resolve();return d}})})},"anaplan/api/SystemActions/GetSyncSourceInfo":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{applyDefaults:function(f){f=f||{};f.modelId=f.modelId||-1;return f},validate:function(){return!p.isObject(this._params)?
f.errors.invalidParams:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdIsRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_SYNC_SOURCE_INFO,params:{targetModelGuid:this._params.modelId}}}})})},"anaplan/api/Fetchers/dashboards":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Base/Fetchable","anaplan/constants"],function(l,s,p){return new (l([s],{axesIdentifiers:{rows:p.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_IDENTIFIER,
columns:p.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_PROPERTY_IDENTIFIER}}))})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(l,s,p){function q(n){setTimeout(function(){k.apply(f,n)},0)}var f=new p,k=f.emit;f.emit=null;s.prototype.trace=function(){var f=l._toArray(arguments);this.then(function(k){q(["resolved",k].concat(f))},function(k){q(["rejected",k].concat(f))},function(k){q(["progress",k].concat(f))});return this};s.prototype.traceRejected=function(){var f=
l._toArray(arguments);this.otherwise(function(k){q(["rejected",k].concat(f))});return this};return f})},"dojo/request":function(){define(["./request/default!"],function(l){return l})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(l,s,p,q,f,k,n,m){new Date("X");return q("dijit.form._DateTimeTextBox",[k,n],{templateString:m,
hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:s.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(f,e){var g=this._isInvalidDate(f),d=this._isInvalidDate(e);if(g||d)return g&&d?0:!g?1:-1;var g=this.format(f,this._unboundedConstraints),d=this.format(e,this._unboundedConstraints),a=this.parse(g,this._unboundedConstraints),k=this.parse(d,this._unboundedConstraints);return g==
d?0:l.compare(a,k,this._selector)},autoWidth:!0,format:function(f,e){return!f?"":this.dateLocaleModule.format(f,e)},parse:function(f,e){return this.dateLocaleModule.parse(f,e)||(this._isEmpty(f)?null:void 0)},serialize:function(f,e){f.toGregorian&&(f=f.toGregorian());return p.toISOString(f,e)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(h){h=h||{};this.dateModule=h.datePackage?f.getObject(h.datePackage,!1):l;this.dateClassObj=this.dateModule.Date||
Date;this.dateLocaleModule=h.datePackage?f.getObject(h.datePackage+".locale",!1):s;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(h){h.selector=this._selector;h.fullYear=!0;var e=p.fromISOString;"string"==
typeof h.min&&(h.min=e(h.min));"string"==typeof h.max&&(h.max=e(h.max));this.inherited(arguments);this._unboundedConstraints=f.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(f){return!f||isNaN(f)||"object"!=typeof f||f.toString()==this._invalidDate},_setValueAttr:function(f,e,g){void 0!==f&&("string"==typeof f&&(f=p.fromISOString(f)),this._isInvalidDate(f)&&(f=null),f instanceof Date&&!(this.dateClassObj instanceof Date)&&(f=new this.dateClassObj(f)));this.inherited(arguments);
this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",f,!1)},_set:function(f,e){var g=this._get("value");"value"==f&&g instanceof Date&&0==this.compare(e,g)||this.inherited(arguments)},_setDropDownDefaultValueAttr:function(f){this._isInvalidDate(f)&&(f=new this.dateClassObj);this._set("dropDownDefaultValue",f)},openDropDown:function(h){this.dropDown&&this.dropDown.destroy();var e=f.isString(this.popupClass)?f.getObject(this.popupClass,!1):this.popupClass,g=this,
d=this.get("value");this.dropDown=new e({onChange:function(a){g.set("value",a,!0)},id:this.id+"_popup",dir:g.dir,lang:g.lang,value:d,textDir:g.textDir,currentFocus:!this._isInvalidDate(d)?d:this.dropDownDefaultValue,constraints:g.constraints,filterString:g.filterString,datePackage:g.datePackage,isDisabledDate:function(a){return!g.rangeCheck(a,g.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(f,e){this._setValueAttr(this.parse(f,
this.constraints),e,f)}})})},"anaplan/keyboard/keyboardEvents":function(){define(["dojo/on","anaplan/keyboard/shortcuts"],function(l,s){function p(f){f={shortcut:(f.shortcut||q[f.which]||String.fromCharCode(f.which)).toLowerCase(),metaKey:f.metaKey||void 0,ctrlKey:f.ctrlKey||void 0,altKey:f.altKey||void 0,shiftKey:f.shiftKey||void 0,placeholder:f.placeholder||void 0};return window.JSON.stringify(f)}var q={8:"backspace",9:"tab",13:"enter",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",
35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",58:":",60:"\x3c\x3e60",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",226:"\x3c\x3e226"},f={};Object.keys(s).forEach(function(k){s[k].shortcuts.map(p).forEach(function(m){f[m]=k})});l(window,"keydown",function(k){var m=p(k);f.hasOwnProperty(m)&&(m=f[m],l.emit(k.target,m,{bubbles:!0,cancelable:!0,originalEvent:k}),s[m].allowDefault||
k.preventDefault())});var k=Object.create(null);Object.keys(s).forEach(function(f){k[f]=f});return Object.freeze(k)})},"anaplan/api/Entity/Import":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],function(l,s){return s([l],{})})},"anaplan/widgets/PageSelectorHelper":function(){define("anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper dojo/_base/lang dojo/dom-construct dojo/i18n!anaplan/nls/pageselectors dojo/i18n!dijit/nls/loading".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return{getContentViewDefinitionForAxisSpecificationInContextOfModule:function(d,a){var e=q.getAllDimensionIdentifiersForAxisSpecification(d);1!==e.length&&console.warn(this.id,"expected to find single dimension identifier but found",e);e=q.getAxesSpecificationsForViewDefinition([e],[[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]],[]);m.mixin(e.rowAxisSpecification,{axisDefinition:m.mixin(d.axisDefinition,{axisOrder:s.TOTALS_POSITION_GROUP_BEFORE})});e.rowAxisSpecification.axisDefinition.hasOwnProperty("guid")&&
delete e.rowAxisSpecification.axisDefinition.guid;return m.mixin({type:"MODEL_DATA",staticContextIdentifiers:f.entityLongIdsToEntityLongIdIdentifiers(a)},e)},getContentViewDefinitionForPageInfo:function(d,a){return this.getContentViewDefinitionForAxisSpecificationInContextOfModule(d.pageAxisSpecifications[a],d.staticContext.entityLongIds[0])},getContentViewRequestWithLabelPageRequest:function(d,a){return{modelId:window.modelId,viewDefinition:m.clone(d),columnLabelPageRequests:[],dataPageRequests:[],
rowLabelPageRequests:[a],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new l,viewIndex:-1}},getInvalidSelectionLabel:function(d,a){var g=d.pageAxisSpecifications[a],b=f.entityLongIdIdentifierToEntityLongId(q.getAllDimensionIdentifiersForAxisSpecification(g)[0]),b=b==s.SYSTEM_AXIS_IDENTIFIER_VERSION_ENTITY_LONG_ID?!0:q.hasSelectiveAccess(p,b);return[this.getPageAxisSpecificationLabel(g),b?e.labelNoAccess:e.labelNoItems].join(": ")},getInvalidSelectionTooltip:function(d,
a){var g=d.pageAxisSpecifications[a],b=q.getAllDimensionIdentifiersForAxisSpecification(g)[0],b=f.entityLongIdIdentifierToEntityLongId(b),b=b==s.SYSTEM_AXIS_IDENTIFIER_VERSION_ENTITY_LONG_ID?!0:q.hasSelectiveAccess(p,b),g=this.getPageAxisSpecificationLabel(g),b=b?e.tooltipNoAccess:e.tooltipNoItems,b=b.replace(/\$\{label\}/,g);return k.searchAndReplacePlaceholders(b)},getLoadingMessage:function(){return'\x3cdiv class\x3d"circles-loader__container"\x3e\x3cdiv class\x3d"circles-loader"\x3e\x3cdiv class\x3d"circles-loader__discs"\x3e\x3csvg class\x3d"circles-loader__shape" width\x3d"64px" height\x3d"64px" viewBox\x3d"0 0 64 64" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cpath d\x3d"M32,64 C49.673112,64 64,49.673112 64,32 C64,14.326888 49.673112,0 32,0 C14.326888,0 0,14.326888 0,32 C0,49.673112 14.326888,64 32,64 Z M32,60 C47.463973,60 60,47.463973 60,32 C60,16.536027 47.463973,4 32,4 C16.536027,4 4,16.536027 4,32 C4,47.463973 16.536027,60 32,60 Z" id\x3d"Combined-Shape" stroke\x3d"none" fill\x3d"#14abe9" fill-rule\x3d"evenodd"\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"circles-loader__shape" width\x3d"64px" height\x3d"64px" viewBox\x3d"0 0 64 64" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cpath d\x3d"M32,0 C14.326888,0 0,14.326888 0,32 C0,32.6394653 0.0187568455,33.2745497 0.0557503724,33.9047331 C0.184632347,34.6942808 0.611302752,36.0226237 2.0234375,36.0226237 C4.03271484,36.0226237 4,33.3333333 4,33.3333333 L4.03118694,33.3333333 C4.01047298,32.8914897 4,32.4469679 4,32 C4,16.536027 16.536027,4 32,4 L32,3.93294271 C32,3.93294271 34.750651,3.95442708 34.6666667,2 C34.750651,0.06640625 32,0.0621744792 32,0.0621744792 L32,-3.6429193e-16 Z" id\x3d"Combined-Shape" stroke\x3d"none" fill\x3d"#14abe9" fill-rule\x3d"evenodd"\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"circles-loader__shape" width\x3d"64px" height\x3d"64px" viewBox\x3d"0 0 64 64" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cpath d\x3d"M32,0 C14.326888,0 0,14.326888 0,32 C0,32.6394653 0.0187568455,33.2745497 0.0557503724,33.9047331 C0.184632347,34.6942808 0.611302752,36.0226237 2.0234375,36.0226237 C4.03271484,36.0226237 4,33.3333333 4,33.3333333 L4.03118694,33.3333333 C4.01047298,32.8914897 4,32.4469679 4,32 C4,16.536027 16.536027,4 32,4 L32,3.93294271 C32,3.93294271 34.750651,3.95442708 34.6666667,2 C34.750651,0.06640625 32,0.0621744792 32,0.0621744792 L32,-3.6429193e-16 Z" id\x3d"Combined-Shape" stroke\x3d"none" fill\x3d"#14abe9" fill-rule\x3d"evenodd"\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"circles-loader__shape" width\x3d"64px" height\x3d"64px" viewBox\x3d"0 0 64 64" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cpath d\x3d"M32,0 C14.326888,0 0,14.326888 0,32 C0,32.6394653 0.0187568455,33.2745497 0.0557503724,33.9047331 C0.184632347,34.6942808 0.611302752,36.0226237 2.0234375,36.0226237 C4.03271484,36.0226237 4,33.3333333 4,33.3333333 L4.03118694,33.3333333 C4.01047298,32.8914897 4,32.4469679 4,32 C4,16.536027 16.536027,4 32,4 L32,3.93294271 C32,3.93294271 34.750651,3.95442708 34.6666667,2 C34.750651,0.06640625 32,0.0621744792 32,0.0621744792 L32,-3.6429193e-16 Z" id\x3d"Combined-Shape" stroke\x3d"none" fill\x3d"#14abe9" fill-rule\x3d"evenodd"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/div\x3e\x3c/div\x3e'},
getPageAxisSpecificationLabel:function(d){if(!d)return null;d=q.getAllDimensionIdentifiersForAxisSpecification(d);return!d.length?null:q.getLabelForDimensionIdentifier(p,d[0])},getPageSelectorIndex:function(d,a){if(!d||!a)return-1;for(var e=d.pageAxisSpecifications,b=e.length,f,g=0;g<b;g++)if(f=q.getAllDimensionIdentifiersForAxisSpecification(e[g]),f.length&&f[0]===a)return g;return-1}}})},"anaplan/api/Submissions/Base/Submission":function(){define(["dojo/_base/declare","dojo/i18n!anaplan/nls/api"],
function(l,s){function p(f,k,l,m){if(!m)throw Error("Implement the modelNodeType in the class as a property");var h="";if(l)for(var e in l)h+=e+'\x3d"'+l[e]+'" ';return{modelChangeXml:"\x3cModelDefinition\x3e\x3cDefine"+m+' name\x3d"'+f+'" '+h+' position\x3d"Start" definitionMode\x3d"CREATE"/\x3e\x3c/ModelDefinition\x3e',modelId:k}}function q(f,k,l,m,h,e,g,d){return{asText:void 0===d?!0:d,currentDisplayText:f,currentText:k,entityLongIds:[h,e],modelId:m,newText:l,noCurrentValue:!0,viewIndex:g||-1}}
return l(null,{entityTypeIndex:null,_entityId:null,_cellChanges:[],_forceNewSubmissions:[],_modelChanges:[],constructor:function(){this.reset()},hasCellChanges:function(){return this._cellChanges&&0<this._cellChanges.length},forEachCellChange:function(f){for(var k=0;k<this._cellChanges.length;k++)f(this._cellChanges[k],k)},hasNewSubmissions:function(){return this._forceNewSubmissions&&0<this._forceNewSubmissions.length},hasModelChanges:function(){return this._modelChanges&&0<this._modelChanges.length},
applyDefaults:function(f){return f},extractResult:function(f){return f.result.viewRequestResults[0]||{}},getFetchAllModelSummaries:function(){return!1},getModelId:function(){return window.modelId},getWorkspaceId:function(){return window.workspaceId},validate:function(){return!this.entityTypeIndex?s.errors.entityTypeIndexIsRequired:!0},addCreateChange:function(f,k){this._forceNewSubmissions.push({entityTypeIndex:this.entityTypeIndex,entityId:f});this._modelChanges.push(p(f,this.getModelId(),k,this.modelNodeType))},
addCellChange:function(f,k,l,m,h,e,g){this._cellChanges.push(q(f,k,l,this.getModelId(),m,h,e,g))},buildSubmission:function(){return{cellChanges:this._cellChanges,forceNewSubmissions:this._forceNewSubmissions,modelChanges:this._modelChanges,workspaceId:this.getWorkspaceId()}},reset:function(){this._entityId=null;this._cellChanges=[];this._forceNewSubmissions=[];this._modelChanges=[]},parseResponse:function(f){return f}})})},"anaplan/data/DataLoaders/list":function(){define("dojo/_base/array anaplan/utils/JsHelper anaplan/utils/EntityLongIdHelper anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/Aggregator dojo/Deferred anaplan/data/RequestFactory dojo/json".split(" "),
function(l,s,p,q,f,k,n,m,h){return{getUnfilteredHierarchyLabelPages:function(e,f){var d=new n,a=[];a.push({actionId:"GET_SELECTOR_LABEL_PAGE",params:{modelId:window.modelId,selectableOnly:!0,format:h.stringify({dataType:"ENTITY",hierarchyEntityLongId:e,selectiveAccessApplied:!1}),maxItemCount:f}});a=m.createRequest(window.workspaceId,[],[],a);k.post(a,!1,function(a){(!a||a.error||!a.result)&&d.reject(a.error);(!a.result.systemActionResults||!a.result.systemActionResults.length)&&d.reject("No results");
var b=[];l.forEach(a.result.systemActionResults,function(a){b.push(a.labelPage)});d.resolve(b)},function(a){d.reject(a)});return d.promise},getSampleLabelPages:function(e,f,d){var a=new n,r=[];l.forEach(f,function(a){r.push({actionId:"GET_SELECTOR_LABEL_PAGE",params:{selectableOnly:!0,modelId:window.modelId,showAll:!1,format:h.stringify(e),sampleSourceValue:a,maxItemCount:d}})});f=m.createRequest(window.workspaceId,[],[],r);k.post(f,!1,function(b){(!b||b.error||!b.result)&&a.reject(b.error);(!b.result.systemActionResults||
!b.result.systemActionResults.length)&&a.reject("No results");var d=[];l.forEach(b.result.systemActionResults,function(a){d.push(a.labelPage)});a.resolve(s.compact(d))},function(b){a.reject(b)});return a.promise},getSelectorLabelPage:function(e,f){var d=new n,a={actionId:"GET_SELECTOR_LABEL_PAGE",params:{modelId:window.modelId,entityLongIds:e.join(","),showAll:f}},a=m.createRequest(window.workspaceId,[],[],[a]);k.post(a,!1,function(a,b){(!a||a.error||!a.result)&&d.reject(a.error);(!a.result.systemActionResults||
!a.result.systemActionResults.length)&&d.reject("No results");d.resolve(a.result.systemActionResults[0].labelPage)},function(a){d.reject(a)});return d.promise},fetch:function(e){var g=new n;e={cellSelectorLabelsRequired:!1,columnLabelPageRequests:[],dataPageRequests:[],workspaceId:window.workspaceId,modelId:window.modelId,pageSelectorLabelsRequired:!0,rowLabelPageRequests:[{count:f.OPEN_DASHBOARD_MAX_ITEM_LIMIT,start:0}],serialNumbers:new q,viewDefinition:{columnHeaderWrapping:null,currentPageIdentifiers:[],
globalContextIdentifiers:[],name:null,pageAxisSpecifications:[],staticContextIdentifiers:[p.entityLongIdToEntityLongIdIdentifier(e)],useDefaultPageOrder:!0,customRowLabelWidthsByDimension:[],columnAxisSpecification:{axisDefinition:null,axisDefinitionIdentifier:p.entityLongIdToEntityLongIdIdentifier(f.SYSTEM_AXIS_IDENTIFIER_PROPERTY_ENTITY_LONG_ID)},rowAxisSpecification:{axisDefinition:null,axisDefinitionIdentifier:p.entityLongIdToEntityLongIdIdentifier(f.SYSTEM_AXIS_IDENTIFIER_ENTITY_ENTITY_LONG_ID)},
type:"MODEL_DEFINITION"},viewIndex:-1};e=m.createRequest(window.workspaceId,[],[e],[]);k.post(e,!1,function(d){d?d.error?g.reject(d.error):d.result&&d.result.errorInfo?g.reject(d.result.errorInfo.errorMessage,d.result.errorInfo.isKnownError):g.resolve(d.result.viewRequestResults[0]):g.reject("No response from server")},function(d){g.reject(d)});return g.promise}}})},"anaplan/widgets/TitlePane":function(){define(["anaplan/utils/CookieHelper","dojo/_base/declare","dijit/TitlePane","dojo/text!../templates/TitlePane.html"],
function(l,s,p,q){return s([p],{baseClass:"anaplanTitlePane",templateString:q,persist:!0,cookieName:null,_applyAttributes:function(){this._beforeApplyAttributes();this.inherited(arguments)},_beforeApplyAttributes:function(){this._initDefaultCookieName();this._initPersistence()},_initDefaultCookieName:function(){!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie")},_initPersistence:function(){if(this.persist){var f=l.loadCookie(this.cookieName);null!==f&&(this.open=/true/.test(f));
this.params.open=this.open}},_setOpenAttr:function(){this.inherited(arguments);this.persist&&l.createCookie(this.cookieName,this.open)}})})},"anaplan/charts/PublishPlaceholder":function(){define("anaplan/constants anaplan/layout/_DashboardMixin anaplan/utils/UIHelper anaplan/widgets/Button dijit/_WidgetBase dijit/Menu dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/i18n!anaplan/nls/toolbar dojo/json dojo/on dojo/topic".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return m("anaplan.charts.PublishPlaceholder",
[f,s],{constructor:function(a){this.chartController=a.chartController;this.chartValid="";this.model=a.model;this.isDialog=a.isDialog||!1},postCreate:function(){this.inherited(arguments);this._createPublishButton();this.isDialog&&this._createUpdateButton();this.own(r.subscribe("anaplan/chartOptions/layoutLegend/state",h.hitch(this,"_onStateChange")),r.subscribe("anaplan/chartOptions/layoutData/state",h.hitch(this,"_onStateChange")),r.subscribe("anaplan/chartOptions/dataOptions/state",h.hitch(this,
"_onStateChange")),r.subscribe("anaplan/chartOptions/mapType/state",h.hitch(this,"_onStateChange")),r.subscribe("anaplan/chartOptions/waterfallData/state",h.hitch(this,"_onStateChange")))},onPublish:function(){},onUpdateCurrentViewToDashboard:function(){},uninitialize:function(){this._updateDashboardButton&&(this._updateDashboardButton.destroy(),this._updateDashboardButton=null);this.inherited(arguments)},_onStateChange:function(a,d,e){"Error"===d?this.chartValid+=e+",":"Clear"===d?this.chartValid=
"":""===d&&""!==a&&(this.chartValid=this.chartValid.replace(e+",",""));a=""===this.chartValid?!1:!0;this.isDialog&&this._updateDashboardButton&&this._updateDashboardButton.set("disabled",a);this.menu&&this.menu.set("disabled",a)},_addCurrentViewToDashboard:function(a){try{var e=this.chartController;this._setYPositions(e);this._addViewsToDashboard(a,[{dashboardElementType:l.dashboardElementType.CHART,chartType:e.getChartType(),chartVariation:e.getChartVariation(),chartStacking:e.getChartStacking(),
viewDefinition:e.getViewDefinition(),chartConfig:d.stringify(e.getCleanChartOptions())}]);this.onPublish()}catch(f){p.throwClientException(this,f)}},_createPublishButton:function(){var b=new k({"class":"publishToDashboard"});this._menuItemPublishToDashboard=this._createPublishToDashboardMenu();b.addChild(this._menuItemPublishToDashboard);e.place(b.domNode,this.domNode);this.own(a(b,"Open",h.hitch(this,function(){this._optionsMenuOpen=!0;this._updateOptionsMenu()})))},_createUpdateButton:function(){this._updateDashboardButton=
new q({"class":"updateToDashboard",label:g.labelUpdateToDashboard});e.place(this._updateDashboardButton.domNode,this.domNode);this.own(a(this._updateDashboardButton,"click",h.hitch(this,function(){this._updateCurrentViewToDashboard()})))},_displayNewDashboardDialog:function(){try{var a=this.chartController;this._setYPositions(a);this._displayNewDashboardDialogWithViewInfos([{dashboardElementType:l.dashboardElementType.CHART,chartType:a.getChartType(),chartVariation:a.getChartVariation(),chartStacking:a.getChartStacking(),
viewDefinition:a.getViewDefinition(),pageInfo:a.getPageInfo(),chartConfig:d.stringify(a.getCleanChartOptions())}])}catch(e){p.throwClientException(this,e)}},_setYPositions:function(a){var d=a.getCleanChartOptions();a=a.getChartType();var e=l.chartOptions.legendYPosition.DEFAULT,f=l.chartType;-1===n.indexOf([f.COLUMNRANGE,f.MAP,f.FUNNEL],a)&&(a===f.PIE&&(e=l.chartOptions.legendYPosition.PIE),h.mixin(d.legend,{y:e}))},_updateCurrentViewToDashboard:function(){try{var a=this.chartController;this.onUpdateCurrentViewToDashboard(a.getCleanChartOptions(),
a.getViewDefinition())}catch(d){p.throwClientException(this,d)}}})})},"dojox/encoding/crypto/RSAKey":function(){define(["dojo/_base/kernel","dojo/_base/declare","../../math/BigInteger","../../math/random/Simple"],function(l,s,p,q){l.experimental("dojox.encoding.crypto.RSAKey");var f=function(){return new q};return s("dojox.encoding.crypto.RSAKey",null,{constructor:function(k){this.rngf=k||f;this.e=0;this.n=this.d=this.p=this.q=this.dmp1=this.dmq1=this.coeff=null},setPublic:function(f,l){if(f&&l&&
f.length&&l.length)this.n=new p(f,16),this.e=parseInt(l,16);else throw Error("Invalid RSA public key");},encrypt:function(f){var l;l=this.n.bitLength()+7>>3;var m=this.rngf;if(l<f.length+11)throw Error("Message too long for RSA");for(var h=Array(l),e=f.length;e&&l;)h[--l]=f.charCodeAt(--e);h[--l]=0;f=m();for(m=[0];2<l;){for(m[0]=0;0==m[0];)f.nextBytes(m);h[--l]=m[0]}h[--l]=2;h[--l]=0;f.destroy();l=new p(h);if(!l)return null;l=l.modPowInt(this.e,this.n);if(!l)return null;l=l.toString(16);return l.length%
2?"0"+l:l}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z){function y(a){return function(b){this._isLoaded?this.inherited(a,arguments):
this.loadDropDown(m.hitch(this,a,b))}}var w=s("dijit.form._SelectMenu",a,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;m.isArray(b)&&(b=b[b.length-1]);b&&l.forEach(this.parentWidget._getChildren(),function(d){d.option&&b===d.option.value&&(a=!0,
this.focusChild(d,!1))},this);a||this.inherited(arguments)}});f=s("dijit.form.Select"+(e("dojo-bidi")?"_NoBidi":""),[g,d,u],{baseClass:"dijitSelect dijitValidationTextBox",templateString:z,_buttonInputDisabled:e("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",
this.options[0<=a?a:0].value)}this.dropDown=new w({id:this.id+"_menu",parentWidget:this});q.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new b({ownerDocument:this.ownerDocument});var d=m.hitch(this,"_setValueAttr",a);a=new r({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,onClick:d,ownerDocument:this.ownerDocument,dir:this.dir,
textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=
this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,d,e){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{l.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new r({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();
this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);p.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",
a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",
a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?t.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):t.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);t.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);
this._missingMsg=k.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[n.LEFT_ARROW];delete a[n.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);q.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},
loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);t.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){t.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});e("dojo-bidi")&&(f=s("dijit.form.Select",f,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));f._Menu=
w;f.prototype._onContainerKeydown=y("_onContainerKeydown");f.prototype._onContainerKeypress=y("_onContainerKeypress");return f})},"anaplan/utils/SelectorFactory/TreePageSelector":function(){define("anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory/PageSelector anaplan/widgets/Tree dijit/tree/TreeStoreModel dojo/_base/declare dojo/_base/lang dojo/data/ItemFileWriteStore dojo/dom-style".split(" "),function(l,s,p,q,f,k,n,m){return f("anaplan.utils.SelectorFactory.TreePageSelector",[s],{constructor:function(f){var e=
{},g=l.getOrderedParentChildArray(f.labelPage),g=l.getItems(g,e),g=new n({data:{identifier:"entityLongId",label:"name",items:g}}),g=new q({store:g,query:{name:"*"},mayHaveChildren:function(a){return 0<a.children.length}}),g=k.mixin(f,{model:g,showRoot:!1,persist:!1,autoExpandFirstNode:!1}),g=new p(g);f.dialog.set("content",g.domNode);e=l.getPathToItemEntityLongId(f.pageSelectorEntityLongId,e);g.set("pathExpandedToLeaf",e);var d=this;g.on("click",function(a){d.onPageSelectionChange({entityLongId:a.entityLongId[0],
label:a.name[0]},f.pageAxisIdentifier)});this._tree=g},show:function(){this._tree&&m.set(this._tree.domNode,"display","block")}})})},"anaplan/widgets/QuickFilter/Condition":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/data/OpInfo anaplan/data/TypeInfo anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper anaplan/utils/JsHelper anaplan/utils/SubmissionHandler anaplan/utils/topics anaplan/utils/UIHelper anaplan/widgets/QuickFilter/EditorFactory dijit/_FocusMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-class dojo/Deferred dojo/on dojo/string dojo/i18n!anaplan/nls/filter dojo/text!anaplan/templates/QuickFilterCondition.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return t([r,a,b,d],{baseClass:"filterCondition",arity:-1,comparisonDataType:null,comparisonOperator:null,comparisonMultiValueOR:null,comparisonValue:null,comparisonValuesLabelPage:null,editor:null,itemsViewRequest:null,loading:!1,showRemove:!0,templateString:D,constructor:function(a){this._periodType=a.periodType||null;this._unitsType=a.unitsType||null;this._items=null},focus:function(){this.editor?(this.editor.focus(),this.editor.hasOwnProperty("focusNode")&&
this.editor.focusNode.select()):this.operatorSelect?this.operatorSelect.focus():this.domNode.focus()},postCreate:function(){this.inherited(arguments);z.add(this.domNode,"filterCondition"+this.comparisonDataType);this.showRemove?this.removeButton.set("label",A.buttonRemoveFilterCondition):this.removeButton.domNode.style.display="none";var a=this.operatorSelect;a.length=0;var b=this.comparisonOperator;this._getCompatibleOperators(this.comparisonDataType).forEach(function(d,f){e.addSelectOption(a,d,
A["option"+d]);d===b&&(a.selectedIndex=f)});this.own(w(a,"change",u.hitch(this,function(){this.set("comparisonOperator",a.options[a.selectedIndex].value)})));if("ENTITY"===this.comparisonDataType&&null!==this.comparisonValuesLabelPage){var d=this.comparisonValuesLabelPage.labels[0];null!==this.comparisonMultiValueOR&&this.set("comparisonMultiValueOR",this.comparisonMultiValueOR.filter(function(a,b){return null!==d[b]}))}},startup:function(){this.inherited(arguments);this.set("arity",this._getArity(this.comparisonDataType,
this.comparisonOperator))},getDoubleArityEditorValues:function(){null===this.comparisonMultiValueOR&&(k.FILTER_CONDITION_CONFIG[this.comparisonDataType].hasOwnProperty("comparisonMultiValueOR")?this.comparisonMultiValueOR=k.FILTER_CONDITION_CONFIG[this.comparisonDataType].comparisonMultiValueOR:this.comparisonMultiValueOR=[k.FILTER_CONDITION_CONFIG[this.comparisonDataType].comparisonValue,k.FILTER_CONDITION_CONFIG[this.comparisonDataType].comparisonValue]);return this.comparisonMultiValueOR.map(u.hitch(this,
function(a){return this._comparisonValueToEditorValue(a,this.comparisonDataType,this._unitsType)}))},getFilterCondition:function(){return{comparisonDataType:this.comparisonDataType,comparisonMultiValueOR:this._getComparisonMultiValueOR(),comparisonOperator:this.comparisonOperator,comparisonValue:this._getComparisonValue()}},getItems:function(){var a=new y;if(null!==this._items)a.resolve(u.clone(this._items));else if(null!==this._periodType){var b=s.getTimescaleSupersetInfo(),d=b.allowedTimeEntityPeriodTypes.map(function(a){return a.entityId}).indexOf(this._periodType.entityId),
b=b.allowedTimeEntityPeriodTypeLabelPages[d],e=b.labels[0];this._items=b.entityIds[0].map(function(a,b){return{id:a,name:e[b]}});a.resolve(u.clone(this._items))}else null!==this.itemsViewRequest?(new m({showPleaseWait:!1})).post([],[this.itemsViewRequest],[],!1).then(u.hitch(this,function(b){if(this.domNode){b=b.result.viewRequestResults[0];if(b.rowCount>l.QUICK_FILTER_MAX_ROWS_TO_FETCH){var d=x.substitute(A.warnRowCountExceedsQuickFilterMaxRowsToFetch,{maxRowsToFetch:l.QUICK_FILTER_MAX_ROWS_TO_FETCH,
rowCount:b.rowCount});h.systemMessage(d,null,null,l.SYSTEM_MESSAGE_WARNING)}b=b.dataPages[0];var e=b.cellText,g={};if(null!==this.comparisonValuesLabelPage){var k=this.comparisonValuesLabelPage.entityLongIds[0];this.comparisonValuesLabelPage.labels[0].forEach(function(a,b){null!==a&&(g[k[b]]=a)})}b.cellValues.forEach(function(a,b){g[a]=e[b]});this._items=n.getObjectKeys(g).map(function(a){return{id:f.entityLongIdToEntityLongIdIdentifier(a),name:g[a].toString()}});a.resolve(u.clone(this._items))}else a.resolve([])})):
(a.resolve([]),this._items=[]);return a.promise},getSingleArityEditorValue:function(){null===this.comparisonValue&&(this.comparisonValue=k.FILTER_CONDITION_CONFIG[this.comparisonDataType].comparisonValue);return this._comparisonValueToEditorValue(this.comparisonValue,this.comparisonDataType,this._unitsType)},onRemoveFilterCondition:function(){},validate:function(){return this.editor?u.isFunction(this.editor.validate)?this.editor.validate():u.isFunction(this.editor.isValid)?this.editor.isValid():!0:
!0},_comparisonValueToEditorValue:function(a,b,d){var e=l.dataTypes;switch(b){case e.NUMBER:a="PERCENTAGE"===d?100*a:1*a;break;case e.DATE:a=v.parse(a,{selector:"date",datePattern:"yyyy-MM-dd"});break;case e.BOOLEAN:a="true"===a;break}return a},_getArity:function(a,b){var d=this._getFilterMaxArityForOperator(this.comparisonOperator);return Infinity===d?q.getFilterMaxArity(this.comparisonDataType):d},_getComparisonMultiValueOR:function(){var a=l.dataTypes,b=null;this.editor&&(Infinity===this.arity?
b=this.editor.get("value"):2===this.arity&&(b=this.editor.get("value").map(u.hitch(this,function(b){switch(this.comparisonDataType){case a.DATE:b=v.format(b,{selector:"date",datePattern:"yyyy-MM-dd"});break;case a.NUMBER:b="PERCENTAGE"===this.unitsType?b/100:b;break}return b}))));return b},_getComparisonValue:function(){var a=l.dataTypes,b=null;if(this.editor&&1===this.arity)switch(this.comparisonDataType){case a.DATE:b=v.format(this.editor.get("value"),{selector:"date",datePattern:"yyyy-MM-dd"});
break;case a.BOOLEAN:b=this.editor.get("checked");break;case a.NUMBER:b="PERCENTAGE"===this.unitsType?this.editor.get("value")/100:this.editor.get("value");break;default:b=this.editor.get("value")}return b},_getCompatibleOperators:function(a){var b=l.dataTypes,d=q.getCompatibleOperators(this.comparisonDataType);-1<[b.NUMBER,b.DATE,b.TIME_ENTITY].indexOf(a)&&d.splice(2,0,"BETWEEN_OR_EQUAL_TO");return d},_getFilterMaxArityForOperator:function(a){return"BETWEEN_OR_EQUAL_TO"===a?2:p.getFilterMaxArity(this.comparisonOperator)},
_onRemoveButtonClick:function(){this.onRemoveFilterCondition()},_setArityAttr:function(a){if(a!==this.arity){this._set("arity",a);var b=this.get("editor");b&&(b.destroy(),this.editor=null);0>=a||(this.set("loading",!0),g.createEditor(this).then(u.hitch(this,function(a){this.domNode&&(this.editor=a,this.set("loading",!1),this.focus())}),u.hitch(this,function(a){this.domNode&&this.set("loading",!1)})))}},_setComparisonOperatorAttr:function(a){a!==this.comparisonOperator&&(this._set("comparisonOperator",
a),this.set("arity",this._getArity(this.comparisonDataType,a)))},_setLoadingAttr:function(a){this._set("loading",a);this.showRemove&&this.removeButton.set("disabled",a);null!==this.getParent()&&this.getParent().set("loading",a)}})})},"anaplan/view/Import":function(){define("anaplan/anapediaKeys anaplan/utils/RedirectHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/data/Aggregator/TxidProvider anaplan/data/Aggregator/RequestSerialProvider dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/TextBox dijit/Menu dijit/registry dojo/aspect dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/data/ItemFileReadStore dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/io/iframe dojo/json dojo/keys dojo/on dojo/request/script dojo/request/xhr dojo/string anaplan/widgets/MenuItem anaplan/widgets/ConfirmationDialog anaplan/data/UserInfo anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/RequestFactory anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/gridlet/ViewRequestGridModel anaplan/utils/AuthHelper anaplan/utils/EncryptionHelper anaplan/utils/EntityLongIdHelper anaplan/view/ImportPrompt anaplan/view/ImportResult anaplan/widgets/Dialog2 anaplan/widgets/DropDownButton anaplan/widgets/FullScreenDialog anaplan/widgets/HelpBox dojo/text!anaplan/templates/Import.html dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/importLabels dojo/i18n!anaplan/nls/toolbar dojo/i18n!dijit/nls/common dijit/ProgressBar anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea,qa,ka,da,ha,U){return z([e,h,g,Z.ContentMixin,m],{baseClass:"import",templateString:qa,constructor:function(a){this._workspaceId=a.workspaceId||null;this._modelId=a.modelId||null;this._lineItemId=a.lineItemId||null;this._importType=a.importType||null;this._params=a.params||null;this._mayPersistParams=a.mayPersistParams;this._credentials=a.credentials||null;this._modelName=a.modelName||
null;this._modelSource=a.modelSource||null;this._hierarchyId=a.hierarchyId||null;this._importEntityLongId=a.importEntityLongId||null;this._importDefinitionJson=a.importDefinitionJson||null;this._importEntityLabel=a.importEntityLabel||null;this._uploadedFileGuid=a.uploadedFileGuid||null;this._helpLink=l.importLineItem;this._importLabels=da;this._formControls=[];this._importInProgress=!1;this._isValidImport=!0;this._confirmationDialog=null},getModelName:function(){return this._modelName},isValidImport:function(){return this._isValidImport},
setImportDataSourceId:function(a){E.set(this.inputDataSource,"value",a);this._fileInput&&C.set(this._fileInput.domNode,"display","none");this.buttonImport.hide();this._doImport()},onAfterImport:function(){},onBeforeDialogHide:function(){return this._importInProgress?(this._cancelling=!0,!1):!0},onCancel:function(){},onDialogHide:function(){try{this._fileInputInterval&&(clearInterval(this._fileInputInterval),this._fileInputInterval=null),this._fileInput&&(this._fileInput.destroy(),this._fileInput=
null)}catch(a){q.throwClientException(this,a)}},onDialogShow:function(){try{var a=this;if(this._helpLink)this.onHelpChange(this._helpLink);setTimeout(function(){a.buttonImport.focus()},500);this._fileInput&&(this._fileInputInterval&&clearInterval(this._fileInputInterval),this._fileInputInterval=setInterval(function(){if(!a._fileInput||0<a._fileInput.get("value").length)clearInterval(a._fileInputInterval),a._fileInputInterval=null,a.buttonImport.set("disabled",!1)},500))}catch(b){q.throwClientException(this,
b)}},_onShow:function(){try{this.onDialogShow(),this._importEntityLongId&&(this._importDefinitionJson&&this._importEntityLabel)&&(this.onTitleChange(ha.labelImport),this.onHelpChange(this._helpLink))}catch(a){q.throwClientException(this,a)}},postCreate:function(){this.inherited(arguments);null!=this._hierarchyId?this._setEntityId(this._hierarchyId,this._importLabels.labelHierarchy):null!=this._importEntityLabel&&q.setText(this.textEntityId,this._importEntityLabel);E.set(this.inputWorkspaceId,"value",
this._workspaceId||"");E.set(this.inputModelId,"value",this._modelId||"");E.set(this.inputImportType,"value",this._importType||"");E.set(this.inputModelName,"value",this._modelName||"");E.set(this.inputImportDefinitionJson,"value",this._importDefinitionJson||"");E.set(this.inputImportEntityLongId,"value",this._importEntityLongId||"");E.set(this.inputUploadedFileGuid,"value",this._uploadedFileGuid||"");this.buttonImport.set("label",ka.labelRun);this._params&&this._params.length?this._createQuestions():
this._modelSource?"FILE"===this._modelSource.identifier?(this._fileInput=new r({id:"inputImportFile",className:"inputImportFile",name:"importFile",type:"file"}),B.place(this._fileInput.domNode,this.formImport),this.buttonImport.set("disabled",!0),E.set(this._fileInput.textbox,"size","40"),B.create("br",null,this.formImport)):(this._instanceInput=this._createHiddenInput(this.formImport,this.id+"_instanceId","sourceInstance"),this._instanceInput.value=this._modelSource.identifier,this._createModelSelectionInputs(),
this.buttonImport.set("label",U.buttonOk)):this._importDefinitionJson&&this._beginImportUsingImportDefinition(this._importDefinitionJson);this.buttonCancel.set("label",U.buttonCancel)},startup:function(){this.inherited(arguments);v.forEach(this._formControls,function(a){a.startup()});!this.params&&this._fileInput&&this._fileInput.startup();if(this._importDefinitionJson&&(!this._params||!this._params.length))this.buttonImport.domNode.style.display="none",this._doImport();this._importPrompt&&this._importPrompt.startup()},
uninitialize:function(){this._confirmationHandles&&v.forEach(this._confirmationHandles,function(a){a.remove()});this._confirmationDialog&&this._confirmationDialog.destroy();v.forEach(this._formControls,function(a){a.destroy()});this._formControls=[];this._fileInput&&this._fileInput.destroy();this._fileInputInterval&&(clearInterval(this._fileInputInterval),this._fileInputInterval=null);this._importPrompt&&this._importPrompt.destroy();this.inherited(arguments)},_beginImportUsingImportDefinition:function(a){try{var b=
this,d=H.parse(a),e=d.mappings,f=e.length,g;a=[];if(this._credentials)for(var h in this._credentials)this._credentials.hasOwnProperty(h)&&(this._createHiddenInput(this.formImport,h,h).value=this._credentials[h]);for(h=0;h<f;h++)g=e[h],"prompt"===g.sourceType&&a.push(g.target);0<a.length?(C.set(this.divButtons,"display","none"),this._importDefinitionJson=null,this._importPrompt=new $({workspaceId:this._workspaceId,modelId:this._modelId,importDefinition:d,listIdentifiersRequiringPrompt:a}),this.own(F(this._importPrompt,
"Import",w.hitch(b,function(a){b._importWithTargets(a)})),F(this._importPrompt,"Cancel",w.hitch(this,"_onCancel"))),B.place(this._importPrompt.domNode,this.divProgress,"before")):(C.set(this.divProgress,"display",""),this.progressBar.update({progress:"0%"}),q.setText(this.textCurrentStep,this._importLabels.startingImport))}catch(k){q.throwClientException(this,k)}},_confirm:function(a,b,d){this._confirmationDialog||(this._confirmationDialog=new O({refocus:!1}),this._confirmationHandles=[]);v.forEach(this._confirmationHandles,
function(a){a.remove()});this._confirmationDialog.set("content",a);this._confirmationHandles.push(u.after(this._confirmationDialog,"execute",w.hitch(this,function(){try{v.forEach(this._confirmationHandles,function(a){a.remove()}),b()}catch(a){q.showErrorReporter(a,a instanceof Y.KnownException)}})));this._confirmationHandles.push(F(this._confirmationDialog,"Cancel",w.hitch(this,function(){try{d&&d(),v.forEach(this._confirmationHandles,function(a){a.remove()})}catch(a){q.showErrorReporter(new Y.ClientException("anaplan.view.Import: confirm (cancel)",
a))}})));this._confirmationDialog.show()},_createModelSelectionInputs:function(){try{var b=this,d=B.create("table",{"class":"dialogFormTable"},this.divEntity,"after"),e=B.create("tbody",null,d),f=B.create("tr",null,e);this._thStatus=B.create("th",{colSpan:2},f);q.setText(this._thStatus,M.substitute(this._importLabels.labelConnectingTo,{system:this._modelSource.label}));var f=B.create("tr",null,e),g=B.create("td",{"class":"labelCell"},f),h=this._importLabels.labelUserName;q.setText(g,h+": ");var k=
B.create("td",{"class":"controlCell"},f),m=new r({name:"sourceUserId",type:"text"});B.place(m.domNode,k);this._formControls.push(m);this._userNameInput=m;this._userNameTableRow=f;f=B.create("tr",null,e);g=B.create("td",{"class":"labelCell"},f);h=this._importLabels.labelPassword;q.setText(g,h+": ");k=B.create("td",{"class":"controlCell"},f);m=new r({name:"sourcePassword",autocomplete:"never",type:"password"});B.place(m.domNode,k);this._formControls.push(m);this._passwordInput=m;this._passwordTdAnswer=
k;this._passwordTableRow=f;f=B.create("tr",null,e);C.set(f,"visibility","hidden");g=B.create("td",{"class":"labelCell"},f);h=this._importLabels.labelWorkspace;q.setText(g,h+": ");var k=B.create("td",{"class":"controlCell"},f),l=new x({data:{identifier:"identifier",label:"label",items:[{identifier:"null",label:"Please select"}]}}),m=new a({name:"sourceWorkspace",store:l,searchAttr:"label"});B.place(m.domNode,k);this._formControls.push(m);this._workspaceSelector=m;this._workspaceTableRow=f;this.own(F(m,
"Change",w.hitch(this,function(a){b._getModelSources()})));f=B.create("tr",null,e);C.set(f,"visibility","hidden");g=B.create("td",{"class":"labelCell"},f);h=this._importLabels.labelModel;q.setText(g,h+": ");k=B.create("td",{"class":"controlCell"},f);l=new x({data:{identifier:"identifier",label:"label",items:[{identifier:"null",label:"Please select"}]}});m=new a({name:"sourceModel",store:l,searchAttr:"label"});B.place(m.domNode,k);this._formControls.push(m);this._modelSelector=m;this._modelTableRow=
f;this.own(F(m,"Change",w.hitch(function(){b.buttonImport.set("disabled",!m.get("value"))})));this._modelSource.local?(ca.requestToken(this._workspaceId,this._modelSource.serviceLocation).then(function(a){a.status===S.authTokenStatus.SUCCESS?(b._userNameInput.set("value","AnaplanAuthToken"),b._passwordInput.destroy(),b._passwordInput=new r({name:"sourcePassword",autocomplete:"never",type:"hidden"}),B.place(b._passwordInput.domNode,b._passwordTdAnswer),b._passwordInput.set("value",a.tokenValue),b._getModelSources()):
(b._userNameInput.setValue(P.getLoggedInUserEmailAddress()),C.set(b._userNameTableRow,"display",""),C.set(b._passwordTableRow,"display",""))}).otherwise(function(a){b._userNameInput.setValue(P.getLoggedInUserEmailAddress());C.set(b._userNameTableRow,"display","");C.set(b._passwordTableRow,"display","")}),C.set(this._userNameTableRow,"display","none"),C.set(this._passwordTableRow,"display","none")):this._userNameInput.set("value",P.getLoggedInUserEmailAddress())}catch(n){q.throwClientException(this,
n)}},_createHiddenInput:function(a,b,d){return B.create("input",{id:b,type:"hidden",name:d,value:"",readOnly:!0},a)},_createHierarchyLeafDropDown:function(a,d,e,f){var g=N.getHierarchiesLabelPage(),h=null,k=new b({style:"display: none;"}),m=new aa({id:e+"DropDown",label:" ",dropDown:k});B.place(m.domNode,a);this._formControls.push(m);for(var l=0;l<g.entityLongIds[0].length;++l)if(g.labels[0][l]==d){h=g.entityLongIds[0][l];break}if(null==h)alert(M.substitute(this._importLabels.missingHierarchy,{hierarchyName:d})),
this._isValidImport=!1;else{var r=this._createHiddenInput(a,e,e);a=ba.entityLongIdToEntityLongIdIdentifier(h);a=w.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[a]},anaplan.data.ModelContentHelper.getAxesForViewDefinition([S.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER],[S.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER]));var n=new T({workspaceId:this._workspaceId,modelId:this._modelId,viewDefinition:a,rowsPerPage:1E4});try{n.initialize(0,0,!0);var p=n._getColumnCount();a=-1;for(e=0;e<p&&-1==a;e++){var q=
n._getColumn(e);q&&q.entityLongIds[0]===S.SYSTEM_PROPERTY_PARENT&&(a=e)}if(-1==a)throw console.error("Import: parent column index not found"),new Y.ItemNotFoundException(null,null,{item:d,widgetId:this.id});for(var t=n._getRowCount(),s={},u=0;u<t;u++){var v=n.getCell(u,a);s[v.originalText]=!0}for(var z=!0,u=0;u<t;u++)(function(){var a=n.getRow(u);if(!s[a.originalLabel[0]]){var b=new I({label:a.originalLabel[0],onClick:function(){r.value=a.entityLongIds[0];m.set("label",a.originalLabel[0])}});k.addChild(b);
if(null==f&&z||a.originalLabel[0]==f)m.set("label",a.originalLabel[0]),r.value=a.entityLongIds[0];z&&(z=!1)}})()}finally{n.destroy()}}},_createVersionsDropDown:function(a,d,e){var g=new b({style:"display: none;"}),h=new aa({id:d+"DropDown",label:" ",dropDown:g});B.place(h.domNode,a);this._formControls.push(h);var k=this._createHiddenInput(a,d,d);a=(new W(this._workspaceId)).getRequest({modelId:this._modelId,viewDefinition:w.mixin({type:"MODEL_DEFINITION"},anaplan.data.ModelContentHelper.getAxesForViewDefinition([S.SYSTEM_AXIS_IDENTIFIER_VERSION_IDENTIFIER],
[S.SYSTEM_AXIS_IDENTIFIER_VERSION_PROPERTY_IDENTIFIER])),pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new Q,viewIndex:this._viewIndex||-1});f.post(a,!1,function(a){try{if(!a.error)if(!a||!a.result)console.warn("anaplan.view.Import _createVersionsDropDown expected to receive result and did not");else{var b=a.result;if(b.errorInfo)console.warn("anaplan.view.Import _createVersionsDropDown found error info "+
b.errorInfo);else if(b.viewRequestResults)for(var d=b.viewRequestResults[0].rowLabelPages[0],f=d.labels[0],m=d.entityLongIds[0],l=!0,n=0;n<d.count;n++)(function(){var a=f[n],b=m[n],d=new I({label:a,onClick:function(){k.value=b;h.set("label",a)}});g.addChild(d);if(null==e&&l||a==e)h.set("label",a),k.value=b;l&&(l=!1)})();else console.warn("anaplan.view.Import _createVersionsDropDown did not receive any view request results")}}catch(r){console.error("anaplan.view.Import _createVersionsDropDown onLoad handler caught exception "+
r)}},function(a){console.error("anaplan.view.Import _createVersionsDropDown "+a)})},_createQuestions:function(){var a=B.create("table",{"class":"dialogFormTable"},this.divEntity,"after"),b=B.create("tbody",null,a);v.forEach(this._params,function(a){if(!("workspaceId"==a.type||"modelId"==a.type)){var d=B.create("tr",null,b),e=B.create("td",{"class":"labelCell"},d),f=this._importLabels[a.id];f||(f=a.label);q.setText(e,f+": ");d=B.create("td",{"class":"controlCell"},d);"text"==a.type||"password"==a.type||
"file"==a.type?(e=new r({id:a.id,name:a.id,type:a.type,value:a.defaultValue}),"file"===a.type&&(this._fileInput=e,this.buttonImport.set("disabled",!0),E.set(this._fileInput.textbox,"size","40")),B.place(e.domNode,d),this._formControls.push(e)):"hierarchyLeaf"===a.type?this._createHierarchyLeafDropDown(d,a.entity,a.id,a.defaultValue):"versionId"===a.type&&this._createVersionsDropDown(d,a.id,a.defaultValue)}},this);if(void 0!=this._mayPersistParams){a=B.create("tr",null,b);B.create("td",{"class":"labelCell"},
a);var a=B.create("td",{"class":"controlCell"},a),e=new d({id:"persistParams",name:"persistParams",checked:this._mayPersistParams});B.place(e.domNode,a);this._formControls.push(e);a=B.create("label",{"for":e.get("id")},a);q.setText(a," "+this._importLabels.persistParams)}},_displayImportResultDialog:function(a){try{var b=this,d=new ja({results:a,ioArgs:{isImport:!0}}),e=new ga({roles:["import-result"],title:this._importLabels.msgImportSucceeded,refocus:!1,content:d}),f=F(d,"Close",w.hitch(this,function(){e.hide()})),
g=F(e,"Hide",w.hitch(this,function(){f.remove();g.remove();var a=setInterval(function(){"none"===e.domNode.style.display&&(clearInterval(a),e.set("content",null),e.destroy());b.onAfterImport()},250)}));e.show()}catch(h){q.throwClientException(this,h)}},_doImport:function(){var a=null;if(this._params&&this._params.length){for(var b=D.byId("persistParams"),b=b&&b.checked,d=0;d<this._params.length;++d){var e=this._params[d],f="";if(e.confirm||e.persistKey)if("hierarchyLeaf"==e.type||"versionId"==e.type){var g=
t.byId(e.id+"DropDown");g?f=g.get("label"):console.warn("Cannot locate dijit "+e.id+"DropDown")}else if(g=D.byId(e.id))f=g.value;e.confirm&&(a=this._importLabels[e.confirm],g=w.mixin(e,{value:f}),a=M.substitute(a,g));"sfLoginUrl"==e.id?(f=t.byId(e.id),e.defaultValue=f.get("value")):e.persistKey&&(e.defaultValue=b?f:"")}this._mayPersistParams=b}var h=this,m=function(){h._setImportInProgress(!0);E.set(h.inputSessionId,"value",sessionId);E.set(h.inputTxId,"value",k.getTxid());var a=function(){var b=
{workspaceId:h._workspaceId,modelId:h._modelId,requestType:"PROGRESS",taskId:h._taskId};h._cancelling&&(b.cancel=!0);var d="10; workspaceServerGuid\x3d"+window.workspaceServerGuid;P&&P.getLoggedInUserGuid()&&(d+=" userGuid\x3d"+P.getLoggedInUserGuid());J.post("jsonrpc",{data:H.stringify(b),handleAs:"json",headers:{"Content-Type":"application/json","Expect-Reply-Within":d,"Request-Serial-Number":n.getNextRequestSerialNumber()},timeout:1E4}).then(w.hitch(h,"_handleImportProgressResponse",a)).otherwise(w.hitch(h,
"_handleImportProgressError",a))};G.send({form:"formImport",handleAs:"json",url:"servlet?taskType\x3dimport\x26requestSerialNumber\x3d"+n.getNextRequestSerialNumber(),load:function(b,d){try{b?b.redirectUrl?s.handleRedirect(b):b.taskId?(h._taskId=b.taskId,C.set(h.divProgress,"display",""),h._progressTimerId=setTimeout(a,1E3)):console.warn("anaplan.view.Import _doImport send load handler expected to receive task id but did not"):console.warn("anaplan.view.Import _doImport send load handler expected to receive response but did not")}catch(e){console.error("anaplan.view.Import _doImport send load handler caught exception "+
e)}finally{var f={httpStatus:d&&d.xhr?d.xhr.status:null,httpStatusText:d&&d.xhr?d.xhr.statusText:null,response:b};d&&d.xhr&&200!=d.xhr.status?(h._setImportInProgress(!1),h.onCancel(),q.showErrorReporter(new Y.UnableToCommunicateWithServerException(null,new Y.TransportException("Aggregator: loadWithClearSystemStatusPoll (No HTTP status response)",null,f)),!0)):b&&b.error&&(h._setImportInProgress(!1),h.onCancel(),q.showErrorReporter(new Y.ServerException(b.error,null,f)))}},error:function(a,b){try{a instanceof
Error&&console.error("anaplan.view.Import _doImport send error handler "+a.message)}catch(d){console.error("anaplan.view.Import _doImport send error handler caught exception "+d)}finally{h._setImportInProgress(!1);h.onCancel();var e={httpStatus:b&&b.xhr?b.xhr.status:null,httpStatusText:b&&b.xhr?b.xhr.statusText:null,response:a};q.showErrorReporter(new Y.UnableToCommunicateWithServerException(e.httpStatusText,a instanceof Error?new Y.TransportException(a.message,a,e):new Y.TransportException(null,
null,e)))}},preventCache:!0})};a?this._confirm(a,function(){m()},function(){h._setImportInProgress(!1)}):m()},_getMayPersistParamsAttr:function(){return this._mayPersistParams},_getPublicEncryptionKey:function(){var a=new A,b=R.createRequest(this._workspaceId,[],[],[{actionId:"GENERATE_ENCRYPTION_KEY"}]);f.post(b,!1,function(b){b.error?a.reject(b.error):(b=b.result.systemActionResults[0],b.publicKey?a.resolve(b.publicKey):a.reject("Failed to fetch encryption key from server"))},function(){a.reject("Failed to fetch encryption key from server")});
return a},_encryptCredentials:function(a,b){var d=new A;this._getPublicEncryptionKey().then(function(e){try{var f=X.generateSymmetricKey(128),g={username:X.encryptWithSymmetricKey(f,a,"USERNAME"),password:X.encryptWithSymmetricKey(f,b,"PASSWORD"),key:X.wrapWithPublicKey(e,f)};d.resolve(g)}catch(h){d.reject("Error encrypting credentials")}}).otherwise(function(a){d.reject(a)});return d},_getModelSources:function(){var a=this;q.setText(this._thStatus,"\u00a0");this.buttonImport.set("disabled",!0);var b=
this._userNameInput.get("value"),d=this._passwordInput.get("value");this._encryptCredentials(b,d).then(function(b){b={instanceId:a._modelSource.identifier,username:b.username,password:b.password,key:b.key};a._workspaceSelector&&(b.workspaceId=a._workspaceSelector.get("value"));a._fetchModelsources(b)}).otherwise(function(b){console.error("Failed to retrieve model import sources",b);q.setText(a._thStatus,b);C.set(a._workspaceTableRow,"visibility","hidden");C.set(a._modelTableRow,"visibility","hidden");
a.buttonImport.set("disabled",!1)})},_fetchModelsources:function(a){var b=this;a=R.createRequest(this._workspaceId,[],[],[{actionId:"GET_MODEL_SOURCES",params:a}]);f.post(a,!1,function(a){try{var d;if(a&&!a.error&&a.result){var e=a.result;if(e.systemActionResults&&e.systemActionResults.length){var f=a.result.systemActionResults[0];b._userNameInput.set("readOnly",f.successful);b._passwordInput.set("readOnly",f.successful);if(f.successful){a=[];if(f.workspaceIds)for(d=0;d<f.workspaceIds.length;++d)a.push({identifier:f.workspaceIds[d],
label:f.workspaceNames[d]});var g=new x({data:{identifier:"identifier",label:"label",items:a}});b._workspaceSelector?(b._workspaceSelector.set("store",g),C.set(b._workspaceTableRow,"visibility","visible")):console.warn("!self._workspaceSelector");a=[];if(f.modelIds)for(d=0;d<f.modelIds.length;++d)a.push({identifier:f.modelIds[d],label:f.modelNames[d]});g=new x({data:{identifier:"identifier",label:"label",items:a}});a.length?b._modelSelector?(b._modelSelector.set("store",g),C.set(b._modelTableRow,
"visibility","visible")):console.warn("!self._modelSelector"):C.set(b._modelTableRow,"visibility","hidden");b.buttonImport.set("disabled",!0)}else q.setText(b._thStatus,f.message),C.set(b._workspaceTableRow,"visibility","hidden"),C.set(b._modelTableRow,"visibility","hidden"),b.buttonImport.set("disabled",!1)}}}catch(h){console.error(h)}},function(){console.error("Failed to retrieve model import sources");C.set(b._workspaceTableRow,"visibility","hidden");C.set(b._modelTableRow,"visibility","hidden");
b.buttonImport.set("disabled",!1)})},_getParamsAttr:function(){return this._params},_handleImportProgressError:function(a,b){console.warn("anaplan.view.Import#_doImport progress request failed "+b);try{q.setText(this.textCurrentStep,q.getText(this.textCurrentStep)+".")}catch(d){console.error("anaplan.view.Import#_doImport send error handler caught exception "+d)}finally{this._progressTimerId=setTimeout(a,1E3)}},_handleImportProgressResponse:function(a,b){var d;try{if(b)if(b.taskState)if("NOT_STARTED"===
b.taskState||"IN_PROGRESS"===b.taskState||"CANCELLING"===b.taskState)d=100*(b.progress||0)+"%",this.progressBar.update({progress:d}),q.setText(this.textCurrentStep,b.currentStep||"");else{if("COMPLETE"===b.taskState||"CANCELLED"===b.taskState)d=100*(b.progress||0)+"%",this.progressBar.update({progress:d}),b.currentStep?q.setText(this.textCurrentStep,b.currentStep):(console.warn("anaplan.view.Import#_handleImportProgressResponse request progress load handler expected to receive current step but did not"),
q.setText(this.textCurrentStep,b.taskState)),b.taskResult||console.warn("anaplan.view.Import#_handleImportProgressResponse request progress load handler expected to receive task result but did not"),this._loadCallback(b.taskResult),this._setImportInProgress(!1)}else console.warn("anaplan.view.Import#_handleImportProgressResponse request progress load handler expected to receive task state but did not");else console.warn("anaplan.view.Import#_handleImportProgressResponse request progress load handler expected to receive response but did not")}catch(e){console.warn("anaplan.view.Import#_handleImportProgressResponse request progress load handler caught exception "+
e)}finally{b&&("COMPLETE"!==b.taskState&&"CANCELLED"!==b.taskState)&&(this._progressTimerId=setTimeout(a,1E3))}},_importWithTargets:function(a){try{var b,d,e;for(e in a)a.hasOwnProperty(e)&&(d="prompt_dimension_"+(0<e.length?ba.entityLongIdIdentifierToEntityLongId(e):"-1"),b=this._createHiddenInput(this.formImport,d,d),b.value=ba.entityLongIdToEntityLongIdIdentifier(a[e]));this._doImport()}catch(f){q.throwClientException(this,f)}},_loadCallback:function(a){f.gather();if("ModelImplementationImporter"===
this._importType){var b=a.successful?this._importLabels.msgImportSucceeded:this._importLabels.msgImportFailed,d=!a.successful;a=this._addToSummaryMessage("",a);q.showInfoDialog(a,{title:b,error:d}).then(w.hitch(this,"onAfterImport"))}else this._displayImportResultDialog(a)},_addToSummaryMessage:function(a,b){var d;if(b.summaryDetails)for(d=0;d<b.summaryDetails.length;++d)a+="\n"+b.summaryDetails[d].localMessageText;else console.warn("no result.summaryDetails");if(b.failureDetails){a+="\n";for(d=0;d<
b.failureDetails.length;++d){var e=b.failureDetails[d];a+="\n"+e.localMessageText+" ("+e.occurrences+")"}}else console.warn("no result.failureDetails");if(b.compositeDetails)for(d=0;d<b.compositeDetails.length;++d)a=this._addToSummaryMessage(a,b.compositeDetails[d]);else console.warn("no result.compositeDetails");return a},_onCancel:function(a){if(this._importInProgress)this._cancelling=!0;else this.onCancel()},_onKeyDown:function(a){switch(a.keyCode){case L.ENTER:this.buttonImport.get("disabled")||
this._onImport();break;case L.ESCAPE:this.onCancel(),y.stop(a)}},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_onImport:function(a){try{this._userNameInput&&(!this._workspaceSelector.get("value")||!this._modelSelector.get("value"))?this._getModelSources():(this._fileInput&&C.set(this._fileInput.domNode,"visibility","hidden"),this._doImport())}catch(b){this._fileInput&&C.set(this._fileInput.domNode,"visibility","visible"),this._setImportInProgress(!1),this.onCancel(),
q.showErrorReporter(new Y.ClientException("Import: _onImport",b,{widgetId:this.id},a))}},_setEntityId:function(a,b){q.setText(this.textEntityIdLabel,b);q.setText(this.textEntityId,a);E.set(this.inputEntityId,"value",a)},_setImportInProgress:function(a){this._importInProgress=a;this.buttonImport.set("disabled",a);this._fileInput&&C.set(this._fileInput.domNode,"visibility",a?"hidden":"visible")}})})},"anaplan/view/SelectItems":function(){define("anaplan/constants anaplan/data/InlineSearchProviders/SortableLabelPageSearchProvider anaplan/data/ItemsFactory anaplan/data/ModelContentHelper anaplan/data/SortableLabelPage anaplan/Exceptions anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/LabelPageHelper anaplan/utils/EntityLongIdHelper anaplan/utils/SubmissionHandler anaplan/utils/UIHelper anaplan/widgets/PageSelectorHelper dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/focus dijit/layout/_LayoutWidget dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/number dojo/string dojo/i18n!anaplan/nls/selectItems dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/SelectItems.html anaplan/widgets/Button anaplan/widgets/InlineSearch anaplan/widgets/SortableList dijit/Toolbar".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L){return z([u,r,b],{baseClass:"selectItems",lblCancel:H.buttonCancel,lblApply:G.buttonApply,lblMoveAllLeft:G.lblMoveAllLeft,lblMoveAllRight:G.lblMoveAllRight,lblMoveSelectedLeft:G.lblMoveSelectedLeft,lblMoveSelectedRight:G.lblMoveSelectedRight,titleLhs:G.titleLhs,titleRhs:G.titleRhs,rhsViewDefinition:null,SENSIBLE_DRAGGABLE_SORTABLE_LIST_LIMIT:l.SERVER_SELECTION_DEFINITION_SIZE_LIMIT+1,SENSIBLE_SORTABLE_LIST_LIMIT:4E3,templateString:L,
constructor:function(){this._rhsAllEntityLongIds=this._rhsSearchMatches=this._lhsSearchMatches=null},focus:function(){t.focus(this.domNode)},layout:function(){try{var a=A.getMarginSize(this.buttonPanel),b={h:Math.max(this._contentBox.h-A.getMarginSize(this.validationMsg).h-A.getMarginSize(this.titleRhs).h-A.getMarginSize(this.toolbarRhs.domNode).h-A.getMarginSize(this.buttonsContainer).h-2,0),w:Math.max(Math.floor((this._contentBox.w-a.w)/2)-4,A.getMarginSize(this.rhsInlineSearch.domNode).w+A.getMarginSize(this.reorderButtonGroup).w)};
D.set(this.buttonPanel,"left",b.w+2+"px");D.set(this.verticalButtonGroup,"padding-top",Math.max((b.h-a.h)/2,0)+"px");A.setMarginBox(this.lhsContainer,b);A.setMarginBox(this.rhsContainer,b)}catch(d){console.error(this.id,d)}},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);try{if(this.rhsViewDefinition){var b=this.rhsViewDefinition,e=w.clone(b),h;q.axisSpecificationContainsSelection(b.rowAxisSpecification)?(e.rowAxisSpecification=q.removeSelectionFromAxisSpecification(e.rowAxisSpecification),
h=[a.getContentViewRequestWithLabelPageRequest(e,{start:0,count:this.SENSIBLE_SORTABLE_LIST_LIMIT}),a.getContentViewRequestWithLabelPageRequest(b,{start:0,count:this.SENSIBLE_SORTABLE_LIST_LIMIT})]):h=[a.getContentViewRequestWithLabelPageRequest(e,{start:0,count:this.SENSIBLE_SORTABLE_LIST_LIMIT})];(new g({showPleaseWait:!1})).post([],h,[],!1).then(w.hitch(this,function(a){try{var b=a.result.viewRequestResults,e=b[0];if(e.rowCount>this.SENSIBLE_SORTABLE_LIST_LIMIT)setTimeout(w.hitch(this,function(){this.onAbort(C.substitute(n.searchAndReplacePlaceholders(G.messageRowCountForFullAxisExceedsSensibleSortableListLimit),
{rowCount:B.format(e.rowCount),SENSIBLE_SORTABLE_LIST_LIMIT:B.format(this.SENSIBLE_SORTABLE_LIST_LIMIT)}))}),200);else{this._fullAxisLabelPage=e.rowLabelPages[0];var g=1<b.length?b[1].rowLabelPages[0]:this._getEmptyLabelPage();this._lhsSortableLabelPage=new f(this._fullAxisLabelPage,g.entityLongIds[0]);this.lhsSortableList.setLabelPage(this._lhsSortableLabelPage);this.lhsInlineSearch.set("searchProvider",new s({sortableLabelPage:this._lhsSortableLabelPage}));this.lhsInlineSearch.set("disabled",!this._fullAxisLabelPage.count);
this._setRhs(g.entityLongIds[0],[]);this._setRhsAllEntityLongIds(g.entityLongIds[0]);this._enableButtons();this._setInitialSelection()}}catch(h){console.error(this.id,h,a),d.showErrorReporter(new k.ClientException(G.clientErrorFailedToHandleReturnFromServer,h,{id:this.id}))}finally{this._hideBusyIndicator()}}),w.hitch(this,function(a){console.error(this.id,a);this._hideBusyIndicator()}))}}catch(m){console.error(this.id,m)}},uninitialize:function(){this.inherited(arguments)},onAbort:function(a){},
onCancel:function(){},onSubmit:function(){},_assertSelectionLimit:function(a){a>l.SERVER_SELECTION_DEFINITION_SIZE_LIMIT?(a=C.substitute(G.informationItemsToShowExceedsServerSelectionLimit,{rowCount:B.format(a),SERVER_SELECTION_DEFINITION_SIZE_LIMIT:B.format(l.SERVER_SELECTION_DEFINITION_SIZE_LIMIT),SENSIBLE_DRAGGABLE_SORTABLE_LIST_LIMIT:B.format(this.SENSIBLE_DRAGGABLE_SORTABLE_LIST_LIMIT)}),x.place(document.createTextNode(a),this.validationMsgText,"only"),"hidden"===D.get(this.validationMsg,"visibility")&&
D.set(this.validationMsg,"visibility","visible")):"hidden"!==D.get(this.validationMsg,"visibility")&&D.set(this.validationMsg,"visibility","hidden")},_enableButtons:function(){this.buttonMoveAllLeft.set("disabled",this._rhsSortableLabelPage&&this._rhsSortableLabelPage.count()?!1:!0);this.buttonMoveSelectedLeft.set("disabled",this._rhsSortableLabelPage&&this._rhsSortableLabelPage.count()&&this.rhsSortableList.hasSelection()?!1:!0);this.buttonMoveAllRight.set("disabled",this._lhsSortableLabelPage&&
this._lhsSortableLabelPage.count()&&this._lhsSortableLabelPage.hasUnlockedItems()?!1:!0);this.buttonMoveSelectedRight.set("disabled",this._lhsSortableLabelPage&&this._lhsSortableLabelPage.count()&&this._lhsSortableLabelPage.hasUnlockedItems()&&this.lhsSortableList.hasSelection()?!1:!0);var a=this._rhsSortableLabelPage&&this._rhsSortableLabelPage.count()&&this.rhsSortableList.hasSelection();v.forEach([this.buttonReorderTop,this.buttonReorderBottom,this.buttonReorderUp,this.buttonReorderDown],function(b){b.set("disabled",
!a)});this.buttonApply.set("disabled",this._rhsSortableLabelPage&&this._rhsSortableLabelPage.count()&&this._rhsSortableLabelPage.count()<=l.SERVER_SELECTION_DEFINITION_SIZE_LIMIT&&!m.isArray(this._rhsSearchMatches)?!1:!0)},_getEmptyLabelPage:function(){return(new p).createLabelItems(1,0)},_hideBusyIndicator:function(){D.set(this.busyIndicator,"visibility","hidden")},_onKeyDown:function(a){a.keyCode===E.ESCAPE&&(this.onCancel(),y.stop(a))},_onLhsSearchMatches:function(a){try{this._lhsSearchMatches=
a,this._setLhs(this._rhsAllEntityLongIds||[],[]),this._enableButtons()}catch(b){d.showErrorReporter(new k.ClientException("_onLhsSearchMatches",b,{id:this.id}))}},_onLhsSearchClear:function(){try{this._lhsSearchMatches=null,this._setLhs(this._rhsAllEntityLongIds||[],[]),this._enableButtons()}catch(a){d.showErrorReporter(new k.ClientException("_onLhsSearchClear",a,{id:this.id}))}},_onLhsSortableListSelectionChanged:function(){try{this._enableButtons()}catch(a){d.showErrorReporter(new k.ClientException("_onLhsSortableListSelectionChanged",
a,{id:this.id}))}},_onMoveAllLeftButtonClick:function(){try{var a=this.rhsSortableList.getSelected(),b=this._rhsSortableLabelPage.getValues().entityLongIds,e=m.isArray(this._rhsSearchMatches)?v.filter(this._rhsAllEntityLongIds,function(a){return-1===v.indexOf(b,a)}):[];this._setLhs(e,a);this._rhsSearchMatches=m.isArray(this._rhsSearchMatches)?[]:null;this._setRhs([],[]);this._setRhsAllEntityLongIds(e);this._enableButtons()}catch(f){d.showErrorReporter(new k.ClientException("_onMoveAllLeftButtonClick"+
f,f,{id:this.id}))}},_onMoveAllRightButtonClick:function(){try{var a=this.lhsSortableList.getSelected(),b=this._fullAxisLabelPage,e=this._lhsSearchMatches,f=this._rhsAllEntityLongIds,g=v.filter(m.isArray(e)?e:b.entityLongIds[0],function(a){return-1===v.indexOf(f,a)}),h=this._rhsSortableLabelPage.count()&&this.rhsSortableList.hasSelection()?this._spliceInEntityLongIdsUsingSelection(this.rhsSortableList.getSelected(),f,g):f.concat(g);this._setLhs(h,[]);m.isArray(this._rhsSearchMatches)?(this._setRhsAllEntityLongIds(h),
this.rhsInlineSearch.doSearch().then(w.hitch(this,function(b){this._rhsSearchMatches=b;this._setRhs(b,v.filter(a,function(a){return-1<v.indexOf(b,a)}));this._enableButtons()}),w.hitch(this,function(a){d.showErrorReporter(new k.ClientException("_onMoveAllRightButtonClick search",a,{id:this.id}))}))):(this._setRhs(h,a),this._setRhsAllEntityLongIds(h),this._enableButtons())}catch(l){d.showErrorReporter(new k.ClientException("_onMoveAllRightButtonClick",l,{id:this.id}))}},_onMoveSelectedLeftButtonClick:function(){try{var a=
this.rhsSortableList.getSelected(),b=v.filter(this._rhsAllEntityLongIds,function(b){return-1===v.indexOf(a,b)});this._setLhs(b,a);m.isArray(this._rhsSearchMatches)?(this._setRhsAllEntityLongIds(b),this.rhsInlineSearch.doSearch().then(w.hitch(this,function(a){this._rhsSearchMatches=a;this._setRhs(a,[]);this._enableButtons()}),w.hitch(this,function(a){d.showErrorReporter(new k.ClientException("_onMoveSelectedLeftButtonClick search",a,{id:this.id}))}))):(this._setRhs(b,[]),this._setRhsAllEntityLongIds(b),
this._enableButtons())}catch(e){d.showErrorReporter(new k.ClientException("_onMoveSelectedLeftButtonClick",e,{id:this.id}))}},_onMoveSelectedRightButtonClick:function(){try{var a=this.lhsSortableList.getSelected(),b=this._rhsAllEntityLongIds,e=this._rhsSortableLabelPage.count()&&this.rhsSortableList.hasSelection()?this._spliceInEntityLongIdsUsingSelection(this.rhsSortableList.getSelected(),b,a):b.concat(a);this._setLhs(e,[]);m.isArray(this._rhsSearchMatches)?(this._setRhsAllEntityLongIds(e),this.rhsInlineSearch.doSearch().then(w.hitch(this,
function(b){this._rhsSearchMatches=b;this._setRhs(b,v.filter(a,function(a){return-1<v.indexOf(b,a)}));this._enableButtons()}),w.hitch(this,function(a){d.showErrorReporter(new k.ClientException("_onMoveSelectedRightButtonClick search",a,{id:this.id}))}))):(this._setRhs(e,a),this._setRhsAllEntityLongIds(e),this._enableButtons())}catch(f){d.showErrorReporter(new k.ClientException("_onMoveSelectedRightButtonClick",f,{id:this.id}))}},_onReorderBottomButtonClick:function(){try{this.rhsSortableList.moveSelectedItemsBottom()}catch(a){d.showErrorReporter(new k.ClientException("_onReorderBottomButtonClick",
a,{id:this.id}))}},_onReorderDownButtonClick:function(){try{this.rhsSortableList.moveSelectedItemsDown()}catch(a){d.showErrorReporter(new k.ClientException("_onReorderDownButtonClick",a,{id:this.id}))}},_onReorderTopButtonClick:function(){try{this.rhsSortableList.moveSelectedItemsTop()}catch(a){d.showErrorReporter(new k.ClientException("_onReorderTopButtonClick",a,{id:this.id}))}},_onReorderUpButtonClick:function(){try{this.rhsSortableList.moveSelectedItemsUp()}catch(a){d.showErrorReporter(new k.ClientException("_onReorderUpButtonClick",
a,{id:this.id}))}},_onRhsSearchClear:function(){try{this._rhsSearchMatches=null,this._setRhs(this._rhsAllEntityLongIds,[])}catch(a){d.showErrorReporter(new k.ClientException("_onRhsSearchClear",a,{id:this.id}))}},_onRhsSearchMatches:function(a){try{this._rhsSearchMatches=a,this._setRhs(a,[]),this._enableButtons()}catch(b){d.showErrorReporter(new k.ClientException("_onRhsSearchMatches",b,{id:this.id}))}},_onRhsSortableListSelectionChanged:function(){try{this._enableButtons()}catch(a){d.showErrorReporter(new k.ClientException("_onRhsSortableListSelectionChanged",
a,{id:this.id}))}},_setInitialSelection:function(){try{if(this._lhsSortableLabelPage&&this._lhsSortableLabelPage.count()&&this._lhsSortableLabelPage.hasUnlockedItems()){for(var a=null,b=this._fullAxisLabelPage.entityLongIds[0],d=0;d<b.length;d++)if(!this._lhsSortableLabelPage.isLocked(b[d])){a=b[d];break}this.lhsSortableList.setSelected([a]);t.focus(this.lhsSortableList.domNode)}else m.isArray(this._rhsAllEntityLongIds)&&this._rhsAllEntityLongIds.length?(this.rhsSortableList.setSelected([this._rhsAllEntityLongIds[0]]),
t.focus(this.rhsSortableList.domNode)):this.buttonCancel.focus()}catch(e){console.error(this.id,"_setInitialSelection",e)}},_setLhs:function(a,b){this.lhsSortableList.clear();var d=this._lhsSearchMatches,e=m.isArray(d)?h.filterLabelPage(this._fullAxisLabelPage,function(a){return-1<v.indexOf(d,a.entityLongIds[0])}):this._fullAxisLabelPage,g=e.entityLongIds[0],k=m.isArray(d)?v.filter(a,function(a){return-1<v.indexOf(g,a)}):a;this._lhsSortableLabelPage=new f(e,k);this.lhsSortableList.setLabelPage(this._lhsSortableLabelPage);
e=m.isArray(d)?v.filter(b,w.hitch(this,function(a){return-1<v.indexOf(g,a)&&!this._lhsSortableLabelPage.isLocked(a)})):b;this.lhsSortableList.setSelected(e)},_setRhs:function(a,b){this.rhsSortableList.clear();var d=a.length>this.SENSIBLE_DRAGGABLE_SORTABLE_LIST_LIMIT?a.slice(0,this.SENSIBLE_DRAGGABLE_SORTABLE_LIST_LIMIT):a,e=h.filterLabelPage(this._fullAxisLabelPage,function(a){return-1<v.indexOf(d,a.entityLongIds[0])});this._rhsSortableLabelPage=new f(e);this._rhsSortableLabelPage.reOrderLabelPage(d);
this.rhsSortableList.setLabelPage(this._rhsSortableLabelPage);this.rhsSortableList.setSelected(v.filter(b,function(a){return-1<v.indexOf(d,a)}));this._assertSelectionLimit(a.length)},_setRhsAllEntityLongIds:function(a){var b=new f(a.length?h.filterLabelPage(this._fullAxisLabelPage,function(b){return-1<v.indexOf(a,b.entityLongIds[0])}):this._getEmptyLabelPage(),[]);this.rhsInlineSearch.set("searchProvider",new s({sortableLabelPage:b}));this.rhsInlineSearch.set("disabled",!a.length);this._rhsAllEntityLongIds=
a},_spliceInEntityLongIdsUsingSelection:function(a,b,d){a=v.indexOf(b,a[a.length-1])+1;return a===b.length?b.slice().concat(d):b.slice(0,a).concat(d).concat(b.slice(a))},_submit:function(){try{var a=this._rhsSortableLabelPage.getValues();this.onSubmit({modifier:l.SELECTION_RULE_MODIFIER_SHOW,itemIdentifiers:v.map(a.entityLongIds,function(a){return[e.entityLongIdToEntityLongIdIdentifier(a)]})})}catch(b){d.showErrorReporter(new k.ClientException("_submit",b,{id:this.id}))}}})})},"dojo/data/ItemFileWriteStore":function(){define("../_base/lang ../_base/declare ../_base/array ../_base/json ../_base/kernel ./ItemFileReadStore ../date/stamp".split(" "),
function(l,s,p,q,f,k,n){return s("dojo.data.ItemFileWriteStore",k,{constructor:function(f){this._features["dojo.data.api.Write"]=!0;this._features["dojo.data.api.Notification"]=!0;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};this._datatypeMap.Date.serialize||(this._datatypeMap.Date.serialize=function(f){return n.toISOString(f,{zulu:!0})});f&&!1===f.referenceIntegrity&&(this.referenceIntegrity=!1);this._saveInProgress=!1},referenceIntegrity:!0,_assert:function(f){if(!f)throw Error("assertion failed in ItemFileWriteStore");
},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"]},newItem:function(f,h){this._assert(!this._saveInProgress);this._loadFinished||this._forceLoad();if("object"!=typeof f&&"undefined"!=typeof f)throw Error("newItem() was passed something other than an object");var e=null,g=this._getIdentifierAttribute();if(g===Number)e=this._arrayOfAllItems.length;else{e=f[g];if("undefined"===typeof e)throw Error("newItem() was not passed an identity for the new item");if(l.isArray(e))throw Error("newItem() was not passed an single-valued identity");
}this._itemsByIdentity&&this._assert("undefined"===typeof this._itemsByIdentity[e]);this._assert("undefined"===typeof this._pending._newItems[e]);this._assert("undefined"===typeof this._pending._deletedItems[e]);var d={};d[this._storeRefPropName]=this;d[this._itemNumPropName]=this._arrayOfAllItems.length;this._itemsByIdentity&&(this._itemsByIdentity[e]=d,d[g]=[e]);this._arrayOfAllItems.push(d);g=null;if(h&&h.parent&&h.attribute){var g={item:h.parent,attribute:h.attribute,oldValue:void 0},a=this.getValues(h.parent,
h.attribute);if(a&&0<a.length){var k=a.slice(0,a.length);g.oldValue=1===a.length?a[0]:a.slice(0,a.length);k.push(d);this._setValueOrValues(h.parent,h.attribute,k,!1);g.newValue=this.getValues(h.parent,h.attribute)}else this._setValueOrValues(h.parent,h.attribute,d,!1),g.newValue=d}else d[this._rootItemPropName]=!0,this._arrayOfTopLevelItems.push(d);this._pending._newItems[e]=d;for(var b in f){if(b===this._storeRefPropName||b===this._itemNumPropName)throw Error("encountered bug in ItemFileWriteStore.newItem");
e=f[b];l.isArray(e)||(e=[e]);d[b]=e;if(this.referenceIntegrity)for(a=0;a<e.length;a++)k=e[a],this.isItem(k)&&this._addReferenceToMap(k,d,b)}this.onNew(d,g);return d},_removeArrayElement:function(f,h){var e=p.indexOf(f,h);return-1!=e?(f.splice(e,1),!0):!1},deleteItem:function(f){this._assert(!this._saveInProgress);this._assertIsItem(f);var h=f[this._itemNumPropName],e=this.getIdentity(f);if(this.referenceIntegrity){var g=this.getAttributes(f);f[this._reverseRefMap]&&(f["backup_"+this._reverseRefMap]=
l.clone(f[this._reverseRefMap]));p.forEach(g,function(a){p.forEach(this.getValues(f,a),function(b){this.isItem(b)&&(f["backupRefs_"+this._reverseRefMap]||(f["backupRefs_"+this._reverseRefMap]=[]),f["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(b),attr:a}),this._removeReferenceFromMap(b,f,a))},this)},this);if(g=f[this._reverseRefMap])for(var d in g){var a=null;if(a=this._itemsByIdentity?this._itemsByIdentity[d]:this._arrayOfAllItems[d])for(var k in g[d]){var b=this.getValues(a,k)||[],
n=p.filter(b,function(a){return!(this.isItem(a)&&this.getIdentity(a)==e)},this);this._removeReferenceFromMap(f,a,k);n.length<b.length&&this._setValueOrValues(a,k,n,!0)}}}this._arrayOfAllItems[h]=null;f[this._storeRefPropName]=null;this._itemsByIdentity&&delete this._itemsByIdentity[e];this._pending._deletedItems[e]=f;f[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,f);this.onDelete(f);return!0},setValue:function(f,h,e){return this._setValueOrValues(f,h,e,!0)},setValues:function(f,
h,e){return this._setValueOrValues(f,h,e,!0)},unsetAttribute:function(f,h){return this._setValueOrValues(f,h,[],!0)},_setValueOrValues:function(f,h,e,g){this._assert(!this._saveInProgress);this._assertIsItem(f);this._assert(l.isString(h));this._assert("undefined"!==typeof e);var d=this._getIdentifierAttribute();if(h==d)throw Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");var d=this._getValueOrValues(f,h),a=this.getIdentity(f);if(!this._pending._modifiedItems[a]){var k=
{},b;for(b in f)k[b]=b===this._storeRefPropName||b===this._itemNumPropName||b===this._rootItemPropName?f[b]:b===this._reverseRefMap?l.clone(f[b]):f[b].slice(0,f[b].length);this._pending._modifiedItems[a]=k}a=!1;if(l.isArray(e)&&0===e.length){if(a=delete f[h],e=void 0,this.referenceIntegrity&&d){b=d;l.isArray(b)||(b=[b]);for(var n=0;n<b.length;n++)k=b[n],this.isItem(k)&&this._removeReferenceFromMap(k,f,h)}}else{a=l.isArray(e)?e.slice(0,e.length):[e];if(this.referenceIntegrity)if(d){b=d;l.isArray(b)||
(b=[b]);var q={};p.forEach(b,function(a){this.isItem(a)&&(a=this.getIdentity(a),q[a.toString()]=!0)},this);p.forEach(a,function(a){if(this.isItem(a)){var b=this.getIdentity(a);q[b.toString()]?delete q[b.toString()]:this._addReferenceToMap(a,f,h)}},this);for(n in q)this._removeReferenceFromMap(this._itemsByIdentity?this._itemsByIdentity[n]:this._arrayOfAllItems[n],f,h)}else for(n=0;n<a.length;n++)k=a[n],this.isItem(k)&&this._addReferenceToMap(k,f,h);f[h]=a;a=!0}if(g)this.onSet(f,h,d,e);return a},_addReferenceToMap:function(f,
h,e){h=this.getIdentity(h);var g=f[this._reverseRefMap];g||(g=f[this._reverseRefMap]={});(f=g[h])||(f=g[h]={});f[e]=!0},_removeReferenceFromMap:function(f,h,e){h=this.getIdentity(h);var g=f[this._reverseRefMap],d;if(g){for(d in g)d==h&&(delete g[d][e],this._isEmpty(g[d])&&delete g[d]);this._isEmpty(g)&&delete f[this._reverseRefMap]}},_dumpReferenceMap:function(){var f;for(f=0;f<this._arrayOfAllItems.length;f++);},_getValueOrValues:function(f,h){var e=void 0;this.hasAttribute(f,h)&&(e=this.getValues(f,
h),e=1==e.length?e[0]:e);return e},_flatten:function(f){if(this.isItem(f))return{_reference:this.getIdentity(f)};if("object"===typeof f)for(var h in this._datatypeMap){var e=this._datatypeMap[h];if(l.isObject(e)&&!l.isFunction(e)){if(f instanceof e.type){if(!e.serialize)throw Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+h+"]");return{_type:h,_value:e.serialize(f)}}}else if(f instanceof e)return{_type:h,_value:f.toString()}}return f},_getNewFileContentString:function(){var f=
{},h=this._getIdentifierAttribute();h!==Number&&(f.identifier=h);this._labelAttr&&(f.label=this._labelAttr);f.items=[];for(h=0;h<this._arrayOfAllItems.length;++h){var e=this._arrayOfAllItems[h];if(null!==e){var g={},d;for(d in e)if(d!==this._storeRefPropName&&d!==this._itemNumPropName&&d!==this._reverseRefMap&&d!==this._rootItemPropName){var a=this.getValues(e,d);if(1==a.length)g[d]=this._flatten(a[0]);else for(var k=[],b=0;b<a.length;++b)k.push(this._flatten(a[b])),g[d]=k}f.items.push(g)}}return q.toJson(f,
!0)},_isEmpty:function(f){var h=!0;if(l.isObject(f))for(var e in f){h=!1;break}else l.isArray(f)&&0<f.length&&(h=!1);return h},save:function(k){this._assert(!this._saveInProgress);this._saveInProgress=!0;var h=this,e=function(){h._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};h._saveInProgress=!1;k&&k.onComplete&&k.onComplete.call(k.scope||f.global)},g=function(a){h._saveInProgress=!1;k&&k.onError&&k.onError.call(k.scope||f.global,a)};if(this._saveEverything){var d=this._getNewFileContentString();
this._saveEverything(e,g,d)}this._saveCustom&&this._saveCustom(e,g);!this._saveEverything&&!this._saveCustom&&e()},revert:function(){this._assert(!this._saveInProgress);for(var f in this._pending._modifiedItems){var h=this._pending._modifiedItems[f],e=null,e=this._itemsByIdentity?this._itemsByIdentity[f]:this._arrayOfAllItems[f];h[this._storeRefPropName]=this;for(var g in e)delete e[g];l.mixin(e,h)}var d;for(f in this._pending._deletedItems)d=this._pending._deletedItems[f],d[this._storeRefPropName]=
this,h=d[this._itemNumPropName],d["backup_"+this._reverseRefMap]&&(d[this._reverseRefMap]=d["backup_"+this._reverseRefMap],delete d["backup_"+this._reverseRefMap]),this._arrayOfAllItems[h]=d,this._itemsByIdentity&&(this._itemsByIdentity[f]=d),d[this._rootItemPropName]&&this._arrayOfTopLevelItems.push(d);for(f in this._pending._deletedItems)d=this._pending._deletedItems[f],d["backupRefs_"+this._reverseRefMap]&&(p.forEach(d["backupRefs_"+this._reverseRefMap],function(a){this._addReferenceToMap(this._itemsByIdentity?
this._itemsByIdentity[a.id]:this._arrayOfAllItems[a.id],d,a.attr)},this),delete d["backupRefs_"+this._reverseRefMap]);for(f in this._pending._newItems)h=this._pending._newItems[f],h[this._storeRefPropName]=null,this._arrayOfAllItems[h[this._itemNumPropName]]=null,h[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,h),this._itemsByIdentity&&delete this._itemsByIdentity[f];this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return!0},isDirty:function(f){return f?
(f=this.getIdentity(f),(new Boolean(this._pending._newItems[f]||this._pending._modifiedItems[f]||this._pending._deletedItems[f])).valueOf()):!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)},onSet:function(f,h,e,g){},onNew:function(f,h){},onDelete:function(f){},close:function(f){if(this.clearOnClose){if(this.isDirty())throw Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");
this.inherited(arguments)}}})})},"anaplan/view/TotalGroupingDialog":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentHelper anaplan/widgets/Button anaplan/widgets/Dialog2 dijit/_WidgetBase dijit/form/RadioButton dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/i18n!anaplan/nls/totalgrouping dojo/on".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a){return m([k,f.ContentMixin],{baseClass:"totalsPosition",constructor:function(a){this._gridController=
a.gridController;this._targetAxisSpecification=a.targetAxisSpecification;this._isRowSelected=a.isRowSelected},postCreate:function(){this.inherited(arguments);this._populate()},startup:function(){this.inherited(arguments);this.loadFromDefinition(this._targetAxisSpecification.axisDefinition)},onCancel:function(){},onApplyTotalGroupings:function(){},_populate:function(){this._totals=g.create("div",{"class":"totalsSection"},this.domNode);this._menu=g.create("div",{"class":"buttons"},this.domNode);this._totalsHidden=
g.create("div",{"class":"totalsHiddenSection"},this._totals);this._totalsBefore=this._appendRadioButton("radioTotalsBefore","totals",null,this._totalsHidden);this._totalsAfter=this._appendRadioButton("radioTotalsAfter","totals",null,this._totalsHidden);this._groupBefore=this._appendRadioButton("radioGroupBefore","totals",null,this._totalsHidden);this._groupAfter=this._appendRadioButton("radioGroupAfter","totals",null,this._totalsHidden);this._totalsHidden.style.display="none";this.own(a(this._totalsBefore,
"change",h.hitch(this,"_update")),a(this._totalsAfter,"change",h.hitch(this,"_update")),a(this._groupBefore,"change",h.hitch(this,"_update")),a(this._groupAfter,"change",h.hitch(this,"_update")));this._self=this;var e=g.create("div",{"class":"iconButtonDiv"},this._totals);this._groupAtStartButton=this._createIconButton("groupAtStart",this._self,"sortGroupingsTotalsBeforeSelected","sortGroupingsTotalsBeforeDeselected",this._totalsBefore,e);e.appendChild(this._groupAtStartButton.domNode);this._appendLabel("groupAtStart",
document.createTextNode(d.groupingTotalsBefore),e,"labelIconButton");e=g.create("div",{"class":"iconButtonDiv"},this._totals);this._groupBeforeButton=this._createIconButton("groupBefore",this._self,"sortGroupingsGroupBeforeSelected","sortGroupingsGroupBeforeDeselected",this._groupBefore,e);e.appendChild(this._groupBeforeButton.domNode);this._appendLabel("groupBefore",document.createTextNode(d.groupingGroupBefore),e,"labelIconButton");e=g.create("div",{"class":"iconButtonDiv"},this._totals);this._groupAfterButton=
this._createIconButton("groupAfter",this._self,"sortGroupingsGroupAfterSelected","sortGroupingsGroupAfterDeselected",this._groupAfter,e);e.appendChild(this._groupAfterButton.domNode);this._appendLabel("groupAfter",document.createTextNode(d.groupingGroupAfter),e,"labelIconButton");e=g.create("div",{"class":"iconButtonDiv"},this._totals);this._groupAtEndButton=this._createIconButton("groupAtEnd",this._self,"sortGroupingsTotalsAfterSelected","sortGroupingsTotalsAfterDeselected",this._totalsAfter,e);
e.appendChild(this._groupAtEndButton.domNode);this._appendLabel("groupAtEnd",document.createTextNode(d.groupingTotalsAfter),e,"labelIconButton");this._okButton=new q({label:d.buttonOk,"class":"okButton primary-button"});this._cancelButton=new q({label:d.buttonCancel,"class":"cancelButton"});this._clearButton=new q({label:d.buttonClear,"class":"clearButton"});this._menu.appendChild(this._okButton.domNode);this._menu.appendChild(this._cancelButton.domNode);this._menu.appendChild(this._clearButton.domNode);
this._okButton.parent=this._self;this.own(a(this._okButton,"Click",h.hitch(this,"_okPressed")),a(this._cancelButton,"Click",h.hitch(this,"_cancelPressed")),a(this._clearButton,"Click",h.hitch(this,"_clearPressed")))},loadFromDefinition:function(a){a=!a||!a.axisOrder?l.TOTALS_POSITION_GROUP_DEFAULT:a.axisOrder;a===l.TOTALS_POSITION_GROUP_START?this._totalsBefore.checked=!0:a===l.TOTALS_POSITION_GROUP_BEFORE?this._groupBefore.checked=!0:a===l.TOTALS_POSITION_GROUP_AFTER?this._groupAfter.checked=!0:
a===l.TOTALS_POSITION_GROUP_END&&(this._totalsAfter.checked=!0);this.manageTotals()},_okPressed:function(){this._onOkPress()},_onOkPress:function(){var a;this._totalsBefore.checked&&(a=l.TOTALS_POSITION_GROUP_START);this._totalsAfter.checked&&(a=l.TOTALS_POSITION_GROUP_END);this._groupBefore.checked&&(a=l.TOTALS_POSITION_GROUP_BEFORE);this._groupAfter.checked&&(a=l.TOTALS_POSITION_GROUP_AFTER);this._setTotalGroupings(a)},_setTotalGroupings:function(a){var b=this._gridController.getPageInfo(),d=this._gridController.getViewDefinition();
p.axisSpecificationContainsEmpty(this._targetAxisSpecification)||(this._targetAxisSpecification.axisDefinition||p.convertAxisSpecificationToUseAxisDefinition(this._isRowSelected?b.columnAxisSpecification:b.rowAxisSpecification),this._isRowSelected?(b.columnAxisSpecification.axisDefinition.axisOrder=a,d.columnAxisSpecification=b.columnAxisSpecification):(b.rowAxisSpecification.axisDefinition.axisOrder=a,d.rowAxisSpecification=b.rowAxisSpecification));this._gridController.setViewDefinition(d);s.gather();
this.onApplyTotalGroupings()},_cancelPressed:function(){this.onCancel()},_clearPressed:function(){var a=this._gridController.getViewDefinition();this._targetAxisSpecification.axisDefinition&&this._removePositionsFromAxisDefinition(this._isRowSelected?a.columnAxisSpecification.axisDefinition:a.rowAxisSpecification.axisDefinition);this._gridController.setViewDefinition(a);s.gather();this.onCancel()},_createIconButton:function(a,b,d,e,f,g){d="sortGroupings "+d;e="sortGroupings "+e;a=new q({id:a,iconClass:e.toString(),
showLabel:!1,onClick:function(){b._manageTotalPresses(this)}});a.parent=b;a.IsSelected=d;a.deselected=e;a.radio=f;a.surrounding=g;return a},_appendLabel:function(a,b,d,e){var f="dijitInline";e&&(f+=" "+e);a=g.create("label",{"for":a,"class":f},d);g.place(b,a);return a},_manageTotalPresses:function(a){a.radio.checked||a.radio.set("checked",!a.radio.checked);this._update()},manageTotals:function(){for(var a=[this._groupAtStartButton,this._groupBeforeButton,this._groupAfterButton,this._groupAtEndButton],
b=0;b<a.length;b++)a[b].radio.checked?(a[b].set("iconClass",a[b].IsSelected),e.add(a[b].surrounding,"selected")):(a[b].set("iconClass",a[b].deselected),e.remove(a[b].surrounding,"selected"))},_update:function(){this.manageTotals()},_appendRadioButton:function(a,b,d,e){b=new n({id:a,name:b,"class":"dijitInline"});g.place(b.domNode,e);d&&this._appendLabel(a,d,e,"radioLabel");return b},_removePositionsFromAxisDefinition:function(a){a&&(a.axisOrder=null,a.baseAxis&&this._removePositionsFromAxisDefinition(a.baseAxis))}})})},
"anaplan/widgets/FloatingWindow":function(){define("dojo/dnd/Moveable dojo/dnd/TimedMoveable dojo/_base/fx dijit/_Container dijit/_TemplatedMixin dijit/_WidgetBase dijit/layout/utils anaplan/Exceptions anaplan/widgets/FloatingWindow/_Mover anaplan/layout/ResizeHandle dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/FloatingWindow.html dojo/_base/declare dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/_base/array dojo/_base/window dojo/on dojo/topic dojo/has dojo/keys dojo/_base/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return a([k,f,q],{_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],_setContentAttr:[{node:"containerNode",type:"innerHTML"},{node:"containerNode",type:"attribute"}],baseClass:"floatingWindow",contentEntityLongId:null,duration:dijit.defaultDuration,lblTitle:"",open:!1,templateString:d,sizeToContent:!1,constructor:function(a){this._refocusWidget=a.refocusWidget||null;this.lblTitle=a.title},hide:function(){this._alreadyInitialized&&
("playing"===this._fadeIn.status()&&this._fadeIn.stop(),this.open=!1,this._startDragHandle&&this._startDragHandle.remove(),this._endDragHandle&&this._endDragHandle.remove(),this._fadeOut.play())},_layout:function(a){if("hidden"!==this.domNode.style.visibility){a=a||r.getMarginBox(this.domNode);a=n.marginBox2contentBox(this.domNode,a);var b=r.getPadBorderExtents(this.wrapper);a={w:a.w-b.w,h:a.h-r.getMarginBox(this.titleBar).h-b.h};r.setMarginBox(this.containerNode,a);var d;this.getChildren().length&&
(d=n.marginBox2contentBox(this.containerNode,a),this.getChildren()[0].resize(d));this.onResizeChildren(d)}},onClosing:function(){},onClose:function(){},onFirstMove:function(){},onResizeChildren:function(){},postCreate:function(){this.inherited(arguments);b.set(this.domNode,{visibility:"hidden",position:"absolute",display:""});y.body().appendChild(this.domNode);this._createResizeHandles();this.own(w(this,"execute",v.hitch(this,"hide")),w(this,"cancel",v.hitch(this,"hide")));this._modalconnects=[]},
postMixInProperties:function(){v.mixin(this,g);this.inherited(arguments)},resize:function(a){a&&r.setMarginBox(this.domNode,a);this._layout(a)},show:function(){this.open||(this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),"playing"===this._fadeOut.status()&&this._fadeOut.stop(),b.set(this.domNode,{opacity:0,visibility:""}),this._modalconnects.push(this.on("keydown",v.hitch(this,"_onKey"))),this._layout(),this.open=!0,this._fadeIn.play(),this._startDragHandle=
x.subscribe("dnd/move/start",v.hitch(this,"_startDrag")),this._endDragHandle=x.subscribe("dnd/move/stop",v.hitch(this,"_endDrag")))},startup:function(){this.inherited(arguments);z.forEach(this._resizeHandles,function(a){a.startup()})},toggleDownArrow:function(a){try{8>A("ie")?a?(this._downArrow=t.create("div",{"class":this.baseClass+"DownArrow"},this.domNode),t.create("div",null,this._downArrow)):this._downArrow&&(t.destroy(this._downArrow),this._downArrow=null):u.toggle(this.domNode,this.baseClass+
"DownArrow",a)}catch(b){throw new m.ClientException("anaplan.widgets.FloatingWindow.toggleDownArrow",b);}},uninitialize:function(){this._fadeIn&&"playing"===this._fadeIn.status()&&this._fadeIn.stop();this._fadeOut&&"playing"===this._fadeOut.status()&&this._fadeOut.stop();this._moveable&&this._moveable.destroy();z.forEach(this._resizeHandles,function(a){a.destroy()});this.inherited(arguments)},_createResizeHandles:function(){try{this._resizeHandles=[],z.forEach("T TR R BR B BL L TL".split(" "),function(a){a=
new e({targetId:this.id,activeResize:!1,position:a});this._resizeHandles.push(a);t.place(a.domNode,this.domNode)},this)}catch(a){throw new m.ClientException("anaplan.widgets.FloatingWindow._createResizeHandles",a);}},_endDrag:function(a){try{a&&(a.node&&a.node===this.domNode)&&b.set(this.domNode,"opacity",1)}catch(d){console.error("anaplan.widgets.FloatingWindow: _endDrag",d)}},onCancel:function(){},_onCancel:function(){this.onClosing();this.hide();this.onCancel()},_onCloseButtonMouseDown:function(a){a.stopPropagation()},
_onKey:function(a){a.currentTarget===this.domNode&&a.keyCode===D.ESCAPE&&this._onCancel()},_setup:function(){var a=this.domNode;this.titleBar?(this._moveable=6===A("ie")?new s(a,{handle:this.titleBar}):new l(a,{handle:this.titleBar,timeout:0,mover:h}),this.own(w(this._moveable,"FirstMove",v.hitch(this,"onFirstMove")))):u.add(a,this.baseClass+"Fixed");this._fadeIn=p.fadeIn({node:a,duration:this.duration});this._fadeOut=p.fadeOut({node:a,duration:this.duration,onEnd:v.hitch(this,function(){a.style.visibility=
"hidden";this.destroyRecursive();this.onClose();if(this._refocusWidget){var b=this._refocusWidget;setTimeout(function(){b.focus()},150)}})})},_startDrag:function(a){try{a&&(a.node&&a.node===this.domNode)&&b.set(this.domNode,"opacity",0.5)}catch(d){console.error("anaplan.widgets.FloatingWindow: _startDrag",d)}}})})},"anaplan/dashboard/HeightAndWidth":function(){define("anaplan/constants anaplan/dashboard/LayoutHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/dom-style dojo/query anaplan/dashboard/_ControlPanelMixin dojo/i18n!anaplan/nls/heightAndWidth dojo/text!anaplan/templates/HeightAndWidth.html dijit/form/NumberTextBox anaplan/widgets/Button dojo/NodeList-dom".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return h("anaplan.dashboard.HeightAndWidth",[f,q,k,p,d],{baseClass:"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft heightAndWidth",templateString:r,labelPercentage:a.labelPercentage,labelPixels:a.labelPixels,labelUnits:a.labelUnits,constructor:function(a){this._args=a},onAfterHeightAndWidth:function(){},onCancel:function(){},onError:function(){},postCreate:function(){this.inherited(arguments);this.headerHeight.appendChild(document.createTextNode(a.headerHeight));
this.headerWidth.appendChild(document.createTextNode(a.headerWidth));this.labelHeight.appendChild(document.createTextNode(a.labelPercentage));this.labelWidth.appendChild(document.createTextNode(a.labelPercentage));this.unitsHeight.appendChild(document.createTextNode(a.unitsPercentage));this.unitsWidth.appendChild(document.createTextNode(a.unitsPercentage));this.labelHeightMinimum.appendChild(document.createTextNode(a.labelMinimum));this.labelWidthMinimum.appendChild(document.createTextNode(a.labelMinimum));
this.unitsHeightMinimum.appendChild(document.createTextNode(a.unitsPixels));this.unitsWidthMinimum.appendChild(document.createTextNode(a.unitsPixels));this.labelHeightMaximum.appendChild(document.createTextNode(a.labelMaximum));this.labelWidthMaximum.appendChild(document.createTextNode(a.labelMaximum));this.unitsHeightMaximum.appendChild(document.createTextNode(a.unitsPixels));this.unitsWidthMaximum.appendChild(document.createTextNode(a.unitsPixels));var b=this._args;this._supportsMaximumSize(b.dashboardElementType)||
n.forEach([this.labelHeightMaximum,this.inputHeightMaximum.domNode,this.unitsHeightMaximum,this.labelWidthMaximum,this.inputWidthMaximum.domNode,this.unitsWidthMaximum],function(a){e.set(a,"display","none")});s.supportsHeightAndWidth2(b.dashboardElementType)&&(g("tr.heightAndWidth2",this.domNode).style("display","table-row"),this._setUnitsType(b.size));this.updateValues(b);this._hookupOnChangeHandlers([this.inputWidth,this.inputWidthMinimum,this.inputWidthMaximum,this.inputHeight,this.inputHeightMinimum,
this.inputHeightMaximum],m.hitch(this,this._onSubmit));s.supportsHeightAndWidth2(b.dashboardElementType)&&this._hookupOnChangeHandlers([this.inputPixelWidth,this.inputPixelHeight],m.hitch(this,this._onSubmit2))},updateValues:function(a){s.supportsHeightAndWidth2(a.dashboardElementType)&&a.size.width.unitsType===l.DashboardSizeUnitsType.PIXELS?this._setSize2(a.size):this._setSize(a.size)},startup:function(){this.inherited(arguments)},uninitialize:function(){},_supportsMaximumSize:function(a){return-1<
[l.dashboardElementType.CHART,l.dashboardElementType.IMAGE].indexOf(a)},_getSize:function(){var a=this._args;return{width:{unitsType:l.DashboardSizeUnitsType.PERCENTAGE,units:this.inputWidth.get("value")},minimumWidth:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this.inputWidthMinimum.get("value")},maximumWidth:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this._supportsMaximumSize(a.dashboardElementType)?this.inputWidthMaximum.get("value"):-1},height:{unitsType:l.DashboardSizeUnitsType.PERCENTAGE,
units:this.inputHeight.get("value")},minimumHeight:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this.inputHeightMinimum.get("value")},maximumHeight:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this._supportsMaximumSize(a.dashboardElementType)?this.inputHeightMaximum.get("value"):-1}}},_getSize2:function(){this.radioUnitsPixels.get("checked")||console.warn(this.id,"_getSize2 expected pixels to be selected unit type and found",this.radioUnitsPixels.get("checked"));var a=this._getSize();m.mixin(a,
{width:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this.inputPixelWidth.get("value")},height:{unitsType:l.DashboardSizeUnitsType.PIXELS,units:this.inputPixelHeight.get("value")}});return a},_onCancel:function(){this.onCancel()},_onSubmit:function(){this._validate()&&this._onHeightAndWidth()},_onSubmit2:function(){this._validate2()&&this._onHeightAndWidth2()},_onHeightAndWidth:function(){var a=this._getSize();this.onAfterHeightAndWidth(a)},_onHeightAndWidth2:function(){this.onAfterHeightAndWidth(this._getSize2())},
_onRadioUnitsPercentageChange:function(a){g("tr.unitsPixels",this.domNode).style("display",a?"none":"table-row");g("tr.unitsPercentage",this.domNode).style("display",a?"table-row":"none");if(a&&this._args.size.width.unitsType!==l.DashboardSizeUnitsType.PERCENTAGE){a=s.getDefaultSizeForElement(this._args);var d=this._args.containerBox,e=Math.round(100*((this._args.size.width.units+this._args.spacing.horizontal)/d.w));a.width.units=e;d=Math.round(100*((this._args.size.height.units+this._args.spacing.vertical)/
d.h));a.height.units=d;a.height.unitsType=a.width.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;this._setSize(a);this._onHeightAndWidth()}},_onRadioUnitsPixelsChange:function(a){g("tr.unitsPixels",this.domNode).style("display",a?"table-row":"none");g("tr.unitsPercentage",this.domNode).style("display",a?"none":"table-row");if(a&&this._args.size.width.unitsType!==l.DashboardSizeUnitsType.PIXELS){a=s.toPixelBox(this._args.containerBox,this._args.size,this._args.spacing);var d=s.getDefaultSizeForElement(this._args);
d.width.units=a.w-this._args.spacing.horizontal;d.height.units=a.h-this._args.spacing.vertical;d.height.unitsType=d.width.unitsType=l.DashboardSizeUnitsType.PIXELS;this._setSize2(d);this._onHeightAndWidth2()}},_setSize:function(a){this.inputWidth.set("value",Number(a.width.units),!1);this.inputWidthMinimum.set("value",Number(a.minimumWidth.units),!1);this.inputWidthMaximum.set("value",Number(a.maximumWidth.units),!1);this.inputHeight.set("value",Number(a.height.units),!1);this.inputHeightMinimum.set("value",
Number(a.minimumHeight.units),!1);this.inputHeightMaximum.set("value",Number(a.maximumHeight.units),!1)},_setSize2:function(a){this.inputPixelWidth.set("value",Number(a.width.units),!1);this.inputPixelHeight.set("value",Number(a.height.units),!1);this._setSize(a)},_setUnitsType:function(a){a.width.unitsType===l.DashboardSizeUnitsType.PIXELS?this.radioUnitsPixels.set("value",!0):this.radioUnitsPercentage.set("value",!0)},_validate:function(){return this.inputHeight.isValid()&&this.inputWidth.isValid()&&
this.inputHeightMinimum.isValid()&&this.inputWidthMinimum.isValid()&&this.inputHeightMaximum.isValid()&&this.inputWidthMaximum.isValid()},_validate2:function(){return this.inputPixelHeight.isValid()&&this.inputPixelWidth.isValid()}})})},"anaplan/snav/listloader":function(){define("anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/SubmissionHandler dojo/_base/array dojo/_base/lang dojo/Deferred dojo/DeferredList".split(" "),
function(l,s,p,q,f,k,n,m,h){var e={getList:function(e,d){return this._getList(e,null,null,d)},getFilteredList:function(e,d,a,f){return this._getList(e,d,a,f)},getLists:function(e){var d=k.map(e,n.hitch(this,function(a){return this._getViewRequest(a,[],null)})),a=k.map(e,function(){return new m});(new f({showPleaseWait:!1})).post([],d,[]).then(n.hitch(this,function(d){d=d.result;for(var b=0;b<d.viewRequestResults.length;b++)a[b].resolve(d.viewRequestResults[b])}));return new h(a)},_getList:function(e,
d,a,h){e=this._getViewRequest(e,d,a,h);return(new f({showPleaseWait:!1})).post([],[e],[]).then(n.hitch(this,function(a){return a.result.viewRequestResults[0]}))},_getViewDefinition:function(e,d,a){e={type:"MODEL_DATA",staticContextIdentifiers:[q.entityLongIdToEntityLongIdIdentifier(e)]};var f,b,h,m,l;n.mixin(e,p.getAxesSpecificationsForViewDefinition([[s.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER]],[[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]]));e.rowAxisSpecification.axisDefinition.axisOrder="BEFORE";
a&&(e.rowAxisSpecification.axisDefinition.type=s.AXIS_DEFINITION_TYPE_SYNC_BRANCH,e.rowAxisSpecification.axisDefinition.currentRootItemIdentifier=q.entityLongIdToEntityLongIdIdentifier(a));d&&(f=[],k.forEach(d,function(a){a.value&&(b=a.filterPropertyEntityLongId,b===s.SYSTEM_PROPERTY_LABEL?(h="CONTAINS",m="TEXT",l=a.value):(h="EQUALS",m="ENTITY",l=q.entityLongIdToEntityLongIdIdentifier(a.value)),f.push({propertyIdentifier:q.entityLongIdToEntityLongIdIdentifier(b),contextIdentifiers:[],comparisonOperator:h,
comparisonValue:l,comparisonDataType:m}))}),f.length&&(e.rowAxisSpecification.axisDefinition.sortAndFilterDefinition={isActive:!0,filterMatchType:"ALL",filterConditions:f}));return e},_getViewRequest:function(e,d,a,f){e=this._getViewDefinition(e,d,a);return{modelId:modelId,viewDefinition:e,columnLabelPageRequests:[],dataPageRequests:[],rowLabelPageRequests:[{start:0,count:f||-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new l,viewIndex:-1}}};n.setObject("anaplan.snav.listloader",
e);return e})},"anaplan/utils/dashboardDefinition":function(){define(["dojo/_base/array","dojo/_base/lang","./viewDefinition"],function(l,s,p){var q={prepareForExport:function(f,k){f&&(k=k||[],l.forEach(f.dashboardElements,function(f,m){f.viewDefinition&&p.prepareForExport(f.viewDefinition,k[m])}))}};s.setObject("anaplan.utils.dashboardDefinition",q);return q})},"anaplan/cf/_ViewMixin":function(){define(["dojo/_base/declare"],function(l){return l("anaplan.cf._ViewMixin",null,{helpLink:null,getAutoSizePixels:function(){return null},
onConfirmOverwrite:function(){},onSubmit:function(){},prepare:function(){},reset:function(){},validate:function(){return!0}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(l,s,p){return l([s,p],{})})},"anaplan/dashboard/MenuToolbarOptions":function(){define("anaplan/constants anaplan/utils/UIHelper anaplan/data/ModelContentCache anaplan/dashboard/MenuToolbarHelper anaplan/data/ModelContentHelper anaplan/dashboard/_ControlPanelMixin dijit/_Contained dijit/_Container dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/i18n!anaplan/nls/menuToolbarOptions dojo/json dojo/query dojo/text!anaplan/templates/MenuToolbarOptions.html dijit/form/CheckBox anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){function w(a,b){return a.style&&"none"===a.style.display?!1:void 0!==b&&(--b,0>=b)?!0:a===document||!a.parentNode?!0:w(a.parentNode,b)}return r([e,h,g,n,m,k],{baseClass:"dijitContentPane dijitBorderContainer-dijitContentPane dijit dijitReset dijitLeft menuToolbarOptions",templateString:y,constructor:function(a){this._args=a},onAfterMenuToolbarOptions:function(){},onCancel:function(){},onError:function(){},postCreate:function(){var a=this._args;this.inherited(arguments);
s.setText(this.trSelectItemsText,u.selectAllItems);var d=[];a.dashboardElementType===l.dashboardElementType.GRID?d=this._setupModuleAndHierarchyGridOptions(a):a.dashboardElementType===l.dashboardElementType.CHART?d=this._setupChartOptions(a):a.dashboardElementType===l.dashboardElementType.CELL&&(d=this._setupCellOptions(a));t.set(this.trSelectItems,"display",1<d.length?"":"none");this._hookupOnChangeHandlers(d,b.hitch(this,this._onMenuToolbarOptions))},_setupCellOptions:function(d){a.forEach(q.getGridOptionNames(),
b.hitch(this,function(a){t.set(this["tr"+a],"display","none")}));var e=[];-1<f.getModuleEntityLongIdForViewDefinitionOrReference(p,d.viewDefinition)&&(this._setMenuToolbarOptions(d.menuToolbarOptions,!1),a.forEach(q.getCellOptionNames(),b.hitch(this,function(a){s.setText(this["label"+a],u["label"+a]);t.set(this["tr"+a],"display","");e.push(this["menuItemCb"+a])})));return e},_setupChartOptions:function(d){var e=q.getChartOptionNames();a.forEach(q.getGridOptionNames(),b.hitch(this,function(a){t.set(this["tr"+
a],"display","none")}));a.forEach(e,b.hitch(this,function(a){t.set(this["tr"+a],"display","");s.setText(this["label"+a],u["label"+a])}));this._setMenuToolbarOptions(d.menuToolbarOptions,!1);return a.map(e,b.hitch(this,function(a){return this["menuItemCb"+a]}))},_setupModuleAndHierarchyGridOptions:function(d){a.forEach(q.getGeneralGridOptionNames(),b.hitch(this,function(a){s.setText(this["label"+a],u["label"+a])}));this._setMenuToolbarOptions(d.menuToolbarOptions,!1);this._hierarchyEntityLongId=d=
f.getHierarchyEntityLongIdForViewDefinition(p,d.viewDefinition);(d=-1>=d)?a.forEach(q.getModuleGridOptionNames(),b.hitch(this,function(a){s.setText(this["label"+a],u["label"+a])})):a.forEach(q.getModuleGridOptionNames(),b.hitch(this,function(a){t.set(this["tr"+a],"display","none")}));var e=[];a.forEach(q.getGeneralGridOptionNames(),b.hitch(this,function(a){e.push(this["menuItemCb"+a])}));d&&a.forEach(q.getModuleGridOptionNames(),b.hitch(this,function(a){e.push(this["menuItemCb"+a])}));return e},updateValues:function(a){this._setMenuToolbarOptions(a.menuToolbarOptions)},
startup:function(){this.inherited(arguments);this.own(this.on("click",b.hitch(this,function(a){"LABEL"===a.target.nodeName?a.preventDefault():this._testAllCheckboxesChecked()})));this._testAllCheckboxesChecked()},_onCancel:function(a){this.onCancel()},_onMenuToolbarOptions:function(){var a=q.getOptionNamesForElementType(this._args.dashboardElementType).reduce(b.hitch(this,function(a,b){a["menuItem"+b]="on"===this["menuItemCb"+b].get("value")?!0:!1;return a}),{});this.onAfterMenuToolbarOptions(v.stringify(a))},
_setMenuToolbarOptions:function(a,b){"boolean"!==typeof b&&(b=!0);var d=v.parse(a),e,f;for(e in d)e&&(f=e.split("menuItem"),1<f.length&&(f="menuItemCb"+f[1],this.hasOwnProperty(f)?d[e]&&this[f].set("value","on",b):delete a[e]))},_testAllCheckboxesChecked:function(){var b=this.getChildren(),d=!0;a.some(b,function(a){if(w(a.domNode,3)&&!1===a.get("checked"))return d=!1,!0});this.menuItemCbSelectItems.get("checked")!==d&&this.menuItemCbSelectItems.set("checked",d)},_toggleCheckboxes:function(){var b=
this.getChildren(),d=this.menuItemCbSelectItems.checked;a.forEach(b,function(a){w(a.domNode,3)&&a.get("checked")!==d&&a.set("checked",d,!1)});this._onMenuToolbarOptions()}})})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(l,s,p){function q(a,b,e,f,g){if(f=b.match(/(.*):(.*)/))return b=f[2],f=f[1],m.selector(f,b).call(g,a,e);p("touch")&&(h.test(b)&&(e=A(e)),!p("event-orientationchange")&&"orientationchange"==b&&(b="resize",a=window,e=A(e)));
r&&(e=r(e));if(a.addEventListener){var k=b in d,l=k?d[b]:b;a.addEventListener(l,e,k);return{remove:function(){a.removeEventListener(l,e,k)}}}if(v&&a.attachEvent)return v(a,"on"+b,e);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function k(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;p.add("jscript",n&&n()+ScriptEngineMinorVersion()/10);p.add("event-orientationchange",p("touch")&&!p("android"));p.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);p.add("event-focusin",function(a,b,d){return"onfocusin"in d});p("touch")&&p.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(d){return!1}});var m=function(a,b,d,e){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,d):m.parse(a,b,d,q,e,this)};m.pausable=function(a,
b,d,e){var f;a=m(a,b,function(){if(!f)return d.apply(this,arguments)},e);a.pause=function(){f=!0};a.resume=function(){f=!1};return a};m.once=function(a,b,d,e){var f=m(a,b,function(){f.remove();return d.apply(this,arguments)});return f};m.parse=function(a,b,d,e,f,g){if(b.call)return b.call(g,a,d);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var h=[],k=0,m;m=b[k++];)h.push(e(a,m,d,f,g));h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};return h}return e(a,b,d,f,g)};var h=/^touch/;m.selector=
function(a,b,d){return function(e,f){function g(b){for(h=h&&h.matches?h:s.query;!h.matches(b,a,e);)if(b==e||!1===d||!(b=b.parentNode)||1!=b.nodeType)return;return b}var h="function"==typeof a?{matches:a}:this,k=b.bubble;return k?m(e,k(g),f):m(e,b,function(a){var b=g(a.target);if(b)return f.call(b,a)})}};var e=[].slice,g=m.emit=function(a,b,d){var g=e.call(arguments,2),h="on"+b;if("parentNode"in a){var m=g[0]={},l;for(l in d)m[l]=d[l];m.preventDefault=f;m.stopPropagation=k;m.target=a;m.type=b;d=m}do a[h]&&
a[h].apply(a,g);while(d&&d.bubbles&&(a=a.parentNode));return d&&d.cancelable&&d},d=p("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!p("event-stopimmediatepropagation"))var a=function(){this.modified=this.immediatelyStopped=!0},r=function(b){return function(d){if(!d.immediatelyStopped)return d.stopImmediatePropagation=a,b.apply(this,arguments)}};if(p("dom-addeventlistener"))m.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var e=(a.ownerDocument||document).createEvent("HTMLEvents");
e.initEvent(b,!!d.bubbles,!!d.cancelable);for(var f in d)f in e||(e[f]=d[f]);return a.dispatchEvent(e)&&e}return g.apply(m,arguments)};else{m._fixEvent=function(a,d){a||(a=(d&&(d.ownerDocument||d.document||d).parentWindow||window).event);if(!a)return a;try{b&&(a.type==b.type&&a.srcElement==b.target)&&(a=b)}catch(e){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=d||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||
(a.stopPropagation=z,a.preventDefault=y),a.type){case "keypress":var f="charCode"in a?a.charCode:a.keyCode;10==f?(f=0,a.keyCode=13):13==f||27==f?f=0:3==f&&(f=99);a.charCode=f;f=a;f.keyChar=f.charCode?String.fromCharCode(f.charCode):"";f.charOrCode=f.keyChar||f.keyCode}return a};var b,t=function(a){this.handle=a};t.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(a){return function(d){d=m._fixEvent(d,this);var e=a.call(this,d);d.modified&&(b||setTimeout(function(){b=
null}),b=d);return e}},v=function(a,b,d){d=u(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>p("jscript"))&&!p("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var e=a[b];if(!e||!e.listeners){var f=e,e=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");e.listeners=
[];a[b]=e;e.global=this;f&&e.listeners.push(_dojoIEListeners_.push(f)-1)}e.listeners.push(a=e.global._dojoIEListeners_.push(d)-1);return new t(a)}return l.after(a,b,d,!0)},z=function(){this.cancelBubble=!0},y=m._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(p("touch"))var w=function(){},x=window.orientation,A=function(a){return function(b){var d=b.corrected;if(!d){var e=b.type;
try{delete b.type}catch(f){}if(b.type){if(p("touch-can-modify-event-delegate"))w.prototype=b,d=new w;else{var d={},g;for(g in b)d[g]=b[g]}d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=e;b.corrected=d;if("resize"==e){if(x==window.orientation)return null;x=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);var e=d.changedTouches[0],h;for(h in e)delete d[h],d[h]=e[h]}return a.call(this,
d)}};return m})},"anaplan/data/ContextCache":function(){define(["anaplan/utils/EntityLongIdHelper","dijit/Destroyable","dojo/_base/declare","dojo/_base/lang","dojo/topic"],function(l,s,p,q,f){s=new (p([s],{constructor:function(){this.reset();this.own(f.subscribe("anaplan/global/context",q.hitch(this,"_setGlobalContext")),f.subscribe("anaplan/modelId",q.hitch(this,"reset")))},clearSelectedItems:function(f){f?this._selectedItemsMap.hasOwnProperty(f)&&delete this._selectedItemsMap[f]:this._selectedItemsMap=
{}},getContextEntityLongIds:function(){return q.clone(this._contextEntityLongIds)},getContextIdentifiers:function(){return l.entityLongIdsToEntityLongIdIdentifiers(this.getContextEntityLongIds())},getSelectedItems:function(f){return!this._selectedItemsMap.hasOwnProperty(f)?[]:this._selectedItemsMap[f]},mixin:function(f,n){var m=l.getEntityTypeIndex(n),h;for(h=0;h<f.length;h++)if(l.getEntityTypeIndex(f[h])===m){f.splice(h,1);break}f.push(n)},reset:function(){this._contextEntityLongIds=[];this._selectedItemsMap=
{}},setContextEntityLongId:function(f){this.mixin(this._contextEntityLongIds,f)},setSelectedItems:function(f,l){f&&(l?this._selectedItemsMap[f]=l:this.clearSelectedItems(f))},_setGlobalContext:function(f){f&&f.entityLongId&&this.setContextEntityLongId(f.entityLongId)}}));q.setObject("anaplan.data.ContextCache",s);return s})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(l,s,p,q,f,k,n){s.add("rtl-adjust-position-for-verticalScrollBar",
function(h,e){var g=p.body(e),d=n.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},g,"last"),a=n.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),k=0!=f.position(a).x;d.removeChild(a);g.removeChild(d);return k});s.add("position-fixed-support",function(h,e){var g=p.body(e),d=n.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},g,"last"),a=
n.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),k=f.position(a).x!=f.position(d).x;d.removeChild(a);g.removeChild(d);return k});var m={getBox:function(h){h=h||p.doc;var e="BackCompat"==h.compatMode?p.body(h):h.documentElement,g=f.docScroll(h);if(s("touch")){var d=m.get(h);h=d.innerWidth||e.clientWidth;e=d.innerHeight||e.clientHeight}else h=e.clientWidth,e=e.clientHeight;return{l:g.x,t:g.y,w:h,h:e}},get:function(f){if(s("ie")&&m!==document.parentWindow){f.parentWindow.execScript("document._parentWindow \x3d window;",
"Javascript");var e=f._parentWindow;f._parentWindow=null;return e}return f.parentWindow||f.defaultView},scrollIntoView:function(h,e){try{h=q.byId(h);var g=h.ownerDocument||p.doc,d=p.body(g),a=g.documentElement||d.parentNode,m=s("ie"),b=s("webkit");if(!(h==d||h==a))if(!s("mozilla")&&(!m&&!b&&!s("opera")&&!s("trident"))&&"scrollIntoView"in h)h.scrollIntoView(!1);else{var l="BackCompat"==g.compatMode,n=Math.min(d.clientWidth||a.clientWidth,a.clientWidth||d.clientWidth),v=Math.min(d.clientHeight||a.clientHeight,
a.clientHeight||d.clientHeight),g=b||l?d:a,z=e||f.position(h),y=h.parentNode,b=function(a){return 6>=m||7==m&&l?!1:s("position-fixed-support")&&"fixed"==k.get(a,"position").toLowerCase()},w=this,x=function(a,b,d){"BODY"==a.tagName||"HTML"==a.tagName?w.get(a.ownerDocument).scrollBy(b,d):(b&&(a.scrollLeft+=b),d&&(a.scrollTop+=d))};if(!b(h))for(;y;){y==d&&(y=g);var A=f.position(y),D=b(y),E="rtl"==k.getComputedStyle(y).direction.toLowerCase();if(y==g){A.w=n;A.h=v;if(g==a&&(m||s("trident"))&&E)A.x+=g.offsetWidth-
A.w;if(0>A.x||!m||9<=m||s("trident"))A.x=0;if(0>A.y||!m||9<=m||s("trident"))A.y=0}else{var B=f.getPadBorderExtents(y);A.w-=B.w;A.h-=B.h;A.x+=B.l;A.y+=B.t;var C=y.clientWidth,G=A.w-C;0<C&&0<G&&(E&&s("rtl-adjust-position-for-verticalScrollBar")&&(A.x+=G),A.w=C);C=y.clientHeight;G=A.h-C;0<C&&0<G&&(A.h=C)}D&&(0>A.y&&(A.h+=A.y,A.y=0),0>A.x&&(A.w+=A.x,A.x=0),A.y+A.h>v&&(A.h=v-A.y),A.x+A.w>n&&(A.w=n-A.x));var H=z.x-A.x,L=z.y-A.y,F=H+z.w-A.w,K=L+z.h-A.h,J,M;if(0<F*H&&(y.scrollLeft||y==g||y.scrollWidth>y.offsetHeight)){J=
Math[0>H?"max":"min"](H,F);if(E&&(8==m&&!l||9<=m||s("trident")))J=-J;M=y.scrollLeft;x(y,J,0);J=y.scrollLeft-M;z.x-=J}if(0<K*L&&(y.scrollTop||y==g||y.scrollHeight>y.offsetHeight))J=Math.ceil(Math[0>L?"max":"min"](L,K)),M=y.scrollTop,x(y,0,J),J=y.scrollTop-M,z.y-=J;y=y!=g&&!D&&y.parentNode}}}catch(I){console.error("scrollIntoView: "+I),h.scrollIntoView(!1)}}};l.setObject("dojo.window",m);return m})},"anaplan/data/OpInfo":function(){define(["dojo/_base/declare","anaplan/Exceptions"],function(l,s){var p=
l(null,{});p.getFilterMinArity=function(f){var k=q[f];if(!k)throw new s.ClientException('anaplan.data.OpInfo.getFilterMinArity: Bad OpName "'+f+'".');return k[0]};p.getFilterMaxArity=function(f){var k=q[f];if(!k)throw new s.ClientException('anaplan.data.OpInfo.getFilterMaxArity: Bad OpName "'+f+'".');return k[1]};p.opname={EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUAL_TO:"LESS_THAN_OR_EQUAL_TO",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUAL_TO:"GREATER_THAN_OR_EQUAL_TO",
IS_BLANK:"IS_BLANK",IS_NOT_BLANK:"IS_NOT_BLANK",CONTAINS:"CONTAINS",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH"};var q={IS_BLANK:[0,0],IS_NOT_BLANK:[0,0],LESS_THAN:[1,1],LESS_THAN_OR_EQUAL_TO:[1,1],GREATER_THAN:[1,1],GREATER_THAN_OR_EQUAL_TO:[1,1],EQUALS:[1,Infinity],NOT_EQUALS:[1,Infinity],CONTAINS:[1,Infinity],STARTS_WITH:[1,Infinity],ENDS_WITH:[1,Infinity]};return p})},"anaplan/view/ImportResultFailureDetails":function(){define("anaplan/utils/RedirectHelper anaplan/utils/FormatHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/io/iframe dojo/json dojo/sniff dojo/string dojo/topic dojo/query dijit/_Contained dijit/form/Button dijit/layout/BorderContainer dijit/layout/ContentPane anaplan/Exceptions anaplan/utils/UIHelper dojo/i18n!anaplan/nls/importResult".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A){return q("anaplan.view.ImportResultFailureDetails",[z,u],{MAX_PREVIEW_CELLS:9>e("ie")?5E3:1E4,gutters:!1,anaplanOptionSeparator:"###ANAPLAN###",constructor:function(a){try{this._results=a.results,this._selectedImportEntityLongId=-1,this._handleDetailTabHook=b.subscribe("detail-tab-hook",f.hitch(this,this._detailTabHookSubscriber))}catch(d){x.throwClientException(this,d)}},destroy:function(){this._handleDetailTabHook&&this._handleDetailTabHook.remove();
this.inherited(arguments)},_detailTabHookSubscriber:function(a){a=a&&a.importEntityLongId?a.importEntityLongId:null;var b,d,e,f,g=!1;if(a){f=this.anaplanOptionSeparator;b=t("#importResultFailureDetailsSelector")[0];for(d=b.options.length;d--;)if(e=b.options[d].value.split(f),Number(e[0])===a){b.selectedIndex=d;g=!0;break}g&&this._updateSelectedImport(a)}},onShow:function(){try{h.set(this.domNode.parentNode,"overflow","hidden");var a=t("#fixed-container");a&&a.length&&(a[0].style.display="none");this._updateSelectedImport()}catch(b){x.throwClientException(this,
b)}},_createActionHeading:function(){var a=new y({"class":"importResultTitle",content:"",id:"import-result-title-action",region:"top"});this.addChild(a)},postCreate:function(){try{this.inherited(arguments),k.add(this.domNode,"failureDetailsTab"),this._createHeaderBar(),this._createActionHeading(),this._createPreview()}catch(a){x.throwClientException(this,a)}},_createHeaderBar:function(){try{var a=new y({region:"top","class":"importResultHeaderBar"});this._createImportSelector(a.domNode);this._createDownloadDumpFileButton(a.domNode);
this.addChild(a)}catch(b){x.throwClientException(this,b)}},_createDownloadDumpFileButton:function(a){try{this._downloadDumpFileButton=new v({"class":"downloadDumpButton",label:A.buttonDownloadDumpFile,disabled:!0}),this.connect(this._downloadDumpFileButton,"onClick","_onDownloadDumpFileButtonClick"),n.place(this._downloadDumpFileButton.domNode,a)}catch(b){x.throwClientException(this,b)}},_createFloatingColumnHeaders:function(){try{if(this._preview&&this._preview.domNode){var a=t("table.previewTable tr:first-child",
this._preview.domNode);if(a&&0<a.length){var b=a[0],a=[];a.push('\x3ctable class\x3d"previewTable floating" cellspacing\x3d"0" style\x3d"width: ',m.getMarginBox(b).w,'px;"\x3e',"\x3ctbody\x3e","\x3ctr\x3e");for(var d=b.childNodes,f=d.length,g,k,l,b=0;b<f;b++)g=d[b],h.getComputedStyle&&!e("ie")?(l=h.getComputedStyle(g),k=parseInt(l.width,10)):k=e("webkit")?m.getMarginBox(g).w:m.getContentBox(g).w,a.push('\x3cth style\x3d"width: ',k,'px;"\x3e',g.innerHTML,"\x3c/th\x3e");a.push("\x3c/tr\x3e","\x3c/tbody\x3e",
"\x3c/table\x3e");this._floatingColumnHeaders=n.create("div",{"class":"importResultPreviewColumnHeaders",innerHTML:a.join("")});this._preview.domNode.appendChild(this._floatingColumnHeaders)}}}catch(r){x.throwClientException(this,r)}},_createImportSelector:function(a){try{var b={},d=this._populateDumpMap2(this._results,b,-1),e=n.create("label",{"class":"importSelectorLabel","for":"importResultFailureDetailsSelector"},a),f,g;if(d)for(g in x.setText(e,A.labelImportSelector),n.place(document.createTextNode(" "),
a),this._importSelector=n.create("select",{id:"importResultFailureDetailsSelector","class":"importSelector"},a),this.connect(this._importSelector,"onchange","_onImportSelectorChange"),b)b.hasOwnProperty(g)&&(f=n.create("option",{value:[b[g].importEntityLongId,b[g].targetName].join(this.anaplanOptionSeparator)},this._importSelector),x.setText(f,b[g].taskLabel));else x.setText(e,A.labelNoImportsToSelect)}catch(h){x.throwClientException(this,h)}},_createPreview:function(){try{this._preview=new y({region:"center",
"class":"importResultFailurePreview"}),this.addChild(this._preview),this.connect(this._preview.domNode,"onscroll","_onPreviewScroll")}catch(a){x.throwClientException(this,a)}},_createPreviewMessage:function(a,b){try{var d=n.create("div",{"class":"importResultPreviewMessageBox"+(b?" error":""),"data-anaplan-element-name":"previewMessage"});x.setText(d,a);this._preview.attr("content",d)}catch(e){x.throwClientException(this,e)}},_displayFailedToLoadPreviewMessage:function(){try{this._createPreviewMessage(A.labelErrorLoadingPreview,
!0)}catch(a){x.throwClientException(this,a)}},_displayLoadingPreviewMessage:function(){try{var a=n.create("div",{"class":"loadingMessage"}),b=n.create("span",{"class":"loadingMessageLabel"},a),d=r.substitute(A.labelLoadingPreview,{maxCells:this.MAX_PREVIEW_CELLS});x.setText(b,d);this._preview.attr("content",a)}catch(e){x.throwClientException(this,e)}},_displayNoFailuresPreviewMessage:function(){try{this._createPreviewMessage(A.labelNoFailuresToDisplay),this._updateActionHeading()}catch(a){x.throwClientException(this,
a)}},_updateActionHeading:function(){var a=document.getElementById("import-result-title-action"),b=document.getElementById("importResultFailureDetailsSelector"),d="";b&&(d=b.value.split(this.anaplanOptionSeparator)[1]);x.setText(a,d?d:"")},_displayPreview:function(a){try{if(!a||!(a instanceof Array)||1>=a.length)this._displayNoFailuresPreviewMessage();else{var b=[],d=a[0],e=a.length,f=d.length,g,k,l,q,u="",v=p.indexOf(d,"_Status_"),w=0<=v,z=p.indexOf(d,"_Line_"),y,N;this._updateActionHeading();-1!==
z&&(d.splice(z,1),w?d.splice(v+1,0,A.labelLineNumber):d.unshift(A.labelLineNumber));b.push('\x3ctable class\x3d"previewTable" cellspacing\x3d"0"\x3e',"\x3ctbody\x3e","\x3ctr\x3e");for(k=0;k<f;k++)l=d[k],0===p.indexOf(l,"_Error_")&&(l=l.replace(/_/g," ")),b.push("\x3cth\x3e",s.escapeHTML(l),"\x3c/th\x3e");b.push("\x3c/tr\x3e");for(g=1;g<e;g++){d=a[g];f=d.length;y="RowIdent"+g;b.push('\x3ctr data-anaplan-element-name\x3d"',y,'"\x3e');-1!==z&&(q=d.splice(z,1),w?d.splice(v+1,0,q):d.unshift(q));for(k=
0;k<f;k++){l=d[k];N="ColumIdent"+k;if(w&&!k){switch(l){case "E":u="hard-fail-icon";break;case "W":u="soft-fail-icon";break;default:u=""}l=""}else u="";b.push('\x3ctd align\x3d"right" data-anaplan-element-name\x3d"',N,'"\x3e\x3cspan class\x3d"',u,'"\x3e',s.escapeHTML(l),"\x3c/span\x3e\x3c/td\x3e")}b.push("\x3c/tr\x3e")}b.push("\x3c/tbody\x3e","\x3c/table\x3e");e*f>=this.MAX_PREVIEW_CELLS&&b.push('\x3cdiv class\x3d"importFailurePreviewLimitLabel"\x3e',r.substitute(A.labelPreviewLimitReached,{maxRows:e}),
"\x3c/div\x3e");var Q=n.create("div",{"class":"importResultPreviewContainer"});Q.innerHTML=b.join("");this._preview.attr("content",Q);var S=t("table.previewTable",Q);h.set(Q,"width",m.getMarginBox(S[0]).w+20+"px");var R=this;setTimeout(function(){R._createFloatingColumnHeaders()},250)}}catch(W){x.throwClientException(this,W)}},_downloadDumpFile:function(){var a=document.createElement("form");a.id="formPostImportDump";a.action="servlet";a.method="post";a.encoding="multipart/form-data";this.domNode.appendChild(a);
try{g.send({url:"servlet?taskType\x3dexport",content:{entityId:this._selectedImportEntityLongId,context:d.stringify({workspaceId:workspaceId,modelId:modelId,modelName:modelName}),exportLayout:"IMPORT_FAILURE_DUMP",fileType:"TXT"},form:a,timeout:50,preventCache:!0})}catch(b){x.throwClientException(this,b)}},_onDownloadDumpFileButtonClick:function(a){try{-1!==this._selectedImportEntityLongId&&this._downloadDumpFile()}catch(b){x.showErrorReporter(new w.ClientException("_onDownloadDumpFileButtonClick",
b,{widgetId:this.id},a))}},_onImportSelectorChange:function(a){try{this._updateSelectedImport()}catch(b){x.showErrorReporter(new w.ClientException("_onImportSelectorChange",b,{widgetId:this.id},a))}},_onPreviewScroll:function(a){},_populateDumpMap2:function(a,b,d){var e=0,f;try{a.targetName&&(a.importEntityLongId&&-1!==a.importEntityLongId)&&(f=["_key",d,a.targetName].join("_"),b[f]={failureDumpAvailable:a.failureDumpAvailable,targetName:a.targetName,importEntityLongId:a.importEntityLongId?a.importEntityLongId:
-1,taskLabel:x.getImportTaskLabel(a)},e++);var g=a.compositeDetails,h=g.length;for(a=0;a<h;a++)e+=this._populateDumpMap2(g[a],b,a)}catch(k){x.throwClientException(this,k)}return e},_populateDumpMap:function(a,b){var d=0;try{a.targetName&&(a.importEntityLongId&&-1!==a.importEntityLongId)&&(b[a.targetName]=a.failureDumpAvailable?a.importEntityLongId:-1,d++);for(var e=a.compositeDetails,f=e.length,g=0;g<f;g++)d+=this._populateDumpMap(e[g],b)}catch(h){x.throwClientException(this,h)}return d},_updateSelectedImport:function(a){try{if(this._selectedImportEntityLongId=
"number"===typeof a?a:this._importSelector?Number(this._importSelector.value.split(this.anaplanOptionSeparator)[0]):-1,this._downloadDumpFileButton&&this._downloadDumpFileButton.domNode&&this._downloadDumpFileButton.attr("disabled",-1===this._selectedImportEntityLongId),-1!==this._selectedImportEntityLongId){this._displayLoadingPreviewMessage();var b=this;dojo.xhrPost({url:"servlet?taskType\x3dexport",content:{entityId:this._selectedImportEntityLongId,context:d.stringify({workspaceId:workspaceId,
modelId:modelId,modelName:modelName}),exportLayout:"IMPORT_FAILURE_DUMP",fileType:"JSON",cellLimit:this.MAX_PREVIEW_CELLS},handleAs:"json",load:function(a,d){a.redirectUrl?l.handleRedirect(a):b._displayPreview(a)},error:function(a,d){console.error("anaplan.view.ImportResultFailureDetails: _updateSelectedImport failed");b._displayFailedToLoadPreviewMessage()}})}else this._displayNoFailuresPreviewMessage()}catch(e){x.throwClientException(this,e)}}})})},"anaplan/api/SystemActions/Base/SystemAction":function(){define(["dojo/_base/declare",
"dojo/i18n!anaplan/nls/api"],function(l,s){return l(null,{_params:{},constructor:function(l){this._params=this.applyDefaults(l)},applyDefaults:function(l){return l},extractResult:function(l){return l.result.systemActionResults[0]||{}},getFetchAllModelSummaries:function(){return!1},getModelId:function(){return window.modelId},getWorkspaceId:function(){return window.workspaceId},validate:function(){return!0},buildRequestObject:function(){throw Error(s.errors.notImplemented);},parseResponse:function(l){return l}})})},
"anaplan/utils/UrlHelper":function(){define(["anaplan/constants","anaplan/utils/CookieHelper","dojo/_base/lang","dojox/validate/web"],function(l,s,p,q){var f={createAnapediaUrl:function(f){f=this.createAnapediaKey(f);return[this.getUrl(l.URL_IDS.ANAPEDIA_BASE_URL_ID),f].join("/")},createAnapediaKey:function(f){f=f.split(" \x26 ").join(" ");f=f.split(" ").join("-");return f.toLowerCase()},getUrl:function(f){return null===window.urlsMap||void 0===window.urlsMap?(console.warn("getUrl expected to find urls but did not"),
f):window.urlsMap[f]||f},createAnapediaAnchor:function(f,l){var m=document.createElement("a"),h=l?this.createAnapediaKey(l):this.createAnapediaKey(f);m.href=this.createAnapediaUrl(h);m.target="_blank";m.appendChild(document.createTextNode(f));return m},createExternalLinkAnchor:function(f,l){var m=this.getUrl(f);if(m){var h=document.createElement("a");h.appendChild(document.createTextNode(l));h.target="_blank";h.href=m;return h}console.warn("this.exports.createExternalLinkAnchor \x3d unrecognized key "+
f);m=document.createElement("span");m.appendChild(document.createTextNode(f));return m},getSingleIPUrl:function(f){if(s.isSingleIp()){var l=document.createElement("a");l.href=f;l.protocol&&l.hostname&&(f=f.replace(l.protocol+"//"+l.hostname,""))}return f},isValidImageUrl:function(f){return q.isUrl(f,{allowIP:!1,allowLocal:!1,scheme:[!0,!1]})&&-1<f.search(/.(jpg|jpeg|png|gif)+$/i)&&null!==f.match(/^(https:\/\/)/)}};p.setObject("anaplan.utils.UrlHelper",f);return f})},"dojo/when":function(){define(["./Deferred",
"./promise/Promise"],function(l,s){return function(p,q,f,k){var n=p&&"function"===typeof p.then,m=n&&p instanceof s;if(n)m||(n=new l(p.cancel),p.then(n.resolve,n.reject,n.progress),p=n.promise);else return 1<arguments.length?q?q(p):p:(new l).resolve(p);return q||f||k?p.then(q,f,k):p}})},"anaplan/view/Filter/Tab":function(){define("anaplan/utils/UIHelper dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin anaplan/data/ModelContentHelper anaplan/Exceptions dojo/i18n!anaplan/nls/filter dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojo/text!anaplan/templates/Filter/Tab.html anaplan/view/Filter/Condition dijit/form/CheckBox anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return m([p,s,q],{baseClass:"filterTab",tabIndex:-1,templateString:a,clearFilter:function(){try{this._clearFilter()}catch(a){l.throwClientException(this,a)}},constructor:function(a){try{this._gridController=a.gridController,this._dimensionIdentifiers=a.dimensionIdentifiers,this._axisSpecification=a.axisSpecification,this._selectedRow=a.selectedRow,this._selectedColumn=a.selectedColumn,this._conditionWidgets=[]}catch(d){l.throwClientException(this,d)}},createCondition:function(a,
e,f){var g=this;this._isEmpty&&this._destroyFilterConditions();this._isEmpty=!1;this.activeCheckBox.set("disabled",!1);this.activeCheckBox.set("value",!0);var h=new r({dimensionIdentifiers:this._dimensionIdentifiers,axisSpecification:this._axisSpecification,selectedRow:f?f:this._selectedRow,selectedColumn:e?e:this._selectedColumn,filterCondition:null,filterConditionInfo:null,gridController:this._gridController});this.own(d(h,"Add",function(){g._addCondition(h)}),d(h,"Remove",function(){g._removeCondition(h)}));
return h},getAxisSpecification:function(){var a=e.clone(this._axisSpecification);try{f.convertAxisSpecificationToUseAxisDefinition(a);var d=this._getFilterConditions();a.axisDefinition.sortAndFilterDefinition=d&&d.length?{filterConditions:this._getFilterConditions(),isActive:this.isActive(),filterMatchType:this.anyOrAllSelect.options[this.anyOrAllSelect.selectedIndex].value}:null}catch(g){throw new k.ClientException("_Tab.getAxisSpecification",g);}return a},getFilterConditionCount:function(){return this._isEmpty?
0:this._conditionWidgets.length},isActive:function(){try{return this.activeCheckBox.get("value")?!0:!1}catch(a){l.throwClientException(this,a)}return!1},isDisabled:function(){return!1},isValid:function(){if(this._isEmpty)return!this.isActive();for(var a=0;a<this._conditionWidgets.length;a++)if(!this._conditionWidgets[a].isValid())return!1;return!0},onActiveStatusChange:function(){},onClear:function(){},placeCondition:function(a,d){d?h.place(a.domNode,d.domNode,"after"):h.place(a.domNode,this.filterConditionTable);
this._conditionWidgets.push(a)},postCreate:function(){try{this.inherited(arguments),l.setText(this.explanationLabel1,n.labelExplanation1),l.setText(this.explanationLabel2,n.labelExplanation2),l.setText(this.anyOption,n.optionAny),l.setText(this.allOption,n.optionAll),l.setText(this.activeCheckBoxLabel,n.labelActive),this.clearButton.set("label",n.buttonClear),this._initializeFilterControls()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._destroyFilterConditions(),this.inherited(arguments)}catch(a){l.throwClientException(this,
a)}},_addCondition:function(a,d,e){try{var f=this.createCondition(a,d,e);this.placeCondition(f,a);return f}catch(g){l.throwClientException(this,g)}},_addDefaultFilterCondition:function(){try{this._addCondition(null)}catch(a){throw new k.ClientException("_Tab._addDefaultFilterCondition",a);}},_addEmptyFilterCondition:function(){try{var a=this,e=this._conditionWidgets;e.length&&console.warn("Invalid state: adding empty filter condition to non-empty filter");this._isEmpty=!0;var f=new r({gridController:this._gridController});
this.own(d(f,"Add",function(){a._addCondition()}));h.place(f.domNode,this.filterConditionTable);e.push(f)}catch(g){l.throwClientException(this,g)}},_clearFilter:function(){try{this._destroyFilterConditions(),this._addEmptyFilterCondition(),this.activeCheckBox.set("value",!1),this.activeCheckBox.set("disabled",!0),this.onClear(this)}catch(a){l.throwClientException(this,a)}},_createFilterConditions:function(a,d){try{for(var e=this._conditionWidgets,f=0;f<a.length;f++){var g=this._createFilterCondition(a[f],
d[f]);h.place(g.domNode,this.filterConditionTable);e.push(g)}this._empty=0===this._conditionWidgets.length}catch(k){l.throwClientException(this,k)}},_createFilterCondition:function(a,e){var f=new r({gridController:this._gridController,axisSpecification:this._axisSpecification,dimensionIdentifiers:this._dimensionIdentifiers,pageInfo:this._pageInfo,selectedRow:this._selectedRow,selectedColumn:this._selectedColumn,filterCondition:a,filterConditionInfo:e}),g=this;this.own(d(f,"Add",function(){g._addCondition(f)}),
d(f,"Remove",function(){g._removeCondition(f)}));return f},_destroyFilterConditions:function(){try{for(var a=this._conditionWidgets,d=a.length;d--;)a[d].destroy();this._conditionWidgets=[]}catch(e){l.throwClientException(this,e)}},_getFilterConditions:function(){var a=[];if(this._isEmpty)return a;try{for(var d=0;d<this._conditionWidgets.length;d++){var e=this._conditionWidgets[d].getFilterCondition();e&&a.push(e)}}catch(f){l.throwClientException(this,f)}return a},_initializeFilterControls:function(){try{var a=
null,d=[];this._axisSpecification.axisDefinition&&(d=(a=this._axisSpecification.axisDefinition.sortAndFilterDefinition)?a.filterConditions:[]);if(d.length){this._createFilterConditions(d,a?a.filterConditionInfos:[]);for(var e=this.anyOrAllSelect.options,d=0;d<e.length;d++)if(e[d].value===a.filterMatchType){this.anyOrAllSelect.selectedIndex=d;break}this.activeCheckBox.set("value",a.isActive);this.activeCheckBox.set("disabled",!1)}else this._addEmptyFilterCondition(),this.activeCheckBox.set("value",
!1),this.activeCheckBox.set("disabled",!0)}catch(f){l.throwClientException(this,f)}},_onActiveStatusChange:function(a){try{this.onActiveStatusChange(this,a)}catch(d){l.throwClientException(this,d)}},_onActiveCheckBoxChange:function(a){this._onActiveStatusChange(a)},_onClearButtonClick:function(){this._clearFilter()},_removeCondition:function(a){try{var d=this._conditionWidgets,e=g.indexOf(d,a);-1!==e&&d.splice(e,1);a.destroy();d.length||(this.activeCheckBox.set("value",!1),this.activeCheckBox.set("disabled",
!0),this._addEmptyFilterCondition())}catch(f){l.throwClientException(this,f)}}})})},"anaplan/api/SystemActions/SetModelProperty":function(){define("dojo/_base/declare ./Base/SystemAction anaplan/utils/JsHelper anaplan/constants dojo/json dojo/i18n!anaplan/nls/api".split(" "),function(l,s,p,q,f,k){return l([s],{applyDefaults:function(f){f=f||{};f.isSyncable=!0===f.isSyncable;return f},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.SET_MODEL_PROPERTY,params:{modelId:window.modelId,newPropertyValue:!p.isNullOrUndefined(this._params.value)?
f.stringify(this._params.value):"",currentPropertyValue:!p.isNullOrUndefined(this._params.previousValue)?f.stringify(this._params.previousValue):"",propertyKey:this._params.key,isSyncable:this._params.isSyncable}}},parseResponse:function(f){return{modelProperties:{nonSyncableModelProperties:p.parseObjectProperties(f.nonSyncableModelProperties),syncableModelProperties:p.parseObjectProperties(f.syncableModelProperties)}}}})})},"anaplan/cf/FormattingDefinition":function(){define(["dojo/_base/declare",
"dojo/_base/lang","anaplan/common/_DefinitionBase","./BaseFormattingDefinition","./ConditionalFormattingDefinition"],function(l,s,p,q,f){return l(p,{_serializableProperties:["base","conditional"],constructor:function(f){f&&(s.mixin(this,f),this.setBaseFormattingDefinition(this.base),this.setConditionalFormattingDefinition(this.conditional))},addConditionalRuleDefinition:function(k,l){var m=this.getConditionalFormattingDefinition();m||(m=new f,this.setConditionalFormattingDefinition(m));m.addRuleDefinition(k,
l)},getBaseFormattingDefinition:function(){return this.base||null},getConditionalFormattingDefinition:function(){return this.conditional||null},isEmpty:function(){return(!this.base||this.base.isEmpty())&&(!this.conditional||this.conditional.isEmpty())},setBaseFormattingDefinition:function(f){f?this.base=f instanceof q?f:new q(this.base):delete this.base},setConditionalFormattingDefinition:function(k){k?this.conditional=k instanceof f?k:new f(this.conditional):delete this.conditional},toJSON:function(){var f=
this.getBaseFormattingDefinition(),l=this.getConditionalFormattingDefinition(),m=this.inherited(arguments);f&&f.isEmpty()&&delete m.base;l&&l.isEmpty()&&delete m.conditional;return m}})})},"anaplan/view/ImportDefinitionUsersMapping":function(){define("anaplan/data/Aggregator dojo/_base/declare dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase anaplan/constants anaplan/utils/UIHelper anaplan/widgets/Mapping dojo/dom-construct dojo/i18n!anaplan/nls/importDefinitionUsersMapping dojo/text!anaplan/templates/ImportDefinitionUsersMapping.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return s([f,q,p],{baseClass:"importDefinitionUsersMapping",templateString:g,widgetsInTemplate:!1,constructor:function(d){this._workspaceId=d.workspaceId;this._modelId=d.modelId;this._importDefinition=d.importDefinition;this._sourceFields=d.sourceFields},onChange:function(){},postCreate:function(){try{this.inherited(arguments);var d=k.importTargetType;this._userIdentifierMappingWidget=new m({workspaceId:this._workspaceId,modelId:this._modelId,importTargetType:d.USER_IDENTIFIER,
sourceFields:this._sourceFields,importDefinition:this._importDefinition,targetLabel:e.labelTargetIdentifier});this._userDataMappingWidget=new m({workspaceId:this._workspaceId,modelId:this._modelId,importTargetType:d.USER_DATA,sourceFields:this._sourceFields,importDefinition:this._importDefinition,targetLabel:e.labelTargetData});this._userAccessMappingWidget=new m({workspaceId:this._workspaceId,modelId:this._modelId,importTargetType:d.USER_ACCESS,sourceFields:this._sourceFields,importDefinition:this._importDefinition,
targetLabel:e.labelTargetAccess});h.place(this._userIdentifierMappingWidget.domNode,this.wrapper);h.place(this._userDataMappingWidget.domNode,this.wrapper);h.place(this._userAccessMappingWidget.domNode,this.wrapper)}catch(a){n.throwClientException(this,a)}},startup:function(){this.inherited(arguments);this._userIdentifierMappingWidget.startup();this._userDataMappingWidget.startup();this._userAccessMappingWidget.startup();l.gather()},uninitialize:function(){this._userIdentifierMappingWidget.destroy();
this._userDataMappingWidget.destroy();this._userAccessMappingWidget.destroy();this.inherited(arguments)}})})},"anaplan/view/InsertVersions":function(){define(["dojo/_base/declare","anaplan/view/FastInsert","anaplan/view/InsertVersions/Widget","dojo/_base/lang","dojo/on"],function(l,s,p,q,f){return l("anaplan.view.InsertVersions",[s],{_createFastInsertWidget:function(){this._widget=new p({});this.own(f(this._widget,"cancel",q.hitch(this,"_onCancel")),f(this._widget,"insert",q.hitch(this,"_onInsert")),
f(this._widget,"error",q.hitch(this,"_onError")),f(this._widget,"positionChanged",q.hitch(this,"_onPositionChange")))}})})},"anaplan/api/Fetchers/Entities/Base/LabelPageWithDataPages":function(){define("dojo/_base/declare anaplan/utils/JsHelper dojo/_base/lang dojo/i18n!anaplan/nls/api anaplan/api/Entities/Base/LabelPage anaplan/api/Fetchers/Entities/Base/DataPage".split(" "),function(l,s,p,q,f,k){return l([f],{_dataPage:null,setLabelPageWithData:function(f,m,h){if(s.isArray(f)||s.isArray(m)||s.isArray(h))throw Error(q.errors.invalidLabelPage);
if(s.isObject(f)&&s.isObject(m)&&s.isObject(h))this.setLabelPage(f),this._dataPage=new k,this._dataPage.setData(f,m,h);else throw Error(q.errors.invalidLabelPage);},_populateObject:function(f,k){var h=this.inherited(arguments);if(s.isObject(this._dataPage)){var e=this._dataPage.getItemById(h.entityLongId);if(!0===e.exists){e=this._populateData(e,h);e.hasDataPageData=!0;for(var g in e)e.hasOwnProperty(g)&&(h[g]=e[g])}}return h},_populateData:function(f,k){return{}},clear:function(){this.inherited(arguments);
this._dataPage=null}})})},"anaplan/view/FastInsert/_Widget":function(){define("anaplan/utils/UIHelper anaplan/data/ModelContentCache dojo/_base/declare dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/string dijit/focus anaplan/utils/FormatHelper anaplan/utils/IdChecker dojo/dom-style dojo/dom-construct dojo/dom-attr anaplan/constants dojo/i18n!anaplan/nls/fastInsert dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/FastInsert.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){return p([f,k,n,q],{baseClass:"fastInsert",lblAccessLevel:"",templateString:v,constructor:function(){},focus:function(){if(this._isNumberedList){var a=this.numberedItemCountInput;setTimeout(function(){a.focus()},150)}else{var b=this.itemNamesTextArea;setTimeout(function(){h.focus(b.focusNode)},150)}},getNumberedItemCount:function(){return this.numberedItemCountInput.get("value")},getParameters:function(){return{}},getPosition:function(){return this.positionSelect.value},
hideBusyIndicator:function(){this._disableForm(!1);d.set(this.busyIndicator,"visibility","hidden")},hideErrorMessage:function(){d.set(this.errorMessage,"display","none")},isBusy:function(){return"visible"===d.set(this.busyIndicator,"visibility")?!0:!1},onCancel:function(){},onError:function(){},onInsert:function(){},onNumberedItemCountChange:function(){},onPositionChange:function(){},postCreate:function(){this.inherited(arguments);this.okButton.set("label",u.buttonOk);this.cancelButton.set("label",
u.buttonCancel);l.setText(this.numberedItemCountLabel,t.labelNumberedItemCount);r.set(this.itemNamesTextArea,"title",this._getItemNamesTitle());l.setText(this.busyIndicator,t.labelBusyIndicator)},reset:function(){this._systemAxisEntityLongId=null;r.set(this.itemNamesTextArea,"value","");this.positionSelect.value="Before";this.hideBusyIndicator();this.hideErrorMessage()},setIsNumberedList:function(a){this._isNumberedList=a||!1;d.set(this.numberedItemCountDiv,"display",this._isNumberedList?"":"none");
d.set(this.itemNamesDiv,"display",this._isNumberedList?"none":"")},setIsValid:function(a){this.okButton.set("disabled",!a)},setRelativeToItemName:function(a){l.setText(this.relativeToItemName,a)},setSystemAxisEntityLongId:function(a){this._systemAxisEntityLongId=a},showBusyIndicator:function(){this._disableForm(!0);d.set(this.busyIndicator,"visibility","visible")},showErrorMessage:function(a){this.errorMessage.innerHTML=e.escapeHtmlRetainFormatting(a);d.set(this.errorMessage,"display","")},showPositionOptions:function(b,
d,e){try{this._destroyPositionOptions();var f=document.createDocumentFragment();b&&(l.setText(a.create("option",{value:"Before"},f),t.labelPositionOptionBefore),l.setText(a.create("option",{value:"After"},f),t.labelPositionOptionAfter));e&&(l.setText(a.create("option",{value:"Start"},f),t.labelPositionOptionStart),l.setText(a.create("option",{value:"End"},f),t.labelPositionOptionEnd));d&&l.setText(a.create("option",{value:"Child"},f),t.labelPositionOptionChild);a.place(f,this.positionSelect);f=null;
d?f="Child":b?f=this._isNumberedList?"After":"Before":e&&(f=this._isNumberedList?"End":"Start");f&&(this.positionSelect.value=f)}catch(g){l.throwClientException(this,g)}},_destroyPositionOptions:function(){for(var a=this.positionSelect,b=a.firstChild,d;b;)d=b.nextSibling,a.removeChild(b),b=d},_disableForm:function(a){r.set(this.itemNamesTextArea,"disabled",a);this.okButton.set("disabled",a);this.cancelButton.set("disabled",a);a?r.set(this.positionSelect,"disabled","disabled"):r.remove(this.positionSelect,
"disabled")},_getItemNamesTitle:function(){return t.tooltipItemNamesTextArea},_isDuplicateNameInLabelPage:function(a,b){for(var d=a.toLowerCase(),e=b.labels[0],f=e.length,g=0;g<f;g++)if(d===e[g].toLowerCase())return!0;return!1},_onCancelButtonClick:function(){this.onCancel()},_onInsert:function(){try{for(var a=r.get(this.itemNamesTextArea,"value"),d=m.trim(a).split("\n"),a=[],e=d.length,f,h=new g,k=null,n=0;n<e&&!k;n++)if(f=m.trim(d[n]),0<f.length){if(h.checkId(f))switch(this._systemAxisEntityLongId){case b.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_ENTITY_LONG_ID:this._isDuplicateNameInLabelPage(f,
s.getHierarchiesLabelPage())&&(k=m.substitute(t.errorDuplicateGeneralList,{name:f}));break;case b.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_ENTITY_LONG_ID:this._isDuplicateNameInLabelPage(f,s.getLineItemSubsetsLabelPage())&&(k=m.substitute(t.errorDuplicateLineItemSubset,{name:f}))}else{k=h.getInvalidIdMessage();break}a.push(f)}if(k)this.showErrorMessage(k);else this.onInsert(a,this.positionSelect.value)}catch(p){l.throwClientException(this,p)}},_onNumberedInsert:function(){for(var a=this.numberedItemCountInput.get("value"),
b=this.positionSelect.value,d=[],e=0;e<a;++e)d.push("_"+e+"_");this.onInsert(d,b)},_onOkButtonClick:function(a){this._isNumberedList?this._onNumberedInsert():this._onInsert()},_onNumberedItemCountChange:function(){this.onNumberedItemCountChange(this.numberedItemCountInput.get("value"))},_onPositionSelectChange:function(){this.onPositionChange(this.positionSelect.value)}})})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(l,s,
p){return l(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){p.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var l=p.getEnclosingWidget(this.domNode.parentNode);l&&l.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);p.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},
resize:function(l){l&&s.setMarginBox(this.domNode,l);this.inherited(arguments)},_set:function(l,f){this[l]=f},watch:function(){},getParent:function(){return p.getEnclosingWidget(this.domNode.parentNode)}})})},"anaplan/view/BulkDelete":function(){define("anaplan/api/service dojo/Deferred anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/query dojo/string dojo/window anaplan/data/ModelContentCache anaplan/gridlet/Themes anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ChangeFactory anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory anaplan/utils/SubmissionHandler anaplan/widgets/ConfirmationDialog dojo/text!anaplan/templates/BulkDelete.html dojo/i18n!anaplan/nls/bulkDelete dojo/i18n!dijit/nls/common dojo/i18n!dijit/nls/loading anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M){return g([n,m,h,k],{baseClass:"bulkDelete",templateString:F,constructor:function(a){try{this._listSize=a.hasOwnProperty("listSize")?a.listSize:-1;this._listLabel=a.listLabel||K.labelDefaultListName;this._selectedItems=a.selectedItems||[];this._viewDefinition=a.viewDefinition||null;this._model=a.model||null;this._dimensionIdentifier=a.dimensionIdentifier;var b=p.getListSizeLimit();this._loadList=-1!==this._listSize&&this._listSize<=
b;this._treeSelection=null;this._selectedEntityLongIdMap={};this._selectedModuleEntityLongIds=[];this._selectedTimeRangeEntityLongIds=[];this._pageInfo=null;this._serialNumbers=new y;this._viewIndex=-1}catch(d){p.throwClientException(this,d)}},error:function(a){console.error("anaplan.view.BulkDelete: error",a)},onCancel:function(){},onDelete:function(){},postCreate:function(){try{this.inherited(arguments);p.setText(this.instructions,t.substitute(K.labelInstructions,{listName:this._listLabel}));p.setText(this.treeLabel,
K.labelTree);p.setText(this.selectionListLabel,K.labelSelectionList);p.setText(this.loadingLabel,M.loadingState);this.okButton.set("label",J.buttonOk);this.cancelButton.set("label",J.buttonCancel);this.deleteAllButton.set("label",K.buttonDeleteAll);this.deleteAllLeafItemsButton.set("label",K.buttonDeleteAllLeafItems);this.deleteDescendantsButton.set("label",K.buttonDeleteDescendants);this.keepAllButton.set("label",K.buttonKeepAll);this._isHierarchyView=E.isEntitySystemAxisIdentifier(this._dimensionIdentifier)||
E.isCustomHierarchySystemAxisIdentifier(this._dimensionIdentifier);this._isHierarchyView||(this.deleteAllLeafItemsButton.domNode.style.display="none",this.deleteDescendantsButton.domNode.style.display="none");if(this._isCustomPropertiesView=E.isCustomPropertySystemAxisIdentifier(this._dimensionIdentifier)){var a=B.entityLongIdIdentifierToEntityLongId(this._viewDefinition.staticContextIdentifiers[0]),b=v.getHierarchyInfo(a);b&&(b.isNumberedList&&-1!=b.displayNamePropertyEntityIndex)&&(this._displayNamePropertyEntityIndex=
b.displayNamePropertyEntityIndex)}this._isDashboardsView=E.isDashboardSystemAxisIdentifier(this._dimensionIdentifier);this._isRolesView=E.isModelRoleSystemAxisIdentifier(this._dimensionIdentifier)}catch(d){p.throwClientException(this,d)}},resize:function(d){try{d&&a.setMarginBox(this.domNode,d);this.inherited(arguments);var e=a.getMarginSize(this.domNode),f={w:(e.w-185)/2};b(".innerContainer",this.domNode).forEach(function(b){a.setMarginBox(b,f)});var g=a.getMarginBox(this.instructions),h=a.getMarginBox(this.treeLabel),
k=a.getMarginBox(this.buttons),m=e.h-g.h-h.h-k.h-14;a.setMarginBox(this.treeContainer,{h:m});a.setMarginBox(this.selectionListContainer,{h:m});a.setMarginBox(this.buttonPanel,{w:185,h:m,t:0,l:f.w});if(this._tree){var l=a.getContentBox(this.treeContainer);this._tree.resize({w:l.w,h:l.h})}}catch(n){p.throwClientException(this,n)}},startup:function(){try{this.inherited(arguments),this._loadList?(f.addObserver(this),this._isObserver=!0,f.gather()):this._rebuild()}catch(a){p.throwClientException(this,
a)}},uninitialize:function(){try{this._isObserver&&(f.deleteObserver(this),this._isObserver=!1),this._confirmationDialog&&(this._confirmationDialog.destroy(),this._confirmationDialog=null),this._tree&&(this._tree.destroy(),this._tree=null),this.inherited(arguments)}catch(a){p.throwClientException(this,a)}},update:function(a){var b,d;try{a instanceof Array&&(a=a[0]),this._pageInfo=a.pageInfo,b=this._serialNumbers,d=this._serialNumbers=new y(a.serialNumbers),this._viewIndex=a.viewIndex,b.rowAxisSerialNumber!==
d.rowAxisSerialNumber&&(1!=a.rowLabelPages.length&&console.warn("anaplan.view.BulkDelete; "+a.rowLabelPages.length+" row label pages; expected 1"),this._rowLabelPage=a.rowLabelPages[0],this._initialized||this._rebuild())}catch(e){p.throwClientException(this,e)}},view:function(){return(new A(workspaceId)).getRequest({modelId:modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:this._initialized?1:-1,columnCount:this._initialized?1:-1}],cellSelectorLabelsRequired:!1,
pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex})},_addSelectionItem:function(a){try{var b=this._createItem(a);if(b){var e=this._cannotAddItemToSelection(b);if(e)p.setText(this.errorIndicatorText,K.messageSelectedItemCannotBeDeleted+e),r.set(this.errorIndicator,"display","");else{var f=d.create("div",{id:this._getSelectionItemId(a)}),g=d.create("div",{"class":"selectedItemLabel"},f),h=d.create("div",{"class":"selectedItemRemoveLink"},f),k=d.create("a",{href:"#"},
h);d.create("div",{style:"clear: both;"},f);g.innerHTML=q.escapeHTML(b.label);p.setText(k,K.labelKeep);d.place(f,this.selectionListContainer.firstChild);this._selectedEntityLongIdMap[a]||(this._selectedItems.push(b),this._selectedEntityLongIdMap[a]=!0,this._isModuleEntity(a)&&this._selectedModuleEntityLongIds.push(a),this._isTimeRangeEntity(a)&&this._selectedTimeRangeEntityLongIds.push(a));this.okButton.set("disabled",0===this._selectedItems.length);u.scrollIntoView(f)}}else console.warn("anaplan.view.BulkDelete: item not found with entityLongId "+
a)}catch(m){p.throwClientException(this,m)}},_isModuleEntity:function(a){return B.getEntityTypeIndex(a)===w.MODULE_ENTITY_TYPE_INDEX},_isTimeRangeEntity:function(a){return B.getEntityTypeIndex(a)===w.TIME_RANGE_ENTITY_TYPE_INDEX},_addSelectionItems:function(a){try{var b=this,d=this._selectedModuleEntityLongIds,e=this._selectedTimeRangeEntityLongIds;this._getAllNodes();var f=K.labelKeep,g=this._selectedItems,h=this._selectedEntityLongIdMap,k,m,l=this.selectionListContainer.firstChild.innerHTML,n=[];
0<a.length?this._showPleaseWaitDialog():this._hidePleaseWaitDialog();var r=function(a){var p=a.length;for(m=0;m<p;m++){if(100===m){setTimeout(function(b){return function(){r(a.slice(b))}}(m),25);return}if(a[m]){var t;void 0!==a[m]&&"object"===typeof a[m]?(k=a[m],t=k.entityLongIds):(t=a[m],k=b._createItem(t));!b._cannotAddItemToSelection(k)&&!h[t]&&(n.push("\x3cdiv id\x3d'",b._getSelectionItemId(t),"'\x3e","\x3cdiv class\x3d'selectedItemLabel'\x3e",k.hasOwnProperty("label")?q.escapeHTML(q.unescapeHTML(k.label)):
q.escapeHTML(q.unescapeHTML(k.name)),"\x3c/div\x3e","\x3cdiv class\x3d'selectedItemRemoveLink'\x3e\x3ca href\x3d'#'\x3e",f,"\x3c/a\x3e\x3c/div\x3e","\x3cdiv style\x3d'clear: both;'\x3e\x3c/div\x3e\x3c/div\x3e"),g.push(k),h[t]=!0,b._isModuleEntity(t)&&d.push(t),b._isTimeRangeEntity(t)&&e.push(t))}}b.selectionListContainer.firstChild.innerHTML=l+n.join("");b._enableButtons();b._hidePleaseWaitDialog()};r(a)}catch(t){p.throwClientException(this,t)}},_cannotAddItemToSelection:function(a){try{if(!a)return K.messageItemNotFound;
if(this._isHierarchyView){if(B.getEntityIndex(a.entityLongIds)==w.TOP_LEVEL_ITEM_ENTITY_INDEX)return K.messageTopLevelItem}else if(this._isCustomPropertiesView){if(B.getEntityIndex(a.entityLongIds)==this._displayNamePropertyEntityIndex)return K.messageDisplayNameProperty}else{if(this._isDashboardsView)return a.canDelete?null:t.substitute(K.messageDashboardInUseAsLandingDashboard,{dashboardLabel:a.originalLabel||a.label});if(this._isRolesView)return a.canDelete?null:K.messageNotPermitted}return this._viewDefinition&&
"MODEL_DEFINITION"==this._viewDefinition.type?null:a.canDelete?null:K.messageNotPermitted}catch(b){p.throwClientException(this,b)}return K.messageUnknown},_createItem:function(a){try{if(this._rowLabelPage){var b=this._rowLabelPage,d=e.indexOf(b.entityLongIds[0],a);if(-1!==d)return{canDelete:b.canDelete[0][d],isItemEditable:b.isItemEditable[0][d],canInsertSibling:b.canInsertSibling[0][d],entityId:b.entityIds[0][d],entityLongIds:b.entityLongIds[0][d],isAggregate:b.isAggregate[0][d],label:C.getItemName(b,
0,d)}}}catch(f){p.throwClientException(this,f)}return null},_createTree:function(){try{this._tree&&this._tree.destroy();var b=this;this.loading.style.display="none";var d=a.getContentBox(this.treeContainer);this._tree=G.createSelector({widgetContainer:this.treeContainer,labelPage:this._rowLabelPage,style:"width: "+d.w+"px; height: "+d.h+"px;",onSelectionChange:function(a,d){try{r.set(b.errorIndicator,"display","none"),b._treeSelection=a,null!==a&&(b._selectedEntityLongIdMap[a]?b._scrollToSelectionItem(a):
b._addSelectionItem(a))}catch(e){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _createTree (onSelectionChange)",e))}},themeId:z.getGridSelectorTheme()})}catch(e){p.throwClientException(this,e)}},_getConfirmationMessage:function(a,b,d){var e=new s;try{if(1<a.length)e.resolve(t.substitute(K.messageConfirmDeleteModuleMultiple,{moduleCount:a.length}));else if(1===a.length)l.modules.fetchById(a[0]).then(function(a){a=a.exists?a.getLabel():"Module";e.resolve(t.substitute(K.messageConfirmDeleteModule,
{moduleName:a}))});else if(1<d.length)e.resolve(t.substitute(K.messageConfirmDeleteTimeRangeMultiple,{timeRangeCount:d.length}));else if(1===d.length||1===b.length){var f=b[0],g=f.hasOwnProperty("label")&&f.label?f.label:q.escapeHTML(f.name);g||(g="()");1===d.length?e.resolve(t.substitute(K.messageConfirmDeleteTimeRange,{itemName:g})):e.resolve(t.substitute(K.messageConfirmDelete,{itemName:g}))}else e.resolve(t.substitute(K.messageConfirmDeleteMultiple,{itemCount:b.length}))}catch(h){e.reject(h)}return e.promise},
_confirmDeletion:function(){var a=this,b=function(b){this._confirmationDialog||(this._confirmationDialog=new L,this._confirmationDialog.set("title",K.titleConfirmDelete),this._confirmationDialog.on("execute",function(){setTimeout(function(){a._doDelete()},100)}));this._confirmationDialog.set("content",b);setTimeout(function(){a._confirmationDialog.show();a._confirmationDialog.resize()},500)}.bind(this),d=function(a){p.throwClientException(this,a)}.bind(this);this._getConfirmationMessage(this._selectedModuleEntityLongIds,
this.selectedItems,this._selectedTimeRangeEntityLongIds).then(b,d)},_deleteAll:function(){try{this._disableButtons(),this._addSelectionItems(this._rowLabelPage.entityLongIds[0])}catch(a){p.throwClientException(this,a)}},_deleteDescendants:function(a,b){var d=this;this._recurseCount++;this._selectedEntityLongIdMap[a.entityLongId]||b.push(a.entityLongId);var e=function(a){var f,g;g=0;for(f=a.length;g<f;g++){if(100===g){setTimeout(function(b){return function(){e(a.slice(b))}}(g),25);return}d._deleteDescendants(a[g],
b)}d._recurseCount--;d._recurseCount||d._addSelectionItems(b)};e(a.children)},_disableButtons:function(){try{this.deleteAllButton.set("disabled",!0),this.deleteAllLeafItemsButton.set("disabled",!0),this.deleteDescendantsButton.set("disabled",!0),this.keepAllButton.set("disabled",!0),this.okButton.set("disabled",!0),this.cancelButton.set("disabled",!0)}catch(a){p.throwClientException(this,a)}},_doDelete:function(){try{if(this._disableButtons(),this._selectedItems.length){var a=[{workspaceId:workspaceId,
cellChanges:[],modelChanges:this._isHierarchyView?this._getModelChangesForHierarchy():this._getModelChanges()}],b=this;(new H({aggregatorObserver:this._model||this})).gather(a).then(function(){b.onDelete()},function(){setTimeout(function(){f.gather()},100);b._enableButtons()})}}catch(d){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _doDelete",d,{widgetId:this.id},event))}},_enableButtons:function(){try{this._loadList&&(this.deleteAllButton.set("disabled",!1),this.deleteAllLeafItemsButton.set("disabled",
!1),this.deleteDescendantsButton.set("disabled",!1),this.keepAllButton.set("disabled",!1)),this.okButton.set("disabled",0===this._selectedItems.length),this.cancelButton.set("disabled",!1)}catch(a){p.throwClientException(this,a)}},_getAllNodes:function(){this._allNodes||(this._allNodes={},C.getItems(this._getOrderedParentChildArray(),this._allNodes));return this._allNodes},_getModelChanges:function(){var a=[];try{for(var b=this._selectedItems,d=b.length,e=new x,f,g,h=0;h<d;h++){f=b[h];g=B.getEntityTypeIndex(f.entityLongIds);
var k=e.getModelChangeGenerator(v.getEntityType(g));a.push({modelId:modelId,modelChangeXml:k.getModelChangeXml("DELETE",{entityLongId:f.entityLongIds})})}}catch(m){p.throwClientException(this,m)}return a},_getModelChangesForHierarchy:function(){var a=[];try{for(var b=this._selectedItems,d=b.length,e={},f,g,h,k,m=0;m<d;m++)f=b[m],g=f.entityLongIds,h=B.getEntityTypeIndex(g),k=B.getEntityIndex(g),e.hasOwnProperty(h)||(e[h]=[]),e[h].push(k);var l,n,r,q,t,s=new x;for(h in e){l=s.getModelChangeGenerator(v.getEntityType(h));
r=e[h];q=r.length;n=[];for(t=0;t<q;t++)n.push({entityIndex:r[t]});a.push({modelId:modelId,modelChangeXml:l.getModelChangeXml("DELETE",{items:n})})}}catch(u){p.throwClientException(this,u)}return a},_getOrderedParentChildArray:function(){this._orderedParentChildArray||(this._orderedParentChildArray=C.getOrderedParentChildArray(this._rowLabelPage));return this._orderedParentChildArray},_getSelectionItemId:function(a){var b=null;try{b=this.id+":"+a}catch(d){p.throwClientException(this,d)}return b},_hidePleaseWaitDialog:function(){try{this._pleaseWaitTimeout&&
clearTimeout(this._pleaseWaitTimeout),p.hidePleaseWaitDialog()}catch(a){p.throwClientException(this,a)}},_onCancelButtonClick:function(a){try{this.onCancel()}catch(b){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onCancelButtonClick",b,{widgetId:this.id},a))}},_onDeleteAllButtonClick:function(a){try{this._deleteAll()}catch(b){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onDeleteAllButtonClick",b,{widgetId:this.id},a))}},_onDeleteDescendantsButtonClick:function(a){try{if(this._treeSelection&&
this._rowLabelPage){this._disableButtons();var b=this._getAllNodes()[this._treeSelection];this._showPleaseWaitDialog();this._recurseCount=0;this._deleteDescendants(b,[])}else this._deleteAll()}catch(d){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onDeleteDescendantsButtonClick",d,{widgetId:this.id},a))}},_onDeleteAllLeafItemsButtonClick:function(a){try{this._rowLabelPage&&this._rowLabelPage.count&&(this._disableButtons(),this._showPleaseWaitDialog(),this._selectLeafItems())}catch(b){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onDeleteAllLeafItemsButtonClick",
b,{widgetId:this.id},a))}},_onKeepAllButtonClick:function(a){try{this._disableButtons(),this._removeSelectionItems(),this._enableButtons()}catch(b){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onKeepAllButtonClick",b,{widgetId:this.id},a))}},_onOkButtonClick:function(a){try{this._confirmDeletion()}catch(b){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onOkButtonClick",b,{widgetId:this.id},a))}},_onSelectionListContainerClick:function(a){try{var b=a.target;
if("A"===b.nodeName){var d=b.parentNode.parentNode.id.split(":");this._removeSelectionItem(Number(d[1]))}}catch(e){p.showErrorReporter(new D.ClientException("anaplan.view.BulkDelete: _onSelectionListContainerClick",e,{widgetId:this.id},a))}},_rebuild:function(){try{if(this._loadList)this._createTree();else{this.loading.style.display="none";var a=d.create("div",{"class":"warningMessage"},this.treeContainer);p.setText(a,K.labelNoSelector);this.deleteAllButton.set("disabled",!0);this.deleteAllLeafItemsButton.set("disabled",
!0);this.deleteDescendantsButton.set("disabled",!0);this.keepAllButton.set("disabled",!0)}var b=this._selectedItems;this._selectedItems=[];for(var a={},e,f=0,g=b.length,h=b.length;h--;)if(e=this._cannotAddItemToSelection(b[h]))e[e]?++a[e]:a[e]=1,++f,b.splice(h,1);this._addSelectionItems(b);if(f&&this._loadList){var k;k=1==g?K.messageSelectedItemCannotBeDeleted:t.substitute(K.messageSelectedItemsCannotBeDeleted,{count:f});b=0;for(e in a)a.hasOwnProperty(e)&&(0<b++&&(k+="; "),k+=e,1!=g&&(k+=" ("+a[e]+
")"));p.setText(this.errorIndicatorText,k);r.set(this.errorIndicator,"display","")}else r.set(this.errorIndicator,"display","none");this._initialized=!0}catch(m){p.throwClientException(this,m)}},_removeSelectionItem:function(a){try{var b=document.getElementById(this._getSelectionItemId(a));b&&d.destroy(b);for(var f=this._selectedItems,g=f.length,h,b=0;b<g;b++)if(h=f[b],h.entityLongIds==a){f.splice(b,1);delete this._selectedEntityLongIdMap[a];if(this._isModuleEntity(a)){var k=e.indexOf(this._selectedModuleEntityLongIds,
a);-1!==k&&this._selectedModuleEntityLongIds.splice(k,1)}if(this._isTimeRangeEntity(a)){var m=e.indexOf(this._selectedTimeRangeEntityLongIds,a);-1!==m&&this._selectedTimeRangeEntityLongIds.splice(m,1)}this.okButton.set("disabled",0===this._selectedItems.length);break}}catch(l){p.throwClientException(this,l)}},_removeSelectionItems:function(){try{this._selectedItems=[],this._selectedEntityLongIdMap={},this._selectedModuleEntityLongIds=[],this._selectedTimeRangeEntityLongIds=[],this.selectionListContainer.replaceChild(document.createElement("div"),
this.selectionListContainer.firstChild)}catch(a){p.throwClientException(this,a)}},_scrollToSelectionItem:function(a){try{var b=document.getElementById(this._getSelectionItemId(a));b&&u.scrollIntoView(b)}catch(d){p.throwClientException(this,d)}},_selectLeafItems:function(){try{var a=this,b=[],d=this._getAllNodes(),e=this._getOrderedParentChildArray(),f=this._selectedEntityLongIdMap,g=function(e){var h,k,m;m=0;for(h=e.length;m<h;m++){if(100===m){setTimeout(function(a){return function(){g(e.slice(a))}}(m),
25);return}k=e[m].entityLongId;0===d[k].children.length&&!f[k]&&b.push(k)}a._addSelectionItems(b)};g(e)}catch(h){p.throwClientException(this,h)}},_showPleaseWaitDialog:function(){try{this._pleaseWaitTimeout&&clearTimeout(this._pleaseWaitTimeout),this._pleaseWaitTimeout=setTimeout(function(){p.showPleaseWaitDialog()},2E3)}catch(a){p.throwClientException(this,a)}},onShow:function(){}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),
function(l,s,p,q,f,k){return l("dijit.form._FormValueMixin",k,{readOnly:!1,_setReadOnlyAttr:function(f){s.set(this.focusNode,"readOnly",f);this._set("readOnly",f)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(f,k){this._handleOnChange(f,k)},_handleOnChange:function(f,k){this._set("value",f);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,s,p,q){var f={fieldToObject:function(f){var l=null;if(f=s.byId(f)){var m=f.name,h=(f.type||"").toLowerCase();if(m&&h&&!f.disabled)if("radio"==h||"checkbox"==h)f.checked&&(l=f.value);else if(f.multiple){l=[];for(f=[f.firstChild];f.length;)for(m=f.pop();m;m=m.nextSibling)if(1==m.nodeType&&"option"==m.tagName.toLowerCase())m.selected&&l.push(m.value);else{m.nextSibling&&
f.push(m.nextSibling);m.firstChild&&f.push(m.firstChild);break}}else l=f.value}return l},toObject:function(k){var n={};k=s.byId(k).elements;for(var m=0,h=k.length;m<h;++m){var e=k[m],g=e.name,d=(e.type||"").toLowerCase();if(g&&d&&0>"file|submit|image|reset|button".indexOf(d)&&!e.disabled){var a=n,r=g,e=f.fieldToObject(e);if(null!==e){var b=a[r];"string"==typeof b?a[r]=[b,e]:l.isArray(b)?b.push(e):a[r]=e}"image"==d&&(n[g+".x"]=n[g+".y"]=n[g].x=n[g].y=0)}}return n},toQuery:function(k){return p.objectToQuery(f.toObject(k))},
toJson:function(k,l){return q.stringify(f.toObject(k),null,l?4:0)}};return f})},"anaplan/widgets/MultiSelect":function(){define(["dojo/_base/declare","dojo/query","dijit/form/MultiSelect"],function(l,s,p){return l(p,{addSelected:function(l){var f=document.createDocumentFragment(),k=l.domNode.scrollTop;s("option",l.containerNode).forEach(function(k){k.selected&&f.appendChild(k)});this.containerNode.appendChild(f);l.domNode.scrollTop=0;l.domNode.scrollTop=k;this.domNode.scrollTop=this.domNode.offsetHeight;
this._set("value",this.get("value"))}})})},"anaplan/widgets/LevelSelector":function(){define("anaplan/utils/UIHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper dijit/_Container dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/i18n!anaplan/nls/levelSelector dojo/text!anaplan/templates/Level.html dijit/form/CheckBox".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a){var r=h([k,f,n],{templateString:a,
baseClass:"level",entityLongId:null,indentLevel:0,isSelected:!0,label:null,focus:function(){this.checkBox&&this.checkBox.focus()},postCreate:function(){this.inherited(arguments);this._setIndentation();l.setText(this.labelElement,this.label);e.set(this.labelElement,"for",this.checkBox.id);this.checkBox.set("checked",this.isSelected)},_onCheckBoxClick:function(){this.isSelected=this.checkBox.get("checked")},_setIndentation:function(){g.add(this.domNode,"levelIndent-"+Math.min(this.indentLevel,9))}});
return h([k,q],{baseClass:"levelSelector",levels:null,value:null,focus:function(){m.some(this.getChildren(),function(a){return a.focus?(a.focus(),!0):!1})},postCreate:function(){this.inherited(arguments);this._buildInterface()},_buildInterface:function(){this.levels&&m.forEach(this.levels,function(a,d){0===d?(this._createLevel(a,{isSummaries:!0,indentLevel:d}),this._createLevel(a,{isDetails:!0,indentLevel:d+1})):this._createLevel(a,{indentLevel:d+1})},this)},_createLevel:function(a,e){var f=e||{},
g=a.label,h;f.isSummaries?g+=" "+d.labelSummaries:f.isDetails&&(g+=" "+d.labelDetails);h=this.value?f.isSummaries?this._isSelected("TOTALS"):f.isDetails?this._isSelected("LEAF"):this._isSelected(s.entityLongIdToEntityLongIdIdentifier(a.entityLongId)):!0;f=new r({label:g,indentLevel:f.indentLevel||0,isSelected:h,entityLongId:a.entityLongId});this.addChild(f)},_getValueAttr:function(){var a=[];m.forEach(this.getChildren(),function(d,e){d.isSelected&&(0===e?a.push("TOTALS"):1===e?a.push("LEAF"):a.push(s.entityLongIdToEntityLongIdIdentifier(d.entityLongId)))});
return a},_isSelected:function(a){return-1!==m.indexOf(this.value,a)}})})},"anaplan/dashboard/dashboardWidgets/_FunnelChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/Funnel","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._FunnelChart",[s,l],{})})},"anaplan/dashboard/dashboardWidgets/_Img":function(){define("anaplan/constants anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin anaplan/gridlet/ViewRequestCellModel anaplan/utils/LinkFormatter anaplan/utils/UIHelper anaplan/utils/UrlHelper dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/imageOptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return m([n,s],{baseClass:"dashboardImage",model:null,_enableImageOption:!0,INVALID_FORMAT:"invalidFormat",INVALID_URL:"invalidUrl",NO_URL:"noUrl",NOT_YET_CONFIGURED:"notYetConfigured",LOADING:"loading",constructor:function(a){this._args=a},postCreate:function(){this.inherited(arguments);this._dashboardImageMessage=g.create("div",{className:"dashboardImageMessage"},this.domNode);this.model||this._setContent(this.NOT_YET_CONFIGURED)},destroy:function(){this.inherited(arguments);
this.model&&this.model.deleteObserver(this)},resize:function(a){a&&d.setMarginBox(this.domNode,a)},resume:function(){this.model&&this.model.resume()},startup:function(){this.model&&this.model.addObserver(this)},suspend:function(){this.model&&this.model.suspend()},setGlobalContext:function(a,b){return this.model&&this.model.setPageSelectorEntityLongId(a.entityLongId,b)?(this._reset(),!0):!1},update:function(a){if(a[0]&&a[0].cells&&a[0].cells.count){var b=a[0].cells.cellValues[0];null===b?this._setContent(null):
this._assertFormat(a[0].cells.formats[0])?(a=(new q).parseCellValueAsLink(b,!1),k.isValidImageUrl(a.href)?(this._setContent(null),this.domNode.style.backgroundImage="url('"+a.href+"')"):this._setContent(this.INVALID_URL)):this._setContent(this._setContent(this.INVALID_URL))}else this._setContent(null)},updateImageOption:function(a){this._reset();this.model&&(this.model.deleteObserver(this),this.model.destroy(),this.model=null);if(a.viewDefinition){var b=new p({viewDefinition:a.viewDefinition});b.addObserver(this);
b.initialize();this.model=b}else this._setContent(this.NOT_YET_CONFIGURED);h.mixin(this._args,{value:a.value||"",viewDefinition:a.viewDefinition||null});this.onDashboardElementChange({value:this._args.value,viewDefinition:this._args.viewDefinition})},_assertFormat:function(a){return"TEXT"===a.dataType&&a.textType===l.textFormatType.DRILLTHRU_URI},_reset:function(){this._setContent(this.LOADING)},_setContent:function(d){this.domNode.style.backgroundImage="";var b=this.domNode;[this.INVALID_URL,this.NOT_YET_CONFIGURED,
this.LOADING].forEach(function(a){e.toggle(b,a,d===a)});f.setText(this._dashboardImageMessage,a[d]||"")}})})},"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(l,s,p,q,f,k,n,m){return s("dijit.ProgressBar",[k,n],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:m,_indeterminateHighContrastImagePath:l.toUrl("./themes/a11y/indeterminate_progress.gif"),
postMixInProperties:function(){this.inherited(arguments);this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(f){p.toggle(this.domNode,"dijitProgressBarRtl","rtl"==f);p.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&"rtl"==f);this.inherited(arguments)},
update:function(f){q.mixin(this,f||{});f=this.internalProgress;var e=this.domNode,g=1;this.indeterminate?e.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(g=Math.min(parseFloat(this.progress)/100,1),this.progress=g*this.maximum):(this.progress=Math.min(this.progress,this.maximum),g=this.maximum?this.progress/this.maximum:0),e.setAttribute("aria-valuenow",this.progress));e.setAttribute("aria-labelledby",this.labelNode.id);e.setAttribute("aria-valuemin",0);e.setAttribute("aria-valuemax",
this.maximum);this.labelNode.innerHTML=this.report(g);p.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);p.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());f.style.width=100*g+"%";this.onChange()},_setValueAttr:function(f){this._set("value",f);Infinity==f?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:f})},_setLabelAttr:function(f){this._set("label",f);this.update()},_setIndeterminateAttr:function(f){this._set("indeterminate",
f);this.update()},report:function(h){return this.label?this.label:this.indeterminate?"\x26#160;":f.format(h,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"anaplan/snav/bulkoperationfactory/SynchroniseHierarchy":function(){define("anaplan/data/ModelContentCache anaplan/snav/bulkoperationfactory/_bulkoperationmixin dojo/Stateful dojo/_base/declare dojo/_base/array dojo/_base/lang anaplan/data/ModelContentHelper dojo/i18n!anaplan/snav/nls/global".split(" "),function(l,
s,p,q,f,k,n,m){return q("anaplan.snav.bulkoperationfactory.synchronisehierarchy",[p,s],{associatedDataChanges:[],targetHierarchyEntityLongId:-1,entityLongId:-1,newPropertyHierarchyEntityLongId:-1,source0HierarchyEntityLongId:-1,source1HierarchyEntityLongId:-1,selectedItems:[],postCreate:function(){this.inherited(arguments)},_doSynchronise:function(){var h={actionId:"SYNCHRONISE_HIERARCHY",params:{modelId:modelId,targetHierarchyEntityLongId:this.targetHierarchyEntityLongId,source0HierarchyEntityLongId:this.source0HierarchyEntityLongId,
source1HierarchyEntityLongId:this.source1HierarchyEntityLongId,entityLongIds:f.map(f.filter(this.selectedItems,function(e){return e.isItemEditable}),function(e){return e.entityLongId}).join(),actionEntityLongId:this.actionEntityLongId}};return this._doGather([],[],[h])},_getNonMaintainableHierarchyEntityLongIds:function(){for(var h=[],e=this.targetHierarchyEntityLongId;-1<e&&e!=this.entityLongId;)h.push(e),e=l.getHierarchyInfo(e).parentHierarchyEntityLongId;var g=l.getUserInfo();return f.filter(h,
k.hitch(this,function(d){d=this._getEntityTypeIndexOfListItems(d);return-1==f.indexOf(g.entityTypeIndicesUserCanMaintain,d)}))},_isValid:function(){return 0===this._getNonMaintainableHierarchyEntityLongIds().length},_submit:function(h){if(f.some(this.selectedItems,function(e){return e.isItemEditable}))if(this._isValid())this._doSynchronise().then(k.hitch(this,function(e){if(2==e.length&&1==e[1].length)try{h.resolve(null)}catch(d){h.reject(d)}else h.reject("Invalid response")}),k.hitch(this,function(e){h.reject(e)}));
else{var e=n.getHierarchyLabel(l,this._getNonMaintainableHierarchyEntityLongIds()[0]);h.reject(k.replace(m.messageNoPermissionToMaintain,{list:e}))}else h.reject(m.messageNoPermission)}})})},"dijit/Toolbar":function(){define("require dojo/_base/declare dojo/has dojo/keys dojo/ready ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(l,s,p,q,f,k,n,m){p("dijit-legacy-requires")&&f(0,function(){l(["dijit/ToolbarSeparator"])});return s("dijit.Toolbar",[k,m,n],{templateString:'\x3cdiv class\x3d"dijit" role\x3d"toolbar" tabIndex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',
baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})})},"anaplan/charts/PagingColumnRange":function(){define(["anaplan/charts/ColumnRange","anaplan/charts/PagingChart","anaplan/charts/PagingChartModel","dojo/_base/declare"],function(l,s,p,q){return q("anaplan.charts.PagingColumnRange",[l,s],{constructor:function(f){f.model||(this._model=new p({viewDefinition:f.viewDefinition}))}})})},"anaplan/api/Services/Model":function(){define("dojo/_base/declare dojo/_base/lang anaplan/api/SystemActions/index anaplan/api/Services/Model/query anaplan/api/Services/Model/colourPalettes anaplan/api/Fetchers/index anaplan/api/Submissions/index anaplan/utils/JsHelper".split(" "),
function(l,s,p,q,f,k,n,m){var h=null;return l([],{lastModelActiveState:null,_queryCache:{},modelProperties:{syncableModelProperties:{},nonSyncableModelProperties:{}},constructor:function(e){h=e},setModelProperty:function(e,f,d){!e||m.isNullOrUndefined(f);var a=this.getModelProperty(e);return p.setModelProperty(e,f,a,d).then(function(a){this.modelProperties={nonSyncableModelProperties:m.parseObjectProperties(JSON.parse(a.modelProperties.nonSyncableModelProperties)),syncableModelProperties:m.parseObjectProperties(JSON.parse(a.modelProperties.syncableModelProperties))};
return this.getModelProperty(e)}.bind(this))},hasModelProperty:function(e){return!m.isNullOrUndefined(this.getModelProperty(e))},getModelProperty:function(e){if(!this.modelProperties)return null;var f=this.getSyncableModelProperties()[e];if(m.isNullOrUndefined(f)){if(f=this.getNonSyncableModelProperties()[e],!m.isNullOrUndefined(f))return f}else return f;return null},getSyncableModelProperties:function(){return this.modelProperties.syncableModelProperties||{}},getNonSyncableModelProperties:function(){return this.modelProperties.nonSyncableModelProperties||
{}},getModelProperties:function(){return s.mixin({},this.getSyncableModelProperties(),this.getNonSyncableModelProperties())},getApplicationProperties:function(){return p.getApplicationProperties()},getEntitlements:function(){return p.getEntitlements()},hasEntitlement:function(e){return this.getEntitlements().then(function(f){return-1<f.indexOf(e)})},getCurrentActiveState:function(){return p.getCurrentActiveState()},notifyOpenPage:function(e){return p.notifyOpenPage(e)},restore:function(e){return p.restore(e)},
getAuditLog:function(e){return p.getAuditLog(e)},getLoggedInUser:function(){return p.getLoggedInUser()},getUsers:function(e){if(e)return p.getUsersInModel(e);console.error("Accepted params: modelId:string")},syncRevisions:function(e){if(e)return p.syncRevisions(e);console.error("Accepted params: { targetWorkspaceId:string, targetModelId:string, sourceWorkspaceId:string, sourceModelId:string, sourceRevisionId:string, targetRevisionId:string  }")},syncRevisionsProgress:function(e){if(e)return p.syncRevisionsProgress(e);
console.error("Accepted params: { modelId:string, taskId:string, workspaceId:string }")},syncCompareRevisions:function(e){if(e)return p.syncCompareRevisions(e);console.error("Accepted params: { targetWorkspaceId:string, targetModelId:string, sourceWorkspaceId:string, sourceModelId:string, sourceRevisionId:string, targetRevisionId:string  }")},syncCompareRevisionsProgress:function(e){if(e)return p.syncCompareRevisionsProgress(e);console.error("Accepted params: { modelId:string, taskId:string, workspaceId:string }")},
getRevisions:function(e){if(e)return p.getModelRevisions(e);console.error("Accepted params: { modelId:string, workspaceId:string }")},createRevision:function(e){if(e)return p.createModelRevision(e);console.error("Accepted params: { modelId:string, revisionName:string, description:string }")},getSyncSourceInfo:function(e){if(e)return p.getSyncSourceInfo(e);console.error("Accepted params: modelId:string")},getSyncPairRevisionInfo:function(e){if(e)return p.getSyncPairRevisionInfo(e);console.error("Accepted params: { sourceModelId:string,targetModelId:string,sourceWorkspaceId:string,targetWorkspaceId:string }")},
getCurrentModelSerialNumber:function(){return p.getCurrentModelSerialNumber()},setActiveState:function(e){if(e)return p.setModelActiveState(e);console.error("Accepted params: { modelId:string,activeState:string,currentActiveState:string }")},getColourPalettes:function(){return f.getColourPalettes()},updateColourPalette:function(e,g){if(!e||!m.isObject(e))console.error("Accepted params: { id:entityLongId, colours:String[] }, isSelected:boolean");else return f.updateColourPalette(e,g)},createColourPalette:function(e,
g){if(e)return f.createColourPalette(e,g);console.error("Accepted name:string, params: { colours:String[], isSelected:boolean }")},updateSelectedPalette:function(e){if(e)return f.updateSelectedPalette(e);console.error("Accepted selectedId:entityLongId")},query:function(e){var f=m.checksum(e);if(this._queryCache[f])return this._queryCache[f];if(q.validate(e,h)){var d=[],a;for(a in e)if(e.hasOwnProperty(a)){var k=e[a];q.validateTypeQuery(h,k)&&(k=q.execute(h,a,k),d=d.concat(k))}return this._queryCache[f]=
d}},resetCache:function(){for(var e in this._queryCache)this._queryCache.hasOwnProperty(e)&&delete this._queryCache[e]},revertToLastRevision:function(e,f,d){return p.revertToLastRevision(e,f,d)},graphql:function(){var e=window.location.pathname.replace(/\/\s*$/,"").split("/");window.open(("anaplan"===e[1]?"":"/"+e[1])+"/anaplan/graphiql/?workspaceGuid\x3d"+window.workspaceId+"\x26modelGuid\x3d"+window.modelId,"_blank").focus()}})})},"anaplan/widgets/TokenInput/_FilteringSelect":function(){define("anaplan/widgets/TokenInput/_FilteringSelectMenu dijit/popup dijit/place dijit/form/FilteringSelect dojo/data/util/filter dojo/_base/declare dojo/when dojo/window dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/dom-class dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return k(q,{dropDownClass:l,queryExpr:"*${0}*",constructor:function(){this._stopClickEvents=!0},closeDropDown:function(){this.inherited(arguments)},onMultiSelect:function(){},loadDropDown:function(){this._startSearchFromInput()},openDropDown:function(){var a=this.dropDown,b=a.domNode,f=this._aroundNode||this.domNode,k=this;this._preparedNode||(this._preparedNode=!0,b.style.width&&(this._explicitDDWidth=!0),b.style.height&&(this._explicitDDHeight=!0));if(this.maxHeight||
this.forceWidth||this.autoWidth){var l={display:"",visibility:"hidden"};this._explicitDDWidth||(l.width="");this._explicitDDHeight||(l.height="");g.set(b,l);l=this.maxHeight;if(-1===l)var l=m.getBox(this.ownerDocument),n=e.position(f,!1),l=Math.floor(Math.max(n.y,l.h-(n.y+n.h)));s.moveOffScreen(a);a.startup&&!a._started&&a.startup();var n=e.getMarginSize(b),p=l&&n.h>l;g.set(b,{overflowX:"visible",overflowY:p?"auto":"visible"});p?(n.h=l,"w"in n&&(n.w+=16)):delete n.h;this.forceWidth?n.w=f.offsetWidth:
this.autoWidth?n.w=Math.max(n.w,f.offsetWidth):delete n.w;"function"===typeof a.resize?a.resize(n):e.setMarginBox(b,n)}a=s.open({parent:this,popup:a,around:f,orient:this.dropDownPosition,onCancel:function(){k.closeDropDown(!0)},onClose:function(){h.set(k._popupStateNode,"popupActive",!1);d.remove(k._popupStateNode,"dijitHasDropDownOpen");k._set("_opened",!1)}});h.set(this._popupStateNode,"popupActive","true");d.add(k._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this.domNode.setAttribute("aria-expanded",
"true");return a},repositionAndResizeDropDown:function(){var d=this.dropDown,b=d.domNode,f=b.parentNode,h=this._aroundNode||this.domNode,k=b.scrollTop;if(this.maxHeight||this.forceWidth||this.autoWidth){var l={};this._explicitDDWidth||(l.width="");this._explicitDDHeight||(l.height="");g.set(b,l);l=this.maxHeight;if(-1===l)var l=m.getBox(this.ownerDocument),n=e.position(h,!1),l=Math.floor(Math.max(n.y,l.h-(n.y+n.h)));var n=e.getMarginSize(b),q=l&&n.h>l;g.set(b,{overflowX:"visible",overflowY:q?"auto":
"visible"});q?(n.h=l,"w"in n&&(n.w+=16)):delete n.h;this.forceWidth?n.w=h.offsetWidth:this.autoWidth?n.w=Math.max(n.w,h.offsetWidth):delete n.w;"function"===typeof d.resize?d.resize(n):e.setMarginBox(b,n)}this._repositioning=!0;p.around(f,h,this.dropDownPosition,d.orient?a.hitch(d,"orient"):null);this._repositioning=!1;b.scrollTop=k},_announceOption:function(a,b){if(a)if(this.focusNode.setAttribute("aria-activedescendant",h.get(a,"id")),a===this.dropDown.nextButton||a===this.dropDown.previousButton)this.item=
void 0,this.value="";else{var d=this.dropDown.items[a.getAttribute("item")],e=(this.store._oldAPI?this.store.getValue(d,this.searchAttr):d[this.searchAttr]).toString();b&&this.set("item",d,!1,e)}},_announceMultipleOptions:function(a){if(a&&a.length){for(var b=[],d,e=0,f=a.length;e<f;e++)d=a[e],d!==this.dropDown.nextButton&&d!==this.dropDown.previousButton&&b.push(d.item);this.onMultiSelect(b)}},_getMenuStyleFromItem:function(a){return{styleAttr:"",classAttr:this.store.getValue(a,"tokenInputSelected",
!1)?"tokenInputMenuItemSelected":""}},_onBlur:function(){this._repositioning||this.inherited(arguments)},_openResultList:function(d,b,e){var f=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!d.length&&0===e.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=a.hitch(this,function(a){d.nextPage(-1!==a);this.focus()}),this.dropDown.createOptions(d,e,a.hitch(this,"_getMenuLabelFromItem"),a.hitch(this,"_getMenuStyleFromItem"),a.hitch(this,"_setDomNodeInItem")),this._showResultList(),
"direction"in e?(e.direction?this.dropDown.highlightFirstOption():e.direction||this.dropDown.highlightLastOption(),f&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&(!this._prev_key_backspace&&!/^[*]+$/.test(b[this.searchAttr].toString()))&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling));void 0===this.item&&this.validate(!0)},_selectOption:function(a,b){var d=this.dropDown.getMultiSelectNodes();1<d.length?this._announceMultipleOptions(d):a&&
this._announceOption(a,!0);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_setDisplayedValueAttr:function(d,b){d=d||"";if(!this._created){if(!("displayedValue"in this.params))return;b=!1}if(this.store){var e=a.clone(this.query),g=this._getDisplayQueryString(d),h;this.store._oldAPI?h=g:(h=f.patternToRegExp(g,this.ignoreCase),h.toString=function(){return g});this._lastQuery=e[this.searchAttr]=h;this._lastDisplayedValue=this.textbox.value=d;this._set("displayedValue",
d);var k=this,m={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};a.mixin(m,this.fetchProperties);this._fetchHandle=this.store.query(e,m);n(this._fetchHandle,function(a){k._fetchHandle=null;k._callbackSetLabel(a||[],e,m,b)},function(a){k._fetchHandle=null;k._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},_setDomNodeInItem:function(a,b){this.store.setValue(b,"domNode",a)},_setValueAttr:function(){var a=this._lastQuery;this.inherited(arguments);this._lastQuery=a}})})},
"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,s,p){var q=l.some;return function(f){var k,l;f instanceof Array?l=f:f&&"object"===typeof f&&(k=f);var m,h=[];if(k){l=[];for(var e in k)Object.hasOwnProperty.call(k,e)&&(h.push(e),l.push(k[e]));m={}}else l&&(m=[]);if(!l||!l.length)return(new s).resolve(m);var g=new s;g.promise.always(function(){m=h=null});var d=l.length;q(l,function(a,e){k||h.push(e);p(a,function(a){g.isFulfilled()||(m[h[e]]=a,0===--d&&g.resolve(m))},
g.reject);return g.isFulfilled()});return g.promise}})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var s={linear:function(l){return l},quadIn:function(l){return Math.pow(l,2)},quadOut:function(l){return-1*l*(l-2)},quadInOut:function(l){l*=2;return 1>l?Math.pow(l,2)/2:-1*(--l*(l-2)-1)/2},cubicIn:function(l){return Math.pow(l,3)},cubicOut:function(l){return Math.pow(l-1,3)+1},cubicInOut:function(l){l*=2;return 1>l?Math.pow(l,3)/2:(Math.pow(l-2,3)+2)/2},quartIn:function(l){return Math.pow(l,
4)},quartOut:function(l){return-1*(Math.pow(l-1,4)-1)},quartInOut:function(l){l*=2;return 1>l?Math.pow(l,4)/2:-0.5*(Math.pow(l-2,4)-2)},quintIn:function(l){return Math.pow(l,5)},quintOut:function(l){return Math.pow(l-1,5)+1},quintInOut:function(l){l*=2;return 1>l?Math.pow(l,5)/2:(Math.pow(l-2,5)+2)/2},sineIn:function(l){return-1*Math.cos(l*(Math.PI/2))+1},sineOut:function(l){return Math.sin(l*(Math.PI/2))},sineInOut:function(l){return-1*(Math.cos(Math.PI*l)-1)/2},expoIn:function(l){return 0==l?0:
Math.pow(2,10*(l-1))},expoOut:function(l){return 1==l?1:-1*Math.pow(2,-10*l)+1},expoInOut:function(l){if(0==l)return 0;if(1==l)return 1;l*=2;if(1>l)return Math.pow(2,10*(l-1))/2;--l;return(-1*Math.pow(2,-10*l)+2)/2},circIn:function(l){return-1*(Math.sqrt(1-Math.pow(l,2))-1)},circOut:function(l){return Math.sqrt(1-Math.pow(l-1,2))},circInOut:function(l){l*=2;return 1>l?-0.5*(Math.sqrt(1-Math.pow(l,2))-1):0.5*(Math.sqrt(1-Math.pow(l-2,2))+1)},backIn:function(l){return Math.pow(l,2)*(2.70158*l-1.70158)},
backOut:function(l){l-=1;return Math.pow(l,2)*(2.70158*l+1.70158)+1},backInOut:function(l){l*=2;if(1>l)return Math.pow(l,2)*(3.5949095*l-2.5949095)/2;l-=2;return(Math.pow(l,2)*(3.5949095*l+2.5949095)+2)/2},elasticIn:function(l){if(0==l||1==l)return l;l-=1;return-1*Math.pow(2,10*l)*Math.sin((l-0.075)*2*Math.PI/0.3)},elasticOut:function(l){return 0==l||1==l?l:Math.pow(2,-10*l)*Math.sin((l-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(l){if(0==l)return 0;l*=2;if(2==l)return 1;var q=0.3*1.5,f=q/4;if(1>
l)return l-=1,-0.5*Math.pow(2,10*l)*Math.sin((l-f)*2*Math.PI/q);l-=1;return 0.5*Math.pow(2,-10*l)*Math.sin((l-f)*2*Math.PI/q)+1},bounceIn:function(l){return 1-s.bounceOut(1-l)},bounceOut:function(l){l<1/2.75?l=7.5625*Math.pow(l,2):l<2/2.75?l=7.5625*Math.pow(l-1.5/2.75,2)+0.75:l<2.5/2.75?(l-=2.25/2.75,l=7.5625*Math.pow(l,2)+0.9375):(l-=2.625/2.75,l=7.5625*Math.pow(l,2)+0.984375);return l},bounceInOut:function(l){return 0.5>l?s.bounceIn(2*l)/2:s.bounceOut(2*l-1)/2+0.5}};l.setObject("dojo.fx.easing",
s);return s})},"anaplan/snav/bulkoperationfactory/DefineEntitiesDelegate":function(){define("anaplan/utils/EntityLongIdHelper anaplan/snav/bulkoperationfactory/_multiselectdelegate dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/i18n!anaplan/snav/nls/global".split(" "),function(l,s,p,q,f,k){return p("anaplan.snav.bulkoperationfactory.defineentitiesdelegate",[s],{associatedDataChange:null,parentHierarchyEntityLongId:-1,includeInSubsetEntityLongIds:[],promptToShowNewlyCreatedItems:!1,postCreate:function(){this.inherited(arguments);
this._addClass("bulkoperation bulkoperation"+this.operation)},_doCreate:function(f){var k=q.map(f,function(e){return l.getEntityIndex(e)}).join(),h=null,h=(h=this.associatedDataChange)?{actionId:"DEFINE_ENTITIES_AND_SET_DATA",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityCount:f.length,parentEntityIndices:k,includeInSubsetEntityLongIds:this.includeInSubsetEntityLongIds.join(),lineItemOrPropertyEntityLongId:h.entityLongId,lineItemOrPropertyCellText:this._replacePlaceholders(h.cellText)}}:
{actionId:"DEFINE_ENTITIES",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityCount:f.length,parentEntityIndices:k,includeInSubsetEntityLongIds:this.includeInSubsetEntityLongIds.join(),actionEntityLongId:this.actionEntityLongId}};return this._doGather([],[],[h])},_getMultiSelectHierarchyEntityLongId:function(){return this.parentHierarchyEntityLongId},_submit:function(l){if(this._isValid()){var m=this._multiSelect.get("value");this._doCreate(m).then(f.hitch(this,
function(f){l.resolve(f[1][0])}),f.hitch(this,function(f){l.reject(f)}))}else l.reject(k.messageInvalidSelection)}})})},"anaplan/api/SystemActions/ProgressSyncRevisions":function(){define(["dojo/_base/declare","./Base/PlainRequest","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.modelId)||""===this._params.modelId?f.errors.modelIdIsRequired:
!p.isString(this._params.workspaceId)||""===this._params.workspaceId?f.errors.workspaceIdRequired:!p.isString(this._params.taskId)||""===this._params.taskId?f.errors.taskIsRequied:this.inherited(arguments)},buildRequestObject:function(){return{workspaceId:this._params.workspaceId,modelId:this._params.modelId,taskId:this._params.taskId}},parseResponse:function(f){return f}})})},"anaplan/api/Entities/Base/FetchableEntity":function(){define(["dojo/_base/declare","./LabelPageWithInfos","dojo/_base/lang",
"dojo/Deferred"],function(l,s,p,q){return l([s],{fetchById:function(f){var k=new q;this.fetchItemById(f).then(function(f){k.resolve(new this._entityClass(f))}.bind(this),k.reject);return k.promise},fetchItemById:function(f){var k=new q,l=this.getItemById(f);if(l.exists)k.resolve(l);else return this._fetcher.fetchById(f);return k.promise},fetchAll:function(){return this._fetcher.fetchAll()}})})},"anaplan/charts/ColumnRange":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/FormatHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/date/stamp dojo/i18n!anaplan/nls/chartOptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return n([l],{constructor:function(){this.ERROR_COLOUR_BACKGROUND="#606060";this._initialiseColors()},_calculateNumberOfMonthsInDateRange:function(d,a){var e,b=new Date(d),f=new Date(a);e=12*(f.getFullYear()-b.getFullYear());e-=b.getMonth()+1;e+=f.getMonth()+1;return 0>=e?0:e},_getChartOptions:function(d,a){this._initialiseColors();var f=this._highchartsOptions.columnRange,b=f.axisTitle||"";b||(f.axisTitle="");var g=f.axisStart,k=f.axisEnd,l=e.fromISOString(g),n=e.fromISOString(k),
k=l.getTime(),q=g,g=n.getTime();if(-1===l||-1===n||l>=n)return null;var s=l.getMonth(),x=l.getFullYear(),A=this._calculateNumberOfMonthsInDateRange(k,g),l=1,n="{value:%b %y}",D=0;"week"===f.gridLines?(n="{value:%d %b %y}",D=-45,3<A&&6>=A?l=2:6<A&&12>=A?l=4:12<A&&24>=A?l=8:24<A&&(l=12)):(k=(new Date(x,s,1)).getTime(),q=h.format(new Date(x,s,1),{datePattern:"yyyy-MM-dd",selector:"date"}),13<A&&(D=-45),36<A&&(l=2));this._highchartsOptions.columnRange.calculatedAxisStart=q;q=this._getColumnRangeSeries(d,
a,k,g);if(!this._assertSeries(q))return null;s=m.hitch(this,function(a,b){return this._getTickPositioner(a,b,f)});return{chart:{renderTo:this._chartContainer,type:"columnrange",inverted:!0},title:{text:this._getTitle(d)},xAxis:this._getXAxisOptions(d),yAxis:{min:k,max:g,opposite:!0,type:"date",title:{text:b,style:{fontWeight:"bold"}},endOnTick:!1,labels:{align:"left",format:n,rotation:D,step:l},tickPositioner:s},plotOptions:{series:{animation:!1,borderWidth:0,borderColor:"transparent",borderRadius:0,
pointWidth:23}},legend:{enabled:!1,y:p.chartOptions.legendYPosition.DEFAULT},series:q,tooltip:{enabled:!0,useHTML:!0,formatter:function(){return this.point.toolTip}}}},_getColor:function(d){this._colors.hasOwnProperty(d)||(this._lastColorIndex++,this._lastColorIndex>this.COLORS.length-1&&(this._lastColorIndex=0),this._colors[d]=this.COLORS[this._lastColorIndex]);return this._colors[d]},_getColumnRangeSeries:function(d,a,e,b){return[{animation:!1,data:this._getSeriesData(d,a,e,b),name:"Activities"}]},
_getErrorMessage:function(d,a){return!d&&!a?"("+g.labelStartEndDateMissing+")":a?d?d>a?"("+g.labelStartDateLaterEnd+")":a===d?"("+g.labelStartDateEqualEndDate+")":"Invalid Data":"("+g.labelStartDateMissing+")":"("+g.labelEndDateMissing+")"},_getSeriesData:function(d,a,f,b){if(!this._highchartsOptions)return null;var g=this._highchartsOptions.columnRange,h=d.columns.entityLongIds[0];a=k.indexOf(h,g.startPoint);for(var l=k.indexOf(h,g.endPoint),m=k.indexOf(h,g.groupBy),n=k.indexOf(h,g.barLabel),g=k.map(g.toolTip,
function(a){return k.indexOf(h,a)}),p=[],q=d.cells.cellValues,A=d.cells.cellText,D=0;D<d.rows.count;D++){var E={low:null,high:null,toolTip:!1,dataLabels:{enabled:!1,align:"left",color:"white",crop:!1,verticalAlign:"middle",style:{textOutline:!1},formatter:function(){return this.y!==this.point.low?"":this.point.barLabel}}};if(-1<a&&-1<l){var B=D*d.dataColumnCount,C=0,G=0;q[B+a]&&(C=e.fromISOString(q[B+a]));q[B+l]&&(G=e.fromISOString(q[B+l]));var H=!!C,L=!!G,F=Math.max(0,(C||new Date).getTime()),K=
Math.min((G||new Date).getTime(),b),J="";E.dataLabels.enabled=!0;-1<n&&(J=s.getLabel(A[B+n]||""));-1<m&&(E.color=this._getColor(q[B+m]));void 0===E.color&&(E.color=null);H&&L&&G>=C?(E.low=Math.max(F,f),E.high=Math.min(K,b),E.barLabel=J):(!H&&L?(E.low=f,E.high=Math.min(K,b)):H&&!L?(E.low=Math.max(F,f),E.high=b):(E.low=f,E.high=b,E.color=this.ERROR_COLOUR_BACKGROUND),E.barLabel=J+" "+this._getErrorMessage(C,G));E.toolTip=s.getTooltips(g,d,D)}E.low>E.high&&(E.barLabel="");p.push(E)}return p},_getTickPositioner:function(d,
a,e){e=e.gridLines;for(var b=new Date(d),f=b.getDate(),g=b.getMonth(),b=b.getFullYear(),h=[d];d<=a;)"week"===e?(f+=7,d=(new Date(b,g,f)).getTime()):(g+=1,d=(new Date(b,g,1)).getTime()),h.push(d);return h},_getXAxisOptions:function(d){var a=this._highchartsOptions.columnRange,e=a.yAxisWidth||80,a=a.fixedWidth,b="width:"+e+"px;",g={width:e+"px"};"fixed"!==a&&(b="max-width:"+e+"px !important");"fixed"!==a&&(g={width:e+"px"});return{categories:k.map(d.rows.labels[0],function(a){return s.getLabel(a)}),
labels:{align:"right",formatter:function(){var a=f.escapeHTML(s.unescapeLabel(this.value));return'\x3cspan class\x3d"truncateText" style\x3d"'+b+'" title\x3d"'+a+'"\x3e'+this.value+"\x3c/span\x3e"},style:g,useHTML:!0},tickWidth:0}},setChartOptions:function(d){var a=this._model,e=s.getEntityLongIdIdentifiersForChartOptions(p.chartType.COLUMNRANGE,d.columnRange),b=a.getViewDefinition();a.isLineItemsOnColumns()?(b.columnAxisSpecification=q.removeSelectionFromAxisSpecification(b.columnAxisSpecification),
b.columnAxisSpecification=q.addSelectionToAxisSpecification(b.columnAxisSpecification,"SHOW",e)):a.isLineItemsOnRows()&&(b.rowAxisSpecification=q.removeSelectionFromAxisSpecification(b.rowAxisSpecification),b.rowAxisSpecification=q.addSelectionToAxisSpecification(b.rowAxisSpecification,"SHOW",e));a.reset();a.setViewDefinition(b);this._highchartsOptions=d},_updateSeries:function(d,a){var f=this._getColumnRangeSeries(d,a,e.fromISOString(this._highchartsOptions.columnRange.calculatedAxisStart).getTime(),
e.fromISOString(this._highchartsOptions.columnRange.axisEnd).getTime());if(!this._assertSeries(f))return!1;this._highChart.series[0].setData(f[0].data,!1);return!0},_initialiseColors:function(){this.COLORS=Highcharts.getOptions().colors;this._lastColorIndex=-1;this._colors={}}})})},"anaplan/widgets/PivotComponent/_LineItemsDialog":function(){define("dojo/_base/declare dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/i18n!anaplan/nls/pivotComponent dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/LineItemsDialog.html anaplan/widgets/SimpleTextarea anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m){return l([p,q,f,s],{baseClass:"lineItemsDialog",templateString:m,templatePath:null,widgetsInTemplate:!0,onCancel:function(){},onSetLineItems:function(){},postCreate:function(){this.inherited(arguments);this.itemNamesTextArea.set("title",k.tooltipItemNamesTextArea);this.itemNamesTextArea.set("promptMessage",k.placeholderLineItems);this.itemNamesTextArea.set("tooltipPosition",["below","after"]);this.okButton.set("label",n.buttonOk);this.cancelButton.set("label",n.buttonCancel)},
_getValueAttr:function(){return this.itemNamesTextArea.get("value")},_onCancelButtonClick:function(){this.onCancel()},_onOkButtonClick:function(){this.onSetLineItems(this.itemNamesTextArea.get("value"))},_setValueAttr:function(f){this.itemNamesTextArea.set("value",f)}})})},"dojox/encoding/base64":function(){define(["dojo/_base/lang"],function(l){l=l.getObject("dojox.encoding.base64",!0);l.encode=function(l){for(var p=[],q=l.length,f=q%3,q=q-f,k=0;k<q;){var n=l[k++]<<16|l[k++]<<8|l[k++];p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>
18&63));p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>12&63));p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>6&63));p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n&63))}switch(f){case 2:n=l[k++]<<16|l[k++]<<8;p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>18&63));p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>12&
63));p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>6&63));p.push("\x3d");break;case 1:n=l[k++]<<16,p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>18&63)),p.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>>12&63)),p.push("\x3d"),p.push("\x3d")}return p.join("")};l.decode=function(l){l=l.split("");for(var p=[],q=l.length;"\x3d"==l[--q];);for(var f=0;f<q;){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(l[f++])<<
18;f<=q&&(k|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(l[f++])<<12);f<=q&&(k|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(l[f++])<<6);f<=q&&(k|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(l[f++]));p.push(k>>>16&255);p.push(k>>>8&255);p.push(k&255)}for(;0==p[p.length-1];)p.pop();return p};return l})},"anaplan/widgets/Tree/PageLink":function(){define(["anaplan/widgets/_WidgetMixin","anaplan/widgets/_DomVisibleMixin",
"dojo/_base/declare","dojo/dom-class","dijit/_WidgetBase"],function(l,s,p,q,f){return p([f,l,s],{label:"",postCreate:function(){q.add(this.domNode,"anaplanTreePageLink")},_setLabelAttr:function(f){this._set("label",f);this.setText(this.domNode,f)}})})},"anaplan/snav/bulkoperationfactory/SimpleCreateDelegate":function(){define("anaplan/snav/listitemloader anaplan/utils/EntityLongIdHelper dijit/_WidgetBase anaplan/snav/bulkoperationfactory/_bulkoperationmixin dojo/_base/declare anaplan/snav/listitemloader dojo/dom-construct dojo/_base/array dojo/Deferred dojo/_base/lang dojo/i18n!anaplan/snav/nls/global".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return f("anaplan.snav.bulkoperationfactory.simplecreatedelegate",[p,q],{dashboardEntityLongId:-1,hierarchyEntityLongId:-1,includeInSubsetEntityLongIds:[],parentHierarchyEntityLongId:-1,selectedItems:null,postCreate:function(){this.inherited(arguments);!1==this._isNumberedList&&n.place(document.createTextNode(g.messageNumberedListExpected),this.domNode)},_doNumberedCreate:function(d){var a=this._getEntityTypeIndexOfListItems(this.parentHierarchyEntityLongId);if(m.some(d,
function(b){return s.getEntityTypeIndex(b.entityLongId)==a})){var f=m.map(d,function(a){return s.getEntityIndex(a.entityLongId)}).join();d={actionId:"DEFINE_ENTITIES",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityCount:d.length,parentEntityIndices:f,includeInSubsetEntityLongIds:this.includeInSubsetEntityLongIds.join(),actionEntityLongId:this.actionEntityLongId}};return this._doGather([],[],[d])}var b=new h;(new l({hierarchyEntityLongId:this.hierarchyEntityLongId})).getListItems(d).then(e.hitch(this,
function(a){a=a.rowLabelPages[0];if(1==a.count){var d=m.indexOf(a.isItemEditable[0],!0);-1<d?(a=a.parentEntityLongIds[0][d],a={actionId:"DEFINE_ENTITIES",params:{modelId:modelId,entityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),entityCount:1,parentEntityIndices:s.getEntityIndex(a),includeInSubsetEntityLongIds:this.includeInSubsetEntityLongIds.join(),actionEntityLongId:this.actionEntityLongId}},this._doGather([],[],[a]).then(function(a){b.resolve(a)},function(a){b.reject(a)})):
b.reject(g.messageParentItemNotEditable)}else b.reject(g.messageInvalidSelection)}),e.hitch(this,function(a){b.reject(a)}));return b},_isValid:function(){return this._isNumberedList&&this.selectedItems&&this.selectedItems.length},_setHierarchyEntityLongIdAttr:function(d){this.hierarchyEntityLongId=d;this._isNumberedList=this._assertIsNumberedList(d)},_setSelectedItemsAttr:function(d){this.selectedItems=m.filter(d,function(a){return a.isItemEditable})},_submit:function(d){this._isValid()?this._doNumberedCreate(this.selectedItems).then(e.hitch(this,
function(a){d.resolve(e.mixin(a[1][0]))}),e.hitch(this,function(a){d.reject(a)})):d.reject(g.messageNoPermission)}})})},"anaplan/charts/ChartFactory":function(){define("dojo/_base/lang anaplan/charts/Column anaplan/charts/Funnel anaplan/charts/Line anaplan/charts/Map anaplan/charts/PagingColumnRange anaplan/charts/Pie anaplan/charts/Waterfall anaplan/charts/ReactChartBridge anaplan/constants".split(" "),function(l,s,p,q,f,k,n,m,h,e){var g={getChart:function(d){var a=d.chartType,g=e.chartType;a===
g.PIE?d=new n(d):a===g.LINE?d=new q(d):a===g.COLUMN?d=new s(d):a===g.COLUMNRANGE?d=new k(d):a===g.MAP?d=new f(d):a===g.WATERFALL?d=new m(d):a===g.COMBINATION?d=new h(d):a===g.FUNNEL?d=new p(d):(console.warn("Unsupported chart type "+d.chartType),d=null);return d}};l.exists("anaplan.charts")&&(anaplan.charts.ChartFactory=g);return g})},"anaplan/view/InsertActions/_Widget":function(){define("anaplan/utils/UIHelper anaplan/gridlet/_editor/ActionEditor anaplan/view/FastInsert/_Widget dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n!anaplan/nls/insertActions dojo/on dojo/string dojo/text!anaplan/templates/InsertActions.html dijit/form/TextBox anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return q("anaplan.view.InsertActions._Widget",[p],{baseClass:"actionEditorDialog actionInsertDialog",templateString:a,constructor:function(a){this._actionArgs=a;this._autogenerateName=!0;this.actionEditorLabel=this.getActionEditorLabel(a.actionType)},postCreate:function(){try{this.inherited(arguments);h.set(this.positionSelect,"display","none");h.set(this.relativeToItemName,"display","none");this._actionEditor=(new s.Factory).getActionEditor(this._actionArgs);var a=
g(this._actionEditor,"Complete",f.hitch(this,"_onComplete"));this.own(a);n.add(this.actionEditor,this._actionEditor.baseClass);m.place(this._actionEditor.domNode,this.helpMessage,"before");this._actionEditor.insertPostAttach&&this._actionEditor.insertPostAttach()}catch(b){l.throwClientException(this,b)}},getParameters:function(){return this._actionEditor.getValue()},isValid:function(){return!this._actionEditor||!this._actionEditor.isValid()?!1:!0},onComplete:function(){},uninitialize:function(){this._actionEditor&&
this._actionEditor.destroy()},nonDashboardActions:{DELETE_BY_SELECTION:!0},getActionEditorLabel:function(a){return a in this.nonDashboardActions?e.labelActionNameNonDashboard:e.labelActionName},_getItemNamesTitle:function(){return e.tooltipItemNamesTextArea},_onComplete:function(a,b){if(this._autogenerateName||0===d.trim(this.itemNamesTextArea.get("value")).length){var f=[e.actionNameDeleteFrom,a,e.actionNameUsing,b].join(" ");60<f.length&&(f=f.substring(0,60));k.set(this.itemNamesTextArea,"value",
f);this._autogenerateName=!0}this.onComplete()},_onItemNamesKeyPress:function(){this._autogenerateName=!1}})})},"anaplan/dashboard/dashboardWidgets/_Text":function(){define("anaplan/utils/FormatHelper anaplan/data/ModelContentCache anaplan/format/util anaplan/Exceptions anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin dojo/_base/declare dijit/_WidgetBase dojo/dom-geometry".split(" "),function(l,s,p,q,f,k,n,m){return k("anaplan.dashboard.dashboardWidgets._Text",[n,f],{baseClass:"dashboardText",
constructor:function(f){try{this._value=f.value||null,this._isEditable=f.isEditable||!1,this._titleCellFormat=f.titleCellFormat||null}catch(e){throw new q.ClientException("anaplan.dashboard._Text.constructor",e);}},postCreate:function(){try{if(this.inherited(arguments),this._value){if(this._titleCellFormat){var f=this._titleCellFormat;this._value=this._value.replace(/<span class='titleCellToFormat'>(.*?)<\/span>/,function(e,d){var a=d;switch(f.dataType){case "NUMBER":isFinite(d)&&(a=p.applyFormat(d,
f,s.getAllCurrenciesLabelPage()));break;case "DATE":a=p.formatDateCellText(d)}return l.escapeHTML(l.unescapeHTML(a))})}this.domNode.innerHTML=this._value}}catch(e){throw new q.ClientException("anaplan.dashboard._Text.postCreate",e);}},resize:function(f){try{f&&m.setMarginBox(this.domNode,{h:f.h,w:f.w})}catch(e){throw new q.ClientException("anaplan.dashboard._Text.resize",e);}}})})},"anaplan/widgets/GridSelection":function(){define("anaplan/utils/UIHelper dijit/_WidgetBase dijit/_TemplatedMixin anaplan/Exceptions dojo/_base/declare dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/on dojo/has dojo/_base/lang dojo/_base/array dojo/_base/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){var a={BORDER_NONE:0,BORDER_TOP:1,BORDER_RIGHT:2,BORDER_BOTTOM:4,BORDER_LEFT:8,DECORATOR_STYLE_NONE:null,DECORATOR_STYLE_DROPDOWN:"decoratorStyleDropDown",DECORATOR_STYLE_ELLIPSIS:"decoratorStyleEllipsis",CURSOR_STYLE_POINTER:"link"};s=f("anaplan.widgets.GridSelection",[s,p],{baseClass:"gridSelection",borders:0,decoratorStyle:null,display:!0,isValidLink:!1,templateString:'\x3cdiv\x3e\x3cdiv class\x3d"selectionButton" data-dojo-attach-point\x3d"selectionButton"\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(){this._connections=[]},connectEventHandler:function(a,b,d,e){this._connections.push(h(a,b.replace(/^on/,""),g.hitch(d,e)))},moveTo:function(a,b){try{var d=m.getMarginBox(a);if(b){var f=m.getMarginBox(b);d.w=f.l+f.w-d.l;d.h=f.t+f.h-d.t}if(e("webkit")){var g=m.position(a);if(b){var h=m.position(b);g.w=h.x+h.w-g.x;g.h=h.y+h.h-g.y}var k=n.getComputedStyle(this.domNode),l=m.getPadExtents(this.domNode,k),p=m.getBorderExtents(this.domNode,k);n.set(this.domNode,{top:d.t+"px",left:d.l+
"px",width:g.w-p.w/2-l.w+"px",height:g.h-p.h/2-l.h+"px"});if(e("webkit")&&(e("ios")||e("android")))this.domNode.style.display="none",this.domNode.style.display="block"}else m.setMarginBox(this.domNode,d)}catch(s){throw new q.ClientException("anaplan.widgets.GridSelection.moveTo",s);}},postCreate:function(){this.inherited(arguments);this._applyBorders();this._applyDecoratorStyle();this._applyDisplay()},uninitialize:function(){d.forEach(this._connections,function(a){a.remove()});this.inherited(arguments)},
_applyBorders:function(){if(this.domNode){var d=this.borders;k.toggle(this.domNode,"selectionbordertop",d&a.BORDER_TOP);k.toggle(this.domNode,"selectionborderright",d&a.BORDER_RIGHT);k.toggle(this.domNode,"selectionborderbottom",d&a.BORDER_BOTTOM);k.toggle(this.domNode,"selectionborderleft",d&a.BORDER_LEFT)}},_applyCursorStyle:function(){this.domNode&&k.toggle(this.domNode,a.CURSOR_STYLE_POINTER,this.isValidLink)},_applyDecoratorStyle:function(){this.domNode&&(k.toggle(this.domNode,"decoratorStyleDropDown",
this.decoratorStyle===a.DECORATOR_STYLE_DROPDOWN),k.toggle(this.domNode,"decoratorStyleEllipsis",this.decoratorStyle===a.DECORATOR_STYLE_ELLIPSIS),l.setText(this.selectionButton,this.decoratorStyle===a.DECORATOR_STYLE_ELLIPSIS?"...":""))},_applyDisplay:function(){this.domNode&&n.set(this.domNode,"display",this.display?"":"none")},_setBordersAttr:function(a){this._set("borders",a);this._applyBorders()},_setDecoratorStyleAttr:function(a){this._set("decoratorStyle",a);this._applyDecoratorStyle()},_setIsValidLinkAttr:function(a){this._set("isValidLink",
a);this._applyCursorStyle()},_setDisplayAttr:function(a){this._set("display",a);this._applyDisplay()}});g.mixin(s,a);return s})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(l,s,p,q){return l("dijit.CheckedMenuItem",p,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:q,checked:!1,_setCheckedAttr:function(f){this.domNode.setAttribute("aria-checked",f?"true":"false");this._set("checked",
f)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(f){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));this.onClick(f)}})})},"anaplan/api/SystemActions/GetLoggedInUser":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_LOGGED_IN_USER}},
extractResult:function(f){return f.result.userInfo}})})},"anaplan/api/SystemActions/GetEntitlements":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_ENTITLEMENTS,params:{}}},parseResponse:function(f){return f.entitlements}})})},"anaplan/api/Entity/Action":function(){define(["anaplan/api/Entity/Base/Entity","dojo/_base/declare"],
function(l,s){return s([l],{})})},"anaplan/data/Aggregator":function(){define(["anaplan/data/Aggregator/ViewRequestAggregator","dojo/_base/lang","dojo/topic"],function(l,s,p){var q=new l;s.setObject("anaplan.data.Aggregator",q);var f=null;q.resume=function(){f||(f=p.subscribe("gather",function(f){f&&q.post(f.postData,f.synchronous,f.loadHandler,f.errorHandler,f.automatic)}))};q.suspend=function(){f&&(f.remove(),f=null)};q.resume();return q})},"anaplan/validators/ModuleBlueprintValidator":function(){define(["anaplan/constants",
"dojo/_base/array","dojo/_base/declare","dojo/i18n!anaplan/nls/moduleBlueprintValidator","dojo/string"],function(l,s,p,q,f){return p(null,{name:"ModuleBlueprintValidator",constructor:function(){this._resetConfirmationFlags()},confirmClearCells:function(k,n){var m={},h;if(n!==l.validatorActions.CLEAR||!this._confirmClearCells)return m;h=k.getCellUpdates();h.isEmpty()||(h=h.getItemsArray(),h=h.length,1<h&&(h=f.substitute(q.messageConfirmClear,{cellCount:h}),m[h]="clearCells"));return m},confirmDimensionalityOrFormatChange:function(f,
n){var m={},h=f.getCellUpdates();if(!h.isEmpty())for(var h=h.getItemsArray(),e=h.length,g,d=0;d<e;d++)if(g=h[d],this._hasItemChanged(g))if(g=g.entityLongIds,this._confirmDataTypeChange&&-1!==s.indexOf(g,l.SYSTEM_PROPERTY_LINE_ITEM_FORMAT))n===l.validatorActions.CLEAR&&(m[q.dataTypeReset]="dataTypeReset"),m[q.dataTypeChange]="dataTypeChange";else if(this._confirmDimensionalityChange&&(-1!==s.indexOf(g,l.SYSTEM_PROPERTY_LEAF_PERIOD_TYPE)||-1!==s.indexOf(g,l.SYSTEM_PROPERTY_APPLIES_TO)||-1!==s.indexOf(g,
l.SYSTEM_PROPERTY_VERSION_SELECTION)||-1!==s.indexOf(g,l.SYSTEM_PROPERTY_TIME_RANGE)))m[q.dimensionalityChange]="dimensionalityChange";return m},setDisabledConfirmationKeys:function(f){this._resetConfirmationFlags();f&&(-1!==s.indexOf(f,this.name+".dataTypeChange")&&(this._confirmDataTypeChange=!1),-1!==s.indexOf(f,this.name+".dimensionalityChange")&&(this._confirmDimensionalityChange=!1),-1!==s.indexOf(f,this.name+".clearCells")&&(this._confirmClearCells=!1))},_hasItemChanged:function(f){var l=!1;
return l="BOOLEAN"===f.format.dataType?"true"===f.originalText!==("true"===f.cellText):f.cellText!==f.originalText},_resetConfirmationFlags:function(){this._confirmClearCells=this._confirmDimensionalityChange=this._confirmDataTypeChange=!0}})})},"anaplan/api/Entities/ListSubsets":function(){define(["dojo/_base/declare","./Base/LabelPageWithInfos","anaplan/api/Entity/ListSubset"],function(l,s,p){return l([s],{_entityClass:p})})},"anaplan/dnd/DropZone":function(){define("dijit/Destroyable dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/has dojo/on dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return q("anaplan.dnd.DropZone",l,{baseClass:"anaplanDropZone",contentNode:null,domNode:null,id:null,_active:!1,_innerThreshold:5,_items:null,_widget:null,activate:function(d){this._active=this.canAccept(d);n.toggle(this.domNode,this.baseClass+"Active",this._active)},addDraggableItem:function(d,a,e){var b=p.indexOf(this._items,a);-1===b?(d.setDropZone(this),this._items.push(d),this._widget&&this._widget.addDraggableItem?this._widget.addDraggableItem(d,a,e):this.contentNode.appendChild(d.domNode),
this._fireItemCountChange()):(("inner-right"===e||"outer-right"===e||"inner-bottom"===e||"outer-bottom"===e)&&b++,this.addDraggableItemAtDomIndex(d,b))},addDraggableItemAtDomIndex:function(d,a){var e,b;d.setDropZone(this);this._widget&&this._widget.addDraggableItemAtDomIndex?(this._items.splice(a,0,d),this._widget.addDraggableItemAtDomIndex(d,a)):(e=this.contentNode.childNodes,b=e.length,a<b?(this._items.splice(a,0,d),m.place(d.domNode,e[a],"before")):(this._items.push(d),this.contentNode.appendChild(d.domNode)));
this._fireItemCountChange()},canAccept:function(d){var a=!0;this._widget&&this._widget.canAccept&&(a=this._widget.canAccept(d));return a},canDrop:function(d,a,e,b,f){var g=!1;this._widget&&this._widget.canDrop&&(g=this._widget.canDrop(d,a,e,b,f));return g},constructor:function(d,a,f){this.domNode=d;this.contentNode=a;this._items=[];f&&(f.id&&(this.id=f.id),f.hasOwnProperty("innerThreshold")&&(this._innerThreshold=f.innerThreshold),f.widget&&(this._widget=f.widget));this._widget||(d=s.getEnclosingWidget(this.domNode),
d.domNode===this.domNode&&(this._widget=d));n.toggle(this.domNode,this.baseClass,!0);e("ios")||e("android")?this.own(g(this.domNode,"touchstart",k.hitch(this,"_onTouchStart")),g(this.domNode,"touchend",k.hitch(this,"_onTouchEnd")),g(this.domNode,"touchcancel",k.hitch(this,"_onTouchCancel"))):this.own(g(this.domNode,"mouseout",k.hitch(this,"_onMouseOut")),g(this.domNode,"mouseover",k.hitch(this,"_onMouseOver")),g(this.domNode,"selectstart",k.hitch(this,"_onSelectStart")))},contains:function(d){return-1!==
p.indexOf(this._items,d)},deactivate:function(){n.toggle(this.domNode,this.baseClass+"Active",!1);this._active=!1;this._widget&&this._widget.deactivate&&this._widget.deactivate()},destroy:function(){this._widget&&this._widget.destroy();this.contentNode=this.domNode=null;this.inherited(arguments)},drop:function(d,a,e,b){this._widget&&this._widget.drop?this._widget.drop(d,a,e,b):(a.removeDraggableItem(d),this.addDraggableItem(d,e,b))},getDomIndexOf:function(d){return p.indexOf(this.contentNode.childNodes,
d.domNode)},getItems:function(){return this._items},getWidget:function(){return this._widget},isActive:function(){return this._active},removeDraggableItem:function(d){var a=null,e=p.indexOf(this._items,d);-1!==e&&(d.setDropZone(null),this._items.splice(e,1),this._widget&&this._widget.removeDraggableItem?this._widget.removeDraggableItem(d):this.contentNode.removeChild(d.domNode),a=d);this._fireItemCountChange();return a},replaceDraggableItem:function(d,a){var f=p.indexOf(this._items,d),b,g;if(-1===
f)return null;(f=a.getDropZone())&&f.removeDraggableItem(a);f=p.indexOf(this._items,d);this._items.splice(f,1,a);this.contentNode.replaceChild(a.domNode,d.domNode);e("safari")&&(b=this.domNode.style,g=b.backgroundColor,b.backgroundColor="white",setTimeout(function(){b.backgroundColor=g},1));d.setDropZone(null);a.setDropZone(this);this._fireItemCountChange();return d},setHasHover:function(d){n.toggle(this.domNode,this.baseClass+"Hover",d);this._widget&&this._widget.setHasHover&&this._widget.setHasHover(d)},
targetAt:function(d,a,e){var b,f,g,k,l=this;b=null;var m,n,p,q;m=this._items;b=m.length;g=Number.MAX_VALUE;for(k=0;k<b;k++){f=m[k];n=h.position(f.domNode,!0);if(a>=n.x&&a<n.x+n.w&&e>=n.y&&e<n.y+n.h){l=f;break}p=q=0;a<n.x?p=a-n.x:a>=n.x+n.w&&(p=a-(n.x+n.w));e<n.y?q=e-n.y:e>=n.y+n.h&&(q=e-(n.y+n.h));n=Math.abs(Math.sqrt(p*p+q*q));n<g&&(g=n,l=f)}m=h.position(l.domNode,!0);a>=m.x&&a<m.x+m.w&&e>=m.y&&e<m.y+m.h?(k=this._innerThreshold,b=m.x+k,f=m.y+k,g=m.w-2*k,k=m.h-2*k,b=a>=b&&a<b+g&&e>=f&&e<f+k?"center":
"inner"):b="outer";"center"!==b&&("outer"===b?(k=g=n=f=!1,a<m.x?k=!0:a>=m.x+m.w&&(n=!0),e<m.y?f=!0:e>=m.y+m.h&&(g=!0),f&&k?b=m.x-a<m.y-e?b+"-top":b+"-left":f&&n?b=a-m.x-m.w<m.y-e?b+"-top":b+"-right":g&&k?b=m.x-a<e-m.y-m.h?b+"-bottom":b+"-left":g&&n?b=a-m.x-m.w<e-m.y-m.h?b+"-bottom":b+"-right":f?b+="-top":n?b+="-right":g?b+="-bottom":k&&(b+="-left")):"inner"===b&&(f="-top",g=e-m.y,m.x+m.w-a<g&&(f="-right",g=m.x+m.w-a),m.y+m.h-e<g&&(f="-bottom",g=m.y+m.h-e),a-m.x<g&&(f="-left"),b+=f));return!this.canDrop(d,
d.getDropZone(),l,b,!1)?null:[l,b]},_fireItemCountChange:function(){if(this._widget&&this._widget.onItemCountChange)this._widget.onItemCountChange(this._items.length)},_onMouseOut:function(d){this.setHasHover(!1)},_onMouseOver:function(d){this.setHasHover(!0)},_onSelectStart:function(d){d.target===this.domNode&&f.stop(d)},_onTouchCancel:function(d){this.setHasHover(!1)},_onTouchEnd:function(d){this.setHasHover(!1)},_onTouchStart:function(d){this.setHasHover(!0)}})})},"anaplan/view/_QuickFilterLabelDecorator":function(){define("anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k){return f([],{decorate:function(f,m,h){if(null===h)return f;var e=m===l.ROWS?h.rowAxisSpecification:h.columnAxisSpecification;if(!k.exists("axisDefinition.sortAndFilterDefinition",e)&&!k.exists("axisDefinition.sortDefinition",e))return f;var g=s.getLineItemEntityLongIdForPageInfo(h),d=-1<g;m=[];k.exists("axisDefinition.sortAndFilterDefinition",e)&&(m=e.axisDefinition.sortAndFilterDefinition.filterConditions.filter(function(a,b){return q.isQuickFilterCondition(a)&&(d?p.entityLongIdIdentifierToEntityLongId(a.lineItemIdentifier)===
g:!0)}));var a=[],r=[];if(k.exists("axisDefinition.sortDefinition",e)&&e.axisDefinition.sortDefinition.isActive)var a=s.getAllDimensionIdentifiersForPages(h).concat(p.entityLongIdsToEntityLongIdIdentifiers(h.currentPageLabels.entityLongIds[0])),b=e.axisDefinition.sortDefinition.sortRuleInfos,r=e.axisDefinition.sortDefinition.sortRules.filter(function(a,e){return b[e].isValid&&(d?p.entityLongIdIdentifierToEntityLongId(a.lineItemIdentifier)===g:!0)});if(0===m.length&&0===r.length)return f;h=f.entityLongIds.length;
for(var t=0;t<f.count;t++){var u=!1,v=0,z=f.entityLongIds.map(function(a){return p.entityLongIdToEntityLongIdIdentifier(a[t])});m.forEach(function(a){var b=d?a.contextIdentifiers:a.contextIdentifiers.concat([a.lineItemIdentifier]);z.some(function(a){return-1===b.indexOf(a)})||(u=!0,v|=l.indicators.HAS_QUICK_FILTER)});if(0<r.length){var y=a.concat(z);r.forEach(function(a){if(!(d||s.axisSpecificationContainsLineItems(e)?a.contextIdentifiers:a.contextIdentifiers.concat(a.lineItemIdentifier)).some(function(a){return-1===
y.indexOf(a)}))u=!0,v|="DESCENDING"===a.direction?l.indicators.HAS_SORT_DESC:l.indicators.HAS_SORT_ASC})}u&&(f.hasOwnProperty("indicators")||this._setIndicators(f),f.indicators[h-1][t]=v,f.styles[h-1][t]&&-1<f.styles[h-1][t].indexOf("has-filter-sort")||(f.styles[h-1][t]+=" has-filter-sort"))}return f},destroy:function(){},_setIndicators:function(f){var k=f.entityLongIds.length;f.indicators=Array(k);for(var h=0;h<k;h++)f.indicators[h]=Array(f.count)}})})},"anaplan/view/Filter/AdvancedTab":function(){define("anaplan/data/ModelContentHelper anaplan/utils/FilterHelper anaplan/utils/UIHelper anaplan/view/Filter/Condition dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/i18n!anaplan/nls/filter dojo/on dojo/text!anaplan/templates/Filter/Tab.html dijit/form/CheckBox anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return h([k,f,n],{baseClass:"filterTab",tabIndex:-1,templateString:r,constructor:function(a){this._gridController=a.gridController;this._dimensionIdentifiers=a.dimensionIdentifiers;this._axisSpecification=a.axisSpecification;this._selectedRow=a.selectedRow;this._selectedColumn=a.selectedColumn;this._conditionWidgets=[];this._hasQuickFilterCondition=!1},clearFilter:function(){this._clearNonQuickFilterConditions()},createCondition:function(b,d,e){var f=this,g=new q({dimensionIdentifiers:this._dimensionIdentifiers,
axisSpecification:this._axisSpecification,selectedRow:e?e:this._selectedRow,selectedColumn:d?d:this._selectedColumn,filterCondition:null,filterConditionInfo:null,gridController:this._gridController});this.own(a(g,"Add",function(){f._addCondition(g)}),a(g,"Remove",function(){f._removeCondition(g)}));return g},destroy:function(){this._conditionWidgets.forEach(function(a){a.destroy()});this._conditionWidgets=null;this.inherited(arguments)},getAxisSpecification:function(){var a=e.clone(this._axisSpecification);
e.exists("axisDefinition",a)||(console.warn("getAxisSpecification converting axisSpecification to use axisDefinition",a),l.convertAxisSpecificationToUseAxisDefinition(a));var d=this._conditionWidgets.map(function(a){return a.getFilterCondition()}).filter(function(a){return null!==a});a.axisDefinition.sortAndFilterDefinition=d&&d.length?{filterConditions:d,isActive:this.isActive(),filterMatchType:this.anyOrAllSelect.options[this.anyOrAllSelect.selectedIndex].value}:null;return a},getFilterConditionCount:function(){return this._isShowingEmpty?
0:this._conditionWidgets.filter(function(a){return a instanceof q}).length},isActive:function(){return this.activeCheckBox.get("checked")},isDisabled:function(){return!1},isValid:function(){return this._isShowingEmpty?this._hasQuickFilterCondition||!this.isActive():this._conditionWidgets.filter(function(a){return a instanceof q}).every(function(a){return a.isValid()})},onActiveStatusChange:function(){},onClear:function(){},placeCondition:function(a,d){this._isShowingEmpty&&this._destroyNonQuickFilterConditions();
this._isShowingEmpty=!1;this._hasQuickFilterCondition||(this.activeCheckBox.set("disabled",!1),this.activeCheckBox.set("checked",!0));d?g.place(a.domNode,d.domNode,"after"):g.place(a.domNode,this.filterConditionTable);this._conditionWidgets.push(a)},postCreate:function(){this.inherited(arguments);p.setText(this.explanationLabel1,d.labelExplanation1);p.setText(this.explanationLabel2,d.labelExplanation2);p.setText(this.anyOption,d.optionAny);p.setText(this.allOption,d.optionAll);p.setText(this.activeCheckBoxLabel,
d.labelActive);this.clearButton.set("label",d.buttonClear);this._initializeFilterControls()},_addCondition:function(a,d,e){d=this.createCondition(a,d,e);this.placeCondition(d,a);return d},_addDefaultFilterCondition:function(){this._addCondition(null)},_addEmptyFilterCondition:function(){var b=this,d=new q({gridController:this._gridController});this.own(a(d,"Add",function(){b._addCondition()}));g.place(d.domNode,this.filterConditionTable);this._conditionWidgets.push(d);this._isShowingEmpty=!0},_clearNonQuickFilterConditions:function(){this._destroyNonQuickFilterConditions();
this._addEmptyFilterCondition();this._hasQuickFilterCondition||(this.activeCheckBox.set("value",!1),this.activeCheckBox.set("disabled",!0));this.onClear(this)},_createFilterConditions:function(a,d){for(var e=this._conditionWidgets,f=0;f<a.length;f++){var h=this._createFilterCondition(a[f],d[f]);g.place(h.domNode,this.filterConditionTable);e.push(h)}},_createFilterCondition:function(b,d){var e=s.isQuickFilterCondition(b)?new k({style:"display:none;",getFilterCondition:function(){return b}}):new q({gridController:this._gridController,
axisSpecification:this._axisSpecification,dimensionIdentifiers:this._dimensionIdentifiers,pageInfo:this._pageInfo,selectedRow:this._selectedRow,selectedColumn:this._selectedColumn,filterCondition:b,filterConditionInfo:d}),f=this;this.own(a(e,"Add",function(){f._addCondition(e)}),a(e,"Remove",function(){f._removeCondition(e)}));return e},_destroyNonQuickFilterConditions:function(){for(var a=this._conditionWidgets.length-1;0<=a;a--){var d=this._conditionWidgets[a];d instanceof q&&(this._conditionWidgets.splice(a,
1),d.destroy())}},_getFilterConditions:function(){return this._conditionWidgets.map(function(a){return a.getFilterCondition()}).filter(function(a){return null!==a})},_initializeFilterControls:function(){var a=null,e=[],f=[];if(l.axisSpecificationContainsSortAndFilterDefinition(this._axisSpecification)){for(var a=this._axisSpecification.axisDefinition.sortAndFilterDefinition,e=a.filterConditions,f=a.filterConditionInfos,g=this.anyOrAllSelect.options,h=0;h<g.length;h++)if(g[h].value===a.filterMatchType){this.anyOrAllSelect.selectedIndex=
h;break}this.activeCheckBox.set("checked",a.isActive)}else this.activeCheckBox.set("checked",!1);this._createFilterConditions(e,f);e.some(function(a){return s.isQuickFilterCondition(a)})&&(p.setText(this.activeCheckBoxLabel,d.filterDefinitionMayNotBeDisabled),this._hasQuickFilterCondition=!0);a=e.some(function(a){return!s.isQuickFilterCondition(a)});this.activeCheckBox.set("disabled",this._hasQuickFilterCondition||!a);a||this._addEmptyFilterCondition()},_onActiveStatusChange:function(a){this.onActiveStatusChange(this,
a)},_onActiveCheckBoxChange:function(a){this._onActiveStatusChange(a)},_onClearButtonClick:function(){this._clearNonQuickFilterConditions()},_removeCondition:function(a){var d=this._conditionWidgets,e=m.indexOf(d,a);d.splice(e,1);a.destroy();d.some(function(a){return a instanceof q})||(this._hasQuickFilterCondition||this.activeCheckBox.set("value",!1),this.activeCheckBox.set("disabled",!0),this._addEmptyFilterCondition())}})})},"anaplan/widgets/QuickFilter/Dropdown":function(){define("anaplan/anapediaKeys anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper anaplan/utils/InfoDialogHelper anaplan/utils/SelectionHelper anaplan/widgets/QuickFilter/Overview dijit/CheckedMenuItem dijit/DropDownMenu dijit/MenuItem dijit/MenuSeparator dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/filter dojo/i18n!anaplan/nls/toolbar".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){return r([g],{menuItemFilter:!1,showHideMenuConfig:{NUMBER:{show:{label:u.labelShowZero,filterCondition:{comparisonDataType:"NUMBER",comparisonOperator:"EQUALS",comparisonValue:"0",comparisonMultiValueOR:null}},hide:{label:u.labelHideZero,filterCondition:{comparisonDataType:"NUMBER",comparisonOperator:"NOT_EQUALS",comparisonValue:"0",comparisonMultiValueOR:null}}},DATE:{show:{label:u.labelShowBlank,filterCondition:{comparisonDataType:"DATE",comparisonOperator:"IS_BLANK",
comparisonValue:null,comparisonMultiValueOR:null}},hide:{label:u.labelHideBlank,filterCondition:{comparisonDataType:"DATE",comparisonOperator:"IS_NOT_BLANK",comparisonValue:null,comparisonMultiValueOR:null}}},TEXT:{show:{label:u.labelShowBlank,filterCondition:{comparisonDataType:"TEXT",comparisonOperator:"IS_BLANK",comparisonValue:null,comparisonMultiValueOR:null}},hide:{label:u.labelHideBlank,filterCondition:{comparisonDataType:"TEXT",comparisonOperator:"IS_NOT_BLANK",comparisonValue:null,comparisonMultiValueOR:null}}},
ENTITY:{show:{label:u.labelShowBlank,filterCondition:{comparisonDataType:"ENTITY",comparisonOperator:"IS_BLANK",comparisonValue:null,comparisonMultiValueOR:null}},hide:{label:u.labelHideBlank,filterCondition:{comparisonDataType:"ENTITY",comparisonOperator:"IS_NOT_BLANK",comparisonValue:null,comparisonMultiValueOR:null}}},TIME_ENTITY:{show:{label:u.labelShowBlank,filterCondition:{comparisonDataType:"TIME_ENTITY",comparisonOperator:"IS_BLANK",comparisonValue:null,comparisonMultiValueOR:null}},hide:{label:u.labelHideBlank,
filterCondition:{comparisonDataType:"TIME_ENTITY",comparisonOperator:"IS_NOT_BLANK",comparisonValue:null,comparisonMultiValueOR:null}}},BOOLEAN:{show:{label:u.labelShowTrue,filterCondition:{comparisonDataType:"BOOLEAN",comparisonOperator:"EQUALS",comparisonValue:"true",comparisonMultiValueOR:null}},hide:{label:u.labelShowFalse,filterCondition:{comparisonDataType:"BOOLEAN",comparisonOperator:"EQUALS",comparisonValue:"false",comparisonMultiValueOR:null}}}},constructor:function(){this._advancedFilterMenuItem=
this._lineItemDataType=null},postCreate:function(){this.inherited(arguments);var f=new e({checked:!1,onChange:b.hitch(this,function(a){a?this._addFilter(this.showHideMenuConfig[this._lineItemDataType].show.filterCondition):this._removeFilter()})}),g=new e({checked:!1,onChange:b.hitch(this,function(a){a?this._addFilter(this.showHideMenuConfig[this._lineItemDataType].hide.filterCondition):this._removeFilter()})}),h=new a({}),k=new d({label:u.labelQuickFilter,onClick:b.hitch(this,"_displayQuickFilter"),
"class":"qa-quick-filter"}),l=new d({label:u.labelClearQuickFilter,onClick:b.hitch(this,"_removeFilter"),"class":"qa-clear-quick-filter"}),m=new d({label:u.labelClearAllQuickFilter,onClick:b.hitch(this,"_removeAllFilter"),"class":"qa-clear--all-quick-filters"}),n=new d({label:u.labelFilterOverview,onClick:b.hitch(this,"_displayFilterOverview"),"class":"qa-filter-overview"});this.addChild(f);this.addChild(g);this.addChild(h);this.addChild(k);this.addChild(new a({}));this.addChild(l);this.addChild(m);
this.addChild(new a({}));this.addChild(n);this._showMenuItem=f;this._hideMenuItem=g;this._showHideSeparator=h;this._quickMenuItem=k;this._clearAllMenuItem=m;this._clearMenuItem=l;this._overViewMenuItem=n},getGridController:function(){return null},onOpen:function(){[this._showMenuItem,this._hideMenuItem,this._showHideSeparator].forEach(function(a){a.domNode.style.display="none"});this.getChildren().forEach(function(a){a.set("disabled",!0)});var a=this.getGridController();a&&this._enableMenuOptions(a);
this.inherited(arguments)},_addFilter:function(a){var d=this.getGridController();if(d){var e=d.getPageInfo();if(e){var g=k.getFilterSpecification(e,d.getSelectionObject(),d.getContext(),s.filterConditionType.QUICK);a=b.mixin(b.clone(a),{contextIdentifiers:g.contextIdentifiers,moduleIdentifier:null,lineItemIdentifier:f.entityLongIdToEntityLongIdIdentifier(g.lineItemEntityLongId)});var e=k.getExistingFilterConditionIndexForQuickFilter(g.targetAxis===s.ROWS?e.rowAxisSpecification:e.columnAxisSpecification,
g.lineItemEntityLongId,g.contextIdentifiers),h=d.getSelectionObject(),l=d.getGridlet();-1<e?d.updateQuickFilterCondition(g.targetAxis,e,a).then(function(){h&&l.setCurrentSelection(h);l.focus()},function(a){console.error("_addFilter (existing)",a)}):d.addQuickFilterCondition(g.targetAxis,a).then(function(){h&&l.setCurrentSelection(h);l.focus()},function(a){console.error("_addFilter (new)",a)})}}},_compare:function(a,b){return a.filterConditionType===s.filterConditionType.QUICK&&a.comparisonOperator===
b.comparisonOperator&&a.comparisonValue===b.comparisonValue},_displayFilterDialog:function(){var a=this.getGridController();a&&a.beginFilter()},_displayFilterOverview:function(){var a=this.getGridController();if(a){var b=a.getPageInfo();b&&(b=this._getAxisSpecificationForFilterOverview(b,a.getSelectionObject()),null!==b&&n.showInfoDialog(new h({gridController:a,menuItemFilter:this.get("menuItemFilter"),axisDefinition:b.axisDefinition,onAdvancedFilterDialog:function(){a.beginFilter()}}),{title:t.titleFilterOverview,
anapediaKey:l.filter}).then(function(){a.getGridlet().focus()}))}},_displayQuickFilter:function(){var a=this.getGridController();a&&a.beginQuickFilter()},_enableAdvancedFilterMenuItem:function(a){this._advancedFilterMenuItem.set("disabled",!1);a=this._getSortAndFilterDefinitionsWithQuickFilterConditionsRemoved(a);this._advancedFilterMenuItem.set("iconClass",k.getFilterStatus(a,!0).iconClass)},_enableClearAllMenuItemBasedOnPageInfo:function(a){a=[a.rowAxisSpecification,a.columnAxisSpecification].concat(a.pageAxisSpecifications||
[]);this._clearAllMenuItem.set("disabled",!a.some(function(a){return k.hasQuickFilter(a)}))},_enableMenuOptions:function(a){var b=a.getSelectionObject(),d=a.getContext(),e=a.getPageInfo(),f=null;m.canQuickFilter(b,d)&&(a=k.getFilterSpecification(e,b,a.getContext(),s.filterConditionType.QUICK),f=q.getLineItemInfo(p,a.lineItemEntityLongId).format.dataType,this._enableQuickFilterMenuItemsBasedOnSelection(a,a.targetAxis===s.ROWS?e.rowAxisSpecification:e.columnAxisSpecification,f));this._lineItemDataType=
f;this._enableClearAllMenuItemBasedOnPageInfo(e);f=!0===this.menuItemFilter;this._enableOverviewMenuItem(b,e,f);f&&this._enableAdvancedFilterMenuItem(e)},_enableOverviewMenuItem:function(a,b,d){a=this._getAxisSpecificationForFilterOverview(b,a);this._overViewMenuItem.set("disabled",null===a);this._overViewMenuItem.set("iconClass",k.getFilterStatus(q.axisSpecificationContainsSortAndFilterDefinition(a)?[a.axisDefinition.sortAndFilterDefinition]:[],d).iconClass)},_enableQuickFilterMenuItemsBasedOnSelection:function(a,
b,d){a=k.getExistingFilterConditionIndexForQuickFilter(b,a.lineItemEntityLongId,a.contextIdentifiers);this._enableShowHideMenuItems(b,-1<a?b.axisDefinition.sortAndFilterDefinition.filterConditions[a]:null,this.showHideMenuConfig[d]);this._quickMenuItem.set("disabled",!1);-1<a&&this._clearMenuItem.set("disabled",!1)},_enableShowHideMenuItems:function(a,b,d){q.axisSpecificationContainsSortAndFilterDefinition(a)&&!1===a.axisDefinition.sortAndFilterDefinition.isActive||(a=this._isShow(b),b=!a&&this._isHide(b),
this._showMenuItem.set("label",d.show.label),this._hideMenuItem.set("label",d.hide.label),this._showMenuItem.get("checked")!==a&&this._showMenuItem.set("checked",a,!1),this._hideMenuItem.get("checked")!==b&&this._hideMenuItem.set("checked",b,!1),[this._showMenuItem,this._hideMenuItem,this._showHideSeparator].forEach(function(a){a.domNode.style.display="";a.set("disabled",!1)}))},_getAxisSpecificationForFilterOverview:function(a,b){var d=k.hasQuickFilter(a.rowAxisSpecification)||this.menuItemFilter&&
q.axisSpecificationContainsSortAndFilterDefinition(a.rowAxisSpecification),e=k.hasQuickFilter(a.columnAxisSpecification)||this.menuItemFilter&&q.axisSpecificationContainsSortAndFilterDefinition(a.columnAxisSpecification);return!d&&!e||b&&b.isWholeRowSelected()&&!e||b&&b.isWholeColumnSelected()&&!d?null:e&&!d||b&&b.isWholeRowSelected()?a.columnAxisSpecification:a.rowAxisSpecification},_getSortAndFilterDefinitionsWithQuickFilterConditionsRemoved:function(a){return[a.rowAxisSpecification,a.columnAxisSpecification].concat(a.pageAxisSpecifications).filter(function(a){return b.exists("axisDefinition.sortAndFilterDefinition",
a)}).map(function(a){return a.axisDefinition.sortAndFilterDefinition}).map(function(a){return b.mixin(a,{filterConditions:a.filterConditions.filter(function(a){return!k.isQuickFilterCondition(a)})})}).filter(function(a){return 0<a.filterConditions.length})},_isHide:function(a){return null!==a&&this._compare(a,this.showHideMenuConfig[a.comparisonDataType].hide.filterCondition)},_isShow:function(a){return null!==a&&this._compare(a,this.showHideMenuConfig[a.comparisonDataType].show.filterCondition)},
_removeAllFilter:function(){var a=this.getGridController();if(a&&a.getPageInfo()){var d=a.getSelectionObject();a.removeAllQuickFilter().then(b.hitch(this,function(){var b=a.getGridlet();d&&b.setCurrentSelection(d);b.focus()}),function(a){console.error("_removeAllFilter")})}},_removeFilter:function(){var a=this.getGridController();if(a){var d=a.getPageInfo();if(d){var e=k.getFilterSpecification(d,a.getSelectionObject(),a.getContext(),s.filterConditionType.QUICK),d=k.getExistingFilterConditionIndexForQuickFilter(e.targetAxis===
s.ROWS?d.rowAxisSpecification:d.columnAxisSpecification,e.lineItemEntityLongId,e.contextIdentifiers),f=a.getSelectionObject();a.removeQuickFilterCondition(e.targetAxis,d).then(b.hitch(this,function(){var b=a.getGridlet();f&&b.setCurrentSelection(f);b.focus()}),function(a){console.error("_removeFilter",a)})}}},_setMenuItemFilterAttr:function(a){this._set("menuItemFilter",a);a&&null===this._advancedFilterMenuItem?(a=new d({label:u.labelFilter}),a.own(a.on("click",b.hitch(this,"_displayFilterDialog"))),
this.addChild(a),this._advancedFilterMenuItem=a):!1===a&&null!==this._advancedFilterMenuItem&&(this.removeChild(this._advancedFilterMenuItem),this._advancedFilterMenuItem.destroy(),this._advancedFilterMenuItem=null)}})})},"anaplan/view/NewDashboard":function(){define("anaplan/utils/UIHelper dijit/_Container dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/_FormMixin dojo/_base/array dojo/_base/declare dojo/_base/event dojo/dom-attr dojo/json dojo/keys dojo/string anaplan/data/ModelContentCache anaplan/constants anaplan/data/ChangeFactory anaplan/data/LabelPageReadStore anaplan/utils/IdChecker anaplan/utils/SubmissionHandler dojo/i18n!anaplan/nls/newDashboard dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/NewDashboard.html dijit/form/ValidationTextBox dijit/form/FilteringSelect anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x){return m([p,q,f,s,k],{templateString:x,DASHBOARDS_COOKIE_KEY:"dashboards",baseClass:"newDashboard",dashboardElements:[],dashboardName:null,functionalAreaEntityLongId:-1,focus:function(){this.dashboardNameTextBox.focus()},onCancel:function(){},onSave:function(){},onDialogHide:function(){},onValidStateChange:function(a){this.saveButton.set("disabled",!a)},postCreate:function(){try{this.inherited(arguments);var b=this,d=new v;this.dashboardNameTextBox.validator=
function(e){e=a.trim(e);return!d.checkId(e)?(this.invalidMessage=d.getInvalidIdMessage(),!1):b._isDuplicateDashboardName(e)?(this.invalidMessage=y.duplicateDashboardName,!1):!0};l.setText(this.dashboardNameLabel,y.labelDashboardName);l.setText(this.functionalAreaLabel,y.labelFunctionalArea);this.saveButton.set("label",w.buttonSave);this.cancelButton.set("label",w.buttonCancel);e.set(this.dashboardNameLabel,"for",this.dashboardNameTextBox.id);e.set(this.functionalAreaLabel,"for",this.functionalAreaSelect.id);
this._dashboardNames=this._getDashboardNames();this._functionalAreasLabelPage=r.getFunctionalAreasLabelPage();this.functionalAreaSelect.set("store",new u({labelPage:this._functionalAreasLabelPage}));if(-1<this.functionalAreaEntityLongId){var f=n.indexOf(this._functionalAreasLabelPage.entityLongIds[0],this.functionalAreaEntityLongId);this.functionalAreaSelect.set("displayedValue",this._functionalAreasLabelPage.labels[0][f])}null!=this.dashboardName&&(this.dashboardNameTextBox.set("value",this.dashboardName),
this.onValidStateChange(this.isValid()))}catch(g){l.throwClientException(this,g)}},_createDashboard:function(){try{var d=a.trim(this.dashboardNameTextBox.get("value")),e=this.functionalAreaSelect.get("value"),f=n.indexOf(this._functionalAreasLabelPage.entityLongIds[0],e),e=null;-1!==f&&(e=this._functionalAreasLabelPage.entityIds[0][f]);var h=(new t).getModelChangeGenerator({entityTypeClass:"SYSTEM",entityTypeIndex:b.DASHBOARD_ENTITY_TYPE_INDEX}),k=[{modelId:modelId,modelChangeXml:h.getModelChangeXml("INSERT",
{name:d,dashboardDefinition:g.stringify({dashboardElements:this.dashboardElements}),functionalAreaId:e})}],f=[{workspaceId:workspaceId,cellChanges:[],modelChanges:k}],m=this;(new z).post(f).then(function(a){if(a&&a.result&&(a=a.result,a.modelInfo)){a=a.modelInfo.dashboardsInfo.dashboardsLabelPage;var b=n.indexOf(a.labels[0],d);if(-1!==b)m.onSave(a.entityLongIds[0][b])}})}catch(r){l.throwClientException(this,r)}},_getDashboardNames:function(){var a=[];try{a=r.getDashboardsLabelPage().labels[0]}catch(b){l.throwClientException(this,
b)}return a},_isDuplicateDashboardName:function(b){try{var d=a.trim(b).toLowerCase(),e=this._dashboardNames,f=e.length;for(b=0;b<f;b++)if(e[b].toLowerCase()===d)return!0}catch(g){l.throwClientException(this,g)}return!1},_onCancelButtonClicked:function(a){this.onCancel()},_onKeyDown:function(a){switch(a.keyCode){case d.ENTER:this.isValid()&&this._createDashboard();break;case d.ESCAPE:this.onCancel(),h.stop(a)}},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_onSaveButtonClicked:function(){this._createDashboard()}})})},
"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){d=l("dijit.layout._TabButton"+(f("dojo-bidi")?"_NoBidi":""),m.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:d,_setNameAttr:"focusNode",scrollOnFocus:!1,
buildRendering:function(){this.inherited(arguments);s.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);q.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=k.getLocalization("dijit","common"),this.closeNode&&p.set(this.closeNode,"title",a.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);
if(this.closeNode)if(a)p.remove(this.closeNode,"title");else{var d=k.getLocalization("dijit","common");p.set(this.closeNode,"title",d.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=n.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});f("dojo-bidi")&&(d=l("dijit.layout._TabButton",d,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt)}}));l=l("dijit.layout.TabController",
m,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:d,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var a=new e({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return q.contains(a,"dijitClosable")&&!q.contains(a,"dijitTabDisabled")}});
this.own(a);var d=k.getLocalization("dijit","common"),b=this;a.addChild(new g({label:d.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=h.byNode(this.getParent().currentTarget);b.onCloseButtonClick(a.page)}}))}});l.TabButton=d;return l})},"anaplan/cf/ConfirmationView":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/keys dijit/focus anaplan/widgets/Button dijit/layout/BorderContainer dijit/layout/ContentPane anaplan/Exceptions ./_ViewMixin dojo/i18n!dijit/nls/common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return l([h,d],{baseClass:"confirmationView",cancelButtonLabel:null,confirmButtonLabel:null,gutters:!1,liveSplitters:!1,messageContent:null,operationParams:null,getAutoSizePixels:function(){return{maxHeight:100,maxWidth:340,minHeight:100,minWidth:340}},onCancel:function(){},onConfirm:function(){},postCreate:function(){try{this.inherited(arguments),this._createMessagePanel(),this._createDialogButtons(),this._setupKeyHandlers()}catch(a){throw new g.ClientException("anaplan.cf.ManageRulesView#postCreate",
a);}},_createDialogButtons:function(){var d;try{d=new e({"class":"buttons",region:"bottom"}),this._confirmButton=new m({label:this.confirmButtonLabel||a.buttonOk,"class":"primary-button"}),this._cancelButton=new m({label:this.cancelButtonLabel||a.buttonCancel}),f.place(this._confirmButton.domNode,d.containerNode),f.place(this._cancelButton.domNode,d.containerNode),this.own(this._confirmButton.on("click",p.hitch(this,"_onConfirm")),this._cancelButton.on("click",p.hitch(this,"_onCancel"))),this.addChild(d)}catch(b){throw new g.ClientException("anaplan.cf.ConfirmationView._createDialogButtons",
b);}},_createMessagePanel:function(){try{this.addChild(this._messagePanel=new e({content:this.messageContent||null,"class":this.baseClass+"MessagePanel",region:"center"}))}catch(a){throw new g.ClientException("anaplan.cf.ConfirmationView._createMessagePanel",a);}},_onCancel:function(){this.onCancel(this.operationParams)},_onConfirm:function(){this.onConfirm(this.operationParams)},_onShow:function(){n.focus(this.domNode)},_setCancelButtonLabelAttr:function(a){this._set("cancelButtonLabel",a);this._cancelButton&&
this._cancelButton.set("label",a)},_setConfirmButtonLabelAttr:function(a){this._set("confirmButtonLabel",a);this._confirmButton&&this._confirmButton.set("label",a)},_setMessageContentAttr:function(a){this._set("messageContent",a);this._messagePanel&&this._messagePanel.set("content",a||null)},_setupKeyHandlers:function(){q.set(this.domNode,"tabindex","-1");this.own(this.on("keydown",p.hitch(this,function(a){a.keyCode===k.ESCAPE?(s.stop(a),this._onCancel()):a.keyCode===k.ENTER&&(s.stop(a),this._onConfirm())})));
this.own(this.on("keypress",p.hitch(this,function(a){a.keyCode===k.ESCAPE&&s.stop(a)})))}})})},"anaplan/api/Fetchers/Entities/Base/DataPage":function(){define(["dojo/_base/declare","anaplan/utils/JsHelper","dojo/_base/lang","dojo/i18n!anaplan/nls/api","anaplan/api/Entities/Base/LabelPage"],function(l,s,p,q,f){return l(null,{_data:{columnLabelPage:null,rowsLabelPage:null,dataPages:null},setData:function(k,l,m){if(s.isObject(k)&&s.isObject(l)&&s.isObject(m))this._data={columnLabelPage:new f(l),rowsLabelPage:new f(k),
dataPages:m};else throw Error(q.errors.invalidLabelPage);},getItemById:function(f){f=this._data.rowsLabelPage.getIndexById(f);return-1<f?this.getItemByIndex(f):{exists:!1}},getItemByIndex:function(f){return s.isNumber(f)&&-1<f&&f<this.count()?this._populateObject(f):{exists:!1}},containsEntityLongId:function(f){return this._data.rowsLabelPage.containsEntityLongId(f)},_populateObject:function(f){for(var l={exists:!0},m=0;m<this._data.columnLabelPage.count();m++)l[this._data.columnLabelPage._labelPage.entityIds[0][m]]=
this._getDataPageObject(f,m);return l},_getDataPageObject:function(f,l){var m=this._data.dataPages,h={},e=m.columnCount*f+l,g;for(g in m)s.has(m,g)&&s.isArray(m[g])&&(h[g.replace(/(^,)|(s$)/g,"")]=m[g][e]);return h},count:function(){return s.isObject(this._data)?this._data.rowsLabelPage.count():0}})})},"anaplan/data/_BaseModel":function(){define("anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/Aggregator anaplan/data/CacheVisitor anaplan/data/ContextCache anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/ViewRequestReadCache anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/gridlet/Themes anaplan/utils/EntityLongIdHelper anaplan/utils/JsHelper anaplan/utils/Observable anaplan/utils/UIHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/promise/all".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return u(r,{constructor:function(a){try{this._viewDefinition=a.viewDefinition||null,this._viewReference=a.viewReference||null,this._readCache=new m({}),this._requestGenerator=new h(workspaceId),this._aggregator=p,p.addObserver(this),this._suspended=!1,this._containerEntityLongId=a.hasOwnProperty("containerEntityLongId")?a.containerEntityLongId:-1,this._containerId=b.generateId(this._containerEntityLongId),this._viewChanges=[],this._viewChangePromises=
[],this._pendingViewChangePromises=[],this._fulfilledViewChangePromises=[],this.reset(),this.resetIndexSelectorLabelPageMap()}catch(d){throw new e.ClientException("anaplan.data._BaseModel.constructor",d);}},addViewChange:function(a){a=this._addViewChange(a);this._aggregator.gather();return a},addViewChanges:function(a){a=t.map(a,v.hitch(this,function(a){return this._addViewChange(a)}));this._aggregator.gather();return y(a)},destroy:function(){try{this._observers.length&&console.warn("anaplan.data._BaseModel destroy with "+
this._observers.length+" observers"),this.reset(),this.resetIndexSelectorLabelPageMap(),p.isObserver(this)&&p.deleteObserver(this)}catch(a){throw new e.ClientException("anaplan.data._BaseModel.destroy",a);}},error:function(a){console.error(a);return!1},isDirty:function(){return 0<this._viewChanges.length||0<this._viewChangePromises.length||0<this._pendingViewChangePromises.length},getContainerId:function(){return this._containerId},getColumnCount:function(){return this._getColumnCount()},getColumnNesting:function(){return this._getColumnNesting()},
getFixedColumnCount:function(){return this._getFixedColumnCount()},getFixedRowCount:function(){return this._getFixedRowCount()},getHierarchyEntityLongId:function(){try{this._hierarchyEntityLongId||(this._hierarchyEntityLongId=n.getHierarchyEntityLongIdForViewDefinition(k,this._getViewDefinitionOrReference()))}catch(a){throw new e.ClientException("anaplan.data._BaseModel.getHierarchyEntityLongId",a);}return this._hierarchyEntityLongId||-1},getHierarchyId:function(){var a=null;try{var b=this.getHierarchyEntityLongId();
b&&-1!==b&&(a=n.getHierarchyEntityId(k,b))}catch(d){throw new e.ClientException("anaplan.data._BaseModel.getHierarchyId",d);}return a},getIndexSelectorLabelPageMap:function(){return this._indexSelectorLabelPageMap},getLineItemEntityLongIdForPageInfo:function(){try{this._lineItemEntityLongIdForPageInfo||(this._lineItemEntityLongIdForPageInfo=n.getLineItemEntityLongIdForPageInfo(this.getPageInfo()))}catch(a){throw new e.ClientException("anaplan.data._BaseModel.getLineItemEntityLongIdForPageInfo",a);
}return this._lineItemEntityLongIdForPageInfo},getModuleEntityLongId:function(){try{this._moduleEntityLongId||(this._moduleEntityLongId=n.getModuleEntityLongIdForViewDefinitionOrReference(k,this._getViewDefinitionOrReference()))}catch(a){throw new e.ClientException("anaplan.data._BaseModel.getModuleEntityLongId",a);}return this._moduleEntityLongId},getPageInfo:function(){return v.clone(this._pageInfo)},getRowCount:function(){return this._getRowCount()},getRowNesting:function(){return this._getRowNesting()},
getSavedViewEntityLongId:function(){try{this._savedViewEntityLongId||(this._savedViewEntityLongId=n.getSavedViewEntityLongIdForViewReference(this._viewReference))}catch(a){throw new e.ClientException("anaplan.data._BaseModel.getSavedViewEntityLongId",a);}return this._savedViewEntityLongId},getPageSelectorLabelPage:function(a,b,d){try{var e=this._getSelectorIndexUsingLabelPageMap(a);if(null===e||!this._selectorLabelPages.length||null===this._selectorLabelPages[e]){var f=this;this._forceLoadSelectorLabelPages(function(){e=
f._getSelectorIndexUsingLabelPageMap(a);b(f._getSelectorLabelPage(e))},d,!1,!0)}else e=this._getSelectorIndexUsingLabelPageMap(a),b(this._getSelectorLabelPage(e))}catch(g){d(g)}},getSelectorLabelPage:function(a,b,d){var e=this._getSelectorIndexUsingLabelPageMap(a);if(b){if(null==e||!this._selectorLabelPages.length||null==this._selectorLabelPages[e]){var f=this;this._forceLoadSelectorLabelPages(function(){e=f._getSelectorIndexUsingLabelPageMap(a);b(f._getSelectorLabelPage(e))},d)}else e=this._getSelectorIndexUsingLabelPageMap(a),
b(this._getSelectorLabelPage(e));return null}this._selectorLabelPages.length||this._forceLoadSelectorLabelPages();e=this._getSelectorIndexUsingLabelPageMap(a);return this._getSelectorLabelPage(e)},getSelectorLabelPageItemByEntityLongId:function(a,b,e){var f=new z;try{var g=d.parseEntityLongId(a),h=d.parseEntityLongId(b);if(-1===g||-1===h)f.reject();else{var k=function(a){if(!a)return f.reject(),!1;var b=a.entityLongIds[0].indexOf(g);if(-1===b)return f.reject(),!1;f.resolve(this._createItem(a,b));
return!0}.bind(this);this._getSelectorLabelPageWithDeferred(b,f,k,e)}}catch(l){f.reject(l)}finally{return f.promise}},getSelectorLabelPageItemByEntityLongIdSync:function(a,b){var d=null;this.getSelectorLabelPageItemByEntityLongId(a,b,!0).then(function(a){d=a},function(a){a&&console.error(a)});return d},getSelectorLabelPageItemsByLabel:function(a,b,e){var f=new z;try{if("string"!==typeof a||0===a.length)f.reject();else if(-1===d.parseEntityLongId(b))f.reject();else{var g=function(d){if(!d)return f.reject(),
!1;for(var e=k.getHierarchyInfo(b),e=e&&e.isNumberedList,g=[],h=e?a:a.toLowerCase(),l=0;l<d.count;l++){var m=d.labels[0][l];!e&&"string"===typeof m&&(m=m.toLowerCase());h===m&&g.push(this._createItem(d,l))}f.resolve(g);return!0}.bind(this);this._getSelectorLabelPageWithDeferred(b,f,g,e)}}catch(h){f.reject(h)}finally{return f.promise}},getSelectorLabelPageItemsByLabelSync:function(a,b){var d=[];this.getSelectorLabelPageItemsByLabel(a,b,!0).then(function(a){d=a},function(a){a&&console.error(a)});return d},
getSelectorLabelPages:function(){return this._selectorLabelPages},getSerialNumbers:function(){return this._readCache.getSerialNumbers()},getValues:function(){try{this._updateObservers()}catch(a){throw new e.ClientException("anaplan.data._BaseModel.getValues",a);}},getViewDefinition:function(){return v.clone(this._viewDefinition)},isLineItemsOnColumns:function(){try{if(null===this._isLineItemsOnColumns){var a=this.getPageInfo();this._isLineItemsOnColumns=n.isLineItemsOnColumns(a)}}catch(b){throw new e.ClientException("anaplan.data._BaseModel.isLineItemsOnColumns",
b);}return this._isLineItemsOnColumns},isLineItemsOnRows:function(){try{if(null===this._isLineItemsOnRows){var a=this.getPageInfo();this._isLineItemsOnRows=n.isLineItemsOnRows(a)}}catch(b){throw new e.ClientException("anaplan.data._BaseModel.isLineItemsOnRows",b);}return this._isLineItemsOnRows},isSavedView:function(){try{null===this._isSavedView&&(this._isSavedView=n.isSavedView(this._viewReference))}catch(a){throw new e.ClientException("anaplan.data._BaseModel.isSavedView",a);}return this._isSavedView},
isSuspended:function(){return this._suspended},onViewDefinitionChanged:function(){},refresh:function(a,b){this.reset();this.resetViewDefinitionSerialNumber();this.resetIndexSelectorLabelPageMap();this._setViewDefinition(this.getViewDefinition(),Math.max(0,a||0),Math.max(0,b||0))},reset:function(){try{this._initialized=!1,this._isLineItemsOnColumns=this._isLineItemsOnRows=this._isSavedView=null,this._viewIndex=-1,this._moduleEntityLongId=this._lineItemEntityLongIdForPageInfo=this._savedViewEntityLongId=
this._hierarchyEntityLongId=null,this._pageInfo={},this._selectorLabelPages=[],this._readCache.clear()}catch(a){throw new e.ClientException("anaplan.data._BaseModel.reset",a);}},resetIndexSelectorLabelPageMap:function(){this._indexSelectorLabelPageMap={}},resetViewDefinitionSerialNumber:function(){this._readCache.resetViewDefinitionSerialNumber()},resume:function(){this._suspended?(this._suspended=!1,-1!==this._viewIndex&&this._update()):console.warn("anaplan.data._BaseModel.resume: not suspended")},
setPageSelectorEntityLongId:function(b,e,g,h){if(!b||!e)return!1;e=d.getEntityTypeIndex(b);e=d.getEntityTypeEntityLongId(e);e=this._getSelectorIndexUsingLabelPageMap(e);if(null!==e)return this._setPageSelectorEntityLongIdUsingIndexSelectorLabelPageMap(b,e,g,h);b=this.getViewDefinition();if(a.isNullOrUndefined(b))return console.warn("setPageSelectorEntityLongId expected to find viewDefinition and did not: module open on wire?"),!1;e=b.columnAxisSpecification&&n.axisSpecificationContainsBranchSync(b.columnAxisSpecification);
var k=b.rowAxisSpecification&&n.axisSpecificationContainsBranchSync(b.rowAxisSpecification),l=this.getPageInfo();e&&n.setColumnAxisCurrentRootItems(b,l);k&&n.setRowAxisCurrentRootItems(b,l);if(e||k)l=f.getContextIdentifiers(),b.globalContextIdentifiers=l,this._setViewDefinition(b,g,h);return e||k},setViewDefinition:function(a){a&&(this._setViewDefinition(a),this.onViewDefinitionChanged(a))},setViewReference:function(a){this._viewReference=a;this._viewIndex=-1;this._initialized=!1},suspend:function(){this._suspended?
console.warn("anaplan.data._BaseModel.suspend: already suspended"):this._suspended=!0},update:function(a){try{this._updateState(a[0]),this._suspended||this._update()}catch(b){throw new e.ClientException("anaplan.data._BaseModel.update",b);}},view:function(){var a=this._getViewOptions();return this._requestGenerator.getRequest(a)},_addViewChange:function(a){var b=new z;if(!a)return b.reject("anaplan/data/_BaseModel#_addViewChange: missing viewChange"),b.promise;this._viewChanges.push(a);this._viewChangePromises.push(b);
return b.promise},_createItem:function(a,b){var d={},e;for(e in a)this._isRequiredProp(a,e)&&(d[this._depluralize(e)]=a[e]?a[e][0][b]:null);return d},_depluralize:function(a){return a.replace(/s$/,"")},_getColumnCount:function(){return this._readCache.getColumnCount()},_getColumnNesting:function(){return this._readCache.getColumnNesting()},_getFixedColumnCount:function(){return this._readCache.getFixedColumnCount()},_getFixedRowCount:function(){return this._readCache.getFixedRowCount()},_getSelectorLabelPageWithDeferred:function(a,
b,d,e){e?(a=this.getSelectorLabelPage(a),(!a||!d(a))&&b.reject()):this.getSelectorLabelPage(a,d,function(a){b.reject(a)})},_getPageRequests:function(a){return a},_getRowCount:function(){return this._readCache.getRowCount()},_getRowNesting:function(){return this._readCache.getRowNesting()},_getSelectorIndexUsingLabelPageMap:function(a){if(!a||!this._indexSelectorLabelPageMap)return null;a=this._indexSelectorLabelPageMap[a];return 0<=a?a:null},_getSelectorLabelPage:function(a){if(0>a||a>=this._selectorLabelPages.length)return console.warn("_BaseModel _getSelectorLabelPage TODO: replace with exception expected valid selector index found "+
a+" did you click on parent in hierarchygridview?"),null;var b=this._selectorLabelPages[a];return!b?(console.warn("_BaseModel getSelectorLabelPage TODO: replace with exception selector label page not found "+a),null):b},_getSerialNumbersForPageRequests:function(a){var b=null;try{b=this.getSerialNumbers();if(!a)return b;for(var d=0,f=a.length;d<f;d++)if(!this._readCache.isItem(a[d].startRow,a[d].startColumn))return b.resetColumnAxisSerialNumber(),b.resetDataSerialNumber(),b.resetRowAxisSerialNumber(),
b}catch(g){throw new e.ClientException("anaplan.data._BaseModel._getSerialNumbersForPageRequests",g);}return b},_getStaticContextEntityLongIds:function(){var a=[];this._viewDefinition.staticContextIdentifiers&&(a=d.entityLongIdIdentifiersToEntityLongIds(this._viewDefinition.staticContextIdentifiers));return a},_getValues:function(a){var b=null;try{var d=this._readCache,f=new q({rowNesting:d.getRowNesting(),columnNesting:d.getColumnNesting(),dataRowCount:d.getRowCount(),dataColumnCount:d.getColumnCount(),
fixedRowCount:d.getFixedRowCount(),fixedColumnCount:d.getFixedColumnCount(),serialNumbers:this.getSerialNumbers(),view:a,viewDefinition:this._viewDefinition});f.visitCache([d]);b=f.getValues()}catch(g){throw new e.ClientException("anaplan.data._BaseModel._getValues",g);}return b},_getView:function(){var a=null;try{a=this._observers&&this._observers.length?this._observers[0].view():{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}}catch(b){throw new e.ClientException("anaplan.data._BaseModel._getView",
b);}return a},_getViews:function(){return[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}]},_getViewDefinitionOrReference:function(){return this._viewDefinition||this._viewReference||null},_getViewOptions:function(a){a=this._getViews();a=this._pendingPageRequests=this._getPageRequests(a);a={modelId:modelId,pageRequests:a,cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this.getSerialNumbers(),viewIndex:this._viewIndex||-1,containerEntityLongId:this._containerEntityLongId};
a=v.mixin(a,this._viewDefinition?{viewDefinition:this._viewDefinition}:{viewReference:this._viewReference});a.state=this._getStates();this._viewChanges&&this._viewChanges.length&&(a=v.mixin(a,{viewChanges:this._viewChanges}),this._pendingViewChangePromises.push(this._viewChangePromises),this._viewChanges=[],this._viewChangePromises=[]);return a},_getStates:function(){return{}},_forceLoadSelectorLabelPages:function(d,f,g,k){var l=this,m=this._getPageRequests([this._getView()]);g=(new h(workspaceId)).getRequest({modelId:modelId,
viewDefinition:this._viewDefinition,pageRequests:m,cellSelectorLabelsRequired:a.isNullOrUndefined(g)?!0:g,pageSelectorLabelsRequired:a.isNullOrUndefined(k)?!0:k,viewIndex:this._viewIndex});p.post(g,!d,function(a,g){if(a.error)f&&f(a,g);else if(a.result&&a.result.errorInfo){if(a.result.errorInfo.isKnownError)b.showErrorReporter(new e.BaseException(a.result.errorInfo.errorMessage),!0);else{var h=new e.ServerException(a.result.errorInfo.errorMessage);h.setModelRestored(!0);b.showErrorReporter(h)}f&&
f(a,g)}else l._setPageAxisResult(a.result.viewRequestResults[0]),d&&d()},function(a,d){if(a.result&&a.result.errorInfo)if(a.result.errorInfo.isKnownError)b.showErrorReporter(new e.BaseException(a.result.errorInfo.errorMessage),!0);else{var g=new e.ServerException(a.result.errorInfo.errorMessage);g.setModelRestored(!0);b.showErrorReporter(g)}f&&f(a,d)})},_isRequiredProp:function(a,b){return a.hasOwnProperty(b)&&-1===["count","guid","nestingCount","start"].indexOf(b)},_notifyViewChanges:function(){var a=
this._pendingViewChangePromises.shift();a&&(this._fulfilledViewChangePromises=this._fulfilledViewChangePromises.concat(a));0===this._viewChangePromises.length&&0===this._pendingViewChangePromises.length&&(t.forEach(this._fulfilledViewChangePromises,function(a){a.resolve()}),this._fulfilledViewChangePromises=[])},_setPageAxisResult:function(a){var b,d;a&&(b=this.getSerialNumbers(),d=new l(a.serialNumbers),b.pageInfoSerialNumber!==d.pageInfoSerialNumber&&(this._pageInfo=a.pageInfo,this._selectorLabelPages=
[],this._indexSelectorLabelPageMap={}),a.selectorLabelPages&&a.selectorLabelPages.length>=this._selectorLabelPages.length?(this._selectorLabelPages=a.selectorLabelPages,a.indexSelectorLabelPageMap&&(this._indexSelectorLabelPageMap=a.indexSelectorLabelPageMap)):a.indexSelectorLabelPageMap&&!this._selectorLabelPages.length&&(this._indexSelectorLabelPageMap=a.indexSelectorLabelPageMap))},_setPageSelectorEntityLongIdUsingIndexSelectorLabelPageMap:function(a,b,e,g){if(!a)return!1;var h=this.getIndexSelectorLabelPageMap(),
k=this._viewDefinition.currentPageIdentifiers.slice(),l=d.entityLongIdIdentifiersToEntityLongIds(k),m=!1,n=null,r;for(r in h)if(h[r]==b)for(var p=d.getEntityIndex(r),q=l.length-1;0<=q;q--)d.getEntityTypeIndex(l[q])==p&&(n=k[q],l.splice(q,1),m=!0);m?(b=f.getContextIdentifiers(),null!=n&&b.push(n),l.splice(0,0,a),this._setViewDefinition(v.mixin(this.getViewDefinition(),{currentPageIdentifiers:d.entityLongIdsToEntityLongIdIdentifiers(l),globalContextIdentifiers:b}),e,g)):console.warn("TODO: failed to find slot",
a);return m},_setViewDefinition:function(a){this._viewDefinition=a;this._viewIndex=-1;this._initialized=!1},_update:function(){this._initialized=!0;this._updateObservers();this._notifyViewChanges()},_updateState:function(a){var b;"undefined"===typeof a.viewDefinition.themeId&&(a.viewDefinition.themeId=g.getDefaultThemeIdFromModelProperties());try{this._setPageAxisResult(a);b=this.getSerialNumbers().viewDefinitionSerialNumber;if(-1!==b&&"-1"!==b&&b!==a.serialNumbers.viewDefinitionSerialNumber)this.onViewDefinitionChanged(a.viewDefinition);
this._readCache.setResult(a);this._viewIndex=a.viewIndex;this._viewDefinition=a.viewDefinition}catch(d){throw new e.ClientException("anaplan.data._BaseModel._updateState",d);}},_updateObservers:function(){try{if(!this._readCache.isEmpty()){var a=this._getView();this.notifyObservers(this._getValues(a),this.getPageInfo())}}catch(b){throw new e.ClientException("anaplan.data._BaseModel._updateObservers",b);}}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),
function(l,s,p,q,f,k,n,m,h){return l("dijit.form.DropDownButton",[k,n,m],{baseClass:"dijitDropDownButton",templateString:h,_fillContent:function(){if(this.srcNodeRef){var e=p("*",this.srcNodeRef);this.inherited(arguments,[e[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var e=p("[widgetId]",this.dropDownContainer)[0];e&&(this.dropDown=q.byNode(e));delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},loadDropDown:function(e){var f=this.dropDown,d=f.on("load",s.hitch(this,function(){d.remove();e()}));f.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"anaplan/widgets/SearchToolbarButton":function(){define(["anaplan/utils/UIHelper","anaplan/widgets/DropDownButton","anaplan/widgets/SearchPane","dojo/_base/declare","dojo/dom-class"],function(l,s,p,q,f){return q(s,{constructor:function(f){try{this._widget=
f.widget||null,this._model=f.model||null,this._getPageIndicesToExcludeFromSearchResult=f.getPageIndicesToExcludeFromSearchResult||function(){return[]}}catch(n){l.throwClientException(this,n)}},openDropDown:function(){try{this.inherited(arguments),this.dropDown.set("pageIndicesToExcludeFromSearchResult",this._getPageIndicesToExcludeFromSearchResult()),this.dropDown.search()}catch(f){l.throwClientException(this,f)}},postCreate:function(){try{this.inherited(arguments),this.dropDown=new p({widget:this._widget,
model:this._model}),f.add(this.domNode,"searchButton")}catch(k){l.throwClientException(this,k)}},startup:function(){try{this.inherited(arguments),this.dropDown.startup()}catch(f){l.throwClientException(this,f)}},_assignToDropDown:function(f){this.dropDown&&("model"===f?this.dropDown.set(f,this._getModelAttr()):this.dropDown.set(f,this._getWidgetAttr()))},_setModelAttr:function(f){this._model=f;this._assignToDropDown("model")},_getModelAttr:function(){return this._model},_setWidgetAttr:function(f){this._widget=
f;this._assignToDropDown("widget")},_getWidgetAttr:function(){return this._widget}})})},"anaplan/api/Fetchers/Entities/ColourPalettes":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Entities/Base/LabelPageWithDataPages","anaplan/utils/JsHelper"],function(l,s,p){return l([s],{_populateData:function(l,f){var k=this.inherited(arguments);if(p.isObject(l)){var n=l.COLOR_PALETTE_COLORS&&l.COLOR_PALETTE_COLORS.cellValue?l.COLOR_PALETTE_COLORS.cellValue:"";k.colours=0===n.length?[]:n.split(",");
k.isSelected=(l.COLOR_PALETTE_SELECTED?l.COLOR_PALETTE_SELECTED.cellValue:!1)||!1}else console.warn("Expected data object for the Module when trying to _populateData");return k}})})},"anaplan/api/Services/functionalAreas":function(){define(["anaplan/api/Entities/FunctionalAreas"],function(l){return new l})},"anaplan/gridlet/_editor/EditorFactory":function(){define("anaplan/constants anaplan/gridlet/_editor/ActionEditor anaplan/gridlet/_editor/BooleanEditor anaplan/gridlet/_editor/DateEditor anaplan/gridlet/_editor/DefaultEditor anaplan/gridlet/_editor/FormatEditor anaplan/gridlet/_editor/HTML5DateEditor anaplan/gridlet/_editor/LinkEditor anaplan/gridlet/_editor/ListEditor anaplan/gridlet/_editor/MailToEditor anaplan/gridlet/_editor/MultiSelectEntityEditor anaplan/gridlet/_editor/MultiSelectListEditor anaplan/gridlet/_editor/MultiSelectModuleEditor anaplan/gridlet/_editor/SummaryEditor anaplan/gridlet/_editor/TextEditor anaplan/gridlet/_editor/TimeEntityEditor anaplan/widgets/Dialog dojo/_base/declare dojo/_base/lang dojo/has dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return v("anaplan.gridlet._editor.EditorFactory",null,{constructor:function(a){this._factoryParams=a||{};this.editors=this._getEditorDefinitions()},destroy:function(){for(var a in this.editors)this._destroyEditor(a)},getEditor:function(a){var b=z.mixin({},this._factoryParams,a),d=b.format;return d&&d.dataType?(a=this._getEditorType(d,b),b=this._getEditorParams(d,b),this._createEditorInstance(a,b)):this._createEditorInstance("NUMBER",b)},preloadDateEditor:function(a){this._preloadEditor("DATE",
a)},preloadDefaultEditor:function(a){this._preloadEditor("NUMBER",a)},preloadLinkEditor:function(){this._preloadEditor("LINK")},preloadListEditor:function(a){this._preloadEditor("ENTITY",a)},preloadTimeEntityEditor:function(a){this._preloadEditor("TIME_ENTITY",a)},preloadMailToEditor:function(){this._preloadEditor("MAILTO")},preloadTextEditor:function(a){this._preloadEditor("TEXT",a)},_createEditorInstance:function(a,b){this._isEditorCreated(a)||(this.editors[a].editor=new this.editors[a].editorClass(b));
return this.editors[a].editor},_destroyEditor:function(a){!this.editors[a].preventDestroy&&this.editors[a].editor&&(this.editors[a].editor.destroy(),this.editors[a].editor=null)},_getEditorDefinitions:function(){return{NUMBER:{editor:null,editorClass:f,editorType:"widget"},ENTITY:{editor:null,editorClass:h,editorType:"widget"},TIME_ENTITY:{editor:null,editorClass:t,editorType:"widget",preventDestroy:!0},DATE:{editor:null,editorClass:y("ios")?n:q,editorType:"widget"},MAILTO:{editor:null,editorClass:e,
preventDestroy:!0},LINK:{editor:null,editorClass:m,preventDestroy:!0},TEXT:{editor:null,editorClass:b,editorType:"widget"},BOOLEAN:{editor:null,editorClass:p,editorType:"widget"},SUMMARY:{editor:null,editorClass:r,editorType:"_dialog",roles:["summary"]},FORMAT:{editor:null,editorClass:k,editorType:"_dialog",roles:["format"]},MULTISELECT_MODULE:{editor:null,editorClass:a,editorType:"_dialog",roles:["multi-select-module"]},MULTISELECT_ENTITY:{editor:null,editorClass:g,editorType:"_dialog",roles:["multi-select-entity"]},
MULTISELECT_LIST:{editor:null,editorClass:d,editorType:"_dialog",roles:["multi-select-hierarchy"]},ACTION_DEFINITION:{editor:null,editorClass:s,editorType:"_dialog",roles:["action-definition"]},DIALOG:{editor:null,editorClass:u}}},_getEditorParams:function(a,b){var d=a.dataType;"MULTISELECT_USER"===d?b.submitTextValue=!0:"ACTION_DEFINITION"===d&&(b.style="");d=this._getEditorType(a,b);"_dialog"===this.editors[d].editorType&&(b.dialog=this._createEditorInstance("DIALOG",{roles:this.editors[d].roles}));
return b},_getEditorType:function(a,b){switch(a.dataType){case "TEXT":case "STATIC_TEXT":return a.textType===l.textFormatType.DRILLTHRU_URI?"LINK":a.textType===l.textFormatType.EMAIL_ADDRESS?"MAILTO":"TEXT";case "MULTISELECT_TAG":case "MULTISELECT_HIERARCHY":return!b.hasOwnProperty("isSelectionButtonClick")||b.isSelectionButtonClick?"MULTISELECT_LIST":"NUMBER";case "MULTISELECT_USER":return"MULTISELECT_LIST"}return a.dataType},_isEditorCreated:function(a){if(!this.editors[a])throw Error("Unsupported editor type: ",
a);var b=this.editors[a].editorType;return this.editors[a].editor&&(b?this.editors[a].editor[b]:!0)},_preloadEditor:function(a,b){var d=b?z.mixin({},this._factoryParams,b):void 0;this._createEditorInstance(a,d)}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(l,s,p,q,f,k){var n={};l.setObject("dojo.dnd.autoscroll",n);n.getViewport=k.getBox;n.V_TRIGGER_AUTOSCROLL=32;n.H_TRIGGER_AUTOSCROLL=32;n.V_AUTOSCROLL_VALUE=
16;n.H_AUTOSCROLL_VALUE=16;var m,h=p.doc,e=Infinity,g=Infinity;n.autoScrollStart=function(d){h=d;m=k.getBox(h);d=p.body(h).parentNode;e=Math.max(d.scrollHeight-m.h,0);g=Math.max(d.scrollWidth-m.w,0)};n.autoScroll=function(d){var a=m||k.getBox(h),f=p.body(h).parentNode,b=0,l=0;d.clientX<n.H_TRIGGER_AUTOSCROLL?b=-n.H_AUTOSCROLL_VALUE:d.clientX>a.w-n.H_TRIGGER_AUTOSCROLL&&(b=Math.min(n.H_AUTOSCROLL_VALUE,g-f.scrollLeft));d.clientY<n.V_TRIGGER_AUTOSCROLL?l=-n.V_AUTOSCROLL_VALUE:d.clientY>a.h-n.V_TRIGGER_AUTOSCROLL&&
(l=Math.min(n.V_AUTOSCROLL_VALUE,e-f.scrollTop));window.scrollBy(b,l)};n._validNodes={div:1,p:1,td:1};n._validOverflow={auto:1,scroll:1};n.autoScrollNodes=function(d){for(var a,e,b,g,h,k,l=0,m=0,w=d.target;w;){if(1==w.nodeType&&w.tagName.toLowerCase()in n._validNodes){b=f.getComputedStyle(w);g=b.overflow.toLowerCase()in n._validOverflow;h=b.overflowX.toLowerCase()in n._validOverflow;k=b.overflowY.toLowerCase()in n._validOverflow;if(g||h||k)a=q.getContentBox(w,b),e=q.position(w,!0);if(g||h){b=Math.min(n.H_TRIGGER_AUTOSCROLL,
a.w/2);h=d.pageX-e.x;if(s("webkit")||s("opera"))h+=p.body().scrollLeft;l=0;0<h&&h<a.w&&(h<b?l=-b:h>a.w-b&&(l=b),w.scrollLeft+=l)}if(g||k){g=Math.min(n.V_TRIGGER_AUTOSCROLL,a.h/2);k=d.pageY-e.y;if(s("webkit")||s("opera"))k+=p.body().scrollTop;m=0;0<k&&k<a.h&&(k<g?m=-g:k>a.h-g&&(m=g),w.scrollTop+=m)}if(l||m)return}try{w=w.parentNode}catch(x){w=null}}n.autoScroll(d)};return n})},"anaplan/widgets/_SelectorDropdown":function(){define("anaplan/Exceptions anaplan/layout/ContentPane anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory anaplan/utils/UIHelper anaplan/utils/SubmissionHandler anaplan/widgets/PageSelectorHelper dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-style".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return m([s],{prependItem:null,selectedEntityLongId:-1,viewDefinition:null,constructor:function(){},onOpen:function(a){try{var m=this.domNode.parentNode;if("scroll"===d.get(m,"overflowY")){var b=g.getContentBox(m);this.resize({h:b.h,w:b.w});d.set(m,"overflowY","auto")}this.set("content",n.getLoadingMessage());var t=n.getContentViewRequestWithLabelPageRequest(this.viewDefinition,{start:0,count:-1});(new k({showPleaseWait:!1})).post([],[t],[]).then(h.hitch(this,function(a){try{if(this.domNode&&
!(0>=g.getMarginBox(this.domNode).w)){var b=a.result.viewRequestResults[0].rowLabelPages[0];null!==this.prependItem&&p.prependItemToLabelPage(b,this.prependItem);e.empty(this.containerNode);var d=g.getContentBox(this.domNode);q.createSelector({labelPage:b,selectedEntityLongId:String(this.selectedEntityLongId),widgetContainer:this.containerNode,disabled:!1,onSelectionChange:h.hitch(this,function(a,b){this.selectedEntityLongId=a;this.onSelectionChange({entityLongId:a,label:b})}),style:"width:"+d.w+
"px;height:"+d.h+"px;"})}}catch(k){f.showErrorReporter(new l.ClientException("anaplan.widgets._SelectorDropdown failed to create pageSelector",k,{id:this.id}))}}),h.hitch(this,function(a){f.showErrorReporter(new l.ClientException("anaplan.widgets._SelectorDropdown failed to retrieve contentView",a,{id:this.id}))}))}catch(s){f.showErrorReporter(new l.ClientException("anaplan.widgets._SelectorDropdown failed to generate contentView",s,{id:this.id}))}},onSelectionChange:function(a){}})})},"anaplan/api/Entities/Views":function(){define(["dojo/_base/declare",
"./Base/LabelPage","anaplan/api/Entity/View","anaplan/utils/JsHelper"],function(l,s,p,q){return l([s],{_entityClass:p,_moduleEntityLongIds:null,constructor:function(f){q.isObject(f)&&(q.isArray(f.moduleEntityLongIds)&&q.isObject(f.viewsLabelPage))&&this.setLabelPageAndModuleIds(f)},setLabelPageAndModuleIds:function(f){q.isArray(f.moduleEntityLongIds)&&(this._moduleEntityLongIds=f.moduleEntityLongIds);this.setLabelPage(f.viewsLabelPage)},_populateObject:function(f,k){var l=this.inherited(arguments);
l&&(l.hasInfo=!0,l.moduleEntityLongId=this._moduleEntityLongIds&&this._moduleEntityLongIds[f]?this._moduleEntityLongIds[f]:null);return l},clear:function(){this.inherited(arguments);this._moduleEntityLongIds=null}})})},"anaplan/actions/CopyToNumberedList":function(){define("anaplan/utils/UIHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/number dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/SimpleTextarea dijit/layout/BorderContainer dijit/layout/StackContainer anaplan/actions/_ActionButtonPanel anaplan/actions/_ActionMainView anaplan/actions/_ActionMixin anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/utils/EntityLongIdHelper dojo/text!anaplan/templates/actions/CopyToNumberedList/_ButtonPanel.html dojo/text!anaplan/templates/actions/CopyToNumberedList/_PasteCodesTopPanel.html dojo/text!anaplan/templates/actions/CopyToNumberedList/_PasteCodesButtonPanel.html dojo/text!anaplan/templates/actions/CopyToNumberedList/_PasteResultsTopPanel.html dojo/text!anaplan/templates/actions/CopyToNumberedList/_PasteResultsButtonPanel.html dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/copyToNumberedList anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C){var G=p(b,{baseClass:"copyToNumberedListButtonPanel",templateString:w,onPasteCodes:function(){},postCreate:function(){this.inherited(arguments);this.pasteCodesButton.set("label",C.buttonPasteCodes)},_setDisabledAttr:function(a){this.inherited(arguments);this.pasteCodesButton&&this.pasteCodesButton.set("disabled",a)}}),H=p(t,{checkIsEditableOnMultiSelectItems:!1,filterByAncestor:!1,isParentItemEditable:function(){return s.some(this.selectedItems,
function(a){return a.isItemEditable})},onPasteCodes:function(){},selectItemsFromLabelPage:function(a){this._multiSelect.setSelectionFromLabelPage(a)},_createButtonPanel:function(){var a=new G({region:"bottom",disabled:this.disabled});this.own(a.on("ok",q.hitch(this,"_onOk")),a.on("cancel",q.hitch(this,"onCancel")),a.on("pasteCodes",q.hitch(this,"onPasteCodes")));return a}}),L=p([h,e],{baseClass:"pasteCodesTopPanel",errorMessage:null,multiSelectHierarchyEntityLongId:-1,templateString:x,textAreaId:"",
postCreate:function(){this.inherited(arguments);this._setTextAreaLabel();this.textAreaId&&f.set(this.pasteCodesLabel,"for",this.textAreaId);l.setText(this.errorMessageContainer,this.errorMessage||"")},_setTextAreaLabel:function(){var a=v.getHierarchyLabel(z,this.multiSelectHierarchyEntityLongId),a=m.substitute(C.labelPasteCodesTextArea,{listName:a});l.setText(this.pasteCodesLabel,a)},_setErrorMessageAttr:function(a){this._set("errorMessage",a);this.errorMessageContainer&&l.setText(this.errorMessageContainer,
a||"")}}),F=p([h,e,g],{baseClass:"pasteCodesButtonPanel",templateString:A,onBack:function(){},onSubmitCodes:function(){},postCreate:function(){this.inherited(arguments);this.submitCodesButton.set("label",C.buttonSubmitCodes);this.backButton.set("label",C.buttonBack)},_setDisabledAttr:function(a){this._set("disabled",a);this.submitCodesButton&&this.submitCodesButton.set("disabled",a)}}),K=p(a,{errorMessage:null,loading:!1,gutters:!1,liveSplitters:!1,multiSelectHierarchyEntityLongId:-1,clear:function(){this.set("errorMessage",
null);this._textArea.set("value","")},onBack:function(){},onCancelError:function(){},onError:function(a){},onSubmitCodes:function(a){},postCreate:function(){this.inherited(arguments);f.set(this.domNode,"data-element-id","copyToNumberedListPasteCodesView");this._textArea=this._createTextArea();this._topPanel=this._createTopPanel();this._buttonPanel=this._createButtonPanel();this.addChild(this._textArea);this.addChild(this._topPanel);this.addChild(this._buttonPanel);k.toggle(this.domNode,"error",!!this.errorMessage)},
_createButtonPanel:function(){var a=new F({region:"bottom"});this.own(a.on("submitCodes",q.hitch(this,"_submitCodes")),a.on("back",q.hitch(this,"onBack")));return a},_createTextArea:function(){var a=new d({region:"center","data-element-id":"pasteCodesTextArea",intermediateChanges:!0});k.add(a.textbox,"pasteCodesTextArea");this.own(a.on("change",q.hitch(this,"_onTextAreaChange")));return a},_createTopPanel:function(){return new L({region:"top",multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,
textAreaId:this._textArea.id,errorMessage:this.errorMessage})},_onShow:function(){this._parseCodes();this._textArea.focus()},_onTextAreaChange:function(){this._textAreaChangeTimeout&&clearTimeout(this._textAreaChangeTimeout);this._textAreaChangeTimeout=setTimeout(q.hitch(this,function(){this._parseCodes()}),500)},_parseCodes:function(){var a=m.trim(this._textArea.get("value")).split(/\s*?\n\s*/);if(1E4<a.length)return this._buttonPanel.set("disabled",!0),this.onError(m.substitute(C.errorMaxPasteLimitExceeded,
{pasteCount:n.format(a.length),pasteLimit:n.format(1E4)})),[];this.onCancelError();this._buttonPanel.set("disabled",!a.length||1===a.length&&!a[0]);return a},_setErrorMessageAttr:function(a){this._set("errorMessage",a);this.domNode&&k.toggle(this.domNode,"error",!!a);this._topPanel&&this._topPanel.set("errorMessage",a)},_setLoadingAttr:function(a){this._set("loading",a);this._buttonPanel&&k.toggle(this._buttonPanel.domNode,"loading",a)},_submitCodes:function(){var a=this._parseCodes();a.length&&(this._buttonPanel.set("disabled",
!0),this.onSubmitCodes(a))}}),J=p([h,e],{baseClass:"pasteResultsTopPanel",result:null,templateString:D,postCreate:function(){this.inherited(arguments);l.setText(this.codesNotFoundTextAreaLabel,C.labelCodesNotFoundTextArea);l.setText(this.resultsLabel,C.labelResults)},_setResultAttr:function(a){this._set("result",a);a&&(l.setText(this.codesPastedInTotalLabel,1===a.numCodesPasted?C.labelOneCodePastedInTotal:m.substitute(C.labelCodesPastedInTotal,{count:a.numCodesPasted})),l.setText(this.codesAddedSuccessfullyLabel,
1===a.numCodesAdded?C.labelOneCodeAddedSuccessfully:m.substitute(C.labelCodesAddedSuccessfully,{count:a.numCodesAdded})),l.setText(this.duplicatesInPastedCodeLabel,1===a.numCodesDuplicate?C.labelOneDuplicateInPastedCode:m.substitute(C.labelDuplicatesInPastedCode,{count:a.numCodesDuplicate})),l.setText(this.itemsAlreadyExistInSelectionLabel,1===a.numCodesAlreadySelected?C.labelOneItemAlreadyExistsInSelection:m.substitute(C.labelItemsAlreadyExistInSelection,{count:a.numCodesAlreadySelected})),l.setText(this.codesNotFoundLabel,
1===a.codesNotFound.length?C.labelOneCodeNotFound:m.substitute(C.labelCodesNotFound,{count:a.codesNotFound.length})))}}),M=p([h,e,g],{baseClass:"pasteResultsButtonPanel",templateString:E,onOk:function(){},postCreate:function(){this.inherited(arguments);this.okButton.set("label",B.buttonOk)},_setDisabledAttr:function(a){this._set("disabled",a);this.okButton&&this.okButton.set("disabled",a)}}),I=p(a,{gutters:!1,liveSplitters:!1,result:null,onOk:function(){},postCreate:function(){this.inherited(arguments);
f.set(this.domNode,"data-element-id","copyToNumberedListPasteResultsView");this._buttonPanel=this._createButtonPanel();this._topPanel=this._createTopPanel();this._codesNotFoundTextArea=this._createCodesNotFoundTextArea();this.addChild(this._buttonPanel);this.addChild(this._topPanel);this.addChild(this._codesNotFoundTextArea)},_createButtonPanel:function(){var a=new M({region:"bottom"});this.own(a.on("ok",q.hitch(this,"onOk")));return a},_createCodesNotFoundTextArea:function(){return new d({region:"center",
readonly:!0,"class":"codesNotFoundTextArea","data-element-id":"codesNotFoundTextArea"})},_createTopPanel:function(){return new J({region:"top"})},_setResultAttr:function(a){this._set("result",a);this._topPanel.set("result",a);this._codesNotFoundTextArea.set("value",a&&a.codesNotFound?a.codesNotFound.join("\n"):"")}});return p([r,u],{postCreate:function(){this.inherited(arguments);f.set(this.domNode,"data-element-id","copyToNumberedList");this._mainView=this._createMainView();this._pasteCodesView=
this._createPasteCodesView();this._pasteResultsView=this._createPasteResultsView()},startup:function(){this.inherited(arguments);this.addChild(this._mainView);this.addChild(this._pasteCodesView);this.addChild(this._pasteResultsView)},_createMainView:function(){var a=new H({hierarchyEntityLongId:this.hierarchyEntityLongId,multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,selectedItems:this.selectedItems});this.own(a.on("cancel",
q.hitch(this,"onCancel")),a.on("ok",q.hitch(this,"_submit")),a.on("pasteCodes",q.hitch(this,"_onPasteCodes")));return a},_createPasteCodesView:function(){var a=new K({multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId});this.own(a.on("back",q.hitch(this,"_onBack")),a.on("submitCodes",q.hitch(this,"_submitCodes")),a.on("error",q.hitch(this,"_showPasteError")),a.on("cancelError",q.hitch(this,"_hidePasteError")));return a},_createPasteResultsView:function(){var a=new I;this.own(a.on("ok",
q.hitch(this,function(){this.selectChild(this._mainView)})));return a},_hidePasteError:function(){this._pasteCodesView.set("errorMessage",null);this.resize()},_onBack:function(){this._pasteCodesView.set("loading",!1);this.selectChild(this._mainView)},_onPasteCodes:function(){this.selectChild(this._pasteCodesView)},_showPasteError:function(a){this._pasteCodesView.set("errorMessage",a);this.resize()},_showPasteResults:function(a){this._pasteResultsView.set("result",a);this.selectChild(this._pasteResultsView)},
_submit:function(){var a,b;this._mainView.set("disabled",!0);this._mainView.set("loading",!0);a=this._mainView.get("value");if(a.length)b=s.filter(this.selectedItems,function(a){return a.isItemEditable}),b=s.map(b,function(a){return y.getEntityIndex(a.entityLongId)}).join(),a=s.map(a,function(a){return y.getEntityIndex(a)}).join(),a={actionId:"COPY_TO_NUMBERED_LIST",params:{modelId:modelId,targetEntityTypeIndex:z.getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),targetPropertyEntityIndex:y.getEntityIndex(this.propertyEntityLongId),
targetParentEntityIndices:b,sourceEntityIndicesToAdd:a,actionEntityLongId:this.actionEntityLongId}},this._doGather([],[],[a]).then(q.hitch(this,function(a){this._mainView.set("loading",!1);if(2!==a.length||1!==a[1].length)this.onError("Invalid response");else this.onComplete(null)}),q.hitch(this,function(a){this._mainView.set("loading",!1);if(a.isKnownError)this.onError(a.errorMessage);else this.onError(a)}));else this.onCancel()},_submitCodes:function(a){var b=y.getEntityIndex(this.multiSelectHierarchyEntityLongId),
d=this._mainView.get("value"),d=s.map(d,function(a){return y.getEntityIndex(a)});a={actionId:"LOOKUP_CODES",params:{modelId:modelId,hierarchyEntityIndices:[b],entityIndicesToExclude:[d],codesToLookup:a}};this._pasteCodesView.set("loading",!0);this._doGather([],[],[a]).then(q.hitch(this,function(a){if(!this._destroyed)if(2!==a.length||1!==a[1].length)this.onError("Invalid response from LOOKUP_CODES");else this.selectedChildWidget===this._pasteCodesView&&(this._pasteCodesView.set("loading",!1),this._pasteCodesView.clear(),
this._mainView.selectItemsFromLabelPage(a[1][0].newItemSelection),this._showPasteResults(a[1][0]))}),q.hitch(this,function(a){if(!this._destroyed)if(a.isKnownError)this._pasteCodesView.set("loading",!1),this._showPasteError(a.errorMessage);else this.onError(a)}))}})})},"anaplan/gridlet/Grid2Gridlet":function(){define("anaplan/constants anaplan/Exceptions anaplan/data/Aggregator anaplan/gridlet/_LinkMixin anaplan/gridlet/CoreClientSelectionConverter anaplan/gridlet/Gridlet anaplan/gridlet/Selection anaplan/gridlet/selection/CoordinatePair anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/format/util anaplan/widgets/DropDownButton anaplan/widgets/MenuItem dijit dijit/Tooltip anaplan/widgets/Menu dijit/MenuSeparator dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/gridlet dojo/keys dojo/mouse dojo/on dojo/query dojo/string dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P){var N=function(a){if(a&&1===a.ranges.length){var b=a.ranges[0].topLeft;a=a.ranges[0].bottomRight;return b.x.index===a.x.index&&b.y.index===a.y.index}return!1},Q=function(a,b){if(window.navigator.userAgent.indexOf("Trident/")){var d=document.createEvent("MouseEvents");d.initMouseEvent("contextmenu",!0,!0,null,1,a,b,a,b,!1,!1,!1,!1,2,null);return d}return new MouseEvent("contextmenu",{altKey:!1,bubbles:!0,button:2,buttons:2,
clientX:a,clientY:b,composed:!0,ctrlKey:!1,defaultPrevented:!0,detail:0,metaKey:!1,offsetX:a,offsetY:b,pageX:a,pageY:b,shiftKey:!1,which:3,x:a,y:b})};return y([k,q],{constructor:function(a){this._dynamicCellMenuDelegate=a.dynamicCellMenuDelegate||null;this._selectionCellMenuDelegate=a.selectionCellMenuDelegate||null;this._drillDownId=a.drillDownId||null;this._drillDownLevel=a.drillDownLevel||0;this._labelCells=[];this._grid2Factory=this._grid2=this._lastKeyDownTime=this._updateRetryTimeout=null;this._isDashboardGridlet=
!!a.dashboardElementType;this._lastSelection=null;this._widget=this;this._activeElementConnections=[];this._doNotBlurGrid=!1},scrollToSelection:function(){},postCreate:function(){try{if(this.inherited(arguments),this._editorFactory){var a=x.mixin({},this._editorFactoryParams,{"class":"grideditor"});this._editorFactory.preloadDefaultEditor(a);this._editorFactory.preloadListEditor(a);this._editorFactory.preloadDateEditor(a);this._editorFactory.preloadTextEditor(a);this._editorFactory.preloadLinkEditor(a);
this._editorFactory.preloadMailToEditor(a)}}catch(b){g.throwClientException(this,b)}},reset:function(){try{this._grid2&&(this._grid2.teardown(),this._grid2=null),this._initGrid2Factory(),this.inherited(arguments),this._hideCellMenuButton()}catch(a){g.throwClientException(this,a)}},setSelectionText:function(a){try{this._pasteNode.value=a,b.selectInputText(this._pasteNode)}catch(d){g.throwClientException(this,d)}},startup:function(){this.inherited(arguments);this._gridController.setBestSelection=function(){}},
uninitialize:function(){try{this._grid2&&(this._grid2.teardown(),this._grid2=null),this._grid2Factory=null,this._cellMenuButton&&(this._cellMenuButton.destroy(),this._cellMenuButton=null),this.inherited(arguments)}catch(a){g.throwClientException(this,a)}},_initGrid2Factory:function(){this._grid2Factory=new App.components.Grid2Factory({node:this.domNode,defaultColumnWidth:l.DEFAULT_COLUMN_WIDTH,defaultRowHeight:l.COLUMN_LABEL_HEIGHT});var a=this._grid2Factory.gridViewEstimate;this._view={x:[0,a.columnCount-
1],y:[0,a.rowCount-1]};var b=this,d=this._model._getViews.bind(b._model),e=!1;this._model._getViews=function(){if(b._model._initialized&&e)return d();e=!0;return[{x:[0,a.columnCount-1],y:[0,a.rowCount-1]}]};this._model._getStates=function(){return{selectionsContainer:b._selectionPayload||[]}}.bind(this._model)},layout:function(){this._grid2&&this._grid2.resize();this._grid2Factory?this._model._initialized&&this._model.getValues(this._view):this._initGrid2Factory()},_getWrapTextInHeadersProperty:function(a){if(a.columnSizes){a=
a.columnSizes.columnHeaderWrapping;if(a===l.columnHeaderWrapping.WRAP_2_LINES)return 2;if(a===l.columnHeaderWrapping.WRAP_3_LINES)return 3}return 0},getTreeControlVariables:function(a,b){var d=a.rows.treeLineSequences,d=d&&0<d[d.length-1].filter(function(a){return!!a}).length,e=x.getObject("rowAxisSpecification.axisDefinition.axisOrder",!1,b);return this._grid2Factory.translateTotalsDirection(d?e||anaplan.constants.TOTALS_POSITION_GROUP_DEFAULT:"DISABLED")},update:function(a){try{this._values=a[0];
this._pageInfo=a[1];var b=this;this._updateRetryTimeout&&(clearTimeout(this._updateRetryTimeout),this._updateRetryTimeout=null);var d=this._model,f=a[2],h;a[0]&&(h=Object.assign({},a[0],{sizing:{_defaultColumnWidth:f._defaultColumnWidth,_knownColumns:{indices:f._knownColumns.indices,widths:f._knownColumns.widths}}}));var k=f._rowLabelWidths.map(function(a){return a.width}).reverse();if(this._grid2)h&&this._grid2.update(h);else{var r=function(){b._activeEditor&&b._activeEditor.focus()},p=function(a){b._activeEditor?
(a&&a.type===l.eventTypes.MOUSE_DOWN&&b._endEdit(),b._endActiveEditor()):b._doNotBlurGrid=!0};if("number"===typeof h.columnCount&&"number"===typeof h.rowCount){var q=f._viewDefinition,t=this.getTreeControlVariables(h,q);this._grid2=this._grid2Factory.createGrid2WithConfig({treeMode:t.treeMode,treeDirection:t.treeControlMode,rowCount:h.dataRowCount,columnCount:h.dataColumnCount,rowLabelDepth:h.rowNesting,columnLabelDepth:h.columnNesting,initialFrameXY:{x:h.startColumn,y:h.startRow},themeId:this.themeId,
defaultColumnWidth:f._defaultColumnWidth,defaultRowHeight:l.COLUMN_LABEL_HEIGHT,rowLabelColumnWidths:k,requestData:function(a,e,f,g){b._view={x:[a,a+f-1],y:[e,e+g-1]};d.getValues(b._view)},initData:h,formatCellData:function(a){return e.unescapeHTML(null===a?"":a)},formatLabel:function(a){return e.unescapeHTML(null===a||void 0===a?"":a)},onViewRequired:function(a){b._view={x:[a.x0,a.x1],y:[a.y0,a.y1]};b._refreshActiveEditor();(a=document.querySelector(".dijitTooltip"))&&a.parentElement.removeChild(a)},
triggerLabelEditor:function(a,d,e){b._startEditFromGrid2Label(a,d,e.event);return{focus:r,end:function(a){p(a)}}},triggerEditor:function(a,d,e){b._startEditFromGrid2Cell(a,d,e.event);return{focus:r,end:function(a){p(a)}}},shouldToggle:function(a,d){return d&&(" "===d.key||"Spacebar"===d.key)&&!N(b._selection)},toggleBooleanCells:function(){b._gridController.attemptToggle(b._selection)},triggerContextMenu:function(){b._onContextMenu()},onSelectionChanged:function(a,d){b._selectionPayload=a;P.publish("anaplan/formula/restoreSelectionIfFormulaEdit");
var e=new n;if(0===d.length)b._selectionOriginatesFromGrid=!0,b._setSelection(null);else{e.setRanges(d);var f=d[d.length-1].currentCell;void 0!==f&&(e.currentCell=new m({x:f.x,y:f.y}));b._lastTranslatedGridSelection=e;b._selectionOriginatesFromGrid=!0;b._setSelection(e)}},isValidUrl:function(a){return!!a&&/^(http|https):\/\/(([a-zA-Z0-9$\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\-\u00C0-\u017F]+\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\/(([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\/([a-zA-Z0-9$\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\?([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?(\#([a-zA-Z0-9$\-_.+!*'(),;:@&=\/?]|%[0-9a-fA-F]{2})*)?)?$/.test(a)},
onGridKeyEvent:function(a){if("F8"===a.key)a.preventDefault(),a.stopPropagation(),a.altKey?b._gridController.drillToTransaction(b._selection):b._gridController.drillDown(b._selection,b._drillDownLevel,b._drillDownId);else if(" "===a.key||"Spacebar"===a.key)(b._selection.isWholeRowSelected()||b._selection.isWholeColumnSelected())&&b._gridController.attemptToggle(b._selection)},wrapTextInHeaders:b._getWrapTextInHeadersProperty(q),staticScrollBarPosition:!b._isDashboardGridlet,toggleSubsidiaryView:function(a){if("number"===
typeof a.id)b.onSubsidiaryViewSelect(a.id);else console.warn("Label does not have a valid id associated! Cannot toggle subsidiary view.")},toggleThreeDotMenu:function(a,d){if(d&&(d=d.querySelector(".three-dot"))){var e=d.getBoundingClientRect(),f=+(0<document.body.getBoundingClientRect().width-(e.left+250));b._onContextMenu();b.domNode.dispatchEvent(Q(e.left+16*f,e.top))}},onMouseEnteredCell:function(a,d){d&&(d.bb&&d.bb.markerEnabled)&&b._showBreakbackCellTooltip(a,d.aux.writeableLeafCellCount)},
onMouseExitedCell:function(a,d){b._hideTooltip()}});this._grid2.update();this._focusPending&&(this._onFocus(),this._focusPending=!1);this._initialized=!0}else d.getValues(b._view)}this.hideWaitMessage();this._hideHeldCellTooltip();this._setColumnHeaderWrappingStyle();this._activeEditor&&this._activeEditor.getDomNode().parentElement.classList.contains("label-editor-container");this.onUpdate(a)}catch(s){g.throwClientException(this,s)}},_onBlur:function(){this.inherited(arguments);this._grid2&&!this._doNotBlurGrid&&
this._grid2._grid.blurGrid();this._doNotBlurGrid=!1},_onFocus:function(){this.inherited(arguments);this._grid2?this._grid2._grid.focusGrid():this._focusPending=!0},_clearCellMenu:function(){try{this._cellMenu.destroyDescendants()}catch(a){console.error("anaplan.gridlet.DesktopGridlet._clearCellMenu",a)}},_copySelection:function(a){this._selection&&this._gridController.attemptCopy(this._selection,a)},_detectWheelEventSupport:function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==
document.onmousewheel?"mousewheel":"DOMMouseScroll"},_documentBeforePasteHandler:function(a){try{this._activeEditor||this._focus&&this._pasteNode.focus()}catch(b){g.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _documentBeforePasteHandler",b,{widgetId:this.id,selection:this._selection},a))}},_showHeldCellTooltip:function(){var a;a=(a=this._selection)&&a.currentCell?document.querySelector(['.anaplan-grid .grid-cells [data-cellid\x3d"_',a.currentCell.y.index,"-",a.currentCell.x.index,
'"]'].join("")):null;this._heldCellTooltipTimer&&(clearTimeout(this._heldCellTooltipTimer),this._heldCellTooltipTimer=null);a&&(this._heldCellTooltipTarget=a,b.showTooltip(F.heldCell,a),this._heldCellTooltipTimer=setTimeout(x.hitch(this,"_hideHeldCellTooltip"),1500))},_hideHeldCellTooltip:function(){this._heldCellTooltipTimer&&(clearTimeout(this._heldCellTooltipTimer),this._heldCellTooltipTimer=null);this._heldCellTooltipTarget&&(t.hide(this._heldCellTooltipTarget),this._heldCellTooltipTarget=null)},
_hideTooltip:function(){try{if(this._tooltipShowTimeout&&(clearTimeout(this._tooltipShowTimeout),this._tooltipShowTimeout=null),this._tooltipCellId){var a=E.byId(this._tooltipCellId);a&&anaplan.hideTooltip(a);this._tooltipCellId=null}}catch(b){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._hideTooltip",b);}},_showBreakbackCellTooltip:function(a,b){var d=this;this._showCellTooltip(a,function(){a=document.getElementById(a.id);anaplan.showTooltip(O.substitute(e.searchAndReplacePlaceholders(F.tooltipWriteableLeafCellCount),
{writeableLeafCellCount:b}),a);d._tooltipShowTimeout=null})},_hideCellMenuButton:function(){var a=this._cellMenuButton;a&&(a.domNode&&"none"!==a.domNode.style.display)&&(a.closeDropDown(),a.domNode.style.display="none")},_isSelectionCoordsEqual:function(a,b){var d,e;if(!a||!b)return!1;d=a instanceof n.CoordinatePair?a:new n.CoordinatePair(a);e=b instanceof n.CoordinatePair?b:new n.CoordinatePair(b);return d.equals(e)},_onCellMenuOpen:function(a){var b=!1;try{this._clearCellMenu();var d=this._gridController.getContext(),
e=this._cellMenuButton.targetSelection,f=-1;e?e.isWholeColumnSelected()?(f=e.getStartColumnIndex(d),b=!0):e.isWholeRowSelected()&&(f=e.getStartRowIndex(d)):console.warn("DesktopGridlet expected to find targetSelection on cellMenuButton",a);if(this._selectionCellMenuDelegate){var h=!0;this._selection&&z.some(this._selection.ranges,function(a){if(b){if(a.isColumnLabelSelected()&&f>=a.getStartColumnIndex(d)&&f<=a.getEndColumnIndex(d))return!0}else if(a.isRowLabelSelected()&&f>=a.getStartRowIndex(d)&&
f<=a.getEndRowIndex(d))return!0;return!1})&&(h=!1);var k="rows";h?e&&e.isWholeColumnSelected()&&(k="columns"):this._selection&&this._selection.isWholeColumnSelected()&&(k="columns");this._selectionCellMenuDelegate.populateCellMenu(this._cellMenu,this._gridController,h?e:null,k);this._cellMenu.getChildren().length&&this._cellMenu.addChild(new v)}this._dynamicCellMenuDelegate&&this._dynamicCellMenuDelegate.populateCellMenu(this._cellMenu,this._gridController,e);this._cellMenu.getChildren().length||
this._cellMenu.addChild(new r({label:F.messageNoActions,"class":"cellMenuLoading"}))}catch(l){g.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onCellMenuOpen",l,{widgetId:this.id},a))}},_onContextMenu:function(){try{if(this._selectionCellMenuDelegate){var a=this._selection;if(a){var b=null;a.isWholeRowSelected()?b="rows":a.isWholeColumnSelected()&&(b="columns");var d=null,e=null;this._selectionCellMenuDelegate&&(d=this._selectionCellMenuDelegate.getMenuItems(this._gridController,
a,b));null!==b&&this._dynamicCellMenuDelegate&&(e=this._dynamicCellMenuDelegate.getMenuItems(this._gridController,a));if(d||e){var f=g.getContextMenu();d&&f.addMenuItem(d);e&&f.addLazyMenuItem(e)}}}}catch(h){g.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _onContextMenu",h,{widgetId:this.id},{}))}},_pasteNodePasteHandler:function(a){try{var b=a.target,d=null;if(a.clipboardData){if(L("mac")&&L("webkit")){setTimeout(x.hitch(this,"_triggerPasteFromTargetNode",b),25);return}d=
a.clipboardData.getData("text/plain")}else if(window.clipboardData)d=window.clipboardData.getData("Text");else{setTimeout(x.hitch(this,"_triggerPasteFromTargetNode",b),25);return}d&&(this._doPaste(b,d),b.value="")}catch(e){e instanceof s.KnownException?g.showErrorReporter(e,!0):g.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _pasteNodePasteHandler",e,{widgetId:this.id,selection:this._selection},a))}},_postMouseDownHandler:function(a){var b=this._selection,d=this._values,
e,f,g,h;try{if(b){if(this._mouseDownCellClientX=a.clientX,this._mouseDownCellClientY=a.clientY,b.isSingleDataCellSelected()&&(f=b.currentCell.getCellIndexInView(d,this._pageInfo),(e=d.cells.formats[f])&&"BOOLEAN"===e.dataType))if(h=b.currentCell.getIndices({values:d}),g=E.byId(this._generateCheckboxId(h.x,h.y,h.nx,h.ny))){var k=G.position(g,!0);a.pageX>=k.x&&a.pageX<k.x+k.w&&a.pageY>=k.y&&a.pageY<k.y+k.h&&this._toggleCheckbox(g)}}else this._mouseDownCell=null}catch(l){throw new s.ClientException("anaplan.gridlet.DesktopGridlet#_postMouseDownHandler",
l);}},_isImportDataSourceImportsCell:function(a){var b={values:this._values},d=a.currentCell.getRowEntityLongIds(b);return d&&0<d.length&&h.getEntityTypeIndex(d[0])===l.IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX&&(a=a.currentCell.getColumnEntityLongIds(b))&&0<a.length&&a[0]===l.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_IMPORTS?!0:!1},_scrollEventHandler:function(){try{this.inherited(arguments),this._hideCellMenuButton()}catch(a){g.showErrorReporter(new s.ClientException("anaplan.gridlet.DesktopGridlet: _scrollEventHandler",
a,{widgetId:this.id},a))}},_showCellTooltip:function(a,b){try{a?this._tooltipCellId&&this._tooltipCellId===a.id||(this._tooltipShowTimeout&&(clearTimeout(this._tooltipShowTimeout),this._tooltipShowTimeout=null),this._hideTooltip(),this._tooltipCellId=a.id,this._tooltipShowTimeout=setTimeout(b,400)):this._hideTooltip()}catch(d){throw new s.ClientException("anaplan.gridlet.DesktopGridlet._showCellTooltip",d);}},_wrapString:function(a,b,d,e){if(a.length>b){for(var f=b;0<f&&!/\s/.test(a[f]);f--);0===
f&&(f=b);var g=a.substring(0,f);e=!e?1:e;return e<d?(a=a.substring(f+1),g+"\x3cbr\x3e"+this._wrapString(a,b,d,e+1)):g}return a},_showImportsCellTooltip:function(a,b){var d=this;this._showCellTooltip(a,function(){anaplan.showTooltip(d._wrapString(e.escapeHTML(b),l.importsTooltip.LINE_LENGTH,l.importsTooltip.MAX_LINES),a,["above"]);d._tooltipShowTimeout=null})},_triggerPasteFromTargetNode:function(a){},_update:function(){try{this._hideTooltip(),this.inherited(arguments),this._labelCells=[],this._mouseOverLabelCellCoords=
null}catch(a){g.throwClientException(this,a)}},_attemptClear:function(a){return function(){if(this._assertDataRange(a)){var b=null;if(1===a.ranges.length){var d=a.ranges[0].topLeft,e=a.ranges[0].bottomRight;-1<d.x.index&&(-1<d.y.index&&-1<e.x.index&&-1<e.y.index)&&(b={x:[d.x.index,e.x.index],y:[d.y.index,e.y.index]})}if(b=b||a.getView(this.getContext(),!1)){this._model.assertSupportedRange(b);var f=[],g=this;this._forceLoad([b],!1,function(){var a=g._model.attemptClear(b).updatesCache;g._changeValidator&&
(f=f.concat(g._changeValidator.validateUpdatesCache(a,l.validatorActions.CLEAR)));f.length?g._gridView.confirm(null,f,function(){g._model.addNewUpdates(a,!0)},function(){g._model.cancelChanges()},g._changeValidator):g._model.addNewUpdates(a,!0)})}else ui.showInfoDialog(F.messageOperationUnavailableDueToSelection,{title:F.titleOperationUnavailable})}}.apply(this._gridController)},_isListEditor:function(){return this._activeEditor&&this._activeEditor._listCellSelectorArgs},_isDropDownEditor:function(){return this._activeEditor&&
this._activeEditor.widget.dropDown},_isDateEditor:function(){return this._activeEditor&&this._activeEditor.widget.dateClassObj},_isLinkEditor:function(){return this._activeEditor&&this._activeEditor.popup},_isTextEditor:function(){return this._activeEditor&&this._activeEditor.widget.containerNode&&"TEXTAREA"===this._activeEditor.widget.containerNode.tagName},_decorateEditorContainer:function(a){this._isLinkEditor()?a.classList.add("cell-like-input"):a.classList.remove("cell-like-input")},_setLinkEditorValue:function(a){var b=
/^\[([^\\]|\\\])+\]/,d=this._activeEditor.getValue();!d||/^\[\]/.test(d)?d=a:b.test(d)?d=d.replace(b,"["+a+"]"):(b=d.search(/(^])|[^\\]\].*/),d=-1===b?a:d.substring(0,b)+a);a=this._activeEditor.widget.isEnterMode;this._activeEditor.widget.isEnterMode=!1;this._activeEditor.setValue(d);this._activeEditor.widget.isEnterMode=a},_adjustTextAreaEditorPosition:function(a,b){a.style.width="292px";a.style.height="92px";var d=b.parentNode;92<b.offsetTop?(a.style.bottom=0,a.style.top=""):(a.style.top=0,a.style.bottom=
"");b.offsetLeft<d.offsetWidth-292-40?(a.style.left=0,a.style.right=""):(a.style.right=0,a.style.left="")},_styleEditorNode:function(a,b){a.style.position="auto";a.style.boxSizing="border-box";a.style.border="1px solid";a.style.borderRadius="2px";a.style.boxShadow="1px 1px 6px #aaa";b&&(a.style.top="-1px",a.style.left="-1px",a.style.width="calc(100% + 1px)",a.style.height="calc(100% + 1px)")},_translateEventKey:function(a){return"Subtract"===a?"-":a},_processKeyEventTriggerForEditor:function(a){var b=
this._translateEventKey(a.key);"keydown"===a.type&&"F2"!==b&&("Backspace"===b||"Insert"===b||"Delete"===b||"Del"===b?this._isLinkEditor()?this._setLinkEditorValue(""):this._activeEditor.widget.textbox.value="":b&&(this._refreshSearchOnMove=!0,this._isDateEditor()?(this._activeEditor.widget.textbox.value=b,/\d/.test(b)||this._activeEditor.widget.validate()):(this._prohibitOnChangeHandler=!0,this._isLinkEditor()?this._setLinkEditorValue(b):this._activeEditor.setValue(b),this._activeEditor.widget.refreshSearch&&
this._activeEditor.widget.refreshSearch())))},_startEditFromGrid2Label:function(a,b,d){this._startEditFromGrid2Cell({aux:{f:{textType:"GENERAL",dataType:"TEXT"},t:a.l,u:a.l,v:a.l},v:a.l},b,d,!0)},_startEditFromGrid2Cell:function(a,b,e,f){if(e&&("Delete"===e.key||"Del"===e.key))this._attemptClear(this._selection),this._dismissGrid2Editor(e);else{var g=a.aux.f,k=null,m=null;if("NUMBER"===g.dataType)"PERCENTAGE"===g.unitsType?(m=a.aux.v,k=d.applyDecimalSeparatorUsingCellFormat(a.v,g),""===k&&("NUMBER"===
g.dataType&&"PERCENTAGE"===g.unitsType&&"BLANK"===g.zeroFormat)&&(k="%")):(m=a.aux.v,k=d.formatNonPercentageOriginalNumberTextForEditor(a.aux.t,g));else{if("DATE"!==g.dataType&&"BOOLEAN"===g.dataType){this._dismissGrid2Editor(e);this._gridController.attemptToggle(this._selection,!1);N(this._selection)&&this._grid2.newCellUpdatePending(this._lastTranslatedGridSelection.currentCell.y.index,this._lastTranslatedGridSelection.currentCell.x.index,a.v);this._onFocus();return}k=a.v;m=a.aux.v}a=this._lastTranslatedGridSelection&&
this._lastTranslatedGridSelection.ranges&&this._lastTranslatedGridSelection.ranges.length&&this._lastTranslatedGridSelection.ranges[0].topLeft&&this._lastTranslatedGridSelection.ranges[0].topLeft.y&&this._lastTranslatedGridSelection.ranges[0].topLeft.y.entityLongIds?this._lastTranslatedGridSelection.ranges[0].topLeft.y.entityLongIds.slice().reverse():null;var n=this._gridController.getModuleEntityLongId();if(!n&&a)for(var r=0;r<a.length;r++){var p=a[r];if(p&&h.getEntityTypeIndex(p)===l.MODULE_ENTITY_TYPE_INDEX){n=
p;break}}var q=this._shouldUseEnterMode(e),g={cellNode:b,event:null,format:g,value:k,underlyingValue:m,isEnterMode:!!q,context:this._gridController.getContext(),moduleEntityLongId:n,selection:this._selection,rowEntityLongIds:a,isSelectionButtonClick:!e.key,style:"position: absolute; display: none; top: -50px;",containerNode:this._outerwrapper,wrapperNode:this._wrapper,parentWidget:this};this._activeEditor=this._editorFactory.getEditor(g);this._activeEditorConnections.push(M(this._activeEditor,"KeyDown",
x.hitch(this,"_cellEditorKeyDownHandler")));this._activeEditorConnections.push(M(this._activeEditor,"Change",x.hitch(this,"_cellEditorChangeHandler")));this._activeEditorConnections.push(M(this._activeEditor,"Cancel",x.hitch(this,function(a){this._endActiveEditor(a);this.focus()})));this._activeEditor.popup&&this._activeEditorConnections.push(M(this._activeEditor.popup,"Blur",x.hitch(this,"_cellEditorBlurHandler")));if(this._activeEditor._dialog)this._activeEditor.prepare(g).then(x.hitch(this,function(){this._activeEditor.show();
this._activeEditor.focus()}));else{var t=this._activeEditor.widget.domNode;this._activeElementConnections.push({target:t,connection:M(t,"mousedown",function(a){a.stopPropagation()})});!f&&this._isTextEditor()?(q?this._setModeToEnter():this._setModeToEdit(),b.appendChild(t),this._styleEditorNode(t),this._adjustTextAreaEditorPosition(t,b),this._activeEditor.show(),this._activeEditor.focus(),this._activeEditor.widget.set("value",g.isEnterMode?"":g.value),this._processKeyEventTriggerForEditor(e)):this._activeEditor.prepare(g).then(x.hitch(this,
function(){this._isLinkEditor()?(this._decorateEditorContainer(b),this._setLinkEditorValue(m)):(b.appendChild(t),this._styleEditorNode(t,!0));this._lockTimer&&(clearTimeout(this._lockTimer),this._lockTimer=null);this.unlock();q?this._setModeToEnter():this._setModeToEdit();this._activeEditor.show();this._activeEditor.focus();this._refreshSearchOnMove=!1;f||this._processKeyEventTriggerForEditor(e);/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&this._isListEditor()&&(this._prohibitOnChangeHandler=
!0)}),x.hitch(this,function(a){this._lockTimer&&(clearTimeout(this._lockTimer),this._lockTimer=null);this.unlock();this._endActiveEditor();this.focus()}))}}},_shouldUseEnterMode:function(a){if("keydown"===a.type){var b=a.keyCode;if(!a.ctrlKey&&!a.metaKey&&40<b&&(112>b||123<b))return!0}return!1},_dismissGrid2Editor:function(a){this._grid2&&(a&&a.key?this._grid2.dismissEditor({type:"key",event:a}):this._grid2.dismissEditor())},_endEdit:function(a){if(this._activeEditor)try{var b=this._selection,d=this._activeEditor.getValue();
"string"===typeof d&&(d=O.trim(d));var e=!("function"===typeof this._activeEditor.isValid&&!1===this._activeEditor.isValid());this._endActiveEditor(a||{key:"Escape",preventDefault:function(){}});if(e)if(b.isWholeRowSelected())this._gridController.endRowLabelEdit({event:a,currentCell:b.currentCell,value:d});else if(b.isWholeColumnSelected())this._gridController.endColumnLabelEdit({event:a,currentCell:b.currentCell,value:d});else{var f=this._gridController.endCellEdit({event:a,currentCell:b.currentCell,
value:d});f&&this._grid2.newCellUpdatePending(f.startRow,f.startColumn,f.cells.cellText[0])}}catch(h){g.showErrorReporter(h,h instanceof s.KnownException)}},_endActiveEditor:function(a){try{this._activeEditor&&(z.forEach(this._activeEditorConnections,function(a){a.remove()}),this._activeEditorConnections=[],z.forEach(this._activeElementConnections,function(a){a.connection.remove()}),this._activeElementConnections=[],this._activeEditor.hide(),this._activeEditor=null,this._setModeToNormal())}catch(b){throw new s.ClientException("anaplan.gridlet.Gridlet._endActiveEditor",
b);}finally{this._dismissGrid2Editor(a),this.focus()}},_cellEditorBlurHandler:function(){this._activeEditor&&this._endEdit()},_cellEditorChangeHandler:function(){this._activeEditor&&!this._beingDestroyed&&(this._prohibitOnChangeHandler||this._endEdit(),this._prohibitOnChangeHandler=!1)},_refreshActiveEditor:function(){this._raeTo&&(clearTimeout(this._raeTo),this._raeTo=null);var a=this._grid2.gridElement.querySelector(".cell-editor-container"),b=this,d=!(!a||!a.classList.contains("active"));d&&b._grid2._grid.blurGrid();
this._isListEditor()?d?this._raeTo=setTimeout(function(){var a=b._activeEditor;if(a){b._refreshSearchOnMove=b._refreshSearchOnMove||!!a.widget._lastInput;var d=b._refreshSearchOnMove?"refreshSearch":"showList";if(a.widget&&"function"===typeof a.widget[d])a.widget[d]()}b._raeTo=null},150):this._endEdit():this._isDropDownEditor()?d&&(this._raeTo=setTimeout(function(){b._activeEditor.focus()},150)):this._isLinkEditor()?d?this._raeTo=setTimeout(function(){b._activeEditor.show()},150):this._endEdit():
this._isTextEditor()&&d&&(this._raeTo=setTimeout(function(){b._adjustTextAreaEditorPosition(b._activeEditor.widget.domNode,a);b._activeEditor.focus()},50))},_cellEditorKeyDownHandler:function(a){try{if(this._isTextEditor()&&a&&("PageUp"===a.key||"PageDown"===a.key)){a.preventDefault();a.stopPropagation();var b=this._activeEditor.widget.domNode;b&&("PageUp"===a.key?b.setSelectionRange(b.value.length,b.value.length):"PageDown"===a.key&&b.setSelectionRange(0,0))}else{var d=b=0;switch(a.keyCode){case K.TAB:this._endEdit(a);
break;case K.ENTER:if(a.ctrlKey&&a.altKey){if(this._isModeEdit()&&this._isGeneralTextType(this._selection)){this._addLineBreak();a.preventDefault();break}}else{this._endEdit(a);break}break;case K.ESCAPE:this._dismissGrid2Editor(a);this._endActiveEditor();this.focus();break;case K.LEFT_ARROW:case K.RIGHT_ARROW:if(this._isModeEdit())return;L("ff")?this._endEdit(a):b=a.keyCode-K.UP_ARROW;break;case K.UP_ARROW:if(this._isModeEdit())return;L("ff")?this._endEdit(a):d=-1;break;case K.DOWN_ARROW:if(this._isModeEdit())return;
L("ff")?this._endEdit(a):d=1}(b||d)&&this._endEdit(a)}}catch(e){}},_usesHtmlRenderer:function(){return!1},addSelectionsContainer:function(a){return{timestamp:+new Date,selections:a}},_drawSelection:function(){var a=this._selectionOriginatesFromGrid,b=this._selection||null;this._selectionOriginatesFromGrid=!1;if(b!==this._lastTranslatedGridSelection||!a&&this._lastConvertedCoreClientSelection!==this._selectionPayload)this._selectionPayload=this._lastConvertedCoreClientSelection=this.addSelectionsContainer(f.convertCoreClientSelectionToGridSelection(b)),
p.gather()}})})},"anaplan/keyboard/shortcuts":function(){define(["dojo/has"],function(l){return{ANAPLAN_SHOW_KEYBOARD_SHORTCUT_LIST:{group:"GENERAL",shortcuts:[{shortcut:"?",altKey:!0},{shortcut:"?",altKey:!0},{shortcut:"/",altKey:!0,shiftKey:!0},{shortcut:",",altKey:!0,shiftKey:!0}]},ANAPLAN_TAB_BACK:{group:"NAVIGATION",shortcuts:[{shortcut:"\x3c",ctrlKey:!0},{shortcut:"\x3c",altKey:!0},{shortcut:"\x3c\x3e60",ctrlKey:!0}].concat(l("mac")?[{shortcut:",",altKey:!0},{shortcut:"\x3c\x3e60",altKey:!0},
{shortcut:",",altKey:!0,shiftKey:!0},{shortcut:",",shiftKey:!0,metaKey:!0}]:[{shortcut:",",ctrlKey:!0,shiftKey:!0},{shortcut:"\x3c\x3e226",ctrlKey:!0}])},ANAPLAN_TAB_FORWARD:{group:"NAVIGATION",shortcuts:[{shortcut:"\x3e",ctrlKey:!0},{shortcut:"\x3e",altKey:!0}].concat(l("mac")?[{shortcut:".",altKey:!0,shiftKey:!0},{shortcut:".",shiftKey:!0,metaKey:!0},{shortcut:"\x3c\x3e60",altKey:!0,shiftKey:!0}]:[{shortcut:".",ctrlKey:!0,shiftKey:!0},{shortcut:"\x3c\x3e60",ctrlKey:!0,shiftKey:!0},{shortcut:"\x3c\x3e226",
ctrlKey:!0,shiftKey:!0}])},ANAPLAN_SHOW_SETTINGS_TAB:{group:"NAVIGATION",shortcuts:[{shortcut:"s",shiftKey:!0,ctrlKey:!0,pending:!0}]},ANAPLAN_COPY:{group:"EDIT",shortcuts:[{shortcut:"c",ctrlKey:!0,placeholder:!0},{shortcut:"c",metaKey:!0,placeholder:!0}]},ANAPLAN_PASTE:{group:"EDIT",shortcuts:[{shortcut:"v",ctrlKey:!0,placeholder:!0},{shortcut:"v",metaKey:!0,placeholder:!0}]},ANAPLAN_TOGGLE_BLUEPRINT:{group:"DATA",shortcuts:[{shortcut:"space",shiftKey:!0,ctrlKey:!0},{shortcut:"space",shiftKey:!0,
metaKey:!0}]},ANAPLAN_DRILL_DOWN:{group:"DATA",shortcuts:[{shortcut:"f8",placeholder:!0}]},ANAPLAN_DRILL_TO_TRANSACTION:{group:"DATA",shortcuts:[{shortcut:"f8",altKey:!0,placeholder:!0}]},ANAPLAN_SEARCH:{group:"NAVIGATION",shortcuts:[{shortcut:"s",shiftKey:!0,ctrlKey:!0},{shortcut:"s",ctrlKey:!0,metaKey:!0}]},ANAPLAN_UNDO:{allowDefault:!0,group:"EDIT",shortcuts:[{shortcut:"z",ctrlKey:!0},{shortcut:"z",metaKey:!0}]}}})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),
function(l,s,p,q,f,k){var n=function(f){f=f||{};var e=p.getLocalization("dojo.cldr","number",p.normalizeLocale(f.locale)),g=f.pattern?f.pattern:e[(f.type||"decimal")+"Format"];f="number"==typeof f.places?f.places:-1!=g.indexOf(".")?g.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:e.decimal,places:f}},m=l("dijit.form.NumberTextBoxMixin",null,{pattern:function(f){return"("+(this.focused&&this.editOptions?this._regExpGenerator(s.delegate(f,this.editOptions))+"|":"")+this._regExpGenerator(f)+
")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:f.format,_regExpGenerator:f.regexp,_decimalInfo:n(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(f){var e="number"==typeof f.places?f.places:0;e&&e++;"number"!=typeof f.max&&(f.max=9*Math.pow(10,15-e));"number"!=typeof f.min&&(f.min=-9*Math.pow(10,15-e));this.inherited(arguments,[f]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value);this._decimalInfo=
n(f)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var f=this.get("value");"number"==typeof f&&!isNaN(f)&&(f=this.format(f,this.constraints),void 0!==f&&(this.textbox.value=f));this.inherited(arguments)}},format:function(f,e){var g=String(f);if("number"!=typeof f)return g;if(isNaN(f))return"";if(!("rangeCheck"in this&&this.rangeCheck(f,e))&&!1!==e.exponent&&/\de[-+]?\d/i.test(g))return g;this.editOptions&&this.focused&&(e=s.mixin({},e,this.editOptions));return this._formatter(f,e)},_parser:f.parse,
parse:function(f,e){var g=this._parser(f,s.mixin({},e,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(g))&&(g=this._parser(f,e));return g},_getDisplayedValueAttr:function(){var f=this.inherited(arguments);return isNaN(f)?this.textbox.value:f},filter:function(h){if(null==h||"string"==typeof h&&""==h)return NaN;"number"==typeof h&&(!isNaN(h)&&0!=h)&&(h=f.round(h,this._decimalInfo.places));return this.inherited(arguments,[h])},serialize:function(f,e){return"number"!=
typeof f||isNaN(f)?"":this.inherited(arguments)},_setBlurValue:function(){var f=s.hitch(s.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(f,!0)},_setValueAttr:function(f,e,g){if(void 0!==f&&void 0===g)if(g=String(f),"number"==typeof f)if(isNaN(f))g="";else{if("rangeCheck"in this&&this.rangeCheck(f,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(g))g=void 0}else f?f=void 0:(g="",f=NaN);this.inherited(arguments,[f,e,g])},_getValueAttr:function(){var h=this.inherited(arguments);
if(isNaN(h)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+f._realNumberRegexp(s.delegate(this.constraints))+"$").test(this.textbox.value))return h=Number(this.textbox.value),isNaN(h)?void 0:h}else return h},isValid:function(f){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var e=this.get("value");return!isNaN(e)&&this.rangeCheck(e,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?
!0:this.inherited(arguments):!1},_isValidSubset:function(){var f="number"==typeof this.constraints.min,e="number"==typeof this.constraints.max,g=this.get("value");if(isNaN(g)||!f&&!e)return this.inherited(arguments);var d=g|0,a=0>g,k=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),b=(this.maxLength||20)-this.textbox.value.length,l=k?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",d=k?d+"."+l:d+"",b=q.rep("9",b),k=g;a?k=Number(d+b):g=Number(d+b);return!(f&&g<this.constraints.min||
e&&k>this.constraints.max)}});l=l("dijit.form.NumberTextBox",[k,m],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=m;return l})},"anaplan/cf/ManageRulesView":function(){define("../constants ../data/ModelContentCache ../data/ModelContentHelper ../Exceptions ../utils/EntityLongIdHelper ../utils/UIHelper ../widgets/Button ./_ViewMixin dgrid/extensions/DijitRegistry dgrid/Keyboard dgrid/OnDemandGrid dgrid/Selection dijit/focus dijit/form/CheckBox dijit/layout/BorderContainer dijit/layout/ContentPane dijit/Tooltip dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/i18n!anaplan/nls/conditionalFormatting dojo/i18n!dijit/nls/common dojo/keys dojo/on dojo/sniff dojo/store/Memory dojo/string dojo/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M){var I=z("anaplan.cf.ManageRulesView._RulesGrid",[g,e,d,h],{selectionMode:"extended",cellNavigation:!1,allowSelectAll:!0});return z([b,m],{baseClass:"manageRulesView",gutters:!1,liveSplitters:!1,constructor:function(a){if(!a)throw new q.ClientException("anaplan.cf.ManageRulesView: missing args");if(!a.moduleEntityLongId)throw new q.ClientException("anaplan.cf.ManageRulesView: missing moduleEntityLongId");if(!a.conditionalFormattingInfo)throw new q.ClientException("anaplan.cf.ManageRulesView: missing conditionalFormattingInfo");
try{this._moduleEntityLongId=a.moduleEntityLongId,this._conditionalFormattingInfo=a.conditionalFormattingInfo,this._selectedLineItemIdentifiers=a.selectedLineItemIdentifiers||[],this._tooltips=[]}catch(b){throw new q.ClientException("anaplan.cf.EditRuleView",b);}},focusRuleGrid:function(){var a;try{a=v.map(this._getSelectedRuleIndices(),function(a){return this._ruleGridStore.get(a).lineItemToFormatIdentifier},this),this.selectRulesByTargetIdentifier(a)}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView.focusRuleGrid",
b);}},getAutoSizePixels:function(){return{maxHeight:500,maxWidth:600,minHeight:200,minWidth:400}},onActiveStateChange:function(){},onAddRule:function(){},onCancel:function(){},onDeleteRules:function(){},onEditRule:function(){},onSubmit:function(){},postCreate:function(){try{this.inherited(arguments),this._createRuleButtons(),this._createRuleGrid(),this._createDialogButtons(),this._createFormattingOptions(),this._updateRuleButtonState(),x.set(this.domNode,"tabindex","-1"),this.own(this.on("keydown",
function(a){a.keyCode===H.BACKSPACE?y.stop(a):a.keyCode===H.ENTER&&(y.stop(a),this.onSubmit())}))}catch(a){throw new q.ClientException("anaplan.cf.ManageRulesView.postCreate",a);}},prepare:function(a){var b,d;try{this.inherited(arguments);b=a.conditionalFormattingDefinition;d=w.hitch(this,function(){this._updateActiveCheckBox(b);this._updateRuleButtonState()});if(a.refreshRulesGrid)return this._updateRuleGrid(this._getRules(b)).then(d);d()}catch(e){throw new q.ClientException("anaplan.cf.ManageRulesView.prepare",
e);}return null},resize:function(){this.domNode&&this.inherited(arguments)},selectRuleAtIndex:function(b){var d,e,f;try{for(;!f&&0<=b;){if(e=this._ruleGridStore.get(b))f=e.lineItemToFormatIdentifier;b--}f?this.selectRulesByTargetIdentifier([f]):(d=this.domNode,setTimeout(function(){try{a.focus(d)}catch(b){}},25))}catch(g){throw new q.ClientException("anaplan.cf.ManageRulesView#selectRuleAtIndex",g);}},selectRulesByTargetIdentifier:function(a){var b,d;try{b=this._ruleGrid,d=this._ruleGridStore,b.clearSelection(),
a.length&&v.forEach(a,function(a,e){var f;f=d.query({lineItemToFormatIdentifier:a});if(f.length&&(f=d.getIdentity(f[0]),b.select(f),0===e&&(f=b.row(f))&&f.element))M.scrollIntoView(f.element),b.focus(f)}),d.data.length&&0===this._getSelectedRuleIndices().length&&this.selectRuleAtIndex(0)}catch(e){throw new q.ClientException("anaplan.cf.ManageRulesView.selectRulesByTargetIdentifier",e);}},uninitialize:function(){try{this._destroyTooltips(),this.inherited(arguments)}catch(a){throw new q.ClientException("anaplan.cf.ManageRulesView.uninitialize",
a);}},_convertHexRgbToHexArgb:function(a){try{return a.replace(/#(.+)/,"#FF$1")}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView#_convertHexRgbToHexArgb",b);}},_createDialogButtons:function(){var a;try{a=new t({"class":"buttons",region:"bottom"}),this._okButton=new n({label:G.buttonOk,disabled:!0,"class":"primary-button"}),this._cancelButton=new n({label:G.buttonCancel}),D.place(this._okButton.domNode,a.containerNode),D.place(this._cancelButton.domNode,a.containerNode),this.own(this._okButton.on("click",
w.hitch(this,"onSubmit")),this._cancelButton.on("click",w.hitch(this,"onCancel"))),this.addChild(a)}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView._createDialogButtons",b);}},_createFormattingOptions:function(){var a,b;try{b=new t({"class":this.baseClass+"FormattingOptions",region:"bottom"}),this._activeCheckBox=new r({checked:!0}),D.place(this._activeCheckBox.domNode,b.containerNode),a=dojo.create("label",{"for":this._activeCheckBox.id},b.domNode),k.setText(a,C.labelEnableConditionalFormatting),
this.own(this._activeCheckBox.on("change",w.hitch(this,"onActiveStateChange"))),this.addChild(b)}catch(d){throw new q.ClientException("anaplan.cf.ManageRulesView._createFormattingOptions",d);}},_createRuleButtons:function(){var a;try{a=new t({"class":this.baseClass+"RuleButtons",region:"top"}),this._addRuleButton=new n({label:C.buttonAddRule,disabled:!0}),this._editRuleButton=new n({label:C.buttonEditRule,disabled:!0}),this._deleteRuleButton=new n({label:C.buttonDeleteRule,disabled:!0}),D.place(this._addRuleButton.domNode,
a.containerNode),D.place(this._editRuleButton.domNode,a.containerNode),D.place(this._deleteRuleButton.domNode,a.containerNode),this.own(this._addRuleButton.on("click",w.hitch(this,"onAddRule")),this._editRuleButton.on("click",w.hitch(this,"_editRule")),this._deleteRuleButton.on("click",w.hitch(this,"_deleteRules"))),this.addChild(a)}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView._createRuleButtons",b);}},_createRuleGrid:function(){var a;try{this._ruleGridStore=new K({idProperty:"index"}),
a=new I({store:this._ruleGridStore,columns:this._getRuleGridColumns(),keepScrollPosition:!0,noDataMessage:C.messageNoRulesDefined,loadingMessage:C.messageLoading,region:"center"}),this.own(a.on("dgrid-refresh-complete",w.hitch(this,"_onRuleGridRefreshComplete")),a.on("dgrid-error",w.hitch(this,"_onRuleGridError")),a.on("dgrid-select",w.hitch(this,"_onRuleGridSelect")),a.on("dgrid-deselect",w.hitch(this,"_onRuleGridDeselect")),L(a.contentNode,"dblclick",w.hitch(this,"_onRuleGridDblClick"))),a.addKeyHandler(H.ENTER,
w.hitch(this,function(a){y.stop(a);this._editRule()})),a.addKeyHandler(H.BACKSPACE,w.hitch(this,function(a){y.stop(a);this._deleteRules()})),a.addKeyHandler(H.DELETE,w.hitch(this,function(a){y.stop(a);this._deleteRules()})),"ontouchstart"in document.documentElement&&this.own(a.on("touchstart",function(a){y.stop(a)})),this.addChild(a),this._ruleGrid=a}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView._createRuleGrid",b);}},_deleteRules:function(){var a=this._getSelectedRuleIndices();
if(a.length)this.onDeleteRules(a)},_destroyTooltips:function(){try{v.forEach(this._tooltips,function(a){a.destroyRecursive()}),this._tooltips=[]}catch(a){throw new q.ClientException("anaplan.cf.ManageRulesView._destroyTooltips",a);}},_disableButtons:function(){try{this._okButton.set("disabled",!0),this._addRuleButton.set("disabled",!0),this._editRuleButton.set("disabled",!0),this._deleteRuleButton.set("disabled",!0)}catch(a){throw new q.ClientException("anaplan.cf.ManageRulesView._disableButtons",
a);}},_editRule:function(){var a=this._getSelectedRuleIndices();if(1===a.length)this.onEditRule(a[0])},_getRuleGridColumns:function(){var a;try{a=[{label:C.columnLineItemToFormat,field:"lineItemToFormat",sortable:!1},{label:C.columnValuesFrom,field:"valuesFrom",sortable:!1},{label:C.columnFormat,field:"format",sortable:!1,renderCell:w.hitch(this,"_renderFormatRuleCell")}],this._conditionalFormattingInfo.hasInvalidRule()&&a.unshift({label:"!",field:"isValid",sortable:!1,renderCell:w.hitch(this,"_renderInvalidRuleCell")})}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView._getRuleGridColumns",
b);}return a},_getRules:function(a){var b,d,e;try{b=this._conditionalFormattingInfo,d=s.getModuleInfo(this._moduleEntityLongId),e=v.map(a.rules,function(a,e){var g,h;a.targetIdentifier&&(g=f.entityLongIdIdentifierToEntityLongId(a.targetIdentifier),g=p.getLineItemLabelFromModuleInfo(d,g));a.valuesIdentifier&&(h=f.entityLongIdIdentifierToEntityLongId(a.valuesIdentifier),h=p.getLineItemLabelFromModuleInfo(d,h));return{index:e,lineItemToFormat:g||"",lineItemToFormatIdentifier:a.targetIdentifier||null,
valuesFrom:h||(a.valuesIdentifier?null:"-- "+C.optionSameAsLineItemToFormat+" --"),valuesFromIdentifier:a.valuesIdentifier||null,isValid:b.isValid[e],error:b.errors[e],format:a.format}})}catch(g){throw new q.ClientException("anaplan.cf.ManageRulesView._getRules",g);}return e},_getSelectedRuleIndices:function(){var a,b,d;try{for(a in b=[],d=this._ruleGrid.selection,d)d.hasOwnProperty(a)&&d[a]&&b.push(Number(a))}catch(e){throw new q.ClientException("anaplan.cf.ManageRulesView._getSelectedRuleIndices",
e);}return b},_onRuleGridDblClick:function(a){A.contains(a.target,"dgrid-content")||this._editRule()},_onRuleGridDeselect:function(){this._updateRuleButtonState()},_onRuleGridError:function(a){k.showErrorReporter(new q.ClientException("anaplan.cf.ManageRulesView._onRuleGridError: "+a.error))},_onRuleGridRefreshComplete:function(){this._okButton.set("disabled",!1);this._updateRuleButtonState()},_onRuleGridSelect:function(){this._updateRuleButtonState()},_renderFormatRuleCell:function(a,b,d){var e,
f,g,h,k;try{b.formatType===l.conditionalFormatType.BG_COLOR_SCALE&&(e=b.bgColor,!e||2>e.length||3<e.length?console.error("anaplan.cf.ManageRulesView#_renderFormatRuleCell: invalid bgColor array length"):(f=document.createElement("div"),f.className=this.baseClass+"Preview",10>B("ie")?2===e.length?E.set(f,"filter",["progid:DXImageTransform.Microsoft.Gradient(GradientType\x3d1,StartColorStr\x3d",this._convertHexRgbToHexArgb(e[0]),",EndColorStr\x3d",this._convertHexRgbToHexArgb(e[1]),")"].join("")):3===
e.length&&(g=document.createElement("div"),E.set(g,{width:"50%",height:"100%","float":"left",filter:["progid:DXImageTransform.Microsoft.Gradient(GradientType\x3d1,StartColorStr\x3d",this._convertHexRgbToHexArgb(e[0]),",EndColorStr\x3d",this._convertHexRgbToHexArgb(e[1]),")"].join("")}),f.appendChild(g),g=document.createElement("div"),E.set(g,{width:8>B("ie")?"49%":"50%",height:"100%","float":"right",filter:["progid:DXImageTransform.Microsoft.Gradient(GradientType\x3d1,StartColorStr\x3d",this._convertHexRgbToHexArgb(e[1]),
",EndColorStr\x3d",this._convertHexRgbToHexArgb(e[2]),")"].join("")}),f.appendChild(g),8>B("ie")&&(g=document.createElement("div"),E.set(g,"clear","both"),f.appendChild(g))):(2===e.length?h=["(left,",e[0],",",e[1],")"].join(""):3===e.length&&(h=["(left,",e[0],",",e[1]," 50%,",e[2],")"].join("")),B("webkit")?k="-webkit-":B("mozilla")?k="-moz-":9<B("ie")||7<=B("trident")?k="-ms-":B("opera")&&(k="-o-"),k&&E.set(f,"backgroundImage",k+"linear-gradient"+h),E.set(f,"backgroundImage","linear-gradient"+h)),
d.appendChild(f)))}catch(m){throw new q.ClientException("anaplan.cf.ManageRulesView#_renderFormatRuleCell",m);}},_renderInvalidRuleCell:function(a,b,d){var e;try{a.isValid||(d.innerHTML='\x3cspan class\x3d"dijitReset dijitInline dijitIcon anaplanEditorIcon anaplanEditorIconInvalid"\x3e\x3c/span\x3e',e=new u({label:a.error,showDelay:250,connectId:[d]}),e.startup(),this._tooltips.push(e))}catch(f){throw new q.ClientException("anaplan.cf.ManageRulesView._renderInvalidRuleCell",f);}},_updateActiveCheckBox:function(a){try{this._activeCheckBox.set("checked",
a.isActive)}catch(b){throw new q.ClientException("anaplan.cf.ManageRulesView._updateActiveCheckBox",b);}},_updateRuleButtonState:function(){var a,b;try{a=this._getSelectedRuleIndices(),b=a.length,this._addRuleButton.set("disabled",!1),this._editRuleButton.set("disabled",1!==b),this._deleteRuleButton.set("disabled",1>b),this._deleteRuleButton.set("label",1<b?J.substitute(C.buttonDeleteRules,{ruleCount:b}):C.buttonDeleteRule)}catch(d){k.showErrorReporter(new q.ClientException("anaplan.cf.ManageRulesView._updateRuleButtonState",
d))}},_updateRuleGrid:function(a){var b,d,e;try{d=this._ruleGrid,e=this._ruleGridStore,this._destroyTooltips(),this._disableButtons(),this._ruleGrid.set("columns",this._getRuleGridColumns()),e.setData(a),b=d.refresh().then(w.hitch(this,function(){this._selectedLineItemIdentifiers.length&&this.selectRulesByTargetIdentifier(this._selectedLineItemIdentifiers);this._selectedLineItemIdentifiers=[]}))}catch(f){throw new q.ClientException("anaplan.cf.ManageRulesView._updateRuleGrid",f);}return b}})})},"anaplan/utils/InfoDialogHelper":function(){define("anaplan/utils/UrlHelper anaplan/widgets/InfoDialog dojo/_base/lang dojo/Deferred dojo/dom-class dojo/on dojo/i18n!anaplan/nls/dialog2".split(" "),
function(l,s,p,q,f,k,n){var m={showInfoDialog:function(h,e){var g,d,a="";e=e||{};g=new s({content:"string"===typeof h?h.replace(/\n/gm,"\x3cbr\x3e"):h});d=new q(function(){g.hide()});e.hasOwnProperty("sessionTimeout")&&document&&document.body&&f.add(document.body,e.sessionTimeout);e.hasOwnProperty("anapediaKey")&&(a='\x3ca href\x3d"'+l.createAnapediaUrl(e.anapediaKey)+'" target\x3d"_blank" class\x3d"anaplanDialogHelpButton"\x3e'+n.buttonHelp+"\x3c/a\x3e");if(e.hasOwnProperty("title")||""!==a){var m=
e.title||"";""!==a&&(m+=" "+a);g.set("title",m)}e.hasOwnProperty("actionButtonLabel")&&g.set("actionButtonLabel",e.actionButtonLabel);e.hasOwnProperty("actionButtonPrimary")&&g.set("actionButtonPrimary",e.actionButtonPrimary);e.hasOwnProperty("refocus")&&g.set("refocus",e.refocus);e.hasOwnProperty("error")&&e.error&&g.set("baseClass","informationDialog error");g.own(k(g,"hide",function(){g.destroyRecursive();d.resolve()}));g.show();return d.promise}};p.setObject("anaplan.utils.InfoDialogHelper",m);
return m})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,s,p,q,f,k){function n(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function m(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var d;d=a.lastChild;)a.removeChild(d)}var h={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},e=/<\s*([\w\:]+)/,g={},d=0,a="__"+s._scopeName+"ToDomId",r;for(r in h)h.hasOwnProperty(r)&&(s=h[r],s.pre="option"==r?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+s.join("\x3e\x3c")+"\x3e",s.post="\x3c/"+s.reverse().join("\x3e\x3c/")+"\x3e");var b;8>=p("ie")&&(b=function(a){a.__dojo_html5_tested="yes";var b=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(b){a.createElement(b)});u(b)});l.toDom=function(f,k){k=k||q.doc;var l=k[a];l||(k[a]=l=++d+"",g[l]=k.createElement("div"));8>=p("ie")&&!k.__dojo_html5_tested&&k.body&&b(k);f+="";var m=f.match(e),n=m?m[1].toLowerCase():"",l=g[l];if(m&&h[n]){m=h[n];l.innerHTML=m.pre+f+m.post;for(m=m.length;m;--m)l=l.firstChild}else l.innerHTML=f;if(1==l.childNodes.length)return l.removeChild(l.firstChild);for(n=k.createDocumentFragment();m=l.firstChild;)n.appendChild(m);return n};l.place=function(a,b,d){b=f.byId(b);
"string"==typeof a&&(a=/^\s*</.test(a)?l.toDom(a,b.ownerDocument):f.byId(a));if("number"==typeof d){var e=b.childNodes;!e.length||e.length<=d?b.appendChild(a):n(a,e[0>d?0:d])}else switch(d){case "before":n(a,b);break;case "after":d=a;(e=b.parentNode)&&(e.lastChild==b?e.appendChild(d):e.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":l.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){n(a,b.firstChild);break}default:b.appendChild(a)}return a};
var t=l.create=function(a,b,d,e){var g=q.doc;d&&(d=f.byId(d),g=d.ownerDocument);"string"==typeof a&&(a=g.createElement(a));b&&k.set(a,b);d&&l.place(a,d,e);return a};l.empty=function(a){m(f.byId(a))};var u=l.destroy=function(a){if(a=f.byId(a)){var b=a;a=a.parentNode;b.firstChild&&m(b);a&&(p("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(l,s,p,q){return l("dijit.form.NumberSpinner",
[p,q.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(f,k){var l=this.constraints,m=isNaN(f),h=!isNaN(l.max),e=!isNaN(l.min);m&&0!=k&&(f=0<k?e?l.min:h?l.max:0:h?this.constraints.max:e?l.min:0);var g=f+k;if(m||isNaN(g))return f;h&&g>l.max&&(g=l.max);e&&g<l.min&&(g=l.min);return g},_onKeyDown:function(f){if(!this.disabled&&!this.readOnly&&(f.keyCode==s.HOME||f.keyCode==s.END)&&!f.ctrlKey&&(!f.altKey&&!f.metaKey)&&"undefined"!=typeof this.get("value")){var k=this.constraints[f.keyCode==
s.HOME?"min":"max"];"number"==typeof k&&this._setValueAttr(k,!1);f.stopPropagation();f.preventDefault()}}})})},"anaplan/snav/widgets/multiselect/FilteringSelect":function(){define(["dijit/form/FilteringSelect","dojo/_base/declare"],function(l,s){return s([l],{_setItemsAttr:function(l){var q=this.store;q.data={identifier:"entityLongId",label:"name",items:l};q.close()}})})},"xstyle/has-class":function(){define(["dojo/has"],function(l){var s={};return function(){for(var p,q=arguments,f=0;f<q.length;f++)if(p=
q[f],!s[p]){s[p]=!0;var k=p.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),n=l(k[2]),m=-k[4];if((0<m?m<=n&&(-k[5]||m)>=n:!!n)==!k[1])document.documentElement.className+=" has-"+p}}})},"anaplan/Exceptions":function(){define("dojo/_base/declare anaplan/constants dojo/_base/array dojo/_base/kernel dojo/_base/lang anaplan/utils/JsHelper dojo/i18n!anaplan/nls/exceptions dojo/string".split(" "),function(l,s,p,q,f,k,n,m){var h=l([],{name:"AnaplanError",message:"",_eventProperties:"shiftKey altKey metaKey ctrlKey charCode keyCode keyChar clientX clientY screenX screenY currentTarget.id target.id relatedTarget.id timestamp".split(" "),
constructor:function(a,b,d,e){this.message=this._message=a;this._cause=b&&"object"===typeof b&&(b instanceof Error||b.isInstanceOf&&b.isInstanceOf(h))?b:null;this._props=d||{};this._timestamp=new Date;e&&(this._props.event={},p.forEach(this._eventProperties,function(a){f.exists(a,e)&&f.setObject(a,f.getObject(a,!1,e),this._props.event)},this),e.target&&f.setObject("target.node",e.target.toString(),this._props.event),e.currentTarget&&f.setObject("currentTarget.node",e.currentTarget.toString(),this._props.event),
e.relatedTarget&&f.setObject("relatedTarget.node",e.relatedTarget.toString(),this._props.event))},getLocalizedHelpMessage:function(){return null},getLocalizedMessage:function(){var a,b;if(this.cause)for(a=this.cause;a._cause;)a=a._cause;b=this.getMessage();a&&a.message&&(b+=" - "+a.constructor.name+": "+a.message);return b},getMessage:function(){return f.replace(this._substitute(this._message,this._props),function(a){return"\t"===a?"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;":"\n"===a?s.PLACEHOLDER.NEWLINE:
a},/[\n\t]/g)},getStackTrace:function(a){var b=q.global,d=[{timestamp:[a?this._timestamp.toUTCString():this._timestamp,"(client machine time)"].join(" "),localizedMessage:this.getLocalizedMessage(),message:this.getMessage(),props:f.mixin(this._props,{workspaceId:b.workspaceId||"",modelId:b.modelId||"",userId:b.userId||""})}];if(b=this._cause)b instanceof h?p.forEach(b.getStackTrace(a),function(a){d.push(a)}):b instanceof Error&&(a={type:b.name||"",message:b.message||"",props:{}},!a.message&&a.toString&&
(a.message=a.toString()),b.number&&(a.props.number=b.number),b.sourceURL&&(a.props.sourceURL=b.sourceURL),b.line&&(a.props.line=b.line),b.fileName&&(a.props.fileName=b.fileName),b.lineNumber&&(a.props.lineNumber=b.lineNumber),b.stack&&(a.props.stack=b.stack),b.description&&(a.props.description=b.description),d.push(a));return d},_getLocalizedMessage:function(a){if(!a)return this.getMessage();a=n[a];return!a?this.getMessage():this._substitute(a,this._props)},_substitute:function(a,b){return m.substitute(a,
b,function(a,b){return k.isNullOrUndefined(a)?["${",b,"}"].join(""):["'",a,"'"].join("")})}}),e=l(h,{constructor:function(a){this._message=a||"Known Exception"}}),g=l(h,{constructor:function(a){this._message=a||"Client Exception"}}),d=l(h,{constructor:function(a){this._message=a||"Illegal State ${state}"}}),a=l(h,{constructor:function(a){this._message=a||"Invalid Argument ${value}"},getLocalizedHelpMessage:function(){return""}}),r=l(e,{constructor:function(a){this._message=a||"Invalid ID ${value}"}}),
b=l(h,{constructor:function(a){this._message=a||"Index Out of Bounds ${index}"}}),t=l(h,{constructor:function(a){this._message=a||"Item Not Found ${item}"}}),u=l(h,{constructor:function(a){this._message=a||"Parse Exception"}}),v=l(h,{constructor:function(a){this._message=a||"Invalid Response"}}),z=l(h,{_isModelRestored:!1,constructor:function(a){this._message=a||"Server Exception"},getLocalizedHelpMessage:function(){return"\x26nbsp;"},getLocalizedMessage:function(){return this.getModelRestored()?
this._getLocalizedMessage("ServerExceptionModelHasBeenRestored"):this._getLocalizedMessage("ServerException")},getModelRestored:function(){return this._isModelRestored},setModelRestored:function(a){this._isModelRestored=a}}),y=l(h,{constructor:function(a){this._message=a||"Server Timeout Exception"},getLocalizedHelpMessage:function(){return this._getLocalizedMessage("ServerTimeoutExceptionHelpMessage")},getLocalizedMessage:function(){return this._getLocalizedMessage("ServerTimeoutException")}}),w=
l(h,{constructor:function(a){this._message=a||"Transport Exception"},getLocalizedMessage:function(){return this._getLocalizedMessage("TransportException")}}),x=l(h,{constructor:function(a){this._message=a||"Unable to Communicate with Server"},getLocalizedHelpMessage:function(){return this._getLocalizedMessage("UnableToCommunicateWithServerExceptionHelpMessage")},getLocalizedMessage:function(){return this._getLocalizedMessage("UnableToCommunicateWithServerException")}}),A=l(e,{constructor:function(a){this._message=
a||"Unsupported Operation ${operation}"}}),D=l(e,{constructor:function(a){this._message=a||"Invalid Number ${number}"},getLocalizedHelpMessage:function(){return"\x26nbsp;"},getLocalizedMessage:function(){return this._getLocalizedMessage("InvalidNumberException")}}),E=l(e,{constructor:function(a){this._message=a||"Invalid Date ${date}"},getLocalizedHelpMessage:function(){return"\x26nbsp;"},getLocalizedMessage:function(){return this._getLocalizedMessage("InvalidDateException")}}),B=l(h,{getLocalizedMessage:function(){return this._getLocalizedMessage("UnauthorizedUserException")}}),
C=l(g,{constructor:function(a){this._message=a||"User Abort Exception"}}),G=l(h,{exceptionList:[],constructor:function(a){this._message=a||"Multiple Exceptions";this.exceptionList=Array.prototype.slice.call(arguments,1)}});l=l(g,{cause:void 0,sourcePromise:null,promiseStack:"",constructor:function(a,b,d,e){this._message=a||"Unhandled promise rejection";this.cause=b;this.sourcePromise=d;this.promiseStack=e||""}});e={BaseException:h,ClientException:g,IllegalStateException:d,InvalidArgumentException:a,
InvalidIdException:r,KnownException:e,IndexOutOfBoundsException:b,ItemNotFoundException:t,ParseException:u,InvalidResponseException:v,ServerException:z,ServerTimeoutException:y,UnauthorizedUserException:B,InvalidDateException:E,InvalidNumberException:D,UnsupportedOperationException:A,UnableToCommunicateWithServerException:x,TransportException:w,UserAbortException:C,MultipleException:G,PromiseException:l,isException:function(a){return a instanceof h},isClientException:function(a){return a instanceof
g}};f.setObject("anaplan.Exceptions",e);return e})},"anaplan/view/ContextMenu":function(){define("dijit/Destroyable dijit/registry anaplan/widgets/Menu anaplan/widgets/MenuItem dijit/MenuSeparator dojo/_base/array dojo/query dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/i18n!anaplan/nls/contextMenu dojo/on".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){return m("anaplan.view.ContextMenu",[l],{constructor:function(){this._menu=new p({contextMenuForWindow:!0});this._menuItems=[];this._lazyMenuItems=
[];this.own(d(document.body,"contextmenu",e.hitch(this,"_onContextMenu")))},addLazyMenuItem:function(a){this._lazyMenuItems.push(a)},addMenuItem:function(a){this._menuItems.push(a)},destroy:function(){this._removeAndDestroyMenuItems();this._menu.destroyRecursive(!1);this._lazyMenuItems=this._menuItems=this._menu=null;this.inherited(arguments)},_insertMenuItems:function(a){var d=this._menu,b=this._menuItems;k.forEach(a,function(a,e){a instanceof Array?(0<e&&!(b[e-1]instanceof Array)&&d.addChild(new f),
k.forEach(a,function(a){d.addChild(a)}),e<b.length-1&&d.addChild(new f)):d.addChild(a)})},_notifyMenuItem:function(a){if((a=s.getEnclosingWidget(a))&&a.onShow)a.onShow()},_onContextMenu:function(a){var d;d=s.getEnclosingWidget(a.target);d.isInstanceOf(q)||d.isInstanceOf(p)?h.stop(a):(this._removeAndDestroyMenuItems(),!this._menuItems.length&&!this._lazyMenuItems.length&&this._menu.addChild(new q({label:g.noOperationsAvailable,disabled:!0})),this._insertMenuItems(this._menuItems),this._menuItems.length&&
this._lazyMenuItems.length&&this._menu.addChild(new f),this._insertMenuItems(this._lazyMenuItems),this._menuItems=[],this._lazyMenuItems=[],n(".anaplanMenuItem",this._menu.domNode).forEach(e.hitch(this,"_notifyMenuItem")))},_removeAndDestroyMenuItems:function(){var a=this._menu;k.forEach(a.getChildren(),function(d){a.removeChild(d);d.destroyRecursive(!1)})}})})},"anaplan/dashboard/dashboardWidgets/_ColumnChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/Column",
"dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._ColumnChart",[s,l],{})})},"anaplan/quicksum/QuickSum":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/format/util anaplan/gridlet/isGrid2Enabled anaplan/utils/SelectionHelper dijit/registry dojo/_base/declare dojo/_base/lang dojo/Evented dojo/topic dojo/i18n!anaplan/nls/quickSum".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){return n(h,{selection:null,constructor:function(d,a){this._options=
a||{};this._delayedHideMs=this._options.delayedHideMs||0;this._delayMs=this._options.delayMs||500;this._forceLoadDelayMs=this._options.forceLoadDelayMs||2E3;this._loadingIndicatorDelayMs=this._options.loadingIndicatorDelayMs||1500;this._focusedGrid=this._selection=this._values=this._loadingTimer=this._forceLoadTimer=this._delayTimer=this._delayedHideTimer=null;this._subscription=e.subscribe(d,this._onGridletSelectionChange.bind(this))},destroy:function(){this._stopTimers();this._subscription&&(this._subscription.remove(),
this._subscription=null)},hide:function(){this._focusedGrid=null;this._stopTimers();this.onHide()},show:function(d){this._values=d;this.onShow(d)},render:function(d,a){App.interim.renderReactNode(d,App.components.QuickSum,m.mixin({},this._values,{containerWidth:a,nls:g,onFocus:this._onFocus.bind(this),onBlur:this._onBlur.bind(this)}))},unmount:function(d){App.interim.unmountReactNode(d)},onHide:function(){},onShow:function(){},_calculateQuickSum:function(d,a){if(!a||!a.length)return null;var e={},
b=!1,f=!1,h=0,k=0,n=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,w=null,x=null;d&&d.dataType===l.dataTypes.NUMBER&&(x=d);var A=null,D=a[0].formats[0];D&&(A=D.dataType,!x&&A===l.dataTypes.NUMBER&&(x=D));x||(x=l.DEFAULT_NUMBER_FORMAT_DEFINITION);x.zeroFormat!==l.zeroFormat.ZERO&&(x=m.mixin({},x,{zeroFormat:l.zeroFormat.ZERO}));for(var D=a.length,E=0;E<D&&!b;E++)for(var B=a[E],C=B.cellValues.length,G=0;G<C&&!b;G++){var H=B.formats[G];if(H){var H=H.dataType,L=B.cellValues[G];H!==A&&(f=!0);H===
l.dataTypes.NUMBER?null!==L&&(H=parseFloat(L),w=null===w?H:w+H,H<n&&(n=H),H>q&&(q=H),k++,h++):H!==l.dataTypes.NONE&&h++}else b=!0}if(b)return e.warning=g.warningInsufficientData,e;f&&(e.warning=g.warningMixedContent);b=s.getAllCurrenciesLabelPage();null!==w&&(isFinite(w)&&w>=Number.MIN_SAFE_INTEGER&&w<=Number.MAX_SAFE_INTEGER?(e.sum=p.applyFormat(w,x,b),e.sumFullPrecision=w.toString(),k=w/k,e.average=p.applyFormat(k,x,b),e.averageFullPrecision=k.toString()):e.warning=g.warningOutOfRange);isFinite(n)&&
(e.min=p.applyFormat(n,x,b),e.minFullPrecision=n.toString());isFinite(q)&&(e.max=p.applyFormat(q,x,b),e.maxFullPrecision=q.toString());e.count=h.toString();return e},_fetchCachedData:function(d,a){var e=d.getContext(),b=f.getCurrentCell(a,e),e=f.getCellSelections(a,e);return{currentCell:b,cellBlocks:e}},_fetchDataAndCalculateQuickSum:function(d,a){this._startLoadingTimer();var e=k.byId(d);if(e){if(this._selection===a){var e=e.getGridController(),b=e.getContext();if(a.isComplete(b.model)){var f;try{f=
e.getCellCountInSelection(a)}finally{if(void 0===f||f>l.quickSum.CACHED_CELL_LIMIT){this._handleQuickSumResult({warning:g.warningInsufficientData});return}}(f=this._fetchCachedData(e,a))?(b=m.getObject("currentCell.format",!1,f),(f=this._calculateQuickSum(b,f.cellBlocks))?1>=f.count?this._handleQuickSumResult(null):f.warning===g.warningInsufficientData?this._startDelayedForceLoadTimer(e,a):this._handleQuickSumResult(f):this._handleQuickSumResult(null)):this.hide()}else this._stopTimers(),this.show({warning:g.warningInsufficientData})}}else this.hide()},
_handleForceLoadError:function(d){this._stopTimers();this.show({warning:g.warningInsufficientData})},_handleQuickSumResult:function(d){this._stopLoadingTimer();d?this.show(d):this.hide()},_onBlur:function(){this._focusedGrid||this._startDelayedHideTimer()},_onFocus:function(){this._stopDelayedHideTimer()},_onGridletSelectionChange:function(d,a){this._stopDelayedHideTimer();if(a||d===this._focusedGrid)this._selection=a,this._stopTimers(),!a||a.isSingleDataCellSelected()?(this._focusedGrid=null,this._startDelayedHideTimer()):
(this._focusedGrid=d,this.show(null),this._startDelayTimer(d,a))},_startDelayedHideTimer:function(){this._stopDelayedHideTimer();this._delayedHideTimer=setTimeout(this.hide.bind(this),this._delayedHideMs)},_startDelayTimer:function(d,a){this._stopDelayTimer();this._delayTimer=setTimeout(this._fetchDataAndCalculateQuickSum.bind(this,d,a),this._delayMs)},_startDelayedForceLoadTimer:function(d,a){this._forceLoadTimer=setTimeout(function(){this._selection===a&&d.forceLoadSelection(a).then(function(e){if(this._selection===
a){var b=f.getCurrentCell(a,d.getContext());e=this._calculateQuickSum(b?b.format:null,e);this._handleQuickSumResult(e)}}.bind(this),this._handleForceLoadError.bind(this))}.bind(this),this._forceLoadDelayMs)},_startLoadingTimer:function(){this._stopLoadingTimer();this._loadingTimer=setTimeout(this.show.bind(this,{isLoading:!0}),this._loadingIndicatorDelayMs)},_stopDelayedForceLoadTimer:function(){this._forceLoadTimer&&(clearTimeout(this._forceLoadTimer),this._forceLoadTimer=null)},_stopDelayedHideTimer:function(){this._delayedHideTimer&&
(clearTimeout(this._delayedHideTimer),this._delayedHideTimer=null)},_stopDelayTimer:function(){this._delayTimer&&(clearTimeout(this._delayTimer),this._delayTimer=null)},_stopLoadingTimer:function(){this._loadingTimer&&(clearTimeout(this._loadingTimer),this._loadingTimer=null)},_stopTimers:function(){this._stopDelayedHideTimer();this._stopDelayTimer();this._stopDelayedForceLoadTimer();this._stopLoadingTimer()}})})},"jxl/core/Util":function(){define([],function(){return{isArray:function(l){return l instanceof
Array||"[object Array]"===Object.prototype.toString.call(l)},isEmpty:function(l){if(null===l||void 0===l)return!0;if("object"!==typeof l)return!1;for(var s in l)if(Object.prototype.hasOwnProperty.call(l,s))return!1;return!0},regexEscape:function(l){return l.replace(/[\-\[\]\/\{}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26")}}})},"anaplan/dashboard/dashboardWidgets/_MapChart":function(){define(["anaplan/charts/Map","anaplan/dashboard/dashboardWidgets/_Chartlet","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._MapChart",
[l,s],{})})},"dojox/math/BigInteger":function(){define(["dojo","dojox"],function(l,s){function p(a,b,d){null!=a&&("number"==typeof a?this._fromNumber(a,b,d):!b&&"string"!=typeof a?this._fromString(a,256):this._fromString(a,b))}function q(){return new p(null)}function f(a,b,d,e,f,g){for(;0<=--g;){var h=b*this[a++]+d[e]+f;f=Math.floor(h/67108864);d[e++]=h&67108863}return f}function k(a,b,d,e,f,g){var h=b&32767;for(b>>=15;0<=--g;){var k=this[a]&32767,l=this[a++]>>15,m=b*k+l*h,k=h*k+((m&32767)<<15)+d[e]+
(f&1073741823);f=(k>>>30)+(m>>>15)+b*l+(f>>>30);d[e++]=k&1073741823}return f}function n(a,b,d,e,f,g){var h=b&16383;for(b>>=14;0<=--g;){var k=this[a]&16383,l=this[a++]>>14,m=b*k+l*h,k=h*k+((m&16383)<<14)+d[e]+f;f=(k>>28)+(m>>14)+b*l;d[e++]=k&268435455}return f}function m(a){var b=q();b._fromInt(a);return b}function h(a){var b=1,d;if(d=a>>>16)a=d,b+=16;if(d=a>>8)a=d,b+=8;if(d=a>>4)a=d,b+=4;if(d=a>>2)a=d,b+=2;a>>1&&(b+=1);return b}function e(a){this.m=a}function g(a){this.m=a;this.mp=a._invDigit();this.mpl=
this.mp&32767;this.mph=this.mp>>15;this.um=(1<<a._DB-15)-1;this.mt2=2*a.t}l.getObject("math.BigInteger",!0,s);l.experimental("dojox.math.BigInteger");var d;"Microsoft Internet Explorer"==navigator.appName?(p.prototype.am=k,d=30):"Netscape"!=navigator.appName?(p.prototype.am=f,d=26):(p.prototype.am=n,d=28);var a=[],r,b;r=48;for(b=0;9>=b;++b)a[r++]=b;r=97;for(b=10;36>b;++b)a[r++]=b;r=65;for(b=10;36>b;++b)a[r++]=b;l.extend(e,{convert:function(a){return 0>a.s||0<=a.compareTo(this.m)?a.mod(this.m):a},
revert:function(a){return a},reduce:function(a){a._divRemTo(this.m,null,a)},mulTo:function(a,b,d){a._multiplyTo(b,d);this.reduce(d)},sqrTo:function(a,b){a._squareTo(b);this.reduce(b)}});l.extend(g,{convert:function(a){var b=q();a.abs()._dlShiftTo(this.m.t,b);b._divRemTo(this.m,null,b);0>a.s&&0<b.compareTo(p.ZERO)&&this.m._subTo(b,b);return b},revert:function(a){var b=q();a._copyTo(b);this.reduce(b);return b},reduce:function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var d=a[b]&
32767,e=d*this.mpl+((d*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a._DM,d=b+this.m.t;for(a[d]+=this.m.am(0,e,a,b,0,this.m.t);a[d]>=a._DV;)a[d]-=a._DV,a[++d]++}a._clamp();a._drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a._subTo(this.m,a)},mulTo:function(a,b,d){a._multiplyTo(b,d);this.reduce(d)},sqrTo:function(a,b){a._squareTo(b);this.reduce(b)}});l.extend(p,{_DB:d,_DM:(1<<d)-1,_DV:1<<d,_FV:Math.pow(2,52),_F1:52-d,_F2:2*d-52,_copyTo:function(a){for(var b=this.t-1;0<=b;--b)a[b]=this[b];a.t=this.t;a.s=
this.s},_fromInt:function(a){this.t=1;this.s=0>a?-1:0;0<a?this[0]=a:-1>a?this[0]=a+_DV:this.t=0},_fromString:function(b,d){var e;if(16==d)e=4;else if(8==d)e=3;else if(256==d)e=8;else if(2==d)e=1;else if(32==d)e=5;else if(4==d)e=2;else{this._fromRadix(b,d);return}this.s=this.t=0;for(var f=b.length,g=!1,h=0;0<=--f;){var k;8==e?k=b[f]&255:(k=a[b.charCodeAt(f)],k=null==k?-1:k);0>k?"-"==b.charAt(f)&&(g=!0):(g=!1,0==h?this[this.t++]=k:h+e>this._DB?(this[this.t-1]|=(k&(1<<this._DB-h)-1)<<h,this[this.t++]=
k>>this._DB-h):this[this.t-1]|=k<<h,h+=e,h>=this._DB&&(h-=this._DB))}8==e&&0!=(b[0]&128)&&(this.s=-1,0<h&&(this[this.t-1]|=(1<<this._DB-h)-1<<h));this._clamp();g&&p.ZERO._subTo(this,this)},_clamp:function(){for(var a=this.s&this._DM;0<this.t&&this[this.t-1]==a;)--this.t},_dlShiftTo:function(a,b){var d;for(d=this.t-1;0<=d;--d)b[d+a]=this[d];for(d=a-1;0<=d;--d)b[d]=0;b.t=this.t+a;b.s=this.s},_drShiftTo:function(a,b){for(var d=a;d<this.t;++d)b[d-a]=this[d];b.t=Math.max(this.t-a,0);b.s=this.s},_lShiftTo:function(a,
b){var d=a%this._DB,e=this._DB-d,f=(1<<e)-1,g=Math.floor(a/this._DB),h=this.s<<d&this._DM,k;for(k=this.t-1;0<=k;--k)b[k+g+1]=this[k]>>e|h,h=(this[k]&f)<<d;for(k=g-1;0<=k;--k)b[k]=0;b[g]=h;b.t=this.t+g+1;b.s=this.s;b._clamp()},_rShiftTo:function(a,b){b.s=this.s;var d=Math.floor(a/this._DB);if(d>=this.t)b.t=0;else{var e=a%this._DB,f=this._DB-e,g=(1<<e)-1;b[0]=this[d]>>e;for(var h=d+1;h<this.t;++h)b[h-d-1]|=(this[h]&g)<<f,b[h-d]=this[h]>>e;0<e&&(b[this.t-d-1]|=(this.s&g)<<f);b.t=this.t-d;b._clamp()}},
_subTo:function(a,b){for(var d=0,e=0,f=Math.min(a.t,this.t);d<f;)e+=this[d]-a[d],b[d++]=e&this._DM,e>>=this._DB;if(a.t<this.t){for(e-=a.s;d<this.t;)e+=this[d],b[d++]=e&this._DM,e>>=this._DB;e+=this.s}else{for(e+=this.s;d<a.t;)e-=a[d],b[d++]=e&this._DM,e>>=this._DB;e-=a.s}b.s=0>e?-1:0;-1>e?b[d++]=this._DV+e:0<e&&(b[d++]=e);b.t=d;b._clamp()},_multiplyTo:function(a,b){var d=this.abs(),e=a.abs(),f=d.t;for(b.t=f+e.t;0<=--f;)b[f]=0;for(f=0;f<e.t;++f)b[f+d.t]=d.am(0,e[f],b,f,0,d.t);b.s=0;b._clamp();this.s!=
a.s&&p.ZERO._subTo(b,b)},_squareTo:function(a){for(var b=this.abs(),d=a.t=2*b.t;0<=--d;)a[d]=0;for(d=0;d<b.t-1;++d){var e=b.am(d,b[d],a,2*d,0,1);if((a[d+b.t]+=b.am(d+1,2*b[d],a,2*d+1,e,b.t-d-1))>=b._DV)a[d+b.t]-=b._DV,a[d+b.t+1]=1}0<a.t&&(a[a.t-1]+=b.am(d,b[d],a,2*d,0,1));a.s=0;a._clamp()},_divRemTo:function(a,b,d){var e=a.abs();if(!(0>=e.t)){var f=this.abs();if(f.t<e.t)null!=b&&b._fromInt(0),null!=d&&this._copyTo(d);else{null==d&&(d=q());var g=q(),k=this.s;a=a.s;var l=this._DB-h(e[e.t-1]);0<l?(e._lShiftTo(l,
g),f._lShiftTo(l,d)):(e._copyTo(g),f._copyTo(d));e=g.t;f=g[e-1];if(0!=f){var m=f*(1<<this._F1)+(1<e?g[e-2]>>this._F2:0),n=this._FV/m,m=(1<<this._F1)/m,r=1<<this._F2,s=d.t,G=s-e,H=null==b?q():b;g._dlShiftTo(G,H);0<=d.compareTo(H)&&(d[d.t++]=1,d._subTo(H,d));p.ONE._dlShiftTo(e,H);for(H._subTo(g,g);g.t<e;)g[g.t++]=0;for(;0<=--G;){var L=d[--s]==f?this._DM:Math.floor(d[s]*n+(d[s-1]+r)*m);if((d[s]+=g.am(0,L,d,G,0,e))<L){g._dlShiftTo(G,H);for(d._subTo(H,d);d[s]<--L;)d._subTo(H,d)}}null!=b&&(d._drShiftTo(e,
b),k!=a&&p.ZERO._subTo(b,b));d.t=e;d._clamp();0<l&&d._rShiftTo(l,d);0>k&&p.ZERO._subTo(d,d)}}}},_invDigit:function(){if(1>this.t)return 0;var a=this[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%this._DV)%this._DV;return 0<b?this._DV-b:-b},_isEven:function(){return 0==(0<this.t?this[0]&1:this.s)},_exp:function(a,b){if(4294967295<a||1>a)return p.ONE;var d=q(),e=q(),f=b.convert(this),g=h(a)-1;for(f._copyTo(d);0<=--g;)if(b.sqrTo(d,
e),0<(a&1<<g))b.mulTo(e,f,d);else var k=d,d=e,e=k;return b.revert(d)},toString:function(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;else return this._toRadix(a);var b=(1<<a)-1,d,e=!1,f="",g=this.t,h=this._DB-g*this._DB%a;if(0<g--){if(h<this._DB&&0<(d=this[g]>>h))e=!0,f="0123456789abcdefghijklmnopqrstuvwxyz".charAt(d);for(;0<=g;)h<a?(d=(this[g]&(1<<h)-1)<<a-h,d|=this[--g]>>(h+=this._DB-a)):(d=this[g]>>(h-=a)&b,
0>=h&&(h+=this._DB,--g)),0<d&&(e=!0),e&&(f+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(d))}return e?f:"0"},negate:function(){var a=q();p.ZERO._subTo(this,a);return a},abs:function(){return 0>this.s?this.negate():this},compareTo:function(a){var b=this.s-a.s;if(b)return b;var d=this.t;if(b=d-a.t)return b;for(;0<=--d;)if(b=this[d]-a[d])return b;return 0},bitLength:function(){return 0>=this.t?0:this._DB*(this.t-1)+h(this[this.t-1]^this.s&this._DM)},mod:function(a){var b=q();this.abs()._divRemTo(a,
null,b);0>this.s&&0<b.compareTo(p.ZERO)&&a._subTo(b,b);return b},modPowInt:function(a,b){var d;d=256>a||b._isEven()?new e(b):new g(b);return this._exp(a,d)}});l._mixin(p,{ZERO:m(0),ONE:m(1),_nbi:q,_nbv:m,_nbits:h,_Montgomery:g});s.math.BigInteger=p;return s.math.BigInteger})},"anaplan/widgets/ImportCredentials":function(){define("dijit/_Contained dijit/_WidgetBase anaplan/widgets/_WidgetMixin dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/widgets/Dialog2 anaplan/Exceptions anaplan/widgets/MasterSelector anaplan/utils/EncryptionHelper anaplan/utils/UIHelper dojo/i18n!anaplan/nls/importCredentials dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ImportCredentials.html dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/on dojo/has dojo/keys dojo/_base/sniff anaplan/widgets/DropDownButton dijit/form/TextBox dijit/form/CheckBox anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return r([s,q,f,l,k.ContentMixin,p],{baseClass:"importCredentials",templateString:a,constructor:function(a){this._modelId=a.modelId||null;this._params=a.params||null;this._importType=a.importType||null;this._mayPersistParams=!1!=a.mayPersistParams;this._importSource=a.importSource||null},setSource:function(a){this._importSource=a},onCancel:function(){},_onShow:function(){7===z("ie")?this.submitButton.focus():(this.usernameTextBox.focus(),this.usernameTextBox.focusNode.select())},
onSubmit:function(){},postCreate:function(){this.inherited(arguments);this._params&&this.setParams(this._params);this.mayPersistParamsCheckBox.set("value",this._mayPersistParams);this.setText(this.mayPersistParamsLabel,g.labelPersistParams);var a=new m({items:[{name:"root",children:[{entityLongId:"PROD",name:g.PROD,children:[]},{entityLongId:"TEST",name:g.TEST,children:[]}]}],style:"width: 200px; height: 150px; background-color: white;",submitOnClick:!0});this.instanceSelector=a;this.instanceDropDown.set("dropDown",
a);a.startup();var e=this,f=v(a,"Submit",b.hitch(this.instanceDropDown,function(a,b){e._instanceSelection=a;this.set("label",b);this.closeDropDown(!1);e._params&&t.some(e._params,function(b){if("sfInstance"===b.id)return t.forEach(e._params,function(d){var f=null;switch(d.id){case "sfUsername":f=e.usernameTextBox;break;case "sfPassword":f=e.passwordTextBox;break;case "sfSecToken":f=e.securityTokenTextBox}null!==f&&(a===b.defaultValue?""==f.get("value")&&f.set("value",d.defaultValue):f.get("value").match(/[*]+/)&&
f.set("value",""))}),!0})})),h=v(a,"Open",function(){a.focus()});this.instanceDropDown.own(h,f);this.cancelButton.set("label",d.buttonCancel);this.submitButton.set("label",g.buttonSubmit);u.set(this.instanceLabel,"for",this.instanceDropDown.get("id"));u.set(this.usernameLabel,"for",this.usernameTextBox.get("id"));u.set(this.passwordLabel,"for",this.passwordTextBox.get("id"));u.set(this.securityTokenLabel,"for",this.securityTokenTextBox.get("id"));u.set(this.mayPersistParamsLabel,"for",this.mayPersistParamsCheckBox.get("id"))},
setParams:function(a){var b=this;this._params=a;t.forEach(a,function(a){switch(a.id){case "sfInstance":this.setText(b.instanceLabel,a.label);b.instanceSelector.set("value",a.defaultValue&&a.defaultValue.length?{value:a.defaultValue,name:g[a.defaultValue]}:{value:"PROD",name:g.PROD});b.instanceDropDown.set("label",g[a.defaultValue]||g.labelPleaseSelect);b._instanceSelection=a.defaultValue;break;case "sfUsername":this.setText(b.usernameLabel,a.label);b.usernameTextBox.set("value",a.defaultValue);break;
case "sfPassword":this.setText(b.passwordLabel,a.label);b.passwordTextBox.set("value",a.defaultValue);break;case "sfSecToken":this.setText(b.securityTokenLabel,a.label);b.securityTokenTextBox.set("value",a.defaultValue);break;case "sfPKey":b._publicKey=a.defaultValue;break;case "sfSKeySize":b._sKeySize=Number(a.defaultValue)}},this)},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},_disableButtons:function(){this.cancelButton.set("disabled",!0);this.submitButton.set("disabled",
!0)},_onCancel:function(){this.onCancel()},_onKeyDown:function(a){a.keyCode===y.ENTER&&this._onSubmit()},_onSubmit:function(){try{var a={modelId:this._modelId,source:this._importSource,sfInstance:this._instanceSelection,sfUsername:this.usernameTextBox.get("value"),sfPassword:this.passwordTextBox.get("value"),sfSecToken:this.securityTokenTextBox.get("value"),persistParams:this.mayPersistParamsCheckBox.get("checked"),mayPersistParams:this._mayPersistParams};if(this._publicKey){var b=h.generateSymmetricKey(this._sKeySize||
128);a.sfInstance=h.encryptWithSymmetricKey(b,a.sfInstance,"INSTANCE");a.sfUsername=h.encryptWithSymmetricKey(b,a.sfUsername,"USERID");a.sfPassword=h.encryptWithSymmetricKey(b,a.sfPassword,"PASSWORD");a.sfSecToken=h.encryptWithSymmetricKey(b,a.sfSecToken,"SECURITY_TOKEN");a.sfSKey=h.wrapWithPublicKey(this._publicKey,b)}this.onSubmit(a)}catch(d){e.showErrorReporter(new n.ClientException("anaplan.widgets.ImportCredentials: _onSubmit",d,{widgetId:this.id})),this._onCancel()}}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(l,s,p,q,f,k,n,m,h){function e(a){return function(b,d,e){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,e)}}var g=function(a){return 1==a.length&&"string"==typeof a[0]},d=function(a){var b=a.parentNode;b&&b.removeChild(a)},a=s.NodeList,r=a._adaptWithCondition,b=a._adaptAsForEach,t=a._adaptAsMap;q.extend(a,{_normalize:function(a,b){var d=!0===a.parse;if("string"==typeof a.template){var e=a.templateFunc||l.string&&l.string.substitute;a=e?e(a.template,a):a}e=typeof a;
"string"==e||"number"==e?(a=k.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?q._toArray(a.childNodes):[a]):q.isArrayLike(a)?q.isArray(a)||(a=q._toArray(a)):a=[a];d&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,d,e){if(!(1!=b.nodeType&&"only"==d))for(var f,g=a.length,h=g-1;0<=h;h--){var m=e?this._cloneNode(a[h]):a[h];if(a._runParse&&l.parser&&l.parser.parse){f||(f=b.ownerDocument.createElement("div"));f.appendChild(m);l.parser.parse(f);for(m=f.firstChild;f.firstChild;)f.removeChild(f.firstChild)}h==
g-1?k.place(m,b,d):b.parentNode.insertBefore(m,b);b=m}},position:t(n.position),attr:r(e(m),g),style:r(e(h),g),addClass:b(f.add),removeClass:b(f.remove),toggleClass:b(f.toggle),replaceClass:b(f.replace),empty:b(k.empty),removeAttr:b(m.remove),marginBox:t(n.getMarginBox),place:function(a,b){var d=s(a)[0];return this.forEach(function(a){k.place(a,d,b)})},orphan:function(a){return(a?s._filterResult(this,a):this).forEach(d)},adopt:function(a,b){return s(a).place(this[0],b)._stash(this)},query:function(b){if(!b)return this;
var d=new a;this.map(function(a){s(b,a).forEach(function(a){void 0!==a&&d.push(a)})});return d._stash(this)},filter:function(a){var b=arguments,d=this,e=0;if("string"==typeof a){d=s._filterResult(this,b[0]);if(1==b.length)return d._stash(this);e=1}return this._wrap(p.filter(d,b[e],b[e+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var d=0,e;e=this[d];d++)a.length?this._place(a,e,b,0<d):k.empty(e);return this}});return a})},"anaplan/api/Submissions/index":function(){define(["dojo/_base/declare",
"./ColourPalettes","anaplan/api/Fetchers/index","anaplan/api/Fetchers/Entities/ColourPalettes","./Base/poster"],function(l,s,p,q,f){function k(f){var k=new q;k.setLabelPageWithData(f.rowLabelPages[0],f.columnLabelPages[0],f.dataPages[0]);return k.getItemsByPropertyNames(["entityId","colours","isSelected","entityLongId","isEditable"])}return{createColourPalettes:function(l){var m=new s;l.forEach(function(f){m.createNewPalette(f.label,{colors:f.colours})});l=p.colourPalettes.buildViewRequest();return f.submit(m,
l).then(k)},createColourPalette:function(l,m){var h=new s;h.createNewPalette(l,void 0!==m?{colors:m.colours,selected:m.selected}:{colours:[],selected:!1});var e=p.colourPalettes.buildViewRequest();return f.submit(h,e).then(k)},updateColourPalette:function(l){var m=new s;m.updatePalette(l.id,l.colours);l=p.colourPalettes.buildViewRequest();return f.submit(m,l).then(k)},setSelectedColourPalette:function(l){var m=new s;m.setSelectedPalette(l);l=p.colourPalettes.buildViewRequest();return f.submit(m,l).then(k)},
update:function(l){var m=new s;m.setSelectedPalette(l.id);m.updatePalette(l.id,l.colours);l=p.colourPalettes.buildViewRequest();return f.submit(m,l).then(k)}}})},"anaplan/view/Confirmation":function(){define("anaplan/utils/UIHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/event dojo/keys dojo/dom-attr dojo/dom-class dojo/dom-style anaplan/widgets/Dialog2 dojo/text!anaplan/templates/Confirmation.html dojo/i18n!anaplan/nls/confirmation anaplan/widgets/Button dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){s=k("anaplan.view.Confirmation",[q,p,f,d.ContentMixin,s],{baseClass:"confirmation",templateString:a,title:"",helpKey:"",heading:"",message:"",innerHtml:"",statusStyle:"",doubleCheckLabel:!1,onCancel:function(){},onConfirm:function(){},onHelpChange:function(){},onHide:function(){},_onShow:function(){this.onTitleChange(this.title);this.onHelpChange(this.helpKey?this.helpKey:null);this.confirmationDoubleCheckCheckBox.set("checked",!1);this._updateDoubleCheck();this.noButton.focus()},
onTitleChange:function(){},postCreate:function(){this.inherited(arguments);this.noButton.set("label",r.buttonNo);this.yesButton.set("label",r.buttonYes);h.set(this.confirmationDoubleCheckLabel,"for",this.confirmationDoubleCheckCheckBox.id);this.doubleCheckLabel||this.set("doubleCheckLabel",!1);this.statusStyle||this.set("statusStyle",!1)},_onKeyDown:function(a){switch(a.keyCode){case m.ESCAPE:this.onCancel(),n.stop(a)}},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},
_onNoButtonClick:function(){this.onCancel()},_onYesButtonClick:function(){this.onConfirm()},_onDoubleCheckCheckBoxChange:function(){this._updateDoubleCheck()},_setHeadingAttr:function(a){l.setText(this.confirmationHeading,a)},_setMessageAttr:function(a){l.setText(this.confirmationMessage,a)},_setInnerHtmlAttr:function(a){this.confirmationMessage.innerHTML=a},_setStatusStyleAttr:function(a){a=a?a:"";e.replace(this.domNode,a,this._statusStyle);this._statusStyle=a},_setDoubleCheckLabelAttr:function(a){a?
(l.setText(this.confirmationDoubleCheckLabel,a),this._enableDoubleCheck()):this._disableDoubleCheck()},_enableDoubleCheck:function(){this._doubleCheckEnabled=!0;this._updateDoubleCheck()},_disableDoubleCheck:function(){this._doubleCheckEnabled=!1;this._updateDoubleCheck()},_updateDoubleCheck:function(){var a=this.confirmationDoubleCheckCheckBox.get("checked");this._doubleCheckEnabled&&!a?this.yesButton.set("disabled",!0):this.yesButton.set("disabled",!1);this.confirmationDoubleCheck&&g.set(this.confirmationDoubleCheck,
"display",this._doubleCheckEnabled?"":"none")}});s.STATUS_STYLE_NO_ICON="";s.STATUS_STYLE_WARNING="statusWarningSoft";return s})},"anaplan/view/SelectLevels":function(){define("anaplan/widgets/LevelSelector dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/i18n!dijit/nls/common dojo/on dojo/text!anaplan/templates/SelectLevels.html dijit/form/Button".split(" "),function(l,s,p,q,f,k,n,m,h,e){return f("anaplan.view.SelectLevels",
[p,s,q],{baseClass:"selectLevels",templateString:e,levels:null,selectedLevels:null,focus:function(){this._levelSelector&&this._levelSelector.focus()},postCreate:function(){this.inherited(arguments);this._setButtonLabels();this._createLevelSelector()},startup:function(){this.inherited(arguments);this._levelSelector.startup()},uninitialize:function(){this._levelSelector.destroy();this._levelSelector=null;this.inherited(arguments)},onCancel:function(){},onSubmit:function(){},_createLevelSelector:function(){this._levelSelector=
new l({levels:this.levels,value:this.selectedLevels?this.selectedLevels.slice():null});n.place(this._levelSelector.domNode,this.levelSelectorContainer);this.own(h(this._levelSelector,"change",k.hitch(this,"_onLevelSelectorChange")))},_onLevelSelectorChange:function(e){this.selectedLevels=e},_setButtonLabels:function(){this.buttonOk.set("label",m.buttonOk);this.buttonCancel.set("label",m.buttonCancel)},_submit:function(){this.onSubmit(this._levelSelector.get("value"))}})})},"anaplan/common/ViewDefinition":function(){define(["dojo/_base/declare",
"dojo/_base/lang","anaplan/cf/ConditionalFormattingDefinition","anaplan/cf/FormattingDefinition","anaplan/common/_DefinitionBase"],function(l,s,p,q,f){return l("anaplan.common.ViewDefinition",f,{_serializableProperties:"type name rows columns pages rowAxisSpecification columnAxisSpecification pageAxisSpecification currentPageIdentifiers useDefaultPageOrder staticContextIdentifiers globalContextIdentifiers comparisonBase comparisonIdentifier comparisonMode useComparisonColourCoding formatting columnSizes breakbackHeldCells themeId".split(" "),
constructor:function(f){this.type="MODEL_DATA";f&&(s.mixin(this,f),this.setFormattingDefinition(this.formatting))},addConditionalFormattingRuleDefinition:function(f,l){var m=this.getFormattingDefinition();m||(m=new q,this.setFormattingDefinition(m));m.addConditionalRuleDefinition(f,l)},getConditionalFormattingDefinition:function(){var f=this.getFormattingDefinition();return f?f.getConditionalFormattingDefinition():null},getConditionalFormattingIsActive:function(){var f=this.getConditionalFormattingDefinition();
return!!f&&f.isActive},getFormattingDefinition:function(){return this.formatting||null},hasCompareDefinition:function(){return"comparisonMode"in this},isModelDataView:function(){return"MODEL_DATA"===this.type},isModelDefinitionView:function(){return"MODEL_DEFINITION"===this.type},removeCompareDefinition:function(){delete this.comparisonBase;delete this.comparisonIdentifier;delete this.comparisonMode;delete this.useComparisonColourCoding},setBreakbackHeldCells:function(f){this.breakbackHeldCells=f},
setConditionalFormattingDefinition:function(f){var l=this.getFormattingDefinition();l||(l=new q,this.setFormattingDefinition(l));l.setConditionalFormattingDefinition(f)},setConditionalFormattingIsActive:function(f){var l=this.getConditionalFormattingDefinition();f&&!l&&(l=new p,this.setConditionalFormattingDefinition(l));l&&l.setIsActive(f)},setFormattingDefinition:function(f){f?this.formatting=f instanceof q?f:new q(this.formatting):delete this.formatting},toJSON:function(){var f,l=this.inherited(arguments);
if(f=this.getFormattingDefinition())f.isEmpty()?delete l.formatting:l.formatting=l.formatting.toJSON();return l}})})},"anaplan/gridlet/selection/Range":function(){define("anaplan/gridlet/selection/FixedCoordinate anaplan/gridlet/selection/ItemCoordinate anaplan/gridlet/selection/CoordinatePair anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/gridlet/selection/_SelectionBase dojo/_base/declare".split(" "),function(l,s,p,q,f,k,n,m){var h=m(n,{anchor:"TL",topLeft:null,bottomRight:null,
constructor:function(e){e&&e.anchor&&this.setAnchor(e.anchor);e&&e.topLeft&&e.bottomRight?(this.setTopLeft(e.topLeft),this.setBottomRight(e.bottomRight)):(this.setTopLeft(new p),this.setBottomRight(new p))},equals:function(e){return!this.inherited(arguments)||!(e instanceof h)||!this.topLeft.equals(e.topLeft)||!this.bottomRight.equals(e.bottomRight)?!1:!0},getCellIndexInView:function(e,f){return this.topLeft.getCellIndexInView(e,f)},getEndColumnEntityLongIds:function(e){return this.bottomRight.x?
this.bottomRight.getColumnEntityLongIds(e):this.topLeft.getColumnEntityLongIds(e)},getEndColumnIndex:function(e){var f=-1;return f=null===this.bottomRight.x?this.topLeft.getEndColumnIndex(e):this.bottomRight.getEndColumnIndex(e)},getEndColumnIndexInView:function(e){var f=-1;return f=null===this.bottomRight.x?this.topLeft.getEndColumnIndexInView(e):this.bottomRight.getEndColumnIndexInView(e)},getEndColumnSpan:function(e){var f=null;return f=null===this.bottomRight.x?this.topLeft.getEndColumnSpan(e):
this.bottomRight.getEndColumnSpan(e)},getEndColumnSpanInView:function(e){var f=null;return f=null===this.bottomRight.x?this.topLeft.getEndColumnSpanInView(e):this.bottomRight.getEndColumnSpanInView(e)},getEndRowEntityLongIds:function(e){return this.bottomRight.y?this.bottomRight.getRowEntityLongIds(e):this.topLeft.getRowEntityLongIds(e)},getEndRowIndex:function(e){var f=-1;return f=null===this.bottomRight.y?this.topLeft.getEndRowIndex(e):this.bottomRight.getEndRowIndex(e)},getEndRowIndexInView:function(e){var f=
-1;return f=null===this.bottomRight.y?this.topLeft.getEndRowIndexInView(e):this.bottomRight.getEndRowIndexInView(e)},getEndRowSpan:function(e){var f=null;return f=null===this.bottomRight.y?this.topLeft.getEndRowSpan(e):this.bottomRight.getEndRowSpan(e)},getEndRowSpanInView:function(e){var f=null;return f=null===this.bottomRight.y?this.topLeft.getEndRowSpanInView(e):this.bottomRight.getEndRowSpanInView(e)},getHeightInCells:function(e){var f=0,d,a,h,b;if(this.bottomRight.y){if(!e)throw new k.ClientException("Missing context argument");
d=this.getStartRowIndex(e);a=this.getEndRowIndex(e);-1===d&&null!==this.topLeft.y.index&&(d=this.topLeft.y.index+this.topLeft.y.offset);-1===a&&null!==this.bottomRight.y.index&&(a=this.bottomRight.y.index+this.bottomRight.y.offset);if(-1===d||-1===a)console.warn("anaplan.gridlet.Selection.Range#getHeightInCells: unable to calculate width of range");else if(this.isRowLabelSelected()&&this._isSpanningOnRowAxis(e))if(e.values){h=this.topLeft.getRowNestingIndex();f=1;for(b=d+1;b<=a;b++)d=this._getSpanOnDimensionAtRowIndex(h,
b,e),(d===q.SPAN_NONE||d===q.SPAN_START)&&f++}else{if(e.model)throw new k.ClientException("Searching model is not implemented");}else f=a-d+1}else f=1;return f},getNestingIndex:function(){var e=-1;this.isWholeRowSelected()?e=this.topLeft.y.getNestingIndex():this.isWholeColumnSelected()&&(e=this.topLeft.x.getNestingIndex());return e},getStartColumnEntityLongIds:function(e){return this.topLeft.getColumnEntityLongIds(e)},getStartColumnIndex:function(e){return this.topLeft.getStartColumnIndex(e)},getStartColumnIndexInView:function(e){return this.topLeft.getStartColumnIndexInView(e)},
getStartColumnSpan:function(e){return this.topLeft.getStartColumnSpan(e)},getStartColumnSpanInView:function(e){return this.topLeft.getStartColumnSpanInView(e)},getStartRowEntityLongIds:function(e){return this.topLeft.getRowEntityLongIds(e)},getStartRowIndex:function(e){return this.topLeft.getStartRowIndex(e)},getStartRowIndexInView:function(e){return this.topLeft.getStartRowIndexInView(e)},getStartRowSpan:function(e){return this.topLeft.getStartRowSpan(e)},getStartRowSpanInView:function(e){return this.topLeft.getStartRowSpanInView(e)},
getView:function(e,g){var d=null,d=this._getRowCount(e),a=this._getColumnCount(e),h=!1,b=!1;if(this.isWholeGridSelected())return-1===d||-1===a?(console.warn("anaplan.gridlet.Selection.Range#getView: unable to retrieve row/column count"),null):d={x:[0,a-1],y:[0,d-1]};e.pageInfo&&(h=f.axisSpecificationContainsEmpty(e.pageInfo.rowAxisSpecification),b=f.axisSpecificationContainsEmpty(e.pageInfo.columnAxisSpecification));if(this.isWholeRowSelected()){null===this.topLeft.y.entityLongIds&&h?h=d=0:(d=this.getStartRowIndex(e),
h=this.getEndRowIndex(e),g&&(-1===d&&(b=this.getStartRowSpanInView(e.values),b===q.SPAN_NONE&&null!==this.topLeft.y.index&&(d=this.topLeft.y.index+this.topLeft.y.offset)),-1===h&&(b=this.getEndRowSpanInView(e.values),b===q.SPAN_NONE&&(null!==this.bottomRight.y?null!==this.bottomRight.y.index&&(h=this.bottomRight.y.index+this.bottomRight.y.offset):h=d))));if(-1===a||-1===d||-1===h)return console.warn("anaplan.gridlet.Selection.Range#getView: unable to retrieve column count or start/end row indices"),
null;d={x:[0,a-1],y:[d,h]}}else if(this.isWholeColumnSelected()){null===this.topLeft.x.entityLongIds&&b?b=a=0:(a=this.getStartColumnIndex(e),b=this.getEndColumnIndex(e),g&&(-1===a&&(h=this.getStartColumnSpanInView(e.values),h===q.SPAN_NONE&&null!==this.topLeft.x.index&&(a=this.topLeft.x.index+this.topLeft.x.offset)),-1===b&&(h=this.getEndColumnSpanInView(e.values),h===q.SPAN_NONE&&(null!==this.bottomRight.x?null!==this.bottomRight.x.index&&(b=this.bottomRight.x.index+this.bottomRight.x.offset):b=
a))));if(-1===d||-1===a||-1===b)return console.warn("anaplan.gridlet.Selection.Range#getView: unable to retrieve row count or start/end column indices"),null;d={x:[a,b],y:[0,d-1]}}else{null===this.topLeft.y.entityLongIds&&h?h=d=0:(d=this.getStartRowIndex(e),h=this.getEndRowIndex(e),g&&(-1===d&&null!==this.topLeft.y.index&&(d=this.topLeft.y.index+this.topLeft.y.offset),-1===h&&(this.bottomRight.y?null!==this.bottomRight.y.index&&(h=this.bottomRight.y.index+this.bottomRight.y.offset):h=d)));null===
this.topLeft.x.entityLongIds&&b?b=a=0:(a=this.getStartColumnIndex(e),b=this.getEndColumnIndex(e),g&&(-1===a&&null!==this.topLeft.x.index&&(a=this.topLeft.x.index+this.topLeft.x.offset),-1===b&&(this.bottomRight.x?null!==this.bottomRight.x.index&&(b=this.bottomRight.x.index+this.bottomRight.x.offset):b=a)));if(-1===a||-1===b||-1===d||-1===h)return console.warn("anaplan.gridlet.Selection.Range#getView: unable to retrieve start/end row/column indices"),null;d={x:[a,b],y:[d,h]}}return d},getWidthInCells:function(e){var f=
0,d,a,h,b;if(this.bottomRight.x){if(!e)throw new k.ClientException("Missing context argument");d=this.getStartColumnIndex(e);a=this.getEndColumnIndex(e);-1===d&&null!==this.topLeft.x.index&&(d=this.topLeft.x.index+this.topLeft.x.offset);-1===a&&null!==this.bottomRight.x.index&&(a=this.bottomRight.x.index+this.bottomRight.x.offset);if(-1===d||-1===a)console.warn("anaplan.gridlet.Selection.Range#getWidthInCells: unable to calculate width of range");else if(this.isColumnLabelSelected()&&this._isSpanningOnColumnAxis(e))if(e.values){h=
this.topLeft.getColumnNestingIndex();f=1;for(b=d+1;b<=a;b++)d=this._getSpanOnDimensionAtColumnIndex(h,b,e),(d===q.SPAN_NONE||d===q.SPAN_START)&&f++}else{if(e.model)throw new k.ClientException("Searching model is not implemented");}else f=a-d+1}else f=1;return f},isColumnLabelSelected:function(){return this.topLeft.isColumnLabelSelected()},isContainedInView:function(e,f){var d=this.topLeft,a=this.bottomRight;if(!d.isContainedInView(e,f))return!1;if(!a.x||!a.y)a=a.clone(),a.x||(a.x=d.x.clone()),a.y||
(a.y=d.y.clone());return a.isContainedInView(e,f)},isDataCellSelected:function(){var e=this.bottomRight.clone();e.x||(e.x=this.topLeft.x.clone());e.y||(e.y=this.topLeft.y.clone());return this.topLeft.isDataCellSelected()||e.isDataCellSelected()},isRowLabelSelected:function(){return this.topLeft.isRowLabelSelected()},isVisible:function(e){var f,d,a,h;if(this.isWholeGridSelected())return!0;if(!e)return console.warn("anaplan.gridlet.Selection.Range#isVisible: values are required to perform check"),!1;
if(!this.isWholeRowSelected()&&-1===this.getStartColumnIndexInView(e)&&-1===this.getEndColumnIndexInView(e)){f=null!==this.topLeft.x.index?this.topLeft.x.index+this.topLeft.x.offset:-1;d=this.bottomRight.x&&null!==this.bottomRight.x.index?this.bottomRight.x.index+this.bottomRight.x.offset:f;if(-1===f||-1===d)return!1;a=this._getStartColumnIndexOfView(e);h=this._getEndColumnIndexOfView(e);if(f>h||d<a)return!1}if(!this.isWholeColumnSelected()&&-1===this.getStartRowIndexInView(e)&&-1===this.getEndRowIndexInView(e)){f=
null!==this.topLeft.y.index?this.topLeft.y.index+this.topLeft.y.offset:-1;d=this.bottomRight.y&&null!==this.bottomRight.y.index?this.bottomRight.y.index+this.bottomRight.y.offset:f;if(-1===f||-1===d)return!1;a=this._getStartRowIndexOfView(e);e=this._getEndRowIndexOfView(e);if(f>e||d<a)return!1}return!0},isWholeColumnSelected:function(){return!this.topLeft.x||(!this.topLeft.y||!this.bottomRight.y)||this.topLeft.x instanceof l||this.topLeft.y instanceof s||-1!==this.bottomRight.y.index?!1:!0},isWholeGridSelected:function(){return!this.topLeft.x||
(!this.topLeft.y||!this.bottomRight.x||!this.bottomRight.y)||!(this.topLeft.x instanceof l)||!(this.topLeft.y instanceof l)||-1!==this.bottomRight.x.index||-1!==this.bottomRight.y.index?!1:!0},isWholeRowSelected:function(){return!this.topLeft.x||(!this.topLeft.y||!this.bottomRight.x)||this.topLeft.x instanceof s||this.topLeft.y instanceof l||-1!==this.bottomRight.x.index?!1:!0},resolve:function(e){var f=this.inherited(arguments);this.topLeft.resolve(e)&&(f=!0);this.bottomRight.resolve(e)&&(f=!0);
if(null!==this.bottomRight.x){if(this.bottomRight.x instanceof s&&this.topLeft.x instanceof s&&!this.topLeft.x.offset&&!this.bottomRight.x.offset&&-1!==this.bottomRight.x.index&&(-1===this.topLeft.x.index||this.topLeft.x.index>this.bottomRight.x.index))f=this.topLeft.x,this.topLeft.x=this.bottomRight.x,this.bottomRight.x=f,f=!0,"TL"===this.anchor?this.setAnchor("TR"):"BL"===this.anchor?this.setAnchor("BR"):"TR"===this.anchor?this.setAnchor("TL"):"BR"===this.anchor&&this.setAnchor("BL");this.bottomRight.x instanceof
l&&this.topLeft.x instanceof l&&this.topLeft.x.fixedIndex>this.bottomRight.x.fixedIndex&&(f=this.topLeft.x,this.topLeft.x=this.bottomRight.x,this.bottomRight.x=f,f=!0)}if(null!==this.bottomRight.y){if(this.bottomRight.y instanceof s&&this.topLeft.y instanceof s&&!this.topLeft.y.offset&&!this.bottomRight.y.offset&&-1!==this.bottomRight.y.index&&(-1===this.topLeft.y.index||this.topLeft.y.index>this.bottomRight.y.index))f=this.topLeft.y,this.topLeft.y=this.bottomRight.y,this.bottomRight.y=f,f=!0,"TL"===
this.anchor?this.setAnchor("BL"):"TR"===this.anchor?this.setAnchor("BR"):"BL"===this.anchor?this.setAnchor("TL"):"BR"===this.anchor&&this.setAnchor("TR");this.bottomRight.y instanceof l&&this.topLeft.y instanceof l&&this.topLeft.y.fixedIndex>this.bottomRight.y.fixedIndex&&(f=this.topLeft.y,this.topLeft.y=this.bottomRight.y,this.bottomRight.y=f,f=!0)}return f},setAnchor:function(e){this.anchor=e},setTopLeft:function(e){if(e instanceof p)this.topLeft=e;else if("x"in e&&"y"in e)this.topLeft=new p(e);
else throw new k.ClientException("Invalid coordinate pair object");},setBottomRight:function(e){if(e instanceof p)this.bottomRight=e;else if("x"in e&&"y"in e)this.bottomRight=new p(e);else throw new k.ClientException("Invalid coordinate pair object");},toJSON:function(){return{anchor:this.anchor,topLeft:this.topLeft.toJsonObject(),bottomRight:this.bottomRight.toJsonObject()}}});return h})},"anaplan/dashboard/DashboardHelper":function(){define("anaplan/anapediaKeys anaplan/Exceptions anaplan/api/service anaplan/constants anaplan/charts/HighChartsHelper anaplan/view/NewDashboard anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/common/SelectiveAccess dijit/Tooltip dojo/i18n!anaplan/nls/view dojo/json dojo/topic dojo/on dijit/registry jxl/Jxl jxl/hash/Jenkins".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){function v(){m.showInfoDialog(g.messageCannotPublish,{title:g.titleCannotPublish})}return{createNormalizedDashboardDefinitionTransformer:function(a){a=a||[];var b=(new t).copy().filterPathRegex(/@viewDefinition@globalContextIdentifiers/).filterPathRegex(/@viewDefinition@currentPageIdentifiers/).filterPathRegex(/(?:^|@dashboardElements@\d+)@svg$/).filterPathRegex(/@viewDefinition@.*@axisDefinition@guid$/).filterPathRegex(/@viewDefinition@useDefaultPageOrder/);
a.forEach(function(a){b=b.filterPathRegex(a)});b.map(function(a,b,d){if(/@pageSelectorOptions@synchronisedPagingInfos@\d+@initialPage$/.test(d)&&"_-1_"===b)return null;if(/@pageSelectorOptions@synchronisedPagingInfos@\d+$/.test(d)){var e;a:{e={pageAxisIdentifier:"some identifier",showLabel:!0,showPageSelector:!0,synchronisedPaging:!0};for(var f in b)if(Object.prototype.hasOwnProperty.call(b,f)){if(!Object.prototype.hasOwnProperty.call(e,f)){e=!1;break a}if("pageAxisIdentifier"!==f&&b[f]!==e[f]){e=
!1;break a}}e=!0}if(e)return null}return/@viewDefinition@themeId$/.test(d)?null:"menuToolbarOptions"===a&&"string"===typeof b?JSON.parse(b):b}).prune();return b},createDashboardElementTooltip:function(a,b,d){if(!a||!b)return null;a=a.split(/\r\n?|\n/).map(n.escapeHTML).join("\x3cbr\x3e");return new e({label:a,connectId:[b],position:d||["above","below","after","before"]})},createHashTransformer:function(){return(new t).hash(function(){return new u},3)},createNewDashboard:function(b){var d=new k({}),
e=m.getSharedDialog({roles:["new-dashboard"]});e.set("title",g.titleNewDashboard);e.set("refocus",!1);e.set("content",d.domNode);r(d,"Save",function(d){a.publish("anaplan/views",d,{viewInfos:b});e.onCancel()});r(d,"Cancel",function(){e.onCancel()});e.setHelpContent(l.dashboardNew);e.show();setTimeout(function(){d.focus()},250)},getChartViewInfo:function(a,b,e){return[{dashboardElementType:q.dashboardElementType.CHART,chartType:a,chartVariation:"",chartStacking:"",viewDefinition:b,chartConfig:d.stringify(f.getCleanComboChartOptions(e))}]},
publishComboChart:function(a,b){var d=this.getChartViewInfo(q.chartType.COMBINATION,a.getViewDefinition(),b.options);"new"===b.id?this.publishToNewDashboard(d):this.publishToDashboard(b.id,d)},publishToNewDashboard:function(a){h.isModelStructureReadOnlyForCurrentUser()?v():this.createNewDashboard(a)},publishToDashboard:function(d,e){if(h.isModelStructureReadOnlyForCurrentUser())v();else{if(!p.dashboards.containsEntityLongId(d))throw new s.ClientException("Dashboard does not exist with ID: "+d);var f=
m.generateId(d);b.byId(f)&&b.byId(f).getChildren().length?(a.publish("anaplan/views",d),a.publish("anaplan/dashboards/"+f+"/put",e)):a.publish("anaplan/views",d,{viewInfos:e})}}}})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(l,s,p,q){var f=l("dijit.form._ButtonMixin"+(p("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(f){f.stopPropagation();f.preventDefault();this.disabled||this.valueNode.click(f);return!1},
_onClick:function(f){if(this.disabled)return f.stopPropagation(),f.preventDefault(),!1;!1===this.onClick(f)&&f.preventDefault();var l=f.defaultPrevented;if(!l&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var m=this.domNode;m.parentNode;m=m.parentNode){var h=q.byNode(m);if(h&&"function"==typeof h._onSubmit){h._onSubmit(f);f.preventDefault();l=!0;break}}return!l},postCreate:function(){this.inherited(arguments);s.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",
f);(this.containerNode||this.focusNode).innerHTML=f}});p("dojo-bidi")&&(f=l("dijit.form._ButtonMixin",f,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return f})},"anaplan/api/Services/versions":function(){define(["anaplan/api/Entities/Versions"],function(l){return new l})},"xstyle/css":function(){define(["require"],function(l){function s(l,q,f){var k=document.documentElement;l=k.insertBefore(document.createElement(l),k.firstChild);l.id=
q;f=(q=l.currentStyle||getComputedStyle(l,null))?q[f]:"";k.removeChild(l);return f}return{load:function(p,q,f,k){function n(){var e=s("x-parse",null,"content");e&&"none"!=e&&"normal"!=e?q([eval(e)],f):f()}var m=q.toUrl(p),h=q.cache&&q.cache["url:"+m];if(h)return h.xCss&&(h=h.cssText),l(["./util/createStyleSheet"],function(e){e(h)}),n();if("none"==s("div",p.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return n();l(["./core/load-css"],function(e){e(m,n)})}}})},"anaplan/utils/axisSpecification":function(){define(["./axisDefinition"],
function(l){var s=function(p,q){p&&p.axisDefinition&&l.forEach(p.axisDefinition,q)};return{containsNestedDimensions:function(p){return p&&p.axisDefinition?l.containsNestedDimensions(p.axisDefinition):!1},forEachAxisDefinition:s,someAxisDefinitions:function(p,q){return p&&p.axisDefinition?l.some(p.axisDefinition,q):!1},prepareForExport:function(p){p&&s(p,function(p){l.prepareForExport(p)})}}})},"anaplan/dashboard/LayoutFactory":function(){define(["anaplan/dashboard/_MaximizedLayout","anaplan/dashboard/_SectionsLayout"],
function(l,s){return{getLayoutAdapter:function(p){return p.containsMaximizedElement()?new l(p):new s({dashboard:p})}}})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){var v,z,y=new (s([d,n],{curNode:null,activeStack:[],constructor:function(){var a=
m.hitch(this,function(a){p.isDescendant(this.curNode,a)&&this.set("curNode",null);p.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});l.before(k,"empty",a);l.before(k,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,d){var e=this,f=a.document&&a.document.body;if(f){var k=g("pointer-events")?"pointerdown":g("MSPointer")?"MSPointerDown":g("touch-events")?"mousedown, touchstart":"mousedown",l=h(a.document,k,function(a){if(!a||!(a.target&&
null==a.target.parentNode))e._onTouchNode(d||a.target,"mouse")}),m=h(f,"focusin",function(a){if(a.target.tagName){var f=a.target.tagName.toLowerCase();"#document"==f||"body"==f||(b.isFocusable(a.target)?e._onFocusNode(d||a.target):e._onTouchNode(d||a.target))}}),n=h(f,"focusout",function(a){e._onBlurNode(d||a.target)});return{remove:function(){l.remove();m.remove();n.remove();f=l=m=n=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<v+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),
this._clearFocusTimer=setTimeout(m.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<z+100||(this._clearActiveWidgetsTimer=setTimeout(m.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(b,d){z=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);f.contains(b,
"dijitPopup")&&(b=b.firstChild);var e=[];try{for(;b;){var g=q.get(b,"dijitPopupParent");if(g)b=t.byId(g).domNode;else if(b.tagName&&"body"==b.tagName.toLowerCase()){if(b===a.body())break;b=r.get(b.ownerDocument).frameElement}else{var h=b.getAttribute&&b.getAttribute("widgetId"),k=h&&t.byId(h);k&&!("mouse"==d&&k.get("disabled"))&&e.unshift(h);b=b.parentNode}}}catch(l){}this._setStack(e,d)},_onFocusNode:function(a){a&&9!=a.nodeType&&(v=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var d=this.activeStack,e=d.length-1,f=a.length-1;if(a[f]!=d[e]){this.set("activeStack",a);var g;for(g=e;0<=g&&d[g]!=a[g];g--)if(e=t.byId(d[g]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(b),this.emit("widget-blur",e,b);for(g++;g<=f;g++)if(e=t.byId(a[g]))e.set("focused",!0),e._focusManager==this&&e._onFocus(b),this.emit("widget-focus",
e,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));e(function(){var a=y.registerWin(r.get(document));g("ie")&&h(window,"unload",function(){a&&(a.remove(),a=null)})});u.focus=function(a){y.focus(a)};for(var w in y)/^_/.test(w)||(u.focus[w]="function"==typeof y[w]?m.hitch(y,w):y[w]);y.watch(function(a,b,d){u.focus[a]=d});return y})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(l,s){var p=s.prototype.onMove;return l("dojo.dnd.TimedMoveable",s,{timeout:40,
constructor:function(l,f){f||(f={});f.timeout&&("number"==typeof f.timeout&&0<=f.timeout)&&(this.timeout=f.timeout)},onMoveStop:function(l){l._timer&&(clearTimeout(l._timer),p.call(this,l,l._leftTop));s.prototype.onMoveStop.apply(this,arguments)},onMove:function(l,f){l._leftTop=f;if(!l._timer){var k=this;l._timer=setTimeout(function(){l._timer=null;p.call(k,l,l._leftTop)},this.timeout)}}})})},"dojox/widget/Toaster":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/fx dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/BackgroundIframe dojo/fx dojo/has dojo/_base/window dojo/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){s.getObject("dojox.widget",!0);return l("dojox.widget.Toaster",[h,e],{templateString:'\x3cdiv class\x3d"dijitToasterClip" dojoAttachPoint\x3d"clipNode"\x3e\x3cdiv class\x3d"dijitToasterContainer" dojoAttachPoint\x3d"containerNode" dojoAttachEvent\x3d"onclick:onSelect"\x3e\x3cdiv class\x3d"dijitToasterContent" dojoAttachPoint\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",
FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:"br-up br-left bl-up bl-right tr-down tr-left tl-down tl-right".split(" "),duration:2E3,slideDuration:500,separator:"\x3chr\x3e\x3c/hr\x3e",postCreate:function(){this.inherited(arguments);this.hide();r.body().appendChild(this.domNode);this.messageTopic&&p.subscribe(this.messageTopic,this,"_handleMessage")},_handleMessage:function(a){s.isString(a)?this.setContent(a):this.setContent(a.message,a.type,a.duration)},setContent:function(a,
b,e){e=e||this.duration;if(this.slideAnim&&("playing"!=this.slideAnim.status()&&this.slideAnim.stop(),"playing"==this.slideAnim.status()||this.fadeAnim&&"playing"==this.fadeAnim.status())){setTimeout(s.hitch(this,function(){this.setContent(a,b,e)}),50);return}for(var g in this.messageTypes)k.remove(this.containerNode,"dijitToaster"+(this.messageTypes[g].substring(0,1).toUpperCase()+this.messageTypes[g].substring(1)));f.set(this.containerNode,"opacity",1);this._setContent(a);k.add(this.containerNode,
"dijitToaster"+((b||this.defaultType).substring(0,1).toUpperCase()+(b||this.defaultType).substring(1)));this.show();g=n.getMarginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible)this._placeClip(),this._stickyMessage||this._setHideTimer(e);else{var h=this.containerNode.style,l=this.positionDirection;if(0<=l.indexOf("-up"))h.left="0px",h.top=g.h+10+"px";else if(0<=l.indexOf("-left"))h.left=g.w+10+"px",h.top="0px";else if(0<=l.indexOf("-right"))h.left=0-g.w-10+"px",h.top="0px";else if(0<=
l.indexOf("-down"))h.left="0px",h.top=0-g.h-10+"px";else throw Error(this.id+".positionDirection is invalid: "+l);this.slideAnim=d.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(a,b){this.fadeAnim=q.fadeOut({node:this.containerNode,duration:1E3});this.connect(this.fadeAnim,"onEnd",function(a){this.isVisible=!1;this.hide()});this._setHideTimer(e);this.connect(this,"onSelect",function(a){this._cancelHideTimer();this._stickyMessage=
!1;this.fadeAnim.play()});this.isVisible=!0});this.slideAnim.play()}},_setContent:function(a){s.isFunction(a)?a(this):(a&&this.isVisible&&(a=this.contentNode.innerHTML+this.separator+a),this.contentNode.innerHTML=a)},_cancelHideTimer:function(){this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null)},_setHideTimer:function(a){this._cancelHideTimer();0<a?(this._cancelHideTimer(),this._hideTimer=setTimeout(s.hitch(this,function(a){this.bgIframe&&this.bgIframe.iframe&&(this.bgIframe.iframe.style.display=
"none");this._hideTimer=null;this._stickyMessage=!1;this.fadeAnim.play()}),a)):this._stickyMessage=!0},_placeClip:function(){var d=b.getBox(),e=n.getMarginBox(this.containerNode),f=this.clipNode.style;f.height=e.h+"px";f.width=e.w+"px";var h=this.positionDirection;h.match(/^t/)?f.top=d.t+"px":h.match(/^b/)&&(f.top=d.h-e.h-2+d.t+"px");h.match(/^[tb]r-/)?f.left=d.w-e.w-1-d.l+"px":h.match(/^[tb]l-/)?f.left="0px":h.match(/^[tb]c-/)&&(f.left=Math.round((d.w-e.w-1-d.l)/2)+"px");f.clip="rect(0px, "+e.w+
"px, "+e.h+"px, 0px)";if(a("ie")&&(this.bgIframe||(this.clipNode.id=m.getUniqueId("dojox_widget_Toaster_clipNode"),this.bgIframe=new g(this.clipNode)),d=this.bgIframe.iframe))d.style.display="block"},onSelect:function(a){},show:function(){f.set(this.domNode,"display","block");this._placeClip();this._scrollConnected||(this._scrollConnected=p.connect(b,"onscroll",this,this._placeClip))},hide:function(){f.set(this.domNode,"display","none");this._scrollConnected&&(p.disconnect(this._scrollConnected),
this._scrollConnected=!1);f.set(this.containerNode,"opacity",1)}})})},"dojo/selector/_loader":function(){define(["../has","require"],function(l,s){var p=document.createElement("div");l.add("dom-qsa2.1",!!p.querySelectorAll);l.add("dom-qsa3",function(){try{return p.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==p.querySelectorAll(".TEST:empty").length}catch(f){}});var q;return{load:function(f,k,n,m){m=s;f="default"==f?l("config-selectorEngine")||"css3":f;f="css2"==f||"lite"==f?"./lite":"css2.1"==
f?l("dom-qsa2.1")?"./lite":"./acme":"css3"==f?l("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":(m=k)&&f;if("?"==f.charAt(f.length-1)){f=f.substring(0,f.length-1);var h=!0}if(h&&(l("dom-compliant-qsa")||q))return n(q);m([f],function(e){"./lite"!=f&&(q=e);n(e)})}}})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(l){return l})},"anaplan/actions/_ActionMainView":function(){define("anaplan/snav/listloader dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/promise/all anaplan/data/ModelContentCache dijit/layout/BorderContainer anaplan/actions/_ActionButtonPanel anaplan/dashboard/MultiSelect anaplan/Exceptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return p(h,{checkIsEditableOnMultiSelectItems:!0,disabled:!0,filterByAncestor:!0,filterPropertyEntityLongIds:null,gutters:!1,liveSplitters:!1,loading:!1,hierarchyEntityLongId:-1,multiSelectHierarchyEntityLongId:-1,propertyEntityLongId:-1,selectedItems:null,isParentItemEditable:function(){return null},isValid:function(){return this._multiSelect?this._multiSelect.isValid():!0},onCancel:function(){},onOk:function(){},postCreate:function(){this.inherited(arguments);if(-1===
this.hierarchyEntityLongId)throw new d.ClientException("anaplan.actions._ActionMainView: missing hierarchyEntityLongId");if(-1===this.multiSelectHierarchyEntityLongId)throw new d.ClientException("anaplan.actions._ActionMainView: missing multiSelectHierarchyEntityLongId");k.add(this.domNode,"actionMainView");f.set(this.domNode,"data-element-id","actionMainView");this._buttonPanel=this._createButtonPanel();this._multiSelect=this._createMultiSelect();this.addChild(this._buttonPanel);this.addChild(this._multiSelect)},
_createButtonPanel:function(){var a=new e({region:"bottom",disabled:this.disabled});this.own(a.on("ok",q.hitch(this,"_onOk")),a.on("cancel",q.hitch(this,"onCancel")));return a},_createMultiSelect:function(){var a=m.getUserInfo(),d=m.getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),a=-1<s.indexOf(a.entityTypeIndicesUserCanMaintain,d),d=this._getDeferredList(this.multiSelectHierarchyEntityLongId),a=new g({region:"center",canMaintain:a,checkIsEditableOnMultiSelectItems:this.checkIsEditableOnMultiSelectItems,
deferredList:d,filterByAncestor:this.filterByAncestor,filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,isParentItemEditable:this.isParentItemEditable(),multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,selectedItems:this.selectedItems,max:{w:640,h:480},min:{w:320,h:240},disabled:this.disabled});this.own(a.watch("loading",q.hitch(this,"_onMultiSelectLoading")));return a},_getDeferredList:function(a){return n([l.getList(a,g.MAX_ITEMS)])},_getValueAttr:function(){return this._multiSelect.get("value")},
_onMultiSelectLoading:function(a,d,b){this._submitted||this.set("disabled",b);k.toggle(this._buttonPanel.domNode,"loading",b)},_onOk:function(){this._submitted=!0;this.onOk()},_setDisabledAttr:function(a){this._set("disabled",a);this._buttonPanel&&this._buttonPanel.set("disabled",a);this._multiSelect&&this._multiSelect.set("disabled",a)},_setLoadingAttr:function(a){this._set("loading",a);this._buttonPanel&&this._buttonPanel.set("loading",a);this._multiSelect&&this._multiSelect.set("loading",a)}})})},
"anaplan/settings/HistoryRestoreToLockedDialog":function(){define("anaplan/data/ModelContentCache dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/event anaplan/widgets/Dialog2 dojo/text!anaplan/templates/RestoreToLockedDialog.html dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/history anaplan/constants dojo/dom-class anaplan/widgets/Button dijit/form/NumberSpinner dijit/form/Form dijit/form/ValidationTextBox".split(" "),function(l,s,p,q,f,k,n,
m,h,e,g,d){return f("anaplan.view.",[s,p,q,n.ContentMixin],{baseClass:"",tabIndex:-1,templateString:m,widgetsInTemplate:!0,onConfirm:function(){},onCancel:function(){},onDiscard:function(){},onDialogShow:function(){},onDialogHide:function(){this._restoreForm.reset();this.setIconStylingToEditableSelected()},constructor:function(){},postCreate:function(){this.inherited(arguments);this._serialNumberSelectorLabel.innerHTML=e.labelIdTextBox;this._serialNumberRestoreButton.set("label",e.menuItemRestore);
this._cancelButton.set("label",h.buttonCancel);this._serialNumberTextBox.focus();l.getApplicationProperty(g.FEATURE_FLAGS.RESTORE_TO_LOCKED)?(this._restoreToChoiceEditable.domNode.setAttribute("style","display:none;"),this._restoreToChoiceLocked.domNode.setAttribute("style","display:none;")):(this._restoreChoiceContainer.style="display:none;",this._restoreChoiceContainer.hidden=!0)},_isValid:function(){return"Error"!==this._restoreForm.get("state")},_onCancel:function(){this.onCancel()},_onCancelButtonClick:function(){this._onCancel()},
setIconStylingToEditableSelected:function(){this._restoreToChoiceLockedIcon.setAttribute("class","anaplanIcon anaplanIconLockedLARGE qa-icon-locked");this._restoreToChoiceLockedLabel.setAttribute("class","unselected");this._restoreToChoiceEditableIcon.setAttribute("class","anaplanIcon anaplanIconStandardLARGE_SELECTED qa-icon-editable");this._restoreToChoiceEditableLabel.setAttribute("class","selected")},setIconStylingToLockedSelected:function(){this._restoreToChoiceLockedIcon.setAttribute("class",
"anaplanIcon anaplanIconLockedLARGE_SELECTED qa-icon-locked");this._restoreToChoiceLockedLabel.setAttribute("class","selected");this._restoreToChoiceEditableIcon.setAttribute("class","anaplanIcon anaplanIconStandardLARGE qa-icon-editable");this._restoreToChoiceEditableLabel.setAttribute("class","unselected")}})})},"anaplan/utils/SelectorFactory/PageSelector":function(){define(["dojo/_base/declare"],function(l){return l("anaplan.utils.SelectorFactory.PageSelector",[],{onPageSelectionChange:function(){},
show:function(){}})})},"anaplan/charts/ChartOptions":function(){define("anaplan/charts/MapChartOptions anaplan/charts/WaterfallChartOptions anaplan/charts/TimelineChartOptions anaplan/charts/CommonChartOptions anaplan/charts/FunnelChartOptions anaplan/data/ModelContentCache anaplan/constants anaplan/data/ModelContentHelper dijit/layout/TabContainer dojo/_base/declare dojo/_base/lang dojo/dom-class".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){return e("anaplan.charts.ChartOptions",h,{_widget:null,
constructor:function(a){this._chartOptions=a.options;this._chartType=a.chartType;this._viewDefinition=a.viewDefinition},focus:function(){this._columnRangeOptionsTab?this._columnRangeOptionsTab.focus():this.inherited(arguments)},onChange:function(){},postCreate:function(){this.inherited(arguments);d.add(this.domNode,"chartoptions");var a=m.getModuleEntityLongIdForViewDefinitionOrReference(k,this._viewDefinition);this._widget=this._chartType===n.chartType.COLUMNRANGE?new p({_options:this._chartOptions,
moduleEntityLongId:a,onChange:g.hitch(this,"onChange")}):this._chartType===n.chartType.MAP?new l({_options:this._chartOptions,moduleEntityLongId:a,onChange:g.hitch(this,"onChange")}):this._chartType===n.chartType.WATERFALL?new s({_options:this._chartOptions,moduleEntityLongId:a,onChange:g.hitch(this,"onChange")}):this._chartType===n.chartType.FUNNEL?new f({_options:this._chartOptions,moduleEntityLongId:a,onChange:g.hitch(this,"onChange")}):new q({_options:this._chartOptions,onChange:g.hitch(this,
"onChange")});this.addChild(this._widget)},initSeriesData:function(){this._widget.initSeriesData&&this._widget.initSeriesData()}})})},"anaplan/widgets/Notifier":function(){define("anaplan/utils/FormatHelper anaplan/utils/JsHelper dojo/_base/lang dojo/_base/array dojo/topic dojox/widget/Toaster dojo/_base/declare".split(" "),function(l,s,p,q,f,k,n){return n([k],{positionDirection:"tr-down",slideDuration:0,postCreate:function(){this.inherited(arguments);this.own(f.subscribe("anaplan/systemstatus",p.hitch(this,
"_systemStatus")),f.subscribe("anaplan/systemmessage",p.hitch(this,"_systemMessage")))},_systemMessage:function(f,h,e,g){try{var d=s.isString(g)?g.toLowerCase():"message";-1===q.indexOf(["fatal","error","warning","message"],d)&&(d="message");-1<e?this.setContent(f,d,e):this.setContent(f,d,0)}catch(a){console.warn("anaplan.widgets.Notifier central error reporter failed to report error because",a),alert(a.stack)}},_systemStatus:function(f,h,e){f&&(f=l.formatSystemStatusMessage(f,h),e&&e.length&&(f=
[f,l.formatSystemStatusTooltip(e)].join("\x3cbr /\x3e\x3cbr /\x3e")),this.setContent(f,"message",0))},setContent:function(f,h,e){this.containerNode?this.inherited(arguments):console.warn(this.id+" failed to display",f)},uninitialize:function(){this._cancelHideTimer()}})})},"anaplan/dashboard/DesignControls":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct anaplan/constants anaplan/Exceptions anaplan/widgets/TitlePane ./DesignControlsHeader ./DesignControlsEmpty dojo/i18n!anaplan/nls/dashboard dijit/Destroyable dojo/Evented".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){function r(a){var b=[];a.dashboardElementType&&-1===p.indexOf(y,a.dashboardElementType)&&b.push({id:"heightAndWidth",factory:"getHeightAndWidthPanel",title:g.titleHeightAndWidth});return b=b.concat([{id:"selectionOptions",factory:"getPageSelectorOptionsPanel",title:g.titlePageSelectorOptions},{id:"usabilityOptions",factory:"getUsabilityOptionsPanel",title:g.titleUsabilityOptions},{id:"toolbarOptions",factory:"getToolbarOptionsPanel",title:g.titleToolbarOptions},
{id:"menuOptions",factory:"getMenuToolbarOptionsPanel",title:g.titleMenuToolbarOptions},{id:"staticTextOptions",factory:"getStaticTextOptionsPanel",title:g.staticTextStylesChangeStyle},{id:"imageOption",factory:"getImageOptionPanel",title:g.titleImageOption},{id:"buttonOptions",factory:"getButtonOptionsPanel",title:g.titleButtonOptions},{id:"buttonStyles",factory:"getButtonStylesPanel",title:g.titleButtonStyles}])}function b(a){if(null===a._header){var b=f.create("div",{},a._outerContainer);a._header=
new h({},b);a.own(q(a._header,"CloseButtonClick",function(){a.onCloseDesigner()}.bind(a)))}}function t(a,b){if(!a._titlePaneList||!(0<a._titlePaneList.length&&b===a._boundWidget)){z(a);a._titlePaneList=[];a._boundWidget=b||null;if(b){var d=r(b);p.forEach(d,function(d){var e=a.getPanelId(a.panelIdMap[d.id]),g;g="function"!==typeof b[d.factory]?null:b[d.factory]();e={title:d.title,cookieName:e};if(g){var h=f.create("div",{},a._bodyContainer),e=new m(e,h);a._titlePaneList.push(e);e.addChild(g);g=e}else g=
void 0;g&&(g._factoryMethod=d.factory)})}else v(a,a._bodyContainer,{});u(a._titlePaneList)}}function u(a){for(var b=0;b<a.length;++b)a[b].startup()}function v(a,b,d){b=f.create("div",{},b);d=new e(d,b);a._titlePaneList.push(d);return d}function z(a){if(s.isArray(a._titlePaneList))for(var b=0;b<a._titlePaneList.length;++b)a._titlePaneList[b].destroyRecursive();a._titlePaneList=null}l=l([d,a],{idPrefix:null,panelIdMap:{heightAndWidth:"H",menuOptions:"M",selectionOptions:"S",staticTextOptions:"T",urlOption:"V",
usabilityOptions:"U"},constructor:function(a){if("object"!==typeof a)throw new n.ClientException("anaplan.tabs.Dashboard.DesignControls constructor requires an arguments object.");if(!a.container)throw new n.ClientException('Must specify "container" argument when instantiating anaplan.tabs.Dashboard.DesignControls.');"string"===typeof a.idPrefix&&(this.idPrefix=a.idPrefix);this._outerContainer=a.container;b(this);null===this._bodyContainer&&(this._bodyContainer=f.create("div",{"class":"dashboardDesignControlsBody"},
this._outerContainer));t(this,a.selected)},startup:function(){this._header.startup()},destroyRecursive:function(){z(this);this._header&&this._header.destroyRecursive();this._header=null;null!==this._dashboardWatch&&this._dashboardWatch.unwatch();this._boundWidget=this._dashboardWatch=null},onCloseDesigner:function(){},updateValues:function(){if(null!==this._boundWidget){var a=this._boundWidget,b=a.getAllArgs();p.forEach(this._titlePaneList,function(d){var e=d.getChildren(),f;for(f in e)if(e.hasOwnProperty(f)){var g=
e[f];"function"===typeof g.updateValues?g.updateValues(b):(g.destroyRecursive(),d.addChild("function"!==typeof a[d._factoryMethod]?null:a[d._factoryMethod]()))}})}},watchDashboard:function(a){this.unwatchDashboard(!0,a.selected);this._dashboardWatch=a.watch("selected",s.hitch(this,function(a,b,d){if(d){if(!d.containedWidget)throw new n.ClientException("DesignControls#watchDashboard: Got a selection that is not a dashboard widget!");t(this,d)}else t(this)}))},unwatchDashboard:function(a,b){this._unwatchDashboard();
a&&t(this,b)},getPanelId:function(a){var b=this.idPrefix;null===b&&(this._outerContainer&&this._outerContainer.id)&&(b=this._outerContainer.id);return""+b+a},_unwatchDashboard:function(){null!==this._dashboardWatch&&this._dashboardWatch.remove()},_bodyContainer:null,_outerContainer:null,_header:null,_titlePaneList:null,_dashboardWatch:null,_boundWidget:null});k=k.dashboardElementType;var y=[k.PAGE_SELECTOR,k.BUTTON,k.CELL,k.STATIC_TEXT];return l})},"anaplan/gridlet/_editor/DateEditor":function(){define("anaplan/gridlet/_editor/BaseEditor dijit/form/_TextBoxMixin dijit/form/DateTextBox dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-construct dojo/dom-geometry".split(" "),
function(l,s,p,q,f,k,n,m){return q("anaplan.gridlet._editor.DateEditor",l,{constructor:function(h){var e=f.exists("parentWidget.isCell",h)&&h.parentWidget.isCell();this.widget=new p({openOnClick:!e,hasDownArrow:e,style:h.style?h.style:"","class":h["class"]?h["class"]:"",_onKey:function(){}});(h=h.containerNode||null)&&n.place(this.widget.domNode,h);this.widget.startup();this.connect(this.widget,"keydown",f.hitch(this,"onKeyDown"));this.connect(this.widget,"change",f.hitch(this,"onChange"))},focus:function(){var f;
this.inherited(arguments);this.widget&&(this.widget.openDropDown(),f=this.widget.textbox.value,f=f.length,s.selectInputText(this.widget.textbox,f,f))},getValue:function(){if(this.widget){var f=this.widget.get("value");return f instanceof Date?k.format(f,{selector:"date",fullYear:!0}):f}return null},isValid:function(){return this.widget?this.widget.isValid():!0},prepare:function(h){var e=this.inherited(arguments),g=f.mixin({},this._params,h);this.setValue(g.isEnterMode?"":g.value);g.cellNode?m.setMarginBox(this.widget.domNode,
m.getMarginBox(g.cellNode)):g.size&&m.setMarginBox(this.widget.domNode,g.size);e.resolve();return e},setValue:function(f){this.widget&&(f=k.parse(f,{selector:"date"}),this.widget.set("value",f,!1))}})})},"anaplan/utils/RedirectHelper":function(){define(["dojo/_base/lang","dojo/topic"],function(l,s){var p={handleRedirect:function(l){l&&l.redirectUrl&&s.publish("anaplan/aggregator/redirect",l)}};l.setObject("anaplan.utils.RedirectHelper",p);return p})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel",
"dojo/_base/lang","dojo/_base/array","./lambda"],function(l,s,p,q){var f={};s.mixin(q,{filter:function(k,n,m){"string"==typeof k&&(k=k.split(""));m=m||l.global;n=q.lambda(n);var h=[],e,g,d;if(s.isArray(k)){g=0;for(d=k.length;g<d;++g)e=k[g],n.call(m,e,g,k)&&h.push(e)}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(g=0;k.hasNext();)e=k.next(),n.call(m,e,g++,k)&&h.push(e);else for(g in k)g in f||(e=k[g],n.call(m,e,g,k)&&h.push(e));return h},forEach:function(k,n,m){"string"==typeof k&&
(k=k.split(""));m=m||l.global;n=q.lambda(n);var h,e;if(s.isArray(k)){h=0;for(e=k.length;h<e;n.call(m,k[h],h,k),++h);}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(h=0;k.hasNext();n.call(m,k.next(),h++,k));else for(h in k)h in f||n.call(m,k[h],h,k);return m},map:function(k,n,m){"string"==typeof k&&(k=k.split(""));m=m||l.global;n=q.lambda(n);var h,e,g;if(s.isArray(k)){h=Array(e=k.length);for(g=0;g<e;h[g]=n.call(m,k[g],g,k),++g);}else if("function"==typeof k.hasNext&&"function"==
typeof k.next){h=[];for(g=0;k.hasNext();h.push(n.call(m,k.next(),g++,k)));}else for(g in h=[],k)g in f||h.push(n.call(m,k[g],g,k));return h},every:function(k,n,m){"string"==typeof k&&(k=k.split(""));m=m||l.global;n=q.lambda(n);var h,e;if(s.isArray(k)){h=0;for(e=k.length;h<e;++h)if(!n.call(m,k[h],h,k))return!1}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(h=0;k.hasNext();){if(!n.call(m,k.next(),h++,k))return!1}else for(h in k)if(!(h in f)&&!n.call(m,k[h],h,k))return!1;return!0},
some:function(k,n,m){"string"==typeof k&&(k=k.split(""));m=m||l.global;n=q.lambda(n);var h,e;if(s.isArray(k)){h=0;for(e=k.length;h<e;++h)if(n.call(m,k[h],h,k))return!0}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(h=0;k.hasNext();){if(n.call(m,k.next(),h++,k))return!0}else for(h in k)if(!(h in f)&&n.call(m,k[h],h,k))return!0;return!1}});return q})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(l,s){var p=/[&<>'"\/]/g,q={"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},f={};s.setObject("dojo.string",f);f.escape=function(f){return!f?"":f.replace(p,function(f){return q[f]})};f.rep=function(f,l){if(0>=l||!f)return"";for(var m=[];;){l&1&&m.push(f);if(!(l>>=1))break;f+=f}return m.join("")};f.pad=function(k,l,m,h){m||(m="0");k=String(k);l=f.rep(m,Math.ceil((l-k.length)/m.length));return h?k+l:l+k};f.substitute=function(f,n,m,h){h=h||l.global;m=m?s.hitch(h,m):function(e){return e};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,
function(e,f,d){e=s.getObject(f,!1,n);d&&(e=s.getObject(d,!1,h).call(h,e,f));return m(e,f).toString()})};f.trim=String.prototype.trim?s.trim:function(f){f=f.replace(/^\s+/,"");for(var l=f.length-1;0<=l;l--)if(/\S/.test(f.charAt(l))){f=f.substring(0,l+1);break}return f};return f})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(l,s,
p,q,f,k,n,m,h,e,g,d,a,r){var b=s("dojo.dnd.Manager",[k],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:n("touch")?0:16,OFFSET_Y:n("touch")?-64:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());e.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=
!1,this.avatar.update(),e.publish("/dnd/source/over",null)):e.publish("/dnd/source/over",null)},startDrag:function(b,d,k){function l(a){a.preventDefault();a.stopPropagation()}a.autoScrollStart(q.doc);this.source=b;this.nodes=d;this.copy=Boolean(k);this.avatar=this.makeAvatar();q.body().appendChild(this.avatar.node);e.publish("/dnd/start",b,d,this.copy);this.events=[h(q.doc,g.move,p.hitch(this,"onMouseMove")),h(q.doc,g.release,p.hitch(this,"onMouseUp")),h(q.doc,"keydown",p.hitch(this,"onKeyDown")),
h(q.doc,"keyup",p.hitch(this,"onKeyUp")),h(q.doc,"dragstart",l),h(q.body(),"selectstart",l)];f.add(q.body(),"dojoDnd"+(k?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){f.remove(q.body(),["dojoDndCopy","dojoDndMove"]);l.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new r(this)},updateAvatar:function(){this.avatar.update()},
onMouseMove:function(b){var e=this.avatar;e&&(a.autoScrollNodes(b),e=e.node.style,e.left=b.pageX+this.OFFSET_X+"px",e.top=b.pageY+this.OFFSET_Y+"px",e=Boolean(this.source.copyState(d.getCopyKeyState(b))),this.copy!=e&&this._setCopyStatus(e));n("touch")&&b.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(d.getCopyKeyState(a)));e.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);e.publish("/dnd/drop",this.source,
this.nodes,b,this.target,a)}else e.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case m.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case m.ESCAPE:e.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==m.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();
f.replace(q.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});d._manager=null;b.manager=d.manager=function(){d._manager||(d._manager=new b);return d._manager};return b})},"anaplan/view/RunExistingImport":function(){define("anaplan/utils/RedirectHelper anaplan/anapediaKeys anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/data/Aggregator/TxidProvider anaplan/data/Aggregator/RequestSerialProvider anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/data/UpdatesCache anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper anaplan/view/Import anaplan/view/ImportDefinition anaplan/view/Process anaplan/view/RunExistingImport/_DataSources anaplan/view/RunExistingImport/_FailedView anaplan/view/RunExistingImport/_ImportList anaplan/widgets/Dialog2 anaplan/widgets/PleaseWait dijit/layout/StackContainer dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/io/iframe dojo/io-query dojo/json dojo/on dojo/sniff dojo/i18n!anaplan/nls/process".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J){return E([D,x.ContentMixin],{constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._moduleEntityLongId=a.moduleEntityLongId,this._viewDefinition=a.viewDefinition||null,this._importType=a.importType||null,this._params=a.params||null,this._mayPersistParams=!1===(!1==a.mayPersistParams),this._modelName=a.modelName||null,this._targetId=a.targetId||null,this._isAggregatorObserver=!1,this._viewDefinition=
B.mixin({type:"MODEL_DEFINITION"},h.getAxesForViewDefinition([m.SYSTEM_AXIS_IDENTIFIER_IMPORT_IDENTIFIER],[m.SYSTEM_AXIS_IDENTIFIER_IMPORT_PROPERTY_IDENTIFIER])),this._pendingUpdates=new g({}),this._retrievingSourceFields=this._retrievingImportList=!1,this._dataSources=new z,this._dataSources.initialize()}catch(d){b.throwClientException(this,d)}},error:function(a){console.error(a)},onBeforeDialogHide:function(){return!this._retrievingSourceFields},onClose:function(){},onDialogHide:function(){if(this._importDefinitionView)this._importDefinitionView.onDialogHide()},
onSelectImport:function(){},postCreate:function(){try{this.inherited(arguments);var a=new w({workspaceId:this._workspaceId,modelId:this._modelId,moduleEntityLongId:this._moduleEntityLongId,withSelect:null!=this._targetId}),d=new A,e=new y;this._importList=a;this._pleaseWaitView=d;this._failedView=e;this.addChild(a,0);this.addChild(d,1);this.addChild(e,2);this.own(F(a,"Close",B.hitch(this,"_onClose")),F(a,"RunImport",B.hitch(this,"_onRunImport")),F(a,"UploadStart",B.hitch(this,"_onUploadStart")),F(a,
"UploadFinish",B.hitch(this,"_onUploadFinish")),F(a,"TitleChange",B.hitch(this,"onTitleChange")),F(a,"HelpChange",B.hitch(this,"onHelpChange")),F(a,"ModelSourceRequired",B.hitch(this,"_onModelSourceRequired")),F(a,"SelectionChange",B.hitch(this,"_onSelectionChange")),F(a,"FileChange",B.hitch(this,"_onFileChange")),F(e,"Confirm",B.hitch(this,"_onAuthenticationFailure")),F(e,"HelpChange",B.hitch(this,"onHelpChange")))}catch(f){b.throwClientException(this,f)}},resize:function(){try{K("ie")&&(arguments[0]=
null),this.inherited(arguments)}catch(a){b.throwClientException(this,a)}},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},prepare:function(){q.addObserver(this);this._isAggregatorObserver=!0;q.gather()},update:function(a){try{if(this._pendingUpdates.clear(),this._importList.update(a[0]),q.deleteObserver(this),this._isAggregatorObserver=!1,this._retrievingImportList&&(this.selectChild(this._importList),this._retrievingImportList=!1),0<this._importList.getImportCount())this.onAtLeastOneImportAvailableToUser();
else this.onNoImportsAvailableToUser()}catch(d){b.throwClientException(this,d)}},onAtLeastOneImportAvailableToUser:function(){},onNoImportsAvailableToUser:function(){},uninitialize:function(){this._isAggregatorObserver&&q.deleteObserver(this);this._dataSources&&this._dataSources.destroy();this.inherited(arguments)},view:function(){var a=null;try{a=(new d(this._workspaceId)).getRequest({modelId:this._modelId,pendingUpdates:this._pendingUpdates,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,
startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new n,viewIndex:this._viewIndex||-1})}catch(e){b.throwClientException(this,e)}return a},_getMayPersistParamsAttr:function(){return this._mayPersistParams},_getParamsAttr:function(){return this._params},_onAuthenticationFailure:function(){this.selectChild(this._importList)},_onCancelEdit:function(){this.selectChild(this._importList)},_onClose:function(){this.onClose()},_onEdit:function(a,
d){try{"UPLOADED_FILE"===L.parse(a.definitionJson).dataSourceType&&(this._editUploadedTextView.setImportSource(a),this._editUploadedTextView.setProceedToImportMapping(d),this.selectChild(this._editUploadedTextView))}catch(e){b.throwClientException(this,e)}},_onError:function(b){p.showErrorReporter(b,b instanceof a.ServerException)},_onSelectionChange:function(){this._updateButtonState()},_onFileChange:function(){this._updateButtonState()},_onModelSourceRequired:function(){this.selectChild(this._modelSourceView)},
_onRetrievalOfSourceFields:function(a,d){try{this._retrievingSourceFields=!1;var e=d.sourceDefinition;e?(this._editView.setSourceDefinition(e),this._editView.setSourceFields(a.sourceFields),this.selectChild(this._editView)):this.selectChild(this._importList)}catch(f){b.throwClientException(this,f)}},_onUploadStart:function(){this.selectChild(this._pleaseWaitView)},_onUploadFinish:function(d){try{var e=this;if(d){if(d&&d.error){var f=new a.BaseException(d.error);p.showErrorReporter(f,!0);this.selectChild(this._importList);
q.gather();return}if(!d.uploadedFileGuid){console.warn("RunExistingImport _onUploadFinish expected to receive entityLongId and did not");var g=new a.IllegalStateException(null,null,{state:"_onUploadFinish expected to receive uploadedFileGuid and did not"});p.showErrorReporter(new a.ClientException("An unknown error occured whilst processing your file.",g));this.selectChild(this._importList);q.gather();return}}var h=this._importList.getSelectedImport(),k=h.entityLongId,l=h.label,m=h.definitionJson;
this._importView&&(this.removeChild(this._importView),this._importView.destroy());var n=new t({workspaceId:this._workspaceId,modelId:this._modelId,importType:this._importType,importEntityLongId:k,importDefinitionJson:m,importEntityLabel:l,uploadedFileGuid:d?d.uploadedFileGuid:null});this._importView=n;this.own(F(n,"AfterImport",function(){e._onClose()}),F(n,"Cancel",function(){e._onClose()}),F(n,"TitleChange",function(a){e.onTitleChange(a)}),F(n,"HelpChange",function(){e.onHelpChange(s.importIntoModules)}));
this.addChild(n);this.selectChild(n)}catch(r){b.throwClientException(this,r)}},_updateButtonState:function(){try{var a=this._importList.getSelectedImport();this._importList.runButton.set("disabled",!a);if(this._importList.fileInput){var d=!1;if(a){var e=L.parse(a.definitionJson);if(e)for(var f=r.entityLongIdIdentifierToEntityLongId(e.source),g=this._dataSources.getDataSources(),a=0;a<g.length;a++){var h=g[a];if(h.entityLongId==f){var k=h.dataSourceDefinition;k&&"UPLOADED_FILE"==k.dataSourceType&&
(d=!0);break}}}this._importList.fileInput.disabled=!d}}catch(l){b.throwClientException(this,l)}},_refresh:function(a){this._retrievingImportList=!0;a=e.createRequest(this._workspaceId,a||[],[],[]);q.gather(a)},_onRunImport:function(){try{var d=this,e=this._importList;C.set(e.workspaceIdInput,{value:this._workspaceId});C.set(e.modelIdInput,{value:this._modelId});C.set(e.sessionIdInput,{value:sessionId});C.set(e.txIdInput,{value:f.getTxid()});if(e.fileInput.disabled)this._wrapImportAndExecuteAsProcess();
else{var g={modelId:this._modelId,workspaceId:this._workspaceId,requestSerialNumber:k.getNextRequestSerialNumber()},h=H.objectToQuery(g);this._onUploadStart();G.send({url:"upload?"+h,form:e.fileForm,handleAs:"json",error:function(b){p.showErrorReporter(new a.ClientException("RunExistingImport._ImportList: _onFileChange",b,{widgetId:this.id},event));d._onUploadFinish({})},load:function(a){a.redirectUrl?l.handleRedirect(a):d._onUploadFinish(a)}})}}catch(m){b.throwClientException(this,m)}},_wrapImportAndExecuteAsProcess:function(){var a=
this._importList.getSelectedImport(),b=L.stringify({nodes:{Import:{type:"IMPORT",action:r.entityLongIdToEntityLongIdIdentifier(a.entityLongId),next:"_END_"},_END_:{type:"END",next:null}},start:"Import"});this._displayProcessDialog(null,b,a.label,"titleImport")},_displayProcessDialog:function(a,b,d,e){try{var f={workspaceId:this._workspaceId,modelId:this._modelId,processEntityLongId:a,processDefinitionJson:b,processEntityLabel:d},g=p.getSharedDialog(),h=new v(f);g.set("title",J[e]);g.set("refocus",
!1);g.set("content",h.domNode);g.set("preventhide",!0);var k=F(g,"Cancel",function(){h.cancelProcess()}),l=F(h,"ProcessCompletion",function(){g.hide(null,!0).then(function(){q.gather()})}),m=F(h,"Cancel",function(){g.onCancel()});this.own(k,l,m);g.show()}catch(n){p.throwClientException(this,n)}},_retrieveImportSourceFields:function(b,d){try{this._retrievingSourceFields=!0;this.selectChild(this._pleaseWaitView);var f=e.createRequest(this._workspaceId,[],[],[{actionId:"GET_IMPORT_SOURCE_FIELDS",params:b}]),
g=this;q.post(f,!1,function(e){try{if(e.result.systemActionResults&&e.result.systemActionResults.length){var f=e.result.systemActionResults[0];g._retrievingSourceFields=!1;if(f.successful){d(f,b);g._params=[];for(var h in b)b.hasOwnProperty(h)&&g._params.push({id:h,defaultValue:b[h]});g._mayPersistParams=!1===(!1==b.persistParams)}else g._failedView.setDetail(f.errorDetail),g.selectChild(g._failedView)}else throw new a.ClientException("RunExistingImport: _retrieveImportSourceFields has no system action results");
}catch(k){g._onError(new a.ClientException("RunExistingImport: _retrieveImportSourceFields (_onGet)",k,{widgetId:g.id}))}},function(b,d){try{if(g._retrievingSourceFields=!1,a.isException(b))g._onError(b);else{var e={};d&&(d.xhr&&d.xhr.status)&&(e.httpStatus=d.xhr.status,e.httpStatusText=d.xhr.statusText);b.error?g._onError(new a.ServerException(b.error,null,e)):!d||!d.xhr||!d.xhr.status?g._onError(new a.TransportException("RunExistingImport: _retrieveImportSourceFields (No HTTP status response)")):
(e.response=b,g._onError(new a.ClientException("RunExistingImport: _retrieveImportSourceFields (Unexpected failure)",null,e)))}}catch(f){g._onError(new a.ClientException("RunExistingImport: _retrieveImportSourceFields (_onError)",f,{widgetId:g.id}))}})}catch(h){p.showErrorReporter(new a.ClientException("RunExistingImport: _retrieveImportSourceFields",h,{widgetId:this.id})),this._retrievingSourceFields=!1}},_showImportDefinition:function(a){try{if(!this._importDefinitionView){this._importDefinitionView=
new u({workspaceId:this._workspaceId,modelId:this._modelId});this.addChild(this._importDefinitionView);var d=F(this._importDefinitionView,"HelpChange",B.hitch(this,"onHelpChange")),e=F(this._importDefinitionView,"TitleChange",B.hitch(this,"onTitleChange")),f=F(this._importDefinitionView,"RunImport",B.hitch(this,"_onRunImport")),g=F(this._importDefinitionView,"Cancel",B.hitch(this,function(){this.selectChild(this._importList)})),h=F(this._importDefinitionView,"SaveImportDefinition",B.hitch(this,function(){this.onClose()}));
this.own(d,e,f,g,h)}this._importDefinitionView.setParams(a);this.selectChild(this._importDefinitionView)}catch(k){b.throwClientException(this,k)}},_dummySourceFields:[{id:"Customer.Id",displayName:"Customer Account ID"},{id:"Customer.Name",displayName:"Customer Account Name"},{id:"Customer.Type",displayName:"Customer Account Type"},{id:"Customer.AccountCode__c",displayName:"Customer Account Code"},{id:"User.Id",displayName:"User ID"},{id:"User.Name",displayName:"Full Name"},{id:"Opportunity.Id",displayName:"Opportunity ID"},
{id:"Opportunity.Name",displayName:"Name"},{id:"Opportunity.StageName",displayName:"Stage"},{id:"Opportunity.Amount",displayName:"Amount"},{id:"Opportunity.CloseDate",displayName:"Close Date"},{id:"Opportunity.Type",displayName:"Opportunity Type"},{id:"Opportunity.IsClosed",displayName:"Closed"},{id:"Opportunity.IsWon",displayName:"Won"},{id:"Product2.Id",displayName:"Product ID"},{id:"Product2.Name",displayName:"Product Name"},{id:"Product2.ProductCode",displayName:"Product Code"},{id:"Product2.Family",
displayName:"Product Family"},{id:"Partner.Id",displayName:"Partner Account ID"},{id:"Partner.Name",displayName:"Partner Account Name"},{id:"Partner.Type",displayName:"Partner Account Type"},{id:"Partner.AccountCode__c",displayName:"Partner Account Code"},{id:"OpportunityLineItem.Quantity",displayName:"Quantity"},{id:"OpportunityLineItem.TotalPrice",displayName:"Total Price"},{id:"OpportunityLineItem.UnitPrice",displayName:"Sales Price"},{id:"OpportunityLineItem.ListPrice",displayName:"List Price"},
{id:"OpportunityLineItem.Description",displayName:"Line Description"}]})})},"anaplan/widgets/InlineSearchResults":function(){define("dijit/layout/ContentPane dijit/Tree dijit/tree/ObjectStoreModel dojo/_base/declare dojo/_base/lang dojo/store/Memory dojo/store/Observable".split(" "),function(l,s,p,q,f,k,n){return q([l],{baseClass:"inlineSearchResults",data:null,ROOT:"root",constructor:function(){var f=new k({data:[{name:this.ROOT,id:this.ROOT}],getChildren:function(f){return this.query({parent:f.id})}});
this._store=new n(f)},postCreate:function(){this.inherited(arguments);var k=new s({model:new p({store:this._store,query:{id:this.ROOT},mayHaveChildren:function(f){return!1}}),persist:!1,showRoot:!1,autoExpandFirstNode:!1,getIconClass:function(){return null},getTooltip:function(f){return f.hasOwnProperty("tooltip")?f.tooltip:""}});this.own(k.on("click",f.hitch(this,function(f){this.onSelectionChange({entityLongId:f.id,label:f.name})})));this.addChild(k);this._tree=k},focus:function(){this._tree&&(this._tree.selectedNode?
this._tree.focusNode(this._tree.selectedNode):this._tree.focus())},onSelectionChange:function(f){},_setDataAttr:function(f){this._set("data",f);var h=this._store;h.query({parent:this.ROOT}).forEach(function(e){h.remove(h.getIdentity(e))});f.forEach(function(e){h.put(e)})}})})},"anaplan/widgets/_ListsMixin":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/data/ObjectStore","dojo/store/Memory"],function(l,s,p,q){return s([],{setItems:function(f,k,n){k=k||"value";var m=new q({data:f,idProperty:k}),
h=l.hitch(this,function(){var e=this.get("value");0<f.length&&""===e&&this.set("value",f[0][k])}),e=new p({objectStore:m});n&&e.fetch({onComplete:function(f){m=new q({data:f,idProperty:k});e.objectStore=m},sort:[{attribute:n,descending:!1}]});this.set("store",e);h()}})})},"anaplan/api/SystemActions/CopySelectionAlongAxis":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q){return l([s],{buildRequestObject:function(){return{actionId:p.SYSTEM_ACTIONS.COPY_SELECTION_ALONG_AXIS,
params:{modelId:window.modelId,viewDefinition:this._params.viewDefinition,gridSelection:this._params.gridSelection,direction:this._params.direction,containerId:this._params.containerId}}}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),function(l,s,p,q,f,k,n,m,h){function e(a,b){for(var d=a.unselectable=b?"on":"",e=a.getElementsByTagName("*"),
f=e.length;--f;)"INPUT"===e[f].tagName||"TEXTAREA"===e[f].tagName||(e[f].unselectable=d)}function g(b,d){var g=b.bodyNode,h=d?"text":21>f("ff")?"-moz-none":"none";a&&"msUserSelect"!==a?g.style[a]=h:f("dom-selectstart")?!d&&!b._selectstartHandle?b._selectstartHandle=q(g,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):d&&b._selectstartHandle&&(b._selectstartHandle.remove(),delete b._selectstartHandle):(e(g,!d),!d&&!b._unselectableHandle?b._unselectableHandle=
k.after(b,"renderRow",function(a){e(a,!0);return a}):d&&b._unselectableHandle&&(b._unselectableHandle.remove(),delete b._unselectableHandle))}f.add("dom-comparedocumentposition",function(a,b,d){return!!d.compareDocumentPosition});f.add("pointer",function(a,b,d){return"onpointerdown"in d?"pointer":"onmspointerdown"in d?"MSPointer":!1});f.add("css-user-select",function(a,b,d){a=d.style;b=["Khtml","O","ms","Moz","Webkit"];d=b.length;var e="userSelect";do if("undefined"!==typeof a[e])return e;while(d--&&
(e=b[d]+"UserSelect"));return!1});f.add("dom-selectstart","undefined"!==typeof document.onselectstart);var d=f("mac")?"metaKey":"ctrlKey",a=f("css-user-select"),r=(n=f("pointer"))&&"MS"===n.slice(0,2),b=n?n+(r?"Down":"down"):"mousedown",t=n?n+(r?"Up":"up"):"mouseup";return s(null,{selectionDelegate:".dgrid-row",selectionEvents:b+","+t+",dgrid-cellfocusin",selectionTouchEvents:f("touch")?m.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,
_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=
this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){l.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?g(this,a):g(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,d){if(this[this._selectionHandlerName]&&
this.allowSelect(this.row(d))&&!("dgrid-cellfocusin"===a.type&&"mousedown"===a.parentType||a.type===t&&d!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===b&&this.isSelected(d))this._waitForMouseUp=d;else this[this._selectionHandlerName](a,d);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,b){var e=a.keyCode?a.ctrlKey:a[d];this._lastSelected===b?this.select(b,null,!e||!this.isSelected(b)):
(this.clearSelection(),this.select(b),this._lastSelected=b)},_multipleSelectionHandler:function(a,b){var e=this._lastSelected,f=a.keyCode?a.ctrlKey:a[d],g;a.shiftKey||(g=f?null:!0,e=null);this.select(b,e,g);e||(this._lastSelected=b)},_extendedSelectionHandler:function(a,b){(2===a.button?!this.isSelected(b):!(a.keyCode?a.ctrlKey:a[d]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(a,b)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var a=
this,b=this.contentNode,e=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};f("touch")&&!f("pointer")&&this.selectionTouchEvents?(q(b,m.selector(e,this.selectionTouchEvents),function(b){a._handleSelect(b,this);a._ignoreMouseSelect=this}),q(b,q.selector(e,this.selectionEvents),function(b){a._ignoreMouseSelect!==this?a._handleSelect(b,this):b.type===t&&(a._ignoreMouseSelect=null)})):q(b,q.selector(e,this.selectionEvents),function(b){a._handleSelect(b,this)});this.addKeyHandler&&
this.addKeyHandler(32,function(b){a._handleSelect(b,b.target)});if(this.allowSelectAll)this.on("keydown",function(b){b[d]&&(65==b.keyCode&&!/\bdgrid-input\b/.test(b.target.className))&&(b.preventDefault(),a[a.allSelected?"clearSelection":"selectAll"]())});this._setStore&&k.after(this,"_setStore",function(){a._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(d,e,f){d=e||d&&d[b.idProperty||"id"];if(null!=d&&(e=(d=b.row(d))&&b.selection[d.id]))b[f](d,
null,e)}var b=this,d=this.store,e,f;this._removeDeselectSignals&&this._removeDeselectSignals();d&&d.notify?(e=k.before(d,"notify",function(b,d){b||a(b,d,"deselect")}),f=k.after(d,"notify",function(b,d){a(b,d,"select")},!0),this._removeDeselectSignals=function(){e.remove();f.remove()}):(e=k.before(this,"removeRow",function(a,b){var d;b||(d=this.row(a))&&d.id in this.selection&&this.deselect(d)}),this._removeDeselectSignals=function(){e.remove()})},allowSelect:function(a){return!0},_fireSelectionEvent:function(a){var b=
this._selectionEventQueues[a],d=this._selectionTriggerEvent,e;e={bubbles:!0,grid:this};d&&(e.parentType=d.type);e[this._selectionTargetType]=b;q.emit(this.contentNode,"dgrid-"+a,e);this._selectionEventQueues[a]=[]},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,d){var e,f,g;"undefined"===typeof d&&(d=!0);a.element||(a=this.row(a));if(!1===d||this.allowSelect(a))if(e=this.selection,f=!!e[a.id],null===d&&(d=
!f),g=a.element,!d&&!this.allSelected?delete this.selection[a.id]:e[a.id]=d,g&&(d?h(g,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):h(g,"!dgrid-selected!ui-state-active")),d!==f&&g&&this._selectionEventQueues[(d?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){e=this._determineSelectionDirection(g,b);e||(b=document.getElementById(b.id),e=this._determineSelectionDirection(g,b));for(;a.element!=b&&(a=this[e](a));)this._select(a,null,d)}}else this._lastSelected=
g,console.warn("The selection range has been reset because the beginning of the selection is no longer in the DOM. If you are using OnDemandList, you may wish to increase farOffRemoval to avoid this, but note that keeping more nodes in the DOM may impact performance.")},_determineSelectionDirection:f("dom-comparedocumentposition")?function(a,b){var d=b.compareDocumentPosition(a);return d&1?!1:2===d?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,
b,d){this._select(a,b,d);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var d in this.selection)a!==d&&this._select(d,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||
null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,b=this.inherited(arguments);p.when(b,function(b){var d=a.selection,e,f,g;for(e=0;e<b.length;e++)f=a.row(b[e]),(g=f.id in d?d[f.id]:a.allSelected)&&a._select(f,null,g);a._fireSelectionEvents()});return b}})})},
"anaplan/api/SystemActions/RevertToLastRevision":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.workspaceId)||p.isEmptyString(this._params.workspaceId)?f.errors.workspaceIdRequired:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdRequired:
!p.isString(this._params.currentMetadataId)||p.isEmptyString(this._params.currentMetadataId)?f.errors.currentMetadataIdRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.REVERT_TO_LAST_REVISION,params:{modelId:this._params.modelId,workspaceId:this._params.workspaceId,currentMetadataId:this._params.currentMetadataId}}}})})},"anaplan/api/Entities/Base/LabelPage":function(){define("dojo/_base/declare anaplan/utils/JsHelper dojo/_base/lang dojo/_base/array dojo/i18n!anaplan/nls/api anaplan/api/Entity/Base/Entity".split(" "),
function(l,s,p,q,f,k){return l(null,{_entityClass:k,_labelPage:null,_itemCache:{},_indexCache:{},constructor:function(f){s.isObject(f)&&s.isObject(f.labelPage)?this.setLabelPage(f.labelPage):s.isObject(f)&&this.setLabelPage(f)},setLabelPage:function(k){if(s.isObject(k))this.resetCache(),this._labelPage=k;else throw Error(f.errors.invalidLabelPage);},resetCache:function(){this._itemCache={};this._indexCache={}},containsEntityLongId:function(f){s.isString(f)&&(f=s.tryParseInt(f));return this._contains("entityLongIds",
f)},containsEntityId:function(f,k){if(!this._labelPage||!s.isString(f)||0===f.length)return!1;if(!0===k)return this._contains("entityIds",f);var h=f.toLowerCase(),e=-1;this._labelPage.entityIds[0].some(function(f,d){if(h===f.toLowerCase())return e=d,!0});return-1<e},containsLabel:function(f){return this._contains("labels",f)},_contains:function(f,k){if(f&&this._labelPage&&this._labelPage.hasOwnProperty(f))return-1<this._getIndex(f,k);console.warn("Unable to find array at key "+f+" when finding value "+
k);return!1},_getIndex:function(f,k){if(void 0===f||null===f||void 0===k)return console.warn("Potentially unintended _getIndex call for key "+f+" when finding value "+k),-1;var h=f+k;if(this._indexCache[h])return this._indexCache[h];if(this._labelPage&&this._labelPage.hasOwnProperty(f)){var e=this._labelPage[f][0].indexOf(k);return this._indexCache[h]=e}console.warn("Unable to find array at key "+f+" when finding value "+k);return-1},getItemById:function(f){f=this.getIndexById(f);return-1<f?this.getItemByIndex(f):
{exists:!1}},getIndexById:function(f){return this._getIndex("entityLongIds",f)},getItemByEntityId:function(f){f=this.getIndexByEntityId(f);return-1<f?this.getItemByIndex(f):{exists:!1}},getIndexByEntityId:function(f){return this._getIndex("entityIds",f)},getItemByIndex:function(f){return-1<f&&f<this.count()?(this._itemCache[f]||(this._itemCache[f]=this._populateObject(f,this._labelPage)),this._itemCache[f]):{exists:!1}},getById:function(f){return new this._entityClass(this.getItemById(f))},getNames:function(){return this.getValuesByPropertyName("entityId")},
getEntityLongIds:function(){return this.getValuesByPropertyName("entityLongId")},getValuesByPropertyName:function(k){if(!1===this.getItemByIndex(0).hasOwnProperty(k))throw Error(f.errors.invalidPropertyName);var l=[];this.forEach(function(f){l.push(f[k])});return l},findItemsByPropertyValue:function(k,l){if(0===this.count())return[];if(!1===this.getItemByIndex(0).hasOwnProperty(k))throw Error(f.errors.invalidPropertyName);var h=[];this.forEach(function(e){e[k]===l&&h.push(e)});return h},query:function(k){if(0===
this.count())return[];if(!s.isObject(k))throw Error(f.errors.invalidPropertyName);if(s.isEmptyObject(k))return this.getItems();var l=this.getItemByIndex(0),h;for(h in k)if(!1===l.hasOwnProperty(h))throw Error(f.errors.invalidPropertyName);var e=[];this.forEach(function(f){var d=!0,a;for(a in k)f[a]!==k[a]&&(d=!1);!0===d&&e.push(f)});return e},getItemsById:function(){return this.getItemsByProperty("entityLongId")},getItemsByProperty:function(k){if(0===this.count())return{};if(!s.isString(k))throw Error(f.errors.invalidPropertyName);
var l=this.getItemByIndex(0);if(!l.exists)return{};if(!1===l.hasOwnProperty(k))throw Error(f.errors.invalidPropertyName);var h={};this.forEach(function(e){h[e[k]]=e});return h},getItemsByPropertyNames:function(k){if(!1===s.isArray(k))throw Error(f.errors.expectedArrayArgs);var l=this.getItemByIndex(0);if(!l.exists)return[];k.forEach(function(e){if(!1===l.hasOwnProperty(e))throw Error(f.errors.invalidPropertyName);});var h=[];this.forEach(function(e){var f={};k.forEach(function(d){f[d]=e[d]});h.push(f)});
return h},getKeyValuePairs:function(k,l){if(0===this.count())return{};var h=this.getItemByIndex(0);if(!1===h.hasOwnProperty(k)||!1===h.hasOwnProperty(l))throw Error(f.errors.invalidPropertyName);var e={};this.forEach(function(g){e[g[k]]&&console.warn(f.errors.duplicatePairWarning);e[g[k]]=g[l]});return e},getNamesById:function(){return this.getKeyValuePairs("entityLongId","entityId")},_populateObject:function(f,k){var h={exists:!0},e;for(e in k)s.has(k,e)&&s.isArray(k[e])&&(k[e][0].length>=f?h[e.replace(/(^,)|(s$)/g,
"")]=k[e][0][f]:console.warn("Potential issue when building generic object of props for Entity at index %s for prop %s",f,e,k[e]));return h},forEach:function(k){if(!s.isFunction(k))throw Error(f.errors.invalidForEachCallback);if(0<this.count())for(var l=0;l<this._labelPage.entityLongIds[0].length;l++)k(this.getItemById(this._labelPage.entityLongIds[0][l],l))},getItems:function(){var f=[];if(0<this.count())for(var k=0;k<this._labelPage.entityLongIds[0].length;k++)f.push(this.getItemById(this._labelPage.entityLongIds[0][k]));
return f},clear:function(){this.resetCache();this._labelPage=null},count:function(){return s.isObject(this._labelPage)?this._labelPage.count:0}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(l,s,p,q,f){return s("dijit.tree.ForestStoreModel",f,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(f){this.root={store:this,root:!0,id:f.rootId,label:f.rootLabel,children:f.rootChildren}},
mayHaveChildren:function(f){return f===this.root||this.inherited(arguments)},getChildren:function(f,l,m){f===this.root?this.root.children?l(this.root.children):this.store.fetch({query:this.query,onComplete:q.hitch(this,function(f){this.root.children=f;l(f)}),onError:m}):this.inherited(arguments)},isItem:function(f){return f===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(f){if(f.identity==this.root.id){var l=f.scope||p.global;f.onItem&&f.onItem.call(l,this.root)}else this.inherited(arguments)},
getIdentity:function(f){return f===this.root?this.root.id:this.inherited(arguments)},getLabel:function(f){return f===this.root?this.root.label:this.inherited(arguments)},newItem:function(f,l,m){return l===this.root?(this.onNewRootItem(f),this.store.newItem(f)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(f,l,m,h,e){if(l===this.root&&!h)this.onLeaveRoot(f);this.inherited(arguments,[f,l===this.root?null:l,m===this.root?null:m,h,e]);if(m===this.root)this.onAddToRoot(f)},onAddToRoot:function(f){},
onLeaveRoot:function(f){},_requeryTop:function(){var f=this.root.children||[];this.store.fetch({query:this.query,onComplete:q.hitch(this,function(n){this.root.children=n;if(f.length!=n.length||l.some(f,function(f,h){return n[h]!=f}))this.onChildrenChange(this.root,n)})})},onNewItem:function(f,l){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(f){-1!=l.indexOf(this.root.children,f)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(f,l,m,h){this._requeryTop();this.inherited(arguments)}})})},
"anaplan/gridlet/cellmenu/DynamicCellMenuDelegate":function(){define("anaplan/data/Aggregator dojo/_base/declare anaplan/gridlet/cellmenu/CellMenuDelegate anaplan/utils/LinkFormatter dojo/_base/lang dojo/_base/array anaplan/Exceptions anaplan/utils/UIHelper anaplan/widgets/MenuItem anaplan/data/RequestFactory dojo/i18n!anaplan/nls/gridlet".split(" "),function(l,s,p,q,f,k,n,m,h,e,g){return s([p],{getMenuItems:function(d,a){var e=[];try{if(!a)return e;var b=this._createLoadingMenuItem();e.push(b);this._createEntityLinkUriMenuItems(a,
f.hitch(this,function(a){var d=b.getParent();d&&(d.get("selected")===b&&d.set("selected",null),d.removeChild(b),b.destroyRecursive(!1),a.length?k.forEach(a,function(a){d.addChild(a)}):this._addNoActionsMenuItem(d))}))}catch(g){throw new n.ClientException(this.declaredClass+".getMenuItems",g);}return e},populateCellMenu:function(d,a,e){try{e?(this._addLoadingMenuItem(d),this._createEntityLinkUriMenuItems(e,f.hitch(this,function(a){this._removeLoadingMenuItem(d);a.length?k.forEach(a,function(a){d.addChild(a)}):
this._addNoActionsMenuItem(d)}))):this._addNoActionsMenuItem(d)}catch(b){m.throwClientException(this,b)}},_addLoadingMenuItem:function(d){if(null==this._loadingMenuItem){var a=this._createLoadingMenuItem();d.addChild(a);this._loadingMenuItem=a}},_addNoActionsMenuItem:function(d){var a=new h({label:d.getChildren().length?g.messageNoAdditionalActions:g.messageNoActions,"class":"cellMenuLoading"});d.addChild(a);return a},_createEntityLinkUriMenuItem:function(d,a){return new h({label:d,iconClass:"anaplanEditorIcon anaplanEditorIconWebLink",
onClick:function(){window.open(a)}})},_createEntityLinkUriMenuItems:function(d,a){try{var f=[],b=Date.now?Date.now():(new Date).getTime();this._populateCellMenuTimestamp=b;var g=d.currentCell,h=null;g.isRowLabelSelected()?h=g.getRowEntityLongIds():g.isColumnLabelSelected()&&(h=g.getColumnEntityLongIds());var m=null;k.forEach(h,function(a){null!=a&&(m=a)});if(m){var p=e.createRequest(workspaceId,[],[],[{actionId:"GET_ENTITY_LINK_URIS",params:{modelId:modelId,entityLongIds:m}}]),s=this;l.post(p,!1,
function(d){var e,g,h,k,l;if(b===s._populateCellMenuTimestamp){if(d.result.systemActionResults&&d.result.systemActionResults.length){if(e=d.result.systemActionResults[0],d=new q,g=e.links){k=0;for(h=g.length;k<h;k++)e=g[k],l=d.parseCellValueAsLink(e.value,!0),l.href&&f.push(s._createEntityLinkUriMenuItem(l.label||e.label,l.href))}}else console.warn("TODO: View:populateCellMenu; bad or unexpected system action response");a(f)}},function(b){console.warn("TODO: View:populateCellMenu; bad or unexpected system action response");
a(f)})}}catch(w){throw new n.ClientException(this.declaredClass+"._createEntityLinkUriMenuItems",w);}},_createLoadingMenuItem:function(){return new h({label:g.messageLoadingMenu,iconClass:"cellMenuLoadingIcon","class":"cellMenuLoading"})},_removeLoadingMenuItem:function(d){null!=this._loadingMenuItem&&(d.get("selected")===this._loadingMenuItem&&d.set("selected",null),d.removeChild(this._loadingMenuItem),this._loadingMenuItem.destroy(),this._loadingMenuItem=null)}})})},"anaplan/widgets/FilteringSelect":function(){define(["dojo/_base/declare",
"dijit/form/FilteringSelect","anaplan/widgets/_DomVisibleMixin","anaplan/widgets/_ListsMixin"],function(l,s,p,q){return l([s,p,q],{})})},"anaplan/validators/HierarchyValidator":function(){define(["anaplan/constants","anaplan/utils/EntityLongIdHelper","dojo/_base/declare","dojo/i18n!anaplan/nls/hierarchyValidator"],function(l,s,p,q){return p(null,{name:"HierarchyValidator",constructor:function(){this._resetConfirmationFlags()},confirmRemoveHierarchyMemberFromSubset:function(f){var k={};f=f.getCellUpdates();
if(!f.isEmpty()){f=f.getItemsArray();for(var n=f.length,m,h,e,g,d=0;d<n;d++){m=f[d];h=m.entityLongIds;e=h.length;for(g=0;g<e;g++)if(this._confirmRemoveHierarchyMemberFromSubset&&s.getEntityTypeIndex(h[g])===l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX&&"true"===m.originalText&&"true"!==m.cellText)return k[q.messageConfirmRemoveHierarchyMemberFromSubset]="messageConfirmRemoveHierarchyMemberFromSubset",k}}return k},setDisabledConfirmationKeys:function(f){this._resetConfirmationFlags();if(f)for(var k=f.length,
l=0;l<k;l++)-1!==f[l].indexOf(this.name+".messageConfirmRemoveHierarchyMemberFromSubset")&&(this._confirmRemoveHierarchyMemberFromSubset=!1)},_resetConfirmationFlags:function(){this._confirmRemoveHierarchyMemberFromSubset=!0}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(l,s,p,q,f,k){function n(e,f){var d=e.getAttributeNode&&e.getAttributeNode(f);return d&&d.specified}var m={innerHTML:1,textContent:1,className:1,htmlFor:s("ie"),
value:1},h={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(e,f){var d=f.toLowerCase();return m[k.names[d]||f]||n(q.byId(e),h[d]||f)};l.get=function(e,f){e=q.byId(e);var d=f.toLowerCase(),a=k.names[d]||f,l=e[a];if(m[a]&&"undefined"!=typeof l)return l;if("textContent"==a)return k.get(e,a);if("href"!=a&&("boolean"==typeof l||p.isFunction(l)))return l;d=h[d]||f;return n(e,d)?e.getAttribute(d):null};l.set=function(e,g,d){e=q.byId(e);if(2==arguments.length){for(var a in g)l.set(e,
a,g[a]);return e}a=g.toLowerCase();var n=k.names[a]||g,b=m[n];if("style"==n&&"string"!=typeof d)return f.set(e,d),e;if(b||"boolean"==typeof d||p.isFunction(d))return k.set(e,g,d);e.setAttribute(h[a]||g,d);return e};l.remove=function(e,f){q.byId(e).removeAttribute(h[f.toLowerCase()]||f)};l.getNodeProp=function(e,f){e=q.byId(e);var d=f.toLowerCase(),a=k.names[d]||f;if(a in e&&"href"!=a)return e[a];d=h[d]||f;return n(e,d)?e.getAttribute(d):null}})},"anaplan/cf/_FormatDefinitionBase":function(){define(["dojo/_base/declare",
"anaplan/common/_DefinitionBase"],function(l,s){return l(s,{_serializableProperties:["formatType"],constructor:function(){this.formatType=null}})})},"anaplan/api/SystemActions/CreateModelFromRevision":function(){define("dojo/_base/declare ./Base/SystemAction anaplan/utils/JsHelper anaplan/constants anaplan/api/Entities/Base/LabelPage dojo/i18n!anaplan/nls/api".split(" "),function(l,s,p,q,f,k){return l([s],{buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.CREATE_MODEL_FROM_REVISION,params:{targetWorkspaceId:this._params.targetWorkspaceId,
targetModelName:this._params.targetModelName,sourceWorkspaceId:window.workspaceId,sourceModelId:window.modelId,sourceRevisionId:this._params.sourceRevisionId,tokenScheme:this._params.tokenScheme,tokenValue:this._params.tokenValue}}}})})},"anaplan/dashboard/dashboardWidgets/_CombinationChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/ReactChartBridge","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._CombinationChart",[s,l],
{})})},"anaplan/widgets/PleaseWait":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin anaplan/utils/UIHelper anaplan/widgets/Dialog2 dojo/i18n!anaplan/nls/pleaseWait dojo/text!anaplan/templates/PleaseWait.html dojo/_base/declare dijit/ProgressBar".split(" "),function(l,s,p,q,f,k,n,m){return m([l,s,p,f.ContentMixin],{baseClass:"pleaseWait",templateString:n,widgetsInTemplate:!0,onHelpChange:function(){},_onShow:function(){this.onHelpChange(null)},postCreate:function(){this.inherited(arguments);
q.setText(this.message,k.defaultMessage)},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},uninitialize:function(){this.inherited(arguments)}})})},"jxl/core/Patterns":function(){define(["./Util","./Transduce"],function(l,s){function p(l,h,e){var g=[];l&&g.push(q);h&&g.push(f);e&&g.push(k);return s.composeFromList(g)(function(){})}function q(f){return function(h,e,g,d){h.key.consume(""+e);return f(h,e,g,d)}}function f(f){return function(h,e,g,d){h.value.consume(""+
g);return f(h,e,g,d)}}function k(f){return function(h,e,g,d){h.keyValue.consume(""+e+g);return f(h,e,g,d)}}var n={tx:{},finalizer:{}};n.tx.nop=function(){return function(f){return function(h,e,g){return f(h,e,g)}}};n.tx.map=function(f){return function(h){return function(e,g,d){return h(e,f(e,g,d),d)}}};n.tx.filter=function(f){return function(h){return function(e,g,d){if(f(e,g,d))return h(e,g,d)}}};n.tx.take=function(f){return function(h){var e=f;return function(f,d,a){return 0<e?(--e,h(f,d,a)):h(f,
d,a)||!0}}};n.tx.prune=function(){return n.tx.filter(function(f,h,e){return!l.isEmpty(h)})};n.tx.filterValue=function(f){return n.tx.filter(function(h,e,g){return e!==f})};n.tx.filterKey=function(f){return n.tx.filter(function(h,e,g){return h!==f})};n.tx.filterPathRegex=function(f){return n.tx.filter(function(h,e,g){return!f.test(g)})};n.tx.allowPathRegex=function(f){return n.tx.filter(function(h,e,g){return f.test(g)})};n.tx.allowKeyRegex=function(f){return n.tx.filter(function(h,e,g){return f.test(""+
h)})};n.finalizer.copy=function(){return function(){var f=function(f){var e={},g;l.isArray(f)?(g=[],e.rx=function(d,a,e){g.push(a)}):(g={},e.rx=function(d,a,e){g[d]=a});e.start=function(){};e.unwrap=function(){return g};return e};f.keySorter=function(){};return f}};n.finalizer.copyValues=function(){return function(){var f=[],h=function(e){return{rx:function(e,d,a){"object"!==typeof d&&f.push(d)},start:function(){},unwrap:function(){return f}}};h.keySorter=function(){};return h}};n.finalizer.flatMap=
function(){return function(){var f={},h=function(e){return{rx:function(e,d,a){"object"!==typeof d&&(f[a]=d)},start:function(){},unwrap:function(){return f}}};h.keySorter=function(){};return h}};n.finalizer.count=function(){return function(){var f={count:0},h=[f],e=!1,g=function(d){return{rx:function(a,d,b){"object"!==typeof d&&++f.count},start:function(){e&&h.push(null);e=!0},unwrap:function(){var a=h.pop();a&&(a=a.count);return a}}};g.keySorter=function(){};return g}};n.finalizer.concat=function(f){"string"!==
typeof f&&(f="");return function(){var h={str:""},e=[h],g=!1,d=!0,a=function(a){return{rx:function(a,e,g){"object"!==typeof e&&(d?(h.str+=e,d=!1):h.str+=f+e)},start:function(){g&&e.push(null);g=!0},unwrap:function(){var a=e.pop();a&&(a=a.str);return a}}};a.keySorter=function(){};return a}};n.finalizer.hash=function(f,h){h||(h=3);var e=!!(h&1),g=!!(h&2),d=!!(h&4),a=p(e,g,d);return function(){var h={key:f(),value:f(),keyValue:f()},b=[h],k=!1,l=function(f){return{rx:function(b,d,e){"object"!==typeof d&&
a(h,b,d,e)},start:function(){k&&b.push(null);k=!0},unwrap:function(){var a=b.pop();if(a){var f=a,a="";e&&(a+=f.key.toString());g&&(a+=f.value.toString());d&&(a+=f.keyValue.toString())}return a}}};l.keySorter=function(){return!0};return l}};return n})},"anaplan/widgets/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-geometry dojo/mouse dojo/on dijit/registry dijit/Tooltip".split(" "),function(l,s,p,q,f,k,n,m,h,e){var g=s(e._MasterTooltip,
{show:function(){this.inherited(arguments);f.add(this.domNode,"anaplanTooltip")}}),d=s(e,{hideDelay:500,showDelay:800,close:function(){this._hideTimer&&(this._hideTimer.remove(),this._hideTimer=null);this.set("state","DORMANT");this._showTimer&&(this._showTimer.remove(),this._showTimer=null)},open:function(a,e,b){var f,g;try{if(a){if((f=h.getEnclosingWidget(a))&&f.get("disabled"))return;g=k.position(a);if(!g||!g.hasOwnProperty("x")||!g.hasOwnProperty("y")){console.warn("Tooltip: unable to obtain coords for target");
console.warn(a);return}if(0>g.x||0>g.y){console.warn("Tooltip: target is off screen");console.warn(g);return}}else{console.warn("Tooltip: no target for which to obtain coords");return}}catch(l){console.error("Tooltip: error testing coords");console.error(l);return}this._showTimer&&(this._showTimer.remove(),this._showTimer=null);this._hideTimer&&(this._hideTimer.remove(),this._hideTimer=null);if(f=this.getContent(a))d.show(f,a,this.position,!this.isLeftToRight(),this.textDir,e,b),this._connectNode=
a,this.onShow(a,this.position),this.__connections.length||(this.__connections.push(m(a,"click",p.hitch(this,"close"))),this.__connections.push(m(d._masterTT.domNode,n.leave,p.hitch(this,"close"))),this.__connections.push(m(d._masterTT.domNode,n.enter,p.hitch(this,function(){this._hideTimer&&(this._hideTimer.remove(),this._hideTimer=null)}))))},postCreate:function(){this.__connections=[];this.inherited(arguments)},uninitialize:function(){l.forEach(this.__connections,function(a){a.remove()});this._connections=
null;this.inherited(arguments)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),this._showTimer=null);this._hideTimer&&this._hideTimer.remove();this._hideTimer=this.defer(p.hitch(this,"close"),this.hideDelay)},_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&
(d.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":if(!this.getContent(this._connectNode)){this.set("state","DORMANT");return}this.open(this._connectNode,p.hitch(this,"set","state","SHOWING"),p.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state",
"DORMANT")},this.hideDelay)}this._set("state",a)}},_setConnectIdAttr:function(a){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(p.isArrayLike(a)?a:a?[a]:[],function(a){return q.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(a){a=q.byId(a,this.ownerDocument);var b=this.selector,d=b?function(a){return m.selector(b,a)}:function(a){return a},e=this;return[m(a,d(n.enter),function(){e._onHover(this)}),
m(a,d("focusin"),function(){e._onHover(this)}),m(a,d(n.leave),p.hitch(e,"_onUnHover")),m(a,d("focusout"),p.hitch(e,"_onUnHover"))]},this);this._set("connectId",a)}});d.show=function(a,e,b,f,h){b&&(b=l.map(b,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));d._masterTT||(d._masterTT=new g);return d._masterTT.show(a,e,b,f,h)};d.hide=function(a){return d._masterTT&&d._masterTT.hide(a)};p.setObject("anaplan.hideTooltip",d.hide);p.setObject("anaplan.showTooltip",d.show);return d})},
"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(l,s,p,q,f,k,n){f.add("highcontrast",function(){var k=n.doc.createElement("div");k.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(s.blankGif||l.toUrl("./resources/blank.gif"))+'");';n.body().appendChild(k);var h=q.getComputedStyle(k),e=h.backgroundImage,h=h.borderTopColor==h.borderRightColor||
e&&("none"==e||"url(invalid-url:)"==e);8>=f("ie")?k.outerHTML="":n.body().removeChild(k);return h});k(function(){f("highcontrast")&&p.add(n.body(),"dj_a11y")});return f})},"dojo/date":function(){define(["./has","./_base/lang"],function(l,s){var p={getDaysInMonth:function(l){var f=l.getMonth();return 1==f&&p.isLeapYear(l)?29:[31,28,31,30,31,30,31,31,30,31,30,31][f]},isLeapYear:function(l){l=l.getFullYear();return!(l%400)||!(l%4)&&!!(l%100)},getTimezoneName:function(l){var f=l.toString(),k="",n=f.indexOf("(");
if(-1<n)k=f.substring(++n,f.indexOf(")"));else if(n=/([A-Z\/]+) \d{4}$/,f=f.match(n))k=f[1];else if(f=l.toLocaleString(),n=/ ([A-Z\/]+)$/,f=f.match(n))k=f[1];return"AM"==k||"PM"==k?"":k},compare:function(l,f,k){l=new Date(+l);f=new Date(+(f||new Date));"date"==k?(l.setHours(0,0,0,0),f.setHours(0,0,0,0)):"time"==k&&(l.setFullYear(0,0,0),f.setFullYear(0,0,0));return l>f?1:l<f?-1:0},add:function(l,f,k){var n=new Date(+l),m=!1,h="Date";switch(f){case "day":break;case "weekday":var e;(f=k%5)?e=parseInt(k/
5):(f=0<k?5:-5,e=0<k?(k-5)/5:(k+5)/5);var g=l.getDay(),d=0;6==g&&0<k?d=1:0==g&&0>k&&(d=-1);g+=f;if(0==g||6==g)d=0<k?2:-2;k=7*e+f+d;break;case "year":h="FullYear";m=!0;break;case "week":k*=7;break;case "quarter":k*=3;case "month":m=!0;h="Month";break;default:h="UTC"+f.charAt(0).toUpperCase()+f.substring(1)+"s"}if(h)n["set"+h](n["get"+h]()+k);m&&n.getDate()<l.getDate()&&n.setDate(0);return n},difference:function(l,f,k){f=f||new Date;k=k||"day";var n=f.getFullYear()-l.getFullYear(),m=1;switch(k){case "quarter":l=
l.getMonth();f=f.getMonth();l=Math.floor(l/3)+1;f=Math.floor(f/3)+1;m=f+4*n-l;break;case "weekday":n=Math.round(p.difference(l,f,"day"));k=parseInt(p.difference(l,f,"week"));m=n%7;if(0==m)n=5*k;else{var h=0,e=l.getDay();f=f.getDay();k=parseInt(n/7);m=n%7;l=new Date(l);l.setDate(l.getDate()+7*k);l=l.getDay();if(0<n)switch(!0){case 6==e:h=-1;break;case 0==e:h=0;break;case 6==f:h=-1;break;case 0==f:h=-2;break;case 5<l+m:h=-2}else if(0>n)switch(!0){case 6==e:h=0;break;case 0==e:h=1;break;case 6==f:h=
2;break;case 0==f:h=1;break;case 0>l+m:h=2}n=n+h-2*k}m=n;break;case "year":m=n;break;case "month":m=f.getMonth()-l.getMonth()+12*n;break;case "week":m=parseInt(p.difference(l,f,"day")/7);break;case "day":m/=24;case "hour":m/=60;case "minute":m/=60;case "second":m/=1E3;case "millisecond":m*=f.getTime()-l.getTime()}return Math.round(m)}};s.mixin(s.getObject("dojo.date",!0),p);return p})},"anaplan/utils/AxisHelper":function(){define(["anaplan/utils/EntityLongIdHelper","dojo/_base/lang","anaplan/constants",
"dojo/i18n!anaplan/nls/common"],function(l,s,p,q){var f={entityLongIdToEntityLongIdIdentifier:function(f){return l.entityLongIdToEntityLongIdIdentifier(f)},entityLongIdIdentifierToEntityLongId:function(f){return l.entityLongIdIdentifierToEntityLongId(f)},isCustomHierarchySubsetSystemAxisIdentifier:function(f){return f&&(f=this.entityLongIdIdentifierToEntityLongId(f),!isNaN(f)&&l.getEntityTypeIndex(f)==p.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX)?!0:!1},isEmptySystemAxisIdentifier:function(f){return f&&(f==
p.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER||f==p.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_1_IDENTIFIER||f==p.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER||f==this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_ENTITY_LONG_ID)||f==this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_1_ENTITY_LONG_ID)||f==this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_ENTITY_LONG_ID))?!0:!1},isEntitySystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_ENTITY_ENTITY_LONG_ID);
if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER)return!0}return!1},isPropertySystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER)return!0}return!1},isCustomPropertySystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_CUSTOM_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_CUSTOM_PROPERTY_IDENTIFIER)return!0}return!1},
isGeneralListSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_IDENTIFIER)return!0}return!1},isLineItemSubsetSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_IDENTIFIER)return!0}return!1},isTimeRangeSystemAxisIdentifier:function(f){if(f){var l=
this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_IDENTIFIER)return!0}return!1},isSubsetSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_SUBSET_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_SUBSET_IDENTIFIER)return!0}return!1},isModelRoleSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_ENTITY_LONG_ID);
if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_FULL_ACCESS_WITH_CUSTOM_MODEL_ROLE_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_FULL_ACCESS_WITH_CUSTOM_MODEL_ROLE_IDENTIFIER)return!0}return!1},isPropertySystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_IDENTIFIER)return!0;
l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_PROPERTY)return!0}return!1},isUserSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_USER_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_USER_IDENTIFIER)return!0}return!1},
isVersionSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_VERSION_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_VERSION_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_VERSION_ALL_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_VERSION_ALL_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_VERSION_WITH_PERIOD_MAPPING_ENTITY_LONG_ID);if(f==l||f==
p.SYSTEM_AXIS_IDENTIFIER_VERSION_WITH_PERIOD_MAPPING_IDENTIFIER)return!0}return!1},isUserPropertySystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_USER_PROPERTY_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_USER_PROPERTY_IDENTIFIER)return!0}return!1},isTimeSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_TIME_IDENTIFIER)return!0;
l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_TIME_WITH_BROUGHT_FORWARD_PERIOD_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_TIME_WITH_BROUGHT_FORWARD_PERIOD_IDENTIFIER)return!0}return!1},isModuleSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_MODULE_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_MODULE_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_MODULE_ALL_ENTITY_LONG_ID);
if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_MODULE_ALL_IDENTIFIER)return!0}return!1},isImportSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_IMPORT_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_IMPORT_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_IMPORT_ALL_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_IMPORT_ALL_IDENTIFIER)return!0}return!1},isImportDataSourceSystemAxisIdentifier:function(f){if(f){var l=
this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_IDENTIFIER)return!0}return!1},isProcessSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_PROCESS_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_PROCESS_IDENTIFIER)return!0}return!1},isActionSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_ACTION_ENTITY_LONG_ID);
if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_ACTION_IDENTIFIER)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_IDENTIFIER)return!0}return!1},isDashboardSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_DASHBOARD_IDENTIFIER)return!0}return!1},isFunctionalAreaSystemAxisIdentifier:function(f){if(f){var l=
this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_IDENTIFIER)return!0}return!1},isLineItemsSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID);if(f==l)return!0;l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER||
f==p.SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_IDENTIFIER)return!0}return!1},isTagSystemAxisIdentifier:function(f){if(f){var l=this.entityLongIdToEntityLongIdIdentifier(p.SYSTEM_AXIS_IDENTIFIER_TAG_ENTITY_LONG_ID);if(f==l||f==p.SYSTEM_AXIS_IDENTIFIER_TAG_IDENTIFIER)return!0}return!1},getSystemAxisLabel:function(f,l){return this.isLineItemsSystemAxisIdentifier(f)?q.labelLineItems:this.isGeneralListSystemAxisIdentifier(f)?q.labelGeneralLists:this.isVersionSystemAxisIdentifier(f)?q.labelVersions:
this.isLineItemSubsetSystemAxisIdentifier(f)?q.labelLineItemSubsets:this.isTimeRangeSystemAxisIdentifier(f)?q.labelTimeRange:this.isCustomPropertySystemAxisIdentifier(f)?q.labelProperties:this.isSubsetSystemAxisIdentifier(f)?q.labelSubsets:this.isDashboardSystemAxisIdentifier(f)?q.labelDashboards:this.isActionSystemAxisIdentifier(f)?q.labelActions:this.isModelRoleSystemAxisIdentifier(f)?q.labelRoles:this.isFunctionalAreaSystemAxisIdentifier(f)?q.labelFunctionalAreas:this.isModuleSystemAxisIdentifier(f)?
q.labelModules:this.isImportSystemAxisIdentifier(f)?q.labelImports:this.isImportDataSourceSystemAxisIdentifier(f)?q.labelImportDataSources:this.isTagSystemAxisIdentifier(f)?q.labelTags:l},isCustomHierarchySystemAxisIdentifier:function(f){return f&&(f=this.entityLongIdIdentifierToEntityLongId(f),!isNaN(f)&&(f=l.getEntityTypeIndex(f),f==p.HIERARCHY_ENTITY_TYPE_INDEX||f==p.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX))?!0:!1}};s.setObject("anaplan.utils.AxisHelper",f);return f})},"anaplan/i18n/Locale":function(){define(["dojo/_base/declare",
"dojo/_base/kernel"],function(l,s){return l([],{constructor:function(){var l=s.locale;this.decimalSeparator=this._getDecimalSeparator(l);this.language=l},_generatedMap:{af:"%2C",ar:"\u066b",az:"%2C",be:"%2C",bg:"%2C",bs:"%2C",ca:"%2C",cs:"%2C",da:"%2C",de:"%2C",el:"%2C","en-be":"%2C","en-za":"%2C",eo:"%2C",es:"%2C",et:"%2C",eu:"%2C",fa:"\u066b",ff:"%2C",fi:"%2C",fo:"%2C",fr:"%2C",gl:"%2C",hr:"%2C",hu:"%2C",hy:"%2C",id:"%2C","in":"%2C",is:"%2C",it:"%2C",ka:"%2C",kab:"%2C",kea:"%2C",kk:"%2C",kl:"%2C",
km:"%2C",lt:"%2C",lv:"%2C",mk:"%2C","ms-bn":"%2C",nb:"%2C",nl:"%2C",nn:"%2C",no:"%2C",nr:"%2C",nso:"%2C",pl:"%2C",ps:"\u066b",pt:"%2C",ro:"%2C",ru:"%2C",rw:"%2C",seh:"%2C",sg:"%2C",shi:"%2C",sk:"%2C",sl:"%2C",sq:"%2C",ss:"%2C",st:"%2C",sv:"%2C",tn:"%2C",tr:"%2C",ts:"%2C",tzm:"%2C",uk:"%2C","uz-arab":"\u066b",ve:"%2C",vi:"%2C",xh:"%2C",zu:"%2C"},_getDecimalSeparator:function(l){return!l?".":this._generatedMap[l]?decodeURIComponent(this._generatedMap[l]):this._generatedMap[l.split("-")[0]]?decodeURIComponent(this._generatedMap[l.split("-")[0]]):
"."}})})},"anaplan/utils/SubmissionHandler":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/UIHelper anaplan/utils/RedirectHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/json dojo/i18n!anaplan/nls/submissionHandler".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return h(null,{delay:100,retryInterval:2E3,showPleaseWait:!0,constructor:function(a){a&&
(a.hasOwnProperty("delay")&&(this.delay=a.delay),a.hasOwnProperty("retryInterval")&&(this.retryInterval=a.retryInterval),a.hasOwnProperty("aggregatorObserver")&&(this._aggregatorObserver=a.aggregatorObserver),a.hasOwnProperty("showPleaseWait")&&(this.showPleaseWait=a.showPleaseWait))},gather:function(a,e,h,l){var n=new d,p=this;this._timeout&&clearTimeout(this._timeout);this._timeout=setTimeout(function(){var d,x,A;try{if(s.isDirty())throw new f.IllegalStateException(r.errorAggregatorIsDirty);d=q.createRequest(workspaceId,
a||[],e||[],h||[],null,l);p._aggregatorObserver&&p._aggregatorObserver.update?(p.showPleaseWait&&k.showPleaseWaitDialog(),x=[],x.push(g.after(p._aggregatorObserver,"update",function(a){k.hidePleaseWaitDialog();m.forEach(x,function(a){a.remove()});n.resolve(a)},!0),g.after(p._aggregatorObserver,"error",function(a){k.hidePleaseWaitDialog();m.forEach(x,function(a){a.remove()});n.reject(a)},!0)),p._aggregatorObserver.onDestroy&&(A=g.after(p._aggregatorObserver,"onDestroy",function(){k.hidePleaseWaitDialog();
A.remove();m.forEach(x,function(a){a.remove()});n.isFulfilled()||n.resolve()},!0)),s.gather(d)):(s.gather(d),n.resolve())}catch(D){k.hidePleaseWaitDialog(),D instanceof f.IllegalStateException&&k.showErrorReporter(D,!0),n.reject(D)}},this.delay);return n},post:function(a,e,g,h){var l=new d,m=this.retryInterval;this.showPleaseWait&&k.showPleaseWaitDialog();this._timeout&&clearTimeout(this._timeout);this._timeout=setTimeout(function(){var d,r,A,D,E,B;try{d=q.createRequest(workspaceId,a||[],e||[],g||
[],null,h),r=function(a){k.hidePleaseWaitDialog();if(a&&a.redirectUrl)n.handleRedirect(a);else{if(!a||a.error)return k.showErrorReporter(new f.ServerException(a.error),!1,!1,function(){l.reject(a)}),!0;D=a.result;if(D.errorInfo)return E=D.errorInfo,E.isKnownError?k.showErrorReporter(new f.BaseException(E.errorMessage),!0,!1,function(){l.reject(E.errorMessage)}):(B=new f.ServerException(E.errorMessage),B.setModelRestored(!0),k.showErrorReporter(B,!1,!1,function(){l.reject(E.errorMessage)})),!0;p.populateCache(D);
l.resolve(a)}},A=function(a){k.hidePleaseWaitDialog();l.reject(a)},s.isDirty()?(this._interval&&clearInterval(this._interval),this._interval=setInterval(function(){s.isDirty()||(clearInterval(this._interval),s.post(d,!1,r,A))}.bind(this),m)):s.post(d,!1,r,A)}catch(C){k.hidePleaseWaitDialog(),l.reject(C)}},this.delay);return l},cancel:function(){this._timeout&&clearTimeout(this._timeout);this._interval&&clearInterval(this._interval)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(l,s,p,q,f,k,n,m,h,e){return s("dijit._KeyNavContainer",[h,e,m],{connectKeyNavHandlers:function(e,d){var a=this._keyNavCodes={},h=k.hitch(this,"focusPrev"),b=k.hitch(this,"focusNext");l.forEach(e,function(b){a[b]=h});l.forEach(d,function(d){a[d]=b});a[f.HOME]=k.hitch(this,"focusFirstChild");a[f.END]=k.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){q.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),
k.hitch(this,"_startupChild"))},addChild:function(e,d){this.inherited(arguments);this._startupChild(e)},_startupChild:function(e){e.set("tabIndex","-1")},_getFirst:function(){var e=this.getChildren();return e.length?e[0]:null},_getLast:function(){var e=this.getChildren();return e.length?e[e.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(e){return(e=
n.byNode(e))&&e.getParent()==this}})})},"anaplan/utils/topics":function(){define(["dojo/topic","dojo/_base/lang","dojo/_base/window","anaplan/Exceptions"],function(l,s,p,q){var f={search:function(f){f&&l.publish("anaplan/search/"+f)},undoManagerAdd:function(f){l.publish("anaplan/undoManager/add",f)},undoManagerClear:function(f){l.publish("anaplan/undoManager/clear",f)},undoManagerUndo:function(){l.publish("anaplan/undoManager/undo")},closeModelSpecificContent:function(){l.publish("anaplan/tabContainer/closeModelSpecificContent")},
dirtyCheck:function(f){l.publish("anaplan/showDirtyTab",f)},hide:function(f){l.publish("anaplan/hide",f)},redirect:function(f){l.publish("anaplan/redirect",f)},refresh:function(f){l.publish("anaplan/refresh",f)},serverException:function(f,l){this.uiError(new q.ServerException(f,null,l))},uiError:function(f){l.publish("anaplan/uierror",f)},reloadPageDueToExpiredSession:function(){l.publish("anaplan/reloadPageDueToExpiredSession",new p.global.App.errors.SessionExpiredError)},redirectToTiles:function(){l.publish("anaplan/redirectToTiles")},
systemStatus:function(f,n,m){l.publish("anaplan/systemstatus",f,n,m)},systemMessage:function(f,n,m,h){l.publish("anaplan/systemmessage",f,n,m,h)},show:function(f,n){l.publish("anaplan/show",f,n)},views:function(f){l.publish("anaplan/views",f)}};s.setObject("anaplan.utils.topics",f);return f})},"dijit/form/MultiSelect":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/sniff dojo/query ./_FormValueWidget dojo/NodeList-dom".split(" "),function(l,s,p,q,f,k){k=s("dijit.form.MultiSelect"+
(q("dojo-bidi")?"_NoBidi":""),k,{size:7,baseClass:"dijitMultiSelect",templateString:"\x3cselect multiple\x3d'multiple' ${!nameAttrSetting} data-dojo-attach-point\x3d'containerNode,focusNode' data-dojo-attach-event\x3d'onchange: _onChange'\x3e\x3c/select\x3e",addSelected:function(f){f.getSelected().forEach(function(k){this.containerNode.appendChild(k);this.domNode.scrollTop=this.domNode.offsetHeight;k=f.domNode.scrollTop;f.domNode.scrollTop=0;f.domNode.scrollTop=k},this);this._set("value",this.get("value"))},
getSelected:function(){return f("option",this.containerNode).filter(function(f){return f.selected})},_getValueAttr:function(){return l.map(this.getSelected(),function(f){return f.value})},multiple:!0,_setMultipleAttr:function(f){},_setValueAttr:function(k){q("android")?f("option",this.containerNode).orphan().forEach(function(f){var h=f.ownerDocument.createElement("option");h.value=f.value;h.selected=-1!=l.indexOf(k,f.value);h.text=f.text;h.originalText=f.originalText;this.containerNode.appendChild(h)},
this):f("option",this.containerNode).forEach(function(f){f.selected=-1!=l.indexOf(k,f.value)});this.inherited(arguments)},invertSelection:function(k){var l=[];f("option",this.containerNode).forEach(function(f){f.selected||l.push(f.value)});this._setValueAttr(l,!(!1===k||null==k))},_onChange:function(){this._handleOnChange(this.get("value"),!0)},resize:function(f){f&&p.setMarginBox(this.domNode,f)},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments)}});q("dojo-bidi")&&
(k=s("dijit.form.MultiSelect",k,{addSelected:function(f){f.getSelected().forEach(function(f){f.text=this.enforceTextDirWithUcc(this.restoreOriginalText(f),f.text)},this);this.inherited(arguments)},_setTextDirAttr:function(k){if((this.textDir!=k||!this._created)&&this.enforceTextDirWithUcc)this._set("textDir",k),f("option",this.containerNode).forEach(function(f){!this._created&&f.value===f.text&&(f.value=f.text);f.text=this.enforceTextDirWithUcc(f,f.originalText||f.text)},this)}}));return k})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(l,s,p,q,f,k){function n(){for(var f=+new Date,d=0,a;d<e.length&&(a=e[d]);d++){var k=a.response,b=k.options;if(a.isCanceled&&a.isCanceled()||a.isValid&&!a.isValid(k))e.splice(d--,1),m._onAction&&m._onAction();else if(a.isReady&&a.isReady(k))e.splice(d--,1),a.handleResponse(k),m._onAction&&m._onAction();else if(a.startTime&&a.startTime+(b.timeout||0)<f)e.splice(d--,1),a.cancel(new s("Timeout exceeded",k)),m._onAction&&m._onAction()}m._onInFlight&&m._onInFlight(a);e.length||(clearInterval(h),
h=null)}function m(f){f.response.options.timeout&&(f.startTime=+new Date);f.isFulfilled()||(e.push(f),h||(h=setInterval(n,50)),f.response.options.sync&&n())}var h=null,e=[];m.cancelAll=function(){try{q.forEach(e,function(d){try{d.cancel(new p("All requests canceled."))}catch(a){}})}catch(f){}};f&&(k&&f.doc.attachEvent)&&k(f.global,"unload",function(){m.cancelAll()});return m})},"anaplan/charts/FunnelChartOptions":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/UIHelper anaplan/widgets/TokenInput dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/data/ItemFileWriteStore dojo/dom-geometry dojo/i18n!anaplan/nls/chartOptions dojo/keys dojo/store/Memory dojo/topic dojo/text!anaplan/templates/FunnelChartOptions.html dijit/form/TextBox dijit/form/FilteringSelect dijit/form/DateTextBox dijit/form/RadioButton dijit/form/HorizontalSlider".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){return h([n,k,m],{baseClass:"dataOptions",_options:null,region:"center",title:"Options",templateString:v,focus:function(){this.barLabel.focus()},postCreate:function(){this.inherited(arguments);var a=l.chartOptions.funnel,b=this._options.funnel||{};"undefined"===typeof b.axisOption&&(b.axisOption=a.AXIS);g.forEach(["headingFunnelAxes","labelFunnelAxisOption","labelLabeling","labelBarValue","labelTooltip"],e.hitch(this,function(a){q.setText(this[a],r[a])}));
this.funnelAxisCheckbox.set("value",b.axisOption,!1);for(var h=s.getModuleInfo(this.moduleEntityLongId),k=s.getLineItemsLabelPage(this.moduleEntityLongId),m=k.entityLongIds[0],n=k.labels[0],u=[],v=0;v<k.count;v++){var C=m[v],G=p.getLineItemInfoFromModuleInfo(h,C).format;u.push({id:C,name:n[v],dataType:G.dataType})}h=[a.BAR_LABEL];for(k=0;k<h.length;k++)m=h[k],n=new t({data:this[m].get("required")?u:[{id:-1,name:r.optionNone,dataType:null}].concat(u)}),v=this[m],v.set("store",n),v.set("value",b[m]||
-1,!1);a=b.hasOwnProperty(a.TOOLTIP)?b[a.TOOLTIP]:[];u=new f({onChange:e.hitch(this,"_onChangeHandler"),pageSize:50,searchAttr:"name",store:new d({data:{identifier:"id",label:"name",items:u}}),value:a},this.tooltipDomNode);u.startup();this.toolTip=u},onChange:function(){},resize:function(b){b&&a.setMarginBox(this.domNode,b)},uninitialize:function(){this.toolTip&&(this.toolTip.destroyRecursive(),this.toolTip=null);this.inherited(arguments)},_onColumnRangeOptionKeyDown:function(a){a.keyCode===b.ENTER&&
this._onChangeHandler(a)},_onChangeHandler:function(){var a=e.clone(this._options.funnel||{}),b=l.chartOptions.funnel;a[b.TOOLTIP]=this[b.TOOLTIP].get("value")||[];a[b.BAR_LABEL]=this[b.BAR_LABEL].get("value")||-1;a.axisOption=Boolean(this.funnelAxisCheckbox.getValue());this._options.funnel=a;this.onChange(this._options)}})})},"anaplan/view/_ComparisonViewCellDecorator":function(){define(["dojo/_base/declare","anaplan/constants"],function(l,s){return l("anaplan.view._ComparisonViewCellDecorator",
[],{constructor:function(l){this.setViewDefinition(l)},decorate:function(l){if(!this._comparisonMode||!this._useComparisonColourCoding||!l)return l;for(var q=0;q<l.count;q++){if(!l.formats[q]){console.warn(q+" is off edge of cache; no more cells will be styled");break}if("YES"==l.comparisonStates[q]){var f;if("NUMBER"==l.formats[q].dataType){f=Number(l.comparisonValues[q]);var k=Number(l.cellValues[q]),n=f!=k,m=l.formats[q].comparisonIncrease,h=-1,e=-1;switch(this._comparisonMode){case s.viewComparisonMode.PERCENTAGE_DIFFERENCE:e=
(k-f)/f;h=0;break;case s.viewComparisonMode.PERCENTAGE:e=k/f;h=1;break;case s.viewComparisonMode.DIFFERENCE:e=k-f;h=0;break;case s.viewComparisonMode.VALUE:e=k,h=f}f=this.determineCellStyle(n,m,e,h)}else f=l.comparisonValues[q]!=l.cellValues[q]?"different":"nochange";l.styles[q]=[l.styles[q],f].join(" ");l.comparisonResult[q]=f}else"NONE"!=l.formats[q].dataType&&(l.styles[q]=[l.styles[q],"base"].join(" "),l.comparisonResult[q]="base")}return l},determineCellStyle:function(l,q,f,k){if(!l)return"nochange";
var n;switch(q){case "GOOD":n=f>k?"good":f<k?"bad":"nochange";break;case "BAD":n=f<k?"good":f>k?"bad":"nochange";break;case "NEUTRAL":n=f!=k?"different":"nochange"}return n},destroy:function(){},setViewDefinition:function(l){l&&(this._comparisonMode=l.comparisonMode,this._useComparisonColourCoding=l.useComparisonColourCoding)}})})},"anaplan/api/SystemActions/GetApplicationProperties":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],
function(l,s,p,q,f){return l([s],{buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.GET_APPLICATION_PROPERTIES}},parseResponse:function(f){return p.parseObjectProperties(f)}})})},"anaplan/data/AggregatorObserver":function(){define("anaplan/utils/FormatHelper anaplan/data/Aggregator dojo/_base/declare dojo/_base/lang anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/utils/EntityLongIdHelper".split(" "),function(l,s,p,
q,f,k,n,m,h){return p(null,{_handleError:!1,_hierarchyEntityLongId:-1,constructor:function(e){e.hasOwnProperty("handleError")&&(this._handleError=e.handleError);e.hasOwnProperty("hierarchyEntityLongId")&&(this._hierarchyEntityLongId=e.hierarchyEntityLongId);s.addObserver(this)},destroy:function(){s.deleteObserver(this)},error:function(){return this._handleError},update:function(){},view:function(){var e=this._getViewRequest(this._hierarchyEntityLongId);return m.createRequest(workspaceId,[],[e],[])},
_getViewDefinition:function(e){var f={type:"MODEL_DATA"};e=h.entityLongIdToEntityLongIdIdentifier(e);e=n.getAxesForViewDefinition([e],[k.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]);q.mixin(f,e);return f},_getViewRequest:function(e){e=this._getViewDefinition(e);return{modelId:modelId,viewDefinition:e,columnLabelPageRequests:[],dataPageRequests:[],rowLabelPageRequests:[],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new f,viewGuid:l.createUUID(),viewIndex:-1}}})})},"anaplan/api/SystemActions/Base/poster":function(){define("./SystemAction ./PlainRequest anaplan/api/watcher dojo/_base/declare anaplan/utils/JsHelper anaplan/data/ModelContentHelper anaplan/data/ModelContentCache dojo/topic dojo/Deferred anaplan/data/RequestFactory dojo/i18n!anaplan/nls/api anaplan/utils/topics anaplan/constants".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return{postSystemAction:function(k){var b=new h;if(k instanceof l){var m=k.validate();f.isString(m)?b.reject({actionError:!0,error:m}):(m=e.createRequest(k.getWorkspaceId(),[],[],[k.buildRequestObject()],null,k.getFetchAllModelSummaries(),k.getModelId()),this.post(m).then(function(e){e=k.extractResult(e);if(!1===e.success||!1===e.isSuccess)b.reject({actionError:!0,error:e.message});else{var f=k.parseResponse(e);b.resolve(f)}e.undoChangeListGuid&&d.undoManagerAdd({id:"server",
containerId:e.containerId,operation:a.dataInputUndoOperations.SERVER_SYSTEM_ACTION_UNDO,undoChangeListGuid:e.undoChangeListGuid})},function(a){b.reject(a)}))}else b.reject({fatalError:!0,error:g.errors.invalidSystemAction});return b.promise},postProgress:function(a){var b=new h;if(a instanceof s){var d=a.validate();f.isString(d)?b.reject({actionError:!0,error:d}):(d=a.buildRequestObject(),d.requestType="PROGRESS",this.post(d).then(function(d){d=a.extractResult(d);d=a.parseResponse(d);b.resolve(d)}))}else b.reject({fatalError:!0,
error:g.errors.invalidSystemAction});return b.promise},post:function(a){var b=new h;m.publish("gather",{postData:a,synchronous:!1,loadHandler:function(a){if(a&&a.error)return b.reject({serverError:!0,error:a.error}),!0;a.result&&(n.populateCache(a.result),p.update(a.result));b.resolve(a)},errorHandler:function(a){b.reject({serverError:!0,error:a})}});return b.promise}}})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),
function(l,s,p,q,f){return l("dijit.form.ComboButton",q,{templateString:f,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(f){if(f.keyCode==s[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"])p.focus(this._popupStateNode),f.stopPropagation(),f.preventDefault()},_onArrowKeyDown:function(f){if(f.keyCode==
s[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"])p.focus(this.titleNode),f.stopPropagation(),f.preventDefault()},focus:function(f){this.disabled||p.focus("start"==f?this.titleNode:this._popupStateNode)}})})},"anaplan/dashboard/ButtonOptions":function(){define("anaplan/constants anaplan/dashboard/_ControlPanelMixin anaplan/utils/JsHelper dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/Evented dojo/i18n!anaplan/nls/buttonOptions dojo/text!anaplan/templates/ButtonOptions.html dijit/form/NumberSpinner dijit/form/RadioButton".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return n([f,q,k,s,h],{baseClass:"buttonOptions",labelAuto:e.labelAuto,labelCustom:e.labelCustom,DASHBOARD_MAXIMUM_BUTTON_WIDTH:l.DASHBOARD_MAXIMUM_BUTTON_WIDTH,DASHBOARD_MINIMUM_BUTTON_WIDTH:l.DASHBOARD_MINIMUM_BUTTON_WIDTH,RANGE_MESSAGE:m.replace(e.rangeMessage,{DASHBOARD_MINIMUM_BUTTON_WIDTH:l.DASHBOARD_MINIMUM_BUTTON_WIDTH,DASHBOARD_MAXIMUM_BUTTON_WIDTH:l.DASHBOARD_MAXIMUM_BUTTON_WIDTH}),templateString:g,constructor:function(d){this._args=d},postCreate:function(){this.inherited(arguments);
this.inputWidth.set("value",-1===this._args.size.width.units?this._args.contentBox.w:this._args.size.width.units);this.autoRadioButton.set("checked",-1===this._args.size.width.units);this.customRadioButton.set("checked",-1<this._args.size.width.units);this._hookupOnChangeHandlers([this.inputWidth],m.hitch(this,this._onInputWidthChange))},onAfterHeightAndWidth:function(){},updateValues:function(d){this._args.size.width.units=d.size.width.units;this.inputWidth.set("value",-1===this._args.size.width.units?
this._args.contentBox.w:this._args.size.width.units);this.autoRadioButton.set("checked",-1===this._args.size.width.units);this.customRadioButton.set("checked",-1<this._args.size.width.units)},_onAutoRadioButtonChange:function(d){this.inputWidth.set("disabled",d);d&&this._onWidthChange(-1)},_onCustomRadioButtonChange:function(d){this.inputWidth.set("disabled",!d);d&&this._onWidthChange(this.inputWidth.get("value"))},_onInputWidthChange:function(d){!p.isNullOrUndefined(d)&&this.customRadioButton.get("checked")&&
(this.inputWidth.validate()?this._onWidthChange(d):this.inputWidth.focus())},_onWidthChange:function(d){if(d!==this._args.size.width.units){var a=m.clone(this._args.size);m.mixin(a.width,{units:d});this.onAfterHeightAndWidth({size:a})}}})})},"anaplan/data/automaticRefreshInterval":function(){define(["anaplan/api/service","anaplan/constants","dojo/_base/lang"],function(l,s,p){var q={getAutomaticRefreshInterval:function(){if(l.model){var f=l.model.getModelProperty(s.MODEL_PROPERTY_NAMES.AUTOMATIC_REFRESH_INTERVAL);
if(f&&isFinite(f))return f}return 0}};p.setObject("anaplan.data.automaticRefreshInterval",q);return q})},"anaplan/widgets/DialogWithHelp":function(){define("anaplan/widgets/_WidgetMixin anaplan/utils/UrlHelper dijit/Dialog dijit/layout/ContentPane dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-style dojo/has dojo/i18n!anaplan/nls/dialog2 dojo/on dojo/text!anaplan/templates/Dialog2.html dojo/sniff anaplan/widgets/Button".split(" "),function(l,s,p,q,f,k,n,
m,h,e,g,d,a,r){return f("anaplan.widgets.DialogWithHelp",[q,p._DialogBase,l],{templateString:r,constructor:function(a){this._roles=a.roles||[]},postCreate:function(){this.inherited(arguments);var b=this.domNode;h.add(b,"anaplanDialog");h.add(b,"qa-dialog");this._roles.forEach(function(a){h.add(b,"qa-dialog-"+a)});this.setText(this.helpButton,d.buttonHelp);m.set(this.helpButton,"label",d.tooltipHelp);(g("ios")||g("android"))&&this.own(a(this.helpButton,"touchstart",n.hitch(this,function(a){k.stop(a);
this._onHelpButtonClick(a)})));this.own(a(this.domNode,"contextmenu",n.hitch(this,function(a){this.allowOnContextMenuEventPropagation(a)||a.stopPropagation()})))},show:function(){var a=this.on("keydown",function(a){(a.altKey||a.shiftKey||a.metaKey||a.ctrlKey)&&a.stopPropagation()});this.own(a);this.inherited(arguments);h.add(this.domNode,"qa-dialog-is-displayed")},onHide:function(){h.remove(this.domNode,"qa-dialog-is-displayed")},setHelpContent:function(a){this._anapediaKey=a;e.set(this.helpButton,
"display",a?"":"none");h.toggle(this.titleNode,"whatsThis",!!a)},_onHelpButtonClick:function(){this._anapediaKey&&window.open(s.createAnapediaUrl(this._anapediaKey),"_blank")},_onHelpButtonMouseDown:function(a){k.stop(a)}})})},"anaplan/api/Services/lists":function(){define(["anaplan/api/Entities/Lists"],function(l){return new l})},"anaplan/gridlet/GridletFactory":function(){define("anaplan/gridlet/DesktopGridlet anaplan/gridlet/MobileGridlet anaplan/gridlet/Grid2Gridlet anaplan/gridlet/isGrid2Enabled dojo/_base/declare dojo/_base/lang dojo/has".split(" "),
function(l,s,p,q,f,k,n){return f(null,{constructor:function(f){this._factoryParams=f||{}},createGridlet:function(f){f=k.mixin(k.clone(this._factoryParams),f||{});return new (this.getBaseClass(f))(f)},getBaseClass:function(f){return k.mixin({useGrid2:!1},f).useGrid2&&q()?p:n("ios")||n("android")?s:l}})})},"anaplan/formula/DataReference":function(){define(["dojo/_base/declare"],function(l){var s="'[];:\".,|()+-*/\\^\x3c\x3e\x3d\x260123456789".split(""),p="IF THEN ELSE AND OR NOT".split(" ");return l("anaplan.formula.DataReference",
null,{generateSinglePartIdentifier:function(l){return this._identifierPartRequiresDelimiters(l)?(l=l.replace(/'/gm,"''"),["'",l,"'"].join("")):l},generateTwoPartIdentifier:function(l,f){l=this.generateSinglePartIdentifier(l);f=this.generateSinglePartIdentifier(f);return[l,f].join(".")},_characterRequiresDelimiter:function(l){var f,k;for(f=0;f<s.length;f++)if(k=s[f],k===l)return!0;return!1},_containsDistinctFormulaKeywordIgnoreCase:function(l){l=l.toUpperCase();var f,k;for(f=0;f<p.length;f++)if(k=
p[f],l===k||this._startsWith(l,k+" ")||this._endsWith(l," "+k)||0<=l.indexOf(" "+k+" "))return!0;return!1},_endsWith:function(l,f){return l.length<f.length?!1:l.substring(l.length-f.length)===f?!0:!1},_identifierPartRequiresDelimiters:function(l){var f,k;for(f=0;f<l.length;f++)if(k=l.charAt(f),this._characterRequiresDelimiter(k))return!0;return this._containsDistinctFormulaKeywordIgnoreCase(l)?!0:!1},_startsWith:function(l,f){return l.length<f.length?!1:l.substring(0,f.length)===f?!0:!1}})})},"dojox/lang/functional/lambda":function(){define(["../..",
"dojo/_base/lang","dojo/_base/array"],function(l,s,p){var q=s.getObject("lang.functional",!0,l),f={},k=1<"ab".split(/a*/).length?String.prototype.split:function(f){var e=this.split.call(this,f);(f=f.exec(this))&&0==f.index&&e.unshift("");return e},n=function(f){var e=[],g=k.call(f,/\s*->\s*/m);if(1<g.length)for(;g.length;)f=g.pop(),e=g.pop().split(/\s*,\s*|\s+/m),g.length&&g.push("(function("+e.join(", ")+"){ return ("+f+"); })");else if(f.match(/\b_\b/))e=["_"];else{var g=f.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),
d=f.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(g||d)g&&(e.push("$1"),f="$1"+f),d&&(e.push("$2"),f+="$2");else{var g=f.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],a={};p.forEach(g,
function(d){a.hasOwnProperty(d)||(e.push(d),a[d]=1)})}}return{args:e,body:f}},m=function(f){return f.length?function(){var e=f.length-1,g=q.lambda(f[e]).apply(this,arguments);for(--e;0<=e;--e)g=q.lambda(f[e]).call(this,g);return g}:function(e){return e}};s.mixin(q,{rawLambda:function(f){return n(f)},buildLambda:function(f){f=n(f);return"function("+f.args.join(",")+"){return ("+f.body+");}"},lambda:function(h){if("function"==typeof h)return h;if(h instanceof Array)return m(h);if(f.hasOwnProperty(h))return f[h];
var e=n(h);return f[h]=new Function(e.args,"return ("+e.body+");")},clearLambdaCache:function(){f={}}});return q})},"put-selector/put":function(){(function(l){var s,p=/[-+,> ]/;l([],s=function(l,f){function k(f){function d(){u&&(s&&u!=s)&&(s==f&&(a||(a=p.test(w)&&l.createDocumentFragment()))?a:s).insertBefore(u,b||null)}for(var a,r,b,s,u,v=arguments,z=v[0],y=0;y<v.length;y++){var w=v[y];if("object"==typeof w){r=!1;if(w instanceof Array){u=l.createDocumentFragment();for(var x=0;x<w.length;x++)u.appendChild(k(w[x]));
w=u}if(w.nodeType)u=w,d(),s=w,b=0;else for(x in w)u[x]=w[x]}else if(r)r=!1,u.appendChild(l.createTextNode(w));else{1>y&&(f=null);r=!0;if(z=w.replace(n,function(a,n,r,p,z,x){n&&(d(),"-"==n||"+"==n?(s=(b=u||s).parentNode,u=null,"+"==n&&(b=b.nextSibling)):("\x3c"==n?s=u=(u||s).parentNode:(","==n?s=f:u&&(s=u),u=null),b=0),u&&(s=u));if((a=!r&&p)||!u&&(r||z))"$"==a?(a=v[++y],s.appendChild(l.createTextNode(a))):(a=a||k.defaultTag,(n=e&&v[y+1]&&v[y+1].name)&&(a="\x3c"+a+' name\x3d"'+n+'"\x3e'),u=h&&~(m=a.indexOf("|"))?
l.createElementNS(h[a.slice(0,m)],a.slice(m+1)):l.createElement(a));if(r)if("$"==p&&(p=v[++y]),"#"==r)u.id=p;else if(n=(a=u.className)&&(" "+a+" ").replace(" "+p+" "," "),"."==r)u.className=a?(n+p).substring(1):p;else if("!"==w){var H;e?k("div",u,"\x3c").innerHTML="":(H=u.parentNode)&&H.removeChild(u)}else n=n.substring(1,n.length-1),n!=a&&(u.className=n);z&&("$"==x&&(x=v[++y]),"style"==z?u.style.cssText=x:(r="!"==z.charAt(0)?(z=z.substring(1))&&"removeAttribute":"setAttribute",x=""===x?z:x,h&&~(m=
z.indexOf("|"))?u[r+"NS"](h[z.slice(0,m)],z.slice(m+1),x):u[r](z,x)));return""}))throw new SyntaxError("Unexpected char "+z+" in "+w);d();s=z=u||s}}f&&a&&f.appendChild(a);return z}p=f||p;var n=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,m,h=!1;l=l||document;var e="object"==typeof l.createElement;k.addNamespace=function(e,d){l.createElementNS?(h||(h={}))[e]=d:l.namespaces.add(e,d)};k.defaultTag="div";k.forDocument=s;return k})})(function(l,s,p){p=p||s;"function"===
typeof define?define([],function(){return p()}):"undefined"==typeof window?require("./node-html")(module,p):put=p()})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){k("dijit-legacy-requires")&&h(0,function(){require(["dijit/layout/StackController"])});p=p("dijit.layout.StackContainer",
r,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(m(this.domNode,"keydown",n.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();l.forEach(a,this._setupChild,this);this.persist?this.selectedChildWidget=d.byId(s(this.id+"_selectedChild")):l.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},
this);var f=this.selectedChildWidget;!f&&a[0]&&(f=this.selectedChildWidget=a[0],f.selected=!0);e.publish(this.id+"-startup",{children:a,selected:f,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var d=a.domNode,e=f.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),g=
a["aria-label"]||a.title||a.label;g&&e.setAttribute("aria-label",g);f.place(d,e);a._wrapper=e;this.inherited(arguments);"none"==d.style.display&&(d.style.display="block");a.domNode.removeAttribute("title")},addChild:function(a,d){this.inherited(arguments);this._started&&(e.publish(this.id+"-addChild",a,d),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var d=l.indexOf(this.getChildren(),a);this.inherited(arguments);f.destroy(a._wrapper);delete a._wrapper;this._started&&
e.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===a&&(this.selectedChildWidget=void 0,this._started)){var g=this.getChildren();g.length&&this.selectChild(g[Math.max(d-1,0)])}this._started&&this.layout()}},selectChild:function(a,f){var h;a=d.byId(a);this.selectedChildWidget!=a&&(h=this._transition(a,this.selectedChildWidget,f),this._set("selectedChildWidget",a),e.publish(this.id+"-selectChild",a),this.persist&&s(this.id+"_selectedChild",this.selectedChildWidget.id));
return g(h||!0)},_transition:function(a,d){d&&this._hideChild(d);var e=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return e},_adjacent:function(a){var d=this.getChildren(),e=l.indexOf(d,this.selectedChildWidget),e=e+(a?1:d.length-1);return d[e%d.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){e.publish(this.id+"-containerKeyDown",
{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var d=this.getChildren();a.isFirstChild=a==d[0];a.isLastChild=a==d[d.length-1];a._set("selected",!0);a._wrapper&&q.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&q.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&
a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;l.forEach(this.getChildren(),function(d){a||this.removeChild(d);d.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});p.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};n.extend(a,p.ChildWidgetProperties);return p})},"anaplan/utils/CopyHelper":function(){define(["anaplan/Exceptions",
"anaplan/api/SystemActions/index","dojo/_base/lang","anaplan/utils/UIHelper","anaplan/data/Aggregator"],function(l,s,p,q,f){return{copySelection:function(k,n,m,h){if(!k)return Promise.reject("no view definition available");k=p.clone(k);delete k.themeId;return s.copySelection(k,n,m,h).then(function(e){"true"!==e.successful?q.showErrorReporter(new l.ClientException("anaplan.utils.CopyHelper#copySelection "+e.cause,"Copy was not successful")):f.gather()})}}})},"anaplan/widgets/DimensionItemGroup":function(){define("dijit/_TemplatedMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/query anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper anaplan/widgets/DimensionItem dojo/text!anaplan/templates/DimensionItemGroup.html dojo/i18n!anaplan/nls/pivotComponent".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){var r=p("anaplan.widgets.DimensionItemGroup",[s,l],{baseClass:"dimensionItemGroup",sizeLimit:3,templateString:d,_dndManager:null,addDraggableItem:function(a,d,g){try{if(d&&g){var h="before",k=d.contentNode||d.domNode;if(k===this.dropNode)h="last";else if("inner-right"===g||"outer-right"===g||"inner-bottom"===g||"outer-bottom"===g)h="after";f.place(a.domNode,k,h)}else this.dropNode.appendChild(a.domNode)}catch(l){e.throwClientException(this,l)}},canAccept:function(a){var d=
!0;try{dijit.getEnclosingWidget(a.domNode).isInstanceOf(r)&&(d=!1)}catch(f){e.throwClientException(this,f)}return d},canDrop:function(a,d,f,g,h){var l=!0;try{var m=f.getDropZone?f.getDropZone():f,r=f.domNode,p=k.getContentBox(this.domNode),q=k.position(this.dropNode,!0),s=k.position(r,!0);s.x+=16;s.w=p.w-1;var r="",B=p="transparent",C="transparent",G="transparent",H=!1,L=this.getItemCount();switch(g){case "center":case "inner-right":case "inner-left":p=B=C=G="#33d76f";H=!0;break;case "outer-top":case "inner-top":!m.contains(a)&&
L>=this.sizeLimit?(r="none",l=!1):p="#33d76f";break;case "outer-bottom":case "inner-bottom":!m.contains(a)&&L>=this.sizeLimit?(r="none",l=!1):C="#33d76f";break;default:r="none",l=!1}!h&&H&&!d.canDrop(f,m,a,"center",!0)&&(r="none",l=!1);h&&d!==m&&(r="none");n.set(this.insertionPoint,{display:r,borderTopColor:p,borderRightColor:B,borderBottomColor:C,borderLeftColor:G});k.setMarginBox(this.insertionPoint,{t:s.y-q.y,l:s.x-q.x,w:s.w,h:s.h})}catch(F){e.throwClientException(this,F)}return l},constructor:function(a){a&&
a.hasOwnProperty("sizeLimit")&&(this.sizeLimit=a.sizeLimit)},deactivate:function(){try{this._hideInsertionPoint()}catch(a){e.throwClientException(this,a)}},drop:function(b,d,f,g){try{var h=this._getIdentifiers(b),k=this._getIdentifiers(b.getDropZone().getWidget().isInstanceOf(r)?b.getDropZone():b),l=[];if((f.contentNode||f.domNode)===this.dropNode){if("center"===g||"inner-left"===g||"inner-right"===g)l=this._getIdentifiers(f),this._dndManager.confirm(a.titleConfirmPivot,h,k,l,!0,this,q.hitch(this,
function(){f.swapWith(b)}))}else"center"===g?(l=this._getIdentifiers(f.getDropZone().getWidget().isInstanceOf(r)?f.getDropZone():f),this._dndManager.confirm(a.titleConfirmPivot,h,k,l,!0,this,q.hitch(this,function(){f.swapWith(b)}))):(f.getDropZone().getWidget().isInstanceOf(r)&&(l=this._getIdentifiers(f.getDropZone())),this._dndManager.confirm(a.titleConfirmPivot,h,k,l,!1,this,q.hitch(this,function(){d.removeDraggableItem(b);f.getDropZone().addDraggableItem(b,f,g);var a=d.getWidget();if(a.isInstanceOf(r)){var e=
a.getItemCount(),h=a=null,k=null,l=null;if(1===e){var m=d.getItems();m.length&&(a=m[0],d.removeDraggableItem(a))}if(1>=e){e=this._dndManager.getDraggableItemById(d.id);h=e.getDropZone();if(m=e.domNode.previousSibling)k=this._dndManager.getDraggableItemById(m.id),l="outer-right";else if(m=e.domNode.nextSibling)k=this._dndManager.getDraggableItemById(m.id),l="outer-left";h.removeDraggableItem(e);this._dndManager.destroyDropZone(d);this._dndManager.destroyDraggableItem(e)}a&&h&&h.addDraggableItem(a,
k,l)}})))}catch(m){e.throwClientException(this,m)}},getItemCount:function(){return m(".anaplanDraggable",this.dropNode).length},setHasHover:function(a){try{a||this._hideInsertionPoint()}catch(d){e.throwClientException(this,d)}},_getIdentifiers:function(a){var d=[];try{var f=a.getWidget();if(f instanceof g)d.push(h.entityLongIdToEntityLongIdIdentifier(f.get("entityLongId")));else{var k=this._dndManager.getDropZoneById(a.id).getItems(),l=k.length;for(a=0;a<l;a++)f=k[a].getWidget(),d.push(h.entityLongIdToEntityLongIdIdentifier(f.get("entityLongId")))}}catch(m){e.throwClientException(this,
m)}return d},_hideInsertionPoint:function(){try{n.set(this.insertionPoint,"display","none")}catch(a){e.throwClientException(this,a)}},_setDndManagerAttr:function(a){try{this._dndManager=a,this._set("dndManager",a)}catch(d){e.throwClientException(this,d)}}});return r})},"anaplan/dashboard/MultiSelect":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/snav/listloader dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/on dojo/query dojo/topic dijit/focus anaplan/data/ModelContentCache anaplan/widgets/Button dijit/form/FilteringSelect dijit/layout/_LayoutWidget anaplan/constants anaplan/widgets/MultiSelect anaplan/widgets/SearchBox dojo/i18n!anaplan/snav/nls/global dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){var B=a("ie")&&9>a("ie")?2E3:1E4,C=f(y,{openingOnDownArrowMouseDown:!1,openDropDown:function(){this.inherited(arguments);this._openingTimer&&(clearTimeout(this._openingTimer),this._openingTimer=null);this.openingOnDownArrowMouseDown=!1},postCreate:function(){this.inherited(arguments);m.set(this.domNode,"data-displayed-value","");this.own(this.watch("displayedValue",k.hitch(this,"_onDisplayedValueChange")))},_onDisplayedValueChange:function(a,
b,d){m.set(this.domNode,"data-displayed-value",d)},_onDropDownMouseDown:function(){this.inherited(arguments);!this.disabled&&!this.readOnly&&(this.openingOnDownArrowMouseDown=!0,this._openingTimer=setTimeout(k.hitch(this,function(){this.openingOnDownArrowMouseDown=!1}),2E3))},_setDataElementIdAttr:function(a){m.set(this.domNode,"data-element-id",a);this._set("data-element-id",a)},_setItemsAttr:function(a){var b=this.store;b.data={identifier:"entityLongId",label:"name",items:a};b.close()}}),G=f(w,
{filterByAncestor:!1,filterPropertyEntityLongIds:null,multiSelectHierarchyEntityLongId:-1,searchBox:null,constructor:function(){this.filterPropertyEntityLongIds=[]},postCreate:function(){var a,b,d;this.inherited(arguments);h.add(this.domNode,"filters");this.filterByAncestor&&this._createFilterByAncestorSelector();q.forEach(this.filterPropertyEntityLongIds,k.hitch(this,function(a){var b=this._getPropertyLabel(a);a=new C({store:new n({data:{clearOnClose:!0,identifier:"identifier",label:"label",items:[]}}),
autocomplete:!0,required:!1,searchAttr:"label",disabled:!0,placeHolder:this._getPlaceholder(a),filterPropertyEntityLongId:a,"data-element-id":"dropDown-filterProperty-"+(b?l.generateId(b):"")});this.addChild(a);this.own(r(a,"Change",k.hitch(this,"_onChange")))}));this.searchBox=this._createSearchBox();this.addChild(this.searchBox);a=this.getChildren();b=a.length-1;for(d=0;d<b;d++)e.create("div",{className:"spacerDiv"},a[d].domNode,"after")},layout:function(){var a=this._contentBox.w;q.forEach(this.getChildren(),
function(b){b&&g.setMarginBox(b.domNode,{w:a})})},onChange:function(){},_createFilterByAncestorSelector:function(){var a=new C({store:new n({data:{clearOnClose:!0,identifier:"identifier",label:"label",items:[]}}),autocomplete:!0,required:!1,searchAttr:"label",disabled:!0,placeHolder:E.placeholderFilterBy+E.placeholderAncestor,filterPropertyEntityLongId:-1,"data-element-id":"dropDown-filterByAncestor"});this.addChild(a);this.own(r(a,"Change",k.hitch(this,"_onChange")))},_createSearchBox:function(){var a=
new D({filterPropertyEntityLongId:x.SYSTEM_PROPERTY_LABEL,disabled:!0});this.own(a.on("search",k.hitch(this,"_onChange")));return a},_getHierarchyInfo:function(a){var b=v.getHierarchyInfo(a);b||(b=v.getHierarchyInfoForHierarchySubsetEntityLongId(a));return b},_getPlaceholder:function(a){a=this._getPropertyLabel(a);return E.placeholderFilterBy+(a?" "+a:"")},_getPropertyLabel:function(a){var b=this._getHierarchyInfo(this.multiSelectHierarchyEntityLongId),d;if(!b)return null;b=b.propertiesLabelPage;
d=q.indexOf(b.entityLongIds,a);return-1===d?(console.warn(this.id+" expected to find property and did not",a),null):b.labels[d]},_getValueAttr:function(){return q.map(this.getChildren(),function(a){return{filterPropertyEntityLongId:a.filterPropertyEntityLongId,value:a.get("value")}})},_onChange:function(){setTimeout(k.hitch(this,function(){if(!q.some(this.getChildren(),k.hitch(this,function(a){return!!a.openingOnDownArrowMouseDown})))this.onChange(this.get("value"))}),25)},_setDisabledAttr:function(a){this._set("disabled",
a);q.forEach(this.getChildren(),function(b){b&&b.set("disabled",a)})},_setItemsAttr:function(a){var b=this.getChildren(),d,e,f;e=0;for(d=a.length;e<d;e++)(f=b[e])&&f.set("items",a[e])}}),H=f(null,{data:null,constructor:function(){this.empty()},add:function(a){this._entityLongIdToIndexMap[a.entityLongId]=this.data.length;this.data.push(a)},empty:function(){this.data=[];this._entityLongIdToIndexMap={}},getEntityLongIds:function(){var a=dojo.filter(this.data,function(a){return!!a});return dojo.map(a,
function(a){return a.entityLongId})},remove:function(a){var b=this._entityLongIdToIndexMap[a],d;void 0!==b&&-1!==b&&(d=this.data[b],this.data[b]=null,this._entityLongIdToIndexMap[a]=-1);return d||null},setViewRequestResult:function(a){var b=a.dataPages[0];a=b.cellText;var d=b.cellValues,b=b.rowCount,e=this.data=[],f=this._entityLongIdToIndexMap={},g,h,k;for(g=k=0;g<b;g++,k++)h=d[g],!f.hasOwnProperty(h)||0>f[h]?(e.push({entityLongId:h,label:a[g]}),f[h]=k):k--}});f=f("anaplan.dashboard.MultiSelect",
w,{canMaintain:!1,deferredList:null,checkIsEditableOnMultiSelectItems:!0,filterByAncestor:!1,filterPropertyEntityLongIds:null,hierarchyEntityLongId:-1,isParentItemEditable:null,valueAttr:"entityLongId",loading:!0,constructor:function(){this.filterPropertyEntityLongIds=[]},postCreate:function(){var a,f,g,m,n,r,p,s,t,u,w,x,y,C,D,B;try{this.inherited(arguments);h.add(this.domNode,"multiselect");a=e.create("select");f=new A({name:"lhs",style:"position: absolute;",disabled:!1},a);g=e.create("select");
m=new A({name:"rhs",style:"position: absolute;",disabled:!1},g);n=e.create("select");r=new A({name:"removed",style:"visibility: hidden;",disabled:!1},n);p=new z({label:"\x26gt;",style:"position: absolute;",disabled:!0});s=new z({label:"\x26lt;",style:"position: absolute",disabled:!0});(t=v.getHierarchyInfo(this.multiSelectHierarchyEntityLongId))||(t=v.getHierarchyInfoForHierarchySubsetEntityLongId(this.multiSelectHierarchyEntityLongId));u=[];if(t){w=t.propertiesInfo;x=t.propertiesLabelPage.entityLongIds;
C=x.length;for(y=0;y<C;y++)D=w[[y]].format,"ENTITY"===D.dataType&&u.push(x[y])}this.filterPropertyEntityLongIds=q.filter(this.filterPropertyEntityLongIds,function(a){return-1<q.indexOf(u,a)});B=new G({filterByAncestor:this.filterByAncestor,filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,style:"position: absolute;"});this.addChild(B);this.addChild(f);this.addChild(m);this.addChild(r);this.addChild(p);this.addChild(s);
this._rhsModel=new H;this.filters=B;this.lhs=f;this.rhs=m;this.removed=r;this.buttonAdd=p;this.buttonRemove=s;this.own(B.on("change",k.hitch(this,function(a){try{if(!B.get("disabled")){B.set("disabled",!0);var d=b("option:checked",this.lhs.containerNode).map(function(a){return a.value});e.empty(this.lhs.domNode);this.set("loading",!0);setTimeout(k.hitch(this,function(){try{this._setFilter(a,d)}catch(b){this._displayError(b)}}),100)}}catch(f){this._displayError(f)}})));this.own(s.on("click",k.hitch(this,
function(){var a,d;try{this._assertCanMaintain()&&this._assertIsParentItemEditable()&&(e.empty(this.removed.domNode),this.removed.addSelected(this.rhs),a=this._rhsModel,b("option",this.removed.containerNode).forEach(function(b){a.remove(b.value)}),d=b("option:checked",this.lhs.containerNode).map(function(a){return a.value}),e.empty(this.lhs.domNode),this.set("loading",!0),this._setFilter(this.filters.get("value"),d),this.set("loading",!1))}catch(f){this._displayError(f)}})));this.own(p.on("click",
k.hitch(this,function(){var a;if(this._assertCanMaintain()&&this._assertIsParentItemEditable()){var e=b("option:checked",this.lhs.containerNode).map(function(a){return a.value});if(!this.checkIsEditableOnMultiSelectItems||!q.some(e,k.hitch(this,function(a){return!this._assertIsItemEditable(a)})))try{a=this._rhsModel,b("option",this.lhs.containerNode).forEach(function(b){b.selected&&a.add({label:l.getText(b),entityLongId:b.value})}),this.rhs.addSelected(this.lhs),b("option",this.rhs.containerNode).forEach(function(a){d.set(a,
{paddingLeft:0})})}catch(f){console.error(this.id,f)}}})));this._updateState()}catch(E){this._displayError(E)}},startup:function(){this.inherited(arguments);this.deferredList.then(k.hitch(this,function(a){var b=[],d=[],e,f,g,h,l;try{this.domNode&&(a[1]&&this._setRHS(a[1]),a[0]?this._setLHS(a[0]):this._displayError(a[0]),this.filterByAncestor&&((h=this._getMultiSelectHierarchyInfo())&&-1!==h.parentHierarchyEntityLongId?b.push(h.parentHierarchyEntityLongId):(l=[],q.forEach(this._rootnodes,k.hitch(this,
function(a){this._addToItems(a,l)})))),b.length||this.filterPropertyEntityLongIds.length?(h||(h=this._getMultiSelectHierarchyInfo()),f=h.propertiesInfo,g=h.propertiesLabelPage,d=q.map(this.filterPropertyEntityLongIds,function(a){e=q.indexOf(g.entityLongIds,a);return f[e].format.hierarchyEntityLongId}),b=b.concat(d),p.getLists(b).then(k.hitch(this,function(a){a=q.map(a,this._toItems);l?this.filters.set("items",[l].concat(a)):this.filters.set("items",a);this.filters.set("disabled",!1)}),k.hitch(this,
function(a){console.error(a);this._displayError(a)}))):(this.filterByAncestor&&this.filters.set("items",[l]),this.filters.set("disabled",!1)))}catch(m){this._displayError(m)}finally{this.set("loading",!1)}}),k.hitch(this,function(a){this.set("loading",!1);console.error(this.id,a)}))},focus:function(){this.lhs&&u.focus(this.lhs)},layout:function(){try{var a=this._contentBox.w,b=this._contentBox.h-10,e=g.getMarginBox(this.buttonAdd.domNode),f=g.getMarginBox(this.buttonRemove.domNode),h=Math.max(e.w,
f.w),k=Math.floor((a-20-h)/2),l,m,n;this.filters.resize({w:k});d.set(this.filters.domNode,{left:"0px",top:"0px"});l=g.getMarginBox(this.filters.domNode);this.lhs&&this.lhs.resize({h:b-(0+l.h+10),w:k});d.set(this.lhs.domNode,{top:0+l.h+10+"px",left:"0px"});this.rhs&&this.rhs.resize({w:k,h:b});m=k+10;d.set(this.rhs.domNode,{left:m+h+10+"px",top:"0px"});n=Math.floor((b-e.h-10-f.h)/2);d.set(this.buttonAdd.domNode,{left:m+"px",top:n+"px"});d.set(this.buttonRemove.domNode,{left:m+"px",top:n+e.h+20+"px"})}catch(r){console.error(this.id+
" layout",r)}},isValid:function(){return 0<this.get("value").length},resume:function(){},setGlobalContext:function(){},setSelectionFromLabelPage:function(a){var b=this.rhs,d=this._rhsModel,f=a.entityLongIds[0],g=a.labels[0];a=a.count;var h;d.empty();e.empty(b.domNode);for(h=0;h<a;h++)d.add({label:g[h],entityLongId:f[h]}),e.create("option",{innerHTML:s.escapeHTML(g[h]),value:f[h],title:g[h]},b.domNode);e.empty(this.lhs.domNode);this._setLHS(this._viewRequestResult)},suspend:function(){},_addToItems:function(a,
b){var d=a.children,e=d.length,f;if(!a.isLeaf&&e){b.push({entityLongId:a.entityLongId,label:a.label});for(f=0;f<e;f++)this._addToItems(d[f],b)}},_addToLHS:function(b,d,f,g){var h,k;f=a("ff")?f:0;if(b.isLeaf)-1<q.indexOf(g,b[this.valueAttr])||e.create("option",{innerHTML:s.escapeHTML(b.label),style:"padding-left:"+f+"px;",value:b[this.valueAttr],title:b.label},d);else{-1<b.entityLongId&&(e.create("optgroup",{label:b.label,style:"padding-left:"+f+"px;",title:b.label},d),f+=15);h=0;for(k=b.children.length;h<
k;h++)this._addToLHS(b.children[h],d,f,g)}},_assertCanMaintain:function(){this.canMaintain||this._displayMessage("Sorry, you do not have permission to maintain this hierarchy");return this.canMaintain},_assertIsParentItemEditable:function(){if(null===this.isParentItemEditable||void 0===this.isParentItemEditable)return!0;this.isParentItemEditable||(1===this.selectedItems.length?this._displayMessage("Sorry, you do not have permission to edit '"+this.selectedItems[0].label+"'"):this._displayMessage("Sorry, you do not have permission to edit any of the items selected"));
return this.isParentItemEditable},_assertIsItemEditable:function(a){var b=this._nodes;a=this._nodeIndices[a];var d=b[a];return!d.isItemEditable?(this._displayMessage("Sorry, you do not have permission to edit '"+s.cleanEscapeHTML(b[a].label)+"'"),!1):d.isItemEditable},_displayError:function(a){t.publish("anaplan/systemmessage",a,null,-1,"ERROR")},_displayMessage:function(a){t.publish("anaplan/systemmessage",a,null,-1,"MESSAGE")},_getMultiSelectHierarchyInfo:function(){this._multiSelectHierarchyInfo||
(this._multiSelectHierarchyInfo=v.getHierarchyInfo(this.multiSelectHierarchyEntityLongId),this._multiSelectHierarchyInfo||(this._multiSelectHierarchyInfo=v.getHierarchyInfoForHierarchySubsetEntityLongId(this.multiSelectHierarchyEntityLongId)));return this._multiSelectHierarchyInfo},_getValueAttr:function(){return!this._rhsModel?[]:this._rhsModel.getEntityLongIds()},_setFilter:function(a,d){var f=null;try{this.lhs.domNode.options.length=0}catch(g){e.empty(this.lhs.domNode)}this.filterByAncestor&&(a&&
a.length&&-1===a[0].filterPropertyEntityLongId)&&(f=a[0].value);p.getFilteredList(this.multiSelectHierarchyEntityLongId,this.filterByAncestor?a.slice(1):a,f,B).then(k.hitch(this,function(a){this._setLHS(a);b("option",this.lhs.containerNode).forEach(function(a){-1<q.indexOf(d,a.value)&&(a.selected=!0)});a.rowLabelPages[0].count===B&&this._displayMessage("Showing first "+B+" matches");this.filters.set("disabled",!1);this.set("loading",!1)}),k.hitch(this,function(a){this.set("loading",!1);this._displayError(a)}))},
_setFilterPropertyEntityLongIdsAttr:function(a){this._set("filterPropertyEntityLongIds",a||[])},_setLHS:function(a){var b=this.lhs,d=[],e,f,g,h,k,l,m,n,r,p,s,t,u;if(this.lhs&&this.lhs.domNode){e=a.rowLabelPages[0];f=a.pageInfo;f=f.rowEntityTypeIndices[0][0];g=e.entityLongIds[0];h=e.labels[0];k=e.entityIds[0];l=e.parentEntityLongIds[0];m=e.isItemEditable[0];n=0;for(r=e.count;n<r;n++)p=g[n],s=Math.floor(p/1E9),d.push({children:[],entityId:k[n],entityLongId:p,label:h[n],parentEntityLongId:l[n],isLeaf:s===
f,isItemEditable:m[n]});t={};f=0;for(g=d.length;f<g;f++)t[d[f].entityLongId]=f;u=[];q.forEach(d,function(a){var b;-1===Number(a.parentEntityLongId)?u.push(a):(b=t[a.parentEntityLongId],0<=b?(d[b].isLeaf=!1,d[b].children.push(a)):u.push(a))});h=this.get("value");f=0;for(g=u.length;f<g;f++)this._addToLHS(u[f],b.domNode,0,h);this.lhs.containerNode.childNodes.length+h.length<e.count&&this._displayMessage("Showing first "+this.lhs.containerNode.childNodes.length+" of "+e.count);this._nodeIndices=t;this._nodes=
d;this._rootnodes=u;this._viewRequestResult=a}},_setRHS:function(a){var b,d,f,g;if(this.rhs&&this.rhs.domNode&&(a.hasOwnProperty("isParentItemEditable")&&(this.isParentItemEditable=a.isParentItemEditable),a.viewResults&&(a=a.viewResults,a.length))){b=a[0];a=this.rhs;d=this._rhsModel;d.setViewRequestResult(b);b=d.data;d=Math.min(b.length,B);for(g=0;g<d;g++)f=b[g],e.create("option",{innerHTML:s.escapeHTML(f.label),value:f.entityLongId,title:f.label},a.domNode)}},_setLoadingAttr:function(a){this._set("loading",
a);this._updateState()},_toItems:function(a){var b,d,e,f;if(a[0]){b=a[1].rowLabelPages[0];a=b.labels[0];d=b.entityLongIds[0];e=[];f=0;for(b=b.count;f<b;f++)e.push({entityLongId:d[f],label:a[f]});return e}return[]},_updateState:function(){this._destroyed||(this.domNode&&h.toggle(this.domNode,"loading",this.loading),this.buttonAdd&&this.buttonAdd.set("disabled",this.loading),this.buttonRemove&&this.buttonRemove.set("disabled",this.loading))}});f.MAX_ITEMS=B;return f})},"anaplan/widgets/_SearchableSelector":function(){define("anaplan/widgets/InlineSearch anaplan/widgets/InlineSearchResults anaplan/widgets/PageSelectorHelper dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/layout/StackContainer dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-geometry dojo/i18n!anaplan/nls/searchPane dojo/keys".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return n([q],{_search:null,_selector:null,selectedEntityLongId:-1,postCreate:function(){this.inherited(arguments);h.add(this.domNode,"searchableSelector");var a=new l({disabled:!0});this.addChild(a);var e=new k({}),b=new f({});e.addChild(b);var n=new f({content:p.getLoadingMessage()});e.addChild(n);var q=new f({className:"noResults",content:g.labelNoResults});e.addChild(q);var v=new s({});e.addChild(v);this.addChild(e);this.own(a.on("searchMatches",function(a){a.length?
(v.set("data",a),e.selectChild(v)):e.selectChild(q)}),a.on("search",function(){e.selectChild(n)}),a.on("searchError",function(){e.selectChild(q)}),a.on("searchClear",function(){e.selectChild(b)}),a.on("keydown",m.hitch(this,function(a){a.keyCode===d.DOWN_ARROW&&setTimeout(m.hitch(this,function(){this.focus()}),10)})),a.on("change",function(a){a.stopPropagation()}),v.on("SelectionChange",m.hitch(this,"onSelectionChange")));this._inlineSearch=a;this._inlineSearchResults=v;this._selectorWrapper=b;this._stackContainer=
e},focus:function(){this._stackContainer.selectedChildWidget===this._inlineSearchResults&&this._inlineSearchResults.focus()},layout:function(){var a=m.clone(this._contentBox),d=e.getMarginBox(this._inlineSearch.domNode);a.h-=d.h;this._stackContainer.resize(a)},onSelectionChange:function(a){}})})},"anaplan/dashboard/LayoutHelper":function(){define("anaplan/constants anaplan/dashboard/LayoutPosition dojo/dom-class dojo/dom-geometry dojo/json dojo/window".split(" "),function(l,s,p,q,f,k){return{incrementDashboardRow:function(f){f=
f.split(",");var k,h;k=parseInt(f[0].substr(1),10);h=parseInt(f[1].substr(1),10);h="r"+(k+1)+",c"+h;2<f.length&&(k=parseInt(f[2].substr(1),10),f=parseInt(f[3].substr(1),10),h+=",r"+k+",c"+f);return h},getDashboardContainerBox:function(f,l,h){var e,g;if(!f)return{w:0,h:0};e=!p.contains(f,"detachedTab")&&f.parentNode?q.getContentBox(f.parentNode):k.getBox();g=q.position(f,!0);return{w:e.w-l,h:e.h-(f.parentNode?0:Math.ceil(g.y))-h}},getDashboardScrollContainerBox:function(f){f=f.getElementsByClassName("dashboardScrollContainer")[0];
return{w:f.clientWidth,h:f.clientHeight}},getDefaultSizeForElement:function(f,k){var h=l.dashboardElementType,e=l.DashboardSizeUnitsType,e={height:{unitsType:e.PIXELS,units:-1},minimumHeight:{unitsType:e.PIXELS,units:-1},maximumHeight:{unitsType:e.PIXELS,units:-1},width:{unitsType:e.PIXELS,units:-1},minimumWidth:{unitsType:e.PIXELS,units:-1},maximumWidth:{unitsType:e.PIXELS,units:-1}};switch(f.dashboardElementType){case h.GRID:e.height.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;e.height.units=
50;e.width.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;e.width.units=50;break;case h.CHART:e.height.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;e.height.units=50;e.width.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;e.width.units=f.chartType===l.chartType.PIE?33:50;e.minimumHeight.units=l.DASHBOARD_MINIMUM_WIDGET_HEIGHT;e.minimumWidth.units=l.DASHBOARD_MINIMUM_WIDGET_WIDTH;break;case h.STATIC_TEXT:e.width.unitsType=l.DashboardSizeUnitsType.PERCENTAGE;e.width.units=50;e.minimumHeight.units=l.DASHBOARD_MINIMUM_WIDGET_HEIGHT;
break;case h.IMAGE:e.height.unitsType=l.DashboardSizeUnitsType.PERCENTAGE,e.width.unitsType=l.DashboardSizeUnitsType.PERCENTAGE,e.height.units=50,e.width.units=50}return e},isNoop:function(f,k,h){var e,g;if(f.toString()===k.toString())return!0;e=h.rows[k.getRowIndex()];g=e.columns[k.getColumnIndex()];h=h.rows[f.getRowIndex()];return-1===f.getColumnIndex()?f.getRowIndex()===k.getRowIndex()||1==f.getRowIndex()-k.getRowIndex()?1===e.columns.length:!1:-1==f.getSubRowIndex()?f.getRowIndex()==k.getRowIndex()&&
f.getColumnIndex()==k.getColumnIndex()||f.getRowIndex()==k.getRowIndex()&&1===f.getColumnIndex()-k.getColumnIndex()?!g.subRows.length:!1:-1==f.getSubColumnIndex()?(e=h.columns[f.getColumnIndex()],e.subRows.length?k.getRowIndex()==f.getRowIndex()&&f.getColumnIndex()==k.getColumnIndex()&&f.getSubRowIndex()==k.getSubRowIndex()||k.getRowIndex()==f.getRowIndex()&&f.getColumnIndex()==k.getColumnIndex()&&-1!=k.getSubRowIndex()&&1==f.getSubRowIndex()-k.getSubRowIndex()?1==g.subRows[k.getSubRowIndex()].length:
!1:1==h.columns.length):k.getRowIndex()==f.getRowIndex()&&f.getColumnIndex()==k.getColumnIndex()&&-1!=k.getSubRowIndex()&&f.getSubRowIndex()==k.getSubRowIndex()?f.getSubColumnIndex()==k.getSubColumnIndex()||1==f.getSubColumnIndex()-k.getSubColumnIndex():!1},normalizeLayout:function(f){this._removeEmptyRegions(f);this._normalizeLevels(f)},parseDashboardElements:function(k){var l={},h,e;for(h=0;h<k.length;h++)e=k[h],e.layoutPosition&&(l[f.stringify(e)]=e.layoutPosition);return this.parseLayoutPositionMap(l)},
parseLayoutPositionMap:function(f){var k=[],h,e,g,d,a;for(h in f)e=f[h],e=new s({layoutPosition:e}),g=e.getRowIndex(),d=k[g],d||(d={columns:[]},k[g]=d),g=d.columns,d=e.getColumnIndex(),a=g[d],a||(a={subRows:[],widgets:[]},g[d]=a),g=a,d=e.getSubRowIndex(),-1<d&&(g=g.subRows,a=g[d],a||(a={subColumns:[]},g[d]=a),g=a.subColumns,e=e.getSubColumnIndex(),d=g[e],d||(d={widgets:[]},g[e]=d),g=d),g.widgets.push(h);return{rows:k}},supportsHeightAndWidth2:function(f){return f===l.dashboardElementType.IMAGE},toPixelBox:function(f,
k,h){var e=Math.max(k.width.unitsType===l.DashboardSizeUnitsType.PIXELS?k.width.units+h.horizontal:Math.floor(f.w*k.width.units/100),k.minimumWidth.units+h.horizontal,l.DASHBOARD_MINIMUM_WIDGET_WIDTH);-1<k.maximumWidth.units&&(e=Math.min(e,k.maximumWidth.units+h.horizontal));f=Math.max(k.height.unitsType===l.DashboardSizeUnitsType.PIXELS?k.height.units+h.vertical:Math.floor(f.h*k.height.units/100),k.minimumHeight.units+h.vertical,l.DASHBOARD_MINIMUM_WIDGET_HEIGHT);-1<k.maximumHeight.units&&(f=Math.min(f,
k.maximumHeight.units+h.vertical));return{w:e,h:f}},_normalizeLevels:function(f){var k,h,e,g,d,a,l;for(k=f.length-1;0<=k;k--)if(h=f[k],1==h.columns.length&&0===h.columns[0].widgets.length){h=h.columns[0].subRows;for(e=0;e<h.length;e++){g=h[e];d=[];for(a=0;a<g.subColumns.length;a++)l=g.subColumns[a],d[a]={subRows:[],widgets:l.widgets.slice()};0===e?f.splice(k,1,{columns:d}):f.splice(k+e,0,{columns:d})}}else for(e=0;e<h.columns.length;e++)if(g=h.columns[e],1==g.subRows.length){g=g.subRows[0];for(d=
0;d<g.subColumns.length;d++)a=g.subColumns[d],0===d?h.columns.splice(e,1,{subRows:[],widgets:a.widgets.slice()}):h.columns.splice(e+d,0,{subRows:[],widgets:a.widgets.slice()})}},_removeEmptyRegions:function(f){var k,h,e,g,d,a,l,b;for(k=f.length-1;0<=k;k--)if(h=f[k]){for(e=h.columns.length-1;0<=e;e--)if(g=h.columns[e]){for(d=g.subRows.length-1;0<=d;d--)if(a=g.subRows[d]){for(l=a.subColumns.length-1;0<=l;l--)b=a.subColumns[l],(!b||!b.widgets.length)&&a.subColumns.splice(l,1);a.subColumns.length||g.subRows.splice(d,
1)}else g.subRows.splice(d,1);!g.subRows.length&&!g.widgets.length&&h.columns.splice(e,1)}else h.columns.splice(e,1);h.columns.length||f.splice(k,1)}else f.splice(k,1)}}})},"anaplan/snav/taskelementfactory":function(){define(["anaplan/snav/bulkoperationfactory","dojo/_base/lang","dojo/Deferred"],function(l,s,p){var q={getTaskElement:function(f){var k=new p;if("BULK_OPERATION"===f.taskElementType)return k.resolve(l.getBulkOperationDelegate(f)),k;console.warn("Unknown taskElementType "+f.taskElementType);
throw"IllegalArgumentException";}};s.setObject("anaplan.snav.taskelementfactory",q);return q})},"anaplan/gridlet/gridletHelper":function(){define(["anaplan/gridlet/GridController","dojo/topic"],function(l,s){s.subscribe("anaplan/gridletHelper/createGridController",function(p){var q=new l(p.gridControllerConstructorArgs);p.onGridControllerConstructed(q)})})},"anaplan/view/RunExistingImport/_DataSources":function(){define("anaplan/data/Aggregator anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/RequestFactory dojo/_base/declare dojo/_base/lang dojo/json".split(" "),
function(l,s,p,q,f,k,n,m){return k([],{constructor:function(){this._dataSources=[];this._registeredObserver=!1;this._viewDefinition=null;this._serialNumbers=new s},destroy:function(){this._registeredObserver&&l.deleteObserver(this)},error:function(f){this.onError(f)},getDataSources:function(){return this._dataSources},initialize:function(){l.addObserver(this);this._registeredObserver=!0},onError:function(){},onUpdate:function(){},update:function(f){var e=f[0];f=this._serialNumbers;var g=this._serialNumbers=
new s(e.serialNumbers);this._viewIndex=e.viewIndex;if(f.rowAxisSerialNumber!==g.rowAxisSerialNumber||f.dataSerialNumber!==g.dataSerialNumber){f=[];if(0<e.rowLabelPages.length)for(var d=e.rowLabelPages[0],g=d.entityLongIds[0],a=d.labels[0],e=e.dataPages[0].cellValues,d=d.count,k=0;k<d;k++)f.push({entityLongId:g[k],label:a[k],dataSourceDefinition:m.parse(e[k])});this._dataSources=f;this.onUpdate()}},view:function(){var h={modelId:modelId,viewDefinition:this._getViewDefinition(),columnLabelPageRequests:[{start:0,
count:-1}],dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],rowLabelPageRequests:[{start:0,count:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1};return f.createRequest(workspaceId,[],[h],[])},_getViewDefinition:function(){if(null===this._viewDefinition){var f={type:"MODEL_DEFINITION"},e=q.getAxesForViewDefinition([p.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_IDENTIFIER],[p.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_PROPERTY_IDENTIFIER]);
n.mixin(f,e);this._viewDefinition=f}return this._viewDefinition}})})},"anaplan/data/Aggregator/PostHandler":function(){define("anaplan/api/watcher anaplan/data/Aggregator/TxidProvider anaplan/data/Aggregator/RequestSerialProvider anaplan/constants anaplan/Exceptions anaplan/utils/RedirectHelper anaplan/utils/FormatHelper dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/aggregator dojo/json anaplan/utils/topics".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){return m(null,{constructor:function(a){a=
a||{};this.url=a.url||"jsonrpc";this._retryCount=0;this.postPending=this.postInProgress=!1;this._inFlightDeferred=null;this._retryInterval=a.retryInterval||5E3;this._requestTimeout=a.requestTimeout||12E5;this._initialRequestStatusInterval=a.initialRequestStatusInterval||2E3;this._requestStatusInterval=a.requestStatusInterval||5E3;this._requestStatusTimeout=a.requestStatusTimeout||2E4;this._requestStatusRequestCount=0;this._slowConnectionThreshold=a.slowConnectionThreshold||-1},isDirty:function(){return this.postInProgress||
this.postPending},doPost:function(a,d,b,e,f){a.txid=s.getTxid();a=g.stringify(a);var h=p.getNextRequestSerialNumber();this._doPost(a,d,b,e,h,f)},_doPost:function(a,e,b,g,m,n){var p=null;try{e&&console.warn("anaplan.data.Aggregator synchronous");this._startPostTime=(new Date).getTime();var q=h.hitch(this,function(){this._doPost(a,e,b,g,m,n)}),p=dojo.xhrPost({error:h.hitch(this,function(a,b){this._errorWithClearRequestStatusPoll(a,b,g,m,q)}),headers:{"Content-Type":"application/json","Request-Serial-Number":m,
"Request-Message":this._retryCount?["retry ",this._retryCount," (",this._lastErrorStatus||"",")"].join(""):"","X-Request-Source":n?"auto":"user","Cache-Control":"no-cache"},postData:a,handleAs:"anaplan",load:h.hitch(this,function(a,d){a&&a.redirectUrl?k.handleRedirect(a):(l.update(a.result),this._loadWithClearRequestStatusPoll(a,d,b,m))}),sync:e,url:this.url,timeout:this._requestTimeout});this.postPending=!1;if(p){if(p.canceled||p.silentlyCancelled)throw new f.ClientException("anaplan.data.Aggregator _post _doPost deferred is cancelled",
null,{canceled:p.canceled,silentlyCancelled:p.silentlyCancelled});this.postInProgress=!e;this._inFlightDeferred=e?null:p}else throw new f.ClientException("anaplan.data.Aggregator _post _doPost no deferred");}catch(s){this.postPending=this.postInProgress=!1,this._inFlightDeferred=null,p=f.isException(s)?s:new f.BaseException(s.message,s),d.uiError(new f.UnableToCommunicateWithServerException(null,p,{requestSerialNumber:m,retryCount:this._retryCount}))}finally{this.postInProgress&&(this._requestStatusRequestCount=
0,this._requestStatusPollId=setTimeout(h.hitch(this,function(){this._requestStatusPoll(m)}),this._initialRequestStatusInterval))}},_loadWithClearRequestStatusPoll:function(a,g,b,h){var k=0,l=null,m=null;try{clearTimeout(this._requestStatusPollId);k=a&&a.endPostTime?a.endPostTime-this._startPostTime:-1;l=g&&g.xhr?g.xhr.getResponseHeader("Core-Processing-Time"):-1;a&&(a.result&&a.result.txid)&&s.setTxid(a.result.txid);if(-1<this._slowConnectionThreshold&&k-l>this._slowConnectionThreshold){var p=e.messageSlowConnection,
w=this._getSlowConnectionTooltip(k,l);d.systemMessage(p,w,null,q.SYSTEM_MESSAGE_WARNING)}d.systemStatus("",-1,null);(m=g&&g.xhr?g.xhr.getResponseHeader("Request-Serial-Number"):null)&&h!=m&&console.warn("anaplan.data.Aggregator _post loadWithClearRequestStatusPoll response serial number header does not match request serial number header "+[m,h].join());this._serverTimeFromLastRequest=g&&g.xhr?g.xhr.getResponseHeader("Date"):null;this._clientTimeFromLastRequest=(new Date).toString()}catch(x){console.error(x)}finally{this.postInProgress=
!1;this._inFlightDeferred=null;if(!a)throw new f.InvalidResponseException(null,null,n.safeParseXhr(g.xhr));g=b(a,g);a.error&&!g&&d.serverException(a.error,{requestSerialNumber:h,retryCount:this._retryCount})}},_errorWithClearRequestStatusPoll:function(a,g,b,k,l){var m=!1,p=!1,q=!0,s=!0,x=null,A=null,D=null;try{clearTimeout(this._requestStatusPollId);this._safeClearSystemMessage();if(a&&"timeout"===a.dojoType)A=new f.TransportException("timeout",null,{timeout:this._requestTimeout}),D=new f.ServerTimeoutException(null,
A,{requestSerialNumber:k,retryCount:this._retryCount});else if(a&&"cancel"===a.dojoType)q=!1,D=a;else if(x=n.safeParseXhr(g&&g.xhr?g.xhr:null),a instanceof f.ParseException)A=a,D=new f.ClientException("Failed to process server response",A,{requestSerialNumber:k,retryCount:this._retryCount});else if(a instanceof f.InvalidResponseException)A=a,D=new f.UnableToCommunicateWithServerException(null,A,{requestSerialNumber:k,retryCount:this._retryCount}),p=!0;else if(g&&g.xhr&&200!=x.httpStatus){if(A=new f.TransportException(null,
null,x),D=new f.UnableToCommunicateWithServerException(null,A,{requestSerialNumber:k,retryCount:this._retryCount}),-1!==this._retryInterval)switch(x.httpStatus){case 0:p=!0;break;case 405:p=!0;s=!1;break;case 498:m=!0;break;case 503:p=!0;break;case 12007:p=!0;break;case 12029:p=!0;break;case 12030:p=!0;break;case 12031:p=!0;break;case 12152:p=!0}}else A=new f.BaseException("errorWithClearRequestStatusPoll exception handling server response",a,x),D=new f.ClientException("Failed to process server response",
A,{requestSerialNumber:k,retryCount:this._retryCount});p=p&&3>this._retryCount;if(m)d.reloadPageDueToExpiredSession();else if(p)this._retryCount++,this._lastErrorStatus=null!=x.httpStatus?x.httpStatus:"-1",s&&d.systemStatus(e.messageRetry+this._retryCount,-1,null),setTimeout(h.hitch(this,function(){l()}),this._retryInterval);else{var E=b&&b(D,x);q&&!E&&d.uiError(D)}}catch(B){console.error(B),alert(A.getLocalizedMessage())}finally{this.postPending=p,this.postInProgress=!1,this._inFlightDeferred=null}},
_getRequestStatusMessage:function(a){var d="";try{a&&a.statusMessage&&(d=a.statusMessage)}catch(b){console.error(b)}return d},_safeClearSystemMessage:function(){d.systemStatus("",-1,null)},_requestStatusPoll:function(a){if(this.postInProgress){var l=h.mixin({requestSerialNumber:a,requestStatusRequestCount:this._requestStatusRequestCount,requestType:"REQUEST_STATUS",workspaceId:workspaceId},modelId?{modelId:modelId}:{}),b=p.getNextRequestSerialNumber(),m=h.hitch(this,function(g,l){if(g&&g.redirectUrl)k.handleRedirect(g);
else{var m=!1;try{var n=l.xhr.getResponseHeader("Request-Serial-Number");b!=n&&console.warn("anaplan.data.Aggregator _post _requestStatusPoll loadHandler response serial number header does not match request serial number header "+[n,b].join());var r=this._safeGetRequestStatus(g);if(null!==r&&this.postInProgress)if(r.currentStep==q.REQUEST_STATUS_UNKNOWN_REQUEST&&5<this._requestStatusRequestCount){var p=n=null;try{var s=this._inFlightDeferred;if(s&&s.ioArgs&&(l=s.ioArgs,l.xhr&&(n=l.xhr.readyState),
l.args)){var t=l.args;t.headers&&(p=t.headers["Request-Serial-Number"])}}catch(u){}var s={inFlightRequestSerialNumber:p,inFlightRequestReadyState:n},C=new f.ClientException("currentStep "+r.currentStep+" after "+this._requestStatusRequestCount+" retries",null,{requestSerialNumber:a});d.uiError(new f.ClientException("Sorry there has been a problem with the last request to the Anaplan server",C,s));d.systemStatus("",-1,null)}else this._requestStatusRequestCount++,m=!0,C=null,C=r.currentStep==q.REQUEST_STATUS_UNKNOWN_REQUEST||
r.currentStep==q.REQUEST_STATUS_KNOWN_REQUEST?e[r.currentStep]:r.currentStep,s=-1,!isNaN(r.progress)&&-1<r.progress&&(s=r.progress),t=null,r.tooltip&&(t=r.tooltip),d.systemStatus(C,s,t);else d.systemStatus("",-1,null);m&&(this._requestStatusPollId=setTimeout(h.hitch(this,function(){this._requestStatusPoll(a)}),this._requestStatusInterval))}catch(G){console.error(G)}}}),n=h.hitch(this,function(b,e){try{if(this.postInProgress){var f=this._getRequestStatusMessage(b);d.systemStatus(f,-1,null);this._requestStatusRequestCount++;
this._requestStatusPollId=setTimeout(h.hitch(this,function(){this._requestStatusPoll(a)}),this._requestStatusInterval)}}catch(g){console.error(g)}});dojo.xhrPost({handleAs:"anaplan",headers:{"Content-Type":"application/json","Request-Serial-Number":b},error:n,load:m,postData:g.stringify(l),url:this.url,sync:!1,timeout:this._requestStatusTimeout})}},_safeGetRequestStatus:function(a){if(a&&a.requestStatus)return a.requestStatus;console.warn("anaplan.data.Aggregator _safeGetRequestStatus expected to find requestStatus but did not");
return null},cancelInFlightRequest:function(){try{this._inFlightDeferred&&this._inFlightDeferred.cancel()}catch(a){console.error(a)}}})})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,s,p,q,f,k,n,m){function h(a,b,d,e,f){e=m.hitch(d,e);if(!a||!a.addEventListener&&!a.attachEvent)return q.after(a||l.global,b,e,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=l.global);if(!f)switch(b){case "keypress":b=
r;break;case "mouseenter":b=k.enter;break;case "mouseleave":b=k.leave}return s(a,b,e,f)}function e(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}n.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!n("opera")});var g={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,
220:92,221:93,222:39,229:113},d=n("mac")?"metaKey":"ctrlKey",a=function(a,b){var d=m.mixin({},a,b);e(d);d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()};return d},r;r=n("events-keypress-typed")?function(b,d){var e=s(b,"keydown",function(b){var e=b.keyCode,f=13!=e&&32!=e&&(27!=e||!n("ie"))&&(48>e||90<e)&&(96>e||111<e)&&(186>e||192<e)&&(219>e||222<e)&&229!=e;if(f||b.ctrlKey){f=f?0:e;if(b.ctrlKey){if(3==e||13==e)return d.call(b.currentTarget,b);f=95<f&&
106>f?f-48:!b.shiftKey&&65<=f&&90>=f?f+32:g[f]||f}e=a(b,{type:"keypress",faux:!0,charCode:f});d.call(b.currentTarget,e);if(n("ie"))try{b.keyCode=e.keyCode}catch(h){}}}),f=s(b,"keypress",function(b){var e=b.charCode;b=a(b,{charCode:32<=e?e:0,faux:!0});return d.call(this,b)});return{remove:function(){e.remove();f.remove()}}}:n("opera")?function(b,d){return s(b,"keypress",function(b){var e=b.which;3==e&&(e=99);e=32>e&&!b.shiftKey?0:e;b.ctrlKey&&(!b.shiftKey&&65<=e&&90>=e)&&(e+=32);return d.call(this,
a(b,{charCode:e}))})}:function(a,b){return s(a,"keypress",function(a){e(a);return b.call(this,a)})};var b={_keypress:r,connect:function(a,b,d,e,f){var g=arguments,k=[],l=0;k.push("string"==typeof g[0]?null:g[l++],g[l++]);var m=g[l+1];k.push("string"==typeof m||"function"==typeof m?g[l++]:null,g[l++]);for(m=g.length;l<m;l++)k.push(g[l]);return h.apply(this,k)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return p.subscribe(a,m.hitch(b,d))},publish:function(a,b){return p.publish.apply(p,
[a].concat(b))},connectPublisher:function(a,d,e){var f=function(){b.publish(a,arguments)};return e?b.connect(d,e,f):b.connect(d,f)},isCopyKey:function(a){return a[d]}};b.unsubscribe=b.disconnect;m.mixin(l,b);return b})},"anaplan/view/FastInsert":function(){define("anaplan/utils/FormatHelper anaplan/data/Aggregator dojo/_base/declare dijit/_WidgetBase dojo/string dojo/window dojo/on anaplan/view/FastInsert/_Widget anaplan/view/FastInsert/_Dialog anaplan/data/ModelContentCache dijit/Dialog anaplan/data/ChangeFactory anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/HierarchyInsertValidator anaplan/utils/UIHelper anaplan/view/Confirmation dojo/dom-construct dojo/sniff dojo/_base/window dojo/_base/lang dojo/_base/array anaplan/constants dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/fastInsert anaplan/api/service".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L){return p([q],{constructor:function(a){this._model=a.model||null;this._isObserver=this._errorState=!1;this._createFastInsertWidget(a);this._createDialog(a);this._createArrow();this._viewDefinition=a.viewDefinition},destroy:function(){try{this._isObserver&&this._model&&(this._model.deleteObserver(this),this._isObserver=!1),this._resizeHandle&&(this._resizeHandle.remove(),this._resizeHandle=null),this._dialog&&this._dialog.destroy(),
this._arrow&&y.destroy(this._arrow),this._confirmationDialog&&this._confirmationDialog.destroy()}catch(a){v.throwClientException(this,a)}},error:function(a){var b=!1;a&&a.errorMessage&&(this._widget.hideBusyIndicator(),this._showErrorMessage(a.errorMessage),this._errorState=b=!0);return b},onHide:function(){},onInsert:function(){},show:function(a){try{var d=this._dialog,f=this._widget;this._relativeItem=a.relativeItem;this._entityTypeIndices=a.entityTypeIndices;this._systemAxisEntityLongIdIdentifier=
a.systemAxisEntityLongIdIdentifier;this._moduleId=a.moduleId;this._hierarchyId=a.hierarchyId;this._hierarchyInsertValidator=new u({entityTypeIndices:this._entityTypeIndices});this._entityTypeToInsert=this._getEntityTypeToInsert(this._entityTypeIndices,this._systemAxisEntityLongIdIdentifier);this._relativeItem&&(this._relativeItem.label==this._moduleId&&this._moduleId)&&(this._relativeItem.isItemEditable=!1,this._relativeItem.canInsertSibling=!1,this._relativeItem.label=null,this._relativeItem.entityLongId=
null);var g=!1;this._entityTypeIndices&&this._entityTypeIndices.length&&(g=e.isNumberedList(this._entityTypeIndices[0]));this._isNumberedList=g;d.set("title",this._getTitle(a));var h=this._viewDefinition&&"MODEL_DATA"===this._viewDefinition.type,k=b.isEntitySystemAxisIdentifier(this._systemAxisEntityLongIdIdentifier)||b.isCustomHierarchySystemAxisIdentifier(this._systemAxisEntityLongIdIdentifier),l=this._relativeItem&&this._relativeItem.entityLongId?h?this._relativeItem.isItemEditable:k:!1,m=this._relativeItem&&
this._relativeItem.entityLongId?h?this._relativeItem.canInsertSibling:!0:!1,r=m&&this._hierarchyInsertValidator.isInsertAllowedAsSiblingOf(this._relativeItem.entityLongId),p=l&&this._hierarchyInsertValidator.isInsertAllowedAsChildOf(this._relativeItem.entityLongId,this._relativeItem.isAggregate),q=this._relativeItem&&this._relativeItem.entityLongId?m&&this._hierarchyInsertValidator.isInsertAllowedAsSiblingOf(this._relativeItem.entityLongId):!0;f.reset();f.setIsNumberedList(g);f.setRelativeToItemName(this._relativeItem&&
this._relativeItem.label?this._relativeItem.label:"");var s=t.entityLongIdIdentifierToEntityLongId(this._systemAxisEntityLongIdIdentifier);f.setSystemAxisEntityLongId(s);f.showPositionOptions(r,p,q);!r&&(!p&&!q)&&(this._invalidPosition=!0,this._showValidationError(H.labelInvalidPositionWarning));d.show();this._relativeDomNode=r||p?a.relativeDomNode:null;this._positionDialog();!w("ios")&&!w("android")&&(this._resizeHandle=n(window,"resize",A.hitch(this,"_onWindowResize")),this.own(this._resizeHandle))}catch(z){v.throwClientException(this,
z)}},update:function(){try{this._errorState||(this._isObserver&&this._model&&(this._model.deleteObserver(this),this._isObserver=!1),this._cancelOperation())}catch(a){v.throwClientException(this,a)}},_cancelOperation:function(){try{this._widget.reset(),this._arrow.style.display="none",this._dialog.hide(),this._model||s.gather()}catch(a){v.throwClientException(this,a)}},_convertItemNamesToItemObjects:function(a){for(var b=[],d,e=a.length,g=0;g<e;g++)d=f.trim(a[g]),0<d.length&&b.push({name:a[g]});return b},
_createArrow:function(){this._arrow=y.create("div",{top:"-1000px",left:"-1000px","class":"fastInsertArrow"},x.body())},_createDialog:function(){this._dialog=new h({content:this._widget.domNode,draggable:!1,"class":"fastInsertDialog",roles:["help","insert"]});this.own(n(this._dialog,"hide",A.hitch(this,"_onDialogHide")))},_createFastInsertWidget:function(a){this._widget=new m(a||{});this.own(n(this._widget,"cancel",A.hitch(this,"_onCancel")),n(this._widget,"insert",A.hitch(this,"_onInsert")),n(this._widget,
"error",A.hitch(this,"_onError")),n(this._widget,"positionChanged",A.hitch(this,"_onPositionChange")),n(this._widget,"numberedItemCountChanged",A.hitch(this,"_onNumberedItemCountChange")))},_doInsert:function(b,e,f){A.isArray(b)&&(b=this._convertItemNamesToItemObjects(b));e={position:e,items:b};this._relativeItem&&A.mixin(e,{relativeToEntityLongId:this._relativeItem.entityLongId,relativeToLabel:this._relativeItem.label});f&&A.mixin(e,f);this._hierarchyId&&A.mixin(e,{hierarchyId:this._hierarchyId,
hierarchyName:this._hierarchyId});this._moduleId&&A.mixin(e,{moduleId:this._moduleId});e=(new d).getModelChangeGenerator(this._entityTypeToInsert).getModelChangeXml("INSERT",e);f=[];e={modelId:modelId,modelChangeXml:e};this._moduleId&&A.mixin(e,{moduleId:this._moduleId});f.push(e);e=[];if(null!==this._entityTypeToInsert){var g=this._entityTypeToInsert.entityTypeIndex;if(void 0===g&&"LINE_ITEM"===this._entityTypeToInsert.entityTypeClass){var h=L.modules.getItemByEntityId(this._moduleId);h.exists&&
(g=h.lineItemEntityTypeIndex)}void 0!==g&&(e=D.filter(b,function(a){return null!==a&&void 0!==a.name}),e=D.map(e,function(a){return{entityTypeIndex:g,entityId:a.name}},this))}b=[{workspaceId:workspaceId,cellChanges:[],modelChanges:f,forceNewSubmissions:e}];this._model?(this._errorState=!1,this._widget.showBusyIndicator(),(void 0===this._isObserver||!1===this._isObserver)&&this._model.addObserver(this),this._isObserver=!0,this.onInsert(b)):(b=a.createRequest(workspaceId,b,[],[]),this._post(b))},_getEntityTypeToInsert:function(a,
d){var f=null;a&&a.length&&(f=a[0]);if(null!==f&&e&&(f=e.getEntityType(f)))return f;if(!d||b.isLineItemsSystemAxisIdentifier(d))return{entityTypeClass:"LINE_ITEM"};if(b.isModuleSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.MODULE_ENTITY_TYPE_INDEX};if(b.isModelRoleSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.CUSTOM_MODEL_ROLE_ENTITY_TYPE_INDEX};if(b.isFunctionalAreaSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.FUNCTIONAL_AREA_ENTITY_TYPE_INDEX};
if(b.isVersionSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.VERSION_ENTITY_TYPE_INDEX};if(b.isDashboardSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.DASHBOARD_ENTITY_TYPE_INDEX};if(b.isActionSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.ACTION_ENTITY_TYPE_INDEX};if(b.isProcessSystemAxisIdentifier(d))return{entityTypeClass:"SYSTEM",entityTypeIndex:E.PROCESS_ENTITY_TYPE_INDEX};if(this._entityTypeIndices.length)return{entityTypeClass:"CUSTOM",
entityTypeIndex:this._entityTypeIndices[0]};throw new r.IllegalStateException(null,null,{state:"Unable to derive entity type: entityTypeIndices:"+a.join()+" systemAxisEntityLongIdIdentifier:"+d});},_getSystemAxisLabel:function(a,d){var e=b.getSystemAxisLabel(a,d);return e&&e.length?e:H.defaultSystemAxisLabel},_getTitle:function(a){var b=H[this._isNumberedList?"titleFastInsertNumbered":"titleFastInsert"];a=this._getSystemAxisLabel(a.systemAxisEntityLongIdIdentifier,a.systemAxisLabel);b=f.substitute(b,
{systemAxisLabel:l.escapeHTML(a)});return this._isNumberedList?b:'\x3cspan class\x3d"labelTitle"\x3e'+b+"\x3c/span\x3e"},_hideErrorMessage:function(){try{var a=C.getMarginSize(this._dialog.domNode);this._widget.hideErrorMessage();var b=C.getMarginSize(this._dialog.domNode);a.h!==b.h&&this._positionDialog()}catch(d){v.throwClientException(this,d)}},_hideValidationError:function(){try{this._hideErrorMessage(),this._widget.setIsValid(!0)}catch(a){v.throwClientException(this,a)}},_onCancel:function(){try{this._dialog.hide()}catch(a){v.throwClientException(this,
a)}},_onDialogHide:function(){try{this.destroy(),this.onHide()}catch(a){v.throwClientException(this,a)}},_onError:function(){try{this._cancelOperation()}catch(a){v.throwClientException(this,a)}},_onInsert:function(a,b){var d=this;try{if(this._validate()){var e=this._relativeItem,h=this._widget.getParameters();if(e&&e.entityLongId&&!this._hierarchyInsertValidator.isCompositeHierarchy()&&"Child"===b&&!e.isAggregate){if(!this._confirmationDialog){this._confirmationDialog=new g({title:H.titleConfirmation});
var k=n(this._confirmationDialog,"Hide",A.hitch(this,function(){this._arrow.style.display=""})),m=this._confirmationDialog.on("keydown",function(a){(a.altKey||a.shiftKey||a.metaKey||a.ctrlKey)&&a.stopPropagation()});this.own(k,m)}var r=new z({innerHtml:f.substitute(H.messageConfirmation,{itemName:l.escapeHTML(e.label)})}),p=n(r,"Confirm",function(){d._confirmationDialog.hide();d._doInsert(a,b,h)}),q=n(r,"Cancel",function(){d._confirmationDialog.hide()});this.own(p,q);this._confirmationDialog.set("content",
r.domNode);this._confirmationDialog.show();this._arrow.style.display="none"}else this._doInsert(a,b,h)}}catch(s){v.throwClientException(this,s)}},_onNumberedItemCountChange:function(){this._validate()},_onPositionChange:function(){this._validate()},_onWindowResize:function(a){try{if(this._resizeTimeout&&clearTimeout(this._resizeTimeout),!this._dialog||!this._dialog.domNode||!this._dialog.domNode.style)this._arrow&&this._arrow.style&&(this._arrow.style.display="none");else{"none"!==this._dialog.domNode.style.display&&
(this._dialog.domNode.style.display="none",this._arrow.style.display="none");var b=this;this._resizeTimeout=setTimeout(function(){b._positionDialog()},250)}}catch(d){v.showErrorReporter(new r.ClientException("FastInsert: _onWindowResize",d,null,a))}},_positionDialog:function(){try{var a=this._relativeDomNode,b=this._dialog,d=this._arrow;b.domNode.style.display="";if(a){d.style.display="block";k.scrollIntoView(a.id);var e=C.position(a.id,!0),f=C.getMarginSize(b.domNode),g=C.getMarginSize(d),h=k.getBox(),
l=g.h/2,m=e.x,n=e.y+e.h/2;if(n-l>=h.t||n+l<h.t+h.h){var l=g.h/2,r=n+f.h-l-15>h.t+h.h,a=0,p=G.getComputedStyle(b.domNode).borderLeftWidth;if(p){var q=p.indexOf("px");-1!==q&&(a=parseInt(p.substring(0,q),10))}var s,t,p=n-l,u=r?n-f.h+15+l:n-15-l;u<h.t?u=h.t:u+f.h>h.t+h.h&&(u=h.t+h.h-f.h);e.x+e.w+g.w+f.w<h.l+h.w?(B.toggle(d,"fastInsertArrowLeft",!0),B.toggle(d,"fastInsertArrowRight",!1),s=m=e.x+e.w,t=s+g.w-a,G.set(b.domNode,{top:u+"px",left:t+"px"}),G.set(d,{top:p+"px",left:s+"px",zIndex:b.domNode.style.zIndex+
1})):e.x-g.w-f.w>=h.l&&(B.toggle(d,"fastInsertArrowLeft",!1),B.toggle(d,"fastInsertArrowRight",!0),s=m-g.w,t=s-f.w+a,G.set(b.domNode,{top:u+"px",left:t+"px"}),G.set(d,{top:p+"px",left:s+"px",zIndex:b.domNode.style.zIndex+1}))}}else d.style.display="none";this._widget.focus()}catch(w){v.throwClientException(this,w)}},_post:function(a){var b=this,d=this._widget;try{d.showBusyIndicator(),s.post(a,!1,this._wrapHandlerFunction(function(a){return a.error?(d.hideBusyIndicator(),!1):a.result&&a.result.errorInfo?
(d.hideBusyIndicator(),a.result.errorInfo.errorMessage?b._showErrorMessage(a.result.errorInfo.errorMessage):console.warn("FastInsert _post expected to receive error message and did not"),!1):!0}),this._wrapHandlerFunction(function(){return!0}))}catch(e){v.throwClientException(this,e)}},_showErrorMessage:function(a){var b=C.getMarginSize(this._dialog.domNode);this._widget.showErrorMessage(a);a=C.getMarginSize(this._dialog.domNode);b.h!==a.h&&this._positionDialog()},_showValidationError:function(a){this._showErrorMessage(a);
this._widget.setIsValid(!1)},_validate:function(){if(this._invalidPosition)return!1;var a=!0;try{if(a&&this._isNumberedList){var b=this._widget.getNumberedItemCount();if(0<b&&1E3>=b)this._hideValidationError();else{var d=f.substitute(H.errorInvalidItemCount,{lower:1,upper:1E3});this._showValidationError(d);a=!1}}if(a&&this._hierarchyInsertValidator&&this._hierarchyInsertValidator.isCompositeHierarchy()){var e=this._widget.getPosition(),g=this._relativeItem;"Child"===e?this._hierarchyInsertValidator.isInsertAllowedAsChildOf(g.entityLongId,
g.isAggregate)?this._hideValidationError():(this._showValidationError(this._hierarchyInsertValidator.getValidationError()),a=!1):"Before"===e||"After"===e?this._hierarchyInsertValidator.isInsertAllowedAsSiblingOf(g.entityLongId)?this._hideValidationError():(this._showValidationError(this._hierarchyInsertValidator.getValidationError()),a=!1):console.warn("FastInsert: _onPositionChange did not recognise position value")}}catch(h){v.throwClientException(this,h)}return a},_wrapHandlerFunction:function(a){var b=
this;return function(d,e){try{a(d,e)&&b._cancelOperation()}catch(f){b._cancelOperation(),v.showErrorReporter(new r.ClientException("FastInsert: post",f))}}}})})},"anaplan/view/InsertVersions/Widget":function(){define("dojo/_base/declare anaplan/view/FastInsert/_Widget dojo/dom-construct anaplan/utils/UIHelper dojo/i18n!anaplan/nls/insertVersions dojo/text!anaplan/templates/InsertVersions.html dijit/form/SimpleTextarea anaplan/widgets/Button".split(" "),function(l,s,p,q,f,k){return l([s],{templateString:k,
lblAccessLevel:f.labelAccessLevelSelect,postCreate:function(){this.inherited(arguments);var k=document.createDocumentFragment(),l=p.create("option",{value:"NONE"},k),h=p.create("option",{value:"READ"},k),e=p.create("option",{value:"WRITE"},k);q.setText(l,f.noAccess);q.setText(h,f.readAccess);q.setText(e,f.writeAccess);p.place(k,this.accessLevelSelect)},getParameters:function(){return{initialAccessLevel:this.accessLevelSelect.value}},reset:function(){this.inherited(arguments);this.accessLevelSelect.value=
"WRITE"},setIsNumberedList:function(){}})})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,s,p){var q={};s.mixin(p,{keys:function(f){var k=[],l;for(l in f)l in q||k.push(l);return k},values:function(f){var k=[],l;for(l in f)l in q||k.push(f[l]);return k},filterIn:function(f,k,n){n=n||l.global;k=p.lambda(k);var m={},h,e;for(e in f)e in q||(h=f[e],k.call(n,h,e,f)&&(m[e]=h));return m},forIn:function(f,k,n){n=n||l.global;k=p.lambda(k);for(var m in f)m in
q||k.call(n,f[m],m,f);return n},mapIn:function(f,k,n){n=n||l.global;k=p.lambda(k);var m={},h;for(h in f)h in q||(m[h]=k.call(n,f[h],h,f));return m}});return p})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(l,s,p,q){function f(e,f,d,a,h,b){b=b||"px";e=e.style;isNaN(f)||(e.left=f+b);isNaN(d)||(e.top=d+b);0<=a&&(e.width=a+b);0<=h&&(e.height=h+b)}function k(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||
"").toLowerCase()}function n(e){return"border-box"==m.boxModel||"table"==e.tagName.toLowerCase()||k(e)}var m={boxModel:"content-box"};l("ie")&&(m.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");m.getPadExtents=function(e,f){e=p.byId(e);var d=f||q.getComputedStyle(e),a=q.toPixelValue,h=a(e,d.paddingLeft),b=a(e,d.paddingTop),k=a(e,d.paddingRight),d=a(e,d.paddingBottom);return{l:h,t:b,r:k,b:d,w:h+k,h:b+d}};m.getBorderExtents=function(e,f){e=p.byId(e);var d=q.toPixelValue,a=f||
q.getComputedStyle(e),h="none"!=a.borderLeftStyle?d(e,a.borderLeftWidth):0,b="none"!=a.borderTopStyle?d(e,a.borderTopWidth):0,k="none"!=a.borderRightStyle?d(e,a.borderRightWidth):0,d="none"!=a.borderBottomStyle?d(e,a.borderBottomWidth):0;return{l:h,t:b,r:k,b:d,w:h+k,h:b+d}};m.getPadBorderExtents=function(e,f){e=p.byId(e);var d=f||q.getComputedStyle(e),a=m.getPadExtents(e,d),d=m.getBorderExtents(e,d);return{l:a.l+d.l,t:a.t+d.t,r:a.r+d.r,b:a.b+d.b,w:a.w+d.w,h:a.h+d.h}};m.getMarginExtents=function(e,
f){e=p.byId(e);var d=f||q.getComputedStyle(e),a=q.toPixelValue,h=a(e,d.marginLeft),b=a(e,d.marginTop),k=a(e,d.marginRight),d=a(e,d.marginBottom);return{l:h,t:b,r:k,b:d,w:h+k,h:b+d}};m.getMarginBox=function(e,f){e=p.byId(e);var d=f||q.getComputedStyle(e),a=m.getMarginExtents(e,d),h=e.offsetLeft-a.l,b=e.offsetTop-a.t,k=e.parentNode,n=q.toPixelValue;if(l("mozilla")){var s=parseFloat(d.left),d=parseFloat(d.top);!isNaN(s)&&!isNaN(d)?(h=s,b=d):k&&k.style&&(k=q.getComputedStyle(k),"visible"!=k.overflow&&
(h+="none"!=k.borderLeftStyle?n(e,k.borderLeftWidth):0,b+="none"!=k.borderTopStyle?n(e,k.borderTopWidth):0))}else if((l("opera")||8==l("ie")&&!l("quirks"))&&k)k=q.getComputedStyle(k),h-="none"!=k.borderLeftStyle?n(e,k.borderLeftWidth):0,b-="none"!=k.borderTopStyle?n(e,k.borderTopWidth):0;return{l:h,t:b,w:e.offsetWidth+a.w,h:e.offsetHeight+a.h}};m.getContentBox=function(e,f){e=p.byId(e);var d=f||q.getComputedStyle(e),a=e.clientWidth,h=m.getPadExtents(e,d),b=m.getBorderExtents(e,d);a?(d=e.clientHeight,
b.w=b.h=0):(a=e.offsetWidth,d=e.offsetHeight);l("opera")&&(h.l+=b.l,h.t+=b.t);return{l:h.l,t:h.t,w:a-h.w-b.w,h:d-h.h-b.h}};m.setContentSize=function(e,g,d){e=p.byId(e);var a=g.w;g=g.h;n(e)&&(d=m.getPadBorderExtents(e,d),0<=a&&(a+=d.w),0<=g&&(g+=d.h));f(e,NaN,NaN,a,g)};var h={l:0,t:0,w:0,h:0};m.setMarginBox=function(e,g,d){e=p.byId(e);var a=d||q.getComputedStyle(e);d=g.w;var r=g.h,b=n(e)?h:m.getPadBorderExtents(e,a),a=m.getMarginExtents(e,a);if(l("webkit")&&k(e)){var s=e.style;0<=d&&!s.width&&(s.width=
"4px");0<=r&&!s.height&&(s.height="4px")}0<=d&&(d=Math.max(d-b.w-a.w,0));0<=r&&(r=Math.max(r-b.h-a.h,0));f(e,g.l,g.t,d,r)};m.isBodyLtr=function(e){e=e||s.doc;return"ltr"==(s.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()};m.docScroll=function(e){e=e||s.doc;var f=s.doc.parentWindow||s.doc.defaultView;return"pageXOffset"in f?{x:f.pageXOffset,y:f.pageYOffset}:(f=l("quirks")?s.body(e):e.documentElement)&&{x:m.fixIeBiDiScrollLeft(f.scrollLeft||0,e),y:f.scrollTop||0}};l("ie")&&(m.getIeDocumentElementOffset=
function(e){e=e||s.doc;e=e.documentElement;if(8>l("ie")){var f=e.getBoundingClientRect(),d=f.left,f=f.top;7>l("ie")&&(d+=e.clientLeft,f+=e.clientTop);return{x:0>d?0:d,y:0>f?0:f}}return{x:0,y:0}});m.fixIeBiDiScrollLeft=function(e,f){f=f||s.doc;var d=l("ie");if(d&&!m.isBodyLtr(f)){var a=l("quirks"),h=a?s.body(f):f.documentElement,b=s.global;6==d&&(!a&&b.frameElement&&h.scrollHeight>h.clientHeight)&&(e+=h.clientLeft);return 8>d||a?e+h.clientWidth-h.scrollWidth:-e}return e};m.position=function(e,f){e=
p.byId(e);var d=s.body(e.ownerDocument),a=e.getBoundingClientRect(),a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top};if(9>l("ie")){var h=m.getIeDocumentElementOffset(e.ownerDocument);a.x-=h.x+(l("quirks")?d.clientLeft+d.offsetLeft:0);a.y-=h.y+(l("quirks")?d.clientTop+d.offsetTop:0)}f&&(d=m.docScroll(e.ownerDocument),a.x+=d.x,a.y+=d.y);return a};m.getMarginSize=function(e,f){e=p.byId(e);var d=m.getMarginExtents(e,f||q.getComputedStyle(e)),a=e.getBoundingClientRect();return{w:a.right-a.left+d.w,
h:a.bottom-a.top+d.h}};m.normalizeEvent=function(e){"layerX"in e||(e.layerX=e.offsetX,e.layerY=e.offsetY);if(!l("dom-addeventlistener")){var f=e.target,f=f&&f.ownerDocument||document,d=l("quirks")?f.body:f.documentElement,a=m.getIeDocumentElementOffset(f);e.pageX=e.clientX+m.fixIeBiDiScrollLeft(d.scrollLeft||0,f)-a.x;e.pageY=e.clientY+(d.scrollTop||0)-a.y}};return m})},"anaplan/dashboard/StaticTextOptions":function(){define("anaplan/constants anaplan/dashboard/_ControlPanelMixin anaplan/utils/UIHelper dijit/_Contained dijit/_Container dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/ComboButton dijit/Menu dijit/MenuItem dojo/_base/declare dojo/_base/lang dojo/Evented dojo/i18n!anaplan/nls/dashboard dojo/text!anaplan/templates/StaticTextOptions.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return d([n,k,m,q,f,s,r],{baseClass:"staticTextOptions",templateString:t,constructor:function(a){this._args=a;this._options=[]},postCreate:function(){this.inherited(arguments);p.setText(this.staticTextStyleLabel,b.staticTextStyleLabel);this._setStaticTextOptions(this._args)},updateValues:function(a){this._setStaticTextOptions(a)},_changeStyles:function(a){this._getStyle(a)!==this._currentStyle&&(this._currentStyle=this._getStyle(a),this.emit("afterStaticTextOptions",
{style:a}),this._updateButtonLabel(this._currentStyle),this._updateSelectedMenuItem(a))},_createStaticTextStyleMenu:function(){for(var a=new e({style:"display: none;",className:"staticTextMenu"}),b=l.DashboardStyleType,d=0;d<b.length;d++)a.addChild(this._createStaticTextStyleMenuItem(b[d]));return a},_createStaticTextStyleMenuItem:function(d){var e=!1;this._args.styleName===d[1]&&(e=!0);return new g({label:b[d[0]],iconClass:"anaplan-checked-menu-item checked-"+(e?"yes":"no"),className:d[1],onClick:a.hitch(this,
function(){this._changeStyles(d[1])})})},_getStyle:function(a){for(var b=l.DashboardStyleType,d=0;d<b.length;d++)if(b[d][1]===a)return b[d][0];return this._currentStyle?this._currentStyle:null},_setStaticTextOptions:function(a){this._currentStyle=this._getStyle(a.styleName);this._staticTextStyleMenu||(this._staticTextStyleMenu=this._createStaticTextStyleMenu());this._staticTextStyleSelect||(this._staticTextStyleSelect=new h({label:b[this._currentStyle],dropDown:this._staticTextStyleMenu},this.staticTextStyleSelect))},
_updateButtonLabel:function(a){this._staticTextStyleSelect&&this._staticTextStyleSelect.set("label",b[a])},_updateSelectedMenuItem:function(a){var b,d,e=null;if(this._staticTextStyleMenu){b=this._staticTextStyleMenu;b=b.getChildren();d=b.length;for(var f=0;f<d;f++)e=b[f],e.set("iconClass",e.className===a?"checked-yes":"checked-no")}}})})},"anaplan/common/SelectiveAccess/_SelectiveAccessBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic anaplan/constants anaplan/Exceptions anaplan/utils/EntityLongIdHelper dijit/Destroyable".split(" "),
function(l,s,p,q,f,k,n){return l("anaplan.common.SelectiveAccess._SelectiveAccessBase",[n],{constructor:function(){this.own(p.subscribe("anaplan/modelId",s.hitch(this,"_setModelId")))},canCancelAnyTask:function(){return this.isWorkspaceAdmin()},canCreate:function(f){return f===q.TIME_ENTITY_TYPE_INDEX?!1:f===q.MODEL_ENTITY_TYPE_INDEX?this.isWorkspaceAdmin()||this.isSupportUser():this.isEntityTypeReadOnlyForCurrentUser(f)?!1:this._canMaintain(f)},canDelete:function(f){return f===q.TIME_ENTITY_TYPE_INDEX?
!1:f===q.MODEL_ENTITY_TYPE_INDEX?this.isWorkspaceAdmin():this.isEntityTypeReadOnlyForCurrentUser(f)?!1:this._canMaintain(f)},canExport:function(f){return f===q.MODEL_ENTITY_TYPE_INDEX?this.isSupportUser():this._currentModelActiveState===q.ACTIVE_STATE_ARCHIVED?!1:!0},canImport:function(f){return f===q.MODEL_ENTITY_TYPE_INDEX?this.isSupportUser()||this.isWorkspaceAdmin():this.isModelStructureReadOnlyForCurrentUser()?!1:this.isWorkspaceAdmin()},canOpen:function(f){var h;if(f===q.SETTINGS_TAB){f=[q.TIME_ENTITY_TYPE_INDEX,
q.VERSION_ENTITY_TYPE_INDEX,q.USER_ENTITY_TYPE_INDEX,q.CUSTOM_MODEL_ROLE_ENTITY_TYPE_INDEX,q.HIERARCHY_ENTITY_TYPE_INDEX,q.IMPORT_ENTITY_TYPE_INDEX,q.MODULE_ENTITY_TYPE_INDEX,q.FUNCTIONAL_AREA_ENTITY_TYPE_INDEX];for(h=0;h<f.length;h++)if(this._canMaintain(f[h]))return!0}return!1},canUpdate:function(f){return f===q.MODEL_ENTITY_TYPE_INDEX?this.isWorkspaceAdmin()||this.isSupportUser():this.isModelStructureReadOnlyForCurrentUser()?!1:this._canMaintain(f)},getUserWorkspaceRole:function(){return this._getUserWorkspaceRole()},
hasFullModelAccess:function(){return this._getUserModelRoleEntityLongId()==this._getFullAccessBuiltInRoleEntityLongId()},isAuthorized:function(f){if(!this._isPermittedAction(f))return!1;switch(f){case q.userActions.CAN_ASSERT_WORKSPACE_SIZE:case q.userActions.CAN_VIEW_MODEL_MANAGEMENT:case q.userActions.CAN_ASSERT_MODEL:case q.userActions.CAN_RENDER_GLOBAL_NAV:return this.isSupportUser()||this.isWorkspaceAdmin();case q.userActions.SUPPORT_POPULATE_MODEL_ORIGINS:return this.isSupportUser();case q.userActions.CAN_SET_AUTOMATIC_REFRESH_INTERVAL:return this.isSuperUser();
case q.userActions.MAINTAIN_TIMESCALE:case q.userActions.MAINTAIN_VERSIONS:case q.userActions.MAINTAIN_USERS:case q.userActions.MAINTAIN_CUSTOM_MODEL_ROLES:case q.userActions.MAINTAIN_CUSTOM_HIERARCHY_DEFINITIONS:case q.userActions.WRITE_ALL:case q.userActions.CAN_VIEW_SETTINGS:case q.userActions.CAN_VIEW_TOOLTIP:case q.userActions.CAN_VIEW_ICON:case q.userActions.SETTINGS_ENABLED:case q.userActions.CAN_SHARE_FILES:case q.userActions.CAN_IMPORT_FILES:case q.userActions.CAN_MAINTAIN_IMPORT_SOURCES:case q.userActions.CAN_DISPLAY_FULL_USER_DETAILS:case q.userActions.CAN_VIEW_FULL_ERROR_DETAILS:case q.userActions.CAN_ACCESS_HIDDEN_CONTENT:return this.isWorkspaceAdmin();
case q.userActions.MAINTAIN_CUSTOM_FUNCTIONAL_AREAS:case q.userActions.MAINTAIN_CUSTOM_MODULES:case q.userActions.MAINTAIN_CUSTOM_LINE_ITEMS:case q.userActions.CONFIGURE_APPLICATION_IMPORTS:return!this.isModelStructureReadOnlyForCurrentUser();case q.userActions.MAINTAIN_CUSTOM_HIERARCHY_MEMBERS:case q.userActions.MAINTAIN_APPLICATION_HIERARCHY_MEMBERS:return!this.isModelLocked();case q.userActions.MAINTAIN_CUSTOM_DASHBOARDS:case q.userActions.MAINTAIN_CUSTOM_SAVED_VIEWS:case q.userActions.MAINTAIN_MODEL:case q.userActions.WORKFLOW_CAN_MAINTAIN_MESSAGE_OF_THE_DAY:return this._isModelUnLockedAndIsWorkspaceAdmin();
default:return!1}},isModelAccessibleForCurrentUser:function(){return-1===[q.ACTIVE_STATE_ARCHIVED].indexOf(this._currentModelActiveState)},isModelStructureReadOnlyForCurrentUser:function(){return-1===(this.isWorkspaceAdmin()?[q.ACTIVE_STATE_UNLOCKED,q.ACTIVE_STATE_MAINTENANCE]:[q.ACTIVE_STATE_UNLOCKED]).indexOf(this._currentModelActiveState)},isModelDataReadOnlyForCurrentUser:function(){return-1===(this.isWorkspaceAdmin()?[q.ACTIVE_STATE_UNLOCKED,q.ACTIVE_STATE_MAINTENANCE,q.ACTIVE_STATE_PRODUCTION,
q.ACTIVE_STATE_PRODUCTION_MAINTENANCE]:[q.ACTIVE_STATE_UNLOCKED,q.ACTIVE_STATE_PRODUCTION]).indexOf(this._currentModelActiveState)},isModelPropertyReadOnlyForCurrentUser:function(f){return-1===(this.isWorkspaceAdmin()?[q.ACTIVE_STATE_UNLOCKED,q.ACTIVE_STATE_MAINTENANCE,q.ACTIVE_STATE_PRODUCTION]:[q.ACTIVE_STATE_UNLOCKED]).indexOf(this._currentModelActiveState)},isEntityTypeReadOnlyForCurrentUser:function(f){var h=this.isModelDataReadOnlyForCurrentUser(),e=this.isModelStructureReadOnlyForCurrentUser();
return h&&e?!0:f===q.USER_ENTITY_TYPE_INDEX||!f?h:e},isModelLocked:function(){return this._currentModelActiveState===q.ACTIVE_STATE_LOCKED},isWorkspaceAdmin:function(){return this._getUserWorkspaceRole()===q.selectiveAccess.userWorkspaceRole.ADMIN},isSuperUser:function(){return this._getUserType()===q.selectiveAccess.userType.SUPER},isSupportUser:function(){return this._getUserType()===q.selectiveAccess.userType.SUPPORT||this.isSuperUser()},isPermittedAccessToMaintainDashboards:function(){return this._currentModelActiveState==
q.ACTIVE_STATE_LOCKED?!1:this.isWorkspaceAdmin()},isPermittedAccessToMaintainSavedViews:function(){return this._currentModelActiveState==q.ACTIVE_STATE_LOCKED?!1:this.isWorkspaceAdmin()},isPermittedAccessToMaintainApplicationHierarchyMembers:function(){return this._currentModelActiveState==q.ACTIVE_STATE_LOCKED?!1:this._isPermittedAction("MAINTAIN_APPLICATION_HIERARCHY_MEMBERS")},isPermittedAccessToMaintainCustomHierarchyMembers:function(){return this._currentModelActiveState==q.ACTIVE_STATE_LOCKED?
!1:this._isPermittedAction("MAINTAIN_CUSTOM_HIERARCHY_MEMBERS")},isPermittedAccessToMaintainModel:function(){return this._currentModelActiveState==q.ACTIVE_STATE_LOCKED?!1:this.isWorkspaceAdmin()},isPermittedAccessToMaintainWorkflow:function(){return this._currentModelActiveState==q.ACTIVE_STATE_LOCKED?!1:!0},isPermittedAccessToConfigureApplicationImports:function(){return this.isModelStructureReadOnlyForCurrentUser()?!1:this._isPermittedAction("CONFIGURE_APPLICATION_IMPORTS")},isPermittedAccessToMaintainCustomFunctionalAreas:function(){return this.isModelStructureReadOnlyForCurrentUser()?
!1:this._isPermittedAction("MAINTAIN_CUSTOM_FUNCTIONAL_AREAS")},isPermittedAccessToMaintainCustomLineItems:function(){return this.isModelStructureReadOnlyForCurrentUser()?!1:this._isPermittedAction("MAINTAIN_CUSTOM_LINE_ITEMS")},isPermittedAccessToMaintainCustomImports:function(){return this.isModelStructureReadOnlyForCurrentUser()?!1:this._isPermittedAction("MAINTAIN_CUSTOM_IMPORTS")},isPermittedAccessToMaintainCustomModules:function(){return this.isModelStructureReadOnlyForCurrentUser()?!1:this._isPermittedAction("MAINTAIN_CUSTOM_MODULES")},
_isModelUnLockedAndIsWorkspaceAdmin:function(){return!this.isModelLocked()&&this.isWorkspaceAdmin()},_canMaintain:function(f){return f===q.VERSION_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_VERSIONS):f===q.USER_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_USERS):f===q.CUSTOM_MODEL_ROLE_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_CUSTOM_MODEL_ROLES):f===q.HIERARCHY_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_CUSTOM_HIERARCHY_DEFINITIONS):
f===q.IMPORT_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.CONFIGURE_APPLICATION_IMPORTS):f===q.MODULE_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_CUSTOM_MODULES):f===q.FUNCTIONAL_AREA_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_CUSTOM_FUNCTIONAL_AREAS):f===q.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX?this._isPermittedAction(q.userActions.MAINTAIN_CUSTOM_HIERARCHY_DEFINITIONS):f===q.DASHBOARD_ENTITY_TYPE_INDEX||f===q.EXPORT_ENTITY_TYPE_INDEX?this.isWorkspaceAdmin():
!1},_getFullAccessBuiltInRoleEntityLongId:function(){this._fullAccessBuiltInRoleEntityLongId||(this._fullAccessBuiltInRoleEntityLongId=k.getEntityLongId(q.BUILT_IN_MODEL_ROLE_ENTITY_TYPE_INDEX,0));return this._fullAccessBuiltInRoleEntityLongId},_getUserModelRoleEntityLongId:function(){return this._userInfo.getLoggedInUserCurrentModelRoleEntityLongId()},_isPermittedAction:function(f){var h=this._userInfo.getPermittedActions();null===h&&(h=[]);var e;for(e=0;e<h.length;e++)if(h[e]===f)return!0;return!1},
_getUserType:function(){return this._userInfo.getLoggedInUserType()},_getUserWorkspaceRole:function(){var k=this._userInfo.getLoggedInUserWorkspaceRole();if(void 0!==k&&k!==q.selectiveAccess.userWorkspaceRole.ADMIN&&k!==q.selectiveAccess.userWorkspaceRole.USER)throw new f.InvalidArgumentException(null,null,{value:k});return k||null},_setModelId:function(){this._currentModelActiveState=null}})})},"anaplan/view/_LinkCellDecorator":function(){define(["anaplan/constants","anaplan/utils/LinkFormatter"],
function(l,s){var p=l.textFormatType,q=function(){this._linkFormatter=new s};q.prototype.decorate=function(f){var k=f.formats,l=f.styles,m=f.cellValues,h=this._linkFormatter,e,g,d,a;g=0;for(e=f.count;g<e;g++){d=k[g];a=null;if(!d){console.warn(g+" is off edge of cache; no more cells will be styled");break}if("TEXT"===d.dataType&&(d.textType===p.DRILLTHRU_URI?a=h.parseCellValueAsLink(m[g],!0):d.textType===p.EMAIL_ADDRESS&&(a=h.parseCellValueAsMailTo(m[g])),a&&(a.safeUri||a.href)))l[g]=[l[g],"link"].join(" ")}return f};
return q})},"anaplan/data/UserInfo/_UserInfoBase":function(){define(["dojo/_base/declare"],function(l){return l("anaplan.data.UserInfo._UserInfoBase",[],{_userInfo:null,getUserInfoObject:function(){return this._userInfo},getLoggedInUserCompanyName:function(){return this._userInfo?this._userInfo.loggedInUserCompanyName:null},getLoggedInUserCurrentModelRoleEntityLongId:function(){return this._userInfo?this._userInfo.loggedInUserCurrentModelRoleEntityLongId:null},getLoggedInUserCurrentModelRole:function(){return this._userInfo?
this._userInfo.loggedInUserCurrentModelRole:null},getLoggedInUserEmailAddress:function(){return this._userInfo?this._userInfo.loggedInUserEmailAddress:null},getLoggedInUserFirstName:function(){return this._userInfo?this._userInfo.loggedInUserFirstName:null},getLoggedInUserGuid:function(){return this._userInfo?this._userInfo.loggedInUserGuid:null},getLoggedInUserLastName:function(){return this._userInfo?this._userInfo.loggedInUserLastName:null},getLoggedInUserType:function(){return this._userInfo?
this._userInfo.loggedInUserType:null},getLoggedInUserWorkspaceRole:function(){return this._userInfo?this._userInfo.loggedInUserWorkspaceRole:null},getPermittedActions:function(){return this._userInfo?this._userInfo.permittedActions:null},reset:function(){this._userInfo=null},onChange:function(){}})})},"anaplan/layout/ResizeHandle":function(){define("dijit/registry dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/fx dojo/has dojo/on dojo/sniff dojo/topic dojo/touch dojox/layout/ResizeHandle anaplan/Exceptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){return s("anaplan.layout.ResizeHandle",[t],{position:"BR",postCreate:function(){g("ios")||g("android")?this.own(d(this.resizeHandle,"touchstart",q.hitch(this,"_beginSizing")),d(this.resizeHandle,"mousedown",this,function(a){p.stop(a)})):this.own(d(this.resizeHandle,b.press,q.hitch(this,"_beginSizing")));this.activeResize?this.animateSizing=!1:(this._resizeHelper=l.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new dojox.layout._ResizeHelper({id:"dojoxGlobalResizeHelper"})).placeAt(f.body()),
n.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=this._resizeY=!1;var a=q.partial(n.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;break;case "x":this._resizeX=!0;break;case "y":this._resizeY=!0;break;default:throw new u.ClientException("anaplan.layout.ResizeHandle.postCreate: invalid resizeAxis value: "+
this.resizeAxis);}switch(this.position.toLowerCase()){case "t":a("dojoxResizeS");break;case "tr":a("dojoxResizeSW");break;case "r":a("dojoxResizeW");break;case "br":a("dojoxResizeNW");this.showHandle&&a("showHandle");break;case "b":a("dojoxResizeN");break;case "bl":a("dojoxResizeNE");break;case "l":a("dojoxResizeE");break;case "tl":a("dojoxResizeSE");break;default:throw new u.ClientException("anaplan.layout.ResizeHandle.postCreate: invalid position value: "+this.position);}},_beginSizing:function(a){if(this._isSizing)return!1;
r.publish(this.startTopic,this);this.targetDomNode=(this.targetWidget=l.byId(this.targetId))?this.targetWidget.domNode:k.byId(this.targetId);this.targetContainer&&(this.targetDomNode=this.targetContainer);if(!this.targetDomNode)return!1;this.startSize=m.getMarginBox(this.targetDomNode);if(!this.activeResize){var e=this.startSize;this._resizeHelper.resize({l:e.l,t:e.t,w:e.w,h:e.h});this._resizeHelper.show()}this._isSizing=!0;this.startPoint=null;g("ios")||g("android")?this.startPoint={x:a.touches[0].clientX,
y:a.touches[0].clientY}:this.startPoint={x:a.clientX,y:a.clientY};if(this.fixedAspect){var h;this.startSize.w>this.startSize.h?(e="w",h=this.startSize.w/this.startSize.h):(e="h",h=this.startSize.h/this.startSize.w);this._aspect={prop:e};this._aspect[e]=h}this._pconnects=[];g("ios")||g("android")?(this._pconnects.push(d(f.doc,"touchmove",q.hitch(this,"_updateSizing"))),this._pconnects.push(d(f.doc,"touchend",q.hitch(this,"_endSizing")))):(this._pconnects.push(d(f.doc,b.move,q.hitch(this,"_updateSizing"))),
this._pconnects.push(d(f.doc,b.release,q.hitch(this,"_endSizing"))));p.stop(a);return!1},_changeSizing:function(a){var b=this._getNewCoords(a);if(!1!==b&&(this.targetWidget&&"function"===typeof this.targetWidget.resize?this.targetWidget.resize(b):this.animateSizing?e[this.animateMethod]([e.animateProperty({node:this.targetDomNode,properties:{left:{start:this.startSize.l,end:b.l},width:{start:this.startSize.w,end:b.w}},duration:this.animateDuration}),e.animateProperty({node:this.targetDomNode,properties:{top:{start:this.startSize.t,
end:b.t},height:{start:this.startSize.h,end:b.h}},duration:this.animateDuration})]).play():h.set(this.targetDomNode,{left:b.l+"px",top:b.t+"px",width:b.w+"px",height:b.h+"px"}),this.intermediateChanges))this.onResize(a)},_checkConstraints:function(a,b,d,e){if(this.minSize){var f=this.minSize;d<f.w&&(d=f.w,a!==this.startSize.l&&(a=this.startSize.l-(d-this.startSize.w)));e<f.h&&(e=f.h,b!==this.startSize.t&&(b=this.startSize.t-(e-this.startSize.h)))}this.constrainMax&&this.maxSize&&(f=this.maxSize,d>
f.w&&(d=f.w,a!==this.startSize.l&&(a=this.startSize.l-(d-this.startSize.w))),e>f.h&&(e=f.h,b!==this.startSize.t&&(b=this.startSize.t-(e-this.startSize.h))));this.fixedAspect&&(f=this._aspect[this._aspect.prop],d<e?(e=d*f,b!==this.startSize.t&&(b=this.startSize.t-(e-this.startSize.h))):e<d&&(d=e*f,a!==this.startSize.l&&(a=this.startSize.l-(d-this.startSize.w))));return{l:a,t:b,w:d,h:e}},_getNewCoords:function(a){try{if(!g("ios")&&!g("android")&&(!a.clientX||!a.clientY))return!1}catch(b){return!1}this._activeResizeLastEvent=
a;var d;if(g("ios")||g("android"))a=a.touches[0];d=a.clientX;a=a.clientY;d=this.startPoint.x-d;a=this.startPoint.y-a;var e,f,h,k;switch(this.position.toLowerCase()){case "t":e=this.startSize.l;f=this.startSize.t-(this._resizeY?a:0);h=this.startSize.w;k=this.startSize.h+(this._resizeY?a:0);break;case "tr":e=this.startSize.l;f=this.startSize.t-(this._resizeY?a:0);h=this.startSize.w-(this._resizeX?d:0);k=this.startSize.h+(this._resizeY?a:0);break;case "r":e=this.startSize.l;f=this.startSize.t;h=this.startSize.w-
(this._resizeX?d:0);k=this.startSize.h;break;case "br":e=this.startSize.l;f=this.startSize.t;h=this.startSize.w-(this._resizeX?d:0);k=this.startSize.h-(this._resizeY?a:0);break;case "b":e=this.startSize.l;f=this.startSize.t;h=this.startSize.w;k=this.startSize.h-(this._resizeY?a:0);break;case "bl":e=this.startSize.l-(this._resizeX?d:0);f=this.startSize.t;h=this.startSize.w+(this._resizeX?d:0);k=this.startSize.h-(this._resizeY?a:0);break;case "l":e=this.startSize.l-(this._resizeX?d:0);f=this.startSize.t;
h=this.startSize.w+(this._resizeX?d:0);k=this.startSize.h;break;case "tl":e=this.startSize.l-(this._resizeX?d:0),f=this.startSize.t-(this._resizeY?a:0),h=this.startSize.w+(this._resizeX?d:0),k=this.startSize.h+(this._resizeY?a:0)}return this._checkConstraints(e,f,h,k)}})})},"anaplan/view/ColumnSettings":function(){define("../constants ../data/ModelContentCache ../data/ModelContentHelper ../Exceptions ../gridlet/Themes ../utils/AxisHelper ../utils/EntityLongIdHelper ../utils/UIHelper ../utils/ViewDefinitionHelper ../widgets/Dialog2 dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/NumberTextBox dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/i18n!../nls/columnSettings dojo/i18n!dijit/nls/common dojo/keys dojo/mouse dojo/number dojo/on dojo/query dojo/text!../templates/ColumnSettings.html dojo/touch dijit/form/Button dijit/form/Form dijit/form/FilteringSelect".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K){return u([d,g,a,e.ContentMixin],{baseClass:"columnSettings",templateString:F,columnHeaderWrapping:l.columnHeaderWrapping,model:null,nls:z.mixin({},E,D),minColumnWidth:6,maxColumnWidth:800,constructor:function(){this._rowLabelWidthControls=[];this._styleControls=[];this._lineItemControls=[]},postCreate:function(){this.inherited(arguments);this._configureWrapTextInHeaders();this._configureDefaultColumnWidth();this._createRowLabelWidthInputs();
this._createColumnWidthInputs()},startup:function(){var a;this._started||(this.inherited(arguments),a=[].concat(this._rowLabelWidthControls,this._styleControls,this._lineItemControls),t.forEach(a,function(a){a.widget.startup()}),this._connectEventHandlers())},destroy:function(){var a=[].concat(this._rowLabelWidthControls,this._styleControls,this._lineItemControls);t.forEach(a,function(a){a.widget.destroy()});this._lineItemControls=this._styleControls=this._rowLabelWidthControls=null;this.inherited(arguments)},
_applyColumnSettings:function(){"Error"!==this.columnSizeForm.get("state")&&this.columnSizeForm.validate()&&this.emit("apply",{extraData:{columnSettings:this.get("value")}})},_configureDefaultColumnWidth:function(){var a,b;y.set(this.labelDefaultColumnSize,"for",this.textBoxDefaultColumnSize.id);(a=this.model)?(a=a.getViewDefinition())?(b=a.columnSizes||{},this.textBoxDefaultColumnSize.set("value",b.hasOwnProperty("defaultColumnWidth")?b.defaultColumnWidth:f.getDefaultColumnWidth(a.themeId))):console.warn("anaplan/view/ColumnSettings#_configureDefaultColumnWidth: no view definition available"):
console.warn("anaplan/view/ColumnSettings#_configureDefaultColumnWidth: no model provided")},_configureWrapTextInHeaders:function(){var a;y.set(this.labelWrapText,"for",this.selectWrapText.id);(a=this.model)?(a=a.getViewDefinition())?(a=z.exists("columnSizes.columnHeaderWrapping",a)?a.columnSizes.columnHeaderWrapping:null,this.selectWrapText.set("value",a||this.columnHeaderWrapping.NO_WRAP)):console.warn("anaplan/view/ColumnSettings#_configureWrapTextInHeaders: no view definition available"):console.warn("anaplan/view/ColumnSettings#_configureWrapTextInHeaders: no model provided")},
_connectEventHandlers:function(){L(".dijitTextBox",this.domNode).forEach(z.hitch(this,function(a){if(a=b.byNode(a))this.own(a.on("focus",this._showFocusedRow.bind(this,a))),this.own(a.on("keyup",this._showFocusedRow.bind(this,a))),this.own(a.on("change",this._showFocusedRow.bind(this,a)))}));this._moveHandle=this.own(H.pausable(document,K.move,z.hitch(this,"_onSizeGuideMouseMove")),H(this.domNode,H.selector("tr",K.press),z.hitch(this,"_onRowPress")),H(this.sizeGuide,K.press,z.hitch(this,"_onSizeGuideMouseDown")),
H(document,K.release,z.hitch(this,"_onMouseUp")))[0];this._moveHandle.pause()},_createColumnWidthInputs:function(){var a=this.model;a&&(this._createStyleInputs(),a.isLineItemsOnColumns()?this._createLineItemInputs():!a.isLineItemsOnRows()&&-1<a.getModuleEntityLongId()&&this._createCurrentLineItemInput())},_createCurrentLineItemInput:function(){var a=this._getCustomWidthsByLineItem(),b=this._getLineItemsLabelPage(),d=this._getCurrentLineItemEntityLongId(),e,f,g;a&&(b&&!(0>=d))&&(e=b.entityLongIds[0],
f=b.labels[0],g=t.indexOf(e,d),-1!==g&&(this._createHeadingBlock(this.nls.labelLineItem),this._createTableGroup(z.hitch(this,function(){var b=document.createDocumentFragment(),d=e[g];b.appendChild(this._createInput(d,f[g],this._lineItemControls,a[d]));return b}))))},_createHeadingBlock:function(a){var b=document.createDocumentFragment(),d=x.create("div",{"class":"form-group-heading"}),e=x.create("span",{"class":"form-group-heading-label"},d);x.create("span",{"class":"form-group-heading-fill"},d);
m.setText(e,a);b.appendChild(d);this.columnSizeForm.domNode.appendChild(b)},_createHierarchyColumnWidthInputs:function(a){var b=[],d=this.nls;b.push({entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID,className:"summary1",label:d.labelHierarchySummary1},{entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID,className:"summary2",label:d.labelHierarchySummary2},{entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_ENTITY_LONG_ID,className:"summary3",label:d.labelHierarchySummary3});
this._createHeadingBlock(this.nls.labelStyles);this._createTableGroup(z.hitch(this,function(){var d=document.createDocumentFragment(),e=b.length,f,g;for(f=0;f<e;f++)g=b[f],d.appendChild(this._createInput(g.entityLongId,g.label,this._styleControls,a[g.className]));return d}))},_createInput:function(a,b,d,e){var f=document.createDocumentFragment(),g=x.create("tr",null,f),h=x.create("th",null,g),g=x.create("td",null,g);e=new r({value:e,pattern:"^[0-9]*",constraints:{min:this.minColumnWidth,max:this.maxColumnWidth},
rangeMessage:D.valueRange});h=x.create("label",{"for":e.id},h);m.setText(h,b);d.push({id:a,widget:e});x.place(e.domNode,g);a=x.create("span",{"class":"pixelsLabel"},g);m.setText(a,this.nls.labelPixels);return f},_createLineItemInputs:function(){var a=this._getCustomWidthsByLineItem(),b=this._getLineItemsLabelPage(),d,e,f;if(a&&b&&(d=b.count))this._createHeadingBlock(this.nls.labelLineItems),e=b.entityLongIds[0],f=b.labels[0],this._createTableGroup(z.hitch(this,function(){var b=document.createDocumentFragment(),
g,h;for(h=0;h<d;h++)g=e[h],b.appendChild(this._createInput(g,f[h],this._lineItemControls,a[g]));return b}))},_createRowLabelWidthInputs:function(){var a=this.model,b=this.nls;if(a)if(a=a.getPageInfo()){if(a=a.rowAxisSpecification)if((a=p.getAllDimensionIdentifiersForAxisSpecification(a))&&a.length)this._createHeadingBlock(b.labelRowLabels),this._createTableGroup(z.hitch(this,"_createRowLabelWidthInputFields",a))}else console.warn("anaplan/view/ColumnSettings#_createRowLabelWidthInputs: no page info");
else console.warn("anaplan/view/ColumnSettings#_createRowLabelWidthInputs: no model provided")},_createRowLabelWidthInputFields:function(a,b){var d=this.model,e=document.createDocumentFragment(),f,g;if(!d)return e;f=this.nls.labelEmptyAxis;g=this._getCustomRowLabelWidthsByDimension();if(!g)return e;d=d.getViewDefinition();if(!d)return e;if((d=d.columnSizes)&&d.hasOwnProperty("rowLabelWidth"))b=d.rowLabelWidth;t.forEach(a,function(a){var d=k.isEmptySystemAxisIdentifier(a)?f:p.getLabelForDimensionIdentifier(s,
a);a=n.entityLongIdIdentifierToEntityLongId(a);d=this._createInput(a,d,this._rowLabelWidthControls,g[a]||b||null);e.appendChild(d)},this);return e},_createStyleInputs:function(){var a=this._getCustomWidthsByStyle();a&&(this._isTimeOnColumns()&&this._createTimeColumnWidthInputs(a),this._isHierarchyOnColumns()&&this._createHierarchyColumnWidthInputs(a))},_createTableGroup:function(a){var b=x.create("table",{"class":"tableGroup"}),d=x.create("tbody",null,b);a&&d.appendChild(a());x.place(b,this.columnSizeForm.domNode)},
_createTimeCalendarMonthsInputs:function(){var a=[],b=this.nls;a.push({entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID,className:"summary1",label:b.labelTimeSummary1},{entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID,className:"summary2",label:b.labelTimeSummary2});return a},_createTimeCalendarThirteenFourWeekPeriodsInputs:function(){return this._createTimeCalendarWeeksFourFourFiveInputs()},_createTimeCalendarWeeksFourFourFiveInputs:function(){var a=[],b=this.nls;
a.push({entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID,className:"summary1",label:b.labelTimeSummary1},{entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID,className:"summary2",label:b.labelTimeSummary2},{entityLongId:l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_ENTITY_LONG_ID,className:"summary3",label:b.labelTimeSummary3});return a},_createTimeCalendarWeeksInputs:function(){return[]},_createTimeColumnWidthInputs:function(a){var b=s.getTimescaleInfo().calendarTypeEntityIndex,
d;b===l.CALENDAR_TYPE_MONTHS_ENTITY_INDEX?d=this._createTimeCalendarMonthsInputs():b===l.CALENDAR_TYPE_WEEKS_FOUR_FOUR_FIVE_ENTITY_INDEX?d=this._createTimeCalendarWeeksFourFourFiveInputs():b===l.CALENDAR_TYPE_WEEKS_GENERAL_ENTITY_INDEX?d=this._createTimeCalendarWeeksInputs():b===l.CALENDAR_TYPE_THIRTEEN_FOUR_WEEK_PERIODS_ENTITY_INDEX?d=this._createTimeCalendarThirteenFourWeekPeriodsInputs():(d=[],console.warn("anaplan/view/ColumnSettings#_createTimeColumnWidthInputs: unhandled calendar type entity index: "+
b));d.length&&(this._createHeadingBlock(this.nls.labelStyles),this._createTableGroup(z.hitch(this,function(){var b=document.createDocumentFragment(),e=d.length,f,g;for(f=0;f<e;f++)g=d[f],b.appendChild(this._createInput(g.entityLongId,g.label,this._styleControls,a[g.className]));return b})))},_getCurrentLineItemEntityLongId:function(){var a=this.model;return!a?-1:a.getLineItemEntityLongIdForPageInfo()},_getCustomRowLabelWidthsByDimension:function(){var a=this.model;if(!a)return console.warn("anaplan/view/ColumnSettings#_getCustomRowLabelWidthsByDimension: no model provided"),
null;a=a.getViewDefinition();return!a?(console.warn("anaplan/view/ColumnSettings#_getCustomRowLabelWidthsByDimension: no view definition"),null):h.getCustomRowLabelWidthsByDimensionMap(a)},_getCustomWidthsByLineItem:function(){var a=this.model;if(!a)return null;a=a.getViewDefinition();return!a?null:h.getCustomWidthsByLineItemMap(a)},_getCustomWidthsByStyle:function(){var a=this.model;if(!a)return null;a=a.getViewDefinition();return!a?null:h.getCustomWidthsByStyleMap(a)},_getLineItemsLabelPage:function(){var a=
this.model;if(!a)return null;a=a.getModuleEntityLongId();if(-1===a)return null;a=s.getModuleInfo(a);return!a?null:a.lineItemsLabelPage},_getRowForNode:function(a){for(var b=null;!b&&(a=a.parentNode);)a&&"TR"===a.nodeName&&(b=a);return b},_getValueAttr:function(){var a=this.model,b,d,e;if(!a)return console.warn("anaplan/view/ColumnSettings#_getValueAttr: no model provided"),null;a=a.getViewDefinition();if(!a)return console.warn("anaplan/view/ColumnSettings#_getValueAttr: no view definition"),null;
b={defaultColumnWidth:f.getDefaultColumnWidth(a.themeId),rowLabelWidth:0,customWidthsByStyle:[],customWidthsByLineItem:[],customRowLabelWidthsByDimension:[],columnHeaderWrapping:this.selectWrapText.get("value")||l.columnHeaderWrapping.NO_WRAP};this.textBoxDefaultColumnSize.isValid()&&(b.defaultColumnWidth=this.textBoxDefaultColumnSize.get("value"));d=h.getCustomRowLabelWidthsByDimensionMap(a);t.forEach(this._rowLabelWidthControls,function(a){var b=a.widget,e=b.get("value");b.isValid()&&isFinite(e)?
d[a.id]=e:delete d[a.id]});for(e in d)d.hasOwnProperty(e)&&b.customRowLabelWidthsByDimension.push({identifier:n.entityLongIdToEntityLongIdIdentifier(e),width:d[e]});this._styleControls.length?t.forEach(this._styleControls,function(a){var d=a.widget,e=d.get("value");d.isValid()&&isFinite(e)&&b.customWidthsByStyle.push({identifier:n.entityLongIdToEntityLongIdIdentifier(a.id),width:e})}):z.exists("columnSizes.customWidthsByStyle",a)&&(b.customWidthsByStyle=z.clone(a.columnSizes.customWidthsByStyle));
this._lineItemControls.length?t.forEach(this._lineItemControls,function(a){var d=a.widget,e=d.get("value");d.isValid()&&isFinite(e)&&b.customWidthsByLineItem.push({identifier:n.entityLongIdToEntityLongIdIdentifier(a.id),width:e})}):z.exists("columnSizes.customWidthsByLineItem",a)&&(b.customWidthsByLineItem=z.clone(a.columnSizes.customWidthsByLineItem));return b},_isHierarchyOnColumns:function(){var a=this.model;if(!a)return!1;a=a.getPageInfo();return!a?!1:p.axisSpecificationContainsHierarchy(a.columnAxisSpecification)},
_isTimeOnColumns:function(){var a=this.model;if(!a)return!1;a=a.getPageInfo();return!a?!1:p.axisSpecificationContainsTime(a.columnAxisSpecification)},_onButtonCancelClick:function(){this.emit("cancel")},_onButtonResetToDefaultClick:function(){var a,b,d;try{(a=this.model)?(b=a.getViewDefinition())?(d=[].concat(this._rowLabelWidthControls,this._styleControls,this._lineItemControls),t.forEach(d,function(a){a.widget.set("value",null)}),this.selectWrapText.set("value",l.columnHeaderWrapping.NO_WRAP),this.textBoxDefaultColumnSize.set("value",
null),this.textBoxDefaultColumnSize.set("value",f.getDefaultColumnWidth(b.themeId))):console.warn("anaplan/view/ColumnSettings#_onButtonResetToDefaultClick: no view definition"):console.warn("anaplan/view/ColumnSettings#_onButtonResetToDefaultClick: no model provided")}catch(e){m.showErrorReporter(new q.ClientException("anaplan/view/ColumnSettings#_onButtonResetToDefaultClick",e))}},_onButtonOkClick:function(){this._applyColumnSettings()},_onColumnSettingsKeyDown:function(a){a.keyCode===B.ENTER&&
this._applyColumnSettings()},_onMouseUp:function(a){("mouseup"!==a.type||C.isLeft(a))&&this._moveHandle.pause()},_onRowPress:function(a){var e=a.target,f=this._getRowForNode(e);if(f&&(f=L(".dijitTextBox",f),f.length&&(f=b.byNode(f[0]))))e=b.getEnclosingWidget(e),(!e||!e.isInstanceOf(d))&&v.stop(a),f.focus()},_onSelectWrapTextFocus:function(){this._showFocusedRow(this.selectWrapText)},_onSizeGuideMouseDown:function(a){if("mousedown"!==a.type||C.isLeft(a))this._moveHandle.resume(),this._setColumnSizeViaSizeGuide(a),
v.stop(a)},_onSizeGuideMouseMove:function(a){this._setColumnSizeViaSizeGuide(a)},_setColumnSizeViaSizeGuide:function(a){var b=null;this._focusedTextBox&&(b=A.position(this.sizeGuide,!0),a=a.pageX-b.x,b=Math.floor(a-10),b=b<this.minColumnWidth?this.minColumnWidth:b>this.maxColumnWidth?this.maxColumnWidth:10*Math.round(b/10),this._focusedTextBox.set("value",b));this._setSizeGuidePosition(b)},_setSizeGuidePosition:function(a){isNaN(G.parse(a))?(this.sizePosition.style.visibility="hidden",this.sizeGuide.setAttribute("aria-valuenow",
void 0),this.sizeGuide.setAttribute("aria-valuetext","no field selected")):(this.sizePosition.style.left=a+4+"px",this.sizePosition.style.visibility="visible",this.sizeGuide.setAttribute("aria-valuenow",a),this.sizeGuide.setAttribute("aria-valuetext",a+" pixels"))},_showFocusedRow:function(a){this._focusedTextBox=a.isInstanceOf(r)?a:null;L(".focusedRow",this.domNode).forEach(function(a){w.toggle(a,"focusedRow",!1)});w.toggle(this._getRowForNode(a.domNode),"focusedRow",!0);this._setSizeGuidePosition(this._focusedTextBox?
this._focusedTextBox.get("value"):null)}})})},"anaplan/widgets/FloatingWindow/_Mover":function(){define(["dojo/dnd/Mover","dojo/dnd/autoscroll","dojo/_base/declare","dojo/_base/event"],function(l,s,p,q){return p(l,{onMouseMove:function(f){s.autoScroll(f);var k=this.marginBox,l=f.touches?f.touches[0]:f,m=Math.max(k.l+l.pageX,0),k=Math.max(k.t+l.pageY,0);this.host.onMove(this,{l:m,t:k},f);q.stop(f)}})})},"anaplan/data/Aggregator/TxidProvider":function(){define(["dojo/_base/lang"],function(l){var s=
null,p={getTxid:function(){return s},setTxid:function(l){s=l}};l.setObject("anaplan.data.Aggregator.TxidProvider",p);return p})},"anaplan/charts/MapShapes":function(){define([],function(){return{CANADA_SHAPES:{"ca-ab":"M225,792C183,781,188,783,185,777L183,772,185,764C187,755,186,752,184,748,183,746,181,742,179,738,177,734,175,728,174,726,173,723,171,719,170,717,169,715,167,713,167,711,167,709,166,707,164,706,163,704,162,703,162,702,162,702,161,700,160,699,160,698,159,695,158,692,158,688,157,685,156,684,154,682,153,680,153,679,152,678,151,676,149,675,147,673,146,670,147,669,148,669,148,667,148,664,148,660,153,646,188,550L191,542,208,547C218,550,232,555,240,557,248,560,263,564,272,567,282,569,289,572,289,572,290,572,287,584,286,584,286,585,285,585,284,585,282,586,273,594,273,595,273,596,275,597,276,598,279,599,279,599,281,597,282,596,284,595,284,594,284,593,285,593,285,593,285,593,284,599,282,606,278,623,274,640,268,665,265,676,262,688,261,693,256,714,252,734,249,744,236,799,237,795,236,795,236,795,231,793,225,792z",
"ca-bc":"M4,634C1,626,0,618,1,605,1,598,1,594,2,593,3,592,3,591,3,590,3,588,6,588,9,591,13,593,18,598,18,599,18,600,15,603,11,607,3,616,3,616,6,628,7,632,8,636,8,636,8,639,6,638,4,634zM183,781C182,780,166,775,154,771,149,770,104,753,85,746,82,745,78,743,77,743,74,742,73,741,73,737,73,735,73,734,72,733,67,729,66,727,66,726,66,725,65,724,65,724,63,724,60,720,60,716,59,711,56,706,52,701,48,697,48,697,48,693,49,690,48,689,47,689,47,689,46,689,46,689,46,688,44,687,42,686,40,685,38,683,38,683,38,682,38,681,38,680,38,678,37,677,38,668,38,661,38,661,40,659,42,657,42,657,42,655,41,653,41,651,41,649,41,647,40,645,38,642,35,638,35,637,35,635,35,633,36,631,37,631,39,629,39,628,36,623,34,620,34,618,34,609,34,600,34,599,36,597,37,596,40,595,42,594,48,592,52,588,52,585,52,582,54,578,57,575,59,572,59,572,59,567,59,563,59,562,57,560,54,558,50,549,48,544,48,541,48,540,50,532,52,524,52,523,51,519,51,516,50,511,50,507,49,503,49,499,49,498,49,497,48,495,48,493,48,492,47,486,45,481,44,475,43,470,43,469,42,468,41,467,39,466,34,464,33,464,32,466,31,468,29,469,26,471,23,471,20,473,18,474,16,474,15,475,15,475,14,475,15,474,15,473,16,469,15,459,14,457,12,455,13,447,14,448,15,448,23,453,32,459,56,475,83,491,96,498,103,501,108,504,109,505,111,506,135,518,144,522,149,525,162,530,171,534,180,537,188,540,188,541,188,541,188,542,188,543,187,544,183,555,179,568,174,580,169,594,168,599,150,648,146,659,146,663,146,665,145,668,145,669,143,671,144,674,147,676,150,679,155,687,156,693,156,696,157,698,158,701,160,703,161,705,161,705,161,705,161,707,162,708,163,709,165,711,165,713,166,716,167,717,167,718,168,718,171,725,172,728,172,729,175,735,178,741,181,748,183,753,183,755,183,756,183,761,182,765,181,772,181,775,183,778,184,780,184,781,183,781zM59,751C54,748,47,738,47,735,47,733,46,732,45,732,42,731,41,728,40,723,39,722,38,719,37,718,36,716,35,714,34,712,33,710,31,706,30,703,28,700,26,696,26,693,25,690,24,687,23,685,22,683,23,683,25,681,26,680,28,679,29,679,30,679,35,683,42,692,45,695,47,698,47,698,48,698,49,700,51,702,52,704,54,706,54,706,55,707,57,714,58,719,58,723,59,724,62,729,66,735,67,735,68,742,68,744,69,747,69,749,70,751,70,752,70,752,69,754,62,753,59,751z",
"ca-mb":"M376,588,375,593C375,595,374,598,374,599,374,599,374,602,373,604,373,607,373,609,373,610,373,610,372,615,371,621,370,630,370,631,371,633,372,635,372,636,370,638,369,640,368,642,367,642,367,643,366,648,366,654,365,659,365,665,365,667,365,669,364,673,364,677,364,681,363,686,363,689,363,699,362,704,362,710,361,713,361,718,361,720,361,722,360,727,360,732,360,736,360,741,359,742,359,744,359,749,359,754,358,758,358,763,358,765,358,766,357,771,357,776,357,781,356,786,356,786,356,789,355,806,355,811L355,816,359,817C367,818,374,818,376,819,377,819,380,819,382,819,387,820,389,820,396,821,399,821,404,822,408,822,412,822,419,823,423,823L431,823,432,819C432,817,432,811,433,806,433,801,433,794,433,791,434,788,434,781,434,774,435,752,435,750,437,747,438,745,444,739,449,733,455,726,461,720,463,718,465,715,467,713,468,713,475,704,479,700,483,695,485,692,490,687,493,684,496,680,500,676,501,675,502,673,505,670,508,667,510,665,512,663,512,662,512,661,507,660,504,659,499,658,497,658,496,656,495,655,494,655,491,655,488,655,486,656,485,656,485,657,476,658,474,658,473,657,473,657,473,655,474,654,474,653,472,642,470,635,470,633,469,628,468,624,466,622,458,620,453,619,451,619,451,617,450,615,450,609,451,601L451,596,447,596C445,596,443,596,442,595,442,595,439,595,436,595,433,594,430,594,429,594,428,594,425,593,423,593,420,593,416,592,416,592,415,592,412,592,409,592,407,591,402,591,398,590,395,590,390,589,387,589,385,589,381,589,379,588L376,588zM398,722C401,722,403,723,404,726,405,728,406,729,406,730,408,731,412,740,411,741,410,742,412,746,413,749,414,750,414,752,414,755,414,759,417,769,419,773,420,775,420,777,421,783,421,790,421,790,419,790,418,790,416,791,416,792,414,794,413,795,411,793,410,792,410,786,412,784,412,783,413,781,413,780,413,779,414,777,414,777,416,775,416,773,414,772,413,771,413,771,412,772,411,774,409,775,409,773,409,773,409,771,410,770,412,764,408,759,404,761,402,761,401,761,400,760,399,759,398,756,397,754,396,752,395,750,394,748,392,746,392,745,392,743,393,741,392,741,389,739,384,736,382,737,381,742,381,743,381,747,381,749,380,759,380,759,384,762,390,767,391,768,392,773,393,775,393,779,393,780,393,782,394,785,395,787,398,792,398,796,395,797,393,798,392,797,391,796,391,796,389,786,387,777,386,772,385,771,380,767,375,765,373,762,373,761,374,760,374,759,374,758,374,758,374,757,375,756,376,755,376,753,376,750,376,745,376,745,373,743,370,741,368,739,368,736,368,735,369,734,370,734,373,734,374,732,372,729,371,728,371,727,371,727,371,726,374,724,376,724,378,724,382,728,382,730,382,730,383,732,384,733L386,734,387,731C389,727,392,723,394,722,396,722,397,722,398,722z",
"ca-nb":"M824,861C822,860,820,858,819,855,818,854,817,852,816,852,813,851,808,838,808,831,808,828,808,827,806,826,803,823,799,821,797,821L794,821,794,816C794,813,794,811,794,810,794,810,796,810,799,810,805,810,808,809,811,806,813,804,816,803,819,802,825,800,825,800,828,802,831,803,831,803,832,801,836,798,845,795,845,798,845,798,844,799,843,800,842,803,842,810,844,812,845,813,845,815,846,817,846,818,848,821,850,823,853,826,854,826,858,826,861,826,863,826,863,827,864,827,862,829,860,831,858,833,855,837,854,839,851,845,842,855,839,855,837,855,836,855,835,857,834,860,829,862,824,861z",
"ca-nl":"M814,719C814,719,813,719,811,718,809,718,807,717,806,717,805,716,804,715,800,716,795,716,794,716,794,713,793,708,793,707,793,707,793,706,792,705,791,704,790,703,790,703,788,705,786,706,784,706,783,706,781,706,779,704,780,703,781,702,781,698,780,695,780,694,779,693,777,692,771,690,765,680,767,677,767,676,768,675,768,675,769,675,771,672,771,669,771,669,772,667,773,667,774,666,775,664,775,663,776,661,776,661,779,662,781,662,784,663,785,664,787,666,790,665,792,663,794,660,794,660,798,661,800,661,802,661,803,661,804,661,804,662,804,664,804,665,803,667,803,667,800,669,797,672,797,673,797,673,795,675,794,676,791,677,791,678,793,680,795,682,800,681,801,679,803,677,807,675,810,676,813,677,816,676,818,672,819,669,819,665,818,664,818,664,817,664,816,665,815,666,813,667,812,667,806,667,805,665,809,658,810,656,811,653,811,652,811,650,809,644,807,643,806,642,806,641,806,640,806,638,802,631,799,629,798,628,797,626,796,624,796,622,795,618,795,615,794,612,794,608,794,605,794,599,792,596,789,595,788,595,786,594,785,593,782,592,782,589,784,587,784,585,784,584,784,583,783,581,783,581,784,576,785,574,784,574,777,574,776,574,774,574,775,574,775,573,775,571,774,568,773,563,772,562,771,562,770,562,769,561,769,560,767,558,764,547,765,546,766,545,775,553,778,558,780,560,782,562,782,562,783,562,785,563,785,565,786,566,788,568,790,568,791,570,793,571,794,574,795,576,796,578,797,578,798,578,799,579,800,580,801,583,802,583,805,584,808,584,808,585,810,587,811,589,812,592,812,594,812,597,813,597,816,598,818,598,820,600,821,600,822,602,822,602,821,606,820,609,820,610,821,611,821,612,822,614,822,615,823,617,824,618,831,620,836,622,840,623,841,623,842,621,844,624,845,626L848,629,855,630C859,630,863,631,865,631,868,632,870,632,872,630,873,629,875,629,879,630,882,631,885,632,885,633,886,634,885,637,883,638,882,638,879,641,876,643,874,646,871,649,870,651,869,652,866,655,864,657,860,661,858,666,860,666,862,667,870,658,871,656,871,654,873,651,877,647,883,641,883,640,886,640,888,640,889,641,891,643,892,645,893,645,894,645,898,644,902,644,904,645,905,646,908,648,910,650,913,651,915,652,915,652,915,652,915,653,915,654,913,657,915,662,918,665,921,668,924,673,924,675,924,676,919,685,916,687L914,690,910,686C909,684,907,682,907,681,906,681,905,681,903,682,901,683,898,684,896,684,894,685,890,686,886,688,883,689,877,691,872,693,868,695,862,697,860,698,853,701,836,706,833,707,831,707,829,707,826,705,823,704,821,704,821,704,820,704,820,706,820,707,820,711,819,718,819,719,818,719,814,719,814,719zM911,775C909,772,909,769,911,766,913,763,914,759,912,758,910,757,910,756,912,752,913,750,913,749,913,743,912,732,912,719,913,707,914,706,914,702,914,699,915,692,916,689,922,685,925,683,926,682,927,683,930,685,930,688,930,698,930,703,929,707,929,708,929,708,929,710,928,713L928,718,930,715C931,714,932,713,932,712,932,711,935,711,938,712,941,713,941,713,940,717L940,720,944,720C946,720,948,719,948,719,949,718,951,718,953,717,955,717,958,715,960,714,964,713,968,712,971,714,972,715,973,719,972,721,971,722,971,723,973,724,974,726,975,726,978,725,983,724,984,725,984,727,984,729,982,732,980,735,979,735,979,736,979,736,980,736,980,737,980,739,980,740,980,742,981,742,981,744,982,744,982,743,982,741,986,737,987,737,988,737,989,738,989,740,991,743,992,744,995,741,996,740,997,740,998,740,998,740,998,743,999,746,999,749,999,752,999,754,999,758,996,763,993,763,991,763,990,763,989,761,988,759,988,759,986,761,984,765,982,763,981,754,981,748,980,746,978,746,978,746,978,747,978,749,978,751,977,752,975,755,972,757,971,758,971,763,970,771,968,773,962,773,957,773,956,772,960,768,962,766,963,765,963,762,963,759,963,759,961,760,958,762,955,762,954,762,953,761,952,761,944,766,942,767,939,769,937,769,936,769,934,770,933,770,931,770,926,772,922,773,918,775,914,777,913,777,913,777,912,776,911,775z",
"ca-ns":"M903,827C902,826,900,824,898,822,895,819,894,817,895,817,895,816,897,812,898,808,901,800,903,795,905,795,906,795,908,798,908,801,908,806,908,807,911,808,913,808,917,812,917,814,917,815,916,817,915,819,913,822,912,823,910,823,909,823,908,824,907,825,905,828,905,828,903,827zM851,886C846,885,844,882,842,876,841,873,841,871,841,869,843,866,848,859,851,855,853,853,855,851,855,850,856,850,857,849,858,848,860,848,867,843,867,842,867,841,864,843,860,845,852,849,853,843,861,834,865,830,866,829,868,829,875,829,884,828,886,826,888,825,890,825,890,825,891,825,893,826,895,826,899,826,903,828,904,830,905,832,905,833,900,837,897,840,894,843,894,844,891,847,884,852,882,852,881,852,880,854,878,857,876,860,876,860,874,860,872,860,871,860,870,862,870,863,870,864,870,864,870,865,868,868,867,871,865,875,864,878,860,882,857,884,855,887,855,887,854,887,853,886,851,886z",
"ca-nt":"M387,142C387,142,386,141,385,141,383,140,382,139,381,138,380,137,379,137,378,137,376,137,375,137,375,137,374,135,380,130,382,131,382,131,383,131,384,130,385,130,391,130,391,131,392,131,389,143,388,143,387,143,387,143,387,142zM373,165C371,164,370,163,368,159,368,157,367,155,367,154,367,153,366,153,365,152,361,149,359,142,363,142,364,142,367,144,367,146,367,147,367,147,369,146,373,146,386,145,387,145,388,146,388,147,388,149,387,151,387,153,387,154,385,160,384,163,383,164,381,166,377,166,373,165zM313,186C312,185,312,184,312,183,312,181,311,181,307,181,300,181,298,178,302,172,303,170,304,170,307,169,309,168,312,167,314,166,316,165,318,164,319,164,319,164,322,162,325,159,332,153,333,152,339,152,342,152,345,152,346,152,348,152,352,153,352,155,354,159,352,163,348,165,348,166,347,167,347,170,346,174,346,174,343,176,341,177,339,179,339,179,338,181,335,182,334,181,332,180,332,174,334,173,335,172,336,171,336,171,336,170,333,172,325,180,318,188,315,189,313,186zM320,199C319,199,318,197,318,196,317,192,318,190,324,188,330,185,331,185,332,187,334,188,333,190,330,193,329,194,326,196,325,197,323,199,322,200,322,200,321,200,321,199,320,199zM344,234C342,232,340,229,340,228,340,227,343,225,348,224,356,222,358,219,352,219,350,219,348,219,347,218,346,216,346,216,344,217,343,219,338,219,336,218,334,217,326,208,326,206,325,204,327,201,329,201,330,201,330,201,330,201,331,198,331,197,333,195,334,194,335,192,335,191,335,189,339,184,341,184,342,184,343,183,344,182,345,181,346,180,349,180,354,180,357,182,357,186,357,188,357,189,360,191,364,193,365,197,366,203,366,209,367,211,371,211,374,211,375,211,372,222,370,229,369,232,368,232,368,232,365,233,363,235,359,238,358,238,353,238L348,238,344,234zM254,292C253,292,253,288,252,284,252,278,251,277,247,270,245,267,243,263,243,262,243,261,245,259,248,257,249,256,252,253,254,249,256,245,259,241,260,241,260,240,264,236,267,231,272,224,273,223,273,219,273,217,273,214,273,214,272,212,275,210,276,210,276,210,278,211,280,211,281,211,285,212,287,213,289,214,292,215,294,215,297,216,298,216,298,219,299,220,301,223,303,225,308,230,308,230,312,229,318,229,319,230,323,241,327,255,327,257,315,260,310,261,304,263,303,265,303,265,302,266,300,266,299,267,297,268,296,269,295,270,292,273,289,275,285,278,283,280,281,284,279,287,277,290,276,290,275,291,275,291,275,291,275,291,274,291,268,292,267,292,263,293,260,293,255,293,254,293,254,292zM331,343C325,341,316,339,311,337,306,336,299,334,296,333,290,331,290,331,292,330,294,330,299,330,303,330,310,331,313,331,315,332,319,334,329,337,329,336,329,336,327,334,325,332,320,327,316,325,313,325,310,325,298,322,293,320,289,318,289,318,287,314,287,311,286,309,286,308,286,307,290,306,300,303L303,302,301,302C299,301,297,301,296,301,293,300,291,297,292,295,292,294,292,294,291,293,291,293,289,292,289,290,287,288,288,285,291,281,294,278,295,276,295,274,295,270,307,264,318,261,322,260,328,259,330,259,333,259,333,259,334,261,335,264,334,268,332,273,331,275,330,276,330,276,331,277,333,276,334,274L338,271,343,274C346,275,349,277,350,278L352,280,350,284,348,287,352,287C353,286,355,286,355,285,356,285,355,283,355,281,354,280,354,278,354,278,357,276,358,275,359,276,359,276,342,345,341,345,341,346,336,344,331,343zM157,283C155,283,154,283,151,284,147,284,143,285,142,285,141,285,141,286,142,289,142,294,141,295,139,292,138,291,138,290,137,290,136,290,125,310,122,317,121,321,120,325,119,325,117,328,118,329,123,332,134,340,134,341,129,350,128,353,126,357,126,359,126,362,126,362,129,365,130,366,132,367,131,368,131,368,131,370,131,373,131,378,130,379,127,380,124,380,123,382,123,385,123,386,123,387,123,387,122,387,122,388,121,389,121,391,121,392,122,393,124,394,124,396,124,398,124,400,125,403,126,405,127,408,128,410,127,412,127,414,127,415,129,417,130,420,130,421,129,425,127,431,125,442,124,448,124,451,124,454,124,455,123,456,124,458,125,459,127,461,128,464,129,470,131,475,132,478,134,480L136,482,134,484C133,485,133,487,133,489,133,490,132,492,132,493,131,494,131,495,136,497,139,498,142,500,144,501,146,503,147,503,149,503,153,502,152,501,152,514L152,524,161,527C189,538,222,549,253,558,262,561,275,565,281,567,287,568,294,570,295,570,296,571,302,572,309,573,315,575,321,576,323,576,324,576,328,577,333,578,337,579,342,580,343,580,344,580,350,581,356,583,369,585,373,585,373,584,373,583,373,582,373,581,374,581,374,577,374,573,374,570,375,566,375,565,375,564,375,560,376,558,376,550,378,537,378,533,378,532,379,528,379,524,379,520,380,516,380,516,380,515,380,511,380,508,381,504,381,498,382,495,382,491,382,488,382,488,382,487,377,484,370,481,358,474,344,467,335,462L328,458,323,451,318,443,309,441,300,439,293,429C289,423,282,414,278,409,274,404,267,393,261,386,256,378,251,371,250,370,249,369,249,368,252,361,261,336,261,336,257,330,255,328,254,326,254,326,254,325,254,325,253,325,253,325,251,324,250,324,249,323,247,322,245,322,242,321,241,322,239,324,236,326,235,326,233,326,231,325,231,324,234,321,235,320,236,319,235,318,235,318,235,316,235,314,235,307,234,307,227,314,224,317,221,320,221,320,220,320,218,317,218,316,218,316,218,311,217,306,217,296,217,296,215,295,213,293,211,294,209,295,207,297,206,297,203,297,201,297,200,296,200,296,201,295,201,294,201,293,202,291,201,290,198,289,194,287,189,287,184,288,183,288,178,289,174,289,168,289,165,290,165,290,165,291,163,292,162,292,160,292,160,291,160,288,160,284,160,283,157,283zM221,392C241,392,243,393,243,396,243,397,241,399,239,400,237,402,236,404,236,404,237,405,248,409,253,411,257,412,257,412,257,415,256,417,255,419,254,419,253,419,252,420,250,421L247,423,243,421C240,420,237,419,237,418,235,417,233,418,232,424,230,428,230,429,224,431,221,432,219,432,218,432,217,432,217,430,220,428,224,422,224,422,221,422,220,422,218,423,217,424,213,427,210,428,206,426,205,425,203,423,203,422,202,420,202,420,207,415,210,412,214,409,216,408,218,407,220,406,220,405,221,403,217,400,214,400,212,400,209,400,206,399,202,397,201,397,201,395,200,394,201,393,201,393,202,392,211,392,221,392zM248,492C248,492,249,494,251,496,252,498,255,501,256,502,260,506,263,509,265,512,267,515,268,515,272,517,277,518,278,518,282,517,285,516,287,515,288,513,291,510,293,509,298,508,303,508,303,508,302,510,302,514,299,517,296,518,294,518,291,520,290,522,288,524,284,526,281,527,278,529,275,530,273,531,271,532,269,533,268,533,267,532,266,533,264,534,262,535,260,537,258,538,257,538,254,539,253,539,239,538,238,537,231,531,225,525,225,523,231,523,233,523,236,524,237,524,239,525,241,524,244,521,246,520,247,519,249,519,253,520,255,519,255,516,255,514,252,505,249,499,247,495,246,492,248,492z",
"ca-nu":"M451,108C448,105,446,102,447,101,447,98,448,97,451,97,452,97,453,98,455,100,457,104,458,105,456,107,454,109,453,109,451,108zM392,141C392,140,393,138,393,136,393,135,394,133,394,133,395,133,394,141,393,142,392,143,392,143,392,141zM488,154C487,152,485,150,485,149,484,148,483,146,482,145,479,142,477,136,477,133,477,130,480,127,483,127,485,127,487,125,487,123,487,123,484,121,482,121,482,121,480,121,478,121,473,122,471,122,470,119,469,118,469,117,470,115,471,114,471,113,470,113,470,113,469,113,468,112,466,110,466,106,467,102,468,100,468,100,471,100,474,100,474,100,474,98,473,97,472,96,471,95,469,93,469,92,469,90,470,87,471,86,474,85,479,85,479,84,475,80L473,77,474,74C475,73,477,71,478,70,480,69,480,68,481,66,481,63,481,63,484,63,486,63,491,65,492,67,494,71,496,76,496,77,496,78,499,83,503,87,505,90,506,91,506,93,506,95,507,96,510,100,513,103,514,104,514,107,514,110,514,111,522,117,524,119,525,120,525,123,525,126,524,127,520,133,518,136,515,139,514,140,512,140,512,141,512,143,512,144,510,146,509,148,505,153,505,153,502,152,500,151,500,152,500,154,499,156,499,156,495,157,492,157,491,157,488,154zM444,162C443,161,441,159,439,157,434,152,432,150,427,151,423,151,423,150,420,148,418,146,418,143,419,140,419,140,420,139,421,139,422,139,423,138,424,137,425,136,425,136,424,133,424,131,422,129,421,128,416,124,418,117,424,117,428,117,432,120,432,123,432,124,433,125,435,125,437,126,441,129,442,132,443,134,445,136,445,137,448,140,448,141,447,145,446,149,446,150,449,153,450,155,451,156,451,157,451,159,449,162,447,163,446,164,445,164,444,162zM460,163C458,162,457,160,457,158,458,157,457,155,455,154,453,150,452,149,453,144,453,140,455,137,458,138,459,138,462,140,464,141,467,143,469,144,470,144,471,144,472,149,472,154L472,159,468,162C464,165,464,165,460,163zM467,176C462,174,461,171,465,167,469,164,473,164,477,166,481,169,481,172,477,176,475,178,471,178,467,176zM410,178C408,175,407,172,409,168,410,165,411,165,413,168,416,172,416,177,413,179,412,179,412,179,410,178zM556,207C555,206,555,205,555,204,556,204,555,202,552,201,550,200,550,200,548,202,547,203,546,204,545,203,544,203,542,202,541,202,540,202,538,201,537,200,536,198,536,198,535,199,534,199,533,201,533,202,533,205,531,206,528,205,526,205,521,205,516,205,507,205,506,204,504,203,502,202,502,201,502,197,501,194,502,192,503,190,504,187,509,183,511,183,514,183,515,181,512,178,508,174,507,170,509,166,510,163,511,163,515,163,520,163,523,165,524,170,525,171,526,173,527,174,528,176,529,176,530,176,532,175,532,174,528,171,526,169,524,167,524,165,523,163,523,163,525,160L527,158,522,158C515,158,513,156,513,152,513,151,514,148,515,147,516,145,516,143,516,143,515,142,518,138,523,136L528,133,533,136C540,139,539,139,539,138,539,137,540,136,540,136,540,135,540,134,540,134,539,134,538,134,537,134,534,134,528,128,527,122,526,120,524,117,523,115,521,113,520,111,520,111,520,111,519,110,519,110,516,109,516,106,516,100,517,93,518,92,523,93,528,93,529,94,535,102,538,105,540,108,540,108,541,107,539,102,536,99,532,95,533,92,537,90,539,89,541,88,543,87,545,85,547,84,548,84,548,84,549,84,549,83,549,82,550,80,552,78L555,75,553,73C552,71,551,70,551,69,551,68,550,69,549,71,545,81,541,84,535,84,533,84,529,85,527,85,521,87,518,86,518,82,518,80,518,78,519,76,520,75,520,74,520,74,519,74,516,77,516,78,516,79,515,80,514,81,513,82,512,83,510,82,505,81,501,76,503,74,504,73,504,73,502,73,501,73,500,73,500,73,499,72,498,70,498,67,498,65,498,64,501,62,504,59,504,58,503,58,502,58,501,57,500,56,499,56,498,55,497,55,490,55,492,48,499,45,501,44,503,42,505,41,507,38,508,38,511,38,514,38,514,38,514,36,513,34,514,34,515,32,517,31,518,29,518,29,518,27,519,25,521,26,522,26,523,26,524,26,524,26,526,27,527,28,530,30,531,30,531,26,531,25,532,22,534,20,535,18,536,16,536,15,536,14,538,12,540,10,542,8,543,7,545,8,546,8,547,8,547,6,548,3,552,2,555,2,560,3,562,3,566,1,570,-1,576,-1,578,0,579,0,581,0,584,-1,587,-2,589,-2,590,-1,591,-1,594,-1,596,-1,602,-1,604,-1,605,2,606,4,608,6,611,6,615,7,616,8,617,12,618,16,618,21,616,27,615,31,614,32,612,34,610,35,609,36,608,36,607,36,603,41,601,46,600,48,599,50,599,50,599,51,603,47,603,46,604,44,605,43,607,42,608,41,609,40,609,40,609,39,613,39,613,40,613,41,614,43,614,45,614,49,613,50,612,52,609,57,606,62,607,63,607,63,605,67,603,72,601,77,599,81,599,82,598,85,596,93,596,97,596,101,592,105,588,105,586,104,586,105,585,107,585,108,584,110,583,111,581,113,575,116,574,115,574,115,573,116,573,116,571,118,571,118,573,119,575,121,575,124,573,126,572,127,572,127,573,127,574,127,575,128,575,128,575,128,576,128,577,128,578,128,580,129,581,130,584,134,584,139,582,141,580,142,580,143,582,145,583,145,584,147,584,148,584,148,583,149,582,150,580,150,580,151,580,153,580,156,577,160,573,160L570,160,571,166C571,171,571,172,569,174,564,179,564,179,566,181,566,182,568,184,569,185,571,185,572,186,573,187,574,189,573,193,572,197,568,205,557,211,556,207zM404,231C404,230,404,229,405,227,405,226,406,225,406,225,406,225,407,224,409,224,411,224,411,224,413,227,414,230,414,231,414,232,413,232,411,233,409,233,405,233,405,233,404,231zM383,231C380,229,378,229,375,231,375,232,374,232,373,232,372,231,376,213,378,213,378,214,378,212,378,210,378,204,382,186,384,184,386,180,392,183,390,187,389,188,389,189,390,190,391,192,391,197,389,199,389,199,389,201,389,203,389,206,389,206,391,207,392,207,394,206,396,206,399,205,400,205,401,206,404,209,405,220,402,223,402,224,400,226,399,227,396,233,389,235,383,231zM439,236C436,235,432,231,432,229,432,228,433,226,435,225L437,223,430,223C422,223,420,223,420,218,420,214,419,213,415,210,413,209,411,207,411,207,411,207,412,206,412,204,414,202,414,202,417,203,422,203,424,204,424,205,424,206,425,208,427,210,430,213,431,214,433,214,435,214,435,213,435,211,436,208,435,206,430,204,429,203,428,202,428,201,428,201,430,199,432,197,435,195,437,194,438,195,439,195,442,195,445,195,447,196,450,196,451,197L452,198,452,213C452,221,451,228,451,228,450,229,450,230,450,232,451,236,450,238,446,238,444,238,441,237,439,236zM470,250C468,250,460,244,457,242,456,240,456,238,459,231,462,227,463,226,465,225,469,224,473,224,476,227,478,229,478,229,479,238,479,247,479,247,477,249,475,251,473,251,470,250zM496,253C495,252,492,251,491,251,487,251,486,250,485,244,485,242,485,239,484,238,483,236,483,228,484,227,484,226,485,223,485,221,485,217,484,216,483,214,481,212,480,210,480,209,480,208,479,208,474,207,471,207,468,207,467,206,465,206,458,197,458,194,457,193,458,191,458,190,459,187,461,186,467,187,473,188,477,190,478,194,479,196,481,197,486,196,492,196,495,197,495,201,495,203,496,204,497,204,500,206,501,208,500,212,499,215,499,215,501,218,503,219,504,221,504,222,504,223,504,224,507,224,509,224,513,225,517,226L524,227,528,225C530,224,533,223,533,223,534,223,535,222,537,220,540,218,541,218,547,218,554,218,556,218,562,222,568,226,572,232,569,234,569,235,569,236,569,238,570,240,570,240,569,241,568,242,568,244,567,246,567,248,567,249,563,250,557,253,547,253,546,250,545,249,545,249,544,250,544,250,541,251,540,252,536,254,534,254,524,254,512,255,509,254,508,251,507,249,507,249,504,252,502,254,501,255,500,255,500,255,498,254,496,253zM574,290C570,284,565,273,566,272,566,270,582,270,585,272,590,274,595,280,598,285,599,288,597,289,591,289,588,289,586,289,583,291,578,293,576,293,574,290zM461,316C460,314,459,313,459,311,459,309,459,306,459,305,457,300,458,282,461,276,462,274,463,271,463,270,464,266,466,264,475,263,477,263,479,263,481,264,483,265,485,266,486,266,488,266,493,268,496,270,498,272,498,272,497,275,496,276,495,278,495,278,494,279,493,281,493,282,493,283,492,286,490,288,489,290,487,294,487,296,486,299,485,301,485,301,484,301,482,302,479,302,476,302,474,303,473,303,473,303,472,309,472,314,472,315,468,317,465,317,464,317,463,316,461,316zM429,330C427,329,426,327,426,326,425,318,424,316,416,311,415,310,413,307,412,304,409,300,409,300,410,296,411,294,412,292,413,291,415,290,415,290,419,293,423,296,423,296,425,295,425,294,426,292,427,290,427,288,427,287,426,286,422,282,421,279,422,275,423,271,425,267,427,267,428,267,430,268,433,270,436,272,437,272,438,271,439,269,448,267,450,268,450,269,451,271,451,273,451,276,451,277,449,278,448,278,448,278,449,279,451,281,451,282,447,286,445,288,444,290,444,291,444,291,445,292,446,292,448,293,448,294,448,295,448,296,449,298,450,299,452,303,452,305,453,311,453,316,453,317,451,319,449,323,445,326,443,326,442,326,442,326,442,327,443,328,439,332,436,333,433,333,433,333,429,330zM588,386C587,385,588,385,590,382,591,381,592,379,592,376,593,372,594,369,596,369,597,369,597,371,596,373,596,374,595,376,595,377,596,381,590,388,588,386zM635,407C633,405,631,403,631,401,632,400,638,400,640,402,641,404,641,405,639,406,637,407,636,407,635,407zM613,421C608,416,610,399,616,395,619,394,623,395,626,398,628,400,628,400,628,409,628,418,628,419,622,422,618,424,616,423,613,421zM626,507C625,507,624,507,625,505,625,503,625,503,627,503,629,502,632,505,632,507,631,508,630,508,626,507zM618,516C615,514,614,512,615,511,616,509,618,509,621,511,623,513,624,515,622,517,621,518,621,518,618,516zM731,519C731,519,726,519,720,518,711,518,709,518,707,517,707,516,705,514,703,513,701,511,700,511,697,511,693,512,690,511,682,507,677,505,677,504,676,501,675,499,675,498,676,498,677,497,678,495,676,495,676,495,674,494,672,493,670,491,667,490,666,490,664,489,663,488,662,487,660,484,656,481,652,481,649,480,648,481,646,482,645,483,644,484,641,484,638,484,637,484,635,487L631,490,625,490C614,490,612,488,611,479,610,475,610,475,613,473,614,471,615,470,615,467,615,465,615,464,616,464,617,463,622,463,627,463,635,463,636,463,639,461,642,458,646,457,648,457,649,457,649,456,649,455,648,453,648,451,648,450,648,450,646,449,644,448,641,446,641,445,642,443,642,441,643,439,643,437,644,436,646,432,648,427L652,419,651,414C649,409,645,401,641,398,640,398,639,396,638,394,637,392,634,390,632,389,629,387,628,386,628,384,627,382,627,381,625,382,623,382,622,382,621,383,621,384,619,385,617,386,614,387,613,387,613,386,611,385,612,382,615,379,618,377,618,377,616,376,614,375,613,375,610,376,607,378,606,377,606,374,606,373,606,372,607,371,609,371,609,370,605,367,599,361,595,358,594,358,594,358,593,360,593,361L593,364,585,364C581,364,575,364,572,364,568,364,567,364,567,365,567,366,566,367,561,367,557,367,550,366,546,366,541,366,536,366,535,366,531,367,529,365,527,361,527,359,526,359,524,359,515,360,515,360,512,358,507,354,503,348,503,345,503,343,504,343,507,343,509,342,512,342,513,342,516,342,516,342,515,341,514,340,509,338,506,338,503,338,502,338,502,337,500,334,499,327,499,324,500,308,501,306,504,296,509,282,513,275,517,273,524,269,535,270,537,275,537,277,537,277,534,280,533,282,532,284,531,286,531,288,530,290,530,291,528,293,526,301,527,302,527,302,527,305,527,308,528,315,528,316,530,316,531,316,532,315,532,314,532,312,533,311,534,310,535,309,535,308,534,307,532,305,531,302,531,298,531,295,532,294,533,293,534,293,535,291,535,291,535,290,536,289,536,289,537,289,537,289,537,288,537,285,543,276,546,275,550,273,557,271,560,272,561,273,562,275,567,283,570,289,572,295,572,297,571,299,574,302,576,302,577,302,579,302,581,302,583,301,584,301,583,299,583,297,587,293,593,292,597,291,598,291,600,292,602,293,604,294,605,294,607,294,611,297,611,299,612,302,614,304,616,304,617,304,617,305,618,307,618,309,619,310,619,310,619,310,622,312,624,315,627,318,628,319,629,317,629,317,630,315,630,314,631,311,632,311,639,313,642,314,642,315,644,318,645,320,646,322,648,323,649,324,650,325,651,326,652,329,654,330,657,328,659,326,661,326,666,330,668,332,669,332,668,334,667,340,667,341,668,340,669,340,670,339,670,338,672,335,675,335,679,339,682,343,684,346,684,348,684,352,684,353,687,354,688,355,690,356,691,358L692,360,688,362C686,364,685,364,683,363,681,362,680,363,682,365,683,367,683,370,682,373,681,375,683,377,687,379,689,379,692,380,693,382,695,383,698,384,699,384,701,384,703,384,704,385,705,385,708,385,710,385L715,385,719,389C723,393,723,394,726,394,728,394,730,394,730,394,731,394,732,395,732,396,732,398,733,399,733,400,733,400,736,399,739,398L744,396,747,398C750,400,750,400,750,404,751,409,750,411,748,413,747,415,747,415,748,416,749,417,749,418,748,420,748,421,748,423,748,424,748,428,746,432,743,432,741,432,741,432,742,433,742,436,745,441,746,441,747,442,746,444,743,446,740,447,740,447,737,446,736,445,733,444,731,443,728,442,727,442,724,438,721,434,716,429,714,429,714,429,713,428,712,428,709,424,704,423,704,425,704,425,703,426,702,426L700,427,702,429C704,432,704,435,702,437,700,437,700,438,701,439,701,440,701,440,701,440,701,439,707,442,708,443,709,444,710,446,712,448,715,452,716,452,724,454,727,455,728,455,728,457,728,458,729,459,730,460,731,460,733,462,734,464,735,465,738,469,741,472L747,478,746,489C746,495,746,500,746,500,745,500,731,496,723,493,720,491,715,489,714,488,712,486,710,485,705,486,704,486,705,488,707,488,708,489,709,490,710,492,711,494,713,495,718,497,721,498,727,501,732,504L740,510,740,515,740,519,735,519C733,519,731,519,731,519zM442,402C439,401,436,399,433,396,431,394,430,393,430,393,428,393,424,390,424,389,424,387,437,370,438,370,440,370,447,378,449,382,453,388,455,394,455,397,455,398,454,399,452,401,449,403,446,403,442,402zM544,524C543,524,543,523,543,520,543,518,542,516,542,516,541,515,539,515,536,515,527,515,526,513,531,507,534,504,534,502,534,498,534,483,534,478,537,466,538,462,539,462,541,461,543,461,544,461,546,463,547,464,548,467,549,469,550,472,550,472,552,472,554,472,557,474,561,477,565,479,570,483,573,485,575,486,578,488,578,489,578,490,579,492,580,493,581,495,582,497,582,498,582,499,582,499,586,499,589,498,590,499,593,501,595,502,595,503,595,505,595,509,594,510,591,512,588,514,588,514,585,512,582,511,580,511,578,511,576,511,575,511,574,510,573,509,572,507,572,507,573,505,566,501,564,502,563,503,563,504,563,505,563,508,561,511,559,513,558,514,556,516,555,518,553,521,550,524,549,524,547,525,545,525,544,524zM561,541C560,538,562,530,566,528,569,526,570,525,576,526,579,526,580,526,581,528,582,530,582,531,579,534,576,539,571,542,566,543,563,543,562,543,561,541zM602,550C598,547,598,540,602,535,604,533,606,533,608,536,611,538,609,547,606,550,604,552,604,552,602,550zM445,593C444,593,441,593,438,592,435,592,432,592,431,591,431,591,428,591,425,591,421,590,418,590,418,590,418,590,415,589,413,589,410,589,406,588,404,588,397,587,394,587,385,586,376,585,375,585,376,584,376,584,376,580,377,576,377,572,377,568,377,568,377,567,378,564,378,560,378,556,379,552,379,551,379,550,379,547,380,544,380,537,381,531,381,526,381,525,382,521,382,519,383,505,384,502,384,494,385,492,385,489,385,488,385,486,384,485,379,483,371,478,357,471,345,465,340,462,335,459,333,458,330,457,328,455,322,445L320,440,311,439,302,437,297,431C295,428,286,415,277,403,269,391,259,379,257,375,254,372,252,369,252,368,252,367,262,340,263,339,264,338,271,345,274,349,277,353,282,357,286,359,287,360,288,360,290,359,291,358,292,359,295,361,297,363,299,365,300,366,302,369,305,375,305,377,305,379,303,380,298,381,294,381,291,383,291,384,291,385,291,386,292,388,294,390,295,390,302,393,314,396,316,397,322,396,325,395,328,395,329,394,331,393,331,393,332,395,333,396,336,400,338,403,344,411,346,415,346,418,346,420,346,420,346,419,347,418,347,415,347,410L346,402,355,398C359,396,363,393,363,393,363,391,363,391,360,393,359,393,355,394,353,395,349,396,349,396,347,394,341,391,346,383,354,383,355,382,359,382,361,381,363,380,366,380,367,380,370,380,372,383,372,387,372,388,373,390,373,392,375,395,381,401,383,401,384,401,385,401,386,402,386,402,387,402,388,402,388,402,390,404,392,407L395,412,400,412C402,413,407,413,410,413,412,413,417,414,420,414,423,415,426,416,426,416,426,415,426,415,426,413,426,412,426,409,427,407,428,406,428,403,428,402,428,400,428,400,432,401,436,401,441,403,446,406,449,407,451,408,451,408,451,408,448,419,447,424,446,424,447,425,448,425,449,426,450,427,451,429L452,431,452,429C453,427,452,426,452,424,451,423,450,420,450,417,450,411,451,410,454,410,457,411,462,408,465,405,467,402,467,401,467,397,467,394,467,393,466,391,464,390,463,384,465,383,466,381,462,377,457,376,454,375,453,374,451,370,449,367,448,365,448,361,448,359,449,356,449,355,450,354,450,353,448,349L446,344,447,340C449,336,449,335,452,334,455,332,455,332,455,330,454,328,454,328,456,325,462,317,462,318,465,318,467,319,468,320,468,321,469,322,470,324,472,326,477,330,478,332,478,339,479,346,479,347,483,353,488,361,488,365,484,364,482,363,482,363,483,366,483,367,482,369,482,371,481,374,481,374,483,376,484,377,485,377,487,376,490,375,493,376,499,378,501,379,501,380,501,381,500,381,498,382,496,382,490,383,490,384,494,389,497,394,497,396,497,402,498,405,499,402,499,397,500,389,501,386,504,385L507,384,512,390C516,394,518,396,518,399,520,403,520,406,518,408,517,409,516,411,516,412,516,414,518,419,519,420,519,420,520,422,522,424,523,427,524,428,525,428,526,428,529,426,529,424,530,423,530,420,531,418,531,415,532,412,532,411,533,410,534,406,535,403,536,400,537,396,539,394,542,390,542,388,539,386,538,384,535,375,536,372,537,369,539,368,543,368,546,368,548,368,552,370,554,371,557,372,558,372,559,372,560,374,562,375,563,376,566,378,568,379,571,381,574,384,574,385,574,386,573,386,573,387,571,388,571,388,573,390,574,391,575,394,575,395,575,398,575,398,573,399,572,399,570,400,570,401,569,402,568,403,568,403,565,403,566,404,568,407,569,408,570,410,570,412,571,413,572,415,573,416,579,420,579,428,573,437,567,448,566,449,563,448,561,448,559,447,558,447L556,445,557,448C558,452,558,453,555,452,552,451,551,451,550,452,549,453,548,453,546,452,544,452,543,450,542,449,541,448,540,448,538,448,536,449,534,449,533,450,532,450,532,451,535,453,537,455,537,456,537,459,536,461,535,464,532,467,530,470,528,473,527,474,527,475,527,476,526,476,526,476,526,477,527,478,529,479,530,480,529,483,529,484,529,486,528,488,527,489,526,491,525,492,524,493,522,497,520,500,516,507,515,508,507,508,502,508,500,509,500,513,499,516,499,516,496,516,494,516,492,516,490,515,487,515,487,516,490,518,491,519,493,520,493,520,494,521,494,527,493,529,492,532,489,534,484,534,477,534,478,534,479,536,480,538,480,538,477,541,473,544,469,550,467,555,466,556,464,559,463,560,461,561,459,565,459,567,459,567,458,572,455,577,452,584,451,586,451,589L452,593,448,593C446,593,445,593,445,593zM607,741C603,739,603,738,603,737,603,735,603,735,608,734,612,734,612,734,614,736,617,739,617,742,614,742,613,743,610,742,607,741zM391,388C387,387,381,384,377,380,376,379,373,377,371,377,370,376,368,375,368,374,368,374,368,373,368,372,368,370,365,371,364,372,363,375,359,376,354,377,351,377,349,378,348,378,346,381,342,381,331,381,314,380,309,379,309,377,309,376,309,375,309,373,309,371,308,368,308,365,308,360,306,358,302,357,298,356,288,350,288,347,288,347,288,346,288,346,288,346,287,343,287,339,286,336,285,333,285,333,285,332,285,332,319,342,332,346,343,349,343,349,343,349,347,333,352,314,357,295,361,279,361,278,361,278,363,281,365,285,368,292,368,293,367,300,367,309,368,311,370,309,372,307,372,306,372,301,372,298,371,291,371,286L371,276,373,274C376,271,376,271,379,272,381,272,383,274,384,275,385,277,386,277,384,275,384,274,383,272,382,271,381,267,384,265,389,264,393,263,396,264,399,268,402,272,401,276,396,282L392,287,392,297C392,308,393,315,394,319,395,322,395,323,393,326,392,329,392,331,392,333,393,338,398,344,405,350,413,357,416,362,414,367,413,369,413,369,409,369,406,369,404,368,404,368,403,367,403,367,402,367,400,367,400,370,403,374,407,380,406,384,400,387,397,389,394,389,391,388z",
"ca-on":"M606,964C607,962,608,962,610,961,612,961,614,960,614,960,616,959,616,954,615,953,614,953,614,952,615,951,615,950,616,948,616,947,616,945,617,943,618,943,621,941,623,936,623,933,623,932,623,928,623,924,623,919,623,918,625,913L628,908,627,905C626,903,625,901,624,900,622,899,621,897,623,897,623,897,625,899,628,902,632,906,636,908,640,910,645,911,647,904,644,899,642,896,633,887,631,885,630,885,627,884,624,884,622,883,617,882,615,882,612,881,607,881,599,881,589,881,588,880,587,879,586,878,584,876,582,875,578,874,577,873,577,871,577,870,576,868,575,867,573,865,573,864,574,864,576,863,576,861,574,859,573,858,571,855,571,853,569,850,569,850,566,849,563,849,555,845,553,843,552,842,552,840,552,839,551,837,551,835,551,834L550,831,544,832C538,832,537,832,533,830L529,828,525,830C523,831,522,832,523,833,525,834,524,834,519,838,517,839,513,842,511,844,508,847,508,847,497,846,494,845,488,844,485,844,480,844,475,842,475,841,475,840,474,840,473,840,472,840,470,839,468,837,465,835,465,835,458,835,453,835,451,834,450,834,449,833,447,832,446,832,441,831,441,831,440,825,440,821,440,820,437,819,435,818,435,818,435,813,435,808,436,787,436,780,437,777,437,770,437,763,438,747,436,750,455,730,459,726,464,720,467,717,470,714,473,711,473,711,473,710,478,705,483,699,488,693,494,686,496,684,507,672,512,667,513,665L514,663,517,665C520,666,526,671,526,672,526,673,527,674,528,676,530,678,532,678,535,679,538,680,541,681,542,682,544,684,546,685,550,685,551,685,554,687,556,689L560,693,575,693C587,694,590,694,593,695L596,697,595,704C595,708,594,711,594,711,594,712,594,713,595,714,596,716,596,718,597,720,598,726,598,727,598,729,599,729,599,732,599,734,599,736,599,738,601,741,604,746,613,757,614,757,616,757,621,763,622,767L624,772,629,771,634,771,634,775C635,781,635,784,636,789,636,791,636,794,636,795,637,796,637,799,637,802,637,804,638,807,638,808,638,811,639,817,640,822,640,824,640,827,640,828,641,838,642,844,643,848,643,851,644,855,645,858,647,862,648,864,652,866,657,870,664,872,671,873,675,874,677,874,680,876,682,877,684,878,685,878,686,878,687,880,688,881L690,884,697,884C703,884,705,883,709,881,714,878,718,877,718,878,718,879,718,881,719,883,719,884,719,885,716,887,712,891,708,895,702,903,699,906,696,909,696,909,694,909,691,912,692,913,692,915,686,917,681,917,672,917,658,923,656,928,653,932,653,933,656,935,657,935,659,936,660,935,661,935,662,936,663,938,664,941,664,941,658,941,655,941,647,944,645,947,644,947,644,948,645,949L647,951,645,951C644,951,641,951,640,951,632,949,630,950,621,959,616,965,615,965,613,965,611,966,609,966,607,966L605,966,606,964z",
"ca-pe":"M879,826C879,825,876,825,872,825,869,825,864,824,862,823,857,822,855,822,854,821,851,821,850,820,852,816,853,814,855,812,855,812,856,812,858,814,860,815,863,818,863,819,864,818,865,817,867,817,869,817,871,817,873,816,874,816,877,815,883,813,884,814,884,814,884,815,883,816,883,817,882,820,882,822,882,825,881,827,879,826z","ca-qc":"M849,764C848,764,846,763,845,762,844,762,841,761,839,760,833,759,832,757,836,754,838,753,839,752,843,752,854,752,858,752,865,755,872,757,872,757,872,760,872,763,872,763,863,763,853,764,851,764,849,764zM722,883C722,882,721,880,721,878,720,876,720,875,717,875,714,875,710,877,705,880,704,881,702,881,697,881,692,881,691,881,690,879,689,877,687,876,686,876,686,876,683,875,681,873,678,872,676,871,673,871,666,870,659,868,654,865,651,862,650,861,648,857,646,853,645,849,645,846,645,844,644,840,644,839,644,838,644,833,643,829,643,825,642,821,642,819,642,818,641,815,641,813,641,811,640,800,638,789,637,778,636,768,636,767,635,765,636,765,638,764,640,764,640,764,640,761,639,760,640,758,641,756,642,754,643,752,643,751,643,750,642,746,640,742,638,738,637,734,636,732,636,731,635,728,634,727,633,726,633,724,633,722,633,718,631,713,628,712,627,711,627,710,627,709,627,708,626,706,625,705,624,704,624,702,624,702,624,701,627,697,632,695,634,693,637,691,638,689,640,688,642,685,644,683,646,680,649,677,650,672,653,666,653,664,653,658,653,653,652,650,651,645,650,642,648,638,648,637,647,633,640,626,635,623,629,620,625,615,625,612,624,611,625,609,626,607,626,605,627,603,627,603,627,602,628,601,629,600,630,599,631,598,631,595,631,593,631,591,632,590,634,588,634,588,633,585,632,583,631,581,631,580,631,578,629,574,626,570,625,568,625,567,625,559,625,553,624,550,623,549,623,548,621,545,620,543L618,537,620,533C622,529,622,529,626,529,631,528,636,528,640,529,644,531,650,531,653,530,654,530,656,528,658,526,660,525,662,523,662,523,663,523,679,531,684,535,687,537,688,538,688,540,688,541,689,543,689,544,690,545,691,546,699,547,703,547,708,548,710,549L714,550,714,554C713,558,714,561,717,571,718,573,718,575,718,576,718,577,719,579,720,580,721,581,722,583,723,585L725,589,729,588C732,588,733,588,737,591,739,593,742,595,743,595,744,596,745,596,745,597,745,598,747,597,750,594,753,592,754,590,754,587,754,585,755,584,756,583,757,583,758,581,759,579,760,575,760,567,759,565,758,564,758,563,758,563,758,562,759,560,759,558,760,554,762,551,763,552,763,552,764,553,764,555,765,559,768,565,769,565,770,565,773,572,772,574,772,576,772,577,777,576L781,576,781,581C781,584,781,587,780,589,780,590,780,592,780,593,781,594,785,597,788,598,791,598,791,599,791,608,792,612,792,617,793,619,793,622,794,625,794,626,795,628,796,629,797,631,800,632,803,639,803,642,803,642,804,644,805,644,806,645,807,647,808,649,809,651,809,652,807,655L806,659,802,659C799,658,796,658,795,658,793,657,793,657,791,660,789,663,787,663,785,661,785,661,782,660,779,659,774,658,774,658,773,662,772,663,771,665,770,665,769,666,768,667,768,669,768,670,768,672,766,674,764,676,764,677,764,679,764,681,765,684,765,685,767,688,772,693,775,694,778,696,779,698,777,702,777,705,777,705,779,707,781,709,784,709,788,707,790,707,790,707,790,711,791,714,792,716,793,717,795,719,795,719,799,718,803,718,804,718,805,719,806,720,807,721,808,721,812,721,819,722,820,721,821,721,822,719,822,717,822,713,823,707,823,707,823,707,824,708,826,709,828,710,830,710,832,710,836,709,848,705,861,700,881,692,894,688,898,686,901,686,904,685,904,684,905,684,906,684,906,684,908,686,912,691,912,692,912,692,909,694,907,696,900,701,895,706,895,709,895,711,893,715,891,719,889,723,887,727,887,728,886,730,873,737,865,740,862,740,856,742,850,744,820,753,806,758,803,762,802,763,801,765,801,767,801,770,800,774,799,776,797,781,797,782,795,782,791,782,784,790,781,798,780,800,779,803,777,806,776,808,775,811,774,812,774,819,762,838,755,843,747,850,735,863,736,864,736,864,739,861,743,857,746,853,752,848,754,846,759,842,765,836,768,831,771,827,777,815,777,814,777,813,777,811,778,810,779,808,786,799,789,796,791,795,794,792,796,790,798,788,802,785,805,784,807,782,812,779,815,777,819,774,822,772,826,771,831,770,831,770,836,772,839,773,840,773,842,776,845,781,844,786,840,791,835,796,834,797,829,798,820,799,813,801,810,803,807,806,805,807,799,807,791,807,791,808,791,816L792,822,789,822C787,823,785,823,784,823,782,822,781,823,780,824,779,826,776,837,775,842,775,844,774,847,774,850,773,853,773,857,773,859,772,865,770,870,767,872,765,873,763,875,762,877,761,878,760,879,759,879,758,880,751,881,745,882,738,884,730,885,728,885,724,885,723,885,722,883z",
"ca-sk":"M350,816C349,816,346,815,343,815,340,815,336,814,335,814,334,814,331,814,328,813,325,813,322,813,321,812,320,812,317,812,314,812,311,811,300,809,290,807,279,805,270,803,270,802,266,802,264,801,259,800,257,799,254,799,253,799,252,798,248,798,245,797,240,796,239,795,240,794,240,793,246,768,247,765,247,765,248,760,249,754,251,749,253,739,254,732,256,726,259,713,261,705,263,696,265,688,265,687,265,686,267,681,268,676,269,671,272,660,274,651,276,643,279,632,280,626,281,620,284,610,285,603L288,591,292,592C295,592,298,592,300,592,302,593,307,593,310,592,316,592,316,592,321,594,325,596,327,596,327,594,327,593,311,585,306,584,305,584,303,583,302,583,301,583,299,583,298,582,297,580,294,580,292,581,290,582,290,582,291,576,292,573,292,572,294,573,295,573,300,574,305,575,306,575,308,576,309,576,311,576,344,583,346,583,347,583,352,584,357,585,362,586,368,587,370,587,373,588,373,588,373,590,372,592,371,600,370,607,369,615,368,624,368,626,367,630,366,632,365,632,364,632,359,637,358,639,358,641,358,642,358,644,360,650,360,652,357,655,355,657,355,658,355,659,356,660,356,659,358,658,360,657,361,656,362,656,363,656,363,658,362,674,362,676,361,681,361,685,361,689,360,693,360,695,360,697,360,702,359,707,359,711,359,716,359,717,358,719,358,724,358,728,358,733,357,738,357,739,357,740,357,745,356,750,356,755,356,760,356,761,355,761,355,766,355,772,354,777,354,782,354,783,354,783,353,788,353,793,353,799,352,804,352,805,352,805,352,808,352,811,352,815,351,817,350,816z",
"ca-yt":"M148,522C147,521,144,519,140,518,135,516,119,507,91,492,82,488,50,467,26,452,17,446,13,443,13,442,13,440,16,437,18,435,23,431,20,429,11,429,10,428,9,428,9,427,8,426,8,425,8,425,6,426,3,424,3,423,3,422,4,418,10,410,21,394,41,365,56,342,68,324,84,301,105,269L115,255,117,256C122,258,124,259,124,264,125,267,126,271,127,273,128,275,129,277,129,279,129,281,130,283,133,285,136,287,136,288,135,289,133,291,125,304,123,307,123,309,121,312,120,315,120,317,118,321,117,323,114,329,114,329,122,335,128,339,129,341,129,343,129,344,128,347,127,350,125,353,124,356,123,359,123,363,123,364,126,366,129,368,129,367,128,376,128,377,127,377,126,377,123,378,121,381,121,383,121,384,120,386,119,387,118,390,118,393,120,395,121,396,122,397,121,399,121,401,121,403,123,405,124,406,124,408,124,411,124,414,125,417,126,418,127,421,127,421,126,426,124,433,123,439,122,446,122,450,121,454,121,455,120,457,120,458,122,459,124,462,125,464,127,470,127,472,129,477,130,479,132,482,132,483,131,483,131,483,130,485,130,487,130,489,129,492,129,493,128,496,129,497,136,500,138,501,141,503,143,504,145,505,147,506,148,506L150,506,150,514C150,519,150,522,149,522,149,522,149,522,148,522z"},
EUROPE_SHAPES:{no:"M369,401C369,400,367,400,365,400,363,401,363,401,364,398,365,395,365,394,364,395,362,398,354,392,354,387,354,384,355,382,356,382,358,382,358,381,357,380,357,379,357,376,358,375,362,368,360,364,355,365,352,366,349,367,349,369,349,370,348,370,347,368,345,366,346,364,350,362,355,360,358,345,354,344,352,344,350,344,349,343,347,343,346,342,345,340,344,337,364,333,368,336,369,337,370,335,370,331,370,325,368,324,363,329,360,333,350,333,345,329,343,327,342,321,342,315,342,305,343,304,347,304,350,304,354,303,356,302,359,300,357,299,350,299,342,299,341,299,346,296,349,295,352,293,352,292,352,290,354,290,357,290,360,290,363,290,363,288,364,287,362,286,359,285,355,285,354,284,356,283,358,281,361,282,364,283,369,286,370,279,364,276,362,274,361,273,363,272,365,271,366,271,366,272,366,273,367,272,369,271,371,269,374,269,376,270,378,271,378,270,377,268,376,266,377,262,379,260,382,256,383,256,385,259,387,262,387,262,387,259,387,257,389,256,392,257,398,259,407,251,404,245,404,243,404,242,405,243,406,244,409,241,412,238,417,232,417,232,412,235,409,237,405,241,401,245,397,251,395,252,394,249C392,244,399,228,403,228C405,228,406,226,406,224,407,222,407,220,407,218,407,216,411,212,414,208,418,205,420,202,419,202,417,202,416,199,417,194,418,182,419,179,423,175C425,172,425,171,422,171C419,171,418,170,419,164,422,153,426,147,433,145,440,143,440,143,436,141,431,140,431,139,434,132,437,127,437,125,435,124,430,122,432,118,437,119,440,120,441,120,440,117,439,115,441,113,444,112,448,111,449,110,446,109,444,108,441,108,438,109,436,110,435,111,437,111,438,112,439,113,438,114,437,117,424,115,424,113,424,111,423,109,422,108,420,104,424,99,430,100,432,101,435,101,435,99,435,98,436,98,438,101,441,105,441,105,445,101,447,99,449,96,449,95,449,93,445,88,443,88,442,88,441,86,441,84,441,80,442,80,449,80,453,81,456,80,455,79,454,78,456,73,459,69L464,61,467,68,470,75,471,66C471,60,472,58,477,58,484,59,484,53,477,51,473,50,473,49,475,47,477,46,477,44,477,42,476,40,476,38,478,37,479,36,481,40,480,45,480,46,482,48,485,49,490,52,491,51,491,45,491,34,495,23,499,19,503,15,503,15,505,23,506,27,506,33,505,37C504,40,504,43,506,43C507,43,508,38,508,31,508,25,509,19,511,17,513,14,513,14,513,17,513,19,514,22,515,23,517,24,518,22,517,16,517,10,517,8,521,8,524,7,525,8,525,14,525,19,526,21,528,21,529,20,531,17,531,14,531,10,532,8,537,8,542,8,549,10,553,13C555,15,548,24,545,24C543,24,541,25,541,26,541,29,548,31,555,29,558,29,560,29,560,31,560,32,560,33,558,33,557,33,556,38,555,43L553,53,550,46C546,39,537,31,531,31C530,31,526,34,523,38,518,45,518,47,520,55,521,61,522,68,521,72,520,77,519,78,514,77,510,76,508,77,506,81,502,87,500,87,491,78,483,71,482,71,479,75,478,78,474,81,472,82,468,83,468,84,471,87,475,92,475,103,471,101,465,99,453,107,455,111,456,114,454,116,451,118,443,121,438,133,441,138,445,144,442,167,438,170,435,173,434,176,436,187,437,195,436,204,435,208,433,212,433,215,434,216,435,217,437,220,438,223,439,227,439,228,434,229,425,232,417,247,420,258,421,263,421,268,421,269,421,270,422,274,424,278,426,282,428,288,428,291,428,295,429,299,432,301,437,304,439,316,435,316,434,316,434,320,436,324,439,332,439,334,436,344,434,352,434,357,435,359,438,365,436,368,429,366,424,365,423,363,421,354L419,343,416,350C414,354,414,358,416,361,418,365,416,367,408,376,403,381,396,389,394,393,392,397,388,400,387,400,385,401,381,402,377,402,374,403,370,403,369,401zM503,24C502,22,502,24,502,29,502,33,502,35,503,33,503,30,503,27,503,24z",
fi:"M572,304C572,300,571,299,565,299,557,299,551,292,551,280,551,275,550,270,549,270,548,269,544,263,540,256L534,243,542,227C550,208,558,186,558,180,558,178,560,175,562,173,565,171,564,170,559,165,556,162,553,158,553,157,553,155,553,155,552,155,541,156,539,154,528,131,516,104,512,99,497,91,479,82,479,82,481,77,482,74,483,74,491,81,500,89,502,89,507,83,509,79,512,79,516,80,521,81,522,80,523,73,524,69,523,61,522,55,520,47,520,45,524,39,529,32,532,32,540,37,545,40,549,48,550,56,551,63,558,76,561,76,563,76,568,77,571,79,576,81,577,84,578,95,580,107,581,110,591,120,598,126,602,132,601,133,599,134,600,137,602,142,604,145,606,150,606,151,606,153,608,154,610,154,613,154,615,156,615,158,615,159,618,162,621,164,626,167,627,169,626,174,625,179,626,180,637,185,646,190,649,192,651,200,654,210,654,210,641,254,635,272,635,273,626,274,621,275,617,276,617,277,617,279,614,283,609,288,605,293,601,298,601,299,601,302,591,307,582,308,574,308,572,308,572,304z",
se:"M537,398C536,394,535,391,537,391,538,390,539,387,539,384,540,379,540,379,541,383,541,386,543,389,544,391,545,392,545,395,543,398L540,404,537,398zM472,461C474,457,474,456,469,451,465,448,463,445,465,444,466,443,468,442,468,442,469,440,460,425,458,425,455,425,444,404,444,398,445,386,444,384,439,387,437,388,435,389,434,388,434,387,434,382,433,378,433,374,433,370,434,370,438,370,440,363,437,359,436,357,436,351,438,344,441,336,441,331,440,327,438,324,438,317,439,313,440,306,439,303,435,300,432,298,430,293,430,290,430,287,428,281,426,277,424,274,423,270,424,269,424,268,424,264,422,259,420,253,421,249,424,242,426,237,429,233,431,233,433,233,436,231,438,229,442,227,442,226,439,219,437,214,436,210,438,206,439,203,439,195,438,188,437,179,437,175,440,171,445,166,447,143,444,138,440,132,446,120,453,119,458,118,459,117,457,113,456,107,461,103,471,103,477,103,478,93,473,87,467,81,474,82,493,92,508,99,511,102,515,110,518,115,522,123,524,126,525,129,529,137,532,142,537,153,537,153,532,157,529,161,527,162,523,159,518,157,518,157,520,161,522,164,522,168,521,169,518,174,518,193,521,197,527,204,521,218,503,240,502,241,500,245,500,248,500,251,498,256,497,258,494,264,495,289,500,300,502,305,505,310,508,311,516,314,530,323,530,326,530,327,528,331,526,335,524,338,523,343,524,346,525,350,523,353,518,358,511,365,511,365,513,376,515,383,515,389,513,390,512,392,512,398,513,406,516,423,512,436,502,438,494,440,488,448,491,452,495,456,489,462,479,464,470,466,470,466,472,461z",
is:"M39,230C34,228,28,222,26,218C23,214,21,212,19,212,18,213,14,212,11,211,5,208,5,208,9,206,14,205,14,204,7,191,3,184,0,177,0,177C1,177,6,175,13,178,19,179,25,179,25,178,26,177,25,176,24,176,22,176,22,175,24,172,26,170,25,168,21,165,18,163,13,161,10,161,7,161,5,160,6,159,7,158,9,158,11,158,14,159,15,159,14,156,13,154,13,151,14,150,16,147,17,148,21,152L26,158,25,150C24,140,27,139,32,148,35,154,36,157,34,161,30,167,30,178,33,178,35,178,36,177,37,175,38,173,40,171,42,171,43,171,46,169,47,166,48,161,49,161,51,164,53,167,55,167,59,165,65,162,66,162,67,167,68,171,70,173,72,173,73,173,74,172,73,170,71,166,74,165,77,168,78,169,81,170,85,170,89,171,91,169,93,164,95,159,96,159,97,161,99,163,99,166,98,167,98,167,100,171,104,173,109,177,110,179,108,182,106,186,106,188,110,194,115,202,114,214,108,214,107,214,104,216,101,218,99,221,95,223,91,223,88,223,83,225,81,227,78,230,73,231,66,230,60,230,56,230,55,232,54,236,50,236,39,230z",
pt:"M91,966C80,963,79,962,84,952,86,948,87,945,86,943,84,941,85,937,86,935,89,930,86,925,82,927,78,929,73,918,76,913,77,910,77,907,77,905,76,904,77,902,78,902,81,902,92,884,94,874,95,869,96,859,96,850,96,836,97,835,102,834,105,833,107,834,106,836,105,839,108,840,122,840,137,840,140,841,143,846,149,853,149,853,140,859,133,863,131,867,129,879,124,900,124,900,119,900,113,900,113,901,119,911,122,917,123,918,119,925,117,930,117,934,118,937,120,940,120,942,115,947,112,949,109,954,109,957,109,963,105,969,102,968,102,968,97,967,91,966z",
es:"M138,989C134,985,131,979,131,976,131,971,123,964,116,964,108,964,112,948,121,945,123,944,123,942,121,938,119,933,119,930,122,924,125,918,125,917,121,910,117,904,117,903,121,902,127,900,127,900,131,879,133,871,135,864,135,864,136,864,140,862,143,859,149,854,149,853,147,847,143,839,141,838,122,838,110,837,108,837,109,834,110,831,108,831,103,831,94,833,94,832,97,826,99,823,99,820,95,816,92,813,90,809,90,807,90,803,98,798,104,798,107,798,111,796,113,794,116,791,119,791,123,792,127,793,138,794,147,795,157,796,168,798,172,800,176,802,186,803,194,804,221,805,236,807,240,811,247,817,271,824,281,823,288,822,291,822,295,827,299,832,301,833,317,832,327,832,335,832,336,833,337,835,336,836,335,836,333,836,333,837,335,840,337,844,336,846,331,849,327,851,322,855,319,857,317,859,310,862,304,864,297,867,292,870,288,876,285,881,279,890,274,896,264,910,263,922,272,926L278,929,271,934C263,939,253,955,256,960,257,961,255,962,251,961,246,960,243,962,238,967,234,971,230,976,230,979,229,981,227,982,225,981,223,981,220,981,218,983,216,984,212,984,205,983,200,982,192,981,187,981,177,981,160,988,155,993,150,999,147,998,138,989zM299,924C299,922,300,921,302,921,305,921,305,923,302,925,300,926,299,925,299,924zM332,910C329,909,326,908,325,908,324,909,323,909,323,908,323,904,332,900,337,902,341,903,341,904,339,909,336,913,336,913,332,910zM353,895C355,892,359,892,359,895,359,896,357,898,355,898,353,898,352,896,353,895z",
fr:"M304,826C301,822,297,821,285,821,270,821,248,815,241,809,239,807,239,806,242,804,246,801,252,778,252,764,252,754,252,753,255,755,258,757,259,757,259,754,259,753,257,750,255,748,253,746,252,741,252,737,252,731,250,728,245,725,238,722,234,714,236,710,237,709,235,706,233,704,230,702,228,700,229,699,231,696,203,683,198,685,196,685,195,686,195,685,195,685,194,682,193,680,192,677,193,676,194,678,199,680,198,674,193,669,190,666,190,665,195,664,197,663,201,663,202,664,203,664,207,664,210,662,216,660,218,661,222,665,225,668,228,669,230,667,232,666,237,666,241,666,249,667,249,667,247,661,246,657,245,653,246,651C246,650,246,648,245,648C241,648,242,642,246,640,248,640,249,641,250,644,251,646,253,648,255,647,257,646,261,647,265,648,272,651,279,648,277,643,274,640,280,635,287,633,296,630,302,624,302,614,302,607,303,605,307,603,312,601,314,601,321,608,325,612,332,617,335,619,339,621,342,623,342,625,342,626,344,627,347,627,349,627,355,629,360,632,364,634,371,636,375,636,380,636,383,638,385,641,386,644,390,646,394,646,397,646,404,647,409,647L417,649,413,660C411,667,409,675,409,679,409,684,407,687,403,689,398,691,390,703,390,708,390,709,387,714,384,718,380,723,378,728,379,728,379,729,384,727,388,725,393,722,398,720,400,721,404,722,405,730,402,732,400,733,401,737,402,741,404,747,404,749,402,750,399,752,399,753,401,757,403,760,404,765,404,768,404,772,406,774,412,777,421,780,421,783,410,796,399,809,393,810,375,805,367,802,358,800,355,800,341,800,329,813,332,824,333,827,332,829,330,829,311,830,309,830,304,825zM452,841C442,831,442,826,450,817L457,811,460,819C462,824,463,830,461,838L459,849,452,841z",
gb:"M178,622C175,620,176,620,179,620,181,620,184,618,185,616,186,615,189,612,192,610,195,609,197,606,197,604,197,600,205,596,215,596,222,596,230,591,227,588,226,587,223,587,219,588,216,589,211,587,207,584,203,581,198,579,196,580,193,581,188,578,188,574,188,573,189,572,191,572,193,572,198,569,202,565,210,557,210,549,202,550,198,551,197,550,199,548,200,546,200,543,200,540,199,537,200,536,203,538,210,540,219,539,223,536,225,534,226,528,227,523,228,515,228,513,224,514,221,514,220,512,220,504L219,495,206,495C191,496,190,494,197,487,201,483,201,480,200,475,199,470,200,468,202,468,203,468,204,466,203,465,202,461,192,460,192,463,192,464,191,465,190,465,189,465,188,462,188,458,188,453,188,448,188,445,187,430,190,414,193,412,195,410,197,408,197,406,197,399,203,395,216,394,226,393,228,393,228,397,228,399,224,403,220,406,213,410,212,412,214,414,217,415,217,416,214,417,213,418,211,420,211,422,211,425,212,425,215,421,218,419,222,418,230,419,248,422,248,421,240,437,236,445,232,451,230,451,228,451,228,452,230,454,232,457,232,458,228,459,225,460,224,461,225,463,225,464,228,465,229,464,231,464,237,466,241,471,248,477,249,479,248,485,247,490,248,493,253,498,261,505,272,520,270,520,269,520,271,525,273,531,277,540,278,544,276,548,273,554,275,556,282,552,290,547,301,552,300,560,299,570,294,579,290,580,285,582,285,589,289,592,291,593,293,593,295,592,300,589,295,597,289,602,284,605,279,606,266,607,258,607,249,608,248,608,244,611,230,611,225,609,222,608,219,609,214,614,208,620,207,621,203,618,199,616,197,616,190,619,184,622,180,623,178,622zM169,509C166,503,162,502,160,507,158,512,155,511,152,505,150,501,150,499,156,494,160,490,162,486,161,483,159,479,163,478,165,482,166,483,169,484,172,484,175,484,179,487,183,494L188,504,182,510C174,517,172,517,169,509zM197,514C197,514,198,512,200,512,201,511,202,511,202,513,202,514,201,515,200,515,198,515,197,515,197,514zM177,426C175,421,175,421,179,420,181,419,183,420,184,424,185,431,180,432,177,426zM173,409C170,405,172,402,178,399,184,396,184,399,179,406,176,410,174,411,173,409zM226,385C226,381,232,375,236,375,241,375,240,381,236,381,230,382,229,382,232,384,235,386,234,387,231,388,227,389,226,388,226,385zM254,356C254,354,253,351,252,351,248,350,251,344,258,339,264,334,264,334,263,339,262,341,259,347,258,351,256,356,254,358,254,356z",
dk:"M418,494C415,492,412,492,411,493,409,494,409,491,409,487,409,483,406,472,403,463,396,444,395,436,400,432,403,430,409,424,414,419,425,409,428,410,425,426,423,437,425,442,433,442,437,442,436,443,429,458,420,475,418,485,424,488,426,488,428,491,428,493,428,497,426,497,418,494zM449,489C448,488,448,484,448,479,447,470,451,465,458,465,462,465,459,485,455,487,452,489,449,490,449,489zM431,480C429,479,429,477,431,474,435,468,439,471,436,477,434,480,432,481,431,480zM181,297C178,295,178,294,181,293,186,291,190,294,186,297,185,298,183,298,181,297z",
it:"M588,952C585,950,580,948,576,947,550,940,535,932,540,926,542,925,551,924,559,924,575,924,578,923,582,920,584,918,587,916,589,916,591,916,594,915,596,914,599,910,599,919,596,927,593,932,594,934,598,938,604,944,604,946,599,951,595,955,594,955,588,952zM607,908C608,903,610,897,612,896,616,893,616,892,613,890,610,888,606,881,602,875,597,866,594,863,591,864,588,864,584,862,580,857,576,853,572,850,571,851,569,852,565,849,560,845,555,841,551,839,550,840,549,841,547,840,545,838,543,836,541,836,540,836,539,837,532,834,524,829,516,825,506,819,501,816,491,811,478,797,474,787,471,780,463,771,463,775,463,776,459,774,453,772L444,767,433,777C422,789,419,791,421,783,422,780,421,778,414,775,408,773,406,770,406,766,406,763,405,759,404,758,403,756,403,753,404,750,406,747,406,744,404,740,402,734,402,733,410,730,415,728,422,724,424,721L430,716,438,721,446,726,446,721C446,716,448,715,453,716,457,716,461,717,462,718,466,721,468,719,467,715,467,712,468,709,469,707,471,706,472,702,472,700,471,696,472,696,475,697,478,698,482,697,485,695,493,691,505,691,507,695,508,698,511,698,517,697,526,696,526,696,526,705,526,710,525,715,525,716,525,719,512,727,507,728,503,728,503,741,507,742,510,743,510,744,508,747,503,753,517,770,533,776,536,777,541,783,544,789,550,799,567,813,576,816,579,817,585,816,589,814,596,810,598,811,594,819,592,823,592,824,596,824,598,824,608,826,617,830,626,833,635,836,637,836,643,836,653,846,653,852,653,858,650,858,644,853,642,851,636,848,631,846,624,844,622,844,619,847,617,850,615,855,615,860,615,867,616,869,621,871,624,872,628,876,629,879,632,883,632,885,628,887,626,889,623,890,621,890,620,890,620,893,621,897,622,900,622,904,621,904,619,905,617,908,616,910,614,913,612,916,610,916,606,917,606,915,607,908zM453,910C452,908,451,900,450,894,449,888,447,879,445,876,441,868,441,867,445,867,447,867,451,864,453,861,464,847,473,859,473,888,473,905,472,906,468,905,465,905,463,906,461,909,458,915,454,915,453,910z",
be:"M361,631C358,630,356,628,356,627,356,626,353,625,351,625,345,625,318,607,316,602,315,598,325,588,327,592,329,596,338,595,344,591,353,585,363,587,367,596,369,599,372,603,374,604,378,607,378,610,373,619,371,623,370,628,370,630,370,635,369,635,361,631z",nl:"M371,597C370,586,354,582,344,590,340,593,337,593,334,592,331,591,330,590,332,590,334,590,338,588,341,586,345,583,346,582,344,578,339,570,357,539,369,537,372,536,376,535,377,534,381,532,387,536,387,540,387,543,386,548,384,551,382,556,382,558,384,558,389,560,387,565,380,571,375,574,373,578,374,581,374,583,374,588,373,593,372,597,371,599,371,597z",
de:"M446,685C441,681,439,681,429,684,422,686,415,686,414,686,409,684,409,675,415,660,417,654,420,648,420,648,424,647,412,646,403,645,390,644,386,643,384,638,382,635,382,632,383,630,384,629,383,627,380,626,377,625,377,623,378,616,379,611,378,606,377,605,376,604,375,598,375,590,375,578,376,576,383,570,389,565,390,563,387,559,385,556,385,553,387,547,389,542,389,539,387,535,382,528,383,526,392,526,398,526,401,527,401,530,401,532,402,533,404,532,406,531,408,532,409,534,409,535,410,533,409,528,409,521,410,520,414,519,418,519,419,517,418,515,417,514,416,511,415,509,414,502,413,501,412,498,410,495,411,495,415,496,418,497,423,498,427,499,440,501,443,501,445,503,446,503,451,504,456,503,462,502,471,503,478,504,484,506,492,507,495,508,503,509,506,515,503,523,501,528,501,530,503,532,505,533,510,541,514,548,518,556,523,564,525,566,530,570,530,579,525,577,523,576,518,578,512,583,508,588,498,594,491,597,478,603,477,605,484,608,486,608,488,611,488,612,488,618,507,634,515,636L523,637,512,646C501,656,501,656,509,671,510,671,506,672,502,672,498,673,494,674,492,675,491,676,482,679,473,681,464,683,455,686,454,687,452,689,449,688,446,685z",
lu:"M372,629C372,624,373,623,377,626,382,629,381,635,375,635,373,635,372,632,372,629z",ch:"M405,726C405,719,397,717,390,721,382,726,380,724,386,717,389,714,391,709,391,707,391,701,408,686,413,687,416,688,423,687,429,686,439,683,441,683,446,687,448,689,451,692,451,693,451,694,455,696,460,697,470,699,472,703,466,708,464,709,463,712,464,715,466,718,465,718,462,716,460,714,457,713,454,714,452,715,451,714,451,713,451,710,450,710,447,713,445,714,443,717,443,719,443,721,442,722,438,719,434,718,432,716,432,714,432,713,429,715,425,718,416,726,405,731,405,726z",
at:"M459,691C455,688,456,687,467,684,473,683,484,680,490,678,497,676,504,674,507,673,513,673,513,671,508,662,505,655,505,655,514,647,520,642,524,640,526,641,527,642,531,643,535,643,540,643,542,642,543,638,544,631,545,631,566,631,575,630,576,631,577,636,577,640,579,644,580,645,582,648,580,656,576,655,568,654,567,655,571,660,578,667,574,677,561,683,556,686,550,689,548,690,546,692,537,693,527,694,512,696,509,695,507,692,506,689,493,689,487,692,480,696,463,696,459,691z",ee:"M582,353C583,351,584,349,584,348,584,347,586,347,590,347,595,347,595,348,593,352,590,358,580,358,582,353zM619,355C618,354,617,351,617,348,617,342,615,341,611,345,607,349,603,346,600,335,597,326,598,325,604,318,613,309,627,301,634,303,637,304,642,303,644,301,648,299,650,298,655,300,663,303,665,308,662,317,660,322,661,325,666,332,669,337,672,342,672,342,672,343,667,346,662,348,655,351,650,352,642,351,634,350,630,350,626,353,623,355,619,356,619,355zM582,338C583,336,585,336,587,337,592,339,592,340,586,340,583,340,582,339,582,338z",
lv:"M583,411C582,409,582,402,583,394,584,384,586,379,590,375L595,370,605,377C613,382,618,384,624,383,632,382,633,379,628,376,627,375,624,371,623,366,620,359,620,358,626,355,630,352,634,352,643,353,651,354,656,353,662,350,670,346,670,346,675,352,679,355,684,362,687,368L693,378,684,387C673,396,664,398,646,394,635,392,633,392,624,397,618,401,609,404,603,405,598,406,592,408,591,410,587,414,585,414,583,411z",lt:"M636,454C632,452,629,450,629,448,629,447,627,445,624,443,619,439,617,439,608,442,599,445,598,445,598,441,598,439,595,433,592,427L585,417,590,413C593,411,599,408,604,407,610,406,618,403,624,399,634,394,635,394,647,396,655,398,663,398,666,398,674,396,678,405,672,413,669,416,667,423,667,427,667,437,663,443,650,452,643,457,641,457,636,454z",
ru:"M582,468C582,468,584,465,586,462,590,458,590,458,586,459,584,460,582,460,582,459,582,455,588,450,593,450,595,449,602,448,607,445,613,443,619,442,621,443,625,445,630,453,628,456,626,460,582,472,582,468zM868,463C863,457,860,456,855,457,848,458,842,454,835,444,829,434,824,434,808,443,801,447,794,451,793,451,792,451,789,447,786,442L781,432,789,428C794,426,798,422,798,420,798,415,790,408,784,408,775,408,756,396,752,389,751,385,748,379,745,376L741,370,732,375C724,379,722,379,716,376,712,374,707,373,702,374,694,375,693,375,689,366,686,361,682,355,678,352,675,349,673,345,674,344,674,343,672,337,669,332,664,325,663,322,665,317,668,308,666,302,656,298,652,296,648,294,648,293,648,290,655,285,656,287,658,288,659,284,658,280,658,278,660,277,668,277,671,277,673,275,674,274,675,270,668,268,663,270,658,273,649,270,647,265,647,263,645,262,644,262,640,265,641,261,648,237,656,214,657,209,653,197,651,192,647,188,639,184,630,179,628,177,629,174,629,170,627,166,621,160,617,156,612,152,610,152,609,152,607,149,606,145,606,141,604,138,603,138,601,138,601,137,603,135,605,132,603,129,594,120,583,110,582,107,581,95,579,82,578,80,572,77,569,75,564,74,562,74,560,74,557,71,557,67,556,63,554,59,553,59,551,59,559,37,561,36,562,36,563,34,563,33,563,32,565,29,567,27,570,24,571,24,572,26,574,28,577,29,580,28,585,26,587,27,587,30,587,34,587,34,591,30,600,23,610,21,629,23,649,25,669,26,675,26,677,26,682,30,686,33,698,44,696,60,682,73,677,78,663,81,636,84,635,84,632,85,630,86,629,87,623,87,617,87L607,85,616,91C622,95,631,99,638,101,648,104,651,106,651,110,651,117,670,137,678,138,679,138,679,136,678,135,677,133,677,133,681,134,683,135,689,137,694,137,700,138,702,137,705,133,709,126,704,118,696,119,687,121,681,118,680,112,680,108,681,107,685,107,688,107,692,108,693,110,696,113,697,113,700,110,702,108,706,107,709,107,712,107,715,106,715,104,716,103,720,101,726,101,731,101,738,100,741,99,746,97,746,97,742,94,739,91,737,91,734,93,730,94,726,94,718,91,712,89,706,88,704,88,701,88,700,86,702,79,703,74,705,68,707,65,709,62,710,57,709,53,707,49,708,47,714,45,717,44,722,43,723,44,728,45,730,38,727,29,724,21,717,15,712,18,711,19,710,17,710,14,711,9,713,8,720,9,724,9,730,10,732,11,735,12,738,10,742,6L747,0,850,0,952,0,952,233C952,435,952,465,949,464,947,463,940,464,933,465,923,467,920,467,916,464,910,461,909,461,903,464,899,466,891,468,885,469,876,470,874,469,868,463z",
pl:"M603,600C602,595,599,593,594,593,591,593,586,593,583,593,580,593,579,591,579,590,580,586,563,583,561,586,559,590,551,587,551,583,551,581,547,579,541,577,536,575,532,573,532,571,532,569,530,567,528,565,526,563,521,555,516,546,512,537,507,530,506,529,504,528,504,526,506,522,508,517,508,515,505,509,502,502,502,501,505,498,508,496,513,493,518,491,523,489,527,485,528,483,530,478,550,463,555,463,556,463,558,465,559,466,561,472,575,478,578,475,580,473,589,471,597,469,606,467,618,463,623,461,629,458,635,456,637,457,639,458,643,464,646,471,649,478,653,484,655,486,658,488,659,490,656,498,653,506,653,507,657,510,661,512,663,516,663,520,663,524,665,528,668,531,676,537,676,542,670,562,666,575,665,580,667,585L670,592,655,590C643,589,639,589,635,592,633,594,629,596,627,596,624,596,622,598,621,600,620,603,619,603,616,600,613,598,612,598,609,602,606,606,606,606,603,600z",
cz:"M523,636C520,634,515,632,513,632,508,632,492,616,492,611,492,610,490,607,488,606,485,604,486,603,496,597,502,594,510,588,514,584,524,575,540,576,551,587,556,592,563,593,563,589,563,585,572,586,574,591,576,593,580,595,583,595,587,595,593,596,595,596,602,596,603,604,596,608,593,609,591,612,591,614,591,616,589,618,586,620,583,622,580,624,579,625,579,626,570,627,560,627,544,628,543,628,541,634,540,642,530,643,523,636z",by:"M659,509C655,506,655,505,657,500,661,492,661,485,657,484,655,483,651,477,648,471L643,459,649,456C662,447,670,437,670,428,670,423,672,417,674,413,678,409,678,406,676,403,674,398,679,391,686,388,689,387,691,385,692,382,694,376,708,374,716,378,722,382,724,381,732,377L741,373,744,378C746,381,749,386,751,390,754,398,775,411,784,411,790,411,795,415,795,419,795,421,792,424,787,427L779,432,784,441,789,451,783,459C778,465,777,469,778,473,779,479,779,479,767,480,761,481,749,485,741,488,728,493,723,494,710,493,698,491,693,492,682,496,675,499,668,504,667,507,664,512,663,512,659,509z",
md:"M787,632C785,620,783,615,778,615,774,615,766,609,753,596L744,587,749,580,755,573,763,578C768,580,774,587,778,592,782,597,788,603,791,606L798,612,795,627C793,635,791,642,790,643,789,643,788,639,787,632z",sk:"M587,646C582,645,581,643,581,635,581,628,582,625,586,623,589,622,592,619,593,616,595,610,601,605,604,607,605,608,608,607,610,604,612,601,614,600,614,602,616,606,622,607,622,603,622,602,627,599,632,596,640,592,644,591,653,592L664,594,662,603C660,612,659,612,654,610,647,608,632,614,626,622,624,625,619,629,615,631,610,634,605,638,604,642,601,648,597,649,587,646z",
hu:"M600,698C592,695,577,685,574,681,573,679,574,676,575,673,577,668,577,666,575,662,571,656,572,655,576,657,578,657,580,656,582,653,584,649,586,648,592,649,601,651,605,649,606,642,606,640,611,636,616,633,621,631,626,627,627,624,631,617,647,610,654,613,657,614,660,614,660,614,660,613,664,614,668,617,672,619,676,621,676,621,677,622,675,626,672,631,669,636,666,643,666,646,663,667,662,671,656,674,653,675,648,677,646,677,643,677,641,678,640,679,638,682,610,700,608,700,607,700,604,699,600,698z",ro:"M712,723C710,722,708,719,708,717,708,715,707,712,705,711,703,710,703,709,705,706,707,704,706,703,701,702,698,701,694,702,694,703,692,707,680,705,677,701,676,698,671,695,667,694,663,693,658,691,656,688,654,686,650,683,647,681,643,680,643,679,647,679,649,679,654,677,658,676,664,672,665,669,668,646,669,643,672,635,676,629,680,620,683,617,688,617,691,617,696,616,699,615,703,614,706,614,707,615,709,619,714,618,716,613,717,610,722,606,727,603,732,600,736,597,736,595,736,587,749,589,752,598,752,601,755,603,757,604,760,605,764,608,767,611,770,614,775,617,778,618,781,618,783,622,785,632,788,648,788,648,797,650,802,651,805,650,809,646,816,639,821,640,823,647,824,652,823,655,821,657,818,660,817,660,817,658,817,656,816,656,815,656,813,658,813,665,816,681L818,691,811,689C808,687,803,687,800,688,797,689,794,690,793,690,789,689,772,702,771,706,768,713,724,726,712,723z",
rs:"M679,782C679,781,677,777,673,775,670,773,668,770,669,768,670,766,668,764,664,763,651,760,646,757,647,754,648,752,647,750,646,749,645,748,644,746,645,745,646,744,643,740,639,736,635,732,631,725,630,721,629,717,627,712,624,709,617,703,619,697,630,689,639,683,642,682,647,684,650,685,654,688,655,691,657,693,661,696,666,697,671,698,675,700,677,703,679,706,682,708,688,708,692,708,696,707,696,705,696,704,697,704,699,704,701,705,703,706,702,707,701,708,702,710,703,711,705,713,706,719,706,724,706,732,706,734,713,737,720,741,721,742,716,750,714,754,712,759,712,763,712,770,711,771,700,776,693,779,686,783,683,784,680,786,679,785,679,782z",
si:"M527,723C527,722,527,720,527,718,528,717,528,712,528,706,528,697,529,697,537,696,541,696,547,694,549,692,555,687,570,681,572,683,576,686,572,695,567,697,565,698,563,700,563,703,563,705,562,710,560,714,558,720,557,721,553,720,550,720,547,719,547,718,546,718,544,718,542,720,536,725,527,727,527,723z",hr:"M621,780,614,776,621,778C628,779,631,780,629,782,629,783,625,782,621,780zM582,765C580,764,576,761,572,760,566,757,565,756,568,754,572,751,572,751,566,748,563,747,558,741,556,736,552,729,549,727,547,727,542,728,542,729,545,737,547,741,547,742,543,739,540,737,539,736,538,739,537,741,535,740,533,736,529,728,529,727,534,727,536,727,540,725,541,723,543,721,545,720,546,721,548,722,551,723,554,723,559,724,560,723,563,713,565,707,569,699,572,696,575,694,577,690,577,689,577,687,581,689,585,692,596,700,607,703,613,700,616,698,617,699,617,702,617,704,620,707,622,710,627,715,629,722,625,722,624,722,622,721,621,719,619,718,614,718,605,721,598,722,590,724,588,723,586,722,583,723,581,725,579,727,576,729,574,729,563,727,563,735,574,745,577,748,579,751,579,753,579,754,582,755,585,756,588,757,591,759,592,761,593,762,597,764,601,766,609,769,609,769,596,768,589,768,583,767,582,765z",
ba:"M617,775C614,774,610,772,610,769,609,767,605,764,601,763,597,763,593,760,593,758,592,757,590,755,589,755,585,755,570,740,570,735,569,731,570,730,573,731,576,731,580,730,582,728,584,725,587,724,589,725,590,726,597,725,605,723,614,720,619,720,621,722,623,723,625,724,627,723,628,722,629,723,629,725,629,727,633,732,637,736,641,740,643,744,643,745,642,747,642,748,643,749,645,750,643,753,640,756,637,760,633,765,632,769,630,773,628,776,626,776,625,776,621,775,617,775z",me:"M649,789C646,786,641,784,638,784,630,784,629,779,636,766,641,757,643,756,645,758,647,759,652,762,657,763,662,765,666,767,665,768,664,768,665,770,667,772,671,777,667,778,663,774,660,770,658,774,657,787,657,792,656,795,655,795,655,795,652,793,649,789z",
al:"M684,848C684,847,681,844,677,842,674,841,671,838,671,836,671,835,670,832,668,832,667,831,665,823,664,814,663,806,661,797,660,795,659,793,659,787,660,782,661,777,662,774,662,776,662,778,665,779,669,778,674,778,675,779,679,790,682,798,687,806,691,810,697,816,698,818,695,822,694,825,693,832,692,838,692,846,691,849,688,850,686,850,684,849,684,848z",mk:"M691,808C685,802,679,789,682,787,682,787,690,783,699,779,716,771,716,771,725,775,730,778,734,780,734,781,734,782,734,785,735,786,736,788,733,791,726,795,720,798,715,802,714,804,713,808,704,814,699,814,699,814,695,811,691,808z",
bg:"M736,782C736,780,731,776,725,774,714,768,712,763,718,750,723,742,721,737,712,735,710,734,708,732,708,729,708,726,710,725,722,725,742,724,764,716,776,704,787,693,802,688,812,691,819,694,822,703,817,703,813,703,809,712,812,717,814,720,814,723,812,727,811,729,811,731,812,731,817,731,811,741,801,750,793,757,791,761,792,765,794,771,785,775,771,773,761,772,758,772,754,776,751,779,746,782,743,783,737,785,736,785,736,782z",ua:"M896,631C896,629,895,626,895,623,894,619,892,619,883,619,872,619,872,619,875,615,877,613,879,610,879,609,879,608,881,605,883,604,886,602,888,600,887,598,886,597,889,595,893,593,901,588,903,588,901,591,900,593,901,594,902,594,904,594,908,596,911,598L917,603,923,597C929,591,934,589,936,595,938,598,933,601,927,602,926,602,923,605,922,609,920,612,917,616,915,617,913,617,912,620,912,622,912,631,899,639,896,631zM794,647C792,646,791,644,792,643,793,642,795,634,797,627L800,612,788,601C782,594,776,588,776,586,776,585,772,581,767,578,757,571,749,572,747,579,746,582,743,585,740,588,736,590,734,593,734,595,734,597,731,599,728,600,726,601,720,605,716,609,712,614,709,615,708,613,707,611,704,611,700,612,689,616,671,617,667,614,662,610,663,599,669,595,671,592,672,590,670,585,668,580,668,575,672,562,679,542,678,537,671,531,659,522,665,506,683,499,693,494,698,494,710,495,723,496,728,496,740,491,748,487,761,484,768,483,779,481,780,480,780,474,779,467,787,454,792,454,793,454,801,450,808,445,824,436,829,436,835,446,839,455,848,460,856,459,861,458,864,459,869,465,876,472,877,473,886,472,891,471,899,468,903,466,909,463,910,463,915,467,920,470,923,470,933,468,952,464,952,464,952,494L952,520,945,526C941,530,936,535,935,539,930,548,920,558,916,558,914,558,912,561,911,564,909,571,897,584,893,584,891,584,890,585,890,587,890,588,888,589,886,589,883,589,881,591,881,593,881,595,880,596,876,595,874,594,871,594,871,596,871,600,863,603,857,601,853,600,852,599,856,596,861,592,861,588,855,591,851,593,850,593,848,589,846,586,844,584,843,584,841,584,841,586,843,589,844,592,845,594,844,594,844,594,842,594,841,595,836,595,829,608,829,615,829,619,827,623,825,624,823,625,822,627,823,628,824,632,805,648,800,648,798,648,795,647,794,647z",
gr:"M790,945C787,942,789,941,798,938,802,937,805,937,806,938,807,940,809,940,811,938,812,937,820,935,828,934,835,933,844,932,846,930,849,929,850,929,850,931,850,932,844,936,836,940,824,946,821,947,818,945,815,942,803,943,794,946,793,947,790,946,790,945zM753,913C749,909,749,909,745,913,741,917,740,917,738,914,737,912,736,909,736,907,736,905,733,901,729,898,725,895,723,891,723,889,725,886,749,877,753,880,754,880,757,880,759,879,762,877,762,876,759,874,754,870,745,870,737,874,733,876,727,878,724,878C717,878,705,869,711,869C713,869,715,868,715,867,715,864,714,864,706,863,696,862,693,858,694,842,695,824,698,818,708,813,711,811,715,808,716,805,717,803,722,799,728,796,734,793,739,790,739,788,739,787,740,786,742,786,744,786,748,783,752,780,759,775,761,774,772,775,781,777,785,776,789,773,795,770,795,770,798,777,799,781,800,785,800,785,800,786,794,786,787,786,780,786,774,787,774,788,774,790,773,791,771,791,769,791,765,793,763,795,761,798,757,800,756,800,753,800,753,801,755,805,757,808,760,810,763,810,767,810,766,811,759,814,751,818,748,818,743,815,735,812,734,813,734,823,734,838,750,852,772,856,783,859,783,863,773,861,768,860,759,859,753,858,741,857,744,858,765,864,775,867,781,872,781,878,781,880,780,880,774,878,769,876,767,876,764,879,760,883,760,883,766,888,773,893,770,897,762,893,753,888,752,892,761,902,768,910,769,915,764,913,762,913,759,913,758,915,757,918,756,917,753,914zM846,907C845,904,850,897,854,897,858,897,860,904,857,907,853,910,848,910,846,907z",
ie:"M117,580C114,579,113,577,113,575,114,573,113,572,112,572,110,572,110,570,111,569,112,567,111,567,107,568,105,569,102,569,102,567,102,566,105,564,109,563L115,562,109,560C106,559,105,558,107,558,110,558,113,553,115,546,120,533,120,527,116,526,114,525,114,524,116,520,118,516,119,514,117,513,116,512,116,509,117,506,119,500,122,499,125,503,127,507,135,506,141,501,145,497,145,496,142,494,136,491,142,485,152,483,161,481,162,485,153,494,147,500,147,500,151,506,155,513,159,514,161,509,163,503,165,504,170,514,175,524,175,548,170,558,167,566,166,566,156,565,150,565,146,566,146,567,147,568,145,570,141,571,138,572,133,574,130,577,128,579,125,581,124,581,123,581,120,580,117,579z"},
RUSSIA_SHAPES:{"ru-ad":"M12,486C12,486,12,485,11,484,11,484,12,484,13,484,13,484,15,484,15,483,16,483,16,482,15,481,14,479,14,479,17,477,19,476,21,474,20,473,20,472,19,472,18,472,15,472,13,470,12,467,12,465,12,465,14,467,16,468,17,468,19,468,21,468,21,469,22,471,23,473,24,480,23,482,23,483,22,483,22,481,21,480,21,479,20,479,20,479,18,481,17,484,15,486,14,488,14,488,14,488,13,487,12,486z","ru-al":"M464,586C463,586,462,585,461,583,460,582,459,580,458,579,458,578,457,577,455,578,453,579,448,579,445,579,444,578,435,567,436,566,436,566,437,566,437,566,439,566,439,565,440,563,440,561,440,560,439,560,436,558,436,558,442,556,447,555,447,554,449,551,452,547,453,547,456,548,459,548,460,548,460,544,461,540,461,540,467,541,469,541,472,542,472,542,473,543,472,545,470,546,469,548,469,548,469,552L469,557,472,557C474,558,475,558,476,557,477,557,477,557,479,561,480,563,482,566,482,567L484,569,482,571,480,573,482,575C484,577,484,579,483,579,482,580,480,580,477,581,472,582,471,582,470,584,469,586,468,587,467,587,467,587,466,586,464,586z",
"ru-alt":"M413,511,407,514C402,516,398,517,393,518L385,519C387,522,389,526,394,543,397,550,399,555,399,555,399,555,401,554,402,552,405,547,407,548,409,556L410,559,413,560C415,560,419,560,423,559L430,559,432,562C434,564,434,565,436,565,436,564,437,564,438,563,439,562,438,561,435,559,433,558,433,558,433,557,434,557,434,556,435,556,435,556,438,556,441,555,446,553,446,553,449,549L451,545,455,545C458,546,458,546,458,544,459,543,459,541,460,540,460,538,461,536,460,532L460,527,454,520C451,516,448,513,447,513,447,513,446,513,446,514,444,516,443,516,437,517L431,517,428,521C426,523,425,524,424,524,424,524,421,521,418,518L413,511z",
"ru-amu":"M811,484C808,481,802,475,798,471,784,458,784,459,780,458,777,458,776,458,774,459,773,460,772,460,767,459,761,459,759,459,753,464,750,466,749,466,745,462L742,460,743,458C745,455,745,455,743,453,742,452,741,451,740,448,738,441,738,440,737,440,736,440,735,441,734,441,733,442,732,443,732,443,732,443,731,442,730,440,729,439,727,437,727,437,727,437,726,438,725,439,722,441,721,440,721,437,722,435,722,435,719,433,717,432,715,431,715,431,715,431,717,429,719,428,722,426,722,426,724,427,728,428,736,427,741,425L745,424,748,426C752,428,753,428,757,426,760,425,762,425,764,425,767,425,767,425,772,422,775,420,779,418,781,417,784,416,786,415,786,415,789,410,790,409,792,408,793,408,796,406,799,404,806,398,807,398,810,399,812,399,812,403,810,408,808,413,806,423,806,426,806,428,806,428,811,427,814,426,816,426,816,426,817,426,818,427,818,428,819,429,820,431,820,431,821,431,824,429,827,426,832,422,833,422,833,420,833,418,833,418,834,418,835,418,836,417,838,414L841,411,843,415C844,418,845,421,846,422L847,424,842,426C839,427,837,428,837,428,837,429,838,430,839,431L841,433,839,434C838,435,837,437,837,438,837,440,836,442,835,445,833,448,833,449,833,455,833,461,834,462,835,464,837,467,837,467,840,467,843,467,844,467,847,470,848,472,850,474,850,474,850,475,849,478,849,480,848,484,847,485,846,485,845,486,842,485,839,485,834,484,833,484,830,486,828,487,819,489,818,489,818,489,815,487,811,484z",
"ru-ark":"M381,92C381,91,380,91,379,91,376,91,376,90,378,88L380,87,383,88C385,89,387,90,387,90,387,90,383,92,382,92,382,92,381,92,381,92zM406,95,404,94,407,93C410,92,411,92,412,93,412,94,412,94,412,95,411,96,408,96,406,95zM377,99C376,98,376,98,378,97,386,94,390,93,390,93,391,94,390,98,390,98,390,98,387,99,385,99,379,100,379,100,377,99zM401,101C400,97,400,96,406,98,408,99,409,99,408,101,408,103,408,103,405,103L402,103,401,101zM402,109C402,106,406,106,406,108,406,109,403,110,402,110,402,110,402,109,402,109zM420,110C418,109,418,109,418,108,419,106,425,105,426,106,427,108,427,109,424,110,423,110,422,111,422,111,422,111,421,110,420,110zM410,110C408,107,410,104,413,106,415,107,415,107,413,109,412,111,410,111,410,110zM327,238C324,236,322,234,322,233,321,232,321,229,320,225,319,219,319,218,320,216,320,214,321,213,323,212,324,212,327,210,331,206,336,201,337,201,339,201,340,201,341,201,343,197,345,195,347,193,349,192,351,191,355,188,358,185,361,183,364,180,365,180,367,179,380,177,392,176,396,175,402,174,405,174,407,173,410,173,410,173,412,174,411,177,409,179,407,181,407,181,393,183,383,184,380,185,372,191,370,192,366,193,364,194,362,195,359,197,357,199,354,201,350,204,348,206,342,210,336,217,333,222,332,224,332,224,332,232,332,236,332,240,333,240,333,243,332,242,327,238zM220,336C219,335,217,335,216,335,215,335,214,334,213,333,212,332,212,332,210,332L207,333,207,330C207,328,207,328,206,327,205,327,204,326,204,325,202,322,201,322,199,323,199,323,198,323,197,323,195,322,195,322,195,320,195,318,194,317,193,318,193,318,191,318,189,318,187,318,186,318,185,316,184,315,181,313,178,312,175,310,174,309,173,308,173,307,172,306,171,306,170,306,162,298,162,296,162,296,163,294,163,292,164,290,165,288,165,287,165,287,166,286,167,285,170,284,170,283,171,280,171,279,172,276,173,275,174,274,174,274,173,271,172,266,172,264,175,260,177,258,177,258,180,258,182,258,182,258,183,259,183,260,186,263,187,263,188,263,192,259,193,258,193,257,193,255,193,254,192,250,193,246,194,245,196,244,197,245,197,251L198,256,202,260C207,265,208,266,210,261,213,252,214,251,223,251,231,252,231,252,233,257,236,263,236,263,239,262L241,261,245,269,249,277,253,277C256,277,257,277,258,278,259,278,259,279,257,283L254,288,256,293C257,296,257,297,256,298,256,299,255,299,253,299,251,298,249,298,247,298,245,298,244,297,242,295,240,293,237,291,235,290,231,288,231,288,228,288,227,289,226,290,226,290,226,291,227,293,228,295,229,298,229,299,229,301,228,302,228,304,228,305,229,309,229,308,225,309,224,310,223,310,222,314L221,319,222,321C225,323,226,322,228,320,230,317,231,317,233,317,234,317,235,317,236,319,237,320,237,320,232,325,227,330,226,331,227,332,227,336,224,337,220,336z",
"ru-ast":"M94,512C90,512,86,511,86,511,85,512,84,512,83,511,83,511,83,510,85,508L88,505,87,503C85,500,85,500,91,499,93,499,94,498,95,498,95,498,95,496,94,495,94,492,94,492,96,489,97,487,98,485,98,485,98,485,97,484,95,484L92,484,92,480C92,476,92,474,92,472,91,470,91,469,91,469,92,468,94,468,97,468,101,468,102,468,103,470,104,471,104,472,103,474,102,475,102,477,102,479,103,479,102,481,102,483,100,487,101,488,105,491,106,492,107,493,108,494,108,494,108,497,108,500L109,506,106,507C104,508,103,508,104,510,104,513,105,513,94,512z",
"ru-ba":"M218,486C215,485,215,484,214,485,212,486,208,486,207,485,207,485,207,484,207,483,208,481,208,480,207,479,207,478,207,477,208,475,210,470,210,470,206,470L203,470,203,466C204,463,203,462,201,456,198,451,198,449,198,446,198,443,198,442,201,438,203,435,204,433,204,431L204,428,209,426C215,425,215,424,214,422,213,420,213,419,218,418L221,416,223,418C224,420,225,420,228,421,231,421,232,423,234,427,235,428,236,429,237,429,238,430,239,430,240,431,242,433,249,437,251,437,252,436,252,437,251,441L250,444,246,445C242,445,240,444,237,441,237,440,236,440,235,440,234,440,228,444,228,445,228,447,231,454,232,454,236,456,242,457,244,456,246,456,248,457,248,457,248,457,248,458,247,460,245,463,245,463,243,462,242,462,241,462,240,462,238,462,232,468,232,469,232,469,231,473,229,476,227,482,226,483,225,483,224,483,223,484,222,486,222,487,221,488,220,488,220,488,219,487,218,486z",
"ru-bel":"M59,413C59,413,58,409,58,406,57,402,57,399,56,398,56,398,54,397,53,397,50,396,49,395,47,392,45,389,45,389,46,386,46,385,47,384,47,384,49,383,53,385,56,387,58,389,60,390,61,390,63,390,64,390,65,392,68,395,68,395,68,399,68,405,67,407,64,411,61,414,60,415,59,413z","ru-bry":"M53,362C52,362,52,361,53,359C54,355,53,355,49,355L45,355,45,352C44,349,44,349,42,348,41,347,40,346,40,346,40,345,45,338,45,338,46,338,46,338,46,339,47,341,55,343,57,341,57,341,60,340,63,340,68,340,69,340,69,341,70,343,69,345,68,347,66,350,65,355,66,356,66,357,66,357,65,357,65,357,63,358,61,360,59,363,59,363,56,363,55,363,53,363,53,362z",
"ru-bu":"M605,560,600,558,598,553C597,550,596,548,596,547,595,547,570,541,567,541,564,541,563,539,564,536,564,534,564,533,566,532,567,531,567,531,570,527,573,524,575,524,575,527,576,529,576,529,583,533,589,535,592,536,594,536,595,536,597,537,600,539,603,541,603,541,603,543,603,545,603,545,605,545,606,545,608,546,609,547L610,549,613,547C616,545,617,544,617,542,617,541,619,539,621,536,624,534,626,531,626,530,627,528,631,522,639,513,640,513,641,510,641,507,642,494,642,493,641,491,641,490,640,487,639,484,637,479,637,479,638,475,639,471,639,472,635,468,633,466,634,464,637,462,640,461,640,460,641,459,641,457,641,457,646,457,650,457,652,456,652,453,652,452,652,452,655,453,657,453,658,453,659,453,660,451,661,451,662,453,663,455,663,455,668,454,671,453,673,453,675,451,677,449,678,448,678,446,678,443,679,442,681,441,684,438,686,438,683,441,681,444,682,446,684,451,688,459,691,463,693,463,694,463,696,464,698,465,701,467,701,467,701,470,701,472,701,472,699,473,697,474,694,478,689,485,687,487,685,490,685,491,683,492,685,497,687,498,691,500,691,502,686,507,684,510,682,511,679,513,675,515,675,515,674,518,674,520,673,521,671,522,670,523,668,525,668,527,667,529,666,529,664,529,662,529,660,530,659,531,657,532,656,533,655,533,653,532,649,534,649,535,649,536,649,537,650,538,650,539,650,540,649,541,647,544,647,546,650,547L652,548,650,550C649,551,648,552,648,553,647,556,647,556,640,555,637,554,634,554,630,554L624,555,619,558C616,560,613,561,612,561,612,561,608,561,605,560z",
"ru-ce":"M45,536C44,535,44,534,44,534,44,533,47,531,51,529,58,524,58,524,59,525,60,526,61,527,61,527,64,527,63,529,61,530,59,531,58,532,57,534L56,537,52,537C50,538,47,538,47,538,46,538,45,538,45,536z","ru-che":"M237,491C236,490,236,489,237,488,238,486,237,485,234,484,229,483,229,483,230,480,231,478,232,475,233,473,235,468,239,464,242,464,246,465,246,465,249,461,252,455,251,453,246,454,244,454,242,454,238,453,235,453,233,452,233,452,232,451,232,450,231,449L230,446,231,445C234,443,235,443,238,445,240,446,241,447,245,447,251,447,251,448,253,442,254,439,255,437,255,437,256,437,269,443,271,444,272,445,273,446,273,449,273,453,273,453,270,456,267,460,264,464,264,465,264,466,266,467,268,467,270,468,272,469,272,469,272,469,272,470,271,471,269,474,269,474,261,471,255,469,253,469,251,472,251,474,251,474,252,479,254,484,253,485,251,483,249,482,244,482,243,484,242,484,242,486,242,487,241,489,241,490,240,491,239,492,237,492,237,491z",
"ru-chu":"M812,36C810,34,810,33,810,30,810,27,810,26,811,26,812,26,813,25,814,24,815,24,816,23,816,23,818,23,817,37,815,38,814,38,813,37,812,36zM834,164C832,162,831,162,830,163,828,163,828,163,826,161L823,159,818,159,813,159,811,156C809,154,808,154,808,150,808,146,809,146,811,143,812,141,813,140,813,138,813,137,813,135,815,134,817,131,817,131,815,130,813,127,809,125,805,123,802,122,800,121,800,121,799,120,801,117,806,110,811,102,812,101,812,99,812,98,812,98,813,97,813,97,817,97,820,96,825,96,827,96,828,95,829,94,830,86,829,85,828,84,826,84,823,84,820,84,818,83,817,82,816,81,815,80,815,80,815,79,821,67,825,60,827,57,834,51,843,44,852,37,873,23,874,23,875,23,877,23,879,24,881,25,883,25,884,25,885,25,892,21,892,19,892,18,891,17,886,17,881,16,881,16,882,14,883,14,884,11,885,9,886,5,886,5,891,2,894,0,896,-2,897,-2,898,-2,899,-1,900,0L902,2,901,6C899,13,899,13,910,15,914,15,918,16,919,17,921,18,919,23,916,23,914,23,913,23,909,28,907,31,907,32,905,31,903,31,902,31,900,33,896,36,896,36,895,40,895,45,895,45,889,45,883,44,883,45,883,49,883,51,884,53,884,53,885,54,887,55,891,55,894,56,897,56,898,57,898,57,899,59,900,62L901,67,898,71C895,76,895,77,900,77,904,77,905,76,907,74,911,72,911,72,916,73,919,74,920,74,923,72,928,71,930,71,932,73L934,75,929,80,924,85,927,94C928,100,929,104,929,105,929,106,927,106,924,106L920,106,920,109C920,110,919,113,918,115,918,117,917,120,917,121,917,122,916,124,916,126L915,129,911,129C907,130,906,130,904,132,903,133,902,134,901,134,901,134,899,132,898,129,895,124,895,124,889,126,883,127,883,127,882,129,882,130,881,131,879,131,877,131,877,132,874,135,873,138,871,141,869,142,864,147,862,149,862,153,862,157,861,158,856,159,853,159,852,160,850,162,848,163,840,167,838,167,838,167,836,166,834,164z",
"ru-cu":"M157,404C155,402,155,402,156,400,156,399,156,398,156,398,155,396,155,396,157,395,159,394,159,393,159,390,159,387,160,387,162,387,163,387,165,387,167,387L171,388,172,391C173,393,173,395,173,396,174,397,173,397,170,399,167,400,167,401,167,402,167,405,167,405,162,405,159,405,159,405,157,404z","ru-da":"M51,564C51,564,51,561,51,559,51,554,51,554,48,549,45,545,45,544,45,542,46,540,47,539,53,539,57,539,58,539,59,535,60,534,61,532,61,532,64,531,65,530,64,527,64,525,64,525,63,525,61,525,60,524,57,519L56,517,61,514,67,511,70,514C74,518,74,518,72,519,69,520,69,521,69,528,70,535,70,535,65,541L63,544,63,554,62,564,59,565C58,565,55,566,54,566,52,566,52,565,51,564z",
"ru-in":"M42,531C42,531,42,530,43,529,44,527,44,527,44,524L43,520,48,520C54,520,56,521,57,522,57,523,54,524,44,531,42,532,42,532,42,531z","ru-irk":"M610,545C610,544,609,544,607,544,605,543,605,543,605,542,605,540,597,535,594,535,592,535,589,534,584,531,578,528,577,527,577,526,576,522,573,522,569,526,567,528,567,528,565,527,564,527,563,527,562,527,560,528,560,527,554,524,549,521,547,521,544,521,541,521,541,521,538,518,537,516,536,514,536,514,536,514,537,513,539,512,540,511,542,510,542,510,542,510,542,507,543,503,544,497,544,496,543,494,542,491,542,492,548,485L550,483,548,477C547,475,546,472,546,472,546,471,547,469,548,467L550,463,553,463C559,462,560,462,560,461,561,460,561,459,562,459,562,459,563,461,565,463,567,466,568,466,569,466,571,466,571,466,571,462,571,459,572,458,576,451L581,444,580,442C579,439,579,439,581,438,583,438,584,438,587,440,591,443,595,444,597,444,597,444,598,443,598,442,598,441,598,439,599,437,601,434,600,433,598,431,595,430,595,429,596,427,597,426,597,424,597,422,597,419,597,419,595,418,594,418,592,417,591,416,590,414,590,414,590,412,591,410,591,408,591,407,591,405,591,404,594,402,596,399,596,398,597,392L598,385,596,383,594,381,594,374,595,367,599,365C603,362,603,362,604,363,604,364,604,364,602,366,600,368,600,369,605,370L609,370,611,374C613,376,614,379,614,380,614,381,615,382,617,383,619,385,619,385,619,386,618,387,618,388,618,389,618,391,624,399,625,399,628,399,628,399,626,413L625,425,628,427C631,430,632,430,635,428,637,425,646,419,647,419,647,419,648,420,649,422,650,423,651,424,652,424,652,424,653,422,654,421,656,418,657,417,657,415,657,413,657,410,660,405,663,398,663,398,666,397,671,397,672,397,676,401,678,403,680,405,680,404,681,404,682,404,683,403,685,403,686,402,687,402,688,402,697,414,698,415,698,416,697,416,693,417,688,417,688,418,688,423,688,427,689,431,692,431,694,432,695,434,695,437,695,439,692,441,688,441L685,442,686,440C687,438,687,438,685,437,683,436,683,436,680,439,677,441,677,442,677,444,676,446,676,448,674,449,672,452,671,452,667,453,664,453,664,453,663,451,662,449,661,449,659,450,657,452,657,452,654,451,651,450,651,450,650,453,649,455,649,455,645,455,640,455,639,456,639,458,639,459,639,460,635,462,633,463,633,464,632,465,632,468,632,469,634,469,634,469,635,470,636,471,637,472,637,472,636,476,635,479,635,479,637,485,638,489,640,492,640,492,641,493,641,499,640,504,639,506,639,509,639,510,639,511,637,514,632,519,628,523,625,527,625,529,624,530,622,533,620,536,617,539,616,541,616,542,616,543,615,544,613,545,612,546,611,546,611,546,610,546,610,546,610,545z",
"ru-iva":"M142,360C137,354,134,351,132,351,132,351,131,351,130,350,130,349,130,349,131,348,132,347,132,347,131,346,130,344,131,343,134,343,135,343,137,344,138,345,141,347,147,348,148,347,149,346,149,346,150,347,153,350,154,351,154,353,154,355,154,355,156,356,159,358,159,359,157,359,157,359,155,359,155,360,154,361,153,361,152,361,150,359,148,360,147,362,146,363,146,364,145,364,145,364,143,362,142,360z","ru-kam":"M922,107L922,109C922,110,921,113,920,115C919,117,919,120,919,121C919,122,918,125,918,127L916,131L912,131C908,131,907,131,904,134C903,135,901,136,901,136C900,136,899,134,897,131C895,126,895,126,888,128C885,129,884,129,883,131C883,132,882,132,880,133C878,133,878,133,876,136C875,138,873,141,871,143C866,147,864,150,864,152C864,154,864,154,866,154C868,155,869,155,870,158C873,162,873,163,876,163C878,163,878,163,879,166C881,171,881,171,883,170C885,169,888,171,892,175C895,178,897,179,897,179C897,179,898,179,898,178C898,178,896,176,894,174C891,172,889,170,889,169C889,168,890,166,892,162L895,157L898,157C902,157,902,158,900,163L898,166L900,167C901,167,903,169,905,171C911,175,911,176,912,185L912,193L919,210C927,234,927,232,925,238L924,242L927,245C930,247,930,248,931,253C932,259,933,259,936,263C937,264,938,266,939,266C940,267,941,268,941,268C941,270,948,274,971,285C985,293,997,298,998,298C999,298,999,298,997,291C996,286,994,281,989,276L986,273L986,268C987,259,987,260,981,256C979,254,976,252,976,252C976,251,976,249,976,247C976,244,976,243,978,241C979,239,980,239,979,237C979,234,978,234,971,232C968,231,967,230,966,225C964,221,964,220,966,217C967,215,966,214,962,214C959,214,958,213,955,212C954,212,954,211,953,211C953,209,951,208,950,207C949,206,948,205,947,205C946,205,945,206,946,208L946,210L943,211C941,211,939,211,938,210C937,210,922,186,922,185C922,185,923,183,924,181C926,180,927,178,927,178C927,177,926,175,925,172C922,165,922,164,928,167C931,169,931,168,930,165C929,163,929,162,929,156C930,152,930,148,931,148C931,148,934,147,937,146C940,145,942,144,942,144C942,143,941,142,940,140C939,138,937,132,934,123C932,114,930,108,930,107C929,107,927,107,925,107L922,107z",
"ru-kb":"M28,515C28,513,27,511,26,510L25,509,28,507,31,506,34,507C36,508,39,510,42,511L46,514,45,516C43,518,43,518,40,517,37,517,35,517,33,518,32,519,30,519,30,519,30,519,29,517,28,515z","ru-kc":"M22,507C21,506,13,494,14,493,14,493,15,493,17,492L20,491,22,493,24,495,26,494C29,493,29,493,31,495,32,496,32,497,31,497,30,498,30,498,31,501L32,504,30,504C29,505,27,506,26,507,24,508,24,508,22,507z","ru-kda":"M23,491C22,490,21,489,20,489,20,489,18,490,16,491,14,491,12,492,12,492,12,492,11,491,9,491,7,490,6,489,6,480,6,476,6,474,4,469,2,462,1,458,0,455,0,452,0,452,1,452,2,452,3,452,3,453,5,456,6,456,9,453,12,451,12,451,16,452,21,452,21,452,21,448,22,444,21,444,27,445,28,445,29,446,28,447,28,450,29,451,31,450,33,450,33,450,34,451,37,454,37,454,36,458L35,461,37,464C39,467,39,468,39,470,39,472,39,472,36,472,34,472,33,473,32,475,30,477,30,478,31,481,32,484,32,484,31,485,30,486,30,487,29,489,29,490,28,491,26,492L24,493,23,491zM17,486,20,482,21,484C22,486,23,486,25,483,25,481,25,480,25,476,24,468,23,466,18,466,17,466,16,466,15,465,13,463,13,463,12,464,9,465,10,467,12,471,13,472,14,473,16,473,19,474,18,475,15,476,12,478,12,478,13,481,13,482,13,482,11,482,10,482,9,483,9,484,9,485,13,490,14,490,14,490,16,489,17,486z",
"ru-kem":"M474,542C474,541,473,540,466,539,463,538,463,538,462,536,462,535,462,532,462,530,462,527,462,526,458,522,456,520,453,516,451,514L448,510,447,502C446,498,446,493,445,492L445,489,450,488C452,487,456,486,458,485,460,483,462,483,468,483,472,482,475,482,475,482,478,486,481,491,481,492,481,493,480,494,479,496,477,497,476,499,475,500,474,502,474,502,476,505L477,508,476,511C475,513,474,515,474,515,474,516,474,516,478,515,479,515,479,515,479,516,479,517,479,518,480,519,481,522,481,522,479,524,477,527,477,527,478,530,480,538,480,538,477,541,475,543,474,543,474,542z",
"ru-kgd":"M12,261C11,260,8,256,6,253C1,246,1,246,6,246C8,246,8,246,9,248,10,249,11,250,12,251,13,252,13,252,15,251,16,250,17,250,17,250,18,251,21,260,21,261,21,263,20,263,17,263,14,264,14,264,12,261z","ru-kgn":"M300,476C294,475,291,475,289,476,287,476,285,476,279,475,275,475,272,474,272,474,272,473,272,472,273,471,274,470,275,469,275,468,274,468,272,467,270,466,268,466,266,465,266,465,266,464,270,459,272,457,274,454,274,454,274,450L274,445,276,444C278,443,279,443,280,443,282,443,287,445,288,446,289,448,290,448,292,446,295,444,297,445,296,448,295,452,299,459,302,460,305,461,309,463,310,464,310,465,312,467,314,469,317,472,317,473,315,475,312,477,311,477,300,476z",
"ru-kha":"M892,489C891,487,891,485,891,483,892,480,891,480,888,475,887,473,885,470,885,469,884,468,884,467,884,467,883,467,880,468,877,469,870,471,870,471,867,470L865,468,859,472C855,474,852,475,852,475,852,475,852,475,852,474,852,474,850,471,848,469,844,465,844,465,841,465,838,465,838,465,836,463,836,461,835,459,835,455,835,450,835,449,837,445,838,442,839,440,839,439,839,438,840,436,841,435,842,433,842,433,842,432,842,431,841,430,840,430,839,429,840,428,844,427,846,426,848,425,848,424,849,423,842,409,841,409,841,409,840,410,838,412,835,415,835,416,833,416,830,416,830,416,831,419,831,421,831,421,826,425,824,427,821,428,821,428,821,428,820,427,819,426,818,423,817,423,811,425,808,426,808,426,808,425,808,422,810,413,812,408,813,403,813,402,813,400,812,398,812,398,810,397L807,396,803,399C800,401,798,403,797,403,797,403,795,397,795,394,795,393,795,392,795,391,797,389,795,387,791,385L787,382,788,380C788,376,788,376,786,374,784,373,784,373,784,372,785,371,785,369,785,362L785,353,791,350,797,347,797,343,797,340,801,338,804,337,805,333,805,328,807,328C811,327,811,327,804,318,800,312,799,311,799,308,798,303,798,304,800,301,802,299,802,298,799,294,798,292,797,290,797,288,796,286,796,286,797,285,798,284,799,284,802,284,804,284,807,284,808,283,811,283,811,282,813,280L814,277,818,277,822,277,821,274,821,270,824,268C827,266,827,266,830,266,834,267,837,269,839,272L841,275,839,277,838,280,839,282C841,284,842,285,844,283,846,282,847,282,854,282,860,282,861,282,861,283,861,283,860,284,858,285,854,286,853,287,853,289,853,291,853,291,851,292,849,292,848,293,847,294,847,295,844,298,841,302,838,306,835,309,834,310,834,311,834,311,835,314,837,318,837,319,834,325L833,328,835,332,838,336,836,343,834,351,835,360,836,368,833,382C831,389,830,396,830,396,831,396,832,396,833,396,836,396,837,396,840,394,842,392,845,391,845,391,845,391,847,392,848,394,851,398,853,398,853,395,853,395,853,394,853,394,852,392,853,392,854,391,855,391,856,391,857,395,858,397,858,398,859,398,860,398,866,392,866,391,866,390,865,389,864,387L862,383,865,381C867,378,868,378,870,379,872,379,876,379,879,379,885,380,885,380,885,384,886,384,887,386,891,388L896,391,897,396C899,403,902,411,908,417,911,420,915,426,918,430L922,438,922,446C923,451,923,455,922,456,922,456,920,455,920,453,920,452,914,447,912,447,911,447,906,456,906,457,906,458,907,459,908,459,910,460,911,461,913,460,914,460,915,460,915,460,915,460,915,461,915,463L915,467,913,467C912,467,911,467,910,468,909,468,909,469,911,472L913,475,910,478C908,480,908,480,903,480L898,480,895,484C893,487,893,488,894,489,895,490,894,491,893,491,893,491,892,490,892,489z",
"ru-khm":"M372,438C366,436,365,435,365,433,365,433,363,429,360,426L356,418,349,414C343,411,342,411,341,412,338,417,334,419,327,421,324,422,320,423,319,423,316,425,315,425,313,422,312,420,312,418,312,415L312,412,309,410C305,407,305,407,306,402,306,400,306,399,305,397L304,394,305,389,306,383,303,376C299,370,298,369,296,368,294,367,293,367,292,365,291,361,291,359,294,351,297,344,298,343,303,339,305,337,306,337,306,334,306,332,306,331,308,329,311,326,311,326,313,327,314,328,315,328,319,325,321,323,324,321,325,321,326,321,326,322,326,325,326,329,326,330,324,333L322,336,325,339,327,342,333,343C338,344,341,344,343,345,346,347,346,347,346,349,346,352,346,352,349,354L352,356,357,354,362,353,364,355C367,358,367,358,368,361,368,363,369,366,371,369L373,374,377,374C381,374,381,374,385,377,389,381,390,381,395,382L400,383,405,387,409,392,415,392,421,392,424,389,428,386,431,390C435,394,435,394,438,394,440,394,441,395,444,396,446,397,448,399,449,399,449,399,450,400,450,401,449,404,452,408,455,410,457,411,458,412,458,413,457,414,449,419,448,419,447,419,446,418,445,418,445,417,444,416,444,416,443,416,441,418,438,419L433,422,429,420C424,417,424,417,419,418,415,418,415,418,414,417,414,416,413,415,412,415,409,414,399,414,399,414,398,415,397,418,396,421,392,431,392,431,389,431,387,431,387,431,383,435,381,438,379,440,378,440,378,440,375,439,372,438z",
"ru-kir":"M197,404C197,403,196,399,195,393,194,388,193,383,193,383,192,382,182,380,181,380,180,380,179,381,178,382,177,382,176,383,176,383,176,383,176,381,175,380,175,377,175,377,177,375,179,373,180,372,180,373,181,373,182,373,183,373,184,374,185,373,187,372,188,371,189,370,189,370,189,369,188,368,186,367,184,365,182,364,182,363,182,363,184,362,185,361,188,359,189,359,193,359L197,359,197,355C197,351,197,351,199,349,200,349,200,347,200,347,200,347,201,345,202,344,203,342,203,341,202,340,202,339,202,339,206,337,208,335,211,334,211,334,211,334,212,335,212,336,213,338,213,338,212,342,212,345,211,347,209,348L207,351,208,354C209,360,210,364,211,364,212,364,213,363,215,361,217,360,218,359,219,359,219,359,221,359,223,360,226,361,229,361,231,361,234,361,234,361,237,365L240,368,236,372,232,376,233,379C234,381,234,381,232,384,231,385,230,387,230,387,230,387,228,386,226,385,221,382,217,381,216,382,216,382,214,384,213,387,210,391,210,391,207,391L204,391,204,395C203,398,202,399,202,399,200,399,199,400,199,402,198,404,197,405,197,404z",
"ru-kk":"M472,556C471,555,470,554,470,552,470,549,470,549,472,548,475,546,481,539,481,538,481,537,481,535,480,533,479,528,479,527,481,524,482,522,482,522,482,520,481,518,481,517,481,515,482,512,482,512,479,513,478,513,477,513,477,513,477,513,477,512,478,510,479,507,479,507,477,505,476,503,476,501,477,501,477,501,478,502,479,503,481,507,482,507,489,505,491,505,493,505,494,505,494,505,494,507,495,508,495,510,497,514,499,519,502,523,503,527,503,527,503,528,502,529,501,530,500,532,499,534,499,535,498,537,497,539,493,542,489,545,487,547,487,548,486,552,486,553,481,553,476,553,475,554,475,555,475,556,474,557,472,556z",
"ru-kl":"M72,514C69,511,68,510,67,507,66,505,65,501,64,498,62,496,61,492,61,491,61,488,57,481,55,479,55,479,53,478,52,478,50,478,50,478,50,477,49,476,49,475,47,476,46,476,45,475,45,475,44,474,45,474,47,474,49,473,51,473,52,472,53,471,53,472,54,474,55,475,56,477,57,479,58,482,59,483,62,483,66,483,66,483,66,481,67,479,67,479,70,480L73,480,75,476C77,474,78,472,77,472,77,472,76,471,74,471,72,471,72,471,72,470,72,469,73,469,77,469,81,469,82,469,83,468,84,466,85,467,85,469,85,471,86,472,88,471,90,470,90,471,90,478L90,485,93,486C94,486,95,486,95,486,95,487,94,488,93,489,92,491,92,492,92,493,93,497,93,497,89,498,87,498,84,499,84,499,84,500,84,501,85,502L86,505,83,508C80,511,80,511,81,512,83,513,83,514,81,515,77,518,76,518,72,514z",
"ru-klu":"M70,356C67,355,67,355,67,353,67,352,68,350,69,348,71,346,71,345,71,342,71,339,71,338,72,338,72,338,73,338,75,339,76,341,76,341,82,340,85,340,89,340,89,340,91,340,91,340,92,341,93,342,93,343,94,343,95,343,97,346,97,348,97,350,96,351,95,352,93,354,91,354,87,353L85,352,81,354C76,357,75,357,70,356z","ru-ko":"M278,361C272,359,269,358,262,360,257,361,257,361,253,360,249,358,248,358,247,355L245,352,241,352C234,351,234,351,234,355,234,359,233,360,224,358,218,356,217,356,215,359,214,360,213,360,212,360,212,360,210,354,210,352,210,352,211,350,212,349,213,347,214,345,215,342L216,337,218,337C225,338,226,338,227,336,228,335,229,334,228,333,228,331,229,330,234,326,236,323,239,320,239,320,239,320,238,319,237,317,236,315,235,315,232,315,230,315,229,315,227,318,226,320,225,320,224,320,222,319,222,318,224,314,225,311,225,311,228,311L230,310,230,306C230,304,230,302,231,301,231,299,231,298,229,295,228,292,228,291,228,290,230,289,231,290,235,292,240,295,241,296,242,298,242,299,243,299,245,299,247,299,250,300,252,300,254,301,256,302,256,302,256,302,257,301,258,299L259,297,258,293,256,288,258,285C259,284,260,281,261,280L262,278,274,278,285,278,295,284C301,288,307,291,313,294,317,296,322,298,323,298,332,302,331,302,336,301,339,300,341,299,343,298,345,296,346,295,348,295,350,295,351,294,352,293,355,289,358,290,356,293,354,295,355,297,356,298L358,299,356,302C355,303,353,306,352,307,349,309,348,310,343,311,337,312,334,313,331,316,331,317,328,318,326,318,324,319,320,321,318,322,315,325,314,325,314,324,313,322,312,322,308,327,304,330,304,331,303,333,303,335,303,336,303,336,303,336,301,337,299,339,295,342,295,342,292,349,288,360,286,363,285,363,284,363,281,362,278,361z",
"ru-kos":"M176,358,172,355,169,357C166,359,163,358,159,356,156,354,156,354,156,352,156,351,155,350,153,348,150,344,150,344,148,345,146,346,143,345,142,344,140,344,144,340,150,338,152,336,155,335,156,334,157,334,159,333,163,333,169,333,172,334,175,339,179,345,181,346,186,347,191,349,191,349,192,348,194,347,197,346,197,348,197,348,196,349,196,349,195,350,195,351,195,353L195,357,191,356C188,356,187,356,186,358,180,361,181,361,176,358z","ru-kr":"M163,282C161,280,160,280,156,280L152,279,147,273C145,270,143,268,142,268,142,268,141,268,140,269,139,271,137,271,134,270,133,270,132,267,128,259,126,253,123,248,123,248,123,247,125,247,128,247,133,247,149,244,150,243,150,243,151,239,152,236,152,232,153,229,153,229,153,229,155,228,156,228,159,227,159,227,163,221,166,215,166,215,170,213,174,210,176,208,179,204,180,202,181,201,182,201,182,201,184,202,186,203,188,205,189,205,188,207,187,211,188,213,191,213,192,213,193,213,194,221L194,226,193,227C189,230,186,233,183,238L179,242,180,248C181,251,181,254,182,255,182,256,182,256,179,256,176,256,176,256,174,259,171,262,171,263,171,266,171,269,172,271,172,272,172,273,172,274,171,275,170,276,169,278,169,280,169,282,168,283,167,283,166,284,165,284,165,284,165,284,164,283,163,282z",
"ru-krs":"M67,391C65,389,64,388,62,388,60,388,58,387,56,385,55,384,52,383,51,382,48,382,48,381,48,380,48,379,47,377,47,375,45,370,45,370,48,369,49,368,50,367,51,366,52,364,52,364,55,364,58,365,58,365,61,368,66,373,66,374,67,378,68,381,68,382,71,385,73,387,75,389,75,389,75,389,74,390,73,391,68,394,69,394,67,391z","ru-kya":"M526,144C526,144,525,145,524,145,523,146,523,148,522,154,521,158,521,162,521,162,521,163,521,163,521,163,522,163,535,157,536,156,537,156,536,155,535,152,533,147,533,147,531,147,529,148,528,147,528,146,527,145,527,144,526,144zM510,134C508,134,507,135,505,135,503,136,502,136,502,139,502,142,502,143,502,146,503,148,504,149,504,149,504,150,507,150,510,151,513,152,515,152,515,152,515,152,516,152,517,151,518,151,518,150,518,144,517,137,517,137,516,135,515,135,513,134,510,134zM502,116C501,116,499,119,498,122,497,124,497,126,497,127,496,128,496,129,498,131,500,133,500,133,504,132,508,131,509,130,508,125,508,123,504,116,502,116zM539,170C538,170,537,170,537,170,536,171,534,173,532,176L529,181,530,185C531,189,531,190,527,190,525,191,525,191,525,193L525,196,519,199C512,202,512,202,510,199,510,198,509,197,509,197,507,197,502,200,502,201,501,202,499,204,494,206,487,209,486,210,483,213,481,215,478,218,477,220L474,224L476,227C477,229,477,231,477,232,477,233,476,233,461,234,455,235,450,236,450,236,449,237,448,246,449,247,449,248,450,250,452,252,455,256,455,256,455,260L455,263,452,264C450,264,449,263,447,260L446,259L443,262C441,264,440,266,440,266,440,266,441,268,442,270,444,272,445,273,444,275,444,280,442,283,438,285,436,287,435,288,435,288,435,289,436,291,437,293,440,296,440,297,445,296L447,295,449,302C451,307,451,308,451,310,450,310,450,311,450,311,449,313,447,316,446,318,445,320,445,321,446,325,446,328,447,331,448,333,450,335,450,337,450,342L451,348,453,349C454,349,455,350,455,351,455,351,455,353,455,355,456,363,455,362,459,363,463,364,464,365,464,371,464,376,463,377,460,381,459,383,459,383,460,386,461,391,461,391,457,396,452,401,452,402,453,404,454,406,455,407,458,409,462,411,462,412,461,413,461,414,452,420,451,421,450,421,450,422,451,425,452,428,452,429,451,430,449,433,451,434,458,435,466,435,466,435,470,440,473,443,473,444,476,444,478,444,479,444,479,446,481,450,481,450,478,452,474,455,474,455,474,458,474,460,473,460,481,462,483,463,484,463,484,465,484,467,483,468,481,471,479,474,479,475,479,476,479,477,479,479,478,480L477,482,480,485C482,489,482,490,482,492,482,494,482,495,481,497,478,498,479,499,481,502,482,505,483,505,490,503,495,502,496,503,496,507,497,508,499,513,501,518,503,523,505,527,505,527,505,528,504,529,503,531,502,532,501,535,500,536,500,537,499,539,496,541L493,545,494,546C496,548,497,548,501,549,503,549,506,549,507,549,515,548,517,546,521,539,522,537,524,534,525,534,526,533,526,532,527,530L527,528,534,526C538,525,541,524,541,523,541,523,539,521,537,519,535,517,534,515,534,514,534,514,535,512,537,511L540,509,541,503C542,497,542,497,541,494L541,491,544,488C549,482,548,483,546,477,545,475,544,472,544,471,544,471,545,469,547,466L549,462,553,461C557,461,558,461,559,459,560,458,561,457,562,457,562,457,564,458,565,460,569,465,570,465,570,461,570,458,570,457,574,451,579,444,579,444,577,440,577,439,577,438,577,438,577,438,577,438,577,438,579,437,580,437,581,436,583,436,584,436,587,438,589,439,591,441,592,441,594,442,596,442,596,441,596,440,597,439,597,438,597,437,598,435,598,435,598,434,598,433,596,432,594,431,593,430,593,430,593,430,593,428,594,426,596,422,596,421,594,420,591,418,588,415,588,413,588,412,589,410,589,408,589,404,590,404,592,401,595,398,595,399,596,388,597,385,597,385,595,383L592,382,593,375C593,371,593,367,593,367,593,366,595,365,597,364L601,361,595,361C587,361,585,361,585,360,585,360,584,358,584,356,584,353,584,352,585,349,586,348,586,346,586,346,586,345,585,343,584,341,581,337,581,336,581,333,580,329,580,329,578,327,576,326,576,325,579,322,580,320,581,319,581,318,581,318,580,313,579,307L577,297,574,294C573,293,571,290,570,289,571,288,572,287,574,284,578,280,579,280,581,280,584,280,584,280,585,274,586,267,586,266,590,261,595,256,595,258,588,248,586,244,583,241,582,240,580,238,579,237,578,233,577,226,577,226,576,226,576,226,573,228,570,231,565,235,565,236,561,236,559,236,558,236,557,236,556,235,557,234,559,229,561,227,564,222,565,219,567,216,571,210,573,207L577,201,577,195C577,191,577,188,576,187C576,186,574,184,572,182L568,179,562,179,557,179,554,182C552,183,550,184,550,184,549,184,548,183,548,182,548,182,548,180,548,180,547,178,547,178,543,179,538,179,537,178,541,174,543,171,543,171,542,170,541,170,540,170,539,170z",
"ru-len":"M126,296C126,295,125,295,125,295,125,294,124,292,123,289L120,283,118,283C116,283,115,283,116,282,116,281,116,280,115,278,113,276,112,276,109,277,107,277,103,276,101,275,99,273,99,273,97,274,96,275,96,275,95,275,95,275,95,273,95,271,94,269,94,266,93,264,91,259,91,259,96,258,98,258,99,258,102,259,105,260,106,261,106,266,107,269,107,269,110,269,112,269,114,269,115,269,117,269,118,269,119,266,120,264,121,262,121,262,120,261,119,260,116,259,113,257,112,256,112,255,111,252,111,252,113,249,115,247,116,247,118,247,121,247,121,247,122,251,123,253,126,258,128,263L132,272,135,272C139,273,139,272,141,271L142,270,144,272C144,273,146,275,147,276L149,279,147,279C145,280,142,282,140,284,136,287,135,288,135,290,135,292,134,292,131,294,127,297,127,297,126,296z",
"ru-lip":"M87,399C86,398,85,397,84,396,84,394,83,393,83,393,83,393,82,392,81,391,81,390,79,389,78,389,77,388,76,387,75,386L73,384,75,384C77,383,77,383,80,380,81,378,82,376,83,376,83,375,84,376,85,377L86,379,89,378C90,377,92,376,92,376,93,376,99,384,99,385,99,385,98,386,96,387L92,390,93,395C93,399,93,399,91,400,90,400,89,400,87,399z","ru-mag":"M841,281C840,280,840,279,842,277L843,275,841,271C839,268,835,266,831,265,830,264,828,264,828,264,827,264,825,265,824,266,822,267,820,268,820,268,820,268,820,266,820,265,820,263,819,262,815,259,810,253,808,249,808,244L808,240,812,238C814,237,816,236,816,235,816,235,815,233,814,232L811,229,815,226C818,224,819,223,820,223,821,223,822,224,823,224L824,224,824,221C824,218,824,218,826,215,828,213,829,212,829,211,829,211,828,209,826,206L822,202,822,199C823,196,823,196,820,195,819,194,818,193,819,192,820,189,820,188,818,187,817,186,816,185,816,185,816,185,818,183,820,182,822,180,824,179,825,178,825,177,826,176,827,176,829,176,829,176,830,171,831,168,831,168,830,166,829,165,829,165,830,164,831,164,831,164,832,164,833,165,834,166,835,167L838,169,843,167C847,165,850,164,851,163,853,161,854,160,857,160,859,160,861,159,862,158,866,156,867,156,870,160,872,163,872,164,874,164,876,164,877,164,878,168,879,170,879,172,880,172,881,173,881,173,883,172,885,171,885,171,887,173,888,173,890,176,892,178,894,180,896,181,897,181,897,181,901,196,901,198,901,199,898,199,896,198,895,198,893,196,892,194,890,193,888,191,888,191,887,191,885,193,882,199,879,203,877,206,876,207,876,208,877,210,882,227,885,238,887,242,890,245,891,245,891,245,893,244,895,243,896,242,896,243,896,244,894,246,893,248,890,251,890,252,888,258,886,266,886,267,884,267,882,267,882,266,882,263,883,260,883,259,880,259,878,259,865,267,864,269,864,269,864,271,865,273,866,275,866,276,866,277,866,277,864,278,863,278,862,278,861,279,861,279,861,280,858,280,854,280,847,280,846,280,844,281,842,283,841,283,841,281z",
"ru-me":"M175,397C175,396,174,394,174,391,173,388,172,386,171,386,171,386,169,386,167,385L163,385,163,381,163,378,166,377C169,376,169,376,170,377,171,377,172,378,173,378,173,378,174,379,174,382,174,386,175,386,179,383L181,382,186,383C189,384,191,384,191,384,192,384,192,387,193,390,193,394,193,395,193,396,192,397,191,397,190,395,189,395,188,394,187,394,187,394,180,396,177,397,176,397,176,397,175,397z","ru-mo":"M140,404C136,402,134,401,134,402,133,403,132,403,131,400,129,398,128,396,125,394L120,391,123,389C124,387,126,385,127,384,130,380,131,380,135,381L138,382,138,387C138,390,138,391,140,394,141,396,142,398,142,398,142,398,145,397,147,396,149,395,152,394,152,394,152,394,152,395,153,396L154,399,153,403,151,406,148,406C146,406,143,406,140,404z",
"ru-mos":"M101,366C101,365,101,364,101,363,102,362,102,361,100,357,98,353,98,352,98,349,99,346,97,342,96,342,95,342,94,341,93,340L92,338,94,334C96,331,96,330,98,329,102,329,103,329,104,331,106,333,107,333,112,334,120,335,124,338,120,339,119,340,118,341,117,344,116,348,116,349,116,351,117,352,118,354,119,355,121,356,121,357,119,360,118,363,118,363,114,364,111,364,107,365,105,365,103,366,101,366,101,366zM109,351,113,350,113,347C113,342,112,341,107,342L103,342,103,347C103,351,103,352,104,352,104,352,106,352,109,351z",
"ru-mow":"M105,349C104,348,104,347,104,346,104,344,104,344,107,343,111,343,111,343,111,346,111,349,111,349,108,350,105,350,105,350,105,349z","ru-mur":"M218,241C214,239,213,238,209,233,206,228,203,221,202,212,201,206,201,205,199,205,198,205,197,206,195,208,194,210,192,211,191,211,189,211,189,210,190,207,191,205,191,205,189,204,188,203,187,201,185,201,183,199,183,198,184,196,184,194,185,194,190,193,195,192,196,191,197,188,198,179,199,177,201,176,207,174,209,173,216,174,227,175,228,175,228,177,228,178,227,178,226,178,225,178,224,179,224,179,223,181,225,187,228,193,231,199,231,199,232,207,233,211,234,216,235,218,236,223,236,226,235,234L234,240,230,241C225,242,222,242,218,241z",
"ru-nen":"M318,294C306,289,302,287,294,282,287,277,284,276,283,276,282,276,264,276,255,276,252,276,250,276,250,275,250,275,248,271,246,267,242,261,242,260,243,259,243,259,244,258,246,257L248,256,247,252,247,248,249,246C253,245,259,239,259,236,259,236,259,235,259,234,260,234,263,237,264,239,266,243,266,245,264,247,263,248,263,248,260,247,257,246,257,246,254,247,252,248,251,249,251,249,250,250,252,260,252,261,253,262,259,264,260,264,261,264,263,263,265,261L268,258,286,258C295,258,303,258,303,258,304,258,302,260,300,261,299,262,297,263,297,264,296,265,300,269,302,270,303,270,305,270,307,269,311,268,312,268,316,269,319,270,320,270,324,270L329,270,328,273C328,275,328,276,330,276,333,277,336,277,339,275L341,273,341,269C341,266,341,265,341,264,342,263,342,263,352,269,354,269,355,271,357,273L359,276,357,278C356,280,356,280,358,285,358,287,359,289,359,289,359,289,357,289,356,289,354,288,354,288,352,290,350,292,349,293,347,294,346,294,343,295,342,296,341,298,338,299,336,299,334,300,332,300,332,300,332,300,325,298,318,294z",
"ru-ngr":"M124,306C123,305,121,305,120,305,118,305,117,305,114,302L110,298,108,299C106,300,104,301,103,301,102,302,101,302,99,301,98,300,95,299,92,299,89,298,87,298,86,296L84,295,88,290,92,285,91,283C91,282,91,280,91,279,91,278,91,277,93,277,94,277,96,277,97,276,99,275,99,275,100,277,102,278,106,279,110,278,113,278,114,279,114,283,114,285,114,285,117,285L119,285,122,290C125,297,125,298,124,300,123,302,123,302,124,303,125,303,126,304,126,304,127,305,127,306,127,306L127,308,124,306z","ru-niz":"M141,393C140,391,139,388,139,385L139,381,135,380C131,378,129,376,129,375,129,374,134,372,138,370,145,367,147,365,148,364,149,362,149,362,152,363,154,364,155,364,156,362,158,361,159,361,163,360,166,360,169,360,170,359,171,358,172,359,174,360,176,361,179,363,182,365,187,369,187,369,186,371,185,372,182,372,180,371,179,370,177,372,176,373L173,377,171,375C170,374,170,374,166,375L162,376,161,381C161,385,161,385,159,385,158,386,158,386,158,389,158,392,157,393,156,393,155,394,154,394,154,393,153,392,152,392,148,394,145,395,143,396,143,396,143,396,142,394,141,393z",
"ru-nvs":"M383,466C383,466,383,466,383,466,383,466,383,467,383,468,383,469,382,470,381,471L379,473,381,475C382,478,382,478,376,480L372,481,371,486,370,490,372,493C374,497,374,497,372,502L371,504,372,504C373,504,375,503,377,503,379,502,380,502,380,503,381,504,381,504,380,506,379,507,378,509,378,509,378,510,380,512,382,515,383,516,384,517,385,518,387,517,390,516,393,516,398,515,402,514,407,512L413,509,417,513C418,515,421,518,422,519L425,522,428,519,431,516,437,515C443,515,446,513,446,510,446,507,444,491,443,490,443,490,441,491,439,492,437,493,435,494,435,493,434,493,434,491,433,488,433,485,432,483,432,483,431,482,429,482,426,483,421,483,421,483,420,482,419,482,418,481,415,481L411,480,408,476C407,475,405,472,404,472,402,470,385,465,383,466z",
"ru-oms":"M350,508C350,508,350,506,350,505,351,502,350,502,345,498,342,497,341,496,339,496,338,496,337,496,336,496,336,495,335,491,335,486L334,478L337,472,340,465,344,465,348,464,348,460C347,454,347,453,344,452,342,451,342,451,341,448,341,446,342,445,343,442,344,440,346,439,346,439,346,439,347,440,347,442,348,444,348,444,356,446,358,447,363,447,366,447,371,448,371,448,374,446,375,445,377,445,377,445,377,445,377,446,377,447,376,449,376,450,378,456,382,465,382,467,379,470,377,473,377,473,378,475,379,476,379,477,379,477,379,477,377,478,375,478,373,479,371,479,371,480,370,480,369,483,369,485L367,491,369,494,372,497,370,500C370,502,369,504,369,504,370,506,352,510,350,508z",
"ru-ore":"M232,509C229,507,228,507,227,507,224,510,223,510,221,507,219,505,218,504,218,502,217,497,214,494,209,496,208,497,208,497,203,492L202,490,197,491C194,491,191,492,191,492,190,492,190,491,189,489,189,488,188,486,187,486,186,484,186,484,185,485,184,485,183,486,183,485,183,485,182,482,181,479,181,476,180,473,180,473,180,472,178,471,176,470,174,469,174,469,174,466,174,462,173,461,168,462L165,462,164,460C164,457,164,457,166,457,168,456,169,455,170,454,171,453,173,451,176,450,181,448,182,447,187,442,189,439,192,436,192,435,192,434,193,435,194,437,196,440,196,441,196,445,196,449,196,450,199,457,202,464,202,464,201,467,201,471,201,472,204,471,205,471,207,471,207,471,207,472,206,475,205,476,204,477,204,477,205,479,206,481,206,481,206,483,204,486,204,487,207,487,211,488,213,488,214,487,215,486,216,486,218,488,221,491,221,491,223,488,224,486,225,485,226,485,228,485,234,487,234,487,234,488,234,489,233,491L232,494,236,499C241,507,241,506,239,509,238,510,236,511,236,511,236,511,234,510,232,509z",
"ru-orl":"M70,381C69,380,69,378,68,376,68,373,67,372,64,369,62,366,60,364,61,364,62,361,65,359,66,359,66,359,67,359,67,358,68,357,69,357,73,358L77,359,77,362C78,364,78,366,80,367,82,370,82,374,79,378,77,381,77,381,73,381,71,382,70,381,70,381z","ru-per":"M237,428C237,427,236,426,235,424,233,422,232,420,232,420,232,420,231,420,229,419,226,419,225,418,224,417,222,415,220,411,220,410,220,410,222,410,223,409,224,409,225,408,225,407,225,407,226,404,228,401,229,398,230,395,230,394,230,390,231,388,232,386,233,386,234,384,235,383,235,382,235,381,235,379,234,376,234,376,235,375,238,373,242,369,242,369,242,368,241,366,239,364,236,361,236,361,236,357,236,354,236,354,238,354,239,354,241,354,242,354,243,354,244,355,245,357,247,360,247,360,252,362L257,363,263,362C270,361,271,361,279,364,282,365,284,366,284,367,284,367,283,368,283,370,282,371,282,373,282,374,282,376,273,387,269,388L267,389,267,391C267,393,268,395,268,397,269,399,269,399,268,400,268,401,267,403,267,404,267,405,267,406,264,407,260,408,259,410,259,412,259,413,259,413,255,413L251,413,250,416,248,419,245,419,241,419,240,423C239,428,238,428,237,428z",
"ru-pnz":"M132,424C127,422,126,422,121,417,118,414,115,411,115,411,114,410,115,410,115,409,116,409,116,407,116,401L116,394,117,393C120,392,127,397,129,401,132,405,132,405,134,404,135,404,135,404,138,405,144,407,144,408,144,415L144,421,142,423C140,424,139,426,138,426,138,426,135,425,132,424z","ru-pri":"M895,562C895,562,895,560,897,557,898,554,900,552,900,552,900,551,898,548,895,544,893,540,890,537,888,535,886,534,885,532,885,532,885,530,886,525,887,524,888,523,890,523,892,522,897,521,900,521,900,520,900,519,899,518,899,516,898,515,898,511,897,507,897,503,897,500,895,498,894,494,894,493,894,493,895,493,895,492,896,492,897,491,897,491,896,489,895,488,895,488,897,485L898,482,903,482,908,482,911,479,915,476,913,472,911,469,914,469C915,469,916,468,916,467,917,465,917,459,916,458,916,458,915,458,913,458,912,459,911,459,909,458,908,458,908,457,908,457,908,456,909,455,910,453L913,449,916,451C918,453,918,454,919,455,919,456,919,457,921,457,923,458,923,459,923,461,924,462,924,465,925,468,926,473,926,476,927,499L927,525,923,534,919,542,911,545C907,546,903,547,903,548,902,548,902,550,902,553,902,555,901,558,900,560,899,562,899,563,898,563,897,563,896,562,895,562z",
"ru-psk":"M70,305C68,300,63,287,63,286,64,285,71,272,73,270,73,270,74,269,75,269,78,269,80,268,82,264,84,261,86,260,89,260,90,260,92,266,93,271L93,276,92,276C89,276,89,277,89,280,89,282,89,283,90,284,90,285,89,286,87,288,80,296,79,297,78,301,78,303,78,305,78,305,78,306,74,308,73,308,72,308,71,307,70,305z","ru-ros":"M62,481C60,481,58,480,58,479,58,477,54,470,53,469,53,469,52,470,51,470,50,472,49,472,45,472L41,472,41,469C41,468,40,465,39,464L37,461,38,458,39,454,36,451C34,448,34,448,31,448,30,449,30,448,30,447,30,447,31,446,33,446,35,446,36,446,37,445,38,445,37,444,33,441,31,439,31,439,32,438,33,437,34,437,36,437,38,437,39,437,42,440L46,444,48,442C49,440,51,438,52,436,54,434,55,433,57,433,61,432,62,431,63,428,64,425,64,425,68,427,71,428,71,429,73,428,78,427,78,427,79,432,80,436,80,436,75,439,74,440,74,440,76,443,77,445,77,445,76,447,75,450,75,450,72,450,69,450,65,451,65,452,65,453,66,454,66,455,67,456,67,457,67,459,66,463,67,467,69,468,70,469,71,470,70,471,70,473,70,473,73,473L75,473,74,476C72,478,72,478,69,478,67,478,66,478,66,480,64,482,64,482,62,481z",
"ru-rya":"M116,388C114,386,114,386,111,386,109,387,108,387,108,387,108,385,106,384,104,384,102,384,101,384,98,379,95,375,95,375,96,375,96,374,98,373,98,371,99,369,100,368,101,368,105,367,116,365,117,365,118,365,123,371,127,376L129,379,124,384C121,387,119,389,119,389,118,389,117,389,116,388z","ru-sa":"M688,127C686,125,687,124,693,121,702,117,702,117,702,121,701,122,701,124,701,125,701,125,698,126,696,126,690,128,689,128,688,127zM677,136C673,133,673,130,678,129,680,129,680,129,681,131,681,133,682,137,681,137,681,137,679,137,677,136zM663,151C662,151,660,150,660,150,659,149,658,142,658,139,658,138,658,138,663,138L669,138,668,136C668,135,668,134,668,133,668,132,668,132,669,132,670,132,671,132,671,134,672,136,672,136,676,138L680,140,677,144C670,153,669,153,663,151zM688,162C687,158,687,158,690,157,692,156,697,156,698,157,698,158,692,162,690,164,688,164,688,164,688,162zM709,427C704,423,704,423,702,417,701,414,698,411,690,401L688,399,684,400,681,402,677,398,673,394,668,395C666,395,663,395,663,396,662,396,660,399,658,403,656,409,655,411,654,414,654,417,653,418,653,419,651,420,651,420,650,418,649,417,648,416,647,416,645,417,636,423,634,425L632,428,630,426C628,424,628,423,629,409,630,404,630,399,630,399,629,398,628,398,627,397,626,397,625,396,623,394,621,390,621,390,621,388,621,386,621,385,622,384,622,384,621,383,619,382,617,381,616,380,616,379,616,378,614,373,611,370,610,368,609,368,607,367,605,367,605,367,606,366,607,365,607,365,606,363,605,359,604,359,595,358L587,358,587,355C586,353,587,352,588,350,588,348,589,346,589,345,589,345,588,342,586,340,584,337,583,336,583,332,582,328,582,326,581,326,579,326,580,324,582,322L584,319,581,307,579,296,576,293,573,289,576,286C580,282,580,282,582,283,585,283,586,282,587,275,587,272,588,269,588,268,588,267,590,265,592,262,595,260,596,257,596,257,596,255,587,241,584,239,581,237,581,236,580,230,579,227,579,224,579,223,579,223,583,220,584,220,584,220,585,221,586,222,588,226,589,225,591,222,592,218,594,218,600,216,605,215,606,215,606,216,606,218,610,220,612,220,612,220,616,219,620,217,624,216,628,214,629,214,631,213,631,212,630,208,628,204,628,203,629,201,630,200,630,200,634,200,639,201,639,201,641,199,643,198,644,197,644,197,644,197,647,199,651,203,656,207,657,208,656,208,655,209,653,210,653,210,653,211,656,213,658,215,662,218,664,218,671,221,682,224,682,224,679,215,678,211,677,207,677,207,677,206,678,206,683,206L688,206,690,202C690,200,691,199,692,198,692,198,694,198,696,198,701,197,703,197,702,195,702,194,702,193,705,191,706,189,707,188,707,187,707,187,705,185,703,184,699,180,698,180,698,175,698,171,698,171,703,168,714,162,721,157,725,154,729,151,729,151,732,151,735,151,734,151,734,155,733,156,734,157,734,157,735,158,755,153,756,153,757,152,759,147,762,142L767,131,772,129C777,126,777,126,781,127,784,127,785,128,786,129,787,130,787,131,787,131,787,132,788,132,789,132,790,133,797,128,798,125,799,123,799,123,805,125,809,127,814,130,814,131,814,132,813,133,813,133,812,134,811,136,811,137,811,139,811,141,808,143,807,145,807,146,807,150,807,154,807,155,808,156,808,156,809,157,809,158,810,160,814,161,818,161L822,160,826,164,829,168,829,171C828,174,828,174,826,175,824,175,824,175,823,176,823,177,821,179,818,181,816,183,813,185,813,185,813,186,814,187,816,187,817,189,818,189,817,190,816,194,816,194,819,196,821,197,821,197,820,200,820,203,820,203,824,206,825,208,827,210,827,211,827,211,826,213,824,214,822,217,822,218,822,220,822,222,822,222,820,221,818,221,818,221,814,225,812,227,810,229,810,229,810,230,811,231,812,232,813,233,814,235,814,235,814,235,812,236,810,237L806,239,806,243C806,249,808,254,814,259L818,263,818,268C820,276,820,275,816,275,813,275,813,275,812,278,810,282,808,283,801,282,796,282,796,282,795,284,795,285,794,286,794,287,794,287,795,290,797,293L800,299,798,301,796,303,797,308C798,312,798,313,803,319,808,325,808,326,805,326,803,326,803,329,803,334L803,336,799,337,795,338,795,342,795,346,789,349,783,352,784,361C784,370,784,370,782,371,780,372,781,373,784,375,787,376,787,376,786,381L785,383,789,386C792,387,794,388,794,389,794,389,794,391,793,392,793,394,793,395,794,399,796,405,795,406,791,407,789,407,788,408,786,411,784,415,784,415,781,416,778,416,775,418,772,420,767,424,766,424,764,423,761,423,760,423,757,425,753,427,752,427,748,424L745,422,740,424C734,426,728,426,724,425,721,424,721,424,717,427,715,429,713,430,713,430,713,430,711,428,709,427z",
"ru-sak":"M957,448C956,448,954,447,954,446,951,444,945,436,943,430,940,426,939,425,937,424,935,423,932,420,923,409L912,396,907,393C901,390,898,388,894,382,891,376,890,375,892,373,893,372,893,371,892,369,892,366,892,365,887,363,885,363,884,361,886,360,887,360,888,360,891,364,893,366,897,370,900,372,903,375,905,378,906,379,907,381,908,382,918,388,938,398,943,401,944,402,944,402,943,403,940,404,938,405,936,407,936,407,936,408,937,411,939,415,940,420,942,424,943,426,945,430,946,431,959,435,967,437,970,440,967,440,966,440,963,440,962,439,959,439,958,439,957,439,956,440,956,440,959,447,960,449,960,450,957,448z",
"ru-sam":"M159,451C158,447,154,438,152,436,151,435,152,435,153,434,154,434,154,434,154,430,153,424,153,424,159,424,163,424,164,424,167,427,169,428,170,429,170,429,171,429,172,428,174,427L177,424,179,426C180,428,181,428,183,426,184,425,185,425,187,426,188,427,189,429,189,432L190,435,185,441C180,447,181,446,176,448,173,449,171,451,169,453,167,454,166,455,165,455,164,455,163,455,162,456,161,456,161,455,159,451z","ru-sar":"M129,466C129,465,128,464,128,463,128,462,127,458,125,455,124,450,123,449,122,449,121,449,119,448,119,446,118,444,117,443,115,443L113,443,113,437C113,434,113,432,113,431,112,431,110,430,107,429,103,428,102,428,101,426,101,424,100,423,101,422,101,422,102,420,102,418,102,416,102,416,107,414,109,412,112,411,112,411,112,411,114,412,115,414,116,415,120,418,122,420,126,424,127,424,131,425,136,426,137,427,139,429,141,430,143,432,144,432,146,433,148,433,148,434,151,435,160,456,159,457,158,457,145,459,140,460,136,460,134,461,133,465,132,467,130,468,129,466z",
"ru-se":"M36,527C32,526,31,526,30,522,30,521,30,520,33,520,35,519,38,519,39,519L42,519,42,523C42,526,42,529,40,528,40,528,38,528,36,527z","ru-smo":"M58,338C56,337,57,330,59,323,61,317,62,316,65,313,69,309,69,309,71,310,73,310,74,312,77,316L80,322,85,322,89,322,92,325C93,327,94,329,94,329,94,330,91,336,90,337,89,338,87,338,83,339L76,339,75,337,73,335,70,337C67,338,60,339,58,338z","ru-spe":"M108,267C108,266,107,262,108,262,108,262,109,262,110,263,113,264,114,264,114,262,114,261,114,260,114,260,115,260,117,261,118,262,119,262,118,264,118,265L116,268,113,268C110,268,109,267,108,267z",
"ru-sta":"M47,519C45,518,45,518,47,516,48,513,48,513,46,511,44,511,41,509,38,508,34,505,33,505,33,502,32,500,32,499,33,499,35,499,35,498,33,495,31,493,30,491,30,490,30,489,32,487,33,486,34,485,34,485,33,481,32,478,32,478,33,476,34,475,35,475,36,475,37,475,38,474,39,474,40,473,41,473,43,476,45,478,46,478,47,478,48,478,48,478,48,479,49,480,49,480,51,480,54,480,54,480,56,484,58,486,59,489,59,491,60,494,61,497,62,500,65,505,66,509,65,510,65,510,62,511,60,513,54,516,54,516,54,518,55,519,54,519,51,519,50,519,48,519,47,519z",
"ru-sve":"M289,445C288,443,282,441,279,441,279,441,277,442,276,442L273,444,271,442C269,441,268,440,268,440,267,440,265,440,258,436,256,436,256,435,256,434,256,432,254,432,252,433L250,434,245,432C241,430,241,430,242,425L243,422,246,421C250,421,250,421,251,418,253,415,253,415,257,416,260,416,260,416,261,413,261,410,261,411,268,408,270,407,270,407,270,405,270,404,270,402,271,401,272,399,272,398,270,395,269,392,269,390,271,390,273,389,277,384,281,379,282,378,283,376,284,374,284,372,286,368,287,368,287,367,288,367,288,366,288,366,288,365,289,364,289,363,290,363,290,365,291,368,292,368,295,370,297,371,298,372,301,377L305,383,303,389,302,395,303,397C305,400,305,400,304,404L303,408,305,409C306,410,307,411,307,411,307,411,308,411,309,412,310,414,311,414,311,417,311,419,311,422,312,422,312,423,313,425,313,427L313,430,310,431C307,431,304,431,303,430,302,429,298,439,298,442,298,444,298,445,298,445,298,445,297,444,296,444,294,443,294,443,292,444L290,446,289,445z",
"ru-zab":"M652,559C649,557,649,556,649,555,649,553,650,552,652,550,653,549,655,548,655,548,655,547,654,547,652,546,649,545,649,544,651,542,652,540,652,540,652,538,651,536,651,535,652,535,653,534,654,534,655,534,656,535,657,534,659,533,661,531,662,531,665,530,668,530,668,530,669,528,669,527,671,525,673,523,675,521,676,520,676,518,676,516,677,516,680,514,683,513,685,512,688,508,691,504,691,503,691,501,691,498,691,498,689,497,686,496,685,492,687,490,687,490,689,487,690,485,694,479,698,475,700,474,702,474,703,473,703,470,703,468,703,467,702,466,700,464,695,462,693,462,692,462,684,449,684,445,683,444,684,444,688,443,695,442,697,440,697,436,696,431,696,431,693,430,691,430,689,427,689,423,689,418,689,418,695,418L700,418,701,421C702,424,703,425,707,428,710,431,714,433,716,434,719,436,719,436,719,438,719,440,719,441,721,442L723,443,725,442C726,441,727,440,727,440,727,440,728,442,729,443,730,445,731,446,732,446,732,446,733,445,734,445,735,444,736,443,736,444,736,444,737,446,738,448,738,451,740,453,741,454L742,456,741,457C740,458,740,459,740,460,740,460,742,462,744,464L748,467,744,471C742,473,740,475,739,478,738,483,738,484,740,485,741,485,743,487,744,488L747,491,746,495C744,499,744,499,744,508,744,517,744,517,746,519,747,521,747,522,744,523,742,523,742,525,741,527,740,529,739,531,738,531,734,532,731,532,727,531,723,530,722,530,720,533,718,536,718,536,713,534,709,533,704,533,703,535,702,535,700,538,698,541,695,546,695,547,687,552L680,558,669,559C655,561,655,561,652,559z",
"ru-ta":"M195,435C193,433,192,432,192,432,191,432,190,429,190,427,190,426,186,423,185,423,184,423,183,424,182,424L181,426,179,424C179,423,178,422,178,421,178,421,177,420,177,419,176,419,175,417,174,416,174,413,173,413,172,413,169,413,169,413,167,411,166,409,166,409,163,409,161,409,160,408,160,408,159,407,160,407,161,407,162,407,164,407,166,406L169,406,169,404,168,401,172,400C174,399,178,398,181,397L187,395,189,397C190,398,191,398,193,398,194,398,194,398,196,406,196,409,198,414,199,414,199,414,202,414,205,413,208,412,211,411,211,411,212,412,211,414,210,416,207,418,207,419,209,420,211,420,213,423,212,424,211,424,209,425,207,425L203,427,203,429C203,431,202,433,200,436,199,438,198,439,198,439,197,439,196,438,195,435z",
"ru-tam":"M98,411C93,406,92,405,92,403,91,402,91,401,93,401,94,401,94,401,94,396,94,393,94,391,94,391,99,387,101,386,103,386,105,386,106,386,106,387,107,389,107,389,111,388,113,388,114,388,115,389L116,390,115,392,113,393,113,400,114,407,107,411C104,412,101,414,101,414,100,414,99,413,98,411z","ru-tom":"M435,486,434,481,428,481C424,481,421,481,421,480,420,480,418,479,416,479,412,479,412,479,409,474,407,470,404,469,394,466,389,465,384,464,384,463,383,463,382,460,381,456,378,450,378,449,379,446,379,443,380,442,384,438,388,433,388,433,390,433,392,433,393,433,394,432,394,432,396,428,397,424,399,420,400,417,400,416,400,416,403,416,406,417,411,417,412,417,413,419L414,421,419,420C424,420,424,420,428,422,431,423,433,424,434,424,434,424,436,423,439,422,442,419,443,419,444,419,445,420,445,420,445,421,445,421,446,421,447,422,448,422,449,423,449,425L451,428,449,430C448,432,448,432,449,434,450,436,451,436,460,436,465,437,465,437,468,440,473,445,473,445,475,445,477,445,477,446,478,447,479,449,479,449,476,452,472,454,472,455,472,459,472,461,472,462,474,462,481,464,482,464,482,465,482,466,481,468,480,470,477,473,477,474,477,476,478,480,477,480,468,481,461,481,460,482,457,484,455,485,451,486,449,487,446,487,442,488,440,489,438,490,436,491,436,491,436,491,435,489,435,486z",
"ru-tul":"M85,375C85,374,84,373,84,373,83,373,83,372,83,371,83,369,83,368,81,366,80,364,79,364,79,361L79,357,82,355,85,354,88,355C92,356,92,356,94,354L97,353,98,357C100,361,100,362,99,365,96,374,96,373,90,375L86,377,85,375z","ru-tve":"M120,335C119,334,117,333,113,332,107,331,107,331,105,329,104,327,103,327,101,327,99,328,98,328,97,328,97,328,95,327,94,325L91,321,86,321C84,321,82,321,82,320,81,320,75,311,75,310,75,309,76,309,77,308,79,307,80,307,80,303,81,297,83,296,85,299,85,300,87,300,92,301,95,302,99,303,100,303,101,304,102,304,106,303L110,301,114,305C117,308,117,308,118,308,120,307,121,307,125,309,127,310,128,311,130,311,133,311,133,311,134,312,134,315,133,317,130,320,126,324,124,329,125,331,126,332,126,332,124,334,124,335,123,336,122,336,122,336,121,336,120,335z",
"ru-ty":"M484,574C483,573,483,573,484,572,486,570,486,569,484,566,483,564,481,561,480,559,478,555,479,555,483,555,487,555,488,553,488,550,489,549,489,547,490,547,491,546,491,546,493,548,495,549,496,550,501,550,511,551,517,549,522,541,523,539,525,536,526,535,527,534,528,532,528,531,528,529,529,529,533,528,544,525,544,525,544,523,543,521,546,522,553,526,559,529,560,530,562,529,563,528,564,529,564,529,565,530,565,530,564,531,562,533,561,538,563,541,564,542,564,543,564,543,564,543,562,546,560,550,557,553,555,556,555,556,555,557,557,560,558,563,559,566,560,570,560,570,560,570,559,571,557,572,554,574,554,574,542,574L530,574,529,571C529,569,528,567,527,567,527,566,522,565,517,564L509,563,497,569C490,572,485,575,485,575,484,575,484,575,484,574z",
"ru-tyu":"M325,476C319,474,319,473,318,472,318,471,316,469,315,468,314,467,312,465,312,464,311,462,307,459,304,459,302,458,301,458,300,455,297,450,297,449,299,447,300,446,300,445,300,442,300,440,301,438,302,436,303,433,304,433,311,432L314,432,314,429C314,426,315,426,316,426,317,426,319,425,320,424,322,424,325,423,328,422,334,420,340,417,341,414,341,413,342,413,342,413,343,413,346,414,349,416,355,419,355,419,359,425,361,428,363,432,363,434,365,436,365,437,370,439,373,440,376,441,377,441,377,441,376,443,374,444,371,446,371,446,366,445,360,445,356,444,353,443,351,442,350,442,349,439,348,436,347,435,347,435,346,435,344,437,343,440,340,444,340,445,340,449,340,453,340,454,343,454,345,454,345,455,346,459L346,462,343,463,339,463,336,471C333,475,332,478,331,478,331,478,328,477,325,476z",
"ru-ud":"M211,417C212,416,213,414,213,412,213,408,213,408,205,411,200,412,200,412,199,411,198,409,198,408,200,404,201,402,201,401,202,401,204,401,204,400,205,396,206,393,206,392,209,392,211,392,211,392,214,388,217,382,217,382,224,386L229,388,228,392C228,395,228,397,227,399,227,400,225,402,225,404,223,407,223,407,221,408,219,409,218,410,219,411,220,414,220,415,216,417,211,419,210,419,211,417z","ru-uly":"M147,431C146,431,143,430,142,429L139,427,143,424,147,421,146,417C145,415,145,412,145,411L145,409,149,408C152,408,152,408,153,406,153,405,154,405,154,405,156,405,158,406,158,408,158,409,158,410,159,410,166,411,166,411,167,413,167,414,168,414,170,414,172,414,172,415,173,417,173,418,174,420,175,420L176,422,174,425,171,428,167,425C164,423,164,422,160,422,158,422,155,423,154,423L151,424,152,428C152,433,152,433,147,431z",
"ru-vgg":"M105,469C104,467,103,467,97,466,94,466,89,467,88,468,87,469,87,468,86,465,86,463,85,463,83,466,81,468,80,468,76,468,71,468,69,467,68,464,68,463,68,461,68,459,69,457,69,456,68,455,67,452,67,451,73,451,76,451,76,451,77,448L79,445,78,443,76,441,79,438,82,436,81,433C80,431,80,428,80,428,79,427,80,426,82,425,84,424,85,423,85,421,86,420,86,420,89,420,91,420,93,420,93,421,94,421,95,422,96,422,97,423,98,425,99,427,101,429,101,430,105,431,108,432,110,433,111,433,111,434,111,438,111,441,110,443,111,445,113,445,115,445,116,446,117,448,118,449,119,450,120,451,121,451,122,452,123,454,123,455,123,456,123,457,123,457,121,458,118,460,112,463,111,464,111,466,111,468,110,469,108,470L106,471,105,469z",
"ru-vla":"M124,369C119,363,119,364,121,360L123,356,121,354C117,351,117,350,118,345,119,343,120,341,120,341,120,341,121,342,122,344,124,346,124,346,126,345,129,345,130,346,129,348,128,349,128,349,129,350,129,351,130,352,131,353,134,354,144,364,143,365,142,366,128,372,127,372,127,372,125,371,124,369z","ru-vlg":"M186,345C182,344,181,343,178,339,176,335,174,334,171,332,168,331,168,331,162,331,158,331,155,332,154,333,153,333,152,334,152,334,151,333,151,331,150,327,150,323,149,321,148,320,147,318,146,318,144,319,143,320,142,320,141,317,140,316,138,315,137,315,136,314,136,314,136,312,136,309,135,308,132,308,129,308,129,308,129,306,129,305,129,304,127,303,125,301,125,301,126,300,127,299,129,297,131,296,136,293,137,292,137,290,137,289,138,288,141,285,143,283,146,282,146,281,147,281,150,281,154,281,159,282,160,282,162,284L164,286,162,291C161,294,160,296,160,297,160,298,169,308,170,308,171,308,172,308,172,309,172,310,174,312,177,313,180,315,183,317,184,318L186,321,189,320C193,319,194,320,194,322,194,324,196,325,199,324,201,324,202,324,202,326,203,327,204,328,204,329,206,330,206,331,206,333,205,334,204,335,202,336,198,338,197,339,199,340,200,341,200,341,199,343,199,345,199,345,196,345,195,344,193,345,192,345,190,346,190,346,186,345z",
"ru-vor":"M68,424C67,423,65,423,65,422,64,422,62,419,61,417,61,417,62,415,65,412,69,408,70,405,70,398L70,395,73,392C77,390,79,390,80,392,80,393,81,394,81,394,82,394,83,395,83,397,84,399,85,400,86,400,89,401,91,403,91,405,91,406,93,408,95,411,99,415,99,416,99,418,99,421,98,421,95,419,93,417,93,417,88,418,86,418,84,418,83,418,83,419,83,420,83,421,82,423,82,423,79,424,73,426,72,426,68,424z","ru-yan":"M446,396C442,393,440,393,438,393,436,393,435,392,433,389,428,384,428,384,424,388L420,391,415,391,409,391,405,386,401,382,396,381C390,380,390,379,386,376,382,373,381,373,378,373L374,373,371,368C370,364,369,362,369,360,369,358,369,357,366,355,364,353,362,352,361,352,361,352,359,352,356,353L353,354,350,353C348,351,347,351,347,349,347,345,344,343,334,342,327,341,327,341,326,339,324,336,324,336,326,332,327,330,327,329,327,325L327,320,329,320C330,320,333,318,334,317,337,314,338,314,343,313,350,312,350,312,355,307,358,304,359,302,360,300,360,298,360,298,360,297,357,296,357,296,359,292,361,290,362,289,362,288,362,288,361,286,360,284,358,281,358,279,360,279,360,279,363,283,367,289,371,295,373,298,374,298,375,298,376,297,377,295,379,291,380,290,379,288,378,286,378,285,378,283,378,279,378,279,376,277L374,275,375,273C376,272,378,269,379,267,381,262,381,262,380,260,379,257,380,256,385,252,390,249,391,248,395,242,398,238,400,236,401,236,402,236,409,238,410,239,410,239,410,241,410,243,410,245,409,247,405,251,403,254,401,257,401,258,401,258,402,261,402,263,403,266,403,266,401,271,401,274,400,277,400,277,400,278,399,281,398,285,397,288,396,292,396,293,396,293,396,296,397,298L399,301,396,306C395,309,393,311,393,311,393,311,391,313,389,316,385,320,385,320,382,320,381,320,377,320,375,319,366,316,365,318,371,324,375,329,380,331,383,331,387,331,394,328,397,324,398,323,401,320,403,319L407,316,407,309C407,301,407,301,411,300,414,299,416,301,417,305,419,313,419,313,421,313,422,313,423,312,425,311L427,310,426,306C426,303,426,301,425,300,425,299,423,297,421,296,417,293,416,293,412,292,408,291,408,291,407,290,406,286,407,284,410,279,412,276,413,274,413,273,413,273,412,270,411,267,410,260,410,259,414,255,417,252,421,249,421,250,422,250,421,253,419,257,418,260,417,263,417,263,417,264,429,271,432,271,433,271,435,270,435,268,435,268,433,265,431,263,428,260,427,258,427,257,427,256,428,255,429,257,431,258,432,259,434,258,436,257,436,256,434,252,432,250,432,249,433,249,435,246,437,248,436,251,435,252,435,252,436,253,436,253,438,255,440,257L442,260,439,262C438,264,436,266,436,266,436,266,438,268,439,270,442,273,442,274,441,278,441,280,440,281,436,284,434,286,432,287,432,288,432,288,434,293,438,297,439,299,440,299,442,299,444,298,445,298,445,298,446,299,446,301,447,303L449,308,446,314,443,320,443,325C444,328,445,331,446,333,448,336,448,337,448,343,448,349,449,351,451,351,453,351,453,352,453,357,453,363,454,364,458,365,461,366,461,367,461,371,461,376,461,376,459,379L456,383,457,386C458,388,458,390,458,390,458,391,452,398,451,398,451,398,448,397,446,396z",
"ru-yar":"M123,343C122,341,122,339,125,336,128,332,128,332,127,331,126,328,128,325,131,321,135,317,137,317,140,320L143,323,144,322C146,321,146,321,147,322,148,323,149,331,149,334,149,336,149,336,147,337,147,337,145,338,143,340,140,342,139,343,138,342,136,341,128,342,127,343,126,344,124,344,123,343z","ru-yev":"M859,496C859,496,857,494,855,491,849,484,849,485,850,481,851,479,851,477,851,477,852,477,864,470,865,470,865,470,866,471,868,471,870,472,870,472,875,471,878,470,881,470,881,470,881,470,880,473,878,476,876,479,873,483,872,485,870,489,864,495,862,496,861,496,860,496,859,496z"},
US_SHAPES:{"us-hi":"M233,519.3L235,515.7L237.2,515.4L237.6,516.2L235.5,519.3L233,519.3zM243.2,515.5L249.4,518.1L251.5,517.8L253.1,513.9L252.4,510.5L248.2,510L244.2,511.8L243.2,515.5zM273.9,525.6L277.7,531.1L280.1,530.7L281.2,530.3L282.7,531.5L286.4,531.4L287.4,529.9L284.4,528.2L282.5,524.4L280.4,520.9L274.6,523.8L273.9,525.6zM294.1,534.5L295.4,532.5L300.1,533.5L300.8,533L306.9,533.6L306.6,534.9L304,536.4L299.6,536.1L294.1,534.5zM299.5,539.6L301.4,543.5L304.5,542.4L304.8,540.8L303.2,538.7L299.5,538.3L299.5,539.6zM306.4,538.5L308.7,535.6L313.4,538L317.7,539.1L322.1,541.9L322.1,543.8L318.6,545.6L313.7,546.6L311.3,545.1L306.4,538.5zM323.1,554L324.7,552.7L328.1,554.3L335.7,557.9L339.1,560L340.7,562.4L342.6,566.8L346.7,569.4L346.4,570.7L342.5,573.9L338.3,575.4L336.8,574.7L333.8,576.5L331.3,579.7L329.1,582.6L327.3,582.5L323.7,579.9L323.4,575.4L324.1,572.9L322.4,567.3L320.3,565.5L320.2,562.9L322.4,561.9L324.5,558.9L325,557.9L323.4,556.1L323.1,554z",
"us-ak":"M158,453.6L157.7,539L159.3,540L162.4,540.1L163.8,539L166.4,539L166.6,541.9L173.5,548.7L174,551.3L177.4,549.3L178.1,549.2L178.4,546.1L179.9,544.5L181,544.3L182.9,542.9L186,545L186.6,547.9L188.6,549L189.7,551.4L193.6,553.2L197,559.2L199.7,563.1L202,565.8L203.5,569.5L208.5,571.3L213.6,573.4L214.6,577.8L215.1,580.9L214.1,584.2L212.3,586.5L210.7,585.7L209.3,582.6L206.5,581.2L204.7,580L203.9,580.9L205.4,583.6L205.6,587.3L204.4,587.8L202.5,585.9L200.4,584.6L200.9,586.2L202.2,588L201.4,588.8 C 201.4,588.8 200.5,588.5 200.1,587.8 C 199.6,587.2 198,584.4 198,584.4L197,582.1 C 197,582.1 196.7,583.4 196,583.1 C 195.4,582.8 194.7,581.7 194.7,581.7L196.5,579.7L195,578.3L195,573.3L194.2,573.3L193.4,576.6L192.3,577.1L191.3,573.4L190.7,569.7L189.9,569.2L190.2,574.9L190.2,576L188.7,574.7L185.2,568.7L183.1,568.2L182.4,564.5L180.8,561.6L179.2,560.5L179.2,558.2L181.3,556.9L180.8,556.6L178.2,557.2L174.8,554.8L172.3,551.9L167.4,549.3L163.4,546.7L164.7,543.5L164.7,541.9L162.9,543.5L160,544.6L156.2,543.5L150.6,541.1L145.1,541.1L144.4,541.6L138,537.7L135.9,537.4L133.1,531.5L129.6,531.9L126,533.3L126.5,537.9L127.6,534.9L128.6,535.3L127.1,539.6L130.4,536.9L131,538.5L127.1,542.9L125.9,542.5L125.4,540.6L124.1,539.8L122.8,540.9L120,539.1L117,541.2L115.2,543.3L111.8,545.4L107.1,545.3L106.6,543.2L110.3,542.5L110.3,541.2L108.1,540.6L109,538.2L111.3,534.3L111.3,532.5L111.5,531.7L115.8,529.4L116.8,530.7L119.6,530.7L118.3,528.2L114.5,527.8L109.5,530.6L107.1,534L105.3,536.6L104.2,538.8L100,540.3L96.9,542.9L96.6,544.5L98.9,545.4L99.7,547.6L96.9,550.8L90.5,555L82.7,559.2L80.6,560.3L75.3,561.5L69.9,563.7L71.7,565L70.2,566.5L69.8,567.6L67,566.6L63.8,566.8L63,569.1L62,569.1L62.3,566.6L58.8,567.9L55.9,568.9L52.5,567.6L49.6,569.5L46.3,569.5L44.2,570.8L42.6,571.6L40.5,571.3L37.9,570.2L35.6,570.8L34.7,571.8L33.1,570.7L33.1,568.7L36.1,567.4L42.4,568.1L46.8,566.5L48.9,564.4L51.8,563.7L53.6,562.9L56.3,563.1L58,564.4L58.9,564L61.2,561.3L64.3,560.3L67.7,559.7L69,559.4L69.6,559.8L70.4,559.8L71.7,556.1L75.7,554.7L77.7,550.9L79.9,546.4L81.6,545L81.9,542.4L80.3,543.7L76.9,544.3L76.2,541.9L74.9,541.6L74,542.5L73.8,545.4L72.3,545.3L70.9,539.5L69.6,540.8L68.5,540.3L68.1,538.3L64.1,538.5L62,539.6L59.4,539.3L60.9,537.9L61.4,535.3L60.7,533.3L62.2,532.4L63.5,532.2L62.8,530.4L62.8,526L61.8,525.1L61,526.5L54.9,526.5L53.4,525.2L52.8,521.4L50.7,517.8L50.7,516.8L52.8,516L52.9,513.9L54.1,512.8L53.3,512.3L52,512.8L50.8,510L51.8,505L56.3,501.8L58.9,500.2L60.9,496.5L63.6,495.2L66.2,496.3L66.5,498.7L69,498.4L72.2,496L73.8,496.6L74.8,497.3L76.4,497.3L78.7,496L79.5,491.6 C 79.5,491.6 79.8,488.7 80.4,488.2 C 81.1,487.7 81.4,487.3 81.4,487.3L80.3,485.3L77.7,486.1L74.4,486.9L72.5,486.4L69,484.7L63.9,484.5L60.4,480.8L60.9,476.9L61.5,474.5L59.4,472.7L57.5,469L58,468.2L64.7,467.7L66.8,467.7L67.8,468.7L68.5,468.7L68.3,467L72.2,466.4L74.8,466.7L76.2,467.9L74.8,470L74.3,471.4L77,473L82,474.8L83.8,473.8L81.6,469.5L80.6,466.2L81.6,465.4L78.2,463.5L77.7,462.4L78.2,460.7L77.4,456.9L74.4,452.2L72,448L74.9,446L78.2,446L79.9,446.7L84.1,446.5L87.9,443L89,439.9L92.7,437.5L94.3,438.4L97.1,437.8L100.8,435.7L101.9,435.5L102.9,436.3L107.4,436.2L110.2,433.1L111.3,433.1L114.9,435.5L116.8,437.6L116.3,438.8L117,439.9L118.6,438.3L122.5,438.6L122.8,442.3L124.7,443.8L131.8,444.4L138.1,448.6L139.6,447.6L144.8,450.2L146.9,449.6L148.8,448.8L153.7,450.7L158,453.6zM42.9,482.6L45,487.9L44.9,488.9L42,488.5L40.2,484.5L38.4,483L36,483L35.8,480.5L37.6,478L38.7,480.5L40.2,481.9L42.9,482.6zM40.3,516L44.1,516.8L47.8,517.8L48.6,518.8L47,522.5L43.9,522.3L40.5,518.8L40.3,516zM19.6,502L20.8,504.5L21.9,506.2L20.8,507L18.7,503.9L18.7,502L19.6,502zM5.9,575L9.3,572.8L12.7,571.8L15.3,572.1L15.8,573.7L17.7,574.2L19.6,572.3L19.3,570.7L22.1,570L25,572.6L23.8,574.4L19.5,575.5L16.7,575L13,573.9L8.7,575.4L7,575.7L5.9,575zM54.9,570.5L56.5,572.4L58.6,570.8L57.2,569.5L54.9,570.5zM57.8,573.6L58.9,571.3L61,571.6L60.2,573.6L57.8,573.6zM81.4,571.6L82.9,573.4L83.8,572.3L83,570.3L81.4,571.6zM90.1,559.2L91.3,565L94.2,565.8L99.2,562.9L103.5,560.3L101.9,557.9L102.4,555.5L100.3,556.8L97.4,556L99,554.8L101,555.6L104.8,553.9L105.3,552.4L102.9,551.6L103.7,549.7L101,551.6L96.3,555.1L91.4,558.1L90.1,559.2zM132.5,539.3L134.9,537.9L133.9,536.1L132.2,537L132.5,539.3z",
"us-fl":"M759.8,439.1L762,446.4L765.8,456.2L771.1,465.5L774.8,471.8L779.7,477.3L783.7,481L785.3,484L784.2,485.3L783.4,486.5L786.3,494L789.2,496.9L791.8,502.2L795.3,508L799.9,516.3L801.2,523.9L801.7,535.9L802.3,537.6L802,541L799.5,542.3L799.9,544.3L799.2,546.2L799.5,548.6L800,550.6L797.3,553.8L794.2,555.3L790.3,555.4L788.9,557L786.5,558L785.2,557.5L784,556.5L783.7,553.6L782.9,550.2L779.5,545.1L775.9,542.8L772.1,542.5L771.3,543.8L768.2,539.4L767.5,535.9L765,531.8L763.2,530.7L761.6,532.8L759.8,532.5L757.7,527.4L754.8,523.6L751.9,518.2L749.3,515.2L745.7,511.4L747.8,509L751.1,503.5L750.9,501.9L746.4,500.9L744.7,501.6L745.1,502.2L747.7,503.2L746.2,507.7L745.4,508.2L743.6,504.2L742.3,499.3L742,496.6L743.5,491.9L743.5,482.3L740.4,478.6L739.1,475.6L733.9,474.3L732,473.6L730.4,471L727,469.4L725.8,466L723.1,465L720.7,461.3L716.5,459.9L713.5,458.4L711,458.4L706.9,459.2L706.8,461.2L707.6,462.1L707.1,463.3L704,463.1L700.3,466.7L696.7,468.6L692.9,468.6L689.6,469.9L689.3,467.1L687.7,465.2L684.8,464.1L683.2,462.6L675.1,458.7L667.5,457L663.1,457.6L657.1,458.1L651.1,460.2L647.7,460.8L647.4,452.8L644.8,450.8L643.1,449L643.4,446L653.6,444.7L679.1,441.8L685.9,441.1L691.3,441.4L693.9,445.3L695.4,446.7L703.5,447.2L714.3,446.6L735.8,445.3L741.3,444.6L746.4,444.8L746.8,447.7L749,448.6L749.3,443.9L747.7,439.8L749,438.3L754.6,438.8L759.8,439.1zM772.3,571.5L774.7,570.9L776,570.6L777.5,568.3L779.8,566.6L781.1,567.1L782.8,567.5L783.2,568.5L779.7,569.7L775.5,571.2L773.2,572.4L772.3,571.5zM785.8,566.5L787,567.5L789.8,565.4L795.1,561.2L798.8,557.4L801.3,550.7L802.3,549L802.5,545.6L801.7,546.1L800.8,548.9L799.3,553.6L796.1,558.8L791.7,563L788.3,565L785.8,566.5z",
"us-nh":"M880.7,142.4L881.6,141.3L882.7,138L880.2,137.1L879.7,134L875.8,132.9L875.5,130.1L868.2,106.7L863.6,92.2L862.7,92.2L862.1,93.8L861.4,93.3L860.4,92.3L859,94.3L858.9,99.3L859.2,105L861.2,107.7L861.2,111.7L857.5,116.8L854.9,117.9L854.9,119.1L856,120.8L856,129.4L855.2,138.6L855,143.5L856,144.8L855.9,149.3L855.4,151.1L856.3,151.8L873.1,147.4L875.3,146.8L877.1,144L880.7,142.4z","us-mi":"M581.61931,82.059006 L 583.4483,80.001402 L 585.62022,79.201221 L 590.99286,75.314624 L 593.27908,74.743065 L 593.73634,75.200319 L 588.59232,80.344339 L 585.27728,82.287628 L 583.21967,83.202124 L 581.61931,82.059006 z M 667.79369,114.18719 L 668.44033,116.69293 L 671.67355,116.85459 L 672.96684,115.64213 C 672.96684,115.64213 672.88601,114.18719 672.56269,114.02552 C 672.23936,113.86386 670.94608,112.16642 670.94608,112.16642 L 668.76366,112.40891 L 667.14704,112.57057 L 666.82372,113.7022 L 667.79369,114.18719 z M 567.49209,111.21318 L 568.20837,110.63278 L 570.9566,109.82447 L 574.51313,107.56123 L 574.51313,106.59126 L 575.15978,105.94462 L 581.14121,104.97466 L 583.56612,103.03473 L 587.93095,100.93315 L 588.09261,99.639864 L 590.03254,96.729975 L 591.8108,95.921673 L 593.10409,94.143408 L 595.36733,91.880161 L 599.73217,89.455254 L 604.42032,88.970273 L 605.55194,90.101896 L 605.22862,91.071859 L 601.51043,92.041822 L 600.05549,95.113371 L 597.79224,95.921673 L 597.30726,98.34658 L 594.88235,101.57979 L 594.55903,104.16636 L 595.36733,104.65134 L 596.3373,103.51972 L 599.89383,100.60983 L 601.18711,101.90311 L 603.45036,101.90311 L 606.68357,102.87307 L 608.13851,104.0047 L 609.59345,107.07625 L 612.34168,109.82447 L 616.22153,109.66281 L 617.67648,108.69285 L 619.29308,109.98613 L 620.90969,110.47112 L 622.20297,109.66281 L 623.33459,109.66281 L 624.9512,108.69285 L 628.99271,105.13632 L 632.38758,104.0047 L 639.01566,103.68138 L 643.54215,101.74145 L 646.12872,100.44817 L 647.58367,100.60983 L 647.58367,106.26794 L 648.06865,106.59126 L 650.97853,107.39957 L 652.91846,106.91458 L 659.06156,105.29798 L 660.19318,104.16636 L 661.64813,104.65134 L 661.64813,111.60274 L 664.88134,114.67429 L 666.17462,115.32093 L 667.4679,116.29089 L 666.17462,116.61421 L 665.36632,116.29089 L 661.64813,115.80591 L 659.54654,116.45255 L 657.28329,116.29089 L 654.05008,117.74584 L 652.27182,117.74584 L 646.45204,116.45255 L 641.27891,116.61421 L 639.33898,119.20078 L 632.38758,119.84742 L 629.96267,120.65572 L 628.83105,123.72727 L 627.53777,124.8589 L 627.05279,124.69724 L 625.59784,123.08063 L 621.07135,125.50554 L 620.42471,125.50554 L 619.29308,123.88893 L 618.48478,124.05059 L 616.54486,128.41543 L 615.57489,132.45694 L 612.39377,139.45774 L 611.21701,138.42347 L 609.84527,137.39215 L 607.90449,127.10413 L 604.36001,125.73408 L 602.30743,123.44785 L 590.18707,120.70437 L 587.3318,119.67473 L 579.10138,117.50199 L 571.21139,116.35887 L 567.49209,111.21318 z,M697.8,177.2L694.6,168.9L692.3,159.9L689.9,156.7L687.3,154.9L685.7,156L681.8,157.8L679.9,162.8L677.1,166.5L676,167.2L674.5,166.5 C 674.5,166.5 671.9,165.1 672.1,164.4 C 672.3,163.8 672.6,159.4 672.6,159.4L676,158.1L676.8,154.7L677.4,152.1L679.9,150.5L679.5,140.5L677.9,138.2L676.6,137.4L675.8,135.3L676.6,134.5L678.2,134.8L678.4,133.2L676,131L674.7,128.4L672.1,128.4L667.6,126.9L662.1,123.5L659.3,123.5L658.7,124.2L657.7,123.7L654.6,121.4L651.7,123.2L648.8,125.5L649.2,129L650.1,129.3L652.2,129.8L652.7,130.6L650.1,131.4L647.5,131.8L646.1,133.5L645.8,135.6L646.1,137.3L646.4,142.8L642.8,144.9L642.2,144.7L642.2,140.5L643.5,138.1L644.1,135.6L643.3,134.8L641.4,135.6L640.4,139.8L637.7,141L635.9,142.9L635.7,143.9L636.4,144.7L635.7,147.3L633.5,147.8L633.5,148.9L634.3,151.3L633.1,157.5L631.5,161.5L632.2,166.2L632.7,167.3L631.9,169.8L631.5,170.6L631.2,173.3L634.8,179.3L637.7,185.8L639.1,190.6L638.3,195.3L637.3,201.3L634.9,206.4L634.6,209.2L631.3,212.3L635.8,212.1L657.2,209.9L664.4,208.9L664.5,210.5L671.4,209.3L681.7,207.8L685.5,207.4L685.7,206.8L685.8,205.3L687.9,201.6L689.9,199.9L689.7,194.8L691.3,193.2L692.4,192.9L692.6,189.3L694.2,186.3L695.2,186.9L695.4,187.5L696.2,187.7L698.1,186.7L697.8,177.2z",
"us-vt":"M844.4,154L844.8,148.7L841.9,137.9L841.2,137.6L838.3,136.3L839.1,133.4L838.3,131.3L835.6,126.6L836.6,122.7L835.8,117.6L833.3,111.1L832.5,106.2L859,99.4L859.3,105L861.2,107.7L861.2,111.7L857.5,116.8L854.9,117.9L854.9,119.1L856.2,120.6L855.9,128.7L855.3,137.9L855,143.5L856,144.8L855.8,149.4L855.4,151.1L856.4,151.8L848.9,153.3L844.4,154z","us-me":"M922.8,78.8L924.7,80.9L927,84.6L927,86.5L924.9,91.2L923,91.9L919.6,94.9L914.7,100.4 C 914.7,100.4 914.1,100.4 913.4,100.4 C 912.8,100.4 912.4,98.3 912.4,98.3L910.7,98.5L909.7,100L907.3,101.4L906.3,102.9L907.9,104.3L907.4,105L906.9,107.7L905,107.6L905,105.9L904.7,104.6L903.2,105L901.5,101.7L899.3,103L900.6,104.5L901,105.6L900.2,106.9L900.5,110L900.6,111.6L899,114.2L896.1,114.7L895.8,117.6L890.5,120.7L889.2,121.1L887.5,119.7L884.5,123.2L885.4,126.5L884,127.8L883.8,132.1L882.7,138.4L880.2,137.2L879.8,134.2L875.9,133L875.6,130.3L868.3,106.8L863.6,92.2L865,92.1L866.5,92.5L866.5,89.9L867.8,85.4L870.4,80.7L871.9,76.7L869.9,74.3L869.9,68.3L870.7,67.3L871.5,64.6L871.4,63.1L871.2,58.2L873,53.4L875.9,44.5L878,40.3L879.3,40.3L880.6,40.5L880.6,41.6L881.9,43.9L884.6,44.5L885.4,43.7L885.4,42.7L889.5,39.8L891.3,38L892.7,38.2L898.7,40.6L900.6,41.6L909.7,71.5L915.7,71.5L916.5,73.4L916.6,78.3L919.6,80.6L920.4,80.6L920.5,80.1L920,78.9L922.8,78.8zM901.9,108.9L903.4,107.4L904.8,108.4L905.3,110.9L903.6,111.8L901.9,108.9zM908.6,103L910.3,104.9 C 910.3,104.9 911.6,105 911.6,104.6 C 911.6,104.3 911.9,102.6 911.9,102.6L912.8,101.8L912,100L909.9,100.8L908.6,103z",
"us-ri":"M874,178.8L870.3,163.9L876.6,162L878.8,164L882.1,168.3L884.8,172.7L881.8,174.3L880.5,174.2L879.4,175.9L876.9,177.9L874,178.8z","us-ny":"M830.3,188.7L829.2,187.7L826.6,187.6L824.3,185.6L822.7,179.5L819.3,179.6L816.8,176.9L797.4,181.3L754.4,190L746.9,191.2L746.2,184.7L747.6,183.6L748.9,182.5L749.9,180.9L751.6,179.7L753.6,178L754.1,176.3L756.2,173.6L757.3,172.6L757.1,171.7L755.8,168.6L754.1,168.4L752.1,162.3L755,160.5L759.4,159.1L763.4,157.8L766.7,157.3L773,157.1L774.9,158.4L776.5,158.6L778.6,157.3L781.2,156.1L786.4,155.7L788.5,153.9L790.3,150.6L791.9,148.7L794,148.7L795.9,147.6L796.1,145.3L794.6,143.2L794.3,141.8L795.4,139.7L795.4,138.2L793.7,138.2L791.9,137.4L791.1,136.3L790.9,133.7L796.7,128.2L797.4,127.4L798.8,124.5L801.7,119.9L804.5,116.2L806.6,113.8L809,112L812.1,110.7L817.6,109.4L820.8,109.6L825.3,108.1L832.9,106.1L833.4,111L835.9,117.5L836.7,122.7L835.7,126.6L838.3,131.1L839.1,133.2L838.3,136.1L841.2,137.4L841.8,137.7L844.9,148.7L844.4,153.8L843.9,164.6L844.7,170.1L845.5,173.6L847,180.9L847,189L845.8,191.3L847.7,193.3L848.5,194.9L846.5,196.7L846.8,198L848.1,197.7L849.6,196.4L851.9,193.8L853,193.2L854.6,193.8L856.9,194L864.8,190.1L867.7,187.3L869,185.9L873.2,187.5L869.8,191.1L865.9,194L858.8,199.3L856.2,200.3L850.4,202.2L846.4,203.3L845.2,202.8L844.9,199.1L845.4,196.4L845.3,194.3L842.5,192.6L837.9,191.6L834,190.5L830.3,188.7z",
"us-pa":"M825.1,224.6L826.4,224.4L828.7,223.1L829.9,220.6L831.5,218.4L834.8,215.3L834.8,214.5L832.3,212.9L828.8,210.5L827.8,207.9L825.1,207.5L824.9,206.4L824.1,203.7L826.4,202.5L826.5,200.1L825.2,198.8L825.4,197.2L827.3,194.1L827.3,191.1L830,188.4L829.1,187.7L826.6,187.5L824.3,185.6L822.7,179.5L819.2,179.6L816.8,176.9L798.7,181.1L755.7,189.8L746.8,191.3L746.2,184.7L740.8,189.8L739.5,190.3L735.3,193.3L738.2,212.4L740.7,222.2L744.3,241.4L747.6,240.8L759.5,239.3L797.4,231.6L812.3,228.8L820.6,227.2L820.9,226.9L823,225.3L825.1,224.6z",
"us-nj":"M829.6,188.4L827.3,191.1L827.3,194.2L825.4,197.3L825.2,198.9L826.5,200.2L826.3,202.6L824.1,203.8L824.9,206.5L825,207.6L827.8,208L828.8,210.5L832.3,213L834.7,214.6L834.7,215.4L831.8,218.1L830.1,220.4L828.7,223.1L826.4,224.4L826,226L825.7,227.2L825.1,229.8L826.2,232.1L829.4,235L834.3,237.2L838.3,237.9L838.5,239.3L837.7,240.3L838,243.1L838.8,243.1L840.9,240.6L841.7,235.8L844.5,231.7L847.5,225.3L848.7,219.8L848,218.6L847.9,209.3L846.2,205.9L845.1,206.7L842.4,207L841.9,206.5L843,205.5L845.1,203.6L845.2,202.5L844.8,199.1L845.4,196.3L845.3,194.4L842.4,192.6L837.4,191.4L833.2,190.1L829.6,188.4z",
"us-de":"M825.6,228.2L825.9,226.1L826.3,224.4L824.7,224.8L823.1,225.3L820.9,227L822.6,232.1L824.9,237.7L827,247.4L828.6,253.7L833.6,253.6L839.7,252.4L837.5,245L836.5,245.5L832.9,243.1L831.2,238.4L829.2,234.8L826.1,231.9L825.2,229.8L825.6,228.2z","us-md":"M839.7,252.4L833.7,253.6L828.6,253.7L826.7,246.8L824.8,237.6L822.2,231.4L821,227L813.5,228.6L798.6,231.5L761.1,239L762.3,244L763.2,249.7L763.6,249.4L765.7,246.9L767.9,244.3L770.3,243.7L771.8,242.2L773.6,239.7L774.9,240.3L777.8,240L780.4,237.9L782.4,236.4L784.2,235.9L785.9,237.1L788.8,238.5L790.7,240.3L791.9,241.8L796,243.5L796,246.4L801.5,247.7L802.7,248.3L804.1,246.2L807,248.2L805.7,250.7L804.9,254.7L803.2,257.3L803.2,259.4L803.8,261.2L808.9,262.5L813.2,262.4L816.3,263.4L818.4,263.7L819.3,261.6L817.9,259.5L817.9,257.8L815.4,255.7L813.3,250.2L814.6,244.8L814.5,242.7L813.2,241.4 C 813.2,241.4 814.6,239.8 814.6,239.2 C 814.6,238.5 815.1,237.1 815.1,237.1L817.1,235.8L819,234.2L819.5,235.1L818,236.7L816.7,240.5L817.1,241.6L818.8,241.9L819.3,247.4L817.2,248.4L817.5,251.9L818,251.8L819.2,249.8L820.8,251.6L819.2,252.9L818.8,256.3L821.4,259.7L825.3,260.2L826.9,259.4L830.2,263.6L831.5,264.1L838.2,261.3L840.2,257.3L839.7,252.4zM823.8,261.4L824.9,263.9L825.1,265.7L826.2,267.5 C 826.2,267.5 827.1,266.6 827.1,266.3 C 827.1,266 826.4,263.3 826.4,263.3L825.6,260.9L823.8,261.4z",
"us-va":"M831.6,266L831.4,264.1L837.9,261.5L837.1,264.7L834.2,268.5L833.8,273.1L834.3,276.5L832.4,281.5L830.3,283.4L828.8,278.7L829.2,273.3L830.8,269.1L831.6,266zM834.9,294.3L776.8,306.9L739.3,312.2L732.6,311.8L730.1,313.7L722.7,313.9L714.3,314.9L703.4,316.5L713.9,310.9L713.9,308.9L715.4,306.7L726,295.2L729.9,299.7L733.7,300.6L736.2,299.5L738.5,298.2L741,299.5L744.9,298.1L746.8,293.6L749.4,294.1L752.3,292L754.1,292.5L756.9,288.8L757.2,286.7L756.3,285.4L757.3,283.6L762.5,271.3L763.2,265.5L764.4,265L766.6,267.5L770.5,267.2L772.4,259.6L775.2,259L776.3,256.3L778.9,253.9L781.6,248.2L781.7,243.2L791.5,247 C 792.2,247.3 792.4,241.9 792.4,241.9L796,243.5L796.1,246.5L801.9,247.8L804,249L805.7,251L805,254.7L803.1,257.3L803.2,259.3L803.8,261.2L808.7,262.4L813.2,262.5L816.3,263.4L818.2,263.7L818.9,266.8L822.1,267.2L823,268.4L822.5,273.1L823.9,274.2L823.4,276.2L824.7,276.9L824.4,278.3L821.7,278.2L821.8,279.9L824.1,281.4L824.2,282.8L826,284.6L826.5,287.1L823.9,288.5L825.5,290L831.3,288.3L834.9,294.3z",
"us-wv":"M761.1,238.9L762.2,243.9L763.3,249.9L765.5,247.3L767.7,244.2L770.3,243.6L771.7,242.2L773.5,239.6L774.9,240.2L777.9,239.9L780.4,237.8L782.4,236.4L784.3,235.9L785.6,236.9L789.2,238.7L791.2,240.5L792.6,241.8L791.8,247.3L786,244.8L781.7,243.2L781.6,248.3L778.9,253.9L776.3,256.3L775.1,259.1L772.5,259.6L771.6,263.2L770.6,267.1L766.6,267.5L764.3,265L763.2,265.6L762.6,271L761.2,274.6L756.2,285.5L757.1,286.7L756.9,288.6L754.1,292.5L752.3,291.9L749.4,294.1L746.8,293.5L744.8,298.1 C 744.8,298.1 741.6,299.5 740.9,299.5 C 740.7,299.4 738.4,298.2 738.4,298.2L736.1,299.6L733.7,300.6L729.9,299.7L728.8,298.6L726.6,295.5L723.5,293.6L721.8,289.9L717.5,286.5L716.8,284.2L714.2,282.7L713.4,281.1L713.2,275.9L715.4,275.8L717.3,275L717.5,272.2L719.1,270.8L719.3,265.8L720.2,261.9L721.5,261.2L722.8,262.4L723.3,264.2L725.1,263.2L725.6,261.6L724.4,259.8L724.4,257.4L725.4,256.1L727.7,252.7L729,251.2L731.1,251.7L733.3,250.1L736.4,246.7L738.7,242.8L739,237.2L739.5,232.1L739.5,227.5L738.3,224.4L739.3,222.9L740.6,221.6L744.1,241.5L748.7,240.7L761.1,238.9z",
"us-oh":"M735.3,193.3L729.2,197.3L725.3,199.6L721.9,203.3L717.9,207.2L714.6,208L711.7,208.5L706.2,211.1L704.1,211.2L700.7,208.2L695.6,208.8L693,207.4L690.6,206L685.7,206.7L675.5,208.3L664.3,210.5L665.6,225.1L667.4,238.9L670,262.3L670.5,267.2L674.7,267L677.1,266.2L680.4,267.7L682.5,272.1L687.6,272.1L689.5,274.2L691.3,274.1L693.8,272.8L696.3,273.1L701.8,273.6L703.5,271.5L705.8,270.2L707.9,269.5L708.6,272.3L710.3,273.2L713.8,275.6L716,275.5L717.3,275L717.5,272.3L719.1,270.8L719.2,266 C 719.2,266 720.2,261.9 720.2,261.9L721.5,261.3L722.8,262.4L723.4,264.1L725.1,263.1L725.5,261.6L724.4,259.7L724.5,257.4L725.2,256.4L727.4,253L728.4,251.5L730.5,252L732.8,250.4L735.9,247L738.6,242.9L739,237.8L739.4,232.8L739.3,227.5L738.3,224.6L738.7,223.4L740.5,221.7L738.2,212.6L735.3,193.3z",
"us-in":"M619.5,299.9L619.6,297.1L620.1,292.5L622.3,289.6L624.1,285.7L626.7,281.5L626.2,275.7L624.4,273L624.1,269.7L624.9,264.2L624.4,257.3L623.1,241.3L621.8,225.9L620.9,214.2L623.9,215.1L625.4,216.1L626.5,215.7L628.6,213.8L631.5,212.2L636.6,212L658.5,209.8L664.1,209.2L665.6,225.2L669.9,262L670.5,267.8L670.1,270.1L671.3,271.9L671.4,273.2L668.9,274.8L665.4,276.4L662.2,276.9L661.6,281.8L657,285.1L654.2,289.1L654.5,291.5L653.9,293L650.6,293L649,291.4L646.5,292.7L643.8,294.2L644,297.2L642.8,297.5L642.3,296.5L640.2,295L636.9,296.3L635.4,299.3L633.9,298.5L632.5,296.9L628,297.4L622.4,298.4L619.5,299.9z",
"us-il":"M619.5,300.3L619.5,297.1L620.1,292.4L622.4,289.5L624.3,285.4L626.5,281.4L626.2,276.2L624.1,272.6L624,269.3L624.7,264L623.9,256.8L622.9,241.1L621.6,226L620.6,214.4L620.4,213.5L619.6,210.9L618.3,207.2L616.6,205.4L615.2,202.8L615,197.3L569.2,199.9L569.4,202.3L571.7,203L572.6,204.1L573,206L576.9,209.4L577.6,211.7L576.9,215.1L575.1,218.8L574.4,221.3L572.1,223.1L570.3,223.8L565,225.2L564.4,227L563.7,229L564.4,230.4L566.2,232L566,236.1L564.1,237.7L563.4,239.3L563.4,242.1L561.6,242.5L560,243.7L559.8,245L560,247.1L558.3,248.4L557.3,251.2L557.7,254.9L560,262.2L567.3,269.7L572.8,273.4L572.6,277.7L573.5,279.1L579.9,279.6L582.6,280.9L582,284.6L579.7,290.5L579,293.7L581.3,297.6L587.7,302.9L592.3,303.6L594.3,308.6L596.4,311.8L595.5,314.8L597.1,318.9L598.9,321L600.3,320.1L601.2,318L603.4,316.2L605.5,315.6L608.2,316.8L611.8,318.2L613,317.9L613.2,315.6L611.9,313.2L612.2,310.8L614,309.5L617,308.7L618.3,308.2L617.7,306.8L616.9,304.5L618.3,303.5L619.5,300.3z",
"us-ct":"M874,178.8L870.3,163.9L865.6,164.9L844.4,169.6L845.4,172.8L846.8,180.1L847,189.1L845.8,191.2L847.7,193.2L852,189.3L855.6,186L857.5,183.9L858.3,184.6L861.1,183.1L866.2,182L874,178.8z","us-wi":"M615,197.3L614.9,194.2L613.8,189.6L613.1,183.5L612,181.1L613,178L613.8,175.1L615.2,172.5L614.6,169.1L613.9,165.5L614.4,163.8L616.4,161.3L616.5,158.6L615.7,157.3L616.4,154.7L615.9,150.5L618.7,144.9L621.6,138.1L621.7,135.8L621.4,134.9L620.6,135.3L616.4,141.7L613.6,145.7L611.7,147.5L610.9,149.7L608.9,150.5L607.8,152.5L606.4,152.2L606.2,150.4L607.5,148L609.6,143.3L611.4,141.7L612.4,139.3L609.8,137.4L607.8,127L604.3,125.7L602.3,123.4L590.2,120.7L587.3,119.6L579.1,117.5L571.2,116.3L567.4,111.2L566.7,111.7L565.5,111.6L564.8,110.4L563.5,110.7L562.4,110.9L560.6,111.9L559.6,111.2L560.3,109.3L562.2,106.2L563.3,105.1L561.4,103.6L559.3,104.4L556.4,106.4L548.9,109.6L546,110.3L543.1,109.8L542.1,108.9L540,111.7L539.8,114.5L539.8,122.9L538.7,124.5L533.4,128.4L531.1,134.4L531.6,134.6L534.1,136.7L534.8,139.9L532.9,143.1L532.9,146.9L533.4,153.6L536.4,156.5L539.8,156.5L541.6,159.7L545.1,160.2L548.9,165.9L556,170L558.1,172.8L559,180.2L559.7,183.5L562,185.1L562.2,186.5L560.1,189.9L560.4,193.1L562.9,197L565.4,198.2L568.4,198.6L569.7,200L615,197.3z",
"us-nc":"M834.9,294.3L837,299.2L840.6,305.6L843,308.1L843.6,310.3L841.2,310.5L842,311.1L841.7,315.3L839.1,316.6L838.5,318.7L837.2,321.7L833.5,323.3L831,322.9L829.6,322.8L828,321.5L828.3,322.8L828.3,323.8L830.2,323.8L831,325L829.1,331.4L833.3,331.4L833.9,333L836.2,330.7L837.5,330.2L835.6,333.8L832.5,338.6L831.2,338.6L830.1,338.1L827.3,338.8L822.1,341.2L815.7,346.5L812.3,351.2L810.3,357.7L809.9,360.1L805.2,360.6L799.7,362L789.8,353.7L777.2,346.1L774.3,345.3L761.6,346.8L757.4,347.5L755.7,344.3L752.8,342.2L736.3,342.7L729,343.5L720,348L713.8,350.6L692.6,353.2L693.1,349.1L694.9,347.7L697.7,347L698.3,343.3L702.5,340.6L706.4,339.1L710.6,335.6L715,333.5L715.6,330.4L719.5,326.5L720.1,326.3 C 720.1,326.3 720.1,327.5 720.9,327.5 C 721.8,327.5 722.9,327.8 722.9,327.8L725.1,324.2L727.3,323.6L729.5,323.9L731.1,320.4L734,317.8L734.5,315.7L734.7,312L739,312L746.2,311.1L761.9,308.9L777.1,306.8L798.7,302.1L818.7,297.8L829.9,295.4L834.9,294.3zM839.2,327.5L841.8,325L844.9,322.4L846.5,321.7L846.6,319.7L846,313.6L844.5,311.2L843.9,309.4L844.6,309.1L847.4,314.6L847.8,319.1L847.6,322.5L844.2,324L841.4,326.4L840.3,327.6L839.2,327.5z",
"us-dc":"M805.8,250.8L803.9,249L802.7,248.3L804.1,246.3L807,248.2L805.8,250.8z","us-ma":"M899.6,173.2L901.7,172.5L902.2,170.8L903.2,170.9L904.3,173.2L903,173.7L899.1,173.8L899.6,173.2zM890.2,174L892.5,171.4L894.1,171.4L895.9,172.9L893.5,173.9L891.3,174.9L890.2,174zM855.4,152L873,147.4L875.3,146.7L877.2,143.9L881,142.3L883.9,146.7L881.4,151.9L881.1,153.3L883,155.9L884.2,155.1L886,155.1L888.2,157.7L892.1,163.7L895.7,164.1L897.9,163.2L899.7,161.4L898.9,158.6L896.8,157L895.3,157.8L894.4,156.5L894.8,156.1L896.9,155.9L898.7,156.7L900.7,159.1L901.6,162L902,164.5L897.8,165.9L893.9,167.9L890,172.4L888.1,173.8L888.1,172.9L890.5,171.4L891,169.6L890.2,166.6L887.2,168L886.4,169.5L886.9,171.7L884.9,172.7L882.1,168.2L878.7,163.8L876.6,162L870.1,163.9L865,165L844.3,169.6L843.7,164.8L844.3,154.2L848.6,153.3L855.4,152z",
"us-tn":"M696.6,318.2L644.7,323.2L629,325L624.4,325.5L620.5,325.5L620.3,329.6L612.1,329.8L605.1,330.5L597,330.4L595.6,337.4L593.9,342.9L590.6,345.7L589.3,350.1L589,352.6L584.9,354.9L586.4,358.5L585.4,362.8L584.4,363.6L692.6,353.2L693,349.2L694.8,347.8L697.6,347L698.3,343.3L702.4,340.6L706.5,339.1L710.5,335.5L715,333.5L715.5,330.4L719.6,326.4L720.1,326.3 C 720.1,326.3 720.1,327.5 721,327.5 C 721.8,327.5 722.9,327.8 722.9,327.8L725.2,324.2L727.2,323.6L729.5,323.9L731.1,320.3L734.1,317.7L734.5,315.8L734.8,312.1L732.6,311.9L730,313.9L723,313.9L704.7,316.3L696.6,318.2z",
"us-ar":"M593.8,343L589.8,343.7L584.7,343.1L585.1,341.5L588.1,338.9L589,335.3L587.2,332.3L508.8,334.8L510.4,341.7L510.4,349.9L511.8,360.9L512,398.7L514.3,400.6L517.2,399.3L520,400.4L520.7,407L576.3,405.9L577.4,403.8L577.1,400.2L575.3,397.2L576.9,395.8L575.3,393.2L576,390.7L577.4,385.1L579.9,383.1L579.2,380.8L582.9,375.4L585.6,374L585.5,372.5L585.1,370.7L588,365.1L590.4,363.9L590.8,360.4L592.6,359.2L589.4,358.7L588.1,354.7L590.9,352.3L591.4,350.3L592.7,346.3L593.8,343z","us-mo":"M558.4,248.1L555.9,245L554.7,242.7L490.4,245.1L488.1,245.2L489.3,247.7L489.1,250L491.6,253.9L494.7,258L497.8,260.8L500,261L501.5,261.9L501.5,264.9L499.6,266.5L499.2,268.8L501.2,272.2L503.7,275.2L506.3,277L507.6,288.6L507.9,324.7L508.2,329.4L508.6,334.8L531.1,333.9L554.3,333.2L575.1,332.4L586.7,332.2L588.9,335.6L588.2,338.9L585.1,341.3L584.6,343.2L589.9,343.6L593.8,342.9L595.5,337.5L596.2,331.6L598.3,329L600.9,327.6L600.9,324.5L602,322.6L600.3,320L598.9,321L596.9,318.8L595.7,314L596.5,311.5L594.5,308.1L592.7,303.5L587.9,302.7L580.9,297.1L579.2,293L580,289.8L582.1,283.7L582.5,280.9L580.6,279.8L573.7,279L572.7,277.3L572.6,273.1L567.1,269.7L560.1,261.9L557.8,254.6L557.6,250.4L558.4,248.1z",
"us-ga":"M672.2,355.5L672.2,357.7L672.4,359.8L673.1,363.2L676.4,371.1L678.9,381L680.3,387.1L681.9,392L683.4,398.9L685.5,405.2L688.1,408.6L688.6,412L690.5,412.8L690.7,414.9L688.9,419.8L688.4,423L688.2,424.9L689.9,429.3L690.2,434.6L689.4,437.1L690,437.9L691.5,438.7L691.7,441.9L693.9,445.2L696.2,447.4L704.1,447.6L714.9,446.9L736.4,445.6L741.9,445L746.4,445L746.6,447.9L749.2,448.7L749.5,444.3L747.9,439.8L749,438.2L754.9,439L759.8,439.3L759.1,433L761.3,423L762.8,418.8L762.3,416.2L765.6,410L765.1,408.6L763.2,409.3L760.6,408L760,405.9L758.7,402.4L756.4,400.3L753.8,399.6L752.2,394.8L749.3,388.4L745.1,386.5L743,384.6L741.7,382L739.6,380L737.3,378.7L735.1,375.8L732,373.6L727.5,371.8L727,370.3L724.5,367.4L724.1,366L720.7,361L717.1,361.1L713.4,358.7L712,357.4L711.6,355.7L712.5,353.7L714.7,352.6L714.1,350.5L672.2,355.5z",
"us-sc":"M764.9,408.1L763.1,409.1L760.5,407.8L759.9,405.7L758.6,402.1L756.3,400L753.7,399.4L752.1,394.5L749.4,388.6L745.2,386.6L743.1,384.7L741.8,382.1L739.7,380.1L737.4,378.9L735.1,375.9L732.1,373.7L727.6,371.9L727.1,370.4L724.6,367.5L724.2,366.1L720.8,360.9L717.4,361.1L713.3,358.6L712,357.4L711.7,355.6L712.5,353.6L714.8,352.7L714.3,350.4L720,348L729.2,343.5L736.9,342.6L753,342.2L755.7,344.1L757.4,347.5L761.7,346.8L774.3,345.4L777.2,346.2L789.8,353.8L799.9,361.9L794.5,367.4L791.9,373.5L791.4,379.8L789.8,380.6L788.7,383.4L786.2,384L784.1,387.6L781.4,390.3L779.1,393.7L777.5,394.5L773.9,397.9L771,398.1L772,401.3L767,406.8L764.9,408.1z",
"us-ky":"M725.9,295.2L723.7,297.6L720.1,301.6L715.1,307.1L713.9,308.8L713.9,310.9L709.5,313.1L703.8,316.5L696.6,318.3L644.7,323.2L629,324.9L624.4,325.4L620.5,325.4L620.3,329.6L612.1,329.8L605.1,330.4L597.1,330.4L598.3,329L600.8,327.5L601.1,324.3L602,322.5L600.4,319.9L601.2,318L603.4,316.3L605.5,315.6L608.3,316.9L611.9,318.2L613,317.9L613.1,315.6L611.9,313.2L612.2,310.9L614.1,309.5L616.7,308.8L618.3,308.2L617.5,306.4L616.9,304.5L618.4,303.5 C 618.4,303.4 619.6,299.9 619.6,299.8L622.7,298.3L628,297.4L632.5,296.9L633.9,298.5L635.4,299.4L637,296.3L640.2,295L642.4,296.5L642.8,297.5L644,297.2L643.8,294.2L646.9,292.5L649.1,291.4L650.6,293.1L653.9,293L654.5,291.5L654.1,289.2L656.7,285.2L661.5,281.8L662.2,276.9L665.2,276.5L668.9,274.8L671.4,273.1L671.2,271.6L670.1,270.1L670.6,267.1L674.8,267L677.1,266.2L680.4,267.7L682.5,272L687.6,272L689.7,274.3L691.3,274.1L693.9,272.8L699.1,273.4L701.7,273.6L703.4,271.6L706,270.1L707.9,269.4L708.5,272.3L710.6,273.3L713.2,275.4L713.4,281.1L714.2,282.7L716.8,284.2L717.5,286.5L721.7,289.9L723.5,293.6L725.9,295.2z",
"us-al":"M631.3,460.4L629.8,446L627,427.3L627.2,413.2L628,382.2L627.8,365.5L628,359.1L672.5,355.5L672.3,357.7L672.5,359.8L673.1,363.2L676.5,371.1L679,381L680.4,387.1L682,392L683.5,398.9L685.6,405.2L688.2,408.6L688.7,412L690.6,412.8L690.8,414.9L689,419.8L688.5,423L688.3,424.9L689.9,429.3L690.3,434.6L689.5,437.1L690.1,437.9L691.6,438.7L691.9,441.6L686.3,441.2L679.5,441.9L654,444.8L643.6,446.2L643.3,449L645.1,450.8L647.7,452.8L648.3,460.7L642.7,463.3L640,463L642.7,461L642.7,460L639.7,454.1L637.4,453.4L635.9,457.8L634.7,460.5L634,460.4L631.3,460.4z",
"us-la":"M607.9,459.1L604.6,455.9L605.6,450.4L605,449.6L595.7,450.6L570.7,451L570,448.6L570.9,440.2L574.2,434.2L579.3,425.5L578.7,423.1L579.9,422.5L580.4,420.5L578.1,418.4L578,416.5L576.2,412.2L576,405.8L520.6,406.7L520.6,416.3L521.3,425.7L522,429.6L524.5,433.7L525.4,438.7L529.7,444.2L530,447.4L530.6,448.1L530,456.6L527,461.6L528.6,463.6L527.9,466.2L527.2,473.5L525.8,476.7L526,480.3L530.7,478.8L542.8,479L553.1,482.5L559.6,483.7L563.3,482.2L566.5,483.3L569.8,484.3L570.6,482.2L567.3,481.1L564.8,481.6L562,479.9 C 562,479.9 562.2,478.7 562.8,478.5 C 563.5,478.3 565.9,477.5 565.9,477.5L567.7,479L569.4,478L572.7,478.7L574.1,481.1L574.5,483.3L579,483.7L580.8,485.4L579.9,487.1L578.7,487.9L580.3,489.5L588.7,493L592.2,491.7L593.2,489.3L595.8,488.7L597.6,487.2L598.9,488.2L599.7,491.1L597.4,491.9L598.1,492.6L601.5,491.3L603.7,487.9L604.5,487.4L602.4,487.1L603.2,485.4L603.1,484L605.2,483.5L606.3,482.2L606.9,483 C 606.9,483 606.8,486.1 607.6,486.1 C 608.4,486.1 611.8,486.7 611.8,486.7L615.8,488.7L616.8,490.1L619.7,490.1L620.8,491.1L623.1,488L623.1,486.6L621.8,486.6L618.4,483.8L612.6,483L609.4,480.8L610.5,478L612.8,478.3L612.9,477.7L611.2,476.7L611.2,476.2L614.4,476.2L616.2,473.2L614.9,471.2L614.5,468.5L613.1,468.6L611.2,470.7L610.5,473.3L607.4,472.7L606.5,470.9L608.2,469L610.1,465.5L609.1,463.1L607.9,459.1z",
"us-ms":"M631.5,459.3L631.3,460.6L626.1,460.6L624.6,459.7L622.5,459.4L615.7,461.4L614,460.6L611.4,464.8L610.3,465.5L609.1,463L608,459.2L604.6,456L605.7,450.4L605,449.5L603.2,449.7L595.3,450.6L570.7,451L570,448.7L570.8,440.4L574,434.7L579.2,425.6L578.7,423.1L580,422.5L580.4,420.5L578.1,418.5L578,416.3L576.1,412.2L576,406.2L577.4,403.8L577.1,400.3L575.4,397.3L576.9,395.8L575.3,393.3L575.8,391.6L577.4,385.1L579.8,383.1L579.2,380.7L582.9,375.4L585.7,374L585.5,372.4L585.2,370.7L588.1,365.1L590.4,363.9L590.6,363L627.9,359.1L628.1,365.4L628.2,382L627.4,413.1L627.3,427.1L630,445.9L631.5,459.3z",
"us-ia":"M569.1,199.5L569.4,202.3L571.6,202.9L572.6,204.1L573.1,206L576.9,209.3L577.6,211.7L576.9,215.2L575.3,218.4L574.5,221.1L572.3,222.7L570.6,223.3L565,225.2L563.6,229L564.4,230.4L566.2,232.1L565.9,236.1L564.2,237.6L563.4,239.3L563.5,242.1L561.6,242.5L560,243.6L559.7,245L560,247.1L558.5,248.2L556,245.1L554.7,242.6L489,245.1L488.1,245.3L486,240.8L485.8,234.2L484.2,230L483.5,224.8L481.2,221.1L480.3,216.3L477.6,208.8L476.4,203.4L475.1,201.2L473.5,198.5L475.4,193.6L476.8,187.9L474,185.9L473.6,183.1L474.5,180.6L476.2,180.6L558.9,179.3L559.7,183.5L561.9,185.1L562.2,186.5L560.2,189.9L560.4,193.1L562.9,196.9L565.4,198.2L568.5,198.7L569.1,199.5z",
"us-mn":"M475.2,128.8L474.7,120.3L472.9,113L471.1,99.5L470.6,89.7L468.8,86.3L467.2,81.2L467.2,70.9L467.9,67L466.1,61.6L496.2,61.6L496.5,53.4L497.2,53.2L499.4,53.7L501.4,54.5L502.2,60L503.6,66.2L505.2,67.8L510.1,67.8L510.4,69.2L516.7,69.6L516.7,71.7L521.6,71.7L521.9,70.4L523,69.2L525.3,68.6L526.6,69.6L529.5,69.6L533.4,72.1L538.7,74.6L541.1,75L541.6,74.1L543.1,73.6L543.5,76.5L546.1,77.8L546.6,77.3L547.9,77.5L547.9,79.6L550.5,80.5L553.6,80.5L555.2,79.7L558.4,76.5L561,76L561.8,77.8L562.3,79.1L563.3,79.1L564.2,78.3L573.1,78L574.9,81L575.6,81L576.3,79.9L580.7,79.6L580.1,81.9L576.2,83.7L566.9,87.8L562.1,89.8L559.1,92.3L556.6,95.9L554.4,99.8L552.6,100.6L548.1,105.6L546.8,105.8L542.5,108.5L540,111.7L539.8,114.9L539.9,123L538.5,124.6L533.4,128.4L531.2,134.4L534,136.6L534.7,139.9L532.9,143.1L533,146.8L533.4,153.6L536.4,156.6L539.8,156.6L541.7,159.7L545,160.2L548.9,165.9L556,170L558.1,172.9L558.8,179.3L477.6,180.5L477.2,144.8L476.8,141.8L472.7,138.4L471.5,136.5L471.5,134.9L473.6,133.3L475,132L475.2,128.8z",
"us-ok":"M380.3,320.8L363.6,319.5L362.7,330.5L383.2,331.6L415.2,332.9L412.9,357.3L412.5,375.2L412.7,376.8L417,380.4L419.1,381.6L419.8,381.3L420.5,379.3L421.8,381.1L423.9,381.1L423.9,379.7L426.6,381.1L426.2,385L430.3,385.2L432.8,386.4L436.9,387.1L439.4,388.9L441.7,386.8L445.2,387.5L447.7,390.9L448.6,390.9L448.6,393.2L450.9,393.9L453.2,391.6L455,392.3L457.5,392.3L458.4,394.8L464.7,396.9L466.1,396.2L467.9,392.1L469.1,392.1L470.2,394.2L474.3,394.8L478,396.2L480.9,397.1L482.8,396.2L483.5,393.7L487.8,393.7L489.9,394.6L492.6,392.6L493.7,392.6L494.4,394.2L498.5,394.2L500.1,392.1L502,392.6L504,395.1L507.2,396.9L510.4,397.8L512.4,398.9L512,361.7L510.6,350.7L510.5,341.9L509,335.3L508.2,328.2L508.2,324.3L496,324.7L449.6,324.2L404.6,322.1L380.3,320.8z",
"us-tx":"M361.4,330.5L384.1,331.6L415.2,332.8L412.9,356.2L412.6,374.4L412.6,376.4L417,380.3L419,381.7L420.1,381.1L420.5,379.3L421.7,381.1L423.8,381.2L423.8,379.7L425.4,380.7L426.6,381.1L426.2,385.1L430.3,385.2L433.2,386.4L437.2,386.9L439.6,389L441.7,386.9L445.4,387.5L447.6,390.7L448.7,391.1L448.6,393L450.8,393.8L453.1,391.8L455.2,392.4L457.5,392.4L458.4,394.8L464.7,397L466.3,396.2L467.8,392L468.1,392L469.1,392.1L470.3,394.2L474.2,394.8L477.5,396L481,397.1L482.8,396.2L483.5,393.7L488,393.7L489.8,394.6L492.6,392.5L493.7,392.6L494.5,394.2L498.6,394.2L500.1,392.1L502,392.6L503.9,395L507.5,397L510.3,397.8L511.8,398.6L514.3,400.6L517.3,399.3L520,400.4L520.6,406.5L520.5,416.2L521.2,425.8L521.9,429.4L524.6,433.8L525.5,438.7L529.7,444.3L529.9,447.4L530.6,448.2L529.9,456.6L527,461.6L528.6,463.7L527.9,466.1L527.3,473.5L525.8,476.8L526.1,480.3L520.4,481.9L510.5,486.4L509.6,488.4L507,490.3L504.9,491.8L503.6,492.6L497.9,497.9L495.2,500L489.9,503.3L484.2,505.7L477.9,509.1L476.1,510.5L470.3,514.1L466.9,514.7L463,520.2L459,520.6L458,522.5L460.3,524.4L458.8,529.9L457.5,534.5L456.4,538.3L455.6,542.9L456.4,545.3L458.2,552.2L459.1,558.4L460.9,561.1L459.9,562.6L456.9,564.5L451.2,560.6L445.7,559.5L444.4,560L441.2,559.4L437,556.3L431.8,555.1L424.2,551.8L422.1,547.9L420.8,541.4L417.6,539.5L416.9,537.2L417.6,536.6L417.9,533.2L416.6,532.5L416,531.5L417.3,527.2L415.6,524.9L412.4,523.6L409,519.3L405.5,512.6L401.3,510L401.4,508.1L396.1,495.8L395.3,491.6L393.5,489.7L393.3,488.2L387.4,482.9L384.8,479.8L384.8,478.7L382.2,476.6L375.4,475.4L368,474.8L364.9,472.5L360.4,474.3L356.8,475.8L354.5,479L353.6,482.7L349.2,488.9L346.8,491.3L344.2,490.3L342.4,489.2L340.5,488.5L336.6,486.3L336.6,485.6L334.8,483.7L329.6,481.6L322.2,473.8L319.9,469.1L319.9,461.1L316.7,454.6L316.2,451.8L314.6,450.9L313.5,448.8L308.5,446.7L307.2,445.1L300.1,437.1L298.8,433.9L294.1,431.6L292.6,427.3L290,424.4L288.1,423.9L287.5,419.2L295.5,419.9L324.5,422.6L353.5,424.2L355.8,404.8L359.6,349.2L361.2,330.5L362.6,330.5M461.6,560.2L461.1,553L458.3,545.9L457.8,538.8L459.3,530.6L462.6,523.7L466.1,518.3L469.2,514.7L469.9,515L465.1,521.6L460.8,528.1L458.7,534.8L458.4,540L459.3,546.1L461.9,553.3L462.4,558.5L462.5,559.9L461.6,560.2z",
"us-nm":"M288.1,424L287.3,419.2L296,419.7L326.1,422.7L353.4,424.4L355.6,405.7L359.5,349.8L361.2,330.4L362.8,330.5L363.6,319.4L259.6,308.7L242.1,429.2L257.6,431.2L258.9,421.1L288.1,424z","us-ks":"M507.8,324.3L495.2,324.5L449.1,324.1L404.6,322L379.9,320.8L383.8,256.2L405.9,256.8L446.2,257.7L490.5,258.7L495.6,258.7L497.8,260.8L499.8,260.8L501.4,261.8L501.4,264.8L499.6,266.6L499.2,268.8L501.1,272.2L504,275.4L506.3,277L507.6,288.2L507.8,324.3z","us-ne":"M486,240.7L489.3,247.7L489.1,250L492.6,255.5L495.3,258.6L490.3,258.6L446.8,257.7L406,256.8L383.8,256L384.8,234.7L352.5,231.8L356.9,187.7L372.4,188.8L392.5,189.9L410.4,191.1L434.1,192.2L444.9,191.7L446.9,194L451.7,197L452.9,197.9L457.2,196.6L461.1,196.1L463.9,195.9L465.7,197.2L469.7,198.8L472.7,200.4L473.2,202L474.1,204.1L475.9,204.1L476.7,204.1L477.6,208.8L480.5,217.3L481.1,221L483.6,224.8L484.2,229.9L485.8,234.2L486,240.7z",
"us-sd":"M476.4,204L476.3,203.4L473.5,198.5L475.3,193.8L476.8,187.9L474,185.9L473.6,183.1L474.4,180.6L477.6,180.6L477.5,175.6L477.2,145.4L476.5,141.6L472.5,138.3L471.5,136.6L471.4,135L473.5,133.5L475,131.8L475.2,129.2L417,127.6L362.2,124.1L356.8,187.8L371.4,188.7L391.4,189.9L409.1,190.9L432.9,192.2L444.9,191.7L446.9,194L452.1,197.2L452.8,198L457.4,196.5L463.9,195.9L465.6,197.2L469.8,198.8L472.7,200.5L473.1,201.9L474.2,204.2L476.4,204z","us-nd":"M475.3,128.9L474.6,120.4L473,113.6L471.1,100.6L470.6,89.6L468.9,86.5L467.1,81.3L467.1,70.9L467.8,67.1L465.9,61.6L437.3,61L418.7,60.4L392.2,59.1L369.2,57L362.3,124.1L417.2,127.5L475.3,128.9z",
"us-wy":"M360.3,143.2L253.6,129.8L239.5,218.2L352.8,231.8L360.3,143.2z","us-mt":"M369.2,56.9L338.5,54.1L309.2,50.6L280,46.5L247.6,41.2L229.2,37.8L196.5,30.9L192,52.2L195.4,59.7L194.1,64.3L195.9,68.9L199.1,70.3L203.7,81L206.4,84.2L206.9,85.3L210.3,86.5L210.7,88.5L203.7,106.2L203.7,108.7L206.2,111.9L207.1,111.9L211.9,108.9L212.6,107.8L214.2,108.4L213.9,113.7L216.7,126.3L219.7,128.8L220.6,129.5L222.4,131.8L221.9,135.2L222.6,138.6L223.8,139.5L226.1,137.2L228.8,137.2L232,138.8L234.5,137.9L238.6,137.9L242.3,139.5L245,139.1L245.5,136.1L248.5,135.4L249.8,136.8L250.3,140L251.7,140.8L253.6,129.8L360.4,143.2L369.2,56.9z",
"us-co":"M380,320.9L384.9,234.6L271.5,221.9L259.3,309.9L380,320.9z","us-id":"M148.4,176.4L157.2,141.2L158.6,137L161.1,131L159.8,128.8L157.3,128.9L156.5,127.8L157,126.7L157.3,123.6L161.8,118.1L163.6,117.7L164.7,116.5L165.3,113.3L166.2,112.6L170.1,106.8L174,102.5L174.2,98.7L170.8,96.1L169.3,91.7L182.9,28.3L196.4,30.8L192,52.2L195.6,59.7L194,64.4L196,69L199.1,70.3L202.9,79.8L206.4,84.3L206.9,85.4L210.3,86.6L210.7,88.6L203.7,106L203.5,108.6L206.1,111.9L207.1,111.9L212,108.8L212.6,107.7L214.2,108.4L213.9,113.8L216.7,126.3L220.6,129.5L222.3,131.7L221.5,135.8L222.6,138.6L223.7,139.7L226.2,137.3L229,137.4L231.9,138.7L234.7,138L238.5,137.9L242.5,139.5L245.2,139.2L245.7,136.1L248.6,135.4L249.9,136.9L250.3,139.8L251.8,141L243.4,194.6 C 243.4,194.6 155.4,177.9 148.4,176.4z",
"us-ut":"M259.4,310.1L175.7,298.2L196.3,185.6L243.1,194.4L241.6,205L239.3,218.2L247.1,219.1L263.5,220.9L271.7,221.8L259.4,310.1z","us-az":"M144.9,382.6L142.2,384.7L141.9,386.2L142.4,387.2L161.3,397.8L173.4,405.4L188.1,414L205,424L217.2,426.4L242.2,429.2L259.5,310L175.7,298.1L172.6,314.5L171,314.5L169.3,317.2L166.8,317L165.5,314.3L162.8,314L161.9,312.8L161,312.8L160,313.4L158.1,314.4L158,321.4L157.8,323.1L157.2,335.7L155.7,337.9L155.1,341.2L157.9,346.1L159.1,351.9L159.9,352.9L161,353.5L160.8,355.8L159.2,357.2L155.8,358.9L153.9,360.8L152.4,364.5L151.8,369.4L149,372.1L146.9,372.8L147,373.7L146.6,375.4L147,376.2L150.7,376.7L150.1,379.5L148.6,381.7L144.9,382.6z",
"us-nv":"M196.3,185.5L172.7,314.3L170.9,314.7L169.3,317.1L166.9,317.1L165.5,314.4L162.8,314L162.1,312.9L161,312.8L158.2,314.5L157.9,321.3L157.6,327L157.2,335.6L155.8,337.7L153.3,336.6L84.3,232.4L103.3,164.9L196.3,185.5z","us-or":"M148.7,175.5L157.5,140.7L158.6,136.5L160.9,130.8L160.3,129.7L157.8,129.6L156.5,127.9L157,126.5L157.5,123.2L161.9,117.7L163.8,116.7L164.9,115.5L166.4,111.9L170.4,106.3L174,102.4L174.2,99L171,96.5L169.2,91.8L156.5,88.2L141.4,84.7L126,84.8L125.5,83.4L120.1,85.5L115.6,84.9L113.2,83.3L111.9,84L107.2,83.8L105.5,82.4L100.3,80.3L99.5,80.5L95.1,79L93.2,80.8L87,80.5L81.1,76.3L81.8,75.5L82,67.8L79.7,63.9L75.6,63.3L74.9,60.8L72.5,60.3L66.7,62.4L64.5,68.9L61.2,78.9L58,85.3L53,99.4L46.5,113L38.5,125.6L36.5,128.5L35.7,137.1L36.1,149.2L148.7,175.5z",
"us-wa":"M102,7.6L106.4,9L116.1,11.8L124.7,13.7L144.7,19.4L167.7,25L182.9,28.2L169.2,91.8L156.8,88.3L141.3,84.7L126.1,84.8L125.6,83.4L120,85.6L115.4,84.8L113.3,83.3L112,83.9L107.2,83.8L105.5,82.4L100.3,80.3L99.5,80.5L95.1,78.9L93.2,80.8L87,80.5L81,76.3L81.8,75.4L81.9,67.7L79.7,63.9L75.6,63.3L74.9,60.8L72.6,60.3L69,61.5L66.8,58.3L67.1,55.4L69.9,55.1L71.5,51L68.9,49.9L69,46.2L73.4,45.6L70.7,42.8L69.2,35.7L69.9,32.8L69.9,24.9L68.1,21.6L70.3,12.2L72.4,12.7L74.9,15.6L77.6,18.2L80.8,20.2L85.4,22.3L88.4,22.9L91.4,24.4L94.7,25.3L97,25.2L97,22.8L98.3,21.6L100.4,20.3L100.7,21.5L101.1,23.2L98.8,23.7L98.5,25.8L100.2,27.3L101.4,29.7L102,31.6L103.5,31.5L103.6,30.2L102.7,28.9L102.2,25.7L103,23.9L102.3,22.4L102.3,20.2L104.1,16.6L103,14L100.6,9.2L100.9,8.4L102,7.6zM92.6,13.5L94.6,13.4L95.1,14.8L96.6,13.1L99,13.1L99.8,14.7L98.2,16.4L98.9,17.2L98.1,19.2L96.8,19.6 C 96.8,19.6 95.9,19.7 95.9,19.4 C 95.9,19 97.3,16.8 97.3,16.8L95.6,16.2L95.3,17.7L94.6,18.3L93.1,16L92.6,13.5z",
"us-ca":"M144.6,382.1L148.6,381.7L150.1,379.6L150.6,376.7L147.1,376.1L146.5,375.4L147,373.4L146.9,372.8L148.8,372.2L151.8,369.4L152.4,364.4L153.8,361L155.7,358.8L159.3,357.2L160.9,355.6L161,353.5L160,352.9L159,351.9L157.8,346L155.1,341.2L155.7,337.7L153.3,336.6L84.2,232.5L103.1,164.9L36,149.2L34.5,153.9L34.4,161.3L29.2,173.1L26.1,175.7L25.8,176.9L24,177.7L22.6,181.9L21.8,185.1L24.5,189.3L26.1,193.5L27.2,197.1L26.9,203.5L25.1,206.6L24.5,212.4L23.5,216.1L25.3,220L28.1,224.5L30.3,229.4L31.6,233.4L31.3,236.7L31,237.2L31,239.3L36.6,245.6L36.1,248L35.5,250.2L34.8,252.2L35,260.4L37.1,264.1L39,266.7L41.8,267.2L42.8,270L41.6,273.5L39.5,275.1L38.4,275.1L37.6,279L38.1,281.9L41.3,286.3L42.9,291.6L44.4,296.3L45.7,299.4L49.1,305.2L50.5,307.8L51,310.7L52.6,311.7L52.6,314.1L51.8,316L50,323.2L49.6,325.1L52,327.8L56.2,328.3L60.7,330.1L64.6,332.2L67.5,332.2L70.4,335.3L73,340.1L74.1,342.4L78,344.5L82.9,345.3L84.3,347.4L85,350.6L83.5,351.3L83.8,352.3L87.1,353.1L89.8,353.2L93,351.5L96.9,355.7L97.7,358L100.2,362.2L100.6,365.4L100.6,374.8L101.1,376.6L111.1,378.1L130.8,380.8L144.6,382.1zM56.5,338.4L57.8,340L57.6,341.3L54.4,341.2L53.8,340L53.2,338.5L56.5,338.4zM58.4,338.4L59.7,337.8L63.2,339.9L66.3,341.1L65.4,341.7L60.9,341.5L59.3,339.9L58.4,338.4zM79.1,358.2L80.9,360.6L81.7,361.5L83.3,362.1L83.8,360.7L82.9,358.9L80.2,356.9L79.1,357L79.1,358.2zM77.7,366.9L79.5,370L80.7,372L79.2,372.2L77.9,371 C 77.9,371 77.2,369.6 77.2,369.1 C 77.2,368.7 77.2,367 77.2,367L77.7,366.9z"},
WORLD_SHAPES:{ad:"M 4687 2398 L 4679 2402 4679 2398 Z",ae:"M 5995 2942 L 6059 2942 6115 2890 6119 2902 6119 2922 6107 2922 6107 2946 6099 2946 6087 2986 6023 2978 Z",af:"M 6239 2782 L 6263 2754 6263 2738 6239 2734 6231 2686 6251 2614 6283 2626 6367 2554 6387 2562 6419 2566 6459 2566 6499 2526 6511 2530 6511 2542 6519 2542 6515 2566 6523 2582 6555 2562 6591 2558 6607 2566 6599 2570 6583 2578 6555 2574 6523 2586 6511 2598 6523 2626 6503 2646 6507 2654 6499 2662 6475 2662 6487 2682 6467 2690 6459 2722 6447 2730 6431 2726 6399 2742 6383 2750 6383 2778 6323 2794 6279 2794 Z",
ag:"M 3015 3131 L 3013 3136 3020 3136 Z M 3014 3116 L 3016 3122 3018 3120 Z",ai:"M 2983 3102 L 2980 3105 2986 3102 Z M 2984 3105 L 2980 3108 2984 3110 Z",al:"M 5167 2398 L 5183 2418 5179 2442 5191 2454 5191 2462 5171 2494 5151 2470 5155 2422 5147 2422 Z",am:"M 5823 2438 L 5783 2442 5787 2478 5811 2486 5843 2494 5851 2514 5859 2514 5859 2490 5839 2482 5847 2470 Z",an:"M 2822 3260 L 2834 3268 2831 3269 Z M 2843 3262 L 2849 3265 2846 3270 Z",ao:"M 4955 3722 L 4975 3702 4983 3710 4967 3722 4967 3738 4959 3738 Z M 4967 3746 L 4979 3742 5075 3742 5099 3798 5147 3798 5151 3770 5179 3770 5179 3778 5211 3778 5223 3886 5271 3878 5271 3930 5215 3930 5215 4014 5255 4058 5187 4066 5139 4062 5123 4050 5007 4050 4983 4038 4947 4046 4947 4006 4971 3942 4999 3910 5003 3878 4979 3826 4991 3814 4963 3750 Z",
ar:"M 2875 4198 L 2903 4170 2911 4178 2943 4182 2951 4198 2959 4178 2995 4182 3047 4226 3127 4270 3099 4322 3175 4326 3199 4306 3207 4274 3227 4274 3227 4318 3127 4406 3103 4514 3103 4534 3139 4558 3155 4602 3127 4642 3003 4662 3003 4722 2935 4722 2943 4770 2915 4854 2867 4878 2867 4910 2911 4926 2907 4958 2863 4998 2859 5022 2827 5038 2823 5058 2843 5106 2803 5094 2751 5094 2739 5046 2719 5050 2711 5002 2763 4866 2747 4766 2763 4666 2779 4650 2799 4494 2787 4434 2839 4306 2839 4250 2871 4230 Z",
as:"M 9613 3964 L 9607 3966 9609 3968 Z",at:"M 4895 2238 L 4979 2238 4975 2218 5003 2198 5027 2202 5035 2186 5087 2198 5087 2230 5067 2258 5023 2274 4999 2270 4959 2254 4915 2262 4891 2250 Z",au:"M 8331 4062 L 8375 3874 8423 3970 8455 3986 8483 4086 8659 4274 8671 4366 8639 4474 8583 4566 8575 4622 8483 4666 8439 4642 8411 4666 8311 4622 8291 4562 8251 4518 8207 4542 8147 4458 8071 4446 7951 4466 7887 4514 7791 4514 7735 4546 7663 4518 7679 4462 7623 4306 7639 4278 7615 4230 7707 4138 7823 4110 7867 4030 7887 4046 7975 3954 8007 3986 8043 3986 8039 3966 8083 3906 8119 3910 8131 3886 8235 3918 8199 3982 Z M 8439 4718 L 8487 4734 8535 4718 8535 4762 8499 4810 8475 4806 8439 4730 Z",
aw:"M 2799 3254 L 2804 3259 2800 3258 Z",ax:"M 5167 1771 L 5152 1777 5171 1788 Z",az:"M 5859 2418 L 5855 2426 5867 2438 5863 2446 5831 2434 5823 2438 5847 2470 5839 2482 5859 2490 5859 2514 5899 2490 5923 2530 5939 2474 5959 2466 5939 2458 5915 2422 5899 2442 Z M 5843 2494 L 5811 2486 5835 2510 5851 2514 Z",ba:"M 5143 2322 L 5143 2370 5123 2402 5051 2326 5055 2314 Z",bb:"M 3073 3235 L 3079 3240 3074 3243 Z",bd:"M 6979 3006 L 6971 2938 6951 2930 6975 2910 6955 2894 6963 2878 6995 2886 6999 2910 7067 2918 7035 2954 7043 2978 7063 2954 7071 3002 7071 3022 7059 3030 7043 2982 Z",
be:"M 4707 2118 L 4727 2106 4771 2102 4795 2114 4787 2126 4799 2126 4807 2142 4799 2150 4791 2158 4791 2170 4783 2170 Z",bf:"M 4663 3298 L 4703 3274 4645 3194 4615 3194 4587 3206 4583 3214 4563 3218 4499 3278 4495 3314 4527 3334 4547 3322 4567 3342 4567 3298 4627 3298 4635 3294 4643 3294 Z",bg:"M 5243 2438 L 5239 2418 5227 2406 5243 2378 5227 2358 5235 2346 5243 2358 5315 2362 5355 2350 5391 2362 5387 2374 5359 2402 5375 2418 5331 2426 5327 2438 5303 2442 5283 2430 Z",bh:"M 5962 2884 L 5970 2881 5967 2894 Z",
bi:"M 5447 3650 L 5451 3674 5419 3706 5407 3678 5399 3662 Z",bj:"M 4711 3418 L 4711 3350 4719 3350 4739 3314 4731 3286 4735 3278 4711 3258 4703 3274 4663 3298 4659 3314 4679 3326 4687 3422 Z",bn:"M 7663 3458 L 7671 3474 7655 3462 7655 3478 7651 3482 7639 3470 Z",bo:"M 2815 4050 L 2827 4030 2839 4018 2819 3998 2835 3918 2815 3878 2847 3878 2887 3850 2923 3842 2931 3906 3055 3954 3059 4018 3107 4018 3107 4046 3127 4070 3115 4122 3087 4102 3019 4110 2995 4182 2959 4178 2951 4198 2943 4182 2911 4178 2903 4170 2875 4198 2855 4198 Z",
br:"M 3283 3478 L 3247 3530 3207 3526 3155 3538 3095 3554 3071 3538 3063 3454 3047 3450 3047 3458 2987 3494 2939 3478 2959 3522 2975 3526 2907 3570 2883 3558 2867 3534 2855 3542 2803 3542 2803 3558 2819 3558 2819 3570 2799 3570 2799 3594 2819 3622 2803 3698 2779 3698 2727 3722 2719 3758 2695 3786 2747 3854 2787 3838 2787 3878 2847 3878 2887 3850 2923 3842 2931 3906 3055 3954 3059 4018 3107 4018 3107 4046 3127 4070 3115 4122 3115 4178 3175 4182 3187 4230 3215 4230 3207 4274 3227 4274 3227 4318 3127 4406 3147 4402 3243 4478 3231 4494 3235 4510 3359 4358 3363 4278 3435 4222 3539 4198 3611 4054 3623 3934 3719 3818 3723 3770 3707 3722 3663 3718 3587 3662 3491 3650 3471 3662 3455 3626 3383 3602 3355 3626 3367 3594 3323 3578 3327 3542 3315 3538 Z",
bs:"M 2587 2914 L 2579 2930 2591 2938 2599 2930 Z M 2599 2938 L 2591 2942 2603 2954 Z M 2571 2874 L 2595 2866 2595 2870 Z M 2607 2866 L 2619 2878 2611 2890 2615 2878 Z",bt:"M 6971 2862 L 6999 2870 7059 2866 7055 2850 7047 2850 7047 2842 7003 2826 Z",bw:"M 5299 4058 L 5375 4162 5411 4178 5347 4222 5311 4278 5247 4266 5211 4310 5183 4310 5179 4298 5187 4290 5163 4254 5163 4174 5191 4174 5191 4074 5251 4066 5259 4078 Z",by:"M 5379 1934 L 5339 1954 5311 2006 5259 2018 5267 2062 5251 2078 5259 2082 5259 2098 5303 2086 5443 2106 5455 2082 5475 2082 5467 2042 5499 2034 5451 1986 5451 1954 Z",
bz:"M 2299 3114 L 2319 3094 2319 3146 2303 3166 2299 3166 Z",ca:"M 3159 2102 L 3083 2230 3247 2250 3227 2170 3155 2162 3187 2094 Z M 2583 1346 L 2723 1446 2739 1486 2683 1534 2703 1558 2611 1570 2591 1602 2623 1614 2691 1602 2771 1666 2907 1706 2835 1638 2931 1670 2951 1642 2859 1526 2971 1582 3027 1510 2855 1422 2883 1386 2835 1322 2603 1226 2539 1246 2495 1174 2395 1206 2395 1270 2367 1226 2407 1174 2335 1174 2275 1254 2279 1294 2339 1310 2291 1310 2339 1350 2571 1362 Z M 2519 1178 L 2555 1222 2643 1218 2595 1182 Z M 1899 1190 L 1871 1222 1895 1306 1991 1362 1959 1406 1835 1386 1667 1430 1559 1358 1695 1338 1555 1330 1527 1310 1583 1286 1515 1278 1535 1234 1623 1190 1651 1226 1667 1210 1727 1238 1731 1214 1783 1234 1803 1278 1803 1198 1855 1210 1835 1182 1871 1174 Z M 1611 1186 L 1479 1254 1471 1286 1411 1314 1335 1262 1387 1170 1363 1146 1455 1134 1551 1150 Z M 1587 970 L 1415 1042 1559 1038 Z M 1615 1030 L 1559 1098 1707 1142 1859 1098 1863 1054 1799 1046 1775 1006 1743 1078 Z M 1871 870 L 1979 890 2027 954 1907 930 Z M 1903 1022 L 2075 1034 2067 1106 2015 1106 Z M 2135 1082 L 2103 1106 2167 1126 2183 1094 Z M 2091 1002 L 2259 1014 2299 1074 2535 1078 2523 1130 2279 1138 2211 1090 2187 1034 2147 1042 Z M 2051 910 L 2119 974 2199 962 Z M 2627 1434 L 2607 1466 2643 1486 2667 1446 Z M 1659 949 L 1747 933 1751 961 1691 977 Z M 2883 2322 L 2859 2294 2859 2250 2823 2238 2759 2318 2671 2318 2643 2338 2563 2354 2543 2374 2563 2374 2567 2386 2459 2414 2459 2406 2475 2382 2491 2370 2503 2318 2539 2338 2519 2290 2427 2274 2419 2266 2411 2222 2327 2186 2283 2218 2143 2186 1415 2186 1347 2146 1395 2190 1395 2206 1335 2186 1267 2126 1283 2122 1323 2134 1207 2014 1215 1986 1227 1938 1079 1798 1031 1830 935 1770 935 1374 1083 1410 1239 1350 1219 1374 1291 1346 1347 1386 1367 1354 1643 1430 1611 1454 1687 1462 1751 1450 1795 1474 1807 1446 1859 1426 1787 1434 1795 1422 1859 1410 1871 1430 1955 1462 2047 1454 2047 1434 2079 1426 2031 1402 2071 1358 2127 1414 2091 1426 2119 1442 2115 1478 2135 1446 2179 1422 2155 1374 2107 1342 2139 1262 2123 1178 2175 1154 2267 1166 2223 1226 2179 1222 2167 1270 2231 1346 2207 1370 2227 1386 2271 1382 2335 1438 2347 1486 2395 1418 2395 1366 2503 1394 2479 1438 2507 1474 2435 1546 2363 1518 2355 1570 2251 1646 2159 1754 2151 1826 2191 1838 2211 1898 2259 1890 2411 1970 2479 1970 2479 2054 2535 2106 2579 2070 2543 1986 2623 1938 2611 1862 2575 1834 2615 1786 2591 1686 2735 1706 2811 1754 2827 1830 2863 1854 2911 1830 2943 1762 3059 1958 3135 1990 3179 2070 3071 2142 2891 2142 2787 2242 2899 2178 2951 2186 2939 2270 3011 2294 3047 2250 3059 2290 2919 2366 2899 2338 2947 2294 Z M 2387 1558 L 2355 1638 2407 1658 2455 1618 2511 1642 2523 1630 Z M 1999 1174 L 2083 1166 2099 1270 2043 1298 1943 1222 2011 1222 Z M 2339 982 L 2287 1026 2563 1034 2563 990 2687 898 2659 870 2783 838 3031 682 2691 622 2475 658 2459 694 2411 666 2223 730 2383 798 2531 790 2359 814 2443 894 2367 894 2339 942 2403 962 2327 962 Z M 2199 746 L 2307 826 2403 870 2303 938 2223 934 2103 830 Z",
cd:"M 5407 3678 L 5399 3662 5399 3650 5419 3622 5419 3586 5463 3530 5447 3522 5451 3494 5359 3454 5243 3458 5231 3478 5175 3470 5155 3450 5127 3474 5127 3494 5127 3506 5103 3606 5063 3646 5063 3678 5055 3690 5027 3714 5019 3714 5019 3702 4999 3706 4991 3714 4983 3710 4967 3722 4967 3738 4959 3738 4967 3746 4979 3742 5075 3742 5099 3798 5147 3798 5151 3770 5179 3770 5179 3778 5211 3778 5223 3886 5271 3878 5279 3878 5283 3890 5303 3886 5307 3894 5347 3906 5351 3894 5407 3942 5423 3942 5423 3910 5403 3914 5383 3890 5391 3870 5387 3834 5399 3814 5443 3802 5411 3750 5403 3718 Z",
cf:"M 5127 3494 L 5127 3474 5155 3450 5175 3470 5231 3478 5243 3458 5359 3454 5243 3298 5127 3374 5047 3386 5019 3430 5063 3530 5075 3494 Z",cg:"M 5063 3530 L 5075 3494 5127 3494 5127 3506 5103 3606 5063 3646 5063 3678 5055 3690 5027 3714 5019 3714 5019 3702 4999 3706 4991 3714 4983 3710 4975 3702 4955 3722 4931 3690 4943 3678 4951 3686 4943 3650 4967 3646 4967 3638 4975 3634 4983 3650 5011 3650 5019 3602 5003 3594 5019 3554 4987 3554 4987 3530 5023 3530 5063 3546 Z",ch:"M 4839 2238 L 4823 2242 4799 2282 4819 2274 4823 2290 4847 2290 4859 2274 4875 2294 4887 2274 4907 2282 4915 2262 4891 2250 4895 2238 Z",
ci:"M 4567 3454 L 4555 3414 4575 3370 4567 3342 4547 3322 4527 3334 4495 3314 4479 3322 4475 3310 4455 3322 4431 3318 4419 3390 4415 3414 4443 3438 4439 3474 4491 3454 4543 3450 Z",cl:"M 2843 5106 L 2803 5094 2751 5094 2739 5046 2719 5050 2711 5002 2763 4866 2747 4766 2763 4666 2779 4650 2799 4494 2787 4434 2839 4306 2839 4250 2871 4230 2875 4198 2855 4198 2815 4050 2791 4074 2799 4162 2759 4406 2763 4474 2719 4606 2703 4614 2715 4678 2699 4734 2703 4750 2695 4754 2683 4802 2703 4810 2715 4750 2731 4750 2707 4854 2699 4818 2683 4834 2679 4878 2651 4914 2687 4918 2675 4950 2655 4958 2659 5050 2671 5038 2663 5078 2691 5078 2667 5086 2715 5130 2675 5118 2739 5182 2823 5210 2927 5198 2927 5190 2899 5182 2847 5142 2831 5110 2815 5110 2791 5130 2791 5142 2819 5142 2799 5154 2803 5166 2827 5182 2795 5170 2787 5150 2775 5166 2743 5150 2771 5158 2783 5122 2819 5102 Z",
cm:"M 4895 3530 L 5023 3530 5063 3546 5063 3530 5019 3430 5047 3386 5007 3330 5015 3322 5047 3322 5035 3294 5039 3270 5019 3242 5011 3242 5011 3262 5019 3262 5023 3282 5007 3290 4939 3418 4915 3402 4863 3462 4903 3502 Z",cn:"M 6947 2182 L 6935 2186 6891 2210 6891 2250 6819 2250 6795 2314 6747 2322 6747 2410 6691 2446 6659 2450 6643 2466 6607 2466 6583 2478 6579 2494 6575 2494 6583 2522 6603 2526 6607 2566 6635 2582 6639 2606 6683 2618 6715 2650 6707 2658 6731 2698 6715 2710 6707 2702 6699 2706 6711 2738 6767 2770 6795 2770 6895 2830 6955 2838 6971 2830 6971 2862 7003 2826 7047 2842 7075 2834 7127 2798 7147 2802 7163 2794 7195 2826 7207 2818 7231 2846 7231 2894 7203 2926 7203 2946 7235 2942 7239 2970 7255 2974 7243 2998 7267 3002 7271 3018 7295 3014 7299 3022 7311 3026 7307 2994 7311 2990 7323 2990 7331 2982 7347 2990 7407 2966 7443 2982 7443 3002 7475 3018 7491 3010 7527 3018 7519 3030 7531 3050 7543 3042 7535 3030 7623 2994 7623 2978 7631 2986 7643 2986 7707 2966 7779 2894 7847 2782 7811 2770 7843 2750 7835 2718 7819 2702 7799 2650 7771 2634 7843 2570 7855 2574 7859 2558 7847 2554 7835 2558 7815 2542 7779 2566 7763 2554 7763 2534 7735 2534 7735 2506 7763 2506 7771 2498 7823 2450 7851 2462 7831 2490 7835 2506 7823 2514 7823 2518 7887 2482 7907 2482 7975 2422 8003 2438 8007 2418 8047 2402 8055 2386 8071 2406 8071 2390 8083 2386 8083 2326 8103 2310 8135 2322 8179 2214 8079 2234 8051 2178 7991 2162 7947 2058 7879 2030 7815 2038 7791 2058 7791 2066 7811 2066 7811 2086 7735 2170 7703 2158 7675 2218 7683 2234 7755 2222 7791 2258 7783 2270 7723 2270 7627 2326 7583 2318 7567 2342 7579 2362 7515 2402 7455 2406 7399 2430 7287 2394 7175 2394 7139 2342 7087 2322 7027 2314 7019 2302 7031 2286 7007 2226 6951 2202 Z M 7545 3053 L 7510 3059 7493 3075 7495 3096 7518 3106 7541 3090 7555 3063 Z",
co:"M 2595 3398 L 2611 3378 2607 3358 2623 3366 2671 3294 2715 3290 2759 3258 2771 3270 2751 3282 2711 3346 2759 3402 2799 3402 2815 3426 2867 3422 2855 3470 2871 3498 2859 3510 2875 3526 2883 3558 2867 3534 2855 3542 2803 3542 2803 3558 2819 3558 2819 3570 2799 3570 2799 3594 2819 3622 2803 3698 2783 3686 2799 3658 2755 3646 2719 3650 2703 3618 2663 3590 2571 3550 2611 3490 2603 3478 2607 3410 Z",cr:"M 2443 3302 L 2435 3306 2411 3294 2391 3290 2387 3294 2383 3318 2403 3334 2415 3330 2459 3370 2467 3334 Z",
cu:"M 2423 2990 L 2479 2966 2575 2986 2691 3050 2599 3058 2611 3038 2483 2982 2419 3006 Z M 2459 3002 L 2455 3014 2471 3014 Z",cy:"M 5547 2608 L 5524 2618 5504 2617 5500 2625 5488 2627 5505 2642 5532 2628 5531 2620 Z",cz:"M 5135 2170 L 5087 2198 5035 2186 5027 2202 5003 2198 4963 2146 5031 2122 5127 2158 Z",de:"M 4823 2038 L 4827 2026 4871 2018 4867 1982 4891 1982 4907 1998 4931 1998 4927 2014 4983 1998 5011 2018 5019 2046 5011 2054 5023 2066 5031 2122 4963 2146 5003 2198 4975 2218 4979 2238 4839 2238 4855 2190 4807 2174 4811 2162 4799 2150 4807 2142 4799 2126 4787 2126 4803 2102 4795 2090 4819 2086 4827 2042 Z",
dj:"M 5771 3254 L 5751 3258 5739 3278 5739 3298 5767 3298 5775 3286 5763 3282 5779 3270 Z",dk:"M 4867 1982 L 4891 1982 4895 1958 4915 1978 4923 1962 4907 1954 4899 1958 4899 1954 4927 1922 4911 1918 4915 1874 4887 1898 4867 1898 4851 1922 4851 1958 4867 1962 Z M 4967 1938 L 4951 1942 4951 1950 4943 1942 4931 1954 4935 1970 4959 1978 4959 1970 4967 1966 4959 1958 4971 1954 Z M 4931 1978 L 4927 1986 4943 1994 4955 1990 4963 1978 4947 1978 4943 1982 Z",dm:"M 3024 3173 L 3030 3177 3030 3184 3027 3185 Z",
"do":"M 2755 3062 L 2755 3106 2763 3118 2787 3098 2839 3102 2847 3094 2779 3058 Z",dz:"M 4863 2574 L 4859 2626 4835 2666 4879 2718 4887 2770 4887 2886 4955 2958 4831 3034 4795 3074 4751 3082 4723 3082 4667 3026 4506 2917 4411 2854 4411 2842 4411 2814 4539 2742 4539 2726 4607 2714 4583 2630 4719 2574 Z",ec:"M 2663 3590 L 2571 3550 2515 3614 2515 3646 2543 3666 2531 3678 2527 3706 2551 3706 2563 3722 2591 3666 2627 3654 2663 3614 Z",ee:"M 5231 1826 L 5219 1830 5231 1838 5215 1846 5219 1870 5251 1842 5235 1838 5243 1830 Z M 5279 1870 L 5303 1862 5335 1882 5347 1878 5355 1882 5367 1870 5359 1834 5375 1810 5315 1802 5255 1818 5263 1854 5283 1854 Z",
eg:"M 5539 2738 L 5559 2790 5539 2838 5491 2778 5575 2970 5531 3010 5511 3002 5299 3002 5299 2730 5318 2729 5403 2754 5455 2734 5507 2746 Z",eh:"M 4411 2854 L 4411 2842 4295 2842 4279 2874 4259 2886 4247 2926 4195 3006 4195 3022 4295 3022 4295 2974 4323 2962 4323 2890 4411 2890 Z",er:"M 5651 3110 L 5611 3138 5599 3210 5627 3214 5635 3194 5651 3206 5695 3206 5751 3258 5771 3254 5719 3198 5695 3190 5687 3178 5683 3182 5671 3162 5659 3122 Z",es:"M 4719 2402 L 4723 2422 4655 2462 4631 2498 4580 2579 4499 2594 4495 2598 4459 2566 4443 2566 4447 2494 4475 2430 4407 2414 4395 2386 4435 2358 4595 2374 4679 2398 4679 2402 4687 2398 Z M 4721 2478 L 4730 2486 4720 2501 4700 2490 Z M 4739 2477 L 4748 2474 4752 2483 Z M 4671 2510 L 4679 2504 4682 2507 4675 2513 Z",
et:"M 5583 3466 L 5579 3446 5507 3382 5511 3366 5531 3366 5543 3302 5555 3306 5599 3210 5627 3214 5635 3194 5651 3206 5695 3206 5751 3258 5739 3278 5739 3298 5767 3298 5759 3306 5791 3346 5871 3378 5899 3378 5823 3458 5795 3458 5739 3482 5719 3482 5711 3474 5679 3498 5639 3494 5607 3470 Z",fi:"M 5271 1550 L 5259 1454 5183 1406 5199 1390 5239 1422 5271 1414 5295 1426 5335 1362 5371 1358 5403 1374 5411 1382 5399 1402 5383 1414 5395 1414 5387 1426 5395 1446 5427 1466 5403 1498 5431 1554 5423 1558 5419 1582 5443 1622 5427 1638 5471 1670 5459 1690 5371 1766 5247 1794 5199 1766 5207 1726 5195 1678 5287 1590 5307 1586 5303 1562 Z",
fj:"M 9318 4045 L 9292 4064 9317 4074 9334 4066 Z M 9327 4032 L 9334 4038 9373 4033 9362 4015 Z",fr:"M 4595 2374 L 4679 2398 4687 2398 4719 2402 4723 2378 4751 2370 4803 2382 4824 2368 4835 2362 4839 2346 4819 2342 4823 2330 4815 2318 4827 2306 4819 2274 4799 2282 4823 2242 4839 2238 4855 2190 4807 2174 4791 2170 4783 2170 4707 2118 4679 2126 4679 2150 4635 2178 4611 2174 4607 2166 4591 2166 4599 2202 4567 2202 4555 2194 4515 2202 4527 2230 4575 2238 4611 2302 4607 2342 Z M 4887 2382 L 4890 2411 4881 2434 4866 2418 4866 2399 4883 2392 Z",
fk:"M 3119 5070 L 3047 5070 3051 5090 3035 5090 3047 5102 3083 5074 3067 5106 3123 5082 Z",ga:"M 4931 3690 L 4943 3678 4951 3686 4943 3650 4967 3646 4967 3638 4975 3634 4983 3650 5011 3650 5019 3602 5003 3594 5019 3554 4987 3554 4987 3530 4939 3530 4939 3562 4891 3562 4887 3586 4871 3610 4883 3638 Z",gb:"M 4647 2130 L 4675 2114 4675 2106 4653 2106 4683 2082 4687 2062 4671 2050 4651 2050 4647 2058 4639 2054 4647 2046 4627 1998 4607 1990 4595 1954 4559 1938 4591 1878 4535 1878 4559 1842 4507 1842 4483 1886 4475 1930 4515 1958 4507 1986 4547 1982 4563 2038 4531 2038 4523 2034 4519 2038 4523 2046 4515 2058 4531 2054 4531 2078 4503 2086 4507 2098 4555 2106 4571 2096 4559 2110 4527 2114 4495 2150 4503 2154 4515 2142 4531 2142 4543 2146 4551 2134 4567 2130 4607 2134 4619 2126 Z M 4451 1974 L 4427 1998 4447 2010 4455 1998 4475 2014 4499 1998 4479 1966 Z",
gd:"M 3018 3264 L 3022 3267 3016 3271 Z",ge:"M 5731 2430 L 5759 2430 5783 2442 5823 2438 5831 2434 5863 2446 5867 2438 5855 2426 5859 2418 5839 2410 5843 2402 5695 2366 5691 2374 5727 2394 5735 2426 Z",gf:"M 3223 3434 L 3207 3458 3223 3494 3207 3526 3247 3530 3283 3478 3255 3450 Z",gh:"M 4671 3426 L 4655 3410 4651 3318 4635 3305 4643 3294 4635 3293 4627 3298 4567 3298 4567 3342 4575 3370 4555 3414 4567 3454 4587 3462 Z",gi:"M 4499 2594 L 4500 2596 4498 2596 Z",gl:"M 2875 806 L 2935 834 2727 930 2851 986 2775 998 2859 1062 3007 1042 3152 1129 3194 1212 3184 1289 3242 1270 3303 1330 3207 1321 3231 1390 3307 1370 3227 1470 3351 1730 3491 1786 3591 1574 3711 1538 3791 1434 4051 1358 4047 1202 4135 1138 4115 878 4323 730 4195 706 4047 746 4063 674 3767 590 3351 646 3387 694 3275 662 3287 698 3179 682 3011 722 3015 762 2975 758 Z",
gm:"M 4199 3242 L 4243 3230 4267 3238 4279 3234 4247 3222 4203 3230 Z",gn:"M 4291 3350 L 4315 3326 4347 3326 4363 3358 4359 3366 4371 3362 4387 3366 4391 3390 4403 3398 4411 3386 4419 3390 4431 3318 4395 3266 4343 3274 4339 3258 4279 3254 4279 3278 4251 3286 4247 3298 Z",gp:"M 3016 3154 L 3022 3155 3025 3149 3032 3157 3022 3159 3018 3165 Z",gq:"M 4891 3562 L 4939 3562 4939 3530 4895 3530 4887 3558 Z M 4875 3490 L 4867 3502 4859 3498 4867 3490 Z",gr:"M 5171 2494 L 5191 2462 5191 2454 5243 2438 5283 2430 5303 2442 5327 2438 5331 2426 5327 2458 5299 2450 5263 2458 5271 2470 5251 2474 5239 2466 5231 2478 5283 2538 5271 2538 5271 2554 5259 2542 5247 2546 5259 2558 5247 2562 5235 2554 5247 2590 5235 2578 5231 2590 5219 2570 5215 2578 5207 2566 5211 2562 5195 2542 5211 2530 5243 2542 5247 2538 5215 2530 5195 2530 Z M 5259 2614 L 5259 2622 5295 2630 5331 2630 5331 2622 Z",
gt:"M 2303 3166 L 2299 3166 2299 3114 2251 3114 2251 3130 2239 3130 2263 3162 2231 3162 2215 3202 2243 3218 2271 3222 2291 3206 2323 3170 Z",gw:"M 4247 3298 L 4251 3286 4279 3278 4279 3254 4239 3254 4199 3262 4223 3278 4235 3278 4231 3286 Z",gy:"M 3071 3366 L 3043 3390 3055 3402 3027 3430 3047 3450 3063 3454 3071 3538 3095 3554 3155 3538 3115 3478 3139 3434 Z",hk:"M 7631 2986 L 7643 2986 7639 2994 Z",hm:"M 6563 5126 L 6579 5130 6567 5134 Z",hn:"M 2291 3206 L 2335 3222 2331 3238 2347 3246 2411 3194 2455 3190 2423 3166 2323 3170 Z",
hr:"M 5135 2294 L 5107 2294 5071 2270 5051 2286 5043 2306 4999 2306 5003 2326 5123 2402 5051 2326 5055 2314 5143 2322 Z",ht:"M 2755 3062 L 2755 3106 2687 3102 2687 3094 2739 3094 2731 3074 2711 3066 2727 3058 Z",hu:"M 5223 2210 L 5239 2222 5223 2230 5195 2282 5151 2282 5135 2294 5107 2294 5071 2270 5067 2258 5087 2230 5087 2222 5103 2230 5135 2226 5135 2222 5179 2206 Z",id:"M 7139 3442 L 7199 3454 7219 3482 7363 3582 7355 3606 7383 3618 7395 3650 7415 3654 7423 3670 7415 3742 7375 3734 7323 3694 7259 3590 7243 3582 7235 3546 7183 3494 7171 3490 Z M 7399 3642 L 7419 3630 7431 3654 7443 3658 7439 3674 7423 3662 7419 3646 Z M 7467 3658 L 7463 3674 7479 3674 7483 3662 Z M 7423 3746 L 7407 3770 7435 3774 7431 3782 7647 3822 7643 3798 7607 3790 7599 3778 7635 3774 7551 3762 7539 3770 7491 3766 7483 3750 Z M 7735 3482 L 7679 3478 7647 3550 7623 3558 7591 3550 7583 3562 7543 3566 7519 3538 7499 3562 7515 3622 7523 3618 7535 3666 7575 3666 7575 3682 7647 3682 7647 3698 7687 3686 7735 3562 7763 3562 7723 3506 Z M 7919 3542 L 7931 3550 7907 3578 7803 3578 7791 3606 7819 3626 7831 3610 7879 3606 7831 3646 7875 3710 7867 3738 7855 3726 7863 3706 7839 3718 7831 3714 7819 3662 7795 3670 7807 3738 7775 3734 7779 3682 7759 3678 7795 3570 7819 3558 7899 3570 Z M 7647 3806 L 7667 3802 7679 3810 7667 3822 Z M 7691 3806 L 7703 3810 7695 3822 7683 3818 Z M 7711 3810 L 7707 3830 7747 3818 Z M 7731 3802 L 7763 3806 7767 3818 7751 3822 Z M 7783 3818 L 7803 3806 7851 3818 7923 3802 7927 3810 7835 3822 Z M 7919 3826 L 7923 3838 7887 3866 7879 3858 7891 3838 Z M 7803 3862 L 7811 3854 7787 3834 7763 3838 Z M 7951 3674 L 7975 3670 7983 3686 7971 3690 Z M 8003 3666 L 8059 3666 8079 3690 8023 3674 8011 3682 Z M 8015 3522 L 8007 3528 7987 3546 7995 3598 8011 3614 7999 3586 7999 3574 8019 3582 8019 3578 8003 3570 8019 3558 8019 3546 7995 3570 7995 3562 8003 3546 7999 3542 Z M 7991 3626 L 7987 3634 8003 3634 Z M 7907 3634 L 7959 3638 7907 3642 Z M 8079 3622 L 8119 3598 8159 3606 8171 3658 8183 3674 8199 3678 8259 3630 8343 3658 8343 3826 8311 3802 8255 3810 8267 3786 8287 3782 8263 3730 8147 3682 8139 3698 8111 3662 8155 3650 8111 3646 8103 3630 Z M 8171 3734 L 8163 3754 8163 3766 8179 3754 Z M 8095 3778 L 8083 3794 8083 3802 8095 3786 Z",
ie:"M 4475 2014 L 4455 1998 4447 2010 4427 1998 4451 1974 4455 1966 4423 1970 4407 1990 4419 1994 4411 2002 4375 2002 4375 2034 4395 2046 4367 2078 4383 2102 4471 2078 4483 2050 Z",il:"M 5563 2686 L 5575 2682 5575 2698 5571 2746 5559 2790 5539 2738 5551 2722 Z","in":"M 6431 2950 L 6507 2934 6495 2898 6487 2898 6483 2874 6471 2874 6467 2862 6491 2834 6499 2842 6527 2834 6599 2746 6599 2726 6619 2710 6603 2706 6579 2650 6591 2638 6631 2646 6683 2618 6715 2650 6707 2658 6731 2698 6715 2710 6707 2702 6699 2706 6711 2738 6767 2770 6739 2806 6827 2854 6847 2850 6863 2854 6863 2862 6883 2870 6951 2878 6955 2838 6971 2830 6971 2862 6999 2870 7059 2866 7055 2850 7047 2850 7047 2842 7075 2834 7127 2798 7147 2802 7163 2794 7195 2826 7195 2838 7183 2850 7191 2862 7175 2854 7139 2874 7111 2950 7091 2946 7087 2994 7071 3002 7063 2954 7043 2978 7035 2954 7067 2918 6999 2910 6995 2886 6963 2878 6955 2894 6975 2910 6951 2930 6971 2938 6979 3006 6927 3014 6923 3038 6743 3182 6751 3238 6735 3282 6735 3318 6723 3318 6715 3342 6695 3350 6691 3370 6675 3378 6651 3354 6643 3326 6571 3166 6547 3062 6555 3042 6543 2998 6531 3026 6499 3038 6451 2994 6483 2986 6483 2978 6467 2982 Z",
iq:"M 5815 2566 L 5755 2566 5735 2586 5727 2586 5715 2650 5659 2678 5671 2714 5743 2742 5815 2802 5863 2802 5879 2778 5911 2778 5895 2726 5835 2658 5851 2606 5831 2602 Z",ir:"M 5911 2778 L 5895 2726 5835 2658 5851 2606 5831 2602 5815 2566 5799 2498 5811 2486 5835 2510 5851 2514 5859 2514 5899 2490 5923 2530 5931 2554 6003 2586 6059 2574 6055 2562 6123 2530 6247 2582 6251 2614 6231 2686 6239 2734 6263 2738 6263 2754 6239 2782 6299 2854 6299 2874 6263 2882 6255 2914 6143 2898 6131 2858 6075 2874 5995 2838 5951 2770 Z",
is:"M 4019 1586 L 4067 1614 4047 1634 4147 1654 4283 1582 4215 1518 4107 1534 4083 1566 4043 1518 3999 1562 4059 1566 Z",it:"M 4835 2362 L 4871 2338 4983 2442 5051 2478 5067 2514 5051 2534 5059 2546 5091 2502 5075 2486 5091 2466 5119 2486 5127 2474 5075 2442 5059 2430 5063 2418 5035 2418 4995 2366 4963 2346 4963 2306 4995 2294 4999 2270 4959 2254 4915 2262 4907 2282 4887 2274 4875 2294 4859 2274 4847 2290 4823 2290 4827 2306 4815 2318 4823 2330 4819 2342 4839 2346 Z M 5047 2534 L 5035 2578 4963 2546 Z M 4887 2442 L 4899 2466 4891 2506 4859 2506 4855 2454 Z",
jm:"M 2579 3102 L 2607 3094 2639 3110 2611 3118 Z",jo:"M 5659 2678 L 5607 2710 5575 2698 5571 2746 5559 2790 5559 2798 5587 2802 5639 2762 5611 2734 5671 2714 Z",jp:"M 8359 2310 L 8351 2378 8311 2394 8319 2430 8339 2422 8327 2402 8367 2394 8399 2414 8463 2374 8455 2342 8427 2354 8367 2302 Z M 8159 2650 L 8179 2662 8163 2682 8147 2674 8131 2698 8115 2678 8131 2658 8139 2666 8147 2662 8151 2654 Z M 8079 2662 L 8111 2690 8087 2738 8075 2750 8059 2738 8067 2698 8039 2682 Z M 8327 2438 L 8339 2434 8375 2498 8343 2542 8335 2606 8223 2650 8207 2678 8183 2654 8195 2638 8119 2654 8111 2662 8079 2658 8083 2646 8127 2614 8191 2610 8207 2618 8215 2610 8211 2598 8239 2566 8247 2578 8299 2534 8319 2482 8315 2458 Z",
ke:"M 5531 3478 L 5543 3466 5583 3466 5607 3470 5639 3494 5679 3498 5711 3474 5719 3482 5739 3482 5715 3514 5715 3610 5731 3630 5707 3654 5695 3658 5695 3674 5671 3710 5627 3678 5631 3670 5535 3614 5531 3582 5563 3534 Z",kg:"M 6575 2494 L 6499 2498 6463 2494 6459 2486 6479 2474 6495 2482 6503 2474 6523 2478 6559 2454 6523 2434 6515 2442 6487 2430 6511 2414 6503 2410 6519 2390 6567 2402 6587 2378 6627 2390 6719 2390 6747 2410 6691 2446 6659 2450 6643 2466 6607 2466 6583 2478 6579 2494 Z",kh:"M 7383 3314 L 7415 3298 7427 3306 7419 3282 7463 3262 7463 3202 7447 3210 7439 3206 7427 3210 7427 3218 7423 3222 7403 3210 7351 3210 7327 3234 7339 3274 7347 3290 7347 3302 7355 3302 7359 3298 7363 3306 7359 3310 7363 3314 7367 3310 Z",
kp:"M 7907 2482 L 7975 2422 8003 2438 8007 2418 8047 2402 8055 2386 8071 2406 8043 2430 8047 2454 7987 2486 7987 2506 8011 2522 7967 2546 7919 2538 7931 2494 Z",kr:"M 8011 2522 L 8043 2574 8031 2630 7963 2650 7955 2630 7967 2598 7955 2578 7971 2570 7967 2546 Z",kw:"M 5911 2778 L 5895 2794 5911 2818 5891 2818 5887 2806 5863 2802 5879 2778 Z",ky:"M 2482 3012 L 2490 3008 2486 3012 Z M 2496 3010 L 2498 3012 2502 3008 Z",kz:"M 6111 2438 L 6099 2442 6067 2406 6035 2410 6019 2426 6015 2410 6027 2398 6003 2390 5975 2346 5959 2342 5959 2330 5987 2334 5979 2322 5991 2310 6027 2306 6035 2266 5983 2250 5931 2274 5863 2206 5891 2138 5911 2162 5923 2154 5919 2134 5975 2094 6015 2094 6103 2134 6175 2114 6207 2138 6251 2126 6255 2106 6215 2086 6243 2074 6235 2058 6247 2050 6267 2050 6271 2046 6247 2038 6247 2018 6463 1966 6499 1966 6511 2010 6571 2018 6571 2030 6655 2002 6743 2126 6767 2110 6799 2130 6831 2118 6903 2170 6919 2166 6935 2186 6891 2210 6891 2250 6819 2250 6795 2314 6747 2322 6747 2410 6719 2390 6627 2390 6587 2378 6567 2402 6519 2390 6503 2410 6451 2438 6439 2458 6419 2442 6395 2442 6387 2418 6375 2418 6375 2386 6367 2390 6343 2362 6267 2370 6243 2342 6179 2302 6111 2322 Z",
la:"M 7295 3014 L 7267 3046 7279 3054 7279 3070 7299 3070 7291 3122 7295 3126 7323 3106 7335 3118 7355 3098 7391 3130 7391 3150 7415 3174 7411 3190 7411 3206 7403 3210 7423 3222 7427 3218 7427 3210 7439 3206 7447 3210 7463 3202 7467 3186 7455 3170 7463 3166 7399 3098 7403 3094 7371 3074 7399 3054 7375 3030 7363 3038 7343 3022 7343 3010 7323 2990 7311 2990 7307 2994 7311 3026 7299 3022 Z",lb:"M 5583 2642 L 5591 2642 5599 2654 5575 2682 5563 2686 Z",lc:"M 3038 3214 L 3035 3222 3039 3224 Z",lk:"M 6739 3330 L 6763 3346 6787 3390 6791 3410 6759 3434 6743 3426 6731 3378 6743 3342 Z",
lr:"M 4439 3474 L 4443 3438 4415 3414 4419 3390 4411 3386 4403 3398 4391 3390 4387 3366 4371 3362 4339 3406 4399 3454 Z",lt:"M 5199 1966 L 5191 1938 5223 1926 5295 1926 5339 1954 5311 2006 5259 2018 5235 1998 5235 1974 Z",lu:"M 4791 2158 L 4791 2170 4807 2174 4811 2162 4799 2150 Z",lv:"M 5191 1938 L 5223 1926 5295 1926 5339 1954 5379 1934 5371 1890 5347 1878 5335 1882 5303 1862 5279 1870 5279 1894 5259 1906 5231 1874 5199 1894 Z",ly:"M 5299 2730 L 5299 3002 5299 3058 5271 3058 5271 3070 5059 2962 5035 2973 5015 2986 4995 2970 4955 2958 4887 2886 4887 2770 4911 2754 4903 2734 4943 2706 4943 2686 5039 2710 5051 2734 5143 2770 5171 2742 5163 2726 5211 2690 5247 2702 5251 2714 5295 2722 Z",
ma:"M 4583 2630 L 4607 2714 4539 2726 4539 2742 4411 2814 4411 2842 4295 2842 4375 2794 4383 2734 4415 2686 4459 2662 4483 2610 4499 2606 4507 2622 Z",mc:"M 4823 2370 L 4824 2368 4824 2370 Z",md:"M 5343 2210 L 5383 2266 5375 2282 5387 2314 5419 2310 5439 2282 5427 2270 5403 2222 5363 2206 Z",me:"M 5175 2386 L 5167 2398 5147 2422 5123 2402 5143 2370 Z",mg:"M 5827 4274 L 5875 4258 5967 3994 5935 3902 5875 3990 5807 4018 5791 4050 5807 4118 5779 4166 5787 4218 5803 4262 Z",mk:"M 5227 2406 L 5239 2418 5243 2438 5191 2454 5179 2442 5183 2418 Z",
ml:"M 4507 2918 L 4467 2918 4491 3150 4499 3158 4495 3178 4359 3178 4351 3190 4335 3174 4319 3202 4339 3257 4343 3274 4395 3266 4431 3318 4455 3322 4475 3310 4479 3322 4495 3314 4499 3278 4563 3218 4583 3214 4587 3206 4615 3194 4645 3194 4665 3194 4675 3182 4731 3182 4751 3154 4751 3082 4723 3082 4667 3026 Z",mm:"M 7059 3030 L 7071 3022 7071 3002 7087 2994 7091 2946 7111 2950 7139 2874 7175 2854 7191 2862 7183 2850 7195 2838 7195 2826 7207 2818 7231 2846 7231 2894 7203 2926 7203 2946 7235 2942 7239 2970 7255 2974 7243 2998 7267 3002 7271 3018 7295 3014 7267 3046 7215 3066 7199 3098 7207 3118 7235 3154 7227 3166 7227 3182 7219 3186 7227 3210 7247 3226 7243 3242 7255 3278 7227 3326 7227 3302 7231 3282 7231 3258 7187 3130 7179 3150 7147 3174 7115 3162 7123 3122 7107 3086 7095 3074 7099 3066 7079 3054 Z",
mn:"M 6947 2182 L 6951 2202 7007 2226 7031 2286 7019 2302 7027 2314 7087 2322 7139 2342 7175 2394 7287 2394 7399 2430 7455 2406 7515 2402 7579 2362 7567 2342 7583 2318 7627 2326 7723 2270 7783 2270 7791 2258 7755 2222 7683 2234 7675 2218 7703 2158 7639 2146 7547 2182 7403 2138 7363 2150 7327 2134 7323 2106 7239 2082 7207 2122 7219 2138 7211 2154 7195 2162 7127 2154 7115 2134 7063 2126 Z",mq:"M 3031 3194 L 3040 3197 3041 3206 3035 3204 Z",mr:"M 4195 3022 L 4295 3022 4295 2974 4323 2962 4323 2890 4411 2890 4411 2854 4507 2918 4467 2918 4491 3150 4499 3158 4495 3178 4359 3178 4351 3190 4335 3174 4319 3202 4263 3146 4207 3158 4219 3118 4207 3074 4215 3050 Z",
ms:"M 3004 3142 L 3007 3142 3006 3145 Z",mt:"M 5013 2597 L 5023 2603 5018 2606 Z",mw:"M 5503 3830 L 5535 3842 5559 3894 5555 3950 5583 3974 5579 4014 5563 4026 5567 4042 5539 4006 5547 3990 5543 3970 5523 3974 5511 3958 5523 3866 Z",mx:"M 2087 2890 L 2039 2878 1975 2782 1951 2778 1931 2806 1843 2726 1799 2726 1799 2738 1723 2738 1627 2702 1563 2702 1599 2782 1647 2822 1639 2842 1615 2838 1691 2890 1691 2922 1755 2974 1767 2962 1627 2766 1627 2722 1663 2738 1691 2806 1875 3014 1867 3046 1919 3102 2103 3174 2139 3158 2163 3162 2215 3202 2231 3162 2263 3162 2239 3130 2251 3130 2251 3114 2299 3114 2319 3094 2335 3098 2355 3010 2267 3026 2255 3074 2227 3094 2155 3106 2143 3090 2123 3090 2067 2994 Z",
my:"M 7271 3422 L 7275 3418 7295 3426 7295 3442 7315 3438 7323 3426 7355 3458 7355 3514 7363 3522 7379 3550 7363 3550 7359 3554 7299 3514 7299 3502 7283 3486 Z M 7519 3538 L 7543 3566 7583 3562 7591 3550 7623 3558 7647 3550 7679 3478 7735 3482 7755 3474 7743 3458 7771 3450 7711 3402 7663 3458 7671 3474 7655 3462 7655 3478 7651 3482 7639 3470 7607 3506 7567 3518 7555 3550 Z",mz:"M 5703 3866 L 5623 3894 5559 3894 5555 3950 5583 3974 5579 4014 5563 4026 5567 4042 5539 4006 5547 3990 5543 3970 5523 3974 5511 3958 5435 3986 5439 4002 5439 4010 5503 4030 5503 4126 5463 4186 5479 4286 5483 4310 5503 4310 5503 4290 5495 4286 5575 4226 5571 4178 5551 4130 5615 4058 5687 4022 5711 3978 Z",
na:"M 5163 4254 L 5163 4174 5191 4174 5191 4074 5251 4066 5259 4078 5299 4058 5279 4050 5255 4058 5187 4066 5139 4062 5123 4050 5007 4050 4983 4038 4947 4046 5019 4202 5031 4298 5071 4362 5087 4342 5099 4362 5147 4370 5163 4354 Z",nc:"M 8945 4124 L 8983 4144 9025 4185 8974 4158 Z",ne:"M 4735 3278 L 4711 3258 4703 3274 4644 3194 4665 3194 4675 3182 4731 3182 4751 3154 4751 3082 4795 3074 4831 3034 4955 2958 4995 2970 5015 2986 5035 2974 5059 3046 5047 3138 4995 3206 4995 3226 4967 3242 4923 3234 4891 3250 4847 3234 4823 3246 4759 3222 Z",
ng:"M 4863 3462 L 4915 3402 4939 3418 5007 3290 5023 3282 5019 3262 5011 3262 5011 3242 4995 3226 4967 3242 4923 3234 4891 3250 4847 3234 4823 3246 4759 3222 4735 3278 4731 3286 4739 3314 4719 3350 4711 3350 4711 3418 4755 3418 4799 3474 Z",ni:"M 2347 3246 L 2411 3194 2455 3190 2435 3286 2443 3302 2435 3306 2411 3294 2411 3290 2399 3274 2383 3270 2391 3290 2387 3294 2339 3250 Z",nl:"M 4795 2114 L 4803 2102 4795 2090 4819 2086 4827 2042 4819 2034 4787 2038 4767 2050 4759 2074 4727 2106 4771 2102 Z",
no:"M 4931 1826 L 4947 1826 4951 1794 4967 1786 4963 1750 4979 1734 4959 1718 4955 1658 4979 1622 5007 1626 5011 1606 4999 1602 5019 1534 5035 1534 5067 1494 5063 1478 5095 1450 5107 1454 5115 1430 5163 1438 5167 1406 5183 1406 5199 1390 5239 1422 5271 1414 5295 1426 5335 1362 5371 1358 5403 1374 5411 1382 5399 1402 5451 1370 5395 1354 5431 1358 5455 1342 5395 1318 5375 1334 5387 1314 5355 1314 5335 1342 5339 1314 5299 1350 5319 1310 5287 1314 5247 1358 5243 1346 5135 1362 4883 1646 4779 1702 4767 1746 4787 1846 4827 1866 4855 1862 4919 1810 Z",
np:"M 6955 2838 L 6951 2878 6883 2870 6863 2862 6863 2854 6847 2850 6827 2854 6739 2806 6767 2770 6795 2770 6895 2830 Z",nz:"M 9179 4530 L 9231 4630 9223 4666 9203 4678 9243 4706 9231 4738 9247 4750 9331 4630 9299 4634 9259 4622 Z M 9175 4714 L 9187 4738 9219 4734 9215 4758 9175 4810 9183 4822 9139 4834 9095 4910 9011 4894 9023 4866 9127 4790 9143 4754 9159 4742 9159 4726 Z",om:"M 6115 2890 L 6119 2882 6123 2882 6119 2902 Z M 6119 2922 L 6107 2922 6107 2946 6099 2946 6087 2986 6103 3002 6083 3058 6003 3086 6035 3150 6159 3086 6211 2986 Z",
pa:"M 2467 3334 L 2459 3370 2491 3374 2515 3398 2539 3390 2527 3370 2555 3350 2583 3366 2579 3374 2595 3398 2611 3378 2607 3358 2575 3338 2547 3334 2507 3358 Z",pe:"M 2531 3678 L 2527 3706 2551 3706 2563 3722 2591 3666 2627 3654 2663 3614 2663 3590 2703 3618 2719 3650 2755 3646 2799 3658 2783 3686 2803 3698 2779 3698 2727 3722 2719 3758 2695 3786 2747 3854 2787 3838 2787 3878 2815 3878 2835 3918 2819 3998 2803 3994 2803 4010 2823 4018 2827 4030 2815 4050 2791 4074 2635 3958 2639 3946 2539 3766 2507 3738 2507 3698 Z",
pg:"M 8343 3826 L 8343 3658 8459 3706 8467 3730 8511 3746 8523 3766 8499 3766 8543 3830 8559 3826 8599 3866 8519 3858 8467 3798 8435 3786 8387 3838 Z M 8527 3734 L 8575 3758 8635 3730 8639 3702 8619 3702 8623 3718 8599 3734 Z M 8655 3718 L 8659 3694 8603 3658 8647 3694 Z M 8703 3730 L 8739 3762 8727 3770 8707 3746 Z",ph:"M 7814 3092 L 7848 3103 7851 3151 7826 3184 7846 3217 7900 3226 7897 3251 7841 3221 7814 3227 7786 3156 7804 3160 Z M 7801 3231 L 7827 3232 7826 3266 Z M 7873 3273 L 7878 3256 7896 3271 7881 3265 Z M 7841 3274 L 7878 3284 7845 3309 Z M 7854 3329 L 7880 3298 7877 3334 7897 3293 7896 3314 7870 3347 Z M 7902 3257 L 7928 3253 7942 3299 Z M 7920 3285 L 7906 3295 7927 3323 Z M 7902 3318 L 7888 3339 7908 3329 Z M 7777 3285 L 7784 3311 7716 3369 7772 3306 Z M 7937 3318 L 7933 3349 7896 3371 7885 3358 7848 3377 7843 3406 7861 3385 7867 3395 7889 3379 7903 3392 7896 3421 7934 3439 7939 3417 7931 3408 7945 3391 7952 3422 7965 3383 Z M 7837 3414 L 7853 3412 7845 3419 Z",
pk:"M 6255 2914 L 6263 2882 6299 2874 6299 2854 6239 2782 6279 2794 6323 2794 6383 2778 6383 2750 6431 2726 6447 2730 6459 2722 6467 2690 6487 2682 6475 2662 6499 2662 6507 2654 6503 2646 6523 2626 6511 2598 6523 2586 6555 2574 6583 2578 6607 2566 6635 2582 6639 2606 6683 2618 6631 2646 6591 2638 6579 2650 6603 2706 6619 2710 6599 2726 6599 2746 6527 2834 6499 2842 6491 2834 6467 2862 6471 2874 6483 2874 6487 2898 6495 2898 6507 2934 6431 2950 6415 2950 6387 2906 Z",pl:"M 5011 2018 L 5123 1986 5135 2002 5235 1998 5259 2018 5267 2062 5251 2078 5259 2082 5259 2098 5271 2138 5235 2170 5239 2186 5231 2186 5135 2170 5127 2158 5031 2122 5023 2066 5011 2054 5019 2046 Z",
pr:"M 2875 3098 L 2875 3110 2911 3110 2915 3098 Z",pt:"M 4407 2414 L 4475 2430 4447 2494 4443 2566 4403 2570 4407 2526 4391 2522 4411 2442 Z",py:"M 2995 4182 L 3019 4110 3087 4102 3115 4122 3115 4178 3175 4182 3187 4230 3215 4230 3207 4274 3199 4306 3175 4326 3099 4322 3127 4270 3047 4226 Z",qa:"M 5987 2934 L 5975 2926 5975 2898 5987 2886 5995 2894 5995 2922 Z",ro:"M 5239 2222 L 5223 2230 5195 2282 5171 2282 5235 2346 5243 2358 5315 2362 5355 2350 5391 2362 5403 2326 5415 2326 5419 2310 5387 2314 5375 2282 5383 2266 5343 2210 5295 2234 Z",
rs:"M 5171 2282 L 5235 2346 5227 2358 5243 2378 5227 2406 5183 2418 5167 2398 5175 2386 5143 2370 5143 2322 5135 2294 5151 2282 Z",ru:"M 5135 2002 L 5199 1966 5235 1974 5235 1998 Z M 5375 1810 L 5359 1834 5367 1870 5355 1882 5371 1890 5379 1934 5451 1954 5451 1986 5499 2034 5467 2042 5475 2082 5527 2070 5539 2110 5559 2110 5575 2142 5603 2146 5623 2138 5691 2170 5683 2226 5651 2230 5643 2250 5675 2254 5631 2270 5647 2282 5619 2310 5603 2306 5599 2314 5691 2374 5695 2366 5843 2402 5839 2410 5859 2418 5899 2442 5915 2422 5867 2338 5891 2298 5919 2290 5931 2274 5863 2206 5891 2138 5911 2162 5923 2154 5919 2134 5975 2094 6015 2094 6103 2134 6175 2114 6207 2138 6251 2126 6255 2106 6215 2086 6243 2074 6235 2058 6247 2050 6267 2050 6271 2046 6247 2038 6247 2018 6463 1966 6499 1966 6511 2010 6571 2018 6571 2030 6655 2002 6743 2126 6767 2110 6799 2130 6831 2118 6903 2170 6919 2166 6935 2186 6947 2182 7063 2126 7115 2134 7127 2154 7195 2162 7211 2154 7219 2138 7207 2122 7239 2082 7323 2106 7327 2134 7363 2150 7403 2138 7547 2182 7639 2146 7703 2158 7735 2170 7811 2086 7811 2066 7791 2066 7791 2058 7815 2038 7879 2030 7947 2058 7991 2162 8051 2178 8079 2234 8179 2214 8135 2322 8103 2310 8083 2326 8083 2386 8071 2390 8071 2406 8115 2382 8135 2394 8199 2358 8319 2206 8355 2038 8287 2002 8263 2030 8195 1978 8399 1814 8715 1818 8691 1798 8771 1718 8851 1714 8847 1762 8959 1682 8963 1690 8935 1750 8763 1882 8727 1962 8755 2122 8903 1986 8895 1938 8927 1934 8919 1870 8895 1866 8967 1790 9127 1770 9299 1682 9343 1698 9359 1678 9287 1594 9363 1586 9395 1542 9547 1614 9635 1534 9519 1490 9511 1506 9503 1478 9263 1366 9111 1354 9131 1406 9091 1414 9067 1362 8871 1390 8807 1314 8643 1326 8535 1250 8339 1222 8311 1290 8163 1302 8127 1270 8075 1326 8015 1206 7883 1178 7863 1218 7611 1166 7435 1206 7627 1090 7619 1046 7551 1018 7447 1030 7455 1006 7379 962 7159 1066 6991 1078 6895 1138 6907 1166 6751 1190 6771 1246 6827 1282 6763 1262 6671 1238 6639 1282 6699 1314 6615 1294 6611 1230 6559 1294 6591 1338 6583 1402 6647 1410 6595 1426 6595 1470 6539 1530 6483 1522 6543 1486 6571 1430 6547 1314 6559 1222 6487 1202 6435 1278 6391 1370 6451 1414 6435 1434 6291 1374 6215 1362 6243 1410 6203 1422 6191 1410 6035 1418 5899 1470 5891 1498 5827 1486 5863 1454 5803 1426 5787 1486 5795 1534 5743 1522 5679 1562 5695 1598 5611 1574 5603 1594 5635 1614 5627 1634 5555 1606 5551 1542 5491 1502 5495 1490 5575 1526 5647 1538 5695 1530 5727 1494 5719 1466 5587 1402 5451 1370 5399 1402 5383 1414 5395 1414 5387 1426 5395 1446 5427 1466 5403 1498 5431 1554 5423 1558 5419 1582 5443 1622 5427 1638 5471 1670 5459 1690 5371 1766 5427 1786 5379 1798 Z M 5923 1382 L 5903 1414 5931 1418 5959 1394 Z M 6135 1338 L 5995 1290 6119 1110 6247 1046 6403 1010 6451 1018 6439 1050 6243 1102 6147 1182 6095 1250 6107 1298 6155 1322 Z M 7319 870 L 7251 950 7395 926 Z M 7263 842 L 7259 898 7103 854 Z M 7091 842 L 7191 814 7211 786 7147 762 7039 834 Z M 8367 2034 L 8367 2282 8403 2266 8387 2222 8411 2174 8431 2182 8395 2018 Z",
rw:"M 5439 3614 L 5427 3626 5419 3622 5399 3650 5399 3662 5447 3650 Z",sa:"M 5911 2818 L 5891 2818 5887 2806 5863 2802 5815 2802 5743 2742 5671 2714 5611 2734 5639 2762 5587 2802 5559 2798 5547 2830 5559 2830 5627 2938 5651 2954 5667 2994 5663 3002 5687 3050 5707 3062 5763 3154 5775 3146 5775 3130 5783 3126 5867 3134 5879 3142 5903 3110 6003 3086 6083 3058 6103 3002 6087 2986 6023 2978 5995 2942 5987 2934 5975 2926 5955 2894 5951 2866 5923 2846 Z",sb:"M 8749 3763 L 8766 3771 8777 3784 Z M 8800 3786 L 8838 3805 8833 3811 Z M 8833 3829 L 8852 3835 8862 3847 8841 3846 Z M 8857 3807 L 8864 3807 8880 3842 8862 3826 Z M 8877 3853 L 8899 3863 8896 3874 Z M 8762 3795 L 8777 3799 8793 3819 8771 3811 Z",
sd:"M 5243 3298 L 5215 3246 5247 3170 5271 3170 5271 3070 5271 3058 5299 3058 5299 3002 5511 3002 5531 3010 5575 2970 5607 2998 5623 3090 5651 3110 5611 3138 5599 3210 5555 3306 5543 3302 5531 3366 5511 3366 5507 3382 5579 3446 5583 3466 5543 3466 5531 3478 5519 3490 5451 3494 5359 3454 Z",se:"M 4931 1826 L 4979 1922 4967 1934 4983 1966 5015 1958 5023 1938 5063 1934 5083 1842 5139 1798 5111 1766 5095 1758 5091 1722 5127 1666 5207 1606 5195 1590 5227 1546 5271 1550 5259 1454 5183 1406 5167 1406 5163 1438 5115 1430 5107 1454 5095 1450 5063 1478 5067 1494 5035 1534 5019 1534 4999 1602 5011 1606 5007 1626 4979 1622 4955 1658 4959 1718 4979 1734 4963 1750 4967 1786 4951 1794 4947 1826 Z",
sg:"M 7363 3550 L 7359 3554 7367 3558 7371 3550 Z",si:"M 4995 2294 L 4999 2270 5023 2274 5067 2258 5071 2270 5051 2286 5043 2306 4999 2306 Z",sk:"M 5135 2170 L 5231 2186 5223 2210 5179 2206 5135 2222 5135 2226 5103 2230 5087 2222 5087 2198 Z",sl:"M 4339 3406 L 4371 3362 4359 3366 4363 3358 4347 3326 4315 3326 4291 3350 4295 3370 4311 3390 Z",sn:"M 4199 3262 L 4239 3254 4279 3254 4339 3258 4319 3202 4263 3146 4207 3158 4203 3174 4183 3198 4203 3230 4247 3222 4279 3234 4267 3238 4243 3230 4199 3242 Z",
so:"M 5739 3482 L 5795 3458 5823 3458 5899 3378 5871 3378 5791 3346 5759 3306 5767 3298 5775 3286 5803 3314 5819 3314 5979 3274 5987 3310 5927 3418 5899 3470 5847 3526 5779 3574 5731 3630 5715 3610 5715 3514 Z",sr:"M 3139 3434 L 3115 3478 3155 3538 3207 3526 3223 3494 3207 3458 3223 3434 Z",sv:"M 2291 3206 L 2335 3222 2331 3238 2271 3222 Z",sy:"M 5583 2602 L 5595 2602 5603 2578 5659 2578 5755 2566 5735 2586 5727 2586 5715 2650 5659 2678 5607 2710 5575 2698 5575 2682 5599 2654 5591 2642 5583 2642 Z",
sz:"M 5479 4286 L 5463 4278 5447 4298 5459 4322 5479 4322 5483 4310 Z",td:"M 5035 2974 L 5059 2962 5271 3070 5271 3170 5247 3170 5215 3246 5243 3298 5127 3374 5047 3386 5007 3330 5015 3322 5047 3322 5035 3294 5039 3270 5019 3242 5011 3242 4995 3226 4995 3206 5047 3138 5059 3046 Z",tf:"M 6451 4978 L 6471 4994 6491 4990 6483 5014 6447 5010 Z",tg:"M 4687 3422 L 4679 3326 4659 3314 4663 3298 4643 3294 4635 3306 4651 3318 4655 3410 4671 3426 Z",th:"M 7339 3274 L 7327 3234 7351 3210 7403 3210 7411 3206 7411 3190 7415 3174 7391 3150 7391 3130 7355 3098 7335 3118 7323 3106 7295 3126 7291 3122 7299 3070 7279 3070 7279 3054 7267 3046 7215 3066 7199 3098 7207 3118 7235 3154 7227 3166 7227 3182 7219 3186 7227 3210 7247 3226 7243 3242 7255 3278 7227 3326 7223 3386 7231 3370 7271 3422 7275 3418 7295 3426 7295 3442 7315 3438 7323 3426 7303 3406 7291 3410 7279 3398 7263 3346 7247 3346 7243 3322 7267 3270 7267 3234 7291 3234 7287 3254 7319 3258 Z",
tj:"M 6459 2566 L 6419 2566 6435 2538 6431 2514 6407 2502 6415 2490 6439 2490 6491 2446 6499 2454 6487 2466 6503 2474 6495 2482 6479 2474 6459 2486 6463 2494 6499 2498 6575 2494 6583 2522 6603 2526 6607 2566 6591 2558 6555 2562 6523 2582 6515 2566 6519 2542 6511 2542 6511 2530 6499 2526 Z",tl:"M 7919 3826 L 7927 3818 7979 3810 7983 3814 7923 3838 Z",tm:"M 6055 2562 L 6123 2530 6247 2582 6251 2614 6283 2626 6367 2554 6387 2562 6387 2542 6279 2478 6255 2438 6219 2434 6215 2406 6171 2394 6135 2422 6139 2438 6111 2438 6099 2442 6067 2406 6035 2410 6019 2426 6027 2438 6027 2422 6035 2414 6055 2414 6075 2446 6051 2462 6035 2454 6027 2442 6023 2478 6043 2482 6043 2494 6035 2498 6047 2502 Z",
tn:"M 4943 2686 L 4943 2706 4903 2734 4911 2754 4887 2770 4879 2718 4835 2666 4859 2626 4863 2574 4899 2562 4915 2578 4931 2570 4915 2598 4931 2626 4903 2658 Z",to:"M 9489 4149 L 9498 4151 9493 4155 Z",tr:"M 5375 2418 L 5331 2426 5327 2458 5343 2462 5367 2446 5403 2450 5411 2458 5367 2470 5355 2466 5339 2466 5327 2482 5327 2494 5343 2502 5347 2530 5335 2530 5367 2562 5363 2570 5423 2598 5439 2590 5443 2574 5483 2586 5499 2602 5527 2598 5555 2578 5571 2586 5583 2574 5591 2582 5579 2590 5583 2602 5595 2602 5603 2578 5659 2578 5755 2566 5815 2566 5799 2498 5811 2486 5787 2478 5783 2442 5759 2430 5731 2430 5695 2450 5647 2450 5595 2442 5559 2414 5515 2418 5463 2438 5459 2446 5403 2442 5379 2430 Z",
tt:"M 3016 3320 L 3025 3316 3021 3304 3039 3301 3036 3321 Z M 3041 3292 L 3048 3288 3049 3291 Z",tw:"M 7819 2918 L 7843 2918 7815 3006 7791 2978 7795 2954 Z",tz:"M 5671 3710 L 5627 3678 5631 3670 5534 3613 5515 3637 5527 3646 5519 3654 5475 3654 5475 3614 5439 3614 5447 3650 5451 3674 5419 3706 5427 3742 5423 3754 5435 3762 5459 3814 5503 3830 5535 3842 5559 3894 5623 3894 5703 3866 5683 3850 5671 3806 5679 3770 5659 3746 Z",ua:"M 5475 2082 L 5455 2082 5443 2106 5303 2086 5259 2098 5271 2138 5235 2170 5239 2186 5231 2186 5223 2210 5239 2222 5295 2234 5343 2210 5363 2206 5403 2222 5427 2270 5439 2282 5447 2270 5523 2290 5495 2306 5519 2314 5519 2334 5535 2338 5595 2318 5599 2306 5571 2310 5547 2294 5567 2274 5643 2250 5651 2230 5683 2226 5691 2170 5623 2138 5603 2146 5575 2142 5559 2110 5539 2110 5527 2070 Z",
ug:"M 5451 3494 L 5519 3490 5531 3478 5563 3534 5531 3582 5515 3578 5479 3590 5475 3614 5439 3614 5427 3626 5419 3622 5419 3586 5463 3530 5447 3522 Z",us:"M 1563 2702 L 1627 2702 1723 2738 1799 2738 1799 2726 1843 2726 1931 2806 1951 2778 1975 2782 2039 2878 2087 2890 2079 2850 2159 2786 2235 2786 2259 2806 2307 2766 2379 2766 2403 2786 2431 2770 2471 2810 2463 2834 2507 2910 2531 2910 2539 2870 2499 2758 2511 2722 2655 2606 2635 2542 2647 2554 2695 2486 2699 2462 2791 2422 2779 2390 2795 2358 2883 2322 2859 2294 2859 2250 2823 2238 2759 2318 2671 2318 2643 2338 2635 2366 2623 2374 2563 2374 2567 2386 2559 2398 2491 2430 2459 2430 2451 2418 2475 2382 2463 2350 2439 2362 2451 2314 2415 2294 2375 2330 2367 2366 2375 2386 2359 2422 2343 2426 2331 2378 2363 2294 2399 2282 2411 2286 2443 2286 2419 2270 2407 2262 2351 2274 2319 2250 2323 2238 2295 2254 2223 2262 2283 2218 2143 2186 1415 2186 1415 2214 1363 2210 1383 2282 1383 2334 1367 2390 1383 2438 1371 2466 1475 2642 1539 2666 Z M 1215 1986 L 1227 1938 1079 1798 1031 1830 935 1770 935 1374 523 1298 275 1410 267 1434 411 1522 391 1538 335 1534 335 1510 227 1554 279 1598 363 1598 407 1586 415 1634 351 1666 323 1654 279 1718 307 1750 291 1766 347 1798 375 1782 391 1806 387 1838 431 1826 463 1846 515 1830 499 1882 307 1990 319 1998 455 1942 615 1830 591 1818 667 1742 651 1818 755 1786 759 1754 787 1750 863 1786 955 1798 963 1794 971 1806 1047 1854 1103 1930 1115 1914 1155 1986 1179 1978 Z",
uy:"M 3235 4510 L 3231 4494 3243 4478 3147 4402 3127 4406 3103 4514 3163 4542 3219 4538 Z",uz:"M 6419 2566 L 6387 2562 6387 2542 6279 2478 6255 2438 6219 2434 6215 2406 6171 2394 6135 2422 6139 2438 6111 2438 6111 2322 6179 2302 6243 2342 6267 2370 6343 2362 6367 2390 6375 2386 6375 2418 6387 2418 6395 2442 6419 2442 6439 2458 6451 2438 6503 2410 6511 2414 6487 2430 6515 2442 6523 2434 6559 2454 6523 2478 6503 2474 6487 2466 6499 2454 6491 2446 6439 2490 6415 2490 6407 2502 6431 2514 6435 2538 Z",
vc:"M 3031 3234 L 3034 3236 3032 3242 3029 3238 Z",ve:"M 2751 3282 L 2711 3346 2759 3402 2799 3402 2815 3426 2867 3422 2855 3470 2871 3498 2859 3510 2875 3526 2883 3558 2907 3570 2975 3526 2959 3522 2939 3478 2987 3494 3047 3458 3047 3450 3027 3430 3055 3402 3043 3390 3071 3366 3043 3358 3039 3338 2991 3306 2935 3322 2903 3306 2855 3310 2819 3282 2763 3302 2775 3338 2759 3346 2743 3330 2759 3306 Z",vn:"M 7475 3018 L 7443 3002 7443 2982 7407 2966 7347 2990 7331 2982 7323 2990 7343 3010 7343 3022 7363 3038 7375 3030 7399 3054 7371 3074 7403 3094 7399 3098 7463 3166 7455 3170 7467 3186 7463 3202 7463 3262 7419 3282 7427 3306 7415 3298 7383 3314 7399 3326 7391 3366 7503 3290 7515 3250 7499 3186 7411 3086 7423 3058 Z",
vu:"M 9015 3976 L 9019 4002 9032 4000 Z M 9031 4008 L 9038 4026 9047 4022 Z",wf:"M 9415 3964 L 9420 3967 9417 3967 Z",ws:"M 9556 3944 L 9568 3942 9571 3951 9563 3951 Z M 9575 3953 L 9582 3952 9590 3959 Z",ye:"M 5763 3154 L 5775 3146 5775 3130 5783 3126 5867 3134 5879 3142 5903 3110 6003 3086 6035 3150 6011 3162 6011 3174 5787 3258 Z",za:"M 5503 4310 L 5483 4310 5479 4322 5459 4322 5447 4298 5463 4278 5479 4286 5463 4186 5411 4178 5347 4222 5311 4278 5247 4266 5211 4310 5183 4310 5179 4298 5187 4290 5163 4254 5163 4354 5147 4370 5099 4362 5087 4342 5071 4362 5123 4474 5111 4482 5163 4542 5215 4526 5315 4518 5423 4442 5491 4358 Z",
ls:"M 5375 4418 L 5415 4382 5391 4358 5351 4390 Z",zm:"M 5255 4058 L 5215 4014 5215 3930 5271 3930 5271 3878 5279 3878 5283 3890 5303 3886 5307 3894 5347 3906 5351 3894 5407 3942 5423 3942 5423 3910 5403 3914 5383 3890 5391 3870 5387 3834 5399 3814 5443 3802 5439 3810 5455 3818 5459 3814 5503 3830 5523 3866 5511 3958 5435 3986 5439 4002 5399 4010 5395 4026 5351 4062 5299 4058 5279 4050 Z",zw:"M 5463 4186 L 5503 4126 5503 4030 5439 4010 5439 4002 5399 4010 5395 4026 5351 4062 5299 4058 5375 4162 5411 4178 Z"},
NZ_SHAPES:{"nz-auk":"M449,-812L449,-809L445,-809L442,-810L440,-812L439,-811L440,-814L443,-814L445,-812L449,-816L451,-814ZM434,-836L431,-837L431,-841L433,-839ZM447,-851L444,-853L447,-855L448,-852ZM465,-858L467,-856L470,-854L468,-850L472,-845L469,-842L468,-845L466,-844L465,-848L463,-848L458,-851L461,-852L461,-855L459,-858L462,-859L461,-860L461,-863L464,-862ZM420,-859L425,-851L429,-848L428,-844L432,-843L425,-843L427,-837L426,-833L424,-838L423,-839L424,-836L422,-834L424,-832L422,-830L423,-826L424,-824L431,-825L426,-822L423,-823L425,-820L428,-809L425,-811L424,-810L422,-814L418,-813L417,-811L420,-811L418,-809L420,-808L420,-804L421,-804L423,-807L425,-808L431,-807L433,-807L431,-803L432,-800L433,-801L434,-808L436,-803L436,-801L440,-802L439,-805L443,-805L443,-800L444,-798L448,-800L452,-801L454,-799L457,-796L454,-794L452,-795L449,-789L449,-784L443,-783L431,-780L426,-779L422,-777L419,-776L416,-786L413,-793L418,-793L419,-792L418,-790L421,-785L421,-782L423,-780L423,-784L426,-785L422,-786L426,-789L426,-788L429,-790L431,-791L434,-788L434,-792L430,-794L428,-797L427,-796L426,-798L429,-801L421,-802L418,-800L417,-797L414,-797L411,-794L409,-796L407,-804L405,-814L402,-820L394,-830L392,-833L392,-836L394,-838L393,-834L395,-837L396,-837L400,-831L401,-830L401,-828L404,-827L402,-826L402,-824L404,-822L404,-824L406,-821L407,-822L408,-827L409,-831L407,-832L407,-835L409,-837L407,-839L408,-842L407,-843L404,-841L401,-840L398,-842L399,-846L401,-845L404,-845L412,-850L411,-852L419,-858Z",
"nz-bop":"M561,-684L558,-684L556,-681L554,-680L549,-676L546,-672L543,-673L540,-675L535,-674L531,-670L530,-663L524,-656L525,-653L517,-652L514,-649L514,-645L511,-643L511,-641L507,-642L503,-646L506,-650L505,-657L501,-658L500,-659L496,-666L497,-669L502,-668L505,-669L501,-675L503,-680L503,-681L495,-684L495,-688L496,-688L499,-691L503,-688L506,-688L509,-689L510,-689L509,-684L512,-684L514,-687L518,-686L519,-687L520,-693L518,-697L510,-701L507,-707L506,-715L503,-718L499,-719L496,-721L496,-723L492,-725L491,-729L491,-732L489,-735L489,-741L485,-750L484,-755L484,-757L483,-760L484,-762L488,-760L487,-762L489,-766L490,-768L492,-769L494,-763L499,-758L503,-751L501,-753L497,-754L499,-755L495,-759L491,-758L492,-754L494,-754L493,-750L497,-750L498,-747L501,-746L502,-748L505,-747L505,-744L507,-744L505,-751L507,-750L509,-746L519,-741L523,-740L533,-732L543,-728L546,-727L549,-725L555,-724L557,-723L553,-723L557,-720L557,-723L560,-722L564,-722L574,-723L581,-727L583,-730L585,-734L587,-735L592,-743L599,-745L602,-748L606,-749L606,-752L611,-751L610,-748L605,-747L606,-743L605,-738L606,-737L609,-738L609,-736L605,-732L602,-726L598,-715L596,-712L588,-719L587,-712L585,-709L581,-706L576,-705L575,-700L572,-696L565,-694L561,-691L562,-686Z",
"nz-can":"M380,-447L382,-445L377,-441L375,-435L375,-432L371,-426L364,-419L361,-416L363,-413L362,-411L360,-414L356,-412L354,-408L351,-400L348,-399L349,-398L343,-384L341,-383L341,-379L339,-375L337,-373L332,-372L332,-370L329,-367L322,-366L315,-360L311,-353L312,-351L311,-344L310,-343L311,-337L313,-333L313,-330L316,-329L311,-329L308,-327L311,-326L312,-327L317,-327L318,-325L319,-329L320,-328L320,-324L323,-326L326,-324L328,-326L330,-322L330,-317L329,-311L326,-311L326,-309L324,-309L323,-312L322,-318L321,-318L321,-311L323,-308L318,-308L315,-310L311,-314L312,-316L301,-313L295,-311L294,-312L306,-317L304,-318L301,-318L298,-321L294,-320L293,-317L293,-312L292,-310L286,-309L285,-308L276,-304L266,-297L263,-296L259,-293L256,-292L254,-291L250,-289L244,-282L240,-280L237,-274L236,-268L234,-265L234,-263L232,-261L233,-260L234,-246L232,-244L234,-242L234,-236L232,-232L224,-235L215,-237L209,-236L205,-234L198,-227L193,-224L191,-226L190,-232L188,-234L182,-233L177,-234L174,-237L170,-247L167,-251L166,-252L162,-251L158,-256L154,-257L152,-264L149,-266L148,-269L148,-283L152,-290L154,-296L154,-299L160,-307L167,-314L173,-323L175,-327L180,-332L187,-335L193,-339L198,-341L200,-340L205,-346L214,-354L221,-358L224,-363L231,-366L234,-371L237,-374L242,-375L246,-377L248,-377L258,-379L260,-386L266,-389L266,-391L269,-394L271,-396L273,-397L277,-399L279,-402L281,-404L285,-410L291,-415L295,-417L297,-423L301,-425L303,-428L306,-435L309,-435L310,-432L315,-430L316,-426L317,-422L319,-421L322,-417L324,-415L323,-412L328,-410L332,-413L335,-415L336,-418L335,-420L341,-426L347,-429L349,-432L351,-438L354,-441L362,-446L363,-449L366,-446L368,-448L373,-449Z",
"nz-gis":"M611,-751L622,-750L626,-745L630,-745L631,-743L635,-743L637,-740L638,-738L634,-733L632,-728L630,-727L627,-721L625,-718L626,-713L626,-711L623,-708L624,-705L622,-700L624,-696L622,-693L621,-690L623,-688L620,-685L619,-680L613,-674L606,-668L602,-671L599,-670L600,-665L598,-661L598,-658L597,-651L595,-654L592,-655L587,-660L578,-671L578,-677L573,-680L572,-677L561,-684L562,-686L561,-691L565,-694L572,-696L575,-700L576,-705L581,-706L585,-709L587,-712L588,-719L596,-712L598,-715L602,-726L605,-732L609,-736L609,-738L606,-737L605,-738L606,-743L605,-747L610,-748Z",
"nz-hkb":"M597,-651L596,-646L594,-643L598,-642L601,-639L597,-636L595,-631L593,-628L591,-635L592,-638L593,-642L591,-641L588,-643L570,-645L569,-646L567,-645L549,-637L546,-632L541,-627L539,-623L539,-620L541,-616L542,-607L546,-604L550,-604L548,-599L545,-598L543,-591L541,-589L539,-582L537,-578L537,-574L533,-568L531,-565L528,-563L527,-564L525,-561L524,-559L526,-560L522,-553L521,-549L517,-552L512,-553L508,-556L509,-563L508,-566L508,-571L506,-574L505,-576L503,-577L500,-581L496,-581L494,-582L496,-594L500,-605L497,-611L502,-616L507,-618L507,-622L508,-626L505,-628L507,-632L506,-636L502,-637L501,-639L500,-643L503,-646L507,-642L511,-641L511,-643L514,-645L514,-649L517,-652L525,-653L524,-656L530,-663L531,-670L535,-674L540,-675L543,-673L546,-672L549,-676L554,-680L556,-681L558,-684L561,-684L572,-677L573,-680L578,-677L578,-671L587,-660L592,-655L595,-654Z",
"nz-mbh":"M400,-504L398,-499L395,-499L392,-497L389,-497L392,-499L395,-502L396,-501L398,-502L396,-505L399,-506ZM376,-530L374,-523L373,-523L368,-519L366,-520L367,-525L369,-523L368,-526L369,-530L370,-530L372,-531L373,-528L377,-533ZM356,-510L358,-510L359,-508L364,-511L363,-513L361,-511L361,-513L365,-516L367,-516L370,-519L370,-516L371,-516L374,-519L377,-521L380,-520L380,-519L377,-519L376,-516L374,-516L374,-514L366,-513L368,-512L366,-507L367,-506L369,-510L374,-510L374,-508L372,-509L372,-506L368,-503L371,-501L370,-498L365,-495L367,-493L374,-498L372,-499L375,-499L377,-498L382,-500L385,-501L377,-501L372,-500L372,-504L374,-505L375,-508L377,-508L377,-503L379,-507L381,-507L379,-509L380,-511L379,-513L378,-510L375,-513L377,-513L378,-516L383,-512L386,-513L388,-516L389,-514L390,-511L388,-511L390,-509L395,-514L396,-513L392,-507L392,-505L390,-503L389,-507L387,-505L390,-500L386,-498L383,-498L380,-496L376,-496L374,-494L379,-494L381,-496L386,-497L388,-495L393,-497L395,-498L394,-495L391,-491L387,-489L389,-492L385,-491L381,-484L381,-477L384,-474L384,-478L387,-473L388,-468L390,-462L393,-462L393,-460L388,-451L382,-445L380,-447L373,-449L368,-448L366,-446L363,-449L362,-446L354,-441L351,-438L349,-432L347,-429L341,-426L335,-420L336,-418L335,-415L332,-413L328,-410L323,-412L324,-415L322,-417L319,-421L317,-422L316,-426L315,-430L310,-432L309,-435L311,-441L316,-448L318,-455L321,-461L324,-464L334,-476L337,-477L339,-480L340,-487L343,-488L345,-491L350,-498L355,-504Z",
"nz-mwt":"M521,-549L520,-547L516,-547L513,-542L510,-539L507,-533L505,-532L502,-525L498,-528L493,-530L486,-530L467,-528L459,-527L454,-529L450,-528L443,-529L436,-528L440,-536L443,-543L443,-550L445,-551L444,-554L446,-560L446,-563L445,-566L443,-574L442,-578L438,-582L437,-584L432,-590L425,-594L421,-594L423,-597L431,-603L431,-606L434,-608L433,-609L434,-615L433,-620L429,-624L428,-630L425,-632L427,-636L430,-639L432,-641L436,-647L439,-647L437,-650L433,-650L433,-655L429,-656L428,-663L426,-662L424,-667L426,-670L428,-671L432,-673L434,-678L437,-679L442,-681L448,-681L453,-683L454,-685L455,-685L463,-685L467,-683L471,-684L471,-683L469,-680L467,-674L465,-671L467,-668L466,-664L467,-661L466,-656L468,-655L472,-655L472,-654L470,-649L471,-646L470,-643L467,-637L467,-635L472,-633L480,-633L482,-634L484,-638L487,-640L489,-642L496,-642L500,-643L501,-639L502,-637L506,-636L507,-632L505,-628L508,-626L507,-622L507,-618L502,-616L497,-611L500,-605L496,-594L494,-582L496,-581L500,-581L503,-577L505,-576L506,-574L508,-571L508,-566L509,-563L508,-556L512,-553L517,-552Z",
"nz-nsn":"M334,-492L340,-496L343,-499L348,-505L348,-503L352,-505L356,-510L355,-504L350,-498L345,-491L343,-488L340,-487L336,-489Z","nz-ntl":"M411,-852L405,-850L402,-847L399,-850L403,-848L407,-859L405,-859L405,-857L403,-853L400,-854L400,-856L397,-856L398,-860L396,-858L395,-860L392,-858L393,-856L395,-856L396,-853L398,-853L400,-851L396,-849L393,-851L390,-856L386,-857L382,-860L381,-865L379,-869L376,-871L379,-875L377,-878L378,-874L375,-871L378,-867L380,-866L381,-861L382,-858L384,-857L389,-849L392,-849L391,-847L393,-844L393,-842L389,-840L386,-840L385,-843L383,-850L376,-860L374,-864L348,-899L348,-902L350,-904L351,-909L353,-910L356,-908L356,-911L358,-909L358,-913L361,-914L363,-917L359,-916L357,-920L356,-919L358,-915L351,-912L350,-913L348,-912L347,-903L346,-903L341,-910L340,-913L342,-915L341,-915L343,-918L340,-917L339,-913L336,-917L339,-920L336,-919L334,-920L330,-924L330,-926L333,-926L335,-929L336,-936L335,-939L333,-945L328,-950L326,-955L325,-956L313,-972L305,-977L307,-979L307,-981L309,-980L314,-979L318,-981L325,-981L328,-982L329,-981L327,-979L327,-974L325,-973L324,-977L322,-977L322,-974L319,-972L321,-970L325,-969L325,-965L326,-967L326,-972L329,-961L335,-954L335,-951L331,-956L332,-953L334,-951L342,-946L340,-943L340,-940L343,-939L346,-942L345,-949L348,-950L351,-953L351,-950L353,-951L354,-949L349,-948L348,-947L350,-942L352,-940L356,-940L359,-939L359,-940L357,-942L358,-945L360,-943L362,-943L363,-942L367,-942L368,-940L370,-939L367,-935L369,-933L370,-933L372,-939L376,-939L378,-937L381,-934L382,-931L387,-931L390,-930L392,-926L389,-926L388,-928L386,-929L384,-927L386,-925L384,-925L384,-923L388,-924L388,-920L390,-917L391,-913L392,-916L395,-915L397,-917L392,-919L393,-920L397,-920L403,-925L404,-923L402,-919L403,-916L406,-916L406,-912L402,-916L405,-910L410,-907L412,-904L409,-903L415,-897L415,-893L410,-894L414,-890L412,-888L416,-885L416,-882L417,-879L416,-879L412,-882L411,-885L404,-883L404,-887L403,-889L402,-880L404,-879L405,-881L411,-880L412,-878L410,-875L410,-874L411,-869L415,-866L418,-864L418,-860L420,-859L419,-858Z",
"nz-ota":"M154,-299L154,-296L152,-290L148,-283L148,-269L149,-266L152,-264L154,-257L158,-256L162,-251L166,-252L167,-251L170,-247L174,-237L177,-234L182,-233L188,-234L190,-232L191,-226L193,-224L198,-227L205,-234L209,-236L215,-237L224,-235L232,-232L228,-224L223,-218L220,-212L218,-203L220,-200L217,-197L218,-194L215,-191L214,-188L212,-189L213,-186L209,-184L211,-183L210,-180L206,-178L206,-177L210,-176L213,-174L212,-173L209,-172L206,-169L203,-165L210,-168L211,-171L214,-173L215,-167L211,-166L210,-164L200,-163L196,-161L192,-158L189,-152L188,-146L185,-143L181,-141L178,-137L172,-132L170,-129L170,-123L167,-121L163,-122L160,-121L165,-120L164,-118L160,-114L156,-115L152,-112L153,-111L149,-111L148,-109L144,-110L141,-108L139,-108L138,-111L138,-114L139,-119L137,-122L135,-129L136,-135L136,-140L134,-145L133,-150L130,-154L130,-160L129,-163L126,-166L125,-171L126,-178L129,-185L132,-194L134,-196L133,-199L128,-204L126,-205L124,-204L119,-195L117,-194L113,-195L106,-206L97,-201L92,-201L89,-202L88,-206L85,-212L85,-214L86,-220L86,-221L83,-222L79,-228L78,-232L79,-235L79,-244L81,-252L84,-257L87,-260L93,-261L103,-266L108,-268L110,-272L112,-278L116,-282L119,-286L123,-289L131,-290L135,-291L138,-290L147,-296L150,-300Z",
"nz-stl":"M56,-61L54,-62L56,-64L58,-63ZM66,-94L64,-94L65,-96L67,-96ZM108,-97L107,-99L109,-101L110,-99ZM68,-66L67,-67L64,-64L65,-63L69,-65L67,-61L66,-62L65,-60L59,-59L60,-64L61,-66L64,-68L63,-68L63,-73L64,-76L69,-78L68,-83L70,-83L72,-87L71,-90L69,-93L69,-97L70,-101L74,-101L76,-103L80,-100L85,-94L90,-90L89,-87L85,-87L85,-88L81,-88L82,-86L80,-82L81,-82L83,-85L89,-83L88,-81L92,-83L94,-81L94,-78L91,-77L94,-75L91,-76L91,-74L82,-71L77,-67L74,-68L72,-67L71,-70L68,-68ZM9,-137L9,-138L10,-140L11,-139ZM15,-165L10,-162L7,-162L12,-165ZM18,-165L16,-165L17,-167L20,-167ZM12,-173L13,-169L13,-166L11,-165L10,-167L9,-165L8,-169L6,-171L3,-167L1,-165L4,-172L10,-174ZM25,-198L23,-197L19,-199L18,-202L21,-208L23,-202ZM87,-260L84,-257L81,-252L79,-244L79,-235L78,-232L79,-228L83,-222L86,-221L86,-220L85,-214L85,-212L88,-206L89,-202L92,-201L97,-201L106,-206L113,-195L117,-194L119,-195L124,-204L126,-205L128,-204L133,-199L134,-196L132,-194L129,-185L126,-178L125,-171L126,-166L129,-163L130,-160L130,-154L133,-150L134,-145L136,-140L136,-135L135,-129L137,-122L139,-119L138,-114L138,-111L136,-107L134,-107L132,-109L131,-106L123,-108L121,-114L114,-112L114,-114L110,-114L111,-110L109,-109L100,-110L102,-112L107,-111L104,-113L100,-113L97,-114L97,-111L99,-108L95,-111L92,-115L96,-115L98,-117L98,-119L97,-123L95,-118L94,-118L89,-127L87,-128L81,-126L81,-124L76,-125L75,-123L71,-123L65,-128L68,-130L64,-135L63,-137L60,-137L57,-139L51,-139L49,-132L46,-131L43,-130L40,-130L37,-129L33,-131L27,-132L20,-131L17,-131L14,-133L12,-136L14,-137L17,-142L19,-147L25,-151L24,-151L18,-148L17,-144L15,-142L14,-145L14,-142L9,-140L10,-143L10,-147L13,-149L17,-150L17,-152L14,-150L12,-151L14,-155L13,-157L9,-149L4,-147L2,-145L1,-147L0,-157L1,-160L15,-162L18,-163L21,-163L26,-168L27,-169L24,-168L20,-168L16,-167L15,-167L17,-171L20,-172L14,-171L14,-176L21,-179L25,-178L23,-180L27,-182L27,-184L21,-180L17,-179L14,-177L11,-177L10,-179L12,-183L13,-189L15,-190L20,-188L22,-188L20,-191L19,-190L16,-191L14,-194L18,-199L22,-196L20,-193L25,-195L27,-192L25,-189L27,-189L29,-192L32,-190L33,-186L35,-186L34,-188L32,-191L26,-196L28,-197L33,-199L36,-197L35,-199L36,-202L31,-200L26,-200L24,-204L23,-208L24,-210L27,-210L29,-207L32,-207L27,-212L25,-212L28,-217L31,-213L32,-211L33,-213L36,-213L31,-216L30,-218L31,-221L39,-219L32,-222L33,-224L36,-227L38,-228L37,-229L41,-231L42,-232L44,-228L44,-225L45,-221L48,-221L46,-225L46,-228L44,-233L44,-236L47,-238L49,-235L49,-231L50,-229L51,-234L48,-240L50,-241L54,-238L51,-242L52,-244L54,-245L55,-247L58,-250L61,-250L66,-247L68,-244L67,-248L64,-250L62,-257L67,-264L71,-268L71,-271L75,-271L76,-274L82,-275L85,-273L89,-268Z",
"nz-tas":"M340,-487L339,-480L337,-477L334,-476L324,-464L321,-461L318,-455L316,-448L311,-441L309,-435L306,-435L303,-428L301,-425L297,-423L295,-423L293,-421L291,-425L289,-431L284,-433L283,-435L279,-436L278,-441L276,-443L275,-446L275,-450L277,-451L278,-455L277,-459L278,-462L281,-463L284,-464L285,-468L288,-470L290,-478L293,-479L293,-484L295,-485L298,-484L302,-487L302,-492L302,-495L306,-496L308,-499L308,-500L303,-503L298,-506L296,-510L295,-511L290,-511L288,-510L288,-513L290,-517L284,-524L283,-530L284,-530L290,-534L295,-541L300,-544L299,-541L303,-543L304,-544L303,-546L300,-545L302,-548L305,-549L316,-549L324,-548L323,-547L311,-548L309,-546L308,-539L306,-539L308,-536L308,-532L309,-533L312,-529L317,-525L322,-528L324,-530L325,-529L326,-524L328,-522L327,-517L324,-513L326,-513L328,-504L326,-506L326,-504L327,-501L328,-502L330,-496L329,-494L331,-492L334,-492L336,-489Z",
"nz-tki":"M428,-671L426,-670L424,-667L426,-662L428,-663L429,-656L433,-655L433,-650L437,-650L439,-647L436,-647L432,-641L430,-639L427,-636L425,-632L428,-630L429,-624L433,-620L434,-615L433,-609L434,-608L431,-606L431,-603L423,-597L421,-594L419,-594L415,-596L410,-597L403,-603L399,-610L397,-612L391,-615L382,-616L379,-617L371,-623L368,-628L366,-634L367,-641L369,-644L371,-646L377,-649L391,-657L393,-658L400,-657L405,-660L412,-667L413,-668L414,-676L418,-674L425,-674Z","nz-wgn":"M426,-521L425,-522L428,-525L430,-525ZM502,-525L498,-516L495,-515L492,-510L489,-501L483,-494L475,-487L473,-485L467,-482L455,-473L451,-472L449,-469L443,-469L441,-476L442,-482L441,-483L435,-486L432,-486L428,-482L426,-482L424,-483L425,-485L424,-489L426,-494L426,-497L422,-497L419,-493L422,-492L421,-489L417,-489L412,-491L411,-493L411,-496L414,-497L419,-502L420,-505L423,-507L425,-506L423,-510L427,-513L429,-515L431,-522L436,-528L443,-529L450,-528L454,-529L459,-527L467,-528L486,-530L493,-530L498,-528Z",
"nz-wko":"M486,-822L484,-822L483,-826L485,-826ZM418,-674L414,-676L416,-681L416,-693L419,-700L420,-706L421,-714L420,-719L424,-719L428,-715L427,-717L432,-717L430,-721L427,-722L425,-720L425,-723L430,-727L428,-730L426,-726L425,-728L425,-735L427,-738L429,-739L436,-740L434,-741L435,-745L432,-742L429,-743L425,-757L422,-765L422,-769L425,-771L428,-777L425,-775L423,-772L421,-772L419,-776L422,-777L426,-779L431,-780L443,-783L449,-784L449,-789L452,-795L454,-794L457,-796L457,-792L456,-787L459,-782L463,-780L468,-782L470,-783L471,-779L472,-778L471,-786L470,-789L470,-793L468,-799L465,-803L463,-806L467,-806L468,-807L464,-808L467,-809L465,-810L469,-811L468,-812L466,-817L467,-821L464,-825L461,-827L459,-830L460,-833L464,-833L468,-829L469,-831L471,-828L470,-825L473,-823L473,-819L475,-817L474,-815L475,-812L477,-814L484,-816L487,-815L486,-813L485,-813L483,-811L480,-809L478,-807L480,-803L482,-805L481,-807L486,-808L488,-801L489,-794L490,-790L488,-786L490,-785L490,-781L488,-784L489,-779L491,-775L492,-769L490,-768L489,-766L487,-762L488,-760L484,-762L483,-760L484,-757L484,-755L485,-750L489,-741L489,-735L491,-732L491,-729L492,-725L496,-723L496,-721L499,-719L503,-718L506,-715L507,-707L510,-701L518,-697L520,-693L519,-687L518,-686L514,-687L512,-684L509,-684L510,-689L509,-689L506,-688L503,-688L499,-691L496,-688L495,-688L495,-684L503,-681L503,-680L501,-675L505,-669L502,-668L497,-669L496,-666L500,-659L501,-658L505,-657L506,-650L503,-646L500,-643L496,-642L489,-642L487,-640L484,-638L482,-634L480,-633L472,-633L467,-635L467,-637L470,-643L471,-646L470,-649L472,-654L472,-655L468,-655L466,-656L467,-661L466,-664L467,-668L465,-671L467,-674L469,-680L471,-683L471,-684L467,-683L463,-685L455,-685L454,-685L453,-683L448,-681L442,-681L437,-679L434,-678L432,-673L428,-671L425,-674Z",
"nz-wtc":"M297,-423L295,-417L291,-415L285,-410L281,-404L279,-402L277,-399L273,-397L271,-396L269,-394L266,-391L266,-389L260,-386L258,-379L248,-377L246,-377L242,-375L237,-374L234,-371L231,-366L224,-363L221,-358L214,-354L205,-346L200,-340L198,-341L193,-339L187,-335L180,-332L175,-327L173,-323L167,-314L160,-307L154,-299L150,-300L147,-296L138,-290L135,-291L131,-290L123,-289L119,-286L116,-282L112,-278L110,-272L108,-268L103,-266L93,-261L87,-260L89,-268L85,-273L82,-275L76,-274L74,-275L78,-277L82,-282L86,-286L86,-288L89,-291L87,-292L92,-293L96,-295L101,-298L104,-295L106,-295L112,-298L115,-301L123,-307L123,-309L127,-311L128,-314L134,-317L138,-319L140,-322L143,-322L148,-326L151,-325L156,-329L159,-335L161,-336L162,-339L164,-341L170,-345L171,-348L174,-351L179,-354L181,-353L184,-358L183,-359L179,-354L180,-357L183,-361L183,-362L187,-363L191,-367L195,-370L199,-372L201,-373L204,-374L208,-377L211,-380L212,-382L217,-390L220,-392L226,-400L229,-408L231,-410L231,-414L234,-418L235,-421L236,-432L238,-438L241,-442L242,-448L244,-454L243,-456L243,-459L252,-460L260,-464L261,-466L263,-466L266,-471L270,-481L275,-484L276,-492L278,-493L277,-496L276,-504L277,-507L276,-522L278,-523L281,-528L283,-530L284,-524L290,-517L288,-513L288,-510L290,-511L295,-511L296,-510L298,-506L303,-503L308,-500L308,-499L306,-496L302,-495L302,-492L302,-487L298,-484L295,-485L293,-484L293,-479L290,-478L288,-470L285,-468L284,-464L281,-463L278,-462L277,-459L278,-455L277,-451L275,-450L275,-446L276,-443L278,-441L279,-436L283,-435L284,-433L289,-431L291,-425L293,-421L295,-423Z"},
AUSTRALIA_SHAPES:{"au-act":"M849,-303,854,-310,860,-310,862,-304,857,-299,855,-288,850,-294,849,-299z","au-nsw":"M686,-495,761,-488,816,-483,877,-477,885,-484,891,-486,896,-484,907,-485,910,-482,914,-481,919,-480,923,-478,925,-476,929,-472,929,-466,933,-465,937,-468,940,-472,944,-470,950,-470,952,-475,951,-479,964,-485,969,-483,974,-481,987,-483,986,-470,980,-458,974,-442,967,-427,967,-418,963,-407,957,-395,952,-389,948,-383,945,-375,927,-364,913,-347,908,-336,902,-325,898,-310,891,-303,882,-294,877,-281,873,-269,870,-250,867,-247,833,-269,834,-277,832,-282,832,-291,823,-295,812,-293,802,-295,790,-296,776,-300,768,-304,760,-302,760,-299,760,-296,759,-296,755,-298,749,-307,743,-314,735,-318,732,-323,729,-327,731,-336,726,-338,716,-341,712,-338,708,-346,708,-350,698,-357,694,-359,689,-356,678,-360z",
"au-nt":"M385,-889,393,-891,401,-888,401,-895,393,-903,393,-908,396,-914,402,-914,405,-930,409,-928,415,-936,412,-942,412,-947,416,-947,418,-951,424,-955,425,-962,433,-962,437,-968,448,-965,459,-966,465,-964,474,-969,481,-971,479,-982,474,-986,467,-987,462,-993,474,-998,484,-987,490,-990,496,-981,508,-977,515,-981,516,-976,538,-972,541,-972,549,-966,553,-965,557,-969,564,-968,566,-965,572,-966,575,-960,580,-959,584,-964,580,-968,587,-972,589,-972,592,-967,595,-966,598,-965,601,-961,595,-955,592,-950,588,-949,589,-943,586,-938,581,-940,571,-933,571,-924,574,-921,569,-913,570,-910,565,-907,559,-897,557,-895,559,-888,579,-875,581,-871,589,-866,591,-860,601,-861,611,-855,619,-851,624,-843,614,-585,564,-586,501,-587,418,-585,395,-584zM407,-976,417,-974,426,-977,433,-975,445,-982,449,-988,448,-994,442,-995,429,-990,418,-993,415,-991,410,-985,411,-983zM583,-908,597,-907,601,-910,595,-915,597,-922,587,-925,586,-922,584,-912z",
"au-qld":"M628,-840,636,-838,647,-834,653,-829,658,-818,668,-815,677,-807,686,-809,695,-810,700,-818,706,-829,713,-837,718,-853,719,-862,725,-880,722,-888,725,-902,723,-908,721,-914,725,-922,729,-928,728,-939,733,-942,737,-946,730,-952,741,-970,745,-987,747,-992,752,-995,758,-1000,760,-999,760,-995,766,-990,766,-968,769,-965,773,-962,769,-955,778,-945,778,-941,781,-933,779,-915,783,-902,785,-893,791,-890,797,-896,806,-897,808,-888,818,-879,824,-875,823,-860,826,-848,825,-840,824,-833,836,-809,839,-802,839,-791,835,-783,842,-780,840,-768,840,-763,847,-754,858,-747,869,-746,871,-740,873,-732,884,-730,890,-720,894,-723,902,-716,900,-709,905,-697,911,-684,913,-665,913,-655,920,-653,922,-651,923,-662,928,-659,939,-647,944,-639,941,-623,953,-606,961,-604,965,-597,967,-588,976,-582,978,-575,981,-568,985,-565,984,-556,988,-549,987,-545,984,-541,985,-521,984,-516,980,-516,983,-509,987,-499,986,-486,974,-485,964,-490,948,-481,947,-474,941,-474,939,-475,934,-469,931,-469,932,-474,929,-478,926,-481,920,-484,913,-484,910,-489,898,-487,890,-491,883,-488,876,-481,795,-489,751,-494,692,-498,686,-499,692,-581,619,-584zM658,-837,661,-836,665,-837,671,-840,673,-841,674,-843,673,-846,665,-847,661,-846,658,-843,656,-840,656,-838zM988,-567,990,-560,993,-559,998,-566,1000,-575,994,-579,991,-576z",
"au-sa":"M667,-248,660,-249,654,-255,645,-273,642,-280,645,-285,642,-296,640,-307,633,-313,626,-319,620,-319,617,-318,610,-318,611,-322,617,-332,618,-338,618,-344,610,-357,608,-352,602,-333,598,-331,586,-331,583,-337,586,-339,593,-339,594,-343,595,-356,598,-366,605,-373,607,-376,607,-384,610,-386,611,-387,605,-403,603,-403,602,-394,599,-390,592,-379,589,-373,583,-372,574,-365,567,-355,561,-346,555,-341,550,-344,544,-363,543,-369,536,-375,531,-386,525,-389,520,-393,518,-397,521,-403,516,-406,514,-409,510,-415,506,-417,498,-415,494,-418,488,-420,483,-421,480,-419,476,-419,470,-424,461,-429,453,-433,450,-434,448,-433,444,-431,432,-431,402,-429,396,-581,488,-583,561,-582,636,-579,687,-577,668,-248zM578,-321,577,-316,582,-313,587,-313,601,-314,606,-319,601,-324,596,-324z",
"au-tas":"M781,-82,786,-90,790,-92,795,-102,798,-102,804,-101,807,-105,811,-120,816,-125,818,-136,818,-146,820,-153C820,-153,815,-160,814,-160,813,-160,807,-155,807,-155L794,-155,788,-154,779,-151,763,-159,747,-168,744,-167,743,-162,741,-157,745,-145,749,-136,753,-127,755,-120,754,-115,753,-112,761,-95,765,-86,768,-85,773,-85,779,-82zM812,-186,815,-189,817,-190,820,-185,823,-180,823,-173,818,-172,815,-177,813,-184zM730,-203,727,-197,727,-189,729,-186,731,-186,734,-188,736,-195,736,-199,735,-202,733,-204z",
"au-vic":"M677,-356,671,-246,683,-237,690,-241,698,-238,712,-231,723,-223,745,-233,749,-237,756,-247,759,-241,756,-234,755,-231,767,-224,774,-219,776,-215,796,-219,812,-234,826,-238,843,-239,859,-238,865,-244,830,-267,829,-271,830,-277,828,-279,827,-287,823,-289,816,-290,812,-288,805,-290,801,-292,794,-290,790,-292,775,-297,770,-299,764,-299,763,-293,760,-292,755,-292,750,-300,746,-307,738,-313,731,-316,727,-323,727,-330,725,-335,720,-337,716,-338,712,-334,707,-340,705,-344,705,-348,696,-353,692,-352,686,-353z",
"au-wa":"M381,-893,364,-896,358,-898,342,-913,333,-916,326,-920,321,-920,317,-917,318,-912,315,-909,313,-912,301,-907,297,-896,291,-899,279,-894,275,-887,280,-881,279,-881,274,-879,275,-870,269,-872,260,-865,259,-861,260,-856,262,-852,258,-846,259,-842,250,-843,243,-845,239,-843,240,-839,238,-832,246,-824,245,-819,241,-822,239,-808C239,-808,234,-810,233,-812,231,-814,223,-833,223,-833L223,-835,219,-833,209,-821,203,-813,202,-805,205,-796,208,-789,205,-784,194,-774,189,-755,182,-747,166,-738,161,-734,147,-730,143,-727,129,-730,124,-721,122,-719,106,-715,103,-712,99,-706,89,-702,78,-704,70,-703,62,-698,52,-686,42,-674,28,-667,22,-662,19,-646,15,-643,11,-643,9,-659,5,-658,0,-638,6,-629,7,-624,5,-610,2,-601,2,-587,9,-580,13,-569,24,-558,31,-549,31,-537,24,-541,9,-556,8,-549,16,-541,21,-534,10,-535,12,-530,28,-513,34,-502,36,-493,52,-474,61,-461,63,-447,64,-439,70,-426,85,-404,89,-395,92,-372,93,-361,93,-354,90,-345,86,-344,79,-347,79,-342,80,-329,83,-324,89,-326,100,-323,108,-315,116,-312,130,-311,145,-313,160,-318,164,-322,171,-332,179,-335,185,-337,186,-345,196,-351,218,-354,232,-357,243,-354,263,-358,266,-358,271,-357,280,-362,286,-370,289,-384,293,-386,303,-388,332,-407,341,-409,361,-408,371,-414,389,-423,398,-427,381,-891z"},
FRANCE_SHAPES:{"fr-01":"M728,-563L724,-562L722,-558L716,-534L715,-532L714,-524L712,-522L712,-511L711,-508L718,-504L720,-504L724,-500L725,-495L729,-496L736,-494L736,-495L739,-495L744,-491L748,-493L750,-500L752,-502L755,-502L758,-499L760,-495L773,-479L777,-481L777,-488L782,-488L782,-499L784,-501L784,-510L785,-510L785,-513L783,-516L784,-526L787,-524L789,-527L792,-528L796,-531L792,-531L792,-537L796,-539L802,-540L802,-543L800,-545L805,-551L804,-553L799,-556L785,-541L776,-541L776,-545L771,-547L764,-540L759,-540L759,-544L755,-546L749,-556L743,-558L741,-562L737,-563L734,-560L732,-560L728,-563z",
"fr-02":"M636,-899L631,-895L628,-898L626,-898L620,-894L617,-896L613,-894L611,-894L610,-896L607,-896L604,-894L604,-894L605,-889L600,-885L600,-880L597,-877L598,-873L600,-866L602,-855L601,-845L600,-842L604,-839L601,-838L599,-830L593,-828L591,-825L595,-824L596,-820L593,-819L593,-814L594,-814L596,-817L600,-814L602,-812L601,-807L604,-805L605,-798L614,-789L617,-788L619,-785L624,-783L625,-784L627,-788L632,-790L634,-797L637,-799L635,-801L631,-801L631,-803L634,-805L635,-807L632,-809L633,-812L640,-812L639,-815L635,-818L635,-827L641,-832L648,-832L647,-835L651,-837L656,-833L659,-834L658,-845L659,-849L661,-853L656,-856L657,-858L664,-860L664,-864L669,-866L670,-870L668,-873L669,-878L672,-880L669,-886L670,-892L663,-892L661,-891L655,-892L654,-897L652,-897L648,-893L647,-896L640,-897L638,-899L636,-899z",
"fr-03":"M591,-587L586,-581L584,-581L581,-578L578,-582L569,-573L569,-568L570,-566L571,-564L566,-560L562,-561L554,-560L549,-555L548,-552L548,-552L552,-546L552,-542L554,-539L557,-542L559,-537L563,-536L566,-528L567,-525L572,-521L574,-523L576,-528L578,-528L578,-531L582,-531L582,-529L587,-534L592,-534L593,-533L590,-529L594,-525L594,-523L603,-518L613,-517L616,-517L620,-516L624,-519L627,-517L628,-513L631,-512L636,-512L638,-509L643,-507L643,-509L651,-509L650,-528L648,-532L649,-536L654,-537L654,-537L661,-542L661,-555L659,-558L654,-558L652,-561L646,-561L645,-563L645,-568L638,-580L635,-583L629,-574L626,-574L625,-578L622,-579L621,-576L616,-576L615,-579L612,-577L608,-575L604,-580L599,-582L598,-587L591,-587z",
"fr-04":"M863,-392L859,-387L854,-384L853,-380L848,-380L848,-377L847,-375L845,-370L835,-371L830,-373L826,-371L820,-371L819,-369L820,-369L821,-364L819,-363L814,-367L814,-369L811,-371L809,-371L809,-368L806,-368L800,-364L797,-359L796,-356L798,-355L798,-350L796,-350L793,-353L791,-353L792,-350L797,-345L794,-343L792,-345L786,-345L781,-340L781,-340L780,-338L778,-341L776,-343L774,-338L771,-335L770,-335L770,-335L770,-331L774,-330L774,-326L771,-324L771,-320L777,-317L777,-313L774,-311L774,-308L782,-308L789,-300L789,-300L797,-303L808,-296L814,-300L815,-303L824,-306L829,-302L837,-308L846,-308L848,-310L853,-310L853,-310L852,-313L853,-315L853,-317L857,-317L859,-319L863,-321L867,-319L869,-320L863,-325L857,-331L855,-332L855,-336L851,-341L853,-349L854,-353L858,-356L858,-360L862,-362L863,-363L863,-369L868,-370L865,-372L862,-373L860,-377L862,-380L867,-386L866,-391L867,-392L863,-392z",
"fr-05":"M835,-434L832,-433L832,-428L826,-427L825,-432L823,-434L817,-433L815,-431L813,-424L814,-423L821,-422L823,-418L825,-417L825,-409L819,-410L816,-407L809,-408L805,-404L802,-406L797,-402L799,-400L796,-397L788,-397L788,-393L791,-392L790,-389L784,-387L777,-386L775,-380L775,-376L779,-373L775,-369L771,-371L765,-372L765,-369L768,-366L764,-364L765,-358L776,-355L778,-351L782,-350L781,-340L781,-340L786,-345L792,-345L794,-343L797,-345L792,-350L791,-353L793,-353L796,-350L798,-350L798,-355L796,-356L797,-359L800,-364L806,-368L809,-368L809,-371L811,-371L814,-369L814,-367L819,-363L821,-364L820,-369L819,-369L820,-371L826,-371L830,-373L835,-371L845,-370L847,-375L848,-377L848,-380L853,-380L854,-384L859,-387L863,-392L867,-392L870,-395L874,-395L874,-398L869,-400L868,-410L865,-411L860,-410L852,-415L850,-424L845,-426L844,-429L842,-434L835,-434z",
"fr-06":"M863,-363L862,-362L858,-360L858,-356L854,-353L853,-349L851,-341L855,-336L855,-332L857,-331L863,-325L869,-320L867,-319L863,-321L859,-319L857,-317L853,-317L853,-315L852,-313L853,-310L849,-308L851,-304L854,-304L858,-302L859,-296L862,-292L865,-292L868,-291L869,-288L867,-286L868,-284L868,-282L872,-278L872,-278L873,-286L879,-284L881,-287L885,-287L885,-297L893,-298L899,-303L905,-303L905,-307L911,-311L908,-318L913,-322L912,-327L919,-330L921,-337L920,-342L918,-345L917,-349L912,-349L897,-343L892,-343L883,-350L875,-352L870,-352L870,-358L863,-362L863,-363z",
"fr-07":"M714,-452L707,-448L705,-441L700,-440L697,-439L697,-439L695,-431L690,-429L688,-426L690,-422L691,-420L686,-420L685,-413L680,-413L677,-405L670,-405L661,-399L656,-391L657,-390L659,-378L665,-372L664,-365L671,-361L671,-352L675,-353L683,-348L686,-347L687,-353L692,-354L693,-349L698,-350L699,-355L709,-349L711,-352L716,-353L716,-360L715,-361L714,-362L714,-364L715,-367L713,-370L714,-376L718,-381L718,-388L716,-396L720,-397L720,-401L724,-407L725,-411L723,-418L721,-424L718,-434L718,-447L716,-448L714,-452z",
"fr-08":"M702,-910L698,-905L695,-902L695,-899L695,-895L691,-892L684,-890L680,-888L676,-892L670,-892L669,-886L672,-880L669,-878L668,-873L670,-870L669,-866L664,-864L664,-860L657,-858L656,-856L661,-853L659,-849L658,-845L659,-837L667,-836L674,-832L675,-830L679,-829L684,-825L688,-825L689,-826L694,-826L696,-821L698,-821L699,-823L707,-823L709,-821L710,-821L713,-825L716,-822C716,-822,716,-822,716,-822L716,-824L720,-825L722,-827L721,-831L720,-833L724,-836L725,-842L721,-847L723,-850L726,-856L727,-855L732,-855L734,-852L737,-854L739,-858L737,-858L736,-865L733,-867L724,-868L722,-872L719,-874L709,-875L708,-883L710,-884L710,-887L704,-891L705,-894L707,-897L704,-899L708,-903L708,-909L707,-910L702,-910z",
"fr-09":"M483,-254L481,-253L480,-251L484,-248L485,-246L484,-244L477,-244L475,-241L475,-240L478,-239L480,-237L478,-234L476,-234L473,-237L469,-238L465,-238L458,-234L458,-228L460,-227L459,-223L451,-221L448,-217L448,-211L449,-209L447,-207L448,-206L459,-204L463,-204L468,-197L482,-197L488,-188L493,-190L507,-188L508,-182L519,-185L522,-188L528,-189L529,-192L541,-193L534,-202L528,-199L517,-207L520,-211L528,-211L527,-219L527,-225L526,-236L509,-244L510,-246L507,-250L505,-249L501,-248L494,-251L493,-252L495,-249L494,-246L489,-246L488,-249L485,-254L483,-254z",
"fr-10":"M671,-771L664,-767L659,-763L653,-763L644,-757L636,-755L630,-761L629,-761L629,-760L624,-758L624,-754L621,-751L620,-745L619,-739L621,-737L625,-737L634,-728L633,-720L639,-715L642,-717L647,-711L648,-705L652,-700L653,-697L666,-696L673,-699L675,-696L677,-695L679,-699L690,-699L694,-702L695,-706L704,-706L705,-705L704,-709L702,-711L705,-714L711,-715L713,-718L712,-730L711,-737L706,-739L700,-747L700,-752L702,-756L699,-757L689,-755L683,-755L677,-764L676,-770L671,-771z","fr-11":"M545,-268L545,-262L539,-264L532,-264L532,-266L529,-265L522,-263L520,-267L515,-263L517,-260L512,-258L511,-252L507,-251L510,-246L509,-244L526,-236L527,-225L527,-219L528,-211L520,-211L517,-207L528,-199L534,-202L541,-193L540,-193L542,-192L555,-199L552,-203L551,-209L582,-209L582,-213L589,-217L597,-211L602,-209L601,-218L602,-229L598,-228L595,-233L597,-238L603,-232L608,-236L611,-240L611,-243L607,-243L606,-248L602,-248L598,-254L595,-254L591,-256L591,-261L589,-260L590,-256L585,-256L585,-250L579,-248L576,-254L572,-252L568,-254L567,-259L569,-262L568,-266L568,-266L558,-266L548,-268L545,-268z",
"fr-12":"M579,-410L570,-403L570,-395L568,-395L567,-387L564,-386L563,-382L552,-382L552,-384L547,-384L544,-379L543,-379L543,-377L540,-375L534,-375L533,-373L530,-374L525,-368L523,-368L519,-365L521,-359L524,-355L521,-352L522,-346L526,-345L524,-340L526,-335L529,-336L530,-333L534,-337L539,-337L545,-333L555,-332L558,-325L563,-323L566,-316L566,-313L569,-308L569,-304L575,-297L580,-294L584,-295L586,-297L588,-296L595,-292L595,-292L597,-292L603,-292L602,-302L602,-305L605,-305L610,-302L615,-302L615,-308L617,-310L623,-311L623,-316L629,-319L627,-325L622,-325L618,-326L617,-330L621,-331L621,-335L624,-339L621,-340L614,-339L614,-342L608,-345L607,-356L607,-364L602,-367L603,-373L593,-385L592,-395L589,-395L588,-404L581,-403L580,-409L579,-410z",
"fr-13":"M722,-316L713,-310L710,-293L701,-294L698,-287L700,-284L690,-277L687,-270L697,-270L711,-269L713,-266L709,-266L705,-261L719,-258L730,-260L725,-265L728,-268L735,-266L738,-260L756,-259L761,-261L762,-258L757,-254L764,-253L763,-250L761,-248L777,-248L785,-245L786,-244L786,-251L788,-253L791,-255L791,-257L789,-259L786,-259L785,-261L787,-263L787,-264L784,-266L784,-268L791,-268L792,-269L787,-274L787,-281L784,-284L787,-289L794,-294L788,-298L784,-295L776,-293L768,-294L756,-299L748,-299L741,-302L739,-305L734,-311L722,-316L722,-316z",
"fr-14":"M425,-839L417,-838L405,-831L391,-825L380,-831L353,-835L347,-838L337,-836L337,-832L336,-830L336,-828L342,-822L346,-819L349,-823L351,-820L348,-817L350,-813L349,-811L351,-807L350,-803L347,-799L343,-796L341,-798L338,-796L341,-793L339,-789L334,-788L340,-780L346,-779L351,-776L357,-778L362,-784L369,-782L375,-786L379,-787L382,-783L389,-785L394,-782L401,-784L407,-788L411,-793L414,-793L414,-790L417,-790L417,-793L423,-794L425,-793L432,-794L433,-797L433,-800L429,-802L429,-804L432,-806L432,-809L430,-817L427,-823L430,-824L430,-826L427,-827L425,-839z",
"fr-15":"M564,-460L563,-457L565,-453L563,-450L560,-450L557,-454L554,-456L553,-446L547,-443L543,-437L544,-431L543,-428L541,-423L539,-423L536,-420L538,-418L539,-415L535,-412L537,-401L542,-397L538,-387L542,-385L540,-379L544,-379L547,-384L552,-384L552,-382L563,-382L564,-386L567,-387L568,-395L570,-395L570,-403L579,-410L580,-409L581,-403L588,-404L589,-395L592,-395L593,-385L596,-382L601,-393L605,-407L611,-403L614,-409L622,-412L622,-415L621,-418L617,-420L619,-422L617,-424L619,-424L621,-426L618,-426L616,-429L615,-435L613,-437L612,-442L604,-442L603,-447L600,-447L599,-445L594,-445L590,-452L588,-452L585,-454L582,-452L577,-452L575,-457L564,-460z",
"fr-16":"M431,-525L428,-523L429,-519L427,-517L422,-520L417,-518L411,-518L407,-523L405,-523L400,-520L395,-519L395,-516L393,-514L394,-512L390,-510L388,-500L387,-493L384,-492L381,-492L380,-494L376,-494L374,-492L369,-492L365,-490L368,-489L369,-481L370,-481L368,-478L370,-477L374,-473L376,-469L379,-467L378,-463L377,-462L379,-460L379,-457L375,-454L376,-452L379,-452L379,-451L375,-449L376,-448L378,-447L385,-448L388,-444L390,-442L397,-437L398,-439L404,-438L407,-441L413,-447L414,-458L429,-469L429,-477L434,-477L437,-482L439,-482L440,-487L443,-488L444,-492L447,-493L451,-496L451,-504L454,-505L460,-506L459,-509L458,-514L454,-514L451,-517L453,-520L453,-523L450,-524L444,-524L442,-521L436,-519L434,-521L431,-525z",
"fr-17":"M335,-549L331,-549L321,-543L323,-541L318,-536L317,-533L312,-532L310,-535L303,-536L303,-539L299,-542L293,-540L297,-535L301,-535L306,-532L310,-529L316,-529L318,-526L322,-525L324,-521L327,-519L327,-516L323,-516L321,-514L324,-510L323,-503L319,-503L319,-499L320,-497L315,-497L315,-500L318,-504L317,-506L315,-507L314,-515L309,-516L304,-521L304,-510L311,-504L312,-498L313,-491L314,-484L318,-484L325,-478L329,-476L329,-473L333,-472L344,-461L346,-450L356,-450L357,-452L358,-447L366,-446L368,-435L372,-435L380,-427L384,-427L388,-429L391,-427L394,-432L397,-437L390,-442L388,-444L385,-448L378,-447L376,-448L375,-449L379,-451L379,-452L376,-452L375,-454L379,-457L379,-460L377,-462L378,-463L379,-467L376,-469L374,-473L370,-477L368,-478L370,-481L369,-481L368,-489L365,-490L369,-492L374,-492L376,-494L380,-494L381,-492L384,-492L387,-493L388,-500L390,-510L390,-510L388,-513L387,-516L383,-518L376,-522L369,-522L364,-528L358,-528L352,-532L352,-534L349,-538L349,-543L344,-547L337,-544L335,-549z",
"fr-18":"M547,-666L542,-664L538,-660L538,-659L543,-658L544,-654L547,-653L546,-651L546,-648L542,-646L539,-640L539,-637L540,-636L540,-634L536,-632L529,-631L528,-633L526,-633L524,-631L524,-627L520,-626L520,-623L516,-620L517,-618L519,-616L524,-616L527,-617L532,-617L534,-616L533,-611L537,-606L537,-604L535,-601L535,-600L537,-598L540,-598L540,-596L537,-593L537,-591L534,-590L535,-588L538,-586L538,-584L535,-582L535,-579L540,-577L541,-574L543,-571L543,-570L542,-569L542,-564L541,-563L543,-559L544,-556L540,-553L540,-551L548,-552L549,-555L554,-560L562,-561L566,-560L571,-564L570,-566L569,-568L569,-573L578,-582L581,-578L584,-581L586,-581L591,-587L598,-587L599,-585L601,-593L599,-596L600,-600L601,-609L597,-612L598,-620L595,-627L594,-632L588,-636L587,-640L590,-644L590,-651L587,-655L584,-653L582,-654L580,-657L578,-657L577,-657L577,-652L575,-652L573,-653L569,-658L568,-660L563,-660L560,-664L558,-664L557,-663L553,-662L551,-665L547,-666L547,-666z",
"fr-19":"M531,-487L529,-484L524,-483L522,-479L519,-479L516,-480L513,-476L509,-475L507,-471L504,-471L501,-468L495,-469L493,-466L490,-466L486,-460L482,-462L480,-458L482,-455L485,-452L479,-446L479,-441L481,-440L479,-437L482,-434L480,-430L483,-428L490,-429L489,-422L492,-417L493,-417L500,-421L508,-417L515,-408L519,-408L524,-414L526,-410L530,-414L535,-413L535,-412L539,-415L538,-418L536,-420L539,-423L541,-423L543,-428L544,-431L543,-437L547,-443L553,-446L554,-456L557,-454L560,-450L563,-450L565,-453L563,-457L565,-462L564,-468L562,-470L562,-475L565,-480L564,-484L564,-485L560,-483L554,-483L552,-479L548,-479L545,-483L543,-485L535,-485L533,-487L531,-487z",
"fr-21":"M695,-706L694,-702L690,-699L679,-699L679,-697L680,-694L676,-692L676,-688L677,-687L680,-687L681,-684L680,-680L676,-677L676,-674L678,-673L677,-672L675,-672L674,-668L671,-660L668,-656L668,-652L669,-651L668,-649L664,-647L664,-644L668,-642L669,-640L668,-636L668,-633L669,-631L674,-630L676,-626L676,-625L675,-624L675,-621L675,-621L681,-614L688,-615L694,-610L698,-607L698,-603L703,-602L706,-599L716,-603L723,-605L726,-605L727,-607L730,-606L733,-605L737,-606L740,-608L743,-608L743,-608L746,-610L745,-611L745,-613L746,-616L752,-618L752,-621L754,-624L756,-626L755,-629L756,-632L757,-637L758,-637L758,-639L756,-641L756,-647L753,-648L752,-653L749,-654L750,-656L752,-657L756,-662L756,-664L753,-670L750,-670L748,-667L741,-665L740,-667L735,-673L732,-672L728,-672L727,-675L722,-674L721,-680L718,-682L723,-687L715,-697L709,-703L704,-706L695,-706z",
"fr-22":"M202,-797L199,-794L192,-793L190,-791L185,-795L178,-790L180,-787L176,-780L176,-781L174,-772L178,-772L178,-768L181,-766L178,-763L176,-762L176,-759L180,-757L176,-756L176,-752L179,-749L179,-740L178,-738L179,-733L184,-732L185,-729L188,-729L191,-731L192,-729L199,-726L204,-729L205,-732L209,-732L214,-728L219,-729L223,-725L225,-725L227,-722L231,-722L232,-724L233,-721L238,-719L243,-722L243,-726L246,-727L249,-727L252,-722L258,-721L262,-725L265,-733L270,-734L272,-738L275,-736L280,-737L281,-751L283,-757L281,-761L279,-762L277,-772L275,-769L269,-770L268,-766L264,-766L264,-771L260,-772L258,-769L258,-776L254,-773L248,-774L246,-770L234,-763L234,-760L232,-760L232,-766L225,-769L225,-775L219,-779L219,-785L214,-786L215,-791L211,-792L212,-795L205,-795L204,-792L202,-797z",
"fr-23":"M515,-554L513,-549L507,-549L505,-550L502,-549L499,-551L493,-545L493,-540L489,-532L490,-528L494,-527L497,-520L500,-517L499,-504L505,-505L507,-502L503,-499L503,-496L507,-495L512,-496L514,-498L515,-498L515,-494L519,-492L524,-489L524,-487L521,-487L522,-483L524,-482L524,-483L529,-484L531,-487L533,-487L535,-485L543,-485L545,-483L548,-479L552,-479L554,-483L560,-483L564,-485L557,-492L556,-495L562,-499L566,-500L567,-505L571,-508L570,-514L567,-518L566,-528L563,-536L559,-537L557,-542L554,-539L552,-542L552,-546L548,-552L537,-550L531,-552L515,-554z",
"fr-24":"M437,-482L434,-477L429,-477L429,-469L414,-458L413,-447L407,-441L404,-438L398,-439L394,-432L393,-430L395,-428L398,-428L400,-426L398,-421L397,-415L394,-414L394,-412L395,-410L395,-407L393,-404L396,-402L397,-400L407,-400L411,-405L415,-403L412,-400L412,-394L417,-391L418,-384L423,-383L426,-385L432,-385L436,-388L438,-388L438,-386L445,-386L446,-387L449,-387L451,-384L451,-382L449,-380L450,-378L453,-378L457,-382L461,-382L463,-379L468,-377L469,-378L472,-381L472,-386L479,-386L484,-393L482,-394L482,-397L487,-398L487,-401L490,-403L493,-408L490,-411L490,-415L492,-417L489,-422L490,-429L483,-428L480,-430L482,-434L479,-437L481,-440L479,-441L479,-446L485,-452L482,-455L480,-460L473,-461L470,-462L475,-464L474,-467L466,-468L465,-474L454,-475L452,-472L450,-471L447,-475L448,-479L446,-482L437,-482z",
"fr-25":"M835,-668L835,-668L831,-668L829,-665L827,-664L827,-660L821,-660L818,-662L813,-661L809,-658L806,-653L803,-652L801,-648L798,-648L792,-644L786,-644L783,-642L782,-642L775,-637L772,-637L772,-635L772,-631L777,-628L779,-625L778,-622L776,-617L775,-614L784,-611L790,-611L790,-606L790,-600L798,-597L801,-596L806,-592L805,-588L803,-585L797,-583L799,-580L799,-577L797,-575L797,-572L801,-572L801,-572L821,-591L821,-607L828,-611L833,-613L837,-617L838,-624L842,-626L853,-638L851,-642L855,-644L859,-649L857,-651L849,-649L848,-651L856,-659L835,-668z",
"fr-26":"M731,-451L726,-448L722,-446L718,-447L718,-434L721,-424L723,-418L725,-411L724,-407L720,-401L720,-397L716,-396L718,-388L718,-381L714,-376L713,-370L715,-367L714,-364L714,-362L715,-361L716,-360L716,-353L720,-354L722,-351L721,-345L722,-343L727,-348L732,-348L732,-351L727,-352L726,-358L730,-363L734,-364L739,-359L734,-353L735,-351L742,-350L746,-354L744,-349L745,-345L751,-344L761,-344L762,-339L767,-336L771,-335L774,-338L776,-343L778,-341L780,-338L782,-350L778,-351L776,-355L765,-358L764,-364L768,-366L765,-369L765,-372L771,-371L775,-369L779,-373L775,-376L775,-380L777,-386L784,-387L790,-389L790,-391L784,-391L782,-393L779,-393L776,-396L772,-399L767,-399L765,-400L765,-427L764,-427L762,-425L759,-422L752,-425L746,-426L744,-426L743,-427L745,-432L744,-437L745,-441L742,-446L737,-446L731,-451z",
"fr-27":"M439,-845L436,-844L432,-840L425,-839L427,-827L430,-826L430,-824L427,-823L430,-817L432,-809L432,-806L429,-804L429,-802L433,-800L433,-797L430,-790L433,-786L442,-786L444,-782L447,-778L452,-777L453,-772L451,-768L456,-765L461,-770L465,-770L477,-776L481,-774L489,-774L491,-777L491,-782L498,-785L498,-790L499,-792L499,-793L501,-795L498,-795L498,-798L496,-801L498,-802L507,-805L509,-809L511,-816L513,-819L514,-823L517,-821L519,-822L518,-824L517,-832L514,-835L514,-835L509,-835L500,-840L492,-840L488,-836L486,-830L478,-829L470,-827L473,-825L471,-822L468,-822L466,-827L463,-827L459,-829L465,-831L457,-837L449,-836L447,-839L442,-839L439,-845z",
"fr-28":"M500,-792L498,-790L498,-785L491,-782L491,-777L489,-774L481,-774L477,-776L465,-770L461,-770L456,-765L457,-765L457,-759L464,-753L465,-741L462,-737L457,-736L452,-733L452,-730L455,-727L455,-720L455,-720L460,-716L458,-714L461,-713L467,-714L470,-714L469,-712L467,-711L469,-709L473,-709L475,-705L478,-704L480,-699L487,-697L492,-698L496,-701L499,-700L500,-702L500,-704L502,-706L505,-704L507,-705L507,-708L509,-710L512,-709L514,-706L517,-708L521,-708L524,-712L526,-718L529,-718L528,-724L531,-727L530,-729L530,-729L529,-729L529,-738L528,-739L527,-743L521,-745L518,-748L517,-755L513,-756L512,-760L507,-763L505,-768L507,-772L505,-775L505,-778L506,-782L504,-785L503,-788L500,-792z",
"fr-29":"M153,-787L150,-783L146,-784L138,-784L137,-780L133,-779L132,-783L125,-782L125,-780L119,-779L117,-781L115,-780L114,-776L105,-776L100,-770L104,-767L99,-763L101,-760L99,-753L105,-752L107,-754L108,-753L120,-754L128,-760L121,-753L122,-750L128,-753L127,-748L134,-748L134,-746L126,-746L120,-748L112,-752L108,-746L114,-744L113,-736L115,-737L118,-742L125,-739L129,-738L130,-733L128,-729L124,-729L120,-729L113,-728L102,-728L100,-725L103,-723L107,-723L110,-721L114,-721L121,-713L122,-704L120,-700L127,-699L135,-699L136,-702L133,-706L136,-704L139,-705L144,-702L148,-702L148,-708L149,-702L153,-696L162,-695L163,-697L165,-694L171,-693L175,-693L175,-692L177,-699L181,-699L182,-702L185,-702L185,-707L186,-708L184,-712L182,-710L178,-713L170,-714L168,-719L166,-726L166,-728L170,-731L173,-731L179,-734L178,-738L179,-740L179,-749L176,-752L176,-756L180,-757L176,-759L176,-762L178,-763L181,-766L178,-768L178,-772L174,-772L176,-781L170,-784L161,-783L161,-777L158,-777L158,-780L154,-779L153,-787z",
"fr-2a":"M912,-173L912,-169L915,-167L920,-164L921,-161L918,-160L912,-159L912,-157L914,-155L915,-148L922,-146L924,-145L927,-142L925,-139L922,-138L920,-135L919,-132L919,-127L924,-127L926,-126L930,-128L932,-127L929,-122L932,-120L928,-117L925,-111L932,-109L942,-108L938,-103C938,-103,936,-104,935,-104C935,-104,935,-104,935,-104C935,-104,935,-104,935,-104C935,-104,935,-104,935,-104C935,-104,935,-103,935,-103C935,-103,935,-103,935,-103C935,-103,935,-103,935,-103C935,-103,935,-103,935,-103C935,-103,935,-103,935,-103C935,-103,935,-103,935,-103C935,-103,935,-103,935,-103C935,-101,933,-97,933,-97L936,-94L942,-90L953,-87L956,-86L959,-85L957,-81L962,-81L963,-79L969,-79L970,-85L967,-86L971,-91L970,-93L970,-95L976,-99L976,-102L972,-103L970,-100L970,-104L975,-104L977,-108L978,-119L977,-124L977,-129L971,-125L964,-125L964,-130L965,-131L962,-132L962,-140L961,-142L957,-142L956,-143L956,-149L953,-150L951,-151L948,-156L948,-158L944,-158L942,-163L936,-163L933,-167L934,-169L932,-170L927,-169L925,-170L919,-170L918,-172L914,-173L912,-173z",
"fr-2b":"M966,-238L961,-235L962,-232L965,-228L962,-226L963,-224L961,-221L961,-218L964,-215L964,-211L962,-207L960,-206L958,-209L953,-209L952,-209L948,-209L944,-206L943,-201L935,-199L928,-193L927,-190L923,-190L922,-192L921,-187L919,-186L918,-180L919,-178L915,-175L914,-173L918,-172L919,-170L925,-170L927,-169L932,-170L934,-169L933,-167L936,-163L942,-163L944,-158L948,-158L948,-156L951,-151L953,-150L956,-149L956,-143L957,-142L961,-142L962,-140L962,-132L965,-131L964,-130L964,-125L971,-125L977,-129L977,-139L984,-150L984,-168L981,-174L980,-194L978,-198L974,-201L973,-213L975,-219L972,-227L971,-235L969,-237L966,-238z",
"fr-30":"M666,-364L664,-361L662,-359L658,-359L663,-353L663,-347L665,-346L663,-343L663,-338L659,-332L650,-333L645,-338L642,-337L643,-334L641,-332L633,-330L622,-337L621,-335L621,-331L617,-330L618,-326L622,-325L627,-325L629,-319L623,-316L623,-313L628,-311L628,-309L630,-308L631,-309L634,-309L635,-306L639,-306L640,-313L643,-313L648,-318L653,-318L654,-310L656,-308L659,-309L665,-306L667,-303L677,-297L680,-289L680,-284L674,-281L670,-277L675,-277L675,-270L683,-270L687,-270L690,-277L700,-284L698,-287L701,-294L710,-293L713,-310L726,-318L726,-322L716,-332L716,-339L710,-348L699,-355L698,-350L693,-349L692,-354L687,-353L686,-347L683,-348L675,-353L671,-352L671,-361L666,-364z",
"fr-31":"M496,-311L491,-310L490,-307L488,-309L485,-310L484,-307L482,-306L485,-304L483,-301L475,-299L472,-303L469,-303L467,-301L458,-301L457,-301L458,-298L463,-293L463,-290L467,-286L469,-286L470,-283L473,-283L474,-280L471,-279L465,-276L462,-270L460,-262L458,-260L454,-264L443,-265L437,-257L433,-255L431,-252L429,-249L429,-246L425,-245L422,-240L422,-237L427,-233L428,-230L426,-227L430,-228L432,-226L433,-220L429,-218L429,-214L427,-212L424,-214L421,-214L421,-196L435,-195L435,-211L440,-211L447,-207L449,-209L448,-211L448,-217L451,-221L459,-223L460,-227L458,-228L458,-234L465,-238L469,-238L473,-237L476,-234L478,-234L480,-237L478,-239L475,-240L475,-241L477,-244L484,-244L485,-246L484,-248L480,-251L481,-253L483,-254L485,-254L488,-249L489,-246L494,-246L495,-249L493,-252L494,-251L501,-248L505,-249L507,-250L507,-251L511,-252L512,-258L517,-260L515,-263L520,-267L522,-263L529,-265L531,-266L531,-268L531,-272L527,-271L523,-273L519,-277L517,-279L510,-283L508,-285L510,-286L510,-289L508,-292L505,-297L505,-301L504,-302L500,-306L499,-310L496,-311z",
"fr-32":"M434,-329L424,-328L421,-324L415,-323L410,-322L407,-325L402,-320L398,-323L396,-318L396,-314L393,-313L391,-315L389,-320L385,-316L382,-318L378,-317L375,-313L379,-307L376,-304L377,-298L374,-294L371,-288L374,-283L382,-283L386,-284L391,-284L390,-279L394,-277L398,-276L400,-271L401,-270L400,-268L399,-266L403,-264L403,-261L407,-261L408,-262L412,-262L414,-260L418,-260L419,-257L427,-257L433,-254L433,-255L437,-257L443,-265L454,-264L458,-260L460,-262L462,-270L465,-276L471,-279L474,-280L473,-283L470,-283L469,-286L467,-286L463,-290L463,-293L458,-298L457,-301L454,-300L453,-301L455,-305L453,-307L453,-311L451,-313L444,-313L444,-317L448,-320L448,-323L452,-325L450,-326L447,-325L443,-325L441,-326L440,-326L439,-324L434,-329z",
"fr-33":"M322,-474L317,-467L315,-439L311,-411L308,-390L308,-384L310,-392L314,-398L321,-392L322,-390L324,-387L315,-387L314,-389L311,-387L310,-382L307,-377L307,-370L306,-370L309,-370L320,-375L325,-373L325,-369L322,-366L325,-364L331,-367L335,-364L337,-364L341,-367L347,-368L349,-367L350,-365L350,-363L349,-362L354,-360L357,-358L358,-355L361,-355L365,-351L366,-343L372,-341L378,-341L378,-343L377,-349L379,-348L382,-344L387,-345L390,-348L389,-351L387,-353L388,-356L391,-356L395,-358L393,-361L392,-365L395,-370L400,-377L403,-381L405,-382L406,-385L402,-385L401,-388L402,-391L406,-392L409,-393L413,-394L412,-394L412,-400L415,-403L411,-405L407,-400L397,-400L396,-402L393,-404L395,-407L395,-410L394,-412L394,-414L397,-415L398,-421L400,-426L398,-428L395,-428L393,-430L391,-427L388,-429L384,-427L380,-427L372,-435L368,-435L366,-446L358,-447L357,-452L356,-450L346,-450L347,-448L349,-438L349,-429L348,-426L346,-434L342,-452L325,-467L325,-474L322,-474z",
"fr-34":"M648,-318L643,-313L640,-313L639,-306L635,-306L634,-309L631,-309L630,-308L628,-309L628,-311L623,-313L623,-311L617,-310L615,-308L615,-302L610,-302L605,-305L602,-305L602,-302L603,-292L597,-292L595,-292L593,-289L581,-284L576,-288L573,-284L572,-279L577,-274L575,-268L568,-266L569,-262L567,-259L568,-254L572,-252L576,-254L579,-248L585,-250L585,-256L590,-256L589,-260L591,-261L591,-256L595,-254L598,-254L602,-248L606,-248L607,-243L611,-243L612,-245L623,-248L625,-251L634,-252L637,-255L654,-269L666,-277L670,-277L674,-281L680,-284L680,-289L677,-297L667,-303L665,-306L659,-309L656,-308L654,-310L653,-318L648,-318z",
"fr-35":"M280,-775L277,-772L279,-762L281,-761L283,-757L281,-751L280,-737L275,-736L272,-738L270,-734L265,-733L262,-725L259,-723L260,-719L259,-714L257,-711L257,-709L258,-709L263,-709L267,-706L270,-701L267,-698L268,-695L271,-695L272,-692L269,-688L266,-687L268,-686L268,-684L265,-682L269,-675L275,-679L296,-680L297,-684L300,-687L308,-688L308,-691L313,-691L316,-687L322,-685L324,-688L325,-694L330,-704L332,-706L337,-705L337,-714L335,-716L335,-726L334,-729L334,-734L337,-737L337,-744L336,-745L336,-754L333,-756L330,-756L326,-758L323,-754L320,-754L317,-750L314,-751L309,-756L307,-762L306,-766L290,-766L284,-770L288,-775L280,-775z",
"fr-36":"M512,-632L510,-631L506,-631L501,-630L500,-627L499,-628L494,-628L491,-625L488,-625L487,-623L490,-620L489,-617L486,-616L486,-614L484,-612L481,-608L479,-610L475,-610L470,-608L469,-603L467,-598L465,-584L461,-581L458,-581L459,-580L459,-574L458,-570L464,-565L467,-562L472,-561L474,-554L478,-552L477,-547L475,-547L476,-547L484,-546L487,-549L492,-544L499,-551L502,-549L505,-550L507,-549L513,-549L515,-554L531,-552L537,-550L540,-551L540,-553L544,-556L543,-559L541,-563L542,-564L542,-569L543,-570L543,-571L541,-574L540,-577L535,-579L535,-582L538,-584L538,-586L535,-588L534,-590L537,-591L537,-593L540,-596L540,-598L537,-598L535,-600L535,-601L537,-604L537,-606L533,-611L534,-616L532,-617L527,-617L524,-616L519,-616L517,-618L516,-620L520,-623L520,-626L515,-629L512,-632z",
"fr-37":"M441,-673L442,-672L432,-669L430,-666L426,-668L428,-662L424,-662L418,-666L414,-660L416,-658L416,-656L413,-651L413,-644L408,-638L404,-625L405,-625L406,-619L412,-618L412,-614L420,-612L420,-606L420,-602L429,-602L438,-604L437,-607L440,-609L443,-605L445,-604L447,-596L452,-591L453,-586L458,-581L461,-581L465,-584L467,-598L469,-603L470,-608L475,-610L479,-610L481,-608L484,-612L486,-614L486,-616L489,-617L490,-620L487,-623L488,-625L486,-626L481,-634L474,-634L473,-636L473,-648L470,-655L469,-663L466,-664L462,-667L461,-667L458,-664L456,-666L456,-669L458,-670L458,-671L457,-672L441,-673z",
"fr-38":"M752,-502L750,-500L748,-493L744,-491L739,-495L736,-495L736,-491L740,-487L733,-478L724,-475L717,-473L721,-468L723,-466L715,-463L715,-452L714,-452L716,-448L722,-446L726,-448L731,-451L737,-446L742,-446L745,-441L744,-437L745,-432L743,-427L744,-426L746,-426L752,-425L759,-422L762,-425L764,-427L765,-427L765,-400L767,-399L772,-399L776,-396L779,-393L782,-393L784,-391L790,-391L791,-392L788,-393L788,-397L796,-397L799,-400L797,-402L802,-406L805,-404L809,-408L816,-407L819,-410L825,-409L825,-417L823,-418L821,-422L814,-423L813,-424L815,-431L817,-433L815,-436L812,-438L809,-436L810,-439L810,-442L807,-444L809,-451L812,-453L812,-458L805,-464L802,-464L801,-462L796,-468L794,-467L792,-463L793,-460L792,-459L789,-461L781,-463L777,-470L777,-473L773,-477L773,-479L760,-495L758,-499L755,-502L752,-502z",
"fr-39":"M758,-638L758,-637L757,-637L756,-632L755,-629L756,-626L754,-624L752,-621L752,-618L746,-616L745,-613L745,-611L746,-610L743,-608L743,-604L746,-604L749,-599L752,-599L754,-596L756,-596L756,-594L748,-593L749,-590L751,-589L751,-585L750,-584L752,-582L755,-576L754,-571L751,-569L751,-564L755,-563L756,-561L753,-558L745,-557L749,-556L755,-546L759,-544L759,-540L764,-540L771,-547L776,-545L776,-541L785,-541L799,-556L798,-556L799,-563L804,-569L801,-570L801,-572L797,-572L797,-575L799,-577L799,-580L797,-583L803,-585L805,-588L806,-592L801,-596L798,-597L790,-600L790,-606L790,-611L784,-611L775,-614L776,-617L778,-622L779,-625L777,-628L772,-631L772,-635L772,-637L769,-637L767,-635L763,-635L760,-638L758,-638z",
"fr-40":"M320,-375L309,-370L306,-370L301,-339L293,-310L291,-299L289,-291L284,-282L293,-278L302,-278L307,-283L311,-279L309,-277L311,-276L312,-278L320,-278L324,-281L331,-281L334,-282L339,-282L340,-281L344,-282L348,-279L352,-281L359,-283L360,-281L369,-281L374,-284L371,-288L374,-294L377,-298L376,-304L379,-307L375,-313L378,-317L382,-318L385,-316L389,-320L391,-315L393,-313L396,-314L396,-318L397,-321L396,-323L397,-329L401,-333L399,-335L395,-335L391,-337L384,-336L383,-343L379,-348L377,-349L378,-343L378,-341L372,-341L366,-343L365,-351L361,-355L358,-355L357,-358L354,-360L349,-362L350,-363L350,-365L349,-367L347,-368L341,-367L337,-364L335,-364L331,-367L325,-364L322,-366L325,-369L325,-373L320,-375z",
"fr-41":"M458,-714L456,-711L453,-707L457,-704L456,-697L455,-692L452,-692L452,-686L447,-680L442,-678L440,-675L441,-673L457,-672L458,-671L458,-670L456,-669L456,-666L458,-664L461,-667L462,-667L466,-664L469,-663L470,-655L473,-648L473,-636L474,-634L481,-634L486,-626L488,-625L488,-625L491,-625L494,-628L499,-628L500,-627L501,-630L506,-631L510,-631L512,-632L515,-629L520,-626L524,-627L524,-631L526,-633L528,-633L529,-631L536,-632L540,-634L540,-636L539,-637L539,-640L542,-646L546,-648L546,-651L547,-653L544,-654L543,-658L538,-659L538,-660L542,-664L547,-666L544,-670L532,-671L531,-669L528,-669L526,-670L521,-671L520,-668L517,-667L513,-670L513,-674L510,-677L506,-677L503,-679L503,-681L501,-686L505,-690L504,-691L502,-693L501,-693L501,-695L502,-698L503,-700L500,-700L496,-701L492,-698L487,-697L480,-699L478,-704L475,-705L473,-709L469,-709L467,-711L469,-712L470,-714L467,-714L461,-713L458,-714z",
"fr-42":"M655,-537L649,-536L648,-532L650,-528L651,-509L643,-509L642,-506L648,-501L645,-499L644,-491L648,-486L651,-478L660,-472L663,-461L656,-455L657,-451L667,-448L674,-454L677,-455L688,-450L687,-444L693,-444L697,-439L700,-440L705,-441L707,-448L715,-452L715,-463L716,-463L712,-463L708,-462L705,-464L709,-468L708,-471L697,-473L688,-481L688,-484L690,-486L690,-489L687,-490L689,-493L689,-498L685,-502L685,-506L682,-509L682,-512L681,-517L683,-519L683,-526L690,-526L692,-528L690,-531L690,-535L688,-536L687,-529L683,-529L680,-527L678,-529L668,-530L664,-528L661,-528L661,-530L656,-531L656,-537L655,-537z",
"fr-43":"M618,-456L616,-455L616,-453L612,-452L609,-450L603,-449L602,-447L603,-447L604,-442L612,-442L613,-437L615,-435L616,-429L618,-426L621,-426L619,-424L617,-424L619,-422L617,-420L621,-418L622,-415L622,-412L623,-412L629,-397L637,-400L638,-404L641,-404L643,-399L649,-401L656,-391L661,-399L670,-405L677,-405L680,-413L685,-413L686,-420L691,-420L690,-422L688,-426L690,-429L695,-431L697,-439L693,-444L687,-444L688,-450L677,-455L674,-454L667,-448L660,-451L659,-449L655,-450L652,-453L650,-450L645,-450L642,-452L641,-448L637,-450L635,-453L633,-453L630,-455L627,-454L623,-454L620,-455L619,-454L618,-456z",
"fr-44":"M308,-691L308,-688L300,-687L297,-684L296,-680L275,-679L267,-674L267,-665L257,-662L251,-658L246,-658L244,-661L241,-658L240,-657L241,-656L235,-651L236,-649L238,-647L234,-642L238,-640L244,-639L245,-642L249,-637L254,-637L259,-642L264,-642L258,-639L259,-635L260,-632L256,-629L252,-629L253,-624L260,-625L269,-617L268,-617L275,-613L276,-609L282,-607L286,-607L288,-601L295,-600L299,-599L302,-602L299,-605L298,-613L300,-615L303,-615L305,-612L304,-607L306,-605L311,-607L312,-612L310,-615L315,-615L317,-618L319,-618L324,-614L327,-613L327,-617L324,-620L322,-620L321,-620L319,-621L321,-622L321,-625L323,-625L325,-629L324,-631L323,-635L320,-635L316,-640L316,-643L320,-645L327,-646L337,-646L341,-648L340,-655L335,-659L329,-658L327,-660L327,-665L331,-668L328,-673L326,-678L322,-680L322,-684L322,-685L316,-687L313,-691L308,-691z",
"fr-45":"M544,-734L540,-730L530,-729L530,-729L531,-727L528,-724L529,-718L526,-718L524,-712L521,-708L517,-708L514,-706L512,-709L509,-710L507,-708L507,-705L505,-704L502,-706L500,-704L500,-702L499,-700L500,-700L503,-700L502,-698L501,-695L501,-693L502,-693L504,-691L505,-690L501,-686L503,-681L503,-679L506,-677L510,-677L513,-674L513,-670L517,-667L520,-668L521,-671L526,-670L528,-669L531,-669L532,-671L544,-670L547,-666L551,-665L553,-662L557,-663L558,-664L560,-664L563,-660L568,-660L569,-658L573,-653L575,-652L577,-652L577,-657L578,-657L580,-657L582,-654L584,-653L587,-655L586,-655L586,-658L593,-660L592,-664L591,-669L586,-675L585,-679L592,-679L597,-682L597,-687L594,-690L603,-697L603,-703L598,-708L597,-713L591,-719L583,-714L582,-717L579,-717L578,-714L574,-714L565,-714L562,-712L559,-714L564,-718L564,-724L560,-726L557,-730L548,-731L544,-734z",
"fr-46":"M500,-421L493,-417L492,-417L492,-417L490,-415L490,-411L493,-408L490,-403L487,-401L487,-398L482,-397L482,-394L484,-393L479,-386L472,-386L472,-381L469,-378L467,-374L461,-373L463,-364L466,-357L470,-358L470,-356L468,-353L470,-350L473,-350L475,-346L478,-346L480,-349L481,-348L481,-345L482,-341L488,-341L493,-346L496,-347L497,-345L498,-342L500,-342L501,-348L506,-347L509,-351L514,-350L521,-353L521,-352L524,-355L521,-359L519,-365L523,-368L525,-368L530,-374L533,-373L534,-375L540,-375L543,-377L543,-379L540,-379L542,-385L538,-387L542,-397L537,-401L535,-413L530,-414L526,-410L524,-414L519,-408L515,-408L508,-417L500,-421z",
"fr-47":"M413,-394L409,-393L406,-392L402,-391L401,-388L402,-385L406,-385L405,-382L403,-381L400,-377L395,-370L392,-365L393,-361L395,-358L391,-356L388,-356L387,-353L389,-351L390,-348L387,-345L382,-344L383,-343L384,-336L391,-337L395,-335L399,-335L401,-333L397,-329L396,-323L397,-321L398,-323L402,-320L407,-325L410,-322L415,-323L421,-324L424,-328L434,-329L439,-324L440,-326L444,-327L442,-331L447,-333L453,-334L452,-338L454,-340L456,-347L452,-350L454,-358L459,-355L466,-356L463,-364L461,-373L467,-374L468,-377L463,-379L461,-382L457,-382L453,-378L450,-378L449,-380L451,-382L451,-384L449,-387L446,-387L445,-386L438,-386L438,-388L436,-388L432,-385L426,-385L423,-383L418,-384L417,-391L413,-394z",
"fr-48":"M623,-412L614,-409L611,-403L605,-407L601,-393L596,-382L603,-373L602,-367L607,-364L607,-356L608,-345L614,-342L614,-339L621,-340L624,-339L622,-337L633,-330L641,-332L643,-334L642,-337L645,-338L650,-333L659,-332L663,-338L663,-343L665,-346L663,-347L663,-353L658,-359L662,-359L664,-361L666,-364L664,-365L665,-372L659,-378L657,-390L649,-401L643,-399L641,-404L638,-404L637,-400L629,-397L623,-412z","fr-49":"M323,-687L322,-685L322,-685L322,-684L322,-680L326,-678L328,-673L331,-668L327,-665L327,-660L329,-658L335,-659L340,-655L341,-648L337,-646L327,-646L320,-645L316,-643L316,-640L320,-635L323,-635L324,-631L325,-629L323,-625L321,-625L321,-622L319,-621L321,-620L322,-620L324,-620L327,-617L327,-613L327,-613L330,-612L338,-612L343,-608L349,-611L359,-608L364,-611L364,-616L373,-616L381,-618L390,-618L391,-616L393,-614L395,-618L402,-625L404,-625L408,-638L413,-644L413,-651L416,-656L416,-658L414,-660L415,-662L411,-664L397,-672L384,-676L380,-676L380,-679L377,-682L373,-682L367,-684L364,-680L355,-680L351,-682L341,-685L339,-682L334,-686L329,-686L323,-687z",
"fr-50":"M286,-873L284,-870L291,-864L291,-857L289,-854L290,-852L291,-852L290,-845L293,-840L300,-832L302,-824L304,-822L304,-810L308,-802L308,-793L303,-784L308,-773L315,-771L316,-768L312,-766L306,-766L307,-762L309,-756L314,-751L317,-750L320,-754L323,-754L326,-758L330,-756L333,-756L336,-754L336,-754L342,-753L345,-756L350,-754L350,-753L356,-758L357,-764L357,-767L358,-770L354,-774L346,-779L340,-780L334,-788L339,-789L341,-793L338,-796L341,-798L343,-796L347,-799L350,-803L351,-807L349,-811L350,-813L348,-817L351,-820L349,-823L346,-819L342,-822L336,-828L336,-830L337,-832L337,-836L334,-835L333,-843L325,-853L327,-860L331,-860L328,-869L314,-869L306,-864L298,-870L286,-873z",
"fr-51":"M651,-837L647,-835L648,-832L641,-832L635,-827L635,-818L639,-815L640,-812L633,-812L632,-809L635,-807L634,-805L631,-803L631,-801L635,-801L637,-799L634,-797L632,-790L627,-788L625,-784L623,-782L624,-780L621,-779L620,-774L623,-772L624,-767L623,-765L624,-762L629,-763L629,-761L630,-761L636,-755L644,-757L653,-763L659,-763L664,-767L671,-771L676,-770L677,-764L683,-755L689,-755L699,-757L705,-754L712,-759L713,-768L721,-769L721,-774L714,-779L714,-782L716,-786L714,-787L716,-792L720,-794L722,-802L717,-802L720,-805L718,-812L715,-817L718,-820L717,-820L716,-822C716,-822,716,-822,716,-822L713,-825L710,-821L709,-821L707,-823L699,-823L698,-821L696,-821L694,-826L689,-826L688,-825L684,-825L679,-829L675,-830L674,-832L667,-836L659,-837L659,-834L656,-833L651,-837z",
"fr-53":"M391,-758L388,-757L387,-754L382,-752L373,-753L364,-748L361,-750L356,-747L352,-750L350,-754L345,-756L342,-753L336,-754L336,-745L337,-744L337,-737L334,-734L334,-729L335,-726L335,-716L337,-714L337,-705L332,-706L330,-704L325,-694L324,-688L323,-687L329,-686L334,-686L339,-682L341,-685L351,-682L355,-680L364,-680L367,-684L373,-682L377,-682L377,-682L378,-684L378,-694L377,-696L377,-697L382,-697L384,-699L384,-701L382,-707L383,-709L388,-710L387,-711L389,-714L388,-717L389,-720L394,-724L393,-728L394,-735L396,-738L402,-740L401,-740L400,-746L395,-748L394,-755L391,-758z",
"fr-54":"M759,-855L755,-851L749,-851L747,-849L747,-849L747,-845L749,-842L748,-840L747,-838L748,-836L749,-838L751,-841L754,-841L759,-842L762,-840L764,-838L765,-835L765,-832L766,-831L766,-828L765,-826L764,-822L765,-820L766,-818L766,-814L768,-812L771,-811L770,-808L773,-805L770,-801L771,-799L774,-798L774,-796L770,-796L768,-794L769,-792L771,-789L769,-783L766,-778L768,-774L768,-768L769,-765L771,-765L772,-764L769,-764L766,-763L766,-761L770,-758L770,-753L773,-754L778,-754L778,-749L780,-748L778,-746L777,-745L781,-744L783,-741L794,-742L796,-746L801,-746L803,-748L806,-746L809,-747L813,-746L817,-748L820,-750L822,-748L822,-753L825,-754L826,-750L830,-749L834,-748L835,-748L841,-751L844,-753L846,-756L852,-758L855,-758L853,-760L857,-760L857,-761L853,-762L848,-766L843,-769L837,-769L831,-773L827,-773L827,-774L819,-779L811,-782L807,-782L805,-787L799,-795L792,-795L790,-798L784,-798L785,-804L778,-808L778,-812L782,-812L782,-815L783,-818L780,-821L783,-825L781,-831L779,-832L775,-841L777,-843C777,-843,777,-845,776,-848L772,-848L766,-855L759,-855z",
"fr-55":"M739,-858L737,-854L734,-852L732,-855L727,-855L726,-856L723,-850L721,-847L725,-842L724,-836L720,-833L721,-831L722,-827L720,-825L716,-824L717,-820L718,-820L715,-817L718,-812L720,-805L717,-802L722,-802L720,-794L716,-792L714,-787L716,-786L714,-782L714,-779L721,-774L721,-763L728,-762L732,-757L740,-753L743,-752L750,-745L749,-744L755,-745L755,-747L761,-749L761,-751L763,-751L763,-749L768,-751L770,-753L770,-753L770,-758L766,-761L766,-763L769,-764L772,-764L771,-765L769,-765L768,-768L768,-774L766,-778L769,-783L771,-789L769,-792L768,-794L770,-796L774,-796L774,-798L771,-799L770,-801L773,-805L770,-808L771,-811L768,-812L766,-814L766,-818L765,-820L764,-822L765,-826L766,-828L766,-831L765,-832L765,-835L764,-838L762,-840L759,-842L754,-841L751,-841L749,-838L748,-836L747,-838L748,-840L749,-842L747,-845L747,-849L745,-849L744,-855L741,-858L739,-858z",
"fr-56":"M179,-734L173,-731L170,-731L166,-728L166,-726L168,-719L170,-714L178,-713L182,-710L184,-712L186,-708L185,-707L185,-702L182,-702L181,-699L177,-699L175,-692L179,-686L184,-685L186,-688L185,-685L190,-683L195,-677L197,-673L197,-669L196,-664L200,-662L202,-664L200,-666L200,-672L204,-671L205,-675L206,-673L211,-669L213,-673L211,-677L214,-672L219,-673L218,-675L222,-674L225,-670L224,-668L219,-669L214,-671L212,-668L216,-667L219,-662L236,-664L241,-663L239,-661L239,-658L240,-657L241,-658L244,-661L246,-658L251,-658L257,-662L267,-665L267,-674L269,-675L265,-682L268,-684L268,-686L266,-687L269,-688L272,-692L271,-695L268,-695L267,-698L270,-701L267,-706L263,-709L258,-709L257,-709L257,-711L259,-714L260,-719L259,-723L258,-721L252,-722L249,-727L246,-727L243,-726L243,-722L238,-719L233,-721L232,-724L231,-722L227,-722L225,-725L223,-725L219,-729L214,-728L209,-732L205,-732L204,-729L199,-726L192,-729L191,-731L188,-729L185,-729L184,-732L179,-733L179,-734z",
"fr-57":"M795,-852L790,-851L786,-848L785,-846L779,-846L777,-848L776,-848C777,-845,777,-843,777,-843L775,-841L779,-832L781,-831L783,-825L780,-821L783,-818L782,-815L782,-812L778,-812L778,-808L785,-804L784,-798L790,-798L792,-795L799,-795L805,-787L807,-782L811,-782L819,-779L827,-774L827,-773L831,-773L837,-769L843,-769L848,-766L853,-762L857,-761L863,-766L865,-773L863,-776L862,-778L866,-786L857,-791L852,-787L849,-789L850,-792L847,-794L843,-796L843,-800L847,-802L848,-809L851,-812L853,-807L856,-806L863,-805L866,-802L870,-802L873,-804L877,-801L880,-801L882,-803L882,-808L885,-813L884,-813L882,-816L876,-820L873,-824L865,-823L861,-819L850,-818L846,-821C846,-821,845,-824,843,-825C843,-825,843,-825,843,-825C843,-825,843,-825,843,-825C843,-825,843,-825,843,-825C843,-825,843,-825,843,-825C843,-825,843,-825,842,-825C841,-825,838,-827,838,-827L833,-825L833,-821L827,-820L824,-827L822,-827L822,-832L817,-834L817,-842L814,-845L807,-848L804,-848L803,-848L799,-848L795,-852z",
"fr-58":"M600,-661L598,-659L595,-659L591,-660L586,-658L586,-655L590,-651L590,-644L587,-640L588,-636L594,-632L595,-627L598,-620L597,-612L601,-609L600,-600L599,-596L601,-593L599,-585L599,-582L604,-580L608,-575L612,-577L615,-579L616,-576L621,-576L622,-579L625,-578L626,-574L629,-574L635,-583L638,-580L639,-579L644,-583L646,-582L647,-578L651,-579L653,-581L656,-581L658,-584L661,-585L661,-586L666,-586L667,-587L664,-589L664,-592L668,-593L668,-595L664,-597L664,-600L664,-604L662,-605L664,-608L666,-608L667,-611L665,-612L663,-615L666,-618L670,-621L675,-621L675,-624L676,-625L676,-626L674,-630L669,-631L668,-633L668,-636L669,-640L668,-641L663,-638L660,-637L658,-639L658,-644L655,-644L652,-642L652,-644L653,-646L651,-648L649,-646L650,-644L645,-644L638,-650L633,-651L633,-654L629,-656L628,-660L627,-660L627,-654L625,-653L622,-654L619,-652L617,-652L615,-653L613,-652L609,-655L606,-655L604,-657L604,-659L602,-661L600,-661z",
"fr-59":"M564,-996L554,-991L538,-989L537,-989L543,-979L547,-968L555,-967L557,-965L554,-963L554,-959L558,-955L567,-952L577,-952L579,-956L583,-956L584,-952L580,-949L581,-943L587,-941L593,-941L594,-936L597,-935L597,-933L592,-931L592,-929L595,-925L598,-923L597,-921L594,-919L595,-918L600,-918L603,-916L603,-913L601,-911L601,-906L598,-906L595,-906L591,-904L593,-903L597,-903L600,-903L601,-901L599,-897L601,-895L604,-894L607,-896L610,-896L611,-894L613,-894L617,-896L620,-894L626,-898L628,-898L631,-895L636,-899L638,-899L640,-897L647,-896L648,-893L652,-897L654,-897L655,-892L661,-891L663,-892L662,-892L662,-895L669,-899L668,-905L661,-907L663,-909L663,-913L668,-917L667,-919L656,-928L638,-927L636,-923L634,-923L634,-935L629,-941L625,-940L622,-943L616,-940L614,-942L609,-943L608,-947L607,-960L604,-962L604,-964L602,-964L601,-968L597,-967L589,-965L585,-960L581,-960L578,-963L577,-967L574,-970L570,-970L568,-974L568,-979L570,-983L569,-988L564,-996z",
"fr-60":"M516,-869L514,-866L513,-863L516,-863L514,-860L513,-853L515,-850L515,-844L518,-844L517,-842L515,-838L514,-835L517,-832L518,-824L519,-822L517,-821L514,-823L513,-819L514,-819L515,-816L517,-813L526,-812L532,-813L536,-816L542,-813L544,-811L548,-812L552,-814L559,-810L566,-806L568,-803L572,-806L575,-804L577,-803L580,-803L582,-805L587,-803L592,-805L596,-804L599,-807L601,-808L601,-807L602,-812L600,-814L596,-817L594,-814L593,-814L593,-819L596,-820L595,-824L591,-825L593,-828L599,-830L601,-838L604,-839L600,-842L601,-845L602,-855L600,-863L593,-862L589,-863L580,-860L573,-853L567,-855L561,-856L556,-861L548,-863L537,-862L534,-864L528,-864L523,-863L521,-864L521,-868L521,-869L516,-869z",
"fr-61":"M432,-794L425,-793L423,-794L417,-793L417,-790L414,-790L414,-793L411,-793L407,-788L401,-784L394,-782L389,-785L382,-783L379,-787L375,-786L369,-782L362,-784L357,-778L351,-776L354,-774L358,-770L357,-767L357,-764L356,-758L350,-753L352,-750L356,-747L361,-750L364,-748L373,-753L382,-752L387,-754L388,-757L391,-758L394,-755L395,-748L400,-746L401,-740L407,-740L416,-748L425,-748L427,-745L429,-733L434,-731L438,-726L445,-726L445,-724L445,-727L446,-727L451,-720L455,-720L455,-727L452,-730L452,-733L457,-736L462,-737L465,-741L464,-753L457,-759L457,-765L451,-768L453,-772L452,-777L447,-778L444,-782L442,-786L433,-786L430,-790L432,-794z",
"fr-52":"M721,-769L713,-768L712,-759L705,-754L702,-756L700,-752L700,-747L706,-739L711,-737L712,-730L713,-718L711,-715L705,-714L702,-711L704,-709L705,-705L709,-703L715,-697L723,-687L718,-682L721,-680L722,-674L727,-675L728,-672L732,-672L735,-673L740,-667L741,-665L748,-667L750,-670L750,-670L750,-673L754,-675L760,-673L765,-675L768,-675L769,-682L770,-684L767,-684L767,-688L771,-689L772,-692L776,-692L776,-696L780,-697L779,-700L780,-701L777,-703L773,-702L773,-709L764,-713L766,-722L769,-724L768,-727L764,-727L763,-732L759,-732L754,-738L749,-738L747,-742L750,-745L743,-752L740,-753L732,-757L728,-762L721,-763L721,-769z",
"fr-62":"M537,-989L518,-985L504,-974L504,-930L504,-929L509,-927L511,-924L515,-925L517,-928L520,-927L526,-922L528,-923L530,-919L536,-916L536,-913L540,-911L544,-913L553,-914L555,-912L559,-914L560,-911L556,-907L556,-903L557,-901L559,-901L559,-904L562,-906L565,-904L572,-901L575,-901L575,-905L580,-902L580,-899L578,-896L581,-898L584,-900L586,-897L586,-895L591,-898L598,-898L599,-897L601,-901L600,-903L597,-903L593,-903L591,-904L595,-906L598,-906L601,-906L601,-911L603,-913L603,-916L600,-918L595,-918L594,-919L597,-921L598,-923L595,-925L592,-929L592,-931L597,-933L597,-935L594,-936L593,-941L587,-941L581,-943L580,-949L584,-952L583,-956L579,-956L577,-952L567,-952L558,-955L554,-959L554,-963L557,-965L555,-967L547,-968L543,-979L537,-989z",
"fr-63":"M587,-534L582,-529L582,-531L578,-531L578,-528L576,-528L574,-523L572,-521L567,-525L567,-518L570,-514L571,-508L567,-505L566,-500L562,-499L556,-495L557,-492L564,-484L565,-480L562,-475L562,-470L564,-468L565,-462L564,-460L575,-457L577,-452L582,-452L585,-454L588,-452L590,-452L594,-445L599,-445L600,-447L602,-447L603,-449L609,-450L612,-452L616,-453L616,-455L618,-456L619,-454L620,-455L623,-454L627,-454L630,-455L633,-453L635,-453L637,-450L641,-448L642,-452L645,-450L650,-450L652,-453L655,-450L659,-449L660,-451L657,-451L656,-455L663,-461L660,-472L651,-478L648,-486L644,-491L645,-499L648,-501L642,-506L643,-507L638,-509L636,-512L631,-512L628,-513L627,-517L624,-519L620,-516L616,-517L613,-517L603,-518L594,-523L594,-525L590,-529L593,-533L592,-534L587,-534z",
"fr-64":"M374,-284L369,-281L360,-281L359,-283L352,-281L348,-279L344,-282L340,-281L339,-282L334,-282L331,-281L324,-281L320,-278L312,-278L311,-276L309,-277L311,-279L307,-283L302,-278L293,-278L284,-282L283,-280L275,-271L269,-268L265,-268L265,-264L269,-261L275,-260L275,-256L280,-256L281,-259L287,-256L291,-255L292,-251L290,-249L290,-243L285,-241L285,-238L288,-234L293,-233L294,-238L297,-241L297,-237L299,-233L305,-233L308,-230L315,-228L323,-224L335,-224L336,-217L345,-210L348,-207L351,-208L355,-209L356,-207L359,-209L365,-212L366,-219L368,-221L370,-232L374,-231L376,-232L374,-237L383,-244L388,-256L391,-260L388,-266L385,-270L388,-273L383,-283L374,-283L374,-284z",
"fr-65":"M386,-284L382,-283L383,-283L388,-273L385,-270L388,-266L391,-260L388,-256L383,-244L374,-237L376,-232L374,-231L370,-232L368,-221L366,-219L365,-212L366,-213L371,-209L378,-205L379,-201L384,-196L388,-196L399,-201L403,-196L410,-194L412,-198L415,-197L421,-196L421,-214L424,-214L427,-212L429,-214L429,-218L433,-220L432,-226L430,-228L426,-227L428,-230L427,-233L422,-237L422,-240L425,-245L429,-246L429,-249L431,-252L433,-254L427,-257L419,-257L418,-260L414,-260L412,-262L408,-262L407,-261L403,-261L403,-264L399,-266L400,-268L401,-270L400,-271L398,-276L394,-277L390,-279L391,-284L386,-284z",
"fr-66":"M589,-217L582,-213L582,-209L551,-209L552,-203L555,-199L542,-192L540,-193L529,-192L528,-189L522,-188L519,-185L508,-182L509,-179L514,-174L524,-172L524,-166L529,-161L533,-162L539,-169L546,-170L556,-167L566,-159L568,-162L571,-162L573,-160L575,-161L575,-166L585,-168L588,-172L593,-174L600,-174L604,-169L610,-169L610,-174L607,-178L602,-180L602,-209L597,-211L589,-217z","fr-67":"M891,-815L885,-813L882,-808L882,-803L880,-801L877,-801L873,-804L870,-802L866,-802L863,-805L856,-806L853,-807L851,-812L848,-809L847,-802L843,-800L843,-796L847,-794L850,-792L849,-789L852,-787L857,-791L866,-786L862,-778L863,-776L865,-773L863,-766L857,-760L853,-760L855,-758L854,-752L855,-743L862,-742L861,-740L866,-741L869,-737L871,-734L878,-734L881,-726L886,-724L886,-725L894,-741L893,-751L897,-764L898,-775L907,-781L907,-785L910,-789L913,-789L916,-792L915,-798L918,-806L922,-807L918,-810L910,-811L902,-815L898,-812L895,-815L891,-815z",
"fr-68":"M866,-741L861,-740L858,-733L854,-726L855,-721L852,-713L846,-708L846,-695L842,-692L842,-692L843,-689L848,-689L854,-684L855,-682L855,-678L853,-675L854,-671L859,-672L860,-668L861,-661L865,-662L864,-658L867,-656L879,-657L885,-662L885,-669L889,-673L884,-678L882,-683L885,-687L885,-695L886,-699L886,-705L889,-710L886,-714L886,-724L881,-726L878,-734L871,-734L869,-737L866,-741z","fr-69":"M709,-541L705,-541L702,-538L700,-541L697,-538L693,-541L690,-541L689,-540L688,-536L690,-535L690,-531L692,-528L690,-526L683,-526L683,-519L681,-517L682,-512L682,-509L685,-506L685,-502L689,-498L689,-493L687,-490L690,-489L690,-486L688,-484L688,-481L697,-473L708,-471L709,-468L705,-464L708,-462L712,-463L716,-463L723,-466L721,-468L717,-473L724,-475L733,-478L740,-487L736,-491L736,-494L729,-496L725,-495L724,-500L720,-504L718,-504L711,-508L712,-511L712,-522L714,-524L715,-532L714,-529L712,-530L710,-536L709,-541z",
"fr-70":"M795,-709L789,-708L788,-705L785,-702L783,-705L781,-704L782,-702L779,-700L780,-697L776,-696L776,-692L772,-692L771,-689L767,-688L767,-684L770,-684L769,-682L768,-675L765,-675L760,-673L754,-675L750,-673L750,-670L753,-670L756,-664L756,-662L752,-657L750,-656L749,-654L752,-653L753,-648L756,-647L756,-641L758,-639L758,-638L760,-638L763,-635L767,-635L769,-637L772,-637L775,-637L782,-642L783,-642L786,-644L792,-644L798,-648L801,-648L803,-652L806,-653L809,-658L813,-661L818,-662L821,-660L827,-660L827,-664L829,-665L831,-668L835,-668L837,-670L838,-675L838,-679L837,-684L837,-688L839,-690L842,-691L842,-692L831,-697L828,-701L826,-703L823,-701L823,-699L820,-698L818,-698L813,-703L807,-703L804,-701L801,-701L797,-704L797,-708L795,-709z",
"fr-71":"M675,-621L675,-621L670,-621L666,-618L663,-615L665,-612L667,-611L666,-608L664,-608L662,-605L664,-604L664,-600L664,-597L668,-595L668,-593L664,-592L664,-589L667,-587L666,-586L661,-586L661,-585L658,-584L656,-581L653,-581L651,-579L647,-578L646,-582L644,-583L639,-579L645,-568L645,-563L646,-561L652,-561L654,-558L659,-558L661,-555L661,-542L654,-537L654,-537L655,-537L656,-537L656,-531L661,-530L661,-528L664,-528L668,-530L678,-529L680,-527L683,-529L687,-529L689,-540L690,-541L693,-541L697,-538L700,-541L702,-538L705,-541L709,-541L710,-536L712,-530L714,-529L716,-534L722,-558L724,-562L728,-563L732,-560L734,-560L737,-563L741,-562L743,-558L745,-557L753,-558L756,-561L755,-563L751,-564L751,-569L754,-571L755,-576L752,-582L750,-584L751,-585L751,-589L749,-590L748,-593L756,-594L756,-596L754,-596L752,-599L749,-599L746,-604L743,-604L743,-608L740,-608L737,-606L733,-605L730,-606L727,-607L726,-605L723,-605L716,-603L706,-599L703,-602L698,-603L698,-607L694,-610L688,-615L681,-614L675,-621L675,-621z",
"fr-72":"M425,-748L416,-748L407,-740L402,-740L396,-738L394,-735L393,-728L394,-724L389,-720L388,-717L389,-714L387,-711L388,-710L383,-709L382,-707L384,-701L384,-699L382,-697L377,-697L377,-696L378,-694L378,-684L377,-682L380,-679L380,-676L384,-676L397,-672L411,-664L415,-662L418,-666L424,-662L428,-662L426,-668L430,-666L432,-669L442,-672L440,-675L442,-678L447,-680L452,-686L452,-692L455,-692L456,-697L457,-704L453,-707L456,-711L460,-716L455,-720L451,-720L446,-727L445,-727L445,-724L445,-726L438,-726L434,-731L429,-733L427,-745L425,-748z",
"fr-73":"M784,-510L784,-501L782,-499L782,-488L777,-488L777,-481L773,-479L773,-479L773,-477L777,-473L777,-470L781,-463L789,-461L792,-459L793,-460L792,-463L794,-467L796,-468L801,-462L802,-464L805,-464L812,-458L812,-453L809,-451L807,-444L810,-442L810,-439L809,-436L812,-438L815,-436L817,-433L823,-434L825,-432L826,-427L832,-428L832,-433L835,-434L842,-434L842,-434L851,-438L855,-436L859,-436L859,-440L863,-442L865,-444L873,-447L874,-453L873,-455L877,-463L873,-465L872,-470L863,-475C863,-475,863,-485,863,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C862,-487,862,-487,862,-487C861,-487,856,-486,856,-486L851,-492L851,-497L849,-498L846,-495L843,-493L844,-494L841,-500L835,-500L832,-504L834,-506L833,-508L831,-509L828,-506L825,-499L822,-496L820,-491L819,-488L813,-487L812,-489L807,-494L804,-494L803,-492L797,-493L794,-497L788,-498L788,-508L784,-510z",
"fr-74":"M833,-557L826,-555L819,-550L817,-552L813,-552L810,-545L810,-542L814,-539L807,-535L803,-531L796,-531L792,-528L789,-527L787,-524L784,-526L783,-516L785,-513L785,-510L788,-508L788,-498L794,-497L797,-493L803,-492L804,-494L807,-494L812,-489L813,-487L819,-488L820,-491L822,-496L825,-499L828,-506L831,-509L833,-508L834,-506L832,-504L835,-500L841,-500L844,-494L843,-493L846,-495L849,-498L851,-497L851,-503L863,-508L864,-511L863,-518L856,-526L854,-524L854,-527L854,-532L847,-535L847,-538L851,-542L851,-546L845,-552L844,-557L833,-557z",
"fr-75":"M555,-786L551,-786L549,-786L548,-785L546,-784L545,-783L545,-782L545,-781L548,-780L551,-778L553,-778L554,-779L556,-779L556,-779L559,-779L560,-780L560,-781L559,-781L557,-781L557,-780L557,-780L556,-780L557,-781L557,-781L557,-781L556,-784L555,-786z","fr-76":"M491,-900L489,-897L475,-887L450,-880L433,-875L420,-867L412,-855L410,-846L417,-841L426,-839L425,-839L425,-839L432,-840L436,-844L439,-845L442,-839L447,-839L449,-836L457,-837L465,-831L459,-829L463,-827L466,-827L468,-822L471,-822L473,-825L470,-827L478,-829L486,-830L488,-836L492,-840L500,-840L509,-835L514,-835L515,-838L517,-842L518,-844L515,-844L515,-850L513,-853L514,-860L516,-863L513,-863L514,-866L518,-870L514,-876L513,-882L499,-896L497,-899L494,-899L491,-900z",
"fr-77":"M601,-808L599,-807L596,-804L592,-805L587,-803L582,-805L580,-803L577,-803L575,-804L572,-806L568,-803L568,-804L566,-795L568,-783L568,-775L566,-769L566,-764L564,-762L565,-753L564,-752L563,-743L565,-740L558,-735L558,-729L560,-726L564,-724L564,-718L559,-714L562,-712L565,-714L574,-714L578,-714L579,-717L582,-717L583,-714L591,-719L594,-722L598,-727L595,-730L598,-735L603,-738L616,-737L619,-739L619,-739L620,-745L621,-751L624,-754L624,-758L629,-760L629,-763L624,-762L623,-765L624,-767L623,-772L620,-774L621,-779L624,-780L623,-782L624,-783L619,-785L617,-788L614,-789L605,-798L604,-805L601,-808z",
"fr-78":"M507,-805L507,-805L498,-802L496,-801L498,-798L498,-795L501,-795L499,-793L499,-792L500,-792L503,-788L504,-785L506,-782L505,-778L505,-775L507,-772L505,-768L507,-763L512,-760L513,-756L517,-755L518,-748L521,-745L526,-744L527,-749L529,-751L527,-754L532,-754L535,-759L533,-763L533,-766L538,-768L539,-772L542,-773L545,-774L546,-774L546,-774L543,-778L541,-783L544,-789L542,-794L537,-797L528,-798L521,-803L515,-801L507,-805z","fr-79":"M390,-618L381,-618L373,-616L364,-616L364,-611L359,-608L349,-611L342,-608L346,-603L346,-599L353,-593L351,-588L357,-582L354,-579L358,-575L359,-565L357,-563L359,-559L357,-555L357,-552L360,-554L363,-551L358,-548L357,-546L353,-545L349,-543L349,-543L349,-538L352,-534L352,-532L358,-528L364,-528L369,-522L376,-522L383,-518L387,-516L388,-513L390,-510L394,-512L393,-514L395,-516L395,-519L400,-520L405,-523L411,-524L413,-527L407,-529L405,-532L407,-537L409,-539L409,-545L407,-546L404,-545L404,-543L402,-541L400,-544L399,-546L400,-548L398,-550L398,-558L396,-558L396,-561L399,-564L399,-566L400,-570L399,-572L396,-574L399,-579L400,-582L400,-584L398,-587L398,-588L399,-590L398,-592L400,-594L399,-598L398,-604L397,-608L394,-607L394,-615L393,-614L391,-616L390,-618z",
"fr-80":"M504,-929L503,-918L510,-911L510,-908L501,-913L491,-900L494,-899L497,-899L499,-896L513,-882L514,-876L518,-870L516,-869L521,-869L521,-868L521,-864L523,-863L528,-864L534,-864L537,-862L548,-863L556,-861L561,-856L567,-855L573,-853L580,-860L589,-863L593,-862L600,-863L600,-866L598,-873L597,-877L600,-880L600,-885L605,-889L604,-894L601,-895L598,-898L591,-898L586,-895L586,-897L584,-900L581,-898L578,-896L580,-899L580,-902L575,-905L575,-901L572,-901L565,-904L562,-906L559,-904L559,-901L557,-901L556,-903L556,-907L560,-911L559,-914L555,-912L553,-914L544,-913L540,-911L536,-913L536,-916L530,-919L528,-923L526,-922L520,-927L517,-928L515,-925L511,-924L509,-927L504,-929z",
"fr-81":"M539,-337L534,-337L530,-333L529,-336L526,-335L526,-335L524,-334L519,-332L516,-329L505,-328L504,-323L508,-323L504,-320L502,-316L497,-316L500,-313L498,-310L499,-310L500,-306L504,-302L505,-301L505,-297L508,-292L510,-289L510,-286L508,-285L510,-283L517,-279L519,-277L523,-273L527,-271L531,-272L531,-268L531,-266L532,-266L532,-264L539,-264L545,-262L545,-268L548,-268L558,-266L568,-266L575,-268L577,-274L572,-279L573,-284L576,-288L581,-284L593,-289L595,-292L588,-296L586,-297L584,-295L580,-294L575,-297L569,-304L569,-308L566,-313L566,-316L563,-323L558,-325L555,-332L545,-333L539,-337z",
"fr-82":"M454,-358L452,-350L456,-347L454,-340L452,-338L453,-334L447,-333L442,-331L444,-327L441,-326L443,-325L447,-325L450,-326L452,-325L448,-323L448,-320L444,-317L444,-313L451,-313L453,-311L453,-307L455,-305L453,-301L454,-300L458,-301L467,-301L469,-303L472,-303L475,-299L483,-301L485,-304L482,-306L484,-307L485,-310L488,-309L490,-307L491,-310L496,-311L498,-310L500,-313L497,-316L502,-316L504,-320L508,-323L504,-323L505,-328L516,-329L519,-332L524,-334L526,-335L524,-340L526,-345L522,-346L521,-353L514,-350L509,-351L506,-347L501,-348L500,-342L498,-342L497,-345L496,-347L493,-346L488,-341L482,-341L481,-345L481,-348L480,-349L478,-346L475,-346L473,-350L470,-350L468,-353L470,-356L470,-358L466,-357L466,-356L459,-355L454,-358z",
"fr-83":"M853,-310L848,-310L846,-308L837,-308L829,-302L824,-306L815,-303L814,-300L808,-296L797,-303L789,-300L788,-298L788,-298L794,-294L787,-289L784,-284L787,-281L787,-274L792,-269L791,-268L784,-268L784,-266L787,-264L787,-263L785,-261L786,-259L789,-259L791,-257L791,-255L788,-253L786,-251L786,-244L787,-243L792,-240L794,-234L798,-233L801,-235L807,-239L817,-238L817,-235L813,-234L821,-233L819,-235L819,-240L823,-243L828,-241L830,-240L831,-238L834,-240L834,-244L837,-246L844,-246L846,-249L850,-248L856,-250L856,-259L849,-259L854,-262L857,-265L857,-271L867,-272L872,-278L868,-282L868,-284L867,-286L869,-288L868,-291L865,-292L862,-292L859,-296L858,-302L854,-304L851,-304L849,-308L853,-310z",
"fr-84":"M734,-364L730,-363L726,-358L727,-352L732,-351L732,-348L727,-348L722,-343L721,-345L722,-351L720,-354L711,-352L709,-349L710,-348L716,-339L716,-332L726,-322L726,-318L722,-316L722,-316L734,-311L739,-305L741,-302L748,-299L756,-299L768,-294L776,-293L784,-295L788,-298L789,-300L782,-308L774,-308L774,-311L777,-313L777,-317L771,-320L771,-324L774,-326L774,-330L770,-331L770,-335L770,-335L767,-336L762,-339L761,-344L751,-344L745,-345L744,-349L746,-354L742,-350L735,-351L734,-353L739,-359L734,-364z","fr-85":"M317,-618L315,-615L310,-615L312,-612L311,-607L306,-605L304,-607L305,-612L303,-615L300,-615L298,-613L299,-605L302,-602L299,-599L295,-600L288,-601L286,-607L282,-607L276,-609L275,-613L268,-617L259,-604L258,-596L269,-587L268,-584L271,-584L277,-565L284,-562L290,-555L298,-555L301,-549L308,-549L311,-544L319,-540L319,-545L321,-543L331,-549L335,-549L337,-544L344,-547L349,-543L353,-545L357,-546L358,-548L363,-551L360,-554L357,-552L357,-555L359,-559L357,-563L359,-565L358,-575L354,-579L357,-582L351,-588L353,-593L346,-599L346,-603L342,-608L343,-608L338,-612L330,-612L327,-613L324,-614L319,-618L317,-618z",
"fr-86":"M402,-625L395,-618L394,-615L394,-607L397,-608L398,-604L399,-598L400,-594L398,-592L399,-590L398,-588L398,-587L400,-584L400,-582L399,-579L396,-574L399,-572L400,-570L399,-566L399,-564L396,-561L396,-558L398,-558L398,-550L400,-548L399,-546L400,-544L402,-541L404,-543L404,-545L407,-546L409,-545L409,-539L407,-537L405,-532L407,-529L413,-527L411,-524L407,-523L411,-518L417,-518L422,-520L427,-517L429,-519L428,-523L431,-525L434,-521L436,-519L442,-521L444,-524L450,-524L453,-523L453,-529L451,-532L453,-534L458,-538L465,-539L465,-543L468,-546L477,-547L478,-552L474,-554L472,-561L467,-562L464,-565L458,-570L459,-574L459,-580L453,-586L452,-591L447,-596L445,-604L443,-605L440,-609L437,-607L438,-604L429,-602L420,-602L420,-606L420,-612L412,-614L412,-618L406,-619L405,-625L402,-625z",
"fr-87":"M487,-549L484,-546L476,-547L475,-547L468,-546L465,-543L465,-539L458,-538L453,-534L451,-532L453,-529L453,-520L451,-517L454,-514L458,-514L459,-509L460,-506L454,-505L451,-504L451,-496L447,-493L444,-492L443,-488L440,-487L439,-482L446,-482L448,-479L447,-475L450,-471L452,-472L454,-475L465,-474L466,-468L474,-467L475,-464L470,-462L473,-461L480,-460L480,-458L482,-462L486,-460L490,-466L493,-466L495,-469L501,-468L504,-471L507,-471L509,-475L513,-476L516,-480L519,-479L522,-479L524,-482L522,-483L521,-487L524,-487L524,-489L519,-492L515,-494L515,-498L514,-498L512,-496L507,-495L503,-496L503,-499L507,-502L505,-505L499,-504L500,-517L497,-520L494,-527L490,-528L489,-532L493,-540L493,-545L492,-544L487,-549z",
"fr-88":"M855,-758L852,-758L846,-756L844,-753L841,-751L835,-748L834,-748L830,-749L826,-750L825,-754L822,-753L822,-748L820,-750L817,-748L813,-746L809,-747L806,-746L803,-748L801,-746L796,-746L794,-742L783,-741L781,-744L777,-745L778,-746L780,-748L778,-749L778,-754L773,-754L770,-753L768,-751L763,-749L763,-751L761,-751L761,-749L755,-747L755,-745L749,-744L747,-742L749,-738L754,-738L759,-732L763,-732L764,-727L768,-727L769,-724L766,-722L764,-713L773,-709L773,-702L777,-703L780,-701L782,-702L781,-704L783,-705L785,-702L788,-705L789,-708L795,-709L797,-708L797,-704L801,-701L804,-701L807,-703L813,-703L818,-698L820,-698L823,-699L823,-701L826,-703L828,-701L831,-697L842,-692L846,-695L846,-708L852,-713L855,-721L854,-726L858,-733L862,-742L855,-743L854,-752L855,-758L855,-758z",
"fr-89":"M619,-739L616,-737L603,-738L598,-735L595,-730L598,-727L594,-722L591,-719L597,-713L598,-708L603,-703L603,-697L594,-690L597,-687L597,-682L592,-679L585,-679L586,-675L591,-669L592,-664L593,-660L591,-660L595,-659L598,-659L600,-661L602,-661L604,-659L604,-657L606,-655L609,-655L613,-652L615,-653L617,-652L619,-652L622,-654L625,-653L627,-654L627,-660L628,-660L629,-656L633,-654L633,-651L638,-650L645,-644L650,-644L649,-646L651,-648L653,-646L652,-644L652,-642L655,-644L658,-644L658,-639L660,-637L663,-638L668,-641L668,-642L664,-644L664,-647L668,-649L669,-651L668,-652L668,-656L671,-660L674,-668L675,-672L677,-672L678,-673L676,-674L676,-677L680,-680L681,-684L680,-687L677,-687L676,-688L676,-692L680,-694L679,-697L679,-699L677,-695L675,-696L673,-699L666,-696L653,-697L652,-700L648,-705L647,-711L642,-717L639,-715L633,-720L634,-728L625,-737L621,-737L619,-739z",
"fr-90":"M842,-691L839,-690L837,-688L837,-684L838,-679L838,-675L837,-670L835,-668L856,-659L857,-661L861,-661L860,-668L859,-672L854,-671L853,-675L855,-678L855,-682L854,-684L848,-689L843,-689L842,-691z","fr-91":"M545,-774L542,-773L539,-772L538,-768L533,-766L533,-763L535,-759L532,-754L527,-754L529,-751L527,-749L526,-744L527,-743L528,-739L529,-738L529,-729L540,-730L544,-734L548,-731L557,-730L558,-729L558,-735L565,-740L563,-743L564,-752L565,-753L564,-762L566,-764L566,-769L562,-770L556,-770L553,-772L550,-771L545,-774z",
"fr-92":"M550,-792L544,-789L544,-789L541,-782L543,-778L546,-774L546,-774L550,-771L551,-771L550,-773L551,-775L551,-776L551,-778L551,-778L548,-780L545,-781L545,-782L545,-783L546,-784L548,-785L549,-786L551,-786L550,-788L551,-788L552,-789L551,-791L550,-791L550,-792z","fr-93":"M566,-797L563,-795L559,-792L550,-792L550,-791L551,-791L552,-789L551,-788L550,-788L551,-786L555,-786L556,-784L557,-781L558,-782L559,-783L561,-783L564,-781L565,-780L566,-779L566,-779L568,-778L568,-783L566,-794L566,-797z","fr-94":"M559,-783L558,-782L557,-781L557,-781L556,-780L557,-780L557,-780L557,-781L559,-781L560,-781L560,-780L559,-779L556,-779L556,-779L554,-779L553,-778L551,-778L551,-776L551,-775L550,-773L551,-771L553,-772L556,-770L562,-770L565,-769L565,-769L568,-775L568,-778L566,-779L566,-779L565,-780L564,-781L561,-783L559,-783z",
"fr-95":"M514,-819L511,-816L509,-809L507,-805L515,-801L521,-803L528,-798L537,-797L542,-794L544,-789L544,-789L544,-789L550,-792L559,-793L564,-795L567,-797L568,-804L566,-806L559,-810L552,-814L548,-812L544,-811L542,-813L536,-816L532,-813L526,-812L517,-813L515,-816L514,-819z"}}})},"anaplan/api/Fetchers/Base/Fetchable":function(){define(["anaplan/api/Fetchers/Entities/Base/LabelPageWithDataPages","anaplan/api/Fetchers/Base/ViewRequest","dojo/_base/lang","dojo/_base/declare","dojo/Deferred"],function(l,
s,p,q,f){return q([s],{entitiesClass:l,axesIdentifiers:{rows:null,columns:null},fetchById:function(f){return this.fetchAll().then(function(l){return l.getItemById(f)})},fetchByName:function(f){return this.fetchAll().then(function(l){return l.getItemByEntityId(f)})},fetchAll:function(){var f=this.buildViewRequest();return this._fetch(f).then(function(f){f=f[0];var k=new this.entitiesClass;k.setLabelPageWithData(f.rowLabelPages[0],f.columnLabelPages[0],f.dataPages[0]);return k}.bind(this))},buildViewRequest:function(){return this.buildFetchAllDefinitionsRequest(this.axesIdentifiers.rows,
this.axesIdentifiers.columns)}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(l,s,p){var q=function(f){function k(k){f[k]=function(){var h=arguments,e=p(f,function(e){Array.prototype.unshift.call(h,e);return q(l[k].apply(l,h))});if("forEach"!==k||n)return e}}if(!f)return f;var n=!!f.then;n&&(f=s.delegate(f));k("forEach");k("filter");k("map");null==f.total&&(f.total=p(f,function(f){return f.length}));return f};s.setObject("dojo.store.util.QueryResults",
q);return q})},"anaplan/charts/Map":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/charts/MapShapes anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/UIHelper dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,q,f,k,n,m,h,e){l=h([l],{_createChart:function(f){try{if(this._chartContainer){var d=f[0],a=f[1];this._highChart&&(this._highChart.destroy(),this._highChart=null);var h=this._getChartOptions(d,
a);if(!h)return this._displayMessage(s.getInvalidSelectionMessage()),!1;this._highChart=new Highcharts.Map(e.mixin(this._options||{},h));return!0}}catch(b){return n.showErrorReporter(new k.ClientException(this.id+" _createChart",b,{widgetId:this.id})),!1}},_getChartOptions:function(e,d){var a=this._getMapSeries(e,d),f=this._getTitle(d),b=this._getSubTitle(this.chartConfig.map.dataPoint),h=this._getSubTitleYPosition();return{chart:{renderTo:this._chartContainer,type:"map"},colors:["#000000"],xAxis:{labels:{enabled:!1},
lineWidth:0,tickLength:0,minorTickLength:0,gridLineWidth:0,minorGridLineWidth:0,title:{text:null}},yAxis:{labels:{enabled:!1},lineWidth:0,tickLength:0,minorTickLength:0,gridLineWidth:0,minorGridLineWidth:0,title:{text:null}},plotOptions:{series:{borderWidth:0.7}},title:{text:f},subtitle:{text:b,y:h},credits:{enabled:!1},legend:{enabled:!1},series:a}},_getMapSeries:function(f,d){var a=this._getShapes(f),h=this._getSeriesData(f,d,a),a=this._getSeriesMapData(f,a),b=this._getSeriesName(this.chartConfig.map.dataPoint);
return[{cursor:"pointer",data:h,mapData:a,joinBy:"name",dataLabels:{enabled:this.chartConfig.map.regionLabels,format:"{point.key}",style:{textOutline:!1}},name:b,point:{events:{click:e.partial(this._pointClick,this.id)}}}]},_getSeriesData:function(f,d,a){if(void 0===f.cells.cellValues)return[];var h=this._contentBox.w/800,b=this._contentBox.h/550;d=e.clone(a===p.US_SHAPES?{"us-ak":{y:-10},"us-ca":{x:-10,y:20},"us-dc":{},"us-fl":{x:40},"us-id":{y:40},"us-hi":{y:15},"us-la":{x:-20},"us-tn":{y:5}}:{});
for(var k in d)if(d.hasOwnProperty(k)){var l=d[k];l.x&&(l.x=Math.floor(l.x*h));l.y&&(l.y=Math.floor(l.y*b))}k=f.rows.entityCodes[0];var h=f.rows.labels[0],b=f.rows.entityLongIds[0],l=f.cells.cellValues,n=f.cells.cellText,q=f.cells.bgColors,y=this._model.getRowAxisIdentifier(),w=f.columns.entityLongIds[0],x=m.indexOf(w,this.chartConfig.map.barLabel),w=m.indexOf(w,this.chartConfig.map.dataPoint),A=[];if(a)for(var D=0;D<k.length;D++){var E=D*f.dataColumnCount,B;B=-1<x?s.getLabel(n[E+x]||""):"";var C=
k[D];C&&C.length&&a&&a.hasOwnProperty(C.toLowerCase())&&A.push({y:parseFloat(l[E+w]),cellText:n[E+w],name:h[D],key:B,row:D,dataLabels:d[C.toLowerCase()],color:q[E+w],itemContext:[{label:h[D],entityLongId:b[D],axisIdentifier:y}]})}return A},_getSeriesMapData:function(e,d){var a=e.rows.entityCodes[0],f=a.length,b=e.rows.labels[0],h=[],k,l;for(l=0;l<f;l++)(k=a[l])&&d.hasOwnProperty(k.toLowerCase())&&h.push({name:b[l],path:d[k.toLowerCase()]});return h},_getSeriesName:function(e){return s.getLineItemLabel(e,
this._model.getModuleEntityLongId())},_getSubTitle:function(e){return this._getSeriesName(e)},_getShapes:function(){return p[this.chartConfig.map.mapType||this.chartConfig.mapType]},setChartOptions:function(g){var d=this._model,a=s.getEntityLongIdIdentifiersForChartOptions(q.chartType.MAP,g.map);try{var h=d.getViewDefinition();d.isLineItemsOnColumns()?(h.columnAxisSpecification=f.removeSelectionFromAxisSpecification(h.columnAxisSpecification),h.columnAxisSpecification=f.addSelectionToAxisSpecification(h.columnAxisSpecification,
"SHOW",a)):d.isLineItemsOnRows()&&(h.rowAxisSpecification=f.removeSelectionFromAxisSpecification(h.rowAxisSpecification),h.rowAxisSpecification=f.addSelectionToAxisSpecification(h.rowAxisSpecification,"SHOW",a));d.reset();d.setViewDefinition(h);this.chartConfig=e.mixin(this.chartConfig,g)}catch(b){n.showErrorReporter(new k.ClientException(this.id+" setChartOptions",b,{widgetId:this.id}))}},_updateSeries:function(e,d){var a=this._getShapes(e),f=this._getSeriesData(e,d,a);this._highChart.series[0].setData(f,
!1);this._highChart.series[0].mapData=this._getSeriesMapData(e,a);return!0}});e.mixin(l,p);return l})},"anaplan/dashboard/dashboardWidgets/_DashboardWidgetToolbar":function(){define(["anaplan/constants","anaplan/data/ModelContentCache","anaplan/widgets/Toolbar","dojo/_base/declare","dojo/dom-class"],function(l,s,p,q,f){return q([p],{postCreate:function(){this.inherited(arguments);f.add(this.domNode,"dashboardWidgetToolbar");s.hasEntitlement(l.ENTITLED_FEATURES.QUICK_FILTER)&&f.add(this.domNode,"dashboardWidgetToolbar--has-hover")}})})},
"anaplan/widgets/ErrorReporter":function(){define("anaplan/data/UserInfo anaplan/Exceptions anaplan/utils/FormatHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_WidgetBase dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/errorReporter dojo/text!anaplan/templates/ErrorReporter.html dojo/_base/config dojo/_base/declare dojo/dom-class dojo/json dojo/_base/lang dojo/aspect dojo/has dojo/sniff dijit/TitlePane dijit/form/Textarea anaplan/widgets/Button".split(" "),function(l,
s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u){return d([n,f,k,q],{baseClass:"errorReporter",currentException:null,minimal:!1,reportableProperties:"argument cell.cellText cell.format.dataType cell.format.hierarchyEntityLongId cell.isEditable cell.originalText child.displayName child.entityLongId child.iconClass child.name closable command rowIndex columnIndex rowNestingIndex columnNestingIndex description entityLongId event.altKey event.charCode event.clientX event.clientY event.ctrlKey event.currentTarget.node event.currentTarget.id event.keyChar event.keyCode event.metaKey event.relatedTarget.node event.relatedTarget.id event.screenX event.screenY event.shiftKey event.target.node event.target.id event.timestamp fileName httpStatus httpStatusText i18nName id index initialized isEditable isEmpty isInsertMode item item.name item.index label length line lineNumber modelId name number observers operation pageLabelIndex parent parent.displayName parent.entityLongId parent.id parent.name row size.h size.w sourceURL stack startColumn state text title treeNode.id treeNode.node update.columnIndex update.rowIndex update.rowNestingIndex update.columnNestingIndex update.value value widgetId workspaceId requestSerialNumber canceled silentlyCancelled inFlightRequestSerialNumber".split(" "),
templateString:e,setDetailPaneOpen:function(a){this._detailPane.set("open",a)},setException:function(b){s.isException(b)?this.currentException=b:this.currentException=new s.ClientException(null,b);this._errorClass="info";if(this.currentException instanceof s.TransportException||this.currentException instanceof s.UnableToCommunicateWithServerException||this.currentException instanceof s.ServerTimeoutException||this.currentException instanceof s.ParseException||this.currentException instanceof s.InvalidResponseException)this._errorClass=
"commsFailure";else if(this.currentException instanceof s.ClientException||this.currentException instanceof s.ServerException||this.currentException instanceof s.IllegalStateException||this.currentException instanceof s.InvalidArgumentException)this._errorClass="warning";a.remove(this._icon,"info");a.remove(this._icon,"commsFailure");a.remove(this._icon,"warning");a.add(this._icon,this._errorClass);b=this.currentException.getLocalizedMessage();this._errorMessage.innerHTML=p.escapeHtmlRetainFormatting(b,
!1);b=this._setStackTrace(this.currentException);this._setHelpMessage(this.currentException.getLocalizedHelpMessage());return b},postCreate:function(){this.inherited(arguments);this._showErrorDetails=h.showErrorDetails;this._hideErrorDetails=h.hideErrorDetails;this._defaultErrorMessage=h.defaultErrorMessage;this._defaultHelpMessage1.innerHTML=h.defaultHelpMessage1;this._defaultHelpMessage2.innerHTML=h.defaultHelpMessage2;this._defaultHelpMessage3.innerHTML=h.defaultHelpMessage3;this._defaultHelpMessage4.innerHTML=
h.defaultHelpMessage4;this._defaultHelpMessage5.innerHTML=h.defaultHelpMessage5;this._defaultHelpMessage6.innerHTML=h.defaultHelpMessage6;this._defaultHelpMessage7.innerHTML=h.defaultHelpMessage7;this._okButton.set("label",m.buttonOk);this._mailToButton.set("label",h.mailToSupport);this._detailPane.set("title",this._showErrorDetails);this.own(t.after(this._detailPane,"toggle",b.hitch(this,"_onDetailPaneToggle")))},showMinimalInterface:function(b){(this.minimal=b)?(a.add(this.domNode,"minimal"),this._defaultHelpMessage.style.display=
"none",this._mailToButton.domNode.style.display="none",this._detailPane.domNode.style.display="none"):(a.remove(this.domNode,"minimal"),this._defaultHelpMessage.style.display="",this._mailToButton.domNode.style.display="",this._detailPane.domNode.style.display="")},enforceTextWrap:function(b){b?a.add(this._errorMessage,"enforce-text-wrap"):a.remove(this._errorMessage,"enforce-text-wrap")},useDefaultErrorMessage:function(){this._errorMessage.innerHTML=this._defaultErrorMessage;this._errorDetail.set("value",
this._defaultErrorMessage);return this._defaultErrorMessage},useDefaultHelpMessage:function(){this._showDefaultHelpMessage()},_checkMessage:function(a,b){var d="";null!=a&&(d=b?p.escapeHTML(a):a);return d},_close:function(){this.setDetailPaneOpen(!1);var a=this.getParent();a&&a.hide&&a.hide()},_handleCloseLink:function(){this._close()},_handleReloadLink:function(){window.location.reload()},_hideDefaultHelpMessage:function(){this._defaultHelpMessage.style.display="none";this._helpMessage.style.display=
""},_onConfirmButtonClick:function(){try{this._close()}catch(a){alert("An error occurred when closing the error dialog: "+a)}},_onDetailPaneToggle:function(){try{var a=this.getParent();this._detailPane.open?this._detailPane.set("title",this._hideErrorDetails):this._detailPane.set("title",this._showErrorDetails);a.centreInViewport&&a.centreInViewport()}catch(b){alert("An error occurred when toggling the error detail pane: "+b)}},_onMailToButtonClick:function(){try{if(this.currentException){for(var a=
h.errorReport,b=this._body||[],d=1;5>=d;++d)h["errorRepro"+d]&&(b.push(h["errorRepro"+d]),b.push(""));var e,d=0,f=/^Win.*$/.test(navigator.platform);do e&&(1<b.length?(b.pop(),++d):b[0]=b[0].substring(0,b[0].length-1)),e="mailto:support@anaplan.com?subject\x3d"+window.escape(a)+"\x26body\x3d"+window.escape(b.join("\n"));while(e.length>(f?2E3:1E4));window.location.href=e}}catch(g){console.error(g.message),g.stack&&console.error(g.stack),alert("An error occurred when processing the mail request: "+
g.message)}},_setHelpMessage:function(a){null===a?this.minimal?this._hideDefaultHelpMessage():this._showDefaultHelpMessage():(this._hideDefaultHelpMessage(),this._helpMessage.innerHTML=this._checkMessage(a,!1))},_setStackTrace:function(a){var b=null;try{b=a.getStackTrace(!0)}catch(d){console.warn("Failed to get stack trace: "+d.toString())}a=['errorReference\x3d"'+(window.workspaceServerGuid+"-"+p.createUUID()||"")+'"'];l&&a.push('userId\x3d"'+(l.getLoggedInUserGuid()||"")+'"');a.push('workspaceId\x3d"'+
(workspaceId||"")+'"');a.push('modelId\x3d"'+(modelId||"")+'"');a.push('userAgent\x3d"'+(navigator.userAgent||"")+'"');a.push('locale\x3d"'+(g.locale||"")+'"');a.push('quirks\x3d"'+u("quirks")+'"');a.push('clientTimeNow\x3d"'+(new Date).toString()+'"');a.push('sessionId\x3d"'+(sessionId||"")+'"');a.push('path\x3d"'+(window.location.pathname||"")+'"');if(b)for(var e=b.length;0<=e&&e+10>b.length;--e){var f=b[e];if(f)if(f.props&&f.props.stack)a.push(f.props.stack);else{var h="";f.props&&(f.props.fileName&&
(h+=f.props.fileName),f.props.lineNumber&&(h+=":"+f.props.lineNumber),h||(h=f.props.widgetId||""));h&&(h+=": ");var k=RegExp(p.getNewLinePlaceHolder(),"gim");f.message=f.message.replace(k,"\n");a.push(h+f.message)}}else a.push(this._defaultErrorMessage);b=a.join("\n");this._errorDetail.set("value",b);this._body=a;return b},_showDefaultHelpMessage:function(){this._helpMessage.style.display="none";this._defaultHelpMessage.style.display=""}})})},"anaplan/widgets/Tree/TreeNode":function(){define("anaplan/widgets/Tree/ShimmedPromise anaplan/widgets/Tree/PageLink dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx dojo/has dojo/keys dojo/on dojo/promise/all dojo/string dojo/touch dijit/_base/manager dijit/_Container dijit/form/TextBox dijit/Tree anaplan/Exceptions anaplan/utils/UIHelper dojo/i18n!anaplan/nls/tree dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B){return q(A._TreeNode,{collapse:function(){var b,d;if(this._collapseDeferred)return l(this._collapseDeferred);this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this===this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");h.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();
this._updateItemClasses(this.item);this._pageBackLink&&this._pageBackLink.hide();this._pageForwardLink&&this._pageForwardLink.hide();b=a.wipeOut({node:this.containerNode,duration:y.defaultDuration});d=this._collapseDeferred=new m(function(){b.stop()});n.after(b,"onEnd",function(){d.resolve(!0)},!0);b.play();return l(d)},destroyRendering:function(){this.inherited(arguments);this._destroyPageBackLink();this._destroyPageForwardLink()},edit:function(){try{this._edit(this.tree.model.getLabel(this.item))}catch(a){throw new D.ClientException("TreeNode#edit",
a);}},editWithValue:function(a){try{this._edit(a)}catch(b){throw new D.ClientException("TreeNode#editWithValue",b);}},endEdit:function(){try{this._hideEditTextBox()}catch(a){throw new D.ClientException("TreeNode#endEdit",a);}},expand:function(){var b=this,d,e;if(this._expandDeferred)return l(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==
this.tree.rootNode)&&this.containerNode.setAttribute("role","group");h.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this===this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");d=a.wipeIn({node:this.containerNode,duration:y.defaultDuration});e=this._expandDeferred=new m(function(){d.stop()});n.after(d,"onEnd",function(){b._destroyed||(b._pageBackLink&&b._pageBackLink.show(),b._pageForwardLink&&b._pageForwardLink.show(),
e.resolve(!0))},!0);d.play();return l(e)},focus:function(){try{!this._editTextBox||!this._editTextBox.domNode||"none"===this._editTextBox.domNode.style.display?this.inherited(arguments):this._editTextBox.focus()}catch(a){throw new D.ClientException("TreeNode#focus",a);}},goToFirstPage:function(){try{this._allItems&&this._leafPageSize&&this.setChildItems(this._allItems,this._leafPageSize,0)}catch(a){throw new D.ClientException("TreeNode#goToFirstPage",a);}},isPending:function(){return this._isPending},
pageBack:function(){try{if(this._pageBackFn)return this._pageBackFn(),!0}catch(a){throw new D.ClientException("TreeNode#pageBack",a);}return!1},pageForward:function(){try{if(this._pageForwardFn)return this._pageForwardFn(),!0}catch(a){throw new D.ClientException("TreeNode#pageForward",a);}return!1},postCreate:function(){try{this.inherited(arguments),this._editTextBox=null,this._editTextBoxConnections=[],this._isPending=!1,this.own(this.on(z.press,k.hitch(this,function(a){(a.target===this.expandoNode||
a.target===this.expandoNodeText)&&a.stopPropagation()})))}catch(a){throw new D.ClientException("TreeNode#postCreate",a);}},onCancelEdit:function(){},onCommitEdit:function(){},onEndEdit:function(){},setChildItems:function(a,b,d){var e=this.tree,f=e.model,g=[],h,m;this._allItems=a;this._leafPageSize=b;h=this.getChildren();p.forEach(h,function(a){w.prototype.removeChild.call(this,a)},this);this.defer(function(){p.forEach(h,function(a){var b,d,g,h;if(!a._destroyed&&!a.getParent()){e.dndController.removeTreeNode(a);
b=function(a){var d=f.getIdentity(a.item),g=e._itemNodesMap[d];1===g.length?delete e._itemNodesMap[d]:(d=p.indexOf(g,a),-1!==d&&g.splice(d,1));p.forEach(a.getChildren(),b)};b(a);if(e.persist){d=p.map(a.getTreePath(),function(a){return e.model.getIdentity(a)}).join("/");h=e._openedNodes;for(g in h)h.hasOwnProperty(g)&&g.substr(0,d.length)===d&&delete h[g];e._saveExpandedNodes()}a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,d=d||0,m=b||a.length,m=Math.min(d+m,a.length),
0<d?this._createPageBackLink(Math.min(d,b),k.hitch(this,"setChildItems",a,b,d-b)):this._destroyPageBackLink(),m<a.length?this._createPageForwardLink(Math.min(a.length-m,b),k.hitch(this,"setChildItems",a,b,m)):this._destroyPageForwardLink(),p.forEach(a.slice(d,m),function(a){var b=f.getIdentity(a),d=e._itemNodesMap[b],h,k,l;if(d){k=0;for(l=d.length;k<l;k++)if(d[k]&&!d[k].getParent()){h=d[k];h.set("indent",this.indent+1);break}}h||(h=this.tree._createTreeNode({item:a,tree:e,isExpandable:f.mayHaveChildren(a),
label:e.getLabel(a),tooltip:e.getTooltip(),ownerDocument:e.ownerDocument,dir:e.dir,lang:e.lang,textDir:e.textDir,indent:this.indent+1}),d?d.push(h):e._itemNodesMap[b]=[h]);this.addChild(h);(this.tree.autoExpand||this.tree._state(h))&&g.push(e._expandNode(h))},this),p.forEach(this.getChildren(),function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=u(g);this.tree._startPaint(a);return l(a)},setPending:function(a){try{this._isPending=
a,d.set(this.rowNode,"backgroundColor",a?"#bbffbb":""),d.set(this.contentNode,"color",a?"black":"")}catch(b){throw new D.ClientException("TreeNode#setPending",b);}},setSelected:function(){this.inherited(arguments);h.remove(this.rowNode,"dijitTreeNodeHover")},uninitialize:function(){try{this._destroyEditTextBox(),this.inherited(arguments)}catch(a){throw new D.ClientException("TreeNode#uninitialize",a);}},_createEditTextBox:function(){var a;try{a=new x({style:"position: absolute; top: -1000px; left: -1000px; display: none;"}),
e.place(a.domNode,this.tree.domNode),a.startup(),this._editTextBox=a}catch(b){throw new D.ClientException("TreeNode#_createEditTextBox",b);}return a},_createPageBackLink:function(a,b){try{this._pageBackFn=b,this._pageBackLink||(this._pageBackLink=new s({style:"padding-left: "+this._getPaddingForPageLinks()+"px;"+("none"===this.containerNode.style.display?" display: none;":"")})),this._pageBackLink.set("label",v.substitute(B.buttonPageBack,{previousCount:a})),e.place(this._pageBackLink.domNode,this.containerNode,
"before"),this._pageBackLinkConnection&&this._pageBackLinkConnection.remove(),this._pageBackLinkConnection=t(this._pageBackLink,"click",function(a){a.stopPropagation();b()})}catch(d){throw new D.ClientException("TreeNode#_createPageBackLink",d);}},_createPageForwardLink:function(a,b){try{this._pageForwardFn=b,this._pageForwardLink||(this._pageForwardLink=new s({style:"padding-left: "+this._getPaddingForPageLinks()+"px;"+("none"===this.containerNode.style.display?" display: none;":"")})),this._pageForwardLink.set("label",
v.substitute(B.buttonPageForward,{nextCount:a})),e.place(this._pageForwardLink.domNode,this.containerNode,"after"),this._pageForwardLinkConnection&&this._pageForwardLinkConnection.remove(),this._pageForwardLinkConnection=t(this._pageForwardLink,"click",function(a){a.stopPropagation();b()})}catch(d){throw new D.ClientException("TreeNode#_createPageForwardLink",d);}},_destroyEditTextBox:function(){try{p.forEach(this._editTextBoxConnections,function(a){a.remove()}),this._editTextBoxConnections=[],this._editTextBox&&
this._editTextBox.destroy()}catch(a){throw new D.ClientException("TreeNode#_destroyEditTextBox",a);}},_destroyPageBackLink:function(){try{this._pageBackLinkConnection&&(this._pageBackLinkConnection.remove(),this._pageBackLinkConnection=null),this._pageBackLink&&(this._pageBackLink.destroyRecursive(),this._pageBackFn=this._pageBackLink=null)}catch(a){throw new D.ClientException("TreeNode#_destroyPageBackLink",a);}},_destroyPageForwardLink:function(){try{this._pageForwardLinkConnection&&(this._pageForwardLinkConnection.remove(),
this._pageForwardLinkConnection=null),this._pageForwardLink&&(this._pageForwardLink.destroyRecursive(),this._pageForwardFn=this._pageForwardLink=null)}catch(a){throw new D.ClientException("TreeNode#_destroyPageForwardLink",a);}},_edit:function(a){var b,d,e,f,h,l;try{(b=this._editTextBox)||(b=this._createEditTextBox());b.set("value",a);this._editTextBoxConnections.push(t(b,"keypress",k.hitch(this,"_onEditBoxKeyPress")),t(b,"keydown",k.hitch(this,"_onEditBoxKeyDown")),t(b,"mousedown",k.hitch(this,"_onEditBoxMouseDown")),
t(b,"blur",k.hitch(this,"_onEditBoxBlur")));d={l:0,t:0,h:0,w:0};e=g.getMarginBox(this.rowNode);f=g.getMarginBox(this.contentNode);if(8>r("ie")){var m=g.position(this.rowNode,!0),n=g.position(this.tree.domNode,!0);d.l=f.l;d.t=m.y-n.y}else d.l=f.l,d.t=e.t;d.h=e.h;d.w=e.w-(f.l-e.l);100>d.w&&(d.w=100);g.setMarginBox(b.domNode,d);g.setMarginBox(b.textbox,{h:d.h,w:d.w});this.contentNode.style.visibility="hidden";b.domNode.style.display="";b.focus();h=b.domNode.children[0].children[0];h.setSelectionRange?
(l=2*h.value.length,h.setSelectionRange(l,l)):h.value=h.value}catch(p){throw new D.ClientException("TreeNode#_edit",p);}},_getPaddingForPageLinks:function(){return 19*(1>this.indent?1:this.indent+1)},_hideEditTextBox:function(){try{p.forEach(this._editTextBoxConnections,function(a){a.remove()}),this._editTextBox.domNode.style.display="none",this.contentNode.style.visibility="visible",this.onEndEdit()}catch(a){throw new D.ClientException("TreeNode#_hideEditTextBox",a);}},_onCommitEdit:function(){try{this.setPending(!0),
this.onCommitEdit(this._editTextBox.get("value"))}catch(a){throw new D.ClientException("TreeNode#_onCommitEdit",a);}},_onEditBoxKeyDown:function(a){a.keyCode===b.ESCAPE?(f.stop(a),this.onCancelEdit()):a.keyCode===b.ENTER&&(f.stop(a),this._onCommitEdit());a.stopPropagation()},_onEditBoxKeyPress:function(a){a.stopPropagation()},_onEditBoxMouseDown:function(a){a.stopPropagation()},_onEditBoxBlur:function(){if(!this.isPending())this.onCancelEdit()}})})},"anaplan/utils/ErrorDialog":function(){define("dojo/_base/array dijit/registry dojo/topic anaplan/Exceptions dojo/_base/lang anaplan/widgets/ErrorDialog dojo/on dojo/i18n!dijit/nls/loading".split(" "),
function(l,s,p,q,f,k,n,m){var h=null,e={showErrorReporter:function(e,d,a,h){var b=[],k=!1;if(e)if(a||(b=s.byId("anaplanDialog"))&&(b.domNode&&"none"!==b.domNode.style.display)&&b.hide(null,!0),a=this.getErrorDialog(),"none"!==a.domNode.style.display)console.warn("Not showing error as error dialog already open:"),console.warn(e);else{q.isException(e)||(e=new q.ClientException(null,e));if(d||!(e instanceof q.ClientException||e instanceof q.ServerException))d=!0;e.message&&(b=e.message.split(" "),l.forEach(b,
function(a){50<a.length&&(k=!0)}));e instanceof q.UnableToCommunicateWithServerException?(a.errorReporter.showMinimalInterface(!1),a.set("title","Anaplan")):d?(a.errorReporter.showMinimalInterface(!0),a.errorReporter.enforceTextWrap(k),a.set("title","Anaplan")):(a.errorReporter.showMinimalInterface(!1),a.set("title",m.errorState));(d=a.errorReporter.setException(e))&&e instanceof q.ClientException&&p.publish("anaplan/error",{text:d});if(h)var u=n(a,"hide",f.hitch(this,function(){u.remove();h()}));
a.show()}},getErrorDialog:function(){h||(h=new k({title:m.errorState}));return h}};f.setObject("anaplan.utils.ErrorDialog",e);return e})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(l,s,p){var q={};l.setObject("dojo.data.util.simpleFetch",q);q.errorHandler=function(f,k){k.onError&&k.onError.call(k.scope||s.global,f,k)};q.fetchHandler=function(f,k){var l=k.abort||null,m=!1,h=k.start?k.start:0,e=k.count&&Infinity!==k.count?h+k.count:f.length;
k.abort=function(){m=!0;l&&l.call(k)};var g=k.scope||s.global;k.store||(k.store=this);k.onBegin&&k.onBegin.call(g,f.length,k);k.sort&&f.sort(p.createSortFunction(k.sort,this));if(k.onItem)for(var d=h;d<f.length&&d<e;++d){var a=f[d];m||k.onItem.call(g,a,k)}k.onComplete&&!m&&(d=null,k.onItem||(d=f.slice(h,e)),k.onComplete.call(g,d,k))};q.fetch=function(f){f=f||{};f.store||(f.store=this);this._fetchItems(f,l.hitch(this,"fetchHandler"),l.hitch(this,"errorHandler"));return f};return q})},"anaplan/api/Submissions/ColourPalettes":function(){define("dojo/_base/declare ./Base/Submission anaplan/constants anaplan/utils/JsHelper dojo/i18n!anaplan/nls/api dojo/Deferred".split(" "),
function(l,s,p,q,f,k){return l([s],{entityTypeIndex:p.COLOR_PALETTES_ENTITY_TYPE_INDEX,modelNodeType:"ColorPalette",createNewPalette:function(f,k){this.addCreateChange(f,k)},setSelectedPalette:function(f){this.addCellChange("false","false","true",f,p.SYSTEM_PROPERTY_COLOR_PALETTE_SELECTED,-1,!0)},updatePalette:function(f,k){this.addCellChange("","",k.join(","),f,p.SYSTEM_PROPERTY_COLOR_PALETTE_COLORS,-1,!0)}})})},"anaplan/view/Process":function(){define("anaplan/utils/RedirectHelper anaplan/anapediaKeys anaplan/common/SelectiveAccess anaplan/constants anaplan/data/Aggregator anaplan/data/Aggregator/TxidProvider anaplan/data/Aggregator/RequestSerialProvider anaplan/data/RequestFactory anaplan/data/UserInfo anaplan/Exceptions anaplan/utils/AuthHelper anaplan/utils/CookieHelper anaplan/utils/EncryptionHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/view/ImportPrompt anaplan/view/ImportResult anaplan/widgets/Button anaplan/widgets/Dialog2 anaplan/widgets/DropDownButton anaplan/widgets/FullScreenDialog anaplan/widgets/HelpBox anaplan/widgets/MasterSelector dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/CheckBox dijit/form/TextBox dijit/layout/ContentPane dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/importLabels dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!anaplan/nls/process dojo/i18n!anaplan/nls/toolbar dojo/i18n!dijit/nls/common dojo/io-query dojo/io/iframe dojo/json dojo/keys dojo/on dojo/query dojo/string dojo/text!anaplan/templates/Process.html dojo/topic anaplan/widgets/PleaseWait".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea,qa,ka){return J([C,B,G,E,y.ContentMixin],{templateString:qa,baseClass:"runProcess",_uniqueFileList:[],_fileUploadsRequired:0,_fileUploadsCompleted:0,_uploaders:[],_uploadFormId:"uploadForm",constructor:function(a){this._workspaceId=a.workspaceId||null;this._modelId=a.modelId||null;this._processEntityLongId=a.processEntityLongId||null;this._processDefinitionJson=a.processDefinitionJson||
null;this._processEntityLabel=a.processEntityLabel||T.generalProcessName;this._helpLink=s.importLineItem;this._confirmFirst=!1===(!1===a.confirmFirst);this._fromButton=a.fromButton?!0:!1;this._formControls=[];this._fileControls=[];this._dropDownButtons=[];this._processInProgress=!1;this._confirmationDialog=null},onProcessCompletion:function(){},onBeforeDialogHide:function(){return!this._processInProgress},onCancel:function(){},onDialogShow:function(){try{if(this._helpLink)this.onHelpChange(this._helpLink);
8>R("ie")&&S.set(this.domNode,"width","500px")}catch(a){t.throwClientException(this,a)}},onShow:function(){try{this.onDialogShow(),this.onTitleChange(ca.labelImport),this.onHelpChange(this._helpLink)}catch(a){t.throwClientException(this,a)}},resize:function(a){this.inherited(arguments);if(!a){var b=Q.getMarginBox(this.domNode);100<b.h&&Q.setMarginBox(this.domNode,{h:b.h})}},postCreate:function(){this.inherited(arguments);null!=this._processEntityLabel&&t.setText(this.processContainer,this._processEntityLabel)},
_startUpWidgets:function(a){K.forEach(a,function(a){a.startup&&a.startup()})},_startUpFormControls:function(){this._startUpWidgets(this._formControls)},_startUpFileControls:function(){this._startUpWidgets(this._fileControls)},startup:function(){this.inherited(arguments);this._startUpFormControls();this._startUpFileControls();this._importPrompt&&this._importPrompt.startup();this._startProcess(this._confirmFirst)},_destroyWidgets:function(a){K.forEach(a,function(a){a.destroy()});a=[]},_destroyFormControls:function(){this._destroyWidgets(this._formControls)},
_destroyFileControls:function(){var a=this._fileControls,b,d,e=a.length;for(d=0;d<e;d++)b=a[d],b.domElement&&(b.onChangeHandle&&(b.onChangeHandle.remove(),b.onChangeHandle=null),b.onBlurHandle&&(b.onBlurHandle.remove(),b.onBlurHandle=null),b.domElement.parentElement&&(b.domElement.parentElement.removeChild(b.domElement),b.domElement=null))},uninitialize:function(){this._progressTimerId&&clearTimeout(this._progressTimerId);this._confirmationHandles&&K.forEach(this._confirmationHandles,function(a){a.remove()});
this._destroyFormControls();this._destroyFileControls();this._removeUploadForms();this._confirmationDialog&&this._confirmationDialog.destroy();this._importPrompt&&this._importPrompt.destroy();this.inherited(arguments)},validateAll:function(){var a=!0;this._importPrompt&&(a=this._importPrompt._validate.call(this._importPrompt));a&&(a=this.validateFileControls());return a},_resetUploadFileCounters:function(a){this._fileUploadsRequired=a.length;this._fileUploadsCompleted=0},_createUniqueFileList:function(a){var b,
d,e,f=a.length,g,h=[],k,l;for(b=0;b<f;b++){g=a[b];g.localFilePath=g.domElement?g.domElement.value:"";k=!1;l=h.length;for(d=0;d<l;d++)if(g.localFilePath===h[d].localFilePath){k=!0;break}if(k)for(e in g.importEntityLongIds)g.importEntityLongIds.hasOwnProperty(e)&&h[d].importEntityLongIds.push(g.importEntityLongIds[e]);else{d=[];for(e in g.importEntityLongIds)g.importEntityLongIds.hasOwnProperty(e)&&d.push(g.importEntityLongIds[e]);h.push({localFilePath:g.localFilePath,importEntityLongIds:d})}}this._resetUploadFileCounters(h);
return h},validateFileControls:function(){var a=this._fileControls,b,d=a.length,e,f=0;if(d)for(e=0;e<d;e++)b=a[e],f+=b.domElement&&b.domElement.value.length?1:0;return d===f},_addFileControls:function(a,b){var d,e,f=0,g=this;a.length&&(d=N.create("div",{id:"file-controls-container"}),e=N.create("h3",{innerHTML:W.weNeedTheFollowingBeforeWeCanProceed}),N.place(e,b,"before"),K.forEach(a,function(a){var b,e=["file-input",f].join("-"),h,k;b=N.create("div",{className:"row"});N.place(b,d,"last");h=N.create("label",
{"for":e,innerHTML:W.uploadAFileForImportInto+" "});N.place(h,b,"last");k=N.create("span");t.setText(k,a.targetLabels.join("; "));N.place(k,h,"last");e=N.create("input",{id:e,type:"file","data-anaplan-element-name":e,value:""});N.place(e,b,"last");a.domElement=e;a.onChangeHandle=aa(e,"change",I.hitch(g,function(){g.validateAll()}));a.onBlurHandle=aa(e,"blur",I.hitch(g,function(){g.validateAll()}));f++}),e=N.create("div",{className:"mask"}),N.place(e,d,"last"),N.place(d,b,"before"))},_removeUploadForms:function(){var a=
ga(".upload-form"),b,d=a.length,e,f;for(e=0;e<d;e++)b=a[e],f=b.parentElement,f.removeChild(b)},_createUploadForm:function(a,b,d,e,f){f=this._uploadFormId+f;N.destroy(f);f=N.create("form",{action:"upload",name:f,style:"display:none",id:f,enctype:"multipart/form-data",encoding:"multipart/form-data",contentType:"multipart/form-data",method:"POST"},O.body(),"last");a=N.create("input",{type:"text",name:"workspaceId",value:a});f.appendChild(a);b=N.create("input",{type:"text",name:"modelId",value:b});f.appendChild(b);
d=N.create("input",{type:"text",name:"sessionId",value:d});f.appendChild(d);e=N.create("input",{type:"text",name:"txid",value:e});f.appendChild(e);return f},_getCurrentFileControlIndex:function(){return this._fileUploadsCompleted},_checkForAllUploadsCompleted:function(){return this._fileUploadsCompleted===this._fileUploadsRequired},_incrementFileUploadCounter:function(){this._fileUploadsCompleted++;return this._checkForAllUploadsCompleted()},_protectFileInputControls:function(){var a=document.getElementById("file-controls-container");
a&&(a.className="protected")},_updateStatusMessage:function(a,b){var d=document.querySelectorAll("#file-controls-container .status"),e=d.length;e&&(0<=b&&b<e)&&(d=d[b],t.setText(d,a?T.uploadCompleted:T.uploadFailed),a||(d.className="status error-red",d.style.fontWeight="bold"))},_resubmit:function(){var a=this._fileUploadsCompleted;this._checkForAllUploadsCompleted()||(this._uploaders[a].deferred.cancel(),this._uploaders[a].deferred=$.send(this._uploaders[a].payLoad))},_uploadFiles:function(a,b){var d=
this,f=b.length,g=a.length,h,l,m,r,p,q,s=[],u,w,v,z,x;this._uploaders=[];if(f){this._protectFileInputControls();z=function(a){a&&a.status&&"success"===a.status?(d._updateStatusMessage(!0,d._getCurrentFileControlIndex()),d._incrementFileUploadCounter()&&(d._removeUploadForms(),d._kickStartProcess(d))):(d._onCancel(),d._setInProgress(!1),d.uninitialize(),a=new e.BaseException(a.error),t.showErrorReporter(a,!0))};x=function(){d._updateStatusMessage(!1,d._getCurrentFileControlIndex());d._removeUploadForms()};
for(r=0;r<f;r++){h=b[r];u=h.importEntityLongIds;w=u.length;m=-1;for(p=0;p<w;p++){for(q=0;q<g;q++)if(l=a[q],v=K.indexOf(l.importEntityLongIds,u[p]),0<=v){m=q;break}if(0<=m)break}0<=m?l=a[m]:t.showErrorReporter(new e.ClientException("anaplan.view.Process#_uploadFiles.uploader","Cant find correct fileControl for importEntityLongId: "+h.importEntityLongIds.join(","),{widgetId:this.id}));s[r]=this._createUploadForm(workspaceId,modelId,sessionId,k.getTxid(),r);h=l.domElement.parentElement;m=l.domElement;
m.name="uploadedfile";s[r].appendChild(m);m=N.create("div",{className:"status"});t.setText(m,T.uploadingInProgress);h.appendChild(m);h=N.create("input",{type:"text",name:"importEntityIdList",value:b[r].importEntityLongIds.join("|")});s[r].appendChild(h);this._uploaders[r]={payLoad:null,deferred:null,timeStamp:(new Date).toUTCString()};h={modelId:d._modelId,workspaceId:d._workspaceId,requestSerialNumber:n.getNextRequestSerialNumber()};this._uploaders[r].payLoad={url:"upload?"+ba.objectToQuery(h),form:s[r],
handleAs:"json",method:"POST",error:x,load:z};this._uploaders[r].deferred=$.send(this._uploaders[r].payLoad)}}return this._checkForAllUploadsCompleted()},_kickStartProcess:function(b){var d=b._mappings,e=null,f,g;for(f in d)d.hasOwnProperty(f)&&(g=r.entityLongIdToEntityLongIdIdentifier(d[f]),b._params["mapping|"+f]=g);b._importPrompt.set("disabled",!0);b._publicKey&&(e=a.generateSymmetricKey(b._symmetricKeySize||128),b._params["connector_key|SKEY"]=a.wrapWithPublicKey(b._publicKey,e));K.forEach(b._formControls,
function(d){var f=d.get("name"),g=d.get("value"),h;I.isObject(g)&&(g=g.value?g.value:b._params[f]);"persistParams"===f?g=g?"true":"false":(g=g||"",e&&f.match(/^connector|/)&&(h=f.split("|")[2],g=a.encryptWithSymmetricKey(e,g,h)));b._params[f]=g;d.set("disabled",!0)});K.forEach(b._dropDownButtons,function(a){a.set("disabled",!0)});b._startProcess(!1)},_requiresUserIntervention:function(a){for(var b in a)if(a.hasOwnProperty(b)){var d=b.split("|");if("connector"===d[0]&&3===d.length||this._fromButton&&
"prompt_for_file"===d[0]||"mapping"===d[0]&&3<=d.length)return!0}return!1},_getResponseError:function(a){var b=[],d;for(d in a)if(a.hasOwnProperty(d)){var e=d.split("|");"summary"===e[0]&&2<=e.length&&/_err_/.test(e[1])&&b.push(a[d])}return b},_createUserProcessFailureErrors:function(){N.empty(this.processContainer);P.add(this.processContainer,"informationDialog");var a=['\x3cdiv class\x3d"content-wrapper"\x3e\x3cspan class\x3d"image-fail" data-anaplan-element-name\x3d"process-failure-icon"\x3e\x3c/span\x3e\x3cspan class\x3d"content" data-anaplan-element-name\x3d"process-failure-message"\x3e',
T.labelUserCantRunProcess,"\x3c/span\x3e\x3c/div\x3e"].join("");N.place(a,this.processContainer,"first");a=new z({label:X.buttonCancel,style:"float:right;"});this.own(a.on("click",I.hitch(this,function(){this.onProcessCompletion()})));var b=N.place('\x3cdiv class\x3d"buttons" style\x3d"height: 30px;"\x3e',this.processContainer,"last");N.place(a.domNode,b,"last")},_createSimple:function(){this._simpleResultsCancelButton=new z({label:X.buttonCancel,style:"float:right;"});this.own(this._simpleResultsCancelButton.on("click",
I.hitch(this,"cancelProcess")));var a=N.place('\x3cdiv class\x3d"buttons" style\x3d"height: 30px;"\x3e',this.divProgress,"last");N.place(this._simpleResultsCancelButton.domNode,a,"last")},_createQuestions:function(a,d){try{var e=[],f=[],h,k=this,l,m,n,r,p;this._params={};this._initParams={};this._destroyFormControls();this._destroyFileControls();this._importPrompt&&(this._importPrompt.destroy(),this._importPrompt=null);K.forEach(this._dropDownButtons,function(a){a.destroy()});this._dropDownButtons=
[];this._tableOfQuestions&&N.destroy(this._tableOfQuestions);this._tableOfQuestions=N.create("table",{"class":"connParams"},this.divParameters);var q=N.create("tbody",null,this._tableOfQuestions),s=!1,v=[],z=[],x,y=0;for(h in a)if(a.hasOwnProperty(h)){var A=a[h],C=h.split("|");if("connector_key"===C[0])"PKEY"===C[1]?this._publicKey=A:"SKEY_SIZE"===C[1]&&(this._symmetricKeySize=A);else if("connector"===C[0]&&3===C.length){var S=C[1],F=C[2],B=N.create("tr",null,q),E=T[S]||S.toLowerCase(),O=T[F]||F.toLowerCase(),
J=E+" "+O,R=-1===K.indexOf([g.CONNECTOR_MODEL_OBJECT_USERID_KEY,g.CONNECTOR_MODEL_OBJECT_PASSWORD_KEY],h);R&&y++;var G=N.create("td",{"class":"labelCell",style:{display:R?"":"none"}},B);t.setText(G,J+": ");var Y=N.create("td",{"class":"controlCell",style:{display:R?"":"none"}},B),M;if("INSTANCE"===F){var P=new D({items:[{name:"root",children:[{entityLongId:"PROD",name:T.PROD,children:[]},{entityLongId:"TEST",name:T.TEST,children:[]}]}],style:"width: 200px; height: 150px; background-color: white;",
submitOnClick:!0}),ca=T.labelPleaseSelect;A&&T[A]&&(ca=T[A]);var X=new w({label:ca,showLabel:!0,dropDown:P,autoWidth:!1});this._dropDownButtons.push(X);P.name=h;X.own(aa(P,"Submit",I.hitch(X,function(a,b){this.set("label",b);this.closeDropDown(!1);K.forEach(k._formControls,function(b){b.get("name");var d=b.get("value");"string"===typeof d&&(a!=k._initParams.INSTANCE?d.match(/[*]+/)&&b.set("value",""):""===d&&b.set("value",k._initParams[F]))})})));X.own(aa(P,"Open",function(){P.focus()}));N.place(X.domNode,
Y);M=P;P.startup();P.set("value",{value:A,name:T[A]})}else M=new L({name:h,type:"PASSWORD"===F?"password":"text",value:a[h]}),N.place(M.domNode,Y);this._initParams[F]=A;this._formControls.push(M)}else if("mapping"===C[0]&&3<=C.length){var ba=C[1];x=C[2];v.push(ba);z.push(x)}else if("summary"===C[0]&&2<=C.length){/_err_/.test(C[1])&&(s=!0);var Q=b.escapeHTML(A),$=parseInt(C[1],10);isNaN($)?f.push(Q):f[$]=Q}else if(this._fromButton&&"prompt_for_file"===C[0]){r=C[2];l=this._fileControls.length;p=-1;
for(m=0;m<l;m++)if(n=this._fileControls[m],n.sourceId===r){p=m;break}0<=p?(n=this._fileControls[p],n.importEntityLongIds.push(C[1]),n.targetIds.push(C[3]),n.targetLabels.push(C[5])):this._fileControls.push({importEntityLongIds:[C[1]],sourceId:r,targetIds:[C[3]],taskLabel:C[4],targetLabels:[C[5]],uploadCompleted:!1,uploadedId:-1,domElement:null,localFilePath:null,onChangeHandle:null,onBlurHandle:null})}}N.empty(this.processContainer);var ja='\x3ch3 class\x3d"no-margin-top wordwrap"\x3e'+b.escapeHTML(s?
T.labelCannotStart:this._processEntityLabel||T.titleProcess)+":\x3c/h3\x3e";N.place(ja,this.processContainer,"first");1===f.length?e.push('\x3cul class\x3d"process-list process-list-nobullet"\x3e'):e.push('\x3cul class\x3d"process-list"\x3e');K.forEach(f,function(a){e.push("\x3cli\x3e"+a+"\x3c/li\x3e")});e.push("\x3c/ul\x3e");!1!==d&&N.place(e.join(""),this.processContainer,"last");if(0<y){var Z=N.create("tr",null,q);N.create("td",{"class":"labelCell"},Z);var ea=N.create("td",{"class":"controlCell"},
Z),ga=new H({id:"persistParams",name:"persistParams",checked:!0});N.place(ga.domNode,ea);this._formControls.push(ga);var qa=N.create("label",{"for":ga.get("id")},ea);t.setText(qa," "+W.persistParams)}this._importPrompt=new u({workspaceId:this._workspaceId,modelId:this._modelId,listIdentifiersRequiringPrompt:v,staticContextIdentifiers:[x],listIdentifiersStaticContexts:z,externalValidator:this._fromButton?this.validateFileControls:null,externalValidatorContext:this._fromButton?this:null});this._addFileControls(this._fileControls,
this.divProgress);this._removeUploadForms();this.own(aa(this._importPrompt,"Import",I.hitch(k,function(a){k._mappings=a;k._uniqueFileList=this._createUniqueFileList(k._fileControls);!k._uploadFiles(k._fileControls,k._uniqueFileList)&&k._checkForAllUploadsCompleted()?k._kickStartProcess(k):k._checkForAllUploadsCompleted()&&k._kickStartProcess(k)})));this.own(aa(this._importPrompt,"Cancel",I.hitch(k,k.onCancel)));N.place(this._tableOfQuestions,this.divProgress,"before");N.place(this._importPrompt.domNode,
this.divProgress,"before");this._startUpFormControls();this._startUpFileControls();this._importPrompt.startup();this.onContentChange();s&&this._importPrompt.set("disabled",!0)}catch(ka){t.throwClientException(this,ka)}},_displayImportResultDialog:function(a,b){try{a.useDetailedResults?this._displayDetailedImportResultDialog(a,b):a.successful?this._displaySimpleSuccessDialog(a,b):this._displaySimpleFailureDialog(a,b);try{var d=this.getParent();S.set(d.domNode,{visibility:"hidden"})}catch(e){}}catch(f){t.throwClientException(this,
f)}},_displaySimpleFailureDialog:function(a,d){var e,f,g;e=d.isImport?W.msgImportFailed:W.msgProcessFailed;f=['\x3cdiv class\x3d"content-wrapper"\x3e\x3cspan class\x3d"image-fail" data-anaplan-element-name\x3d"simpleFailureIcon"\x3e\x3c/span\x3e\x3cspan class\x3d"content" data-anaplan-element-name\x3d"simpleFailureMessage"\x3e',ea.substitute(T.processFail,{name:this._processEntityLabel}),"\x3c/span\x3e\x3c/div\x3e"].join("");f=new F({content:f.replace(/\n/gm,"\x3cbr\x3e")});g=t.showInfoDialog(f,{title:b.escapeHTML(e),
actionButtonLabel:X.itemClose}).then(I.hitch(this,function(){this.onProcessCompletion()}));f.own(ga(f.containerNode).on("a:click",I.hitch(this,function(b){b.preventDefault();g.cancel();this._displayDetailedImportResultDialog(a,d)})))},_displaySimpleSuccessDialog:function(a,d){var e=0,f,g,h;f=d.isImport?W.msgImportSucceeded:W.msgProcessCompleted;g=['\x3cdiv class\x3d"content-wrapper"\x3e\x3cspan class\x3d"image-tick" data-anaplan-element-name\x3d"simpleSucccessIcon"\x3e\x3c/span\x3e\x3cspan class\x3d"content" data-anaplan-element-name\x3d"simpleSuccessMessage"\x3e',
ea.substitute(T.processSuccess,{name:this._processEntityLabel}),"\x3c/span\x3e\x3c/div\x3e"].join("");g=new F({content:g.replace(/\n/gm,"\x3cbr\x3e")});h=t.showInfoDialog(g,{title:b.escapeHTML(f),actionButtonLabel:X.itemClose}).then(I.hitch(this,function(){this.onProcessCompletion()}));g.own(ga(g.containerNode).on("a:click",I.hitch(this,function(b){b.preventDefault();h.cancel();this._displayDetailedImportResultDialog(a,d,!1)})));K.forEach(a.compositeDetails,I.hitch(this,function(a){"EXPORT_DATA"===
a.importType&&(a.successful&&r.getEntityTypeIndex(a.importEntityLongId)===q.EXPORT_ENTITY_TYPE_INDEX)&&setTimeout(I.hitch(this,function(){this._downloadExport(a.importEntityLongId)}),e+=1E3)}))},_downloadExport:function(a){try{var b=document.createElement("form");b.id="formPostExport_"+a;b.action="servlet";b.method="post";b.encoding="multipart/form-data";document.body.appendChild(b);$.send({url:"servlet?taskType\x3dexport",content:{exportEntityLongId:a,context:ja.stringify({workspaceId:workspaceId,
modelId:modelId,modelName:modelName}),exportLayout:"SAVED_EXPORT"},form:b,timeout:50,preventCache:!0}).then(function(a){a.redirectUrl?l.handleRedirect(a):N.destroy(b)},function(){N.destroy(b)})}catch(d){t.showErrorReporter(new e.ClientException("Process: _downloadExport",d,{widgetId:this.id}))}},_displayDetailedImportResultDialog:function(a,b,d){try{var e=new v({ioArgs:b,results:a,autoExport:!1===d?!1:!0}),f=new x({roles:["import-result","import-result-detailed"],title:b.isImport?W.msgImportSucceeded:
W.msgProcessCompleted,refocus:!1,content:e});f.own(aa(e,"Close",I.hitch(this,function(){f.hide()})),aa(f,"Hide",I.hitch(this,function(){f.destroyRecursive();this.onProcessCompletion()})));f.show()}catch(g){t.throwClientException(this,g)}},cancelProcess:function(){if(this._inProgress)this._simpleResultsCancelButton&&this._simpleResultsCancelButton.set("disabled",!0),this._cancelled?ka.publish("anaplan/systemmessage","Process already cancelled",null,-1,"WARNING"):(ka.publish("anaplan/systemmessage",
"Cancelling Process...",null,-1,"WARNING"),this._cancelled=!0);else this.onProcessCompletion()},_onCancel:function(a){if(this._inProgress)this._cancelled=!0;else this.onCancel()},_onKeyDown:function(a){switch(a.keyCode){case Z.ENTER:this._importPrompt.importButton.get("disabled")||this._startProcess(!1);break;case Z.ESCAPE:this.onCancel(),M.stop(a)}},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_onStart:function(){this._startProcess(!1)},_setInProgress:function(a){this._inProgress=
a},_startProcess:function(a){var b=this;try{var k=I.mixin(this._params||{},{modelId:this._modelId,validateOnly:a});this._processDefinitionJson?k.processDefinitionJson=this._processDefinitionJson:k.processId=r.entityLongIdToEntityLongIdIdentifier(this._processEntityLongId);var n=m.createRequest(this._workspaceId,[],[],[{actionId:"START_PROCESS",params:k}]);this._setInProgress(!0);var s=function(){var a={workspaceId:b._workspaceId,modelId:b._modelId,requestType:"PROGRESS",taskId:b._taskId};b._cancelled&&
(a.cancel=!0);var d="10; workspaceServerGuid\x3d"+window.workspaceServerGuid;h&&h.getLoggedInUserGuid()&&(d+=" userGuid\x3d"+h.getLoggedInUserGuid());dojo.rawXhrPost({url:"jsonrpc",headers:{"Content-Type":"application/json","Expect-Reply-Within":d},postData:ja.stringify(a),handleAs:"json",load:function(a,d){if(a.redirectUrl)l.handleRedirect(a);else{var e;if(b.progressBar)try{if(a)if(a.taskState)if("NOT_STARTED"===a.taskState||"IN_PROGRESS"===a.taskState||"CANCELLING"===a.taskState)e=100*(a.progress||
0)+"%",b.progressBar.update({progress:e}),t.setText(b.textCurrentStep,a.currentStep||"");else{if("COMPLETE"===a.taskState||"CANCELLED"===a.taskState)e=100*(a.progress||0)+"%",b.progressBar.update({progress:e}),a.currentStep?t.setText(b.textCurrentStep,a.currentStep):(console.warn([b.declaredClass,"_startProcess request progress load handler expected to receive current step but did not"].join(" ")),t.setText(b.textCurrentStep,a.taskState)),a.taskResult||console.warn([b.declaredClass,"_startProcess request progress load handlerexpected to receive task result but did not"].join("")),
d.isImport=!1,b._params&&b._params.processDefinitionJson?d.isImport="undefined"!==typeof ja.parse(b._params.processDefinitionJson).nodes.Import:b._processDefinitionJson&&(d.isImport="undefined"!==typeof ja.parse(b._processDefinitionJson).nodes.Import),b._displayImportResultDialog(a.taskResult,d),b._setInProgress(!1)}else console.warn([b.declaredClass,"_startProcess request progress load handler expected to receive task state but did not"].join(" "));else console.warn([b.declaredClass,"_startProcess request progress load handler expected to receive response but did not"].join(" "))}catch(f){console.warn(b.declaredClass+
"_startProcess request progress load handler caught exception "+f)}finally{if(a&&!("COMPLETE"===a.taskState||"CANCELLED"===a.taskState))b._progressTimerId=setTimeout(s,1E3)}}},error:function(a){try{console.warn(b.declaredClass+"_startProcess progress request failed "+a),t.setText(b.textCurrentStep,t.getText(b.textCurrentStep)+".")}catch(d){console.error(b.declaredClass+"_startProcess send error handler caught exception "+d)}finally{b._progressTimerId=setTimeout(s,1E3)}},sync:!1,timeout:1E4})};f.post(n,
!1,function(a){try{if(a&&!a.error&&a.result){var f=a.result;if(f.systemActionResults&&f.systemActionResults.length){var h=a.result.systemActionResults[0];a=function(a){if(h.hasOwnProperty(g.CONNECTOR_MODEL_OBJECT_USERID_KEY)&&h.hasOwnProperty(g.CONNECTOR_MODEL_OBJECT_PASSWORD_KEY)&&!d.isSingleIp()){var f=g.getFirstLocalModelSourceServiceLocation();if(null===f)throw new e.IllegalStateException(Y.messageNoApiLocation,null,{state:Y.messageNoApiLocation});g.requestToken(window.workspaceId,f).then(I.hitch(b,
function(d){if(d.status===q.authTokenStatus.SUCCESS)h[g.CONNECTOR_MODEL_OBJECT_USERID_KEY]=d.tokenType,h[g.CONNECTOR_MODEL_OBJECT_PASSWORD_KEY]=d.tokenValue,b._createQuestions(h,a),b._setInProgress(!1);else throw new e.BaseException(d.statusMessage,null,{status:d.status});})).otherwise(function(a){t.showErrorReporter(new e.ClientException(Y.messageTokenAquisitionFailed,a))})}else b._createQuestions(h,a),b._setInProgress(!1)};S.set(b.divPleaseWait,"display","none");if(h.successful)b._taskId=h.taskId,
S.set(b.divProgress,"display",""),b._progressTimerId=setTimeout(s,1E3);else{var k=p.isAuthorized(q.userActions.CAN_VIEW_FULL_ERROR_DETAILS),l=b._getResponseError(h);!k&&0<l.length?b._createUserProcessFailureErrors(l):"false"===h.useDetailedResults||!1===h.useDetailedResults?!1===b._requiresUserIntervention(h)?(b._createSimple(h,!1),b._startProcess(!1)):a(!1):a(!0)}}}}catch(m){t.showErrorReporter(new e.ClientException(b.declaredClass+"._onGet",m,{widgetId:b.id})),b._setInProgress(!1)}},function(){b._setInProgress(!1);
console.error("Failed to retrieve items")})}catch(u){t.showErrorReporter(new e.ClientException(b.declaredClass+"._startProcess",u,{widgetId:this.id}))}}})})},"anaplan/api/Fetchers/actions":function(){define(["dojo/_base/declare","anaplan/api/Fetchers/Entities/Actions","anaplan/api/Fetchers/Base/Fetchable","anaplan/constants"],function(l,s,p,q){return new (l([p],{entitiesClass:s,axesIdentifiers:{rows:q.SYSTEM_AXIS_IDENTIFIER_ACTION_IDENTIFIER,columns:q.SYSTEM_AXIS_IDENTIFIER_ACTION_PROPERTY_IDENTIFIER}}))})},
"anaplan/gridlet/cellmenu/_CellMenuMixin":function(){define("anaplan/common/PageInfo anaplan/common/ViewDefinition anaplan/constants anaplan/Exceptions anaplan/keyboard/helpers anaplan/keyboard/keyboardEvents anaplan/utils/FilterHelper anaplan/utils/JsHelper anaplan/utils/SelectionHelper anaplan/utils/topics anaplan/utils/UIHelper anaplan/widgets/ArrowlessMenuItem anaplan/widgets/Menu anaplan/widgets/MenuItem anaplan/widgets/PopupMenuItem anaplan/widgets/SearchPane dijit/popup dijit/registry dijit/TooltipDialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/gridlet dojo/i18n!anaplan/nls/history dojo/i18n!anaplan/nls/toolbar dojo/on".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G){return w([],{constructor:function(a){this._drillDownLevel=a.drillDownLevel||0;this._drillDownId=a.drillDownId||null;this._searchDelegateId=a.searchDelegateId||null},_checkCanHold:function(a,b){var d;if(this._canHold)return this._canHold(b);d=new s(a.getViewDefinition());return d.isModelDataView()&&!d.hasCompareDefinition()&&!!b&&!b.isWholeGridSelected()},_checkCanRelease:function(a,b){var d;if(this._canRelease)return this._canRelease(b);
d=new s(a.getViewDefinition());return d.isModelDataView()&&!d.hasCompareDefinition()?(d=new l(a.getPageInfo()),!!(b&&0<d.getBreakbackHeldCellsCount())):!1},_checkCanReleaseAll:function(a){var b;if(this._canReleaseAll)return this._canReleaseAll();b=new s(a.getViewDefinition());return b.isModelDataView()&&!b.hasCompareDefinition()?(a=new l(a.getPageInfo()),0<a.getBreakbackHeldCellsCount()):!1},_createBreakbackContextMenu:function(d,e){var f=new a,g=this._checkCanHold(d,e),h=this._checkCanRelease(d,
e),k=this._checkCanReleaseAll(d),l=new b({label:C.labelBreakback,popup:f,disabled:!(g||h||k)});this._holdContextMenuItem=this._createHoldContextMenuItem(d,e,g);this._releaseContextMenuItem=this._createReleaseContextMenuItem(d,e,h);this._releaseAllContextMenuItem=this._createReleaseAllContextMenuItem(d,k);this._breakbackContextMenu=l;f.addChild(this._holdContextMenuItem);f.addChild(this._releaseContextMenuItem);f.addChild(this._releaseAllContextMenuItem);l.startup();return l},_createSortContextMenu:function(d,
e,f){var g=new a,h=new b({label:C.menuSort,popup:g,disabled:!f,"class":"qa-menu-sort"});g.addChild(this._createMenuItemQuickSort(p.sort.ASCENDING,d,e,f));g.addChild(this._createMenuItemQuickSort(p.sort.DESCENDING,d,e,f));g.addChild(this._createMenuItemSort(d,e,f));h.startup();return h},_createColumnSettingsMenuItem:function(a,b){b=m.isNullOrUndefined(b)?!0:b;var d=new r({iconClass:"anaplanEditorIcon anaplanEditorIconSizer",label:C.labelColumnSettings,disabled:!a.isDataView()||!b});d.on("click",x.hitch(a,
"beginColumnSettings"));return d},_createCopyMenuItem:function(a,b){var e=new d({accelKey:f.render(k.ANAPLAN_COPY),label:E.menuItemCopy});e.on("click",a.attemptCopyToClipboard.bind(a,document,b));return e},_createHistoryMenuItem:function(d,e,f){f=m.isNullOrUndefined(f)?!0:f;var g=new a;f=new b({iconClass:"anaplanEditorIcon anaplanEditorIconShowHistory",label:B.labelShowHistoryButton,disabled:!h.canShowHistory(e,d.getContext().model)||!f,popup:g});var k=function(a,b){var f=new r({label:a});g.addChild(f);
f.on("Click",x.hitch(this,function(){d.beginShowHistory(e,b)}))};k.call(this,B.showHistory24hrsLabel,"24");k.call(this,B.showHistory7dLabel,"7");k.call(this,B.showHistory30dLabel,"30");k.call(this,B.showHistoryAllLabel,"ALL");k.call(this,B.showHistoryDateRangeNoColonLabel,"RANGE");return f},_createDrillDownMenuItem:function(a,b){return new d({label:C.labelDrillDown,iconClass:"anaplanEditorIcon anaplanEditorIconDrillDown",accelKey:f.render(k.ANAPLAN_DRILL_DOWN),disabled:!a.isDataView()||!h.canDrillDown(b,
a.getContext()),onClick:x.hitch(this,function(){a.drillDown(b,this._drillDownLevel,this._drillDownId)})})},_createDrillToTransactionMenuItem:function(a,b){var e=new d({label:C.labelDrillToTransaction,iconClass:"anaplanEditorIcon anaplanEditorIconDrillToTransaction",accelKey:f.render(k.ANAPLAN_DRILL_TO_TRANSACTION),disabled:!a.isDataView()||!h.canDrillToTransaction(b)});e.own(e.on("click",function(){a.drillToTransaction(b)}));return e},_createHideMenuItem:function(a,b,d){var e=b.getGridlet();if(this._shouldUseShowHideSubMenu(d))a=
this._createHideSubMenu(a,b,d);else{a=new r({label:a,disabled:!h.canHide(d,b.getContext())});var f=d&&d.isMixedNestingLevel()?p.axisSelectionChange.HIDE:p.axisSelectionChange.HIDE_EVERY_OCCURRENCE;a.own(a.on("click",function(){b.applyAxisSelectionChange(f,d||e._selection)}))}return a},_createMenuItemFilter:function(a,b,d){d=void 0===d||null===d?!0:d;d=new r({label:C.labelFilter,iconClass:"anaplanEditorIcon anaplanEditorIconFilter",disabled:!h.canFilter(b,a.getContext().model)||!d});d.own(d.on("click",
function(){a.beginFilter(b)}));return d},_createMenuItemListFilter:function(a,b,d){d=void 0===d||null===d?!0:d;a.getGridlet();d=new r({label:C.labelListFilter,iconClass:"anaplanEditorIcon anaplanEditorIconListFilter",disabled:!d});d.own(d.on("click",function(d){a.beginListFilter(b,!(d.ctrlKey||d.metaKey))}));return d},_createMenuItemResetListFilter:function(a,b,d){d=void 0===d||null===d?!0:d;var e=a.getGridlet();d=new r({label:C.labelResetListFilter,iconClass:"anaplanEditorIcon anaplanEditorIconListFilterClear",
disabled:!d||!h.canResetListFilter(b||e._selection,a.getContext())});d.own(d.on("click",function(d){a.beginResetListFilter(b)}));return d},_createMenuItemQuickFilter:function(a,b){var d=new r({label:C.labelQuickFilter});d.own(d.on("click",function(d){a.beginQuickFilter(b)}));return d},_createMenuItemSort:function(a,b,d){d=void 0===d||null===d?!0:d;b=new r({label:C.labelSort,iconClass:"anaplanEditorIcon anaplanEditorIconSort",disabled:!h.canSort(b,a.getContext().model)||!d});b.own(b.on("click",function(){a.beginSimpleSort()}));
return b},_createMenuItemQuickSort:function(a,b,d,e){a=a||p.sort.ASCENDING;e=new r({"class":a===p.sort.ASCENDING?"qa-menu-sort-asc":"qa-menu-sort-desc",iconClass:"anaplanEditorIcon "+(a===p.sort.ASCENDING?"anaplanEditorIconSortAsc":"anaplanEditorIconSortDesc"),label:a===p.sort.ASCENDING?C.quickSortAscendingMenuItem:C.quickSortDescendingMenuItem,disabled:!h.canSort(d,b.getContext().model)||!e});e.own(e.on("click",function(){b.applyQuickSort(a,d)}));return e},_createHideSubMenu:function(d,e,f){var g=
e.getGridlet(),k=new a,l=new r({label:E.labelHideForSelected,disabled:!h.canHide(f,e.getContext())}),m=new r({label:E.labelHideForAll,disabled:!h.canHideForAll(f,e.getContext())});l.own(l.on("click",function(){e.applyAxisSelectionChange(p.axisSelectionChange.HIDE,f||g._selection)}));m.own(m.on("click",function(){e.applyAxisSelectionChange(p.axisSelectionChange.HIDE_EVERY_OCCURRENCE,f||g._selection)}));k.addChild(l);k.addChild(m);this._hideForSelectedMenuItem=l;this._hideForAllMenuItem=m;return new b({label:d,
popup:k})},_createHoldContextMenuItem:function(a,b,d){d=new r({label:C.labelHold,disabled:!d});d.own(d.on("click",x.hitch(a,"holdCells",b)));return d},_createMenuItemSelectItems:function(a,b){var d=new r({label:E.menuItemSelectItems,disabled:!h.canSelectItems(b,a.getContext())});d.own(G(d,"click",x.hitch(a,"beginSelectItems",b)),G(d,"show",x.hitch(this,"_setMenuItemLabelSelectItems",d,a,b)));return d},_createMenuItemSelectLevels:function(a,b){var d=new r({label:E.menuItemSelectLevels,disabled:!h.canSelectLevels(b,
a.getContext())});d.own(G(d,"click",x.hitch(a,"beginSelectLevels",b)),G(d,"show",x.hitch(this,"_setMenuItemLabelSelectLevels",d,a,b)));return d},_createPasteMenuItem:function(a){var b=new d({accelKey:f.render(k.ANAPLAN_PASTE),label:E.menuItemPaste});b.on("click",a.attemptPasteFromClipboard.bind(a,document));return b},_createReleaseContextMenuItem:function(a,b,d){d=new r({label:C.labelRelease,disabled:!d});d.own(d.on("click",x.hitch(a,"releaseCells",b)));return d},_createReleaseAllContextMenuItem:function(a,
b){var d=new r({label:C.labelReleaseAll,disabled:!b});d.own(d.on("click",x.hitch(a,"releaseAllCells")));return d},_createSearchMenuItem:function(a){var b=new r({accelKey:f.render(k.ANAPLAN_SEARCH),label:C.labelSearch,iconClass:"anaplanEditorIcon anaplanEditorIconSearch"});b.own(b.on("click",x.hitch(this,"_displaySearchDialog",a)));return b},_createShowMenuItem:function(a,b,d){var e=b.getGridlet();if(this._shouldUseShowHideSubMenu(d))a=this._createShowSubMenu(a,b,d);else{a=new r({label:a,disabled:!h.canShow(d,
b.getContext())});var f=d&&d.isMixedNestingLevel()?p.axisSelectionChange.SHOW:p.axisSelectionChange.SHOW_EVERY_OCCURRENCE;a.own(a.on("click",function(){b.applyAxisSelectionChange(f,d||e._selection)}))}return a},_createShowAllColumnsMenuItem:function(a,b){return new r({label:E.messageShowAllColumns,disabled:!h.canShowAll(b,a.getContext()),onClick:function(){try{a.applyAxisSelectionChange(p.axisSelectionChange.SHOW_ALL_COLUMNS,null)}catch(b){console.error(b)}}})},_createShowAllMenuItem:function(a){return new r({label:E.messageShowAll,
disabled:!h.canShowAll(null,a.getContext()),onClick:function(){try{a.applyAxisSelectionChange(p.axisSelectionChange.SHOW_ALL,null)}catch(b){console.error(b)}}})},_createShowAllRowsMenuItem:function(a,b){return new r({label:E.messageShowAllRows,disabled:!h.canShowAll(b,a.getContext()),onClick:function(){try{a.applyAxisSelectionChange(p.axisSelectionChange.SHOW_ALL_ROWS,null)}catch(b){console.error(b)}}})},_createShowSubMenu:function(d,e,f){var g=e.getGridlet(),k=new a,l=new r({label:E.labelShowForSelected,
disabled:!h.canShow(f,e.getContext())}),m=new r({label:E.labelShowForAll,disabled:!h.canShowForAll(f,e.getContext())});l.own(l.on("click",function(){e.applyAxisSelectionChange(p.axisSelectionChange.SHOW,f||g._selection)}));m.own(m.on("click",function(){e.applyAxisSelectionChange(p.axisSelectionChange.SHOW_EVERY_OCCURRENCE,f||g._selection)}));k.addChild(l);k.addChild(m);this._showForSelectedMenuItem=l;this._showForAllMenuItem=m;return new b({label:d,popup:k})},_displaySearchDialog:function(a){try{if(this._searchDelegateId)e.search(this._searchDelegateId);
else{var b=v.byNode(a._gridView.domNode),d;a&&a._model&&b&&(this._searchDialog||(this._searchPane=new t({widget:b,model:a._model}),this._searchDialog=new z({content:this._searchPane,"class":"searchTooltipDialog"}),this._searchPane.on("execute",x.hitch(this._searchDialog,"onExecute")),this._searchDialog.on("blur",x.hitch(this._searchDialog,"onCancel")),this._searchDialog.startup()),d=A.position(b.domNode,!0),u.open({parent:v.getEnclosingWidget(b.domNode.parentNode),popup:this._searchDialog,x:d.x,y:d.y,
onExecute:x.hitch(this,function(){u.close(this._searchDialog);b.focus();setTimeout(x.hitch(this,function(){this._searchDialog.destroyRecursive();this._searchDialog=null}),100)}),onCancel:x.hitch(this,function(){u.close(this._searchDialog);b.focus();setTimeout(x.hitch(this,function(){this._searchDialog.destroyRecursive();this._searchDialog=null}),100)})}),this._searchDialog.focus())}}catch(f){g.showErrorReporter(new q.ClientException("anaplan.gridlet.cellmenu._CellMenuMixin#_displaySearchDialog",f))}},
_enableCellMenuItems:function(a,b){var d=a.getGridlet(),d=b||d._selection,e,f,g;this._showAllRowsMenuItem&&!this._showAllRowsMenuItem._destroyed&&this._showAllRowsMenuItem.set("disabled",!h.canShowAll(d,a.getContext()));this._showAllColumnsMenuItem&&!this._showAllColumnsMenuItem._destroyed&&this._showAllColumnsMenuItem.set("disabled",!h.canShowAll(d,a.getContext()));this._showAllMenuItem&&!this._showAllMenuItem._destroyed&&this._showAllMenuItem.set("disabled",!h.canShowAll(null,a.getContext()));this._hideMenuItem&&
!this._hideMenuItem._destroyed&&this._hideMenuItem.set("disabled",!h.canHide(d,a.getContext()));this._showMenuItem&&!this._showMenuItem._destroyed&&this._showMenuItem.set("disabled",!h.canShow(d,a.getContext()));this._hideSubMenu&&(this._showSubMenu&&!this._hideSubMenu.destroyed&&!this._showSubMenu._destroyed)&&(this._shouldUseShowHideSubMenu(d)?(D.set(this._hideSubMenu.domNode,"display",""),D.set(this._hideMenuItem.domNode,"display","none"),D.set(this._showSubMenu.domNode,"display",""),D.set(this._showMenuItem.domNode,
"display","none")):(D.set(this._hideSubMenu.domNode,"display","none"),D.set(this._hideMenuItem.domNode,"display",""),D.set(this._showSubMenu.domNode,"display","none"),D.set(this._showMenuItem.domNode,"display","")));this._hideForSelectedMenuItem&&!this._hideForSelectedMenuItem._destroyed&&this._hideForSelectedMenuItem.set("disabled",!h.canHide(d,a.getContext()));this._hideForAllMenuItem&&!this._hideForAllMenuItem._destroyed&&this._hideForAllMenuItem.set("disabled",!h.canHideForAll(d,a.getContext()));
this._showForSelectedMenuItem&&!this._showForSelectedMenuItem._destroyed&&this._showForSelectedMenuItem.set("disabled",!h.canShow(d,a.getContext()));this._showForAllMenuItem&&!this._showForAllMenuItem._destroyed&&this._showForAllMenuItem.set("disabled",!h.canShowForAll(d,a.getContext()));this._menuItemSelectLevels&&!this._menuItemSelectLevels._destroyed&&this._menuItemSelectLevels.set("disabled",!h.canSelectLevels(d,a.getContext()));this._menuItemSelectItems&&!this._menuItemSelectItems._destroyed&&
this._menuItemSelectItems.set("disabled",!h.canSelectItems(d,a.getContext()));this._drillDownMenuItem&&!this._drillDownMenuItem._destroyed&&this._drillDownMenuItem.set("disabled",!a.isDataView()||!h.canDrillDown(d,a.getContext()));this._drillToTransactionMenuItem&&!this._drillToTransactionMenuItem._destroyed&&this._drillToTransactionMenuItem.set("disabled",!a.isDataView()||!h.canDrillToTransaction(d));this._holdContextMenuItem&&!this._holdContextMenuItem._destroyed&&(e=this._checkCanHold(a,d),this._holdContextMenuItem.set("disabled",
!e));this._releaseContextMenuItem&&!this._releaseContextMenuItem._destroyed&&(f=this._checkCanRelease(a,d),this._releaseContextMenuItem.set("disabled",!f));this._releaseAllContextMenuItem&&!this._releaseAllContextMenuItem._destroyed&&(g=this._checkCanReleaseAll(a),this._releaseAllContextMenuItem.set("disabled",!g));this._breakbackContextMenu&&!this._breakbackContextMenu._destroyed&&this._breakbackContextMenu.set("disabled",!(e||f||g));this._listFilterMenuItem&&!this._listFilterMenuItem._destroyed&&
this._listFilterMenuItem.set("disabled",!h.canListFilter(d,a.getContext()))},_setMenuItemLabelSelectItems:function(a,b,d){b=h.selectedListContainsItemsSelection(d||b.getSelectionObject(),b.getContext());a.set("label",b?E.menuItemReselectItems:E.menuItemSelectItems)},_setMenuItemLabelSelectLevels:function(a,b,d){b=h.selectedListContainsLevelBasedSelection(d||b.getSelectionObject(),b.getContext());a.set("label",b?E.menuItemReselectLevels:E.menuItemSelectLevels)},_shouldUseShowHideSubMenu:function(a){return!a||
!a.ranges?!1:!y.some(a.ranges,function(a){return 0===a.getNestingIndex()})}})})},"anaplan/view/ManageImportSources/_FailedView":function(){define("anaplan/utils/UIHelper dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Contained dojo/string dojo/keys dojo/i18n!anaplan/nls/manageImportSources dojo/i18n!anaplan/nls/importLabels dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/ManageImportSources/FailedView.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return s("anaplan.view.ManageImportSources._FailedView",[p,q,f,k],{templateString:d,baseClass:"manageImportSourcesFailedView",widgetsInTemplate:!0,lblFailure:h.messageRetrievalFailed,lblOk:g.buttonOk,_onShow:function(){this.okButton.focus();this.onHelpChanged(null)},postCreate:function(){this.inherited(arguments)},setDetail:function(a){try{if(a&&a.messageKey in e){var d="";try{var b=e[a.messageKey];b||(b=a.localMessageText);d=n.substitute(b,a.substitutions)}catch(f){console.error(f),
d+=a.localMessageText}l.setText(this.failureMessage,d)}else l.setText(this.failureMessage,h.messageRetrievalFailed)}catch(g){l.throwClientException(this,g)}},_onConfirm:function(){this.onConfirm()},_onKeyDown:function(a){a.keyCode===m.ENTER&&this._onConfirm()},onHelpChanged:function(){},onConfirm:function(){}})})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(l,s,p,q,f,k,n,m,h){return l("dijit.form.ComboBoxMixin",[m,k],{dropDownClass:n,hasDownArrow:!0,templateString:h,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(e){this._set("hasDownArrow",e);this._buttonNode.style.display=e?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(e){e.get||q.mixin(e,{_oldAPI:!0,get:function(e){var d=new s;this.fetchItemByIdentity({identity:e,
onItem:function(a){d.resolve(a)},onError:function(a){d.reject(a)}});return d.promise},query:function(e,d){var a=new s(function(){h.abort&&h.abort()});a.total=new s;var h=this.fetch(q.mixin({query:e,onBegin:function(b){a.total.resolve(b)},onComplete:function(b){a.resolve(b)},onError:function(b){a.reject(b)}},d));return f(a)}});this._set("store",e)},postMixInProperties:function(){var e=this.params.store||this.store;e&&this._setStoreAttr(e);this.inherited(arguments);if(!this.params.store&&this.store&&
!this.store._oldAPI){var f=this.declaredClass;q.mixin(this.store,{getValue:function(d,a){p.deprecated(f+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return d[a]},getLabel:function(d){p.deprecated(f+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return d.name},fetch:function(d){p.deprecated(f+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],
q.hitch(this,function(a){(new a({objectStore:this})).fetch(d)}))}})}}})})},"anaplan/api/SystemActions/SetModelActiveState":function(){define(["dojo/_base/declare","./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdIsRequired:!p.isString(this._params.activeState)||
p.isEmptyString(this._params.activeState)||!p.isString(this._params.currentActiveState)||p.isEmptyString(this._params.currentActiveState)?f.errors.modelStateIsRequired:this.inherited(arguments)},getFetchAllModelSummaries:function(){return!0},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.SET_MODEL_ACTIVE_STATE,params:{modelId:this._params.modelId,activeState:this._params.activeState,currentActiveState:this._params.currentActiveState}}}})})},"anaplan/api/SystemActions/CreateRevision":function(){define(["dojo/_base/declare",
"./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.modelId)||p.isEmptyString(this._params.modelId)?f.errors.modelIdRequired:!p.isString(this._params.revisionName)||p.isEmptyString(this._params.revisionName)?f.errors.revisionNameRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.CREATE_REVISION,
params:{modelId:this._params.modelId,revisionName:this._params.revisionName,description:this._params.description}}},parseResponse:function(f){return f}})})},"anaplan/widgets/Mapping":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/data/ModelContentCache dojo/data/ItemFileReadStore dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin anaplan/widgets/Button dijit/form/CheckBox dijit/form/FilteringSelect anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ViewRequestRequestGenerator anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/widgets/Dialog anaplan/widgets/ImportDateFormat dojo/i18n!anaplan/nls/mapping dojo/query dojo/json dojo/on dojo/_base/declare dojo/dom-style dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/text!anaplan/templates/Mapping.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G){return A([k,n,f],{baseClass:"mapping",templateString:G,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._importTargetType=a.importTargetType,this._importDefinition=a.importDefinition,this._sourceFields=a.sourceFields,this._targetLabel=a.targetLabel,this._hideHeaders=a.hideHeaders||!1,this._customFormatHeadingLabel=a.customFormatHeadingLabel||!1,this._nls=z,this._mappingSelectors=[],this._mappingSelectorConnections=
[],this._isObserver=!1,this._viewIndex=null,this._serialNumbers=new g,this._labelPage=null,this._importDefinitionTargetEntityLongId=t.entityLongIdIdentifierToEntityLongId(this._importDefinition.target)}catch(b){l.throwClientException(this,b)}},error:function(a){try{console.error(a)}catch(b){l.throwClientException(this,b)}},onChange:function(){},postCreate:function(){try{this.inherited(arguments),this._hideHeaders?D.set(this.columnHeadings,"display","none"):(l.setText(this.sourceColumnHeading,this._nls.labelSourceColumnHeading),
l.setText(this.targetColumnHeading,this._targetLabel?this._targetLabel:this._nls.labelTargetColumnHeading),l.setText(this.formatColumnHeading,this._customFormatHeadingLabel?this._customFormatHeadingLabel:this._nls.labelFormatColumnHeading)),this._createMappingRows()}catch(a){l.throwClientException(this,a)}},startup:function(){try{this._started&&console.warn("startup "+this.id),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._isObserver&&s.deleteObserver(this),
this._reset(),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},update:function(a){var b,d;try{if(d=this._serialNumbers,b=this._serialNumbers=new g(a[0].serialNumbers),a[0].viewIndex!==this._viewIndex||b.rowAxisSerialNumber!==d.rowAxisSerialNumber)this._reset(),a&&(this._viewIndex=a[0].viewIndex,this._labelPage=a[0].rowLabelPages[0]),this._updateMappings()}catch(e){l.throwClientException(this,e)}},view:function(){var b=null;try{b=(new a(this._workspaceId)).getRequest({modelId:this._modelId,
viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(d){l.throwClientException(this,d)}return b},_createMappingRows:function(){try{var a=d.importTargetType;switch(this._importTargetType){case a.MODULE_DIMENSION:this._updateMappings();break;case a.MODULE_LINE_ITEM:var b=t.entityLongIdToEntityLongIdIdentifier(this._importDefinitionTargetEntityLongId);
this._viewDefinition=B.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[b]},r.getAxesForViewDefinition([d.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER],[d.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]));s.addObserver(this);this._isObserver=!0;break;case a.HIERARCHY_MEMBER_ENTITY_NAME:this._updateMappings();break;case a.HIERARCHY_PROPERTY:var e=[t.entityLongIdToEntityLongIdIdentifier(this._importDefinitionTargetEntityLongId)],f=d.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER;d.importType.VERSIONS===
this._importDefinition.importType&&(e=[],f=d.SYSTEM_AXIS_IDENTIFIER_VERSION_PROPERTY_IDENTIFIER);this._viewDefinition=B.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:e},r.getAxesForViewDefinition([f],[d.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]));s.addObserver(this);this._isObserver=!0;break;case a.USER_IDENTIFIER:case a.USER_DATA:this._updateMappings();break;case a.USER_ACCESS:this._viewDefinition=B.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[]},r.getAxesForViewDefinition([d.SYSTEM_AXIS_IDENTIFIER_HIERARCHY_IDENTIFIER],
[d.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]));s.addObserver(this);this._isObserver=!0;break;default:console.error("anaplan.widgets.Mapping._createMappingRows: unrecognized targetType ["+this._importTargetType+"]")}}catch(g){l.throwClientException(this,g)}},_getTargetLabel:function(a){var b="";try{var e=t.entityLongIdIdentifierToEntityLongId(a.target);isNaN(e)&&(e=-1);var f=d.importTargetType,g=d.importType,h;switch(a.targetType){case f.MODULE_DIMENSION:b=-1===e?this._nls.labelModuleDimensionLineItem:
e===d.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID?this._nls.labelModuleDimensionTimescale:e===d.MODEL_CONTENT_VERSION_ENTITY_LONG_ID?this._nls.labelModuleDimensionVersions:this._lookupHierarchyLabel(e);break;case f.HIERARCHY_PROPERTY:case f.MODULE_LINE_ITEM:-1===e&&this._importTargetType==f.MODULE_LINE_ITEM?b=this._nls.labelModuleLineItemValue:this._importDefinition.importType==g.LINE_ITEM_DEFINITION?e===d.SYSTEM_PROPERTY_PARENT?b=this._nls.labelHierarchyParent:e===d.SYSTEM_PROPERTY_CODE&&(b=this._nls.labelHierarchyCode):
this._labelPage&&(h=C.indexOf(this._labelPage.entityLongIds[0],e),0<=h&&(b=this._labelPage.labels[0][h]));break;case f.HIERARCHY_MEMBER_ENTITY_NAME:b=this._importDefinition.importType==g.LINE_ITEM_DEFINITION?this._nls.labelModuleDimensionLineItem:this._importDefinition.importType==g.VERSIONS?this._nls.labelVersion:this._lookupHierarchyLabel(this._importDefinitionTargetEntityLongId);break;case f.USER_IDENTIFIER:b=this._nls.labelUserEmailAddress;break;case f.USER_DATA:var k=d.importUserDataItem;switch(a.item){case k.FIRST_NAME:b=
this._nls.labelUserFirstName;break;case k.LAST_NAME:b=this._nls.labelUserLastName;break;case k.MODEL_ROLE:b=this._nls.labelUserModelRole;break;case k.AUTH_SSO:b=this._nls.labelUserAuthSSO;break;case k.USER_GUID:b=this._nls.labelUserGuid;break;default:console.warn("Cannot label user data item "+a.item),b=a.item}break;case f.USER_ACCESS:b="";this._labelPage&&(h=C.indexOf(this._labelPage.entityLongIds[0],e),0<=h&&(b=this._labelPage.labels[0][h]));var b=b+" ",m=d.importUserAccessLevel;switch(a.accessLevel){case m.NONE:b+=
this._nls.labelUserAccessNone;break;case m.READ:b+=this._nls.labelUserAccessRead;break;case m.WRITE:b+=this._nls.labelUserAccessWrite}break;default:console.error("anaplan.widgets.Mapping._getTargetLabel: unrecognized targetType ["+this._importTargetType+"]")}}catch(n){l.throwClientException(this,n)}return b},_lookupHierarchyLabel:function(a){var b="";try{var d=p.getHierarchiesLabelPage(),e=C.indexOf(d.entityLongIds[0],a);if(0<=e)b=d.labels[0][e];else{var f=p.getHierarchySubsetsLabelPage(),e=C.indexOf(f.entityLongIds[0],
a);0<=e&&(b=f.labels[0][e])}}catch(g){l.throwClientException(this,g)}return b},_reset:function(){try{D.set(this.mappingTableWrapper,"display","none"),D.set(this.loading,"display",""),C.forEach(this._mappingSelectorConnections,function(a){a.remove()}),C.forEach(this._mappingSelectors,function(a){a.destroy()}),this._mappingSelectors=[],this._mappingSelectorConnections=[],this._customMappings=[],this._viewIndex=null,this._serialNumbers=new g,this._labelPage=null,y("tr.mappingRow",this.domNode).forEach(E.destroy)}catch(a){l.throwClientException(this,
a)}},_updateMappings:function(){try{var a=this,d=[];C.forEach(this._sourceFields,function(a){var b;"column"==a.sourceType&&(b=a.sourceColumnEntityLongId?{sourceColumnEntityLongId:a.sourceColumnEntityLongId,sourceColumnName:a.sourceColumnName}:{sourceColumnId:a.sourceColumnId});var e=a.sourceType;b&&(e+="."+w.stringify(b));a=B.mixin(a,{identifier:e,label:a.displayName});d.push(a)});var f=0,g;a._needCustomFormatColumn=!1;C.forEach(this._importDefinition.mappings,function(k){var n=this._getTargetLabel(k);
if(k.targetType===this._importTargetType&&null!=n){++f;var r=E.create("tr",{"class":"mappingRow"},this.tableBody),p=E.create("td",{"class":"sourceCell"},r),s=E.create("td",{"class":"targetCell"},r);E.create("div",{"class":"targetCellIcon"},s);s=E.create("div",{"class":"targetCellText"},s);r=E.create("td",{"class":"formatCell"},r);if("prompt"!=k.sourceType){var t=null;if("undefined"!=k.sourceType){if(k.sourceColumnEntityLongId)for(g in d)if(d[g].sourceColumnEntityLongId==k.sourceColumnEntityLongId){t=
d[g].identifier;break}if(!t)for(g in d){var u=d[g];if(u.sourceType===k.sourceType&&"column"===u.sourceType&&(k.sourceColumnId===u.sourceColumnId||k.sourceColumnId==="#"+(u.sourceColumnNumber+1))){t=u.identifier;break}}}var w=new e({store:new q({data:{identifier:"identifier",label:"label",items:B.clone(d)}}),searchAttr:"label",value:t,required:!1});E.place(w.domNode,p);this._mappingSelectors.push(w);this._mappingSelectorConnections.push(x(w,"Change",B.hitch(this,function(d){try{w.focusNode.blur();
delete k.sourceColumnNumber;delete k.sourceColumnName;delete k.sourceColumnEntityLongId;delete k.sourceFieldId;delete k.sourceColumnId;if(""==d)k.sourceType="undefined";else{var e=d.indexOf("."),f;0<e?(f=JSON.parse(d.substring(e+1)),B.mixin(k,{sourceType:d.substring(0,e)},f)):k.sourceType=d}a._updateCustomMappings();a.onChange(a._importDefinition)}catch(g){l.showErrorReporter(new b.ClientException("anaplan.widgets.Mapping: _updateMappings (onChange)",g,{widgetId:this.id}))}})));if("DATE"==a._getDataTypeOfTarget(k.target)){a._needCustomFormatColumn=
!0;p=!1;if(a._importDefinition.dataFormatsByTarget&&(t=a._importDefinition.dataFormatsByTarget[k.target]))(t=a._importDefinition.dataFormatDefinitions[t])&&"date"==t.type&&(p=!0);var v=new h({name:"customFormatCheckBox"+k.target,value:p});E.place(v.domNode,r);t=new m({label:"Edit..."});E.place(t.domNode,r);a._mappingSelectorConnections.push(x(t,"Click",B.hitch(this,function(){a._editFormatDefinition(k,"date")})));a._mappingSelectorConnections.push(x(v,"Click",B.hitch(this,function(){try{var d=v.get("checked"),
e=a._getFormatDefinition(k.target,"date");e?e.active=d:d&&a._editFormatDefinition(k,"date")}catch(f){l.showErrorReporter(new b.ClientException("anaplan.widgets.Mapping: _updateMappings cb(onClick)",f,{widgetId:this.id}))}})));D.set(t.domNode,"display",p?"":"none");this._customMappings.push({mapping:k,checkBox:v,editButton:t,type:"date"})}}else l.setText(p,"("+this._nls[k.sourceType+"SourceType"]+")");l.setText(s,n)}},this);this._updateCustomMappings();D.set(this.formatColumnHeading,"display",a.isCustomFormatColumnRequired()||
a._customFormatHeadingLabel?"table-cell":"none");D.set(this.loading,"display","none");D.set(this.mappingTableWrapper,"display",0<f?"":"none")}catch(k){console.error(k),l.throwClientException(this,k)}},isCustomFormatColumnRequired:function(){return this._needCustomFormatColumn},_getDataTypeOfTarget:function(a){var b=t.entityLongIdIdentifierToEntityLongId(a);if(this._importDefinition.importType==d.importType.HIERARCHY_DATA&&(a=p.getHierarchyInfo(this._importDefinitionTargetEntityLongId)))if(b=C.indexOf(a.propertiesLabelPage.entityLongIds,
b),0<=b&&(a=a.propertiesInfo[b])&&a.format)return a.format.dataType;return null},_getFormatDefinition:function(a,b){try{if(this._importDefinition.dataFormatsByTarget){var d=this._importDefinition.dataFormatsByTarget[a];if(d){var e=this._importDefinition.dataFormatDefinitions[d];if(e&&e.type==b)return e}}return null}catch(f){l.throwClientException(this,f)}},_editFormatDefinition:function(a,b){try{var d=this._getFormatDefinition(a.target,b),e=d?B.clone(d):{type:b,active:!0},f=new u({title:"Mapping",
resizeContentsToFitViewport:!0,style:{width:"780px"}}),g=new v({workspaceId:this._workspaceId,modelId:this._modelId,importDefinition:this._importDefinition,valueMapping:a,formatDefinition:e});f.set("content",g.domNode);var h=this,k=x(g,"Submit",B.hitch(this,function(b,d){f.hide();b.active=e.active;h._applyFormatDefinition(a.target,b,"date",d)})),m=x(g,"Cancel",B.hitch(this,function(){f.hide();h._updateCustomMappings()})),n=x(f,"Hide",B.hitch(this,function(){k.remove();m.remove();n.remove();var a=
setInterval(function(){"none"===f.domNode.style.display&&(clearInterval(a),f.set("content",null),f.destroy())},250)}));f.startup();f.show()}catch(r){l.throwClientException(this,r)}},_applyFormatDefinition:function(a,b,d,e){try{var f=e?d:a,g=this._importDefinition;g.dataFormatDefinitions[f]=b;e?(b.active=!0,C.forEach(this._customMappings,function(a){a.type==d&&"undefined"!=a.mapping.sourceType&&(g.dataFormatsByTarget[a.mapping.target]=f)})):g.dataFormatsByTarget[a]=f;this._updateCustomMappings();this.onChange(g)}catch(h){l.throwClientException(this,
h)}},_updateCustomMappings:function(){try{var a=this._importDefinition;C.forEach(this._customMappings,function(b){if("undefined"==b.mapping.sourceType)b.checkBox.set("disabled",!0),D.set(b.editButton.domNode,"display","none");else{b.checkBox.set("disabled",!1);var d=!1,e=!1;if(a.dataFormatsByTarget){var f=a.dataFormatsByTarget[b.mapping.target];if(f&&(f=a.dataFormatDefinitions[f])&&f.type==b.type)d=!0,e=f.active}b.checkBox.set("value",e);D.set(b.editButton.domNode,"display",d?"":"none")}})}catch(b){l.throwClientException(this,
b)}}})})},"anaplan/actions/Assign":function(){define("anaplan/actions/_ActionMainView anaplan/actions/_ActionMixin anaplan/dashboard/MultiSelect anaplan/data/AggregatorObserver anaplan/data/ModelContentCache anaplan/snav/listloader anaplan/utils/EntityLongIdHelper anaplan/utils/SubmissionHandler dijit/layout/StackContainer dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-attr dojo/i18n!anaplan/nls/assign dojo/promise/all".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,
t){var u=g(l,{isParentItemEditable:function(){return e.some(this.selectedItems,function(a){return a.isItemEditable})},_getDeferredList:function(f){var g=e.map(this.selectedItems,function(a){return a.entityLongId}),h=new q({handleError:!0,hierarchyEntityLongId:f}),g={actionId:"GET_CHILD_ENTITIES_PROPERTY",params:{modelId:modelId,parentId:"_"+g[0]+"_",childHierarchyId:"_"+this.hierarchyEntityLongId+"_",propertyId:"_"+this.propertyEntityLongId+"_"}},l=new a,n=new a,r=new m({aggregatorObserver:h,showPleaseWait:!1});
h._getViewRequest=d.hitch(k,"_getViewRequest",f,null,null,p.MAX_ITEMS);h._getViewDefinition=d.hitch(k,"_getViewDefinition");r.gather([],[],[g]).then(d.hitch(this,function(a){var d=b.errorInvalidResponse,e=2===a.length;h.destroy();if(e)if((e=a[0])?l.resolve(e):(console.warn(this.id,d,a[0]),l.reject(d)),1===a[1].length){a=a[1][0];if(a.viewResults){if(1!==a.viewResults.length){console.warn(this.id,d,a);n.reject(d);return}this._childEntitiesPropertyViewResult=a.viewResults[0]}n.resolve(a)}else console.warn(this.id,
d,a[1]),n.reject(d);else l.reject(d),n.reject(d)}),d.hitch(this,function(a){console.error(this.id,a);h.destroy();l.reject(a);n.reject(a)}));return t([l,n])},_getExistingEntityLongIdsAttr:function(){return!this._childEntitiesPropertyViewResult?[]:e.map(this._childEntitiesPropertyViewResult.dataPages[0].cellValues,function(a){return Number(a)})}});return g([h,s],{postCreate:function(){this.inherited(arguments);r.set(this.domNode,"data-element-id","assign");-1===this.multiSelectHierarchyEntityLongId&&
(this.multiSelectHierarchyEntityLongId=this._getMultiSelectHierarchyEntityLongId());this._mainView=this._createMainView()},startup:function(){this.inherited(arguments);this.addChild(this._mainView)},_createMainView:function(){var a=new u({hierarchyEntityLongId:this.hierarchyEntityLongId,multiSelectHierarchyEntityLongId:this.multiSelectHierarchyEntityLongId,filterPropertyEntityLongIds:this.filterPropertyEntityLongIds,selectedItems:this.selectedItems,propertyEntityLongId:this.propertyEntityLongId});
this.own(a.on("cancel",d.hitch(this,"onCancel")),a.on("ok",d.hitch(this,"_submit")));return a},_getMultiSelectHierarchyEntityLongId:function(){var a=f.getHierarchyInfo(this.hierarchyEntityLongId),b;return a&&(b=e.indexOf(a.propertiesLabelPage.entityLongIds,this.propertyEntityLongId),-1<b&&(a=a.propertiesInfo[b],"ENTITY"===a.format.dataType))?a.format.hierarchyEntityLongId:-1},_submit:function(){var a,b,f,g,h;if(this._isValid())if(a=e.map(this.selectedItems,function(a){return a.entityLongId}),1!==
a.length)this.onError("Invalid Selection");else if(b=this._mainView.get("value"),f=this._mainView.get("existingEntityLongIds"),g=e.filter(b,function(a){return-1===e.indexOf(f,a)}),h=e.filter(f,function(a){return-1===e.indexOf(b,a)}),!g.length&&!h.length)this.onComplete(null);else g=e.map(g,function(a){return n.getEntityIndex(a)}),h=e.map(h,function(a){return n.getEntityIndex(a)}),h.length&&console.warn("TODO: confirmation"),a=n.getEntityIndex(a[0]),a={actionId:"COPY_TO_NUMBERED_LIST",params:{modelId:modelId,
targetEntityTypeIndex:this._getEntityTypeIndexOfListItems(this.hierarchyEntityLongId),targetPropertyEntityIndex:n.getEntityIndex(this.propertyEntityLongId),targetParentEntityIndices:""+a,sourceEntityIndicesToAdd:g.join(),sourceEntityIndicesToDelete:h.join(),actionEntityLongId:this.actionEntityLongId}},this._mainView.set("disabled",!0),this._mainView.set("loading",!0),this._doGather([],[],[a]).then(d.hitch(this,function(a){this._mainView.set("loading",!1);if(2!==a.length||1!==a[1].length)this.onError("Invalid response");
else this.onComplete(null)}),d.hitch(this,function(a){this._mainView.set("loading",!1);this.onError(a.isKnownError?a.errorMessage:a)}));else this.onError("InvalidStateException")}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,s,p,q,f,k,n,m){m.add("config-bgIframe",m("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||m("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));
var h=new function(){var e=[];this.pop=function(){var g;e.length?(g=e.pop(),g.style.display=""):(9>m("ie")?(g="\x3ciframe src\x3d'"+(p.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",g=document.createElement(g)):(g=q.create("iframe"),g.src='javascript:""',g.className="dijitBackgroundIframe",g.setAttribute("role","presentation"),f.set(g,"opacity",0.1)),
g.tabIndex=-1);return g};this.push=function(f){f.style.display="none";e.push(f)}};s.BackgroundIframe=function(e){if(!e.id)throw Error("no id");if(m("config-bgIframe")){var g=this.iframe=h.pop();e.appendChild(g);7>m("ie")||m("quirks")?(this.resize(e),this._conn=n(e,"resize",k.hitch(this,"resize",e))):f.set(g,{width:"100%",height:"100%"})}};k.extend(s.BackgroundIframe,{resize:function(e){this.iframe&&f.set(this.iframe,{width:e.offsetWidth+"px",height:e.offsetHeight+"px"})},destroy:function(){this._conn&&
(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),h.push(this.iframe),delete this.iframe)}});return s.BackgroundIframe})},"anaplan/gridlet/_editor/dataTypes/TimeEntity":function(){define("anaplan/utils/JsHelper ./TimeEntity/TimeEntityItem dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/_base/array anaplan/gridlet/_editor/dataTypes/Base anaplan/data/ModelContentCache dojo/text!anaplan/templates/DataType/TimeEntity.html dojo/i18n!anaplan/nls/dataType anaplan/utils/UIHelper anaplan/Exceptions anaplan/nls/exceptions dijit/form/RadioButton".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return p(n,{templateString:h,nlsLabels:e,_periodTypes:{WEEK:{entityId:"WEEK",entityLabel:e.labelPeriodTypeWeek},MONTH:{entityId:"MONTH",entityLabel:e.labelPeriodTypeMonth},QUARTER:{entityId:"QUARTER",entityLabel:e.labelPeriodTypeQuarter},HALF_YEAR:{entityId:"HALF_YEAR",entityLabel:e.labelPeriodTypeHalfYear},YEAR:{entityId:"YEAR",entityLabel:e.labelPeriodTypeYear}},dataType:"TIME_ENTITY",_selected:null,_getAllowedEntityPeriodTypes:function(){var e=m.getTimescaleSupersetInfo();
if(l.isNullOrUndefined(e))return g.showErrorReporter(new d.ClientException(a.ServerException)),{};var b={};k.forEach(e.allowedTimeEntityPeriodTypes,function(a){b[a.entityId]=a});return b},postCreate:function(){this.inherited(arguments);var a=this._getAllowedEntityPeriodTypes(),b=!1,d;for(d in this._periodTypes)if(l.has(this._periodTypes,d)){var e=l.isUndefined(a[this._periodTypes[d].entityId]);this[d]=new s({value:this._periodTypes[d].entityId,label:this._periodTypes[d].entityLabel,selected:!1,disabled:e});
q.place(this[d].domNode,this.selectTimescale);this.own(this[d]);!b&&!e&&(this[d].setChecked(!0),this._selected=d,b=!0);this[d].on("checked",f.hitch(this,function(a){this._selected=a;this._update()}))}},buildFormat:function(){var a=this._getSelectedEntityLongId(),b=this._getAllowedEntityPeriodTypes();if(l.isObject(b[a]))return{dataType:this.dataType,periodType:b[a]}},_getSelectedEntityLongId:function(){return this[this._selected].value},setFormat:function(a){this._periodTypes[a.periodType.entityId]&&
this[a.periodType.entityId]&&(this._selected=a.periodType.entityId,this[a.periodType.entityId].setChecked(!0))},_update:function(){this.emit("update")}})})},"anaplan/gridlet/_editor/PopupEditor":function(){define(["anaplan/gridlet/_editor/BaseEditor","dojo/_base/declare","dojo/_base/lang"],function(l,s,p){return s("anaplan.gridlet._editor.PopupEditor",l,{constructor:function(l){this._isShowing=!1;this._dialog=l.dialog},destroy:function(){this._dialog=null;this.inherited(arguments)},hide:function(){this._isShowing&&
(this._isShowing=!1,this._dialog.hide().then(p.hitch(this,function(){this._cleanUp()})))},moveTo:function(){},show:function(){this._dialog&&(this._dialog.show().then(p.hitch(this,function(){this._isShowing=!0})),this.connect(this._dialog,"hide",p.hitch(this,function(){this._isShowing&&(this._isShowing=!1,this.onCancel());this._cleanUp()})))},_cleanUp:function(){this.widget&&(this.widget.destroy(),this.widget=null,this._dialog.set("content",null))}})})},"anaplan/utils/getLocalStorage":function(){define([],
function(){function l(){var l={};return{getItem:function(p){return l.hasOwnProperty(p)?String(l[p]):null},setItem:function(p,q){l[p]=String(q)},removeItem:function(p){delete l[p]}}}return function(){if("object"!==typeof localStorage)return l();try{localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage")}catch(s){return l()}return localStorage}})},"anaplan/widgets/_DialogRoleMixin":function(){define(["dojo/_base/declare","dojo/dom-class"],function(l,s){return l([],{_addRoleClasses:function(){var l=
this.domNode;s.add(l,"qa-dialog");"none"!==this.domNode.style.display&&s.add(l,"qa-dialog-is-displayed");this.roles&&this.roles.forEach(function(q){s.add(l,"qa-dialog-"+q)})}})})},"anaplan/charts/Funnel":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/data/ModelContentCache anaplan/data/ModelContentHelper dojo/_base/array dojo/_base/declare dojo/_base/lang anaplan/utils/FormatHelper dojo/dom-construct".split(" "),function(l,s,p,q,f,k,n,m,h,
e){return n([l],{HEIGHT_ADJUSTMENT:21,HEIGHT_ADJUSTMENT_EXPORTING:54,DEFAULT_X_AXIS_LINE_WIDTH:0.7,constructor:function(){this.COLORS=Highcharts.getOptions().colors},_createChartContainer:function(){this._chartContainer=e.create("div",{style:"overflow-x:hidden;overflow-y:auto;"},this.domNode)},_getChartOptions:function(e,d){var a=this._getFunnelSeries(e,d);return!this._assertSeries(a)?null:{chart:{renderTo:this._chartContainer,type:"columnrange",inverted:!0,height:24*a[0].data.length+(this.chartConfig.dialogChart2?
this.HEIGHT_ADJUSTMENT_EXPORTING:this.HEIGHT_ADJUSTMENT)},title:{text:this._getTitle(e)},xAxis:{title:{text:null},categories:k.map(e.rows.labels[0],function(a){return s.getLabel(a)}),visible:!0,labels:{enabled:Boolean(this._highchartsOptions.funnel.axisOption),align:"right",formatter:function(){return'\x3cspan class\x3d"truncateText truncateColumn" title\x3d"'+h.escapeHTML(s.unescapeLabel(this.value))+'"\x3e'+this.value+"\x3c/span\x3e"},useHTML:!0},lineWidth:Boolean(this._highchartsOptions.funnel.axisOption)?
this.DEFAULT_X_AXIS_LINE_WIDTH:0,minorTickLength:0,tickLength:0,gridLineWidth:0},yAxis:{visible:!1},tooltip:{enabled:0<this._highchartsOptions.funnel.toolTip.length,formatter:function(){return this.point.toolTip},useHTML:!0},legend:{enabled:!1},series:a,plotOptions:{columnrange:{dataLabels:{enabled:!0,align:"center",crop:!1,verticalAlign:"middle",style:{textOutline:!1},formatter:function(){return this.point.barLabel}},groupPadding:0,pointPadding:0,maxPointWidth:24}}}},_getFunnelSeries:function(e,
d){return[{name:s.getColumnLabel(e,0),data:this._getSeriesData(e,d),point:{events:{click:m.partial(this._pointClick,this.id)}}}]},_getSeriesData:function(e,d){if(!f.axisSpecificationContainsLineItems(d.columnAxisSpecification))return console.warn(this.id,"expected to find line items on columns and did not"),[];if(1>e.columns.count)return console.warn(this.id,"expected to find at least one column and found "+e.columns.count),[];var a=e.columns.entityLongIds[0],h=k.indexOf(a,this._highchartsOptions.funnel.dataPoint);
if(-1===h)return console.warn(this.id,"invalid non configurable data point - has it been deleted?",this._highchartsOptions.funnel.dataPoint),[];var b=f.getLineItemInfo(q,a[h]);if("NUMBER"!==b.format.dataType)return console.warn(this.id,"expected to find line item formatted as number and did not - has it changed?",e.columns.labels[0][h]),[];var l=k.indexOf(a,this._highchartsOptions.funnel.barLabel),m=k.filter(k.map(this._highchartsOptions.funnel.toolTip,function(b){return k.indexOf(a,b)}),function(a){return-1<
a}),n=[],p=-1,y=-1,w=this._model.getRowAxisIdentifier(),x=this._highchartsOptions.funnel.axisOption;this.COLORS=Highcharts.getOptions().colors;for(var A=0;A<e.rows.count;A++){var D=x?"":s.getRowLabel(e,A),E=e.columns.count*A,y=s.getCellNumber(e,h+E);0>=y?y=0:"PERCENTAGE"!==b.format.unitsType&&(-1===p&&(p=y),y=100*(y/p));var B=s.getCellText(e,l+E)||"",E=e.cells.bgColors[h+E];n.push({low:Math.floor((100-y)/2),high:Math.ceil(y+Math.floor((100-y)/2)),color:E?E:this.COLORS[A%this.COLORS.length],barLabel:-1===
l?D:(D?D+": ":"")+B,toolTip:s.getTooltips(m,e,A),itemContext:[{label:D,entityLongId:e.rows.entityLongIds[0][A],axisIdentifier:w}]})}return n},setChartOptions:function(e){var d=this._model,a=s.getEntityLongIdIdentifiersForChartOptions(p.chartType.FUNNEL,e.funnel),h=d.getViewDefinition();d.isLineItemsOnColumns()?(h.columnAxisSpecification=f.removeSelectionFromAxisSpecification(h.columnAxisSpecification),h.columnAxisSpecification=f.addSelectionToAxisSpecification(h.columnAxisSpecification,"SHOW",a)):
console.warn(this.id,"setChartOptions NOOP expected to find line items on columns and did not - module dimensionality changed?");d.reset();d.setViewDefinition(h);this._highchartsOptions=e},_updateSeries:function(e,d){var a=this._getSeriesData(e,d);this._highChart.series[0].setData(a,!1);return!0}})})},"anaplan/charts/Pie":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/utils/LabelPageHelper dojo/_base/declare dojo/_base/lang".split(" "),function(l,
s,p,q,f,k){return f("anaplan.charts.Pie",[l],{_getChartOptions:function(f,l){var h=this._getPieSeries(f,l);if(!this._assertSeries(h))return null;s.setPieSeriesColourFromConfig(this._originalChartConfig,h);var e=this._getSubTitle(l,f),g=this._getSubTitleYPosition(),h={chart:{renderTo:this._chartContainer},legend:{y:p.chartOptions.legendYPosition.DEFAULT},plotOptions:{pie:{dataLabels:{format:"{point.name}: {point.cellText}",style:{textOutline:!1}}},series:{borderColor:"#FFFFFF",borderWidth:0.7}},series:h,
subtitle:{text:e,y:g},title:{text:this._getTitle(f)}};this._setupItemClickHandler(this.chartType,h);this._highchartsOptions&&(this._highchartsOptions.legend&&(k.mixin(h,{legend:this._highchartsOptions.legend}),h.plotOptions.pie.showInLegend=this._highchartsOptions.legend.enabled),this._highchartsOptions.dataLabels&&k.mixin(h.plotOptions.pie.dataLabels,this._highchartsOptions.dataLabels));k.mixin(h.legend,{maxHeight:this._getLegendMaxHeight(this._contentBox.h)});return h},_getLegendMaxHeight:function(f){return f-
100},_getPieSeries:function(f,l){var h=this._getSeriesData(f,l),e=this._getSeriesName(f);return[{data:h,type:"pie",name:e,point:{events:{click:k.partial(this._pointClick,this.id)}},cursor:"pointer"}]},_getSeriesData:function(f,k){if(void 0===f.cells.cellValues)return[];var h=null,e=null,g=null,d=-1,a=this._model.isLineItemsOnRows(),l=!a&&this._model.isLineItemsOnColumns(),b=s.getStaticContext(k,this._model.getLineItemEntityLongIdForPageInfo(),this._model.getModuleEntityLongId()),p=this._model.getColumnAxisIdentifier(),
u=this._model.getRowAxisIdentifier(),v=[];if(!a&&!l&&(d=this._model.getLineItemEntityLongIdForPageInfo(),!s.isLineItemNumeric(d)))return null;if(1>=f.columnCount||1<f.rowCount&&1<f.columnCount){b.push({axisIdentifier:p,label:q.getItemName(f.columns,0,0),entityLongId:f.columns.entityLongIds[0][0]});if(l&&(d=f.columns.entityLongIds[0][0],!s.isLineItemNumeric(d)))return null;for(l=0;l<f.rowCount;l++)p=s.getRowLabel(f,l),a&&(d=f.rows.entityLongIds[0][l]),s.isLineItemNumeric(d)&&(h=l*f.columnCount,e=f.cells.cellText[h],
g=b.slice(0),null!==e&&(g.push({entityLongId:f.rows.entityLongIds[0][l],label:p,axisIdentifier:u}),v.push({y:s.getCellNumber(f,h),cellText:e,name:p,itemContext:g})))}else{b.push({axisIdentifier:u,label:q.getItemName(f.rows,0,0),entityLongId:f.rows.entityLongIds[0][0]});if(a&&(d=f.rows.entityLongIds[0][0],!s.isLineItemNumeric(d)))return null;for(a=0;a<f.columnCount;a++)u=s.getColumnLabel(f,a),l&&(d=f.columns.entityLongIds[0][a]),s.isLineItemNumeric(d)&&(h=a,e=f.cells.cellText[h],g=b.slice(0),null!==
e&&(g.push({entityLongId:f.columns.entityLongIds[0][a],label:q.getItemName(f.columns,0,a),axisIdentifier:p}),v.push({y:s.getCellNumber(f,h),cellText:e,name:u,itemContext:g})))}this._replaceNegativeValues(v);return v},_getSeriesName:function(f){if(1>=f.columnCount||1<f.rowCount&&1<f.columnCount){if(s.getColumnLabel(f,0).length)return s.getColumnLabel(f,0)}else if(0<f.rowCount&&(f=s.getRowLabel(f,0))&&f.length)return f;return null},_getTitle:function(f){var k=this.inherited(arguments),h=this._getSeriesName(f);
return!k?null:h&&h.length?k&&k.length?k+" - "+h:h:k},_getSubTitle:function(f,k){var h=this.inherited(arguments),e=this._getSeriesName(k);return e&&e.length?h&&h.length?h:e:h},_replaceNegativeValues:function(f){for(var k=0;k<f.length;k++){var h=f[k];0>h.y&&(h.y=0)}},_updateSeries:function(f,k){var h=this._getSeriesData(f,k);this._highChart.series[0].setData(h,!1);return!0}})})},"anaplan/utils/UIHelper":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/data/RequestFactory anaplan/data/UserInfo anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/InfoDialogHelper anaplan/utils/JsHelper anaplan/utils/UrlHelper anaplan/view/ContextMenu anaplan/widgets/Dialog2 anaplan/widgets/PleaseWaitDialog dojo/dom-style dojo/json dojo/html dijit/registry dojo/_base/array dojo/_base/config dojo/_base/lang dojo/has dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/errorReporter dojo/topic dojo/Deferred".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){var B=null,C=!1,G=null,H=null,L={toggleNode:function(a,b){if(a){var d=h.isBool(b)?b:!1;r.set(a,"display",d?"":"none")}},publishGlobalContextForResult:function(a,b){if(a&&a.hasOwnProperty("entityLongIds")){var d=a.entityLongIds.split(",");if(d.length&&b.hasOwnProperty("hierarchyEntityLongId")&&-1<b.hierarchyEntityLongId){var e=k.entityLongIdToEntityLongIdIdentifier(b.hierarchyEntityLongId);D.publish("anaplan/global/context",{entityLongId:d[0],
label:null},e);return!0}}return!1},getContextMenu:function(){H||(H=new g);return H},showServerErrorInInformationDialog:function(a){this.hidePleaseWaitDialog();this.showErrorReporter(new f.ServerException(a),!0)},getSharedDialog:function(a){var b=u.byId("anaplanDialog");b&&b.destroyRecursive();a=y.mixin({id:"anaplanDialog"},a);b=new d(a);b.own(b.on("hide",function(){b.destroyRecursive()}));return b},throwClientException:function(a,b,d){var e=h.isFunction(arguments.callee)?arguments.callee.caller:"",
g="",k;for(k in a)if(a[k]===e){g=k;break}e={};a.id&&(e.widgetId=a.id);d&&y.mixin(e,d);throw new f.ClientException(a.declaredClass+": "+g,b,e);},showErrorReporter:function(a,b,d,e){D.publish("anaplan/uierror",a,b,d,e)},silentErrorReporter:function(a){f.isException(a)||(a=new f.ClientException(null,a));var b,d=null;b=A.defaultErrorMessage;try{d=a.getStackTrace(!0)}catch(e){console.warn("Failed to get stack trace: "+e.toString())}var g=['errorReference\x3d"'+(window.workspaceServerGuid+"-"+n.createUUID()||
"")+'"'];q&&g.push('userId\x3d"'+(q.getLoggedInUserGuid()||"")+'"');g.push('workspaceId\x3d"'+(workspaceId||"")+'"');g.push('modelId\x3d"'+(modelId||"")+'"');g.push('userAgent\x3d"'+(navigator.userAgent||"")+'"');g.push('locale\x3d"'+(z.locale||"")+'"');g.push('quirks\x3d"'+w("quirks")+'"');g.push('clientTimeNow\x3d"'+(new Date).toString()+'"');g.push('sessionId\x3d"'+(sessionId||"")+'"');g.push('path\x3d"'+(window.location.pathname||"")+'"');if(d)for(b=d.length;0<=b&&b+10>d.length;--b){var h=d[b];
if(h)if(h.props&&h.props.stack)g.push(h.props.stack);else{var k="";h.props&&(h.props.fileName&&(k+=h.props.fileName),h.props.lineNumber&&(k+=":"+h.props.lineNumber),k||(k=h.props.widgetId||""));k&&(k+=": ");var l=RegExp(n.getNewLinePlaceHolder(),"gim");h.message=h.message.replace(l,"\n");g.push(k+h.message)}}else g.push(b);(d=g.join("\n"))&&a instanceof f.ClientException&&D.publish("anaplan/error",{text:d})},reportUnhandledPromiseRejection:function(a){var b=s.getApplicationProperty("promiseErrorHandler");
"DIALOG"===b?this.showErrorReporter(a):"SILENT"===b&&this.silentErrorReporter(a)},getPleaseWaitDialog:function(){G||(G=new a);return G},isPleaseWaitOpen:function(){var a=this.getPleaseWaitDialog();return a&&a.open?!0:!1},hidePleaseWaitDialog:function(a){try{var b=this.getPleaseWaitDialog();b&&b.open&&(b.set("refocus",void 0==a||a?!0:!1),b.hide())}catch(d){console.error("util.js: Error hiding please wait dialog",d)}},showPleaseWaitDialog:function(a){var b=this.getPleaseWaitDialog();(a=b.show(a))&&
a.then(null,function(){});return b},redirectToTiles:function(){try{this.showRedirectToTiles(function(){window.location=e.getUrl(l.URL_IDS.LAUNCHPAD_URL_ID)+"/nonpublic/tiles/ModelSelect.action"})}catch(a){console.error(a)}},showInfoDialog:function(a,b){return m.showInfoDialog(a,b)},showRedirectToTiles:function(a){this.showInfoDialog(x.messageInvalidModel,{title:x.titleInvalidModel}).then(a)},showDirtyTabsMessage:function(a){var b=["\x3cul\x3e"];v.forEach(a,function(a){b.push("\x3cli\x3e"+a+"\x3c/li\x3e")});
b.push("\x3c/ul\x3e");a=x.messageDirtyTabs;a=a.replace(/\$\{dirtyTabsList\}/,b.join(""));return this.showInfoDialog(a,{title:x.titleDirtyTabs})},setHtml:function(a,b){a&&t.set(a,b)},setText:function(a,b){a&&(w("ie")?a.innerText=b:a.textContent=b)},addSelectOption:function(a,b,d,e){var f=document.createElement("option");f.value=b;f.text=d;e&&(f.className=e);w("ie")?a.add(f):a.add(f,null)},generateId:function(a){a=String(a).replace(/[^a-zA-Z0-9_\-:\.]/g,"_");-1===a.search(/^[a-zA-Z]/)&&(a="x"+a);return a},
dirtyFormCheck:function(a,b){try{if(C)console.warn("dirtyFormCheck has found a check already in progress"),b&&b();else{C=!0;var d=function(){C=!1;B=null;a&&a()};B&&B.handleNavigation?B.handleNavigation(d,function(){C=!1;b&&b()}):d()}}catch(e){console.error("dirtyFormCheck error",e),C=!1,B=null}},checkCanCloseDashboards:function(a,b){var d=u.byId("content");d?(d=d.getNonClosableTabs(),d.length?b(d,a):a()):a()},checkDirtyTabsAndForm:function(a,b){var d=new E;L.dirtyFormCheck(function(){L.checkCanCloseDashboards(function(){d.resolve(!1)},
function(a){L.showDirtyTabsMessage(v.map(a,function(a){return a.get("title")}));d.resolve(!0)})},function(){d.resolve(!0)});return d.promise},setDirtyForm:function(a){if(a)if(a.handleNavigation)B=a;else throw Error("formWidget must implement handleNavigation to be set as the global dirty form");else B=null},hasTouch:function(){return"ontouchstart"in window||navigator.maxTouchPoints&&1<navigator.maxTouchPoints},getListSizeLimit:function(){return w("ie")?2E4:4>w("ff")?4E4:w("ff")?8E4:1E5},getPageXOffset:function(){return window.pageXOffset||
document.documentElement.scrollLeft||0},getPageYOffset:function(){return window.pageYOffset||document.documentElement.scrollTop||0},getText:function(a){return w("ie")?a.innerText:a.textContent},getTreeLimit:function(){return 9>w("ie")?l.TREE_LIMIT_LEGACY_IE:l.TREE_LIMIT},getImportTaskLabel:function(a){var b,d=a.importEntityLongId;b="";if(d)switch(k.getEntityTypeIndex(d)){case l.IMPORT_ENTITY_TYPE_INDEX:b=s.getImportsLabelPage();d=v.indexOf(b.entityLongIds[0],d);b=0<=d?b.labels[0][d]:a.entityActionLabel?
a.entityActionLabel:"";break;case l.ACTION_ENTITY_TYPE_INDEX:a.entityActionLabel&&(b=a.operation&&a.operation===l.taskElementOperation.RUN_CMPL_SCRIPT?x.solverAction+a.entityActionLabel:a.entityActionLabel);break;case l.EXPORT_ENTITY_TYPE_INDEX:b=a.entityActionLabel?a.entityActionLabel:""}return b},findByClass:function(a){return v.filter(u.toArray(),function(b){return b.constructor===require(a)})},isDialogOpen:function(){return Array.prototype.slice.call(document.querySelectorAll(".dijitDialog, .modal-dialog")).some(function(a){return!!a.offsetHeight})}};
y.setObject("anaplan.utils.UIHelper",L);return L})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,s,p,q){return l("dijit.form.SimpleTextarea",q,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=
this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);p("ie")&&this.cols&&s.add(this.textbox,"dijitTextAreaCols")},filter:function(f){f&&(f=f.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(f){if(this.maxLength){var k=parseInt(this.maxLength),l=this.textbox.value.replace(/\r/g,""),k=l.length-k;if(0<k){var m=this.textbox;if(m.selectionStart){var h=m.selectionStart,e=0;p("opera")&&(e=(this.textbox.value.substring(0,h).match(/\r/g)||
[]).length);this.textbox.value=l.substring(0,h-k-e)+l.substring(h-e);m.setSelectionRange(h-k,h-k)}else this.ownerDocument.selection&&(m.focus(),l=this.ownerDocument.selection.createRange(),l.moveStart("character",-k),l.text="",l.select())}}this.inherited(arguments)}})})},"anaplan/view/ImportDefinition":function(){define("anaplan/anapediaKeys anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ChangeFactory anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/data/ViewRequestRequestGenerator anaplan/utils/EntityLongIdHelper anaplan/view/ImportDefinitionHierarchyMapping anaplan/view/ImportDefinitionLineItemMapping anaplan/view/ImportDefinitionListMapping anaplan/view/ImportDefinitionModuleMapping anaplan/view/ImportDefinitionUsersMapping dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/Color dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/importDefinition dojo/i18n!dijit/nls/common dojo/json dojo/keys dojo/on dojo/sniff dojo/string dojo/topic dojo/window dojo/text!anaplan/templates/ImportDefinition.html anaplan/view/ImportDefinition/_TabController dijit/layout/BorderContainer dijit/layout/TabContainer dijit/layout/ContentPane anaplan/widgets/Button dojo/colors".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R){return D([y,z,w,v],{baseClass:"importDefinition",tabIndex:-1,templateString:R,constructor:function(a){this._workspaceId=a.workspaceId;this._modelId=a.modelId;this._active=this._initialised=!1;this._serialNumbers=new k;this._importDefinition=this._viewIndex=null;this._isObserver=!1},error:function(){return!1},onCancel:function(){},onDialogHide:function(){try{this._onHide()}catch(a){s.throwClientException(this,
a)}},onHelpChange:function(){},onHide:function(){this._onHide()},onRunImport:function(){},onSaveImportDefinition:function(){},_onShow:function(){try{this._active=!0,G.toggle(C.body(),"darkUnderlay",!0),this.onHelpChange(l.importData),this.onTitleChange(N.substitute(K.titleImportDefinition,{name:p.cleanEscapeHTML(this._importEntityLabel)||""})),this._resizeView(),this._startResizeMonitor(),q.addObserver(this),this._isObserver=!0,q.gather()}catch(a){s.throwClientException(this,a)}},onTitleChange:function(){},
postCreate:function(){try{this.inherited(arguments);var a=this.errorIndicator;this.cancelButton.set("label",J.buttonCancel);this.okButton.set("label",J.buttonOk);this.runImportButton.set("label",K.buttonRunImport);s.setText(this.busyIndicator,K.labelRetrievingMappings);s.setText(this.errorIndicator,K.labelValidationErrors);this.own(Q.subscribe("import-definition/custom-error-message",function(b){a.innerHTML=K[b]?K[b]:K.labelValidationErrors}));this._resizeView()}catch(b){s.throwClientException(this,
b)}},reset:function(){try{this._initialised=!1,this._onSaveCallback=null,this._serialNumbers=new k,this._viewIndex=null,this.tabContainer.destroyDescendants(),this._setBusy(!0,K.labelRetrievingMappings)}catch(a){s.throwClientException(this,a)}},setParams:function(a){try{this.reset(),this._canRun=a.canRun||!1,this._importDefinitionJson=a.importDefinitionJson,this._importEntityLabel=a.importEntityLabel,this._importEntityLongId=a.importEntityLongId,this._sourceFields=a.sourceFields,this._importDefinition=
M.parse(this._importDefinitionJson),this._credentials=a.credentials||{},this._isApiImport=null!=a.credentials,this._persistCredentials=a.persistCredentials||!1,this._dimensionSampleData=a.dimensionSampleData||{},L.set(this.runImportButton.domNode,"display",this._canRun?"":"none")}catch(b){s.throwClientException(this,b)}},startup:function(){try{this.inherited(arguments),this._validate(!1)}catch(a){s.throwClientException(this,a)}},update:function(a){var b,d;try{if(this._active){var e=a[0];b=this._serialNumbers;
d=this._serialNumbers=new k(e.serialNumbers);this._viewIndex=e.viewIndex;b.rowAxisSerialNumber!==d.rowAxisSerialNumber&&(this._rowLabelPage=e.rowLabelPages[0]);b.columnAxisSerialNumber!==d.columnAxisSerialNumber&&(this._columnLabelPage=e.columnLabelPages[0]);if(b.dataSerialNumber!==d.dataSerialNumber){var f=x.indexOf(this._rowLabelPage.entityLongIds[0],this._importEntityLongId),g=x.indexOf(this._columnLabelPage.entityLongIds[0],n.SYSTEM_PROPERTY_IMPORT_DEFINITION),h=e.dataPages[0].cellValues[f*e.columnCount+
g];this._initialised?this._onSaveCallback&&(this._importDefinitionJson=h,this._importDefinition=M.parse(this._importDefinitionJson),this._setBusy(!1),this._onSaveCallback()):(this._importDefinitionJson=h,this._importDefinition=M.parse(this._importDefinitionJson),this._createTabs(),this._initialised=!0,this._setBusy(!1))}}}catch(l){s.throwClientException(this,l)}},view:function(){var a=null;try{a=(new g(this._workspaceId)).getRequest({modelId:this._modelId,viewDefinition:B.mixin({type:"MODEL_DEFINITION"},
h.getAxesForViewDefinition([n.SYSTEM_AXIS_IDENTIFIER_IMPORT_ALL_IDENTIFIER],[n.SYSTEM_AXIS_IDENTIFIER_IMPORT_PROPERTY_IDENTIFIER])),pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(b){s.throwClientException(this,b)}return a},uninitialize:function(){try{this._isObserver&&(q.deleteObserver(this),this._isObserver=!1),this._active=!1,this._stopResizeMonitor(),
this.tabContainer.destroyDescendants(),this.inherited(arguments)}catch(a){s.throwClientException(this,a)}},_createLineItemsTab:function(a){try{var b=new r({workspaceId:this._workspaceId,modelId:this._modelId,title:a,importDefinition:this._importDefinition,sourceFields:this._sourceFields,dimensionsInfo:this._dimensionsInfo,isApiImport:this._isApiImport}),d=O(b,"Change",B.hitch(this,function(){this._validate(!1);this._updateForm()})),e=O(b,"Busy",B.hitch(this,function(a){this._setBusy(!0,a)})),f=O(b,
"Idle",B.hitch(this,function(){this._setBusy(!1)}));this.own(d,e,f);this.tabContainer.addChild(b);return b}catch(g){s.throwClientException(this,g)}},_createListTab:function(a){try{var d=new b({workspaceId:this._workspaceId,modelId:this._modelId,title:p.escapeHTML(a.title),dimensionInfo:a,isApiImport:this._isApiImport,importDefinition:this._importDefinition,sourceFields:this._sourceFields,credentials:this._credentials,persistCredentials:this._persistCredentials}),e=O(d,"Change",B.hitch(this,function(){this._validate(!1);
this._updateForm()})),f=O(d,"Busy",B.hitch(this,function(a){this._setBusy(!0,a)})),g=O(d,"Idle",B.hitch(this,function(){this._setBusy(!1)}));this.own(e,f,g);this.tabContainer.addChild(d);return d}catch(h){s.throwClientException(this,h)}},_createTabs:function(){try{var a=this._getDimensionsInfo();this._dimensionsInfo=a;if(this._importDefinition.importType===n.importType.MODULE_DATA){this._populateModuleMappingTab();var b=a.length,d;this._dimensionTabs=[];for(var e=0;e<b;e++)d=a[e],this._dimensionTabs.push(this._createListTab(d))}else this._importDefinition.importType===
n.importType.USERS?this._populateUsersMappingTab():this._populateHierarchyMappingTab()}catch(f){s.throwClientException(this,f)}},_getDimensionsInfo:function(){var a=[],b=[],e=[],g=[],k=[];try{var l=this._importDefinition;if(l.importType===n.importType.MODULE_DATA)for(var m=f.getHierarchiesLabelPage(),r=f.getHierarchySubsetsLabelPage(),p=f.getLineItemSubsetsLabelPage(),q=d.entityLongIdIdentifierToEntityLongId(this._importDefinition.target),t=f.getModulesLabelPage(),u=x.indexOf(t.entityLongIds[0],q),
w=f.getModuleInfo(q),v=l.mappings,z=v.length,y,C,S,B,D,q=0;q<z;q++)if(y=v[q],y.targetType===n.importTargetType.MODULE_DIMENSION){C=y.target;var E=null,O=!1,R=k;if(0===C.length)R=g,B=-1!==u?t.labels[0][u]+" "+K.labelLineItems:K.labelLineItems,S=null;else{S=d.entityLongIdIdentifierToEntityLongId(C);if(S===n.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID){R=b;B=F.labelTime;var G=l.periodFormats;G||(G=l.periodFormats=[]);for(var I=0;I<G.length;++I){var J=G[I];if(J.targetType===y.targetType&&J.target===y.target){E=
J;break}}E||(E={targetType:y.targetType,target:y.target,periodFormat:null},G.push(E))}else S===n.MODEL_CONTENT_VERSION_ENTITY_LONG_ID?(R=e,B=F.labelVersions):(S==h.getHasWorkflowEntityLongId(f)&&(R=a),D=x.indexOf(m.entityLongIds[0],S),-1!==D?B=m.labels[0][D]:(D=x.indexOf(r.entityLongIds[0],S),-1!==D?B=r.labels[0][D]:(D=x.indexOf(p.entityLongIds[0],S),B=-1!==D?p.labels[0][D]:K.labelUnknownDimension)));for(I=0;I<w.lineItemInfos.length;++I){var H=w.lineItemInfos[I],P;if(S===n.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID){var M=
H.leafPeriodType||w.leafPeriodType;P=M&&M.entityId!==n.PeriodType.NOT_APPLICABLE}else if(S===n.MODEL_CONTENT_VERSION_ENTITY_LONG_ID){var L=H.versionSelection||w.versionSelection;P=L&&L.entityId!==n.VersionSelection.NOT_APPLICABLE}else P=0<=x.indexOf(H.appliesTo||w.appliesTo||[],S);if(!P){O=!0;break}}}var N=l.targetAreaSpecifications;N||(N=l.targetAreaSpecifications=[]);for(var Q={target:C,area:C?n.importTargetArea.ALL_ITEMS:n.importTargetArea.MATCHED_ITEMS},I=0;I<N.length;++I){var wa=N[I];if(wa.target===
C){Q=wa;break}}var ia=l.valueMaps;ia||(ia=l.valueMaps=[]);for(var I=null,fa=0;fa<ia.length;++fa){var ya=ia[fa];if(ya.target===C){I=ya.values;break}}null===I&&(I={},ia.push({targetType:"moduleDimension",target:C,values:I}));var Aa=l.aliasMaps;Aa||(Aa=l.aliasMaps=[]);for(var fa=null,pa=0;pa<Aa.length;++pa){var Ea=Aa[pa];if(Ea.target===C){fa=Ea.values;break}}null===fa&&(fa={},Aa.push({targetType:"moduleDimension",target:C,values:fa}));R.push({title:B,entityLongId:S,identifier:C,mapping:y,targetAreaSpecification:Q,
timePeriodFormat:E,valueMap:I,aliasMap:fa,ignorable:O})}for(var ra=a.concat(b,k,e,g),Ia=360/(ra.length+1),a=0;a<=ra.length;++a){var b=(360+(a-0)*Ia)%360,Ga=A.fromRgb("hsl("+b+",90,50)"),Ha=A.fromRgb("hsl("+b+",50,90)");a===ra.length?(this._singleValueColor=Ga,this._singleValueBackgroundColor=Ha):(ra[a].color=Ga,ra[a].backgroundColor=Ha)}return ra}catch(Ja){s.throwClientException(this,Ja)}},_getTabButton:function(a){var b=null;try{var d=this.tabContainer,e=d.getIndexOfChild(a),b=d.tablist.getChildren()[e]}catch(f){s.throwClientException(this,
f)}return b},_onCancel:function(){try{this.onCancel(),this.onTitleChange(K.titleSelectSource)}catch(a){s.throwClientException(this,a)}},_onHide:function(){try{this._active&&(this._active=!1,this._isObserver&&(q.deleteObserver(this),this._isObserver=!1),this._stopResizeMonitor(),this.reset(),G.toggle(C.body(),"darkUnderlay",!1))}catch(a){s.throwClientException(this,a)}},_onKeyDown:function(a){a.keyCode===I.ESCAPE&&(this._onCancel(),E.stop(a))},_onKeyPress:function(a){a.currentTarget===this.domNode&&
a.stopPropagation()},_onCancelButtonClick:function(){this._onCancel()},_onRunImport:function(){try{var a=this;this._saveImportDefinition(function(){a.onRunImport(M.stringify(a._importDefinition),a._importEntityLabel,a._importEntityLongId,a._credentials)})}catch(b){s.throwClientException(this,b)}},_onRunImportButtonClick:function(){this._onRunImport()},_onOk:function(){try{var a=this;this._saveImportDefinition(function(){a.onSaveImportDefinition()})}catch(b){s.throwClientException(this,b)}},_onOkButtonClick:function(){this._onOk()},
_populateHierarchyMappingTab:function(){try{var b=new a({workspaceId:this._workspaceId,modelId:this._modelId,title:K.labelMapping,sourceFields:this._sourceFields,importDefinition:this._importDefinition}),d=O(b,"Change",B.hitch(this,function(){this._validate(!1)})),e=O(b,"Change",B.hitch(this,function(){this._updateForm()}));this.own(d,e);this.tabContainer.addChild(b,0);b.startup()}catch(f){s.throwClientException(this,f)}},_populateModuleMappingTab:function(){try{var a=new t({title:K.labelMapping,
workspaceId:this._workspaceId,modelId:this._modelId,sourceFields:this._sourceFields,importDefinition:this._importDefinition,dimensionsInfo:this._dimensionsInfo,singleValueColor:this._singleValueColor,singleValueBackgroundColor:this._singleValueBackgroundColor,isApiImport:this._isApiImport,credentials:this._credentials,dimensionSampleData:this._dimensionSampleData}),b=O(a,"Change",B.hitch(this,function(){this._validate(!1);this._updateForm()})),d=O(a,"DimensionHighlight",B.hitch(this,function(a,b){try{var d=
this._dimensionsInfo[a],e=this._dimensionTabs[a];if(e){var f=this._getTabButton(e);f&&f.containerNode&&L.set(f.containerNode,"backgroundColor",b?d.backgroundColor?d.backgroundColor.toCss():"":"transparent")}}catch(g){s.throwClientException(this,g)}}));this.own(b,d);this.tabContainer.addChild(a,0)}catch(e){s.throwClientException(this,e)}},_populateUsersMappingTab:function(){try{var a=new u({workspaceId:this._workspaceId,modelId:this._modelId,title:K.labelMapping,sourceFields:this._sourceFields,importDefinition:this._importDefinition}),
b=O(a,"Change",B.hitch(this,function(){this._validate(!1);this._updateForm()}));this.own(b);this.tabContainer.addChild(a,0)}catch(d){s.throwClientException(this,d)}},_resizeView:function(){try{var a=this,b=function(){var b=S.getBox();H.setMarginBox(a.domNode,{h:b.h-200,w:b.w-275});a._viewport=b;a.outerBorderContainer.resize()};7===P("ie")?setTimeout(function(){b()},25):b()}catch(d){s.throwClientException(this,d)}},_saveImportDefinition:function(a){try{if(this._validate(!0)){this._setBusy(!0,K.labelUpdatingImportDefinition);
var b=this._importDefinitionJson;this._importDefinitionJson=M.stringify(this._importDefinition);var d=[(new m).getCellChangeGenerator().getCellChange({modelId:this._modelId,originalText:b,entityLongIds:[n.SYSTEM_PROPERTY_IMPORT_DEFINITION,this._importEntityLongId],cellText:this._importDefinitionJson})],f=e.createRequest(this._workspaceId,[{workspaceId:this._workspaceId,cellChanges:d,modelChanges:[]}],[],[]);this._onSaveCallback=a;q.gather(f)}}catch(g){s.throwClientException(this,g)}},_setBusy:function(a,
b){this.busyIndicator.style.display=a?"":"none";this.okButton.set("disabled",a);this.runImportButton.set("disabled",a);void 0!==b&&s.setText(this.busyIndicator,b)},_startResizeMonitor:function(){try{var a=this;this._resizeMonitorHandle=setInterval(function(){try{var b=S.getBox();(b.h!==a._viewport.h||b.w!==a._viewport.w)&&a._resizeView()}catch(d){console.error(a.id+": error in resize monitor",d)}},150)}catch(b){s.throwClientException(this,b)}},_stopResizeMonitor:function(){try{this._resizeMonitorHandle&&
clearInterval(this._resizeMonitorHandle)}catch(a){s.throwClientException(this,a)}},_updateForm:function(){try{for(var a=this.tabContainer.getChildren(),b=a.length,d,e=0;e<b;e++)d=a[e],d.updateForm&&d.updateForm()}catch(f){s.throwClientException(this,f)}},_updateTabIcon:function(a,b,d){try{d=d?d:1;b=b?b:"dijitTabButtonIcon";var e=this._getTabButton(a);e.iconNode.style.width=d+"px";e.set("iconClass",b)}catch(f){s.throwClientException(this,f)}},_validate:function(a){var b=!0;try{for(var d=this.tabContainer.getChildren(),
e=d.length,f,g=0;g<e;g++)f=d[g],f.validate&&(f.validate(a)?this._updateTabIcon(f):(b=!1,this._updateTabIcon(f,"invalidTabButtonIcon",18)));this.errorIndicator.style.display=b?"none":""}catch(h){s.throwClientException(this,h)}return b}})})},"anaplan/gridlet/_editor/MultiSelectModuleEditor":function(){define(["anaplan/gridlet/_editor/MultiSelectTree","anaplan/gridlet/_editor/PopupEditor","dojo/_base/declare","dojo/_base/lang","dojo/i18n!anaplan/nls/gridlet"],function(l,s,p,q,f){return p("anaplan.gridlet._editor.MultiSelectModuleEditor",
s,{getValue:function(){return this._value||null},prepare:function(k){var n=this.inherited(arguments);this._value=q.mixin({},this._params,k).value;this.widget=new l({value:this._value});this._dialog.set("title",f.MULTISELECT_MODULE);this._dialog.set("content",this.widget.domNode);this.connect(this.widget,"submit",q.hitch(this,"_onChange"));this.connect(this.widget,"cancel",q.hitch(this,"onCancel"));n.resolve();return n},_onChange:function(f){this._value=f;this.onChange(f)}})})},"anaplan/gridlet/Gridlet":function(){define("anaplan/constants anaplan/utils/JsHelper anaplan/utils/FormatHelper anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/format/util anaplan/gridlet/_ConfirmMixin anaplan/gridlet/Selection anaplan/gridlet/Themes anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/LinkFormatter anaplan/utils/TestAttributesHelper anaplan/utils/UIHelper anaplan/widgets/GridSelection dijit/_FocusMixin dijit/_TemplatedMixin dijit/focus dijit/layout/_LayoutWidget dijit/layout/utils dijit/Tooltip dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/gridlet dojo/i18n!dijit/nls/loading dojo/keys dojo/on dojo/query dojo/string dojo/text!anaplan/templates/Gridlet.html dojo/topic dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q){return A([z,u,n,t],{baseClass:"gridhost",themeClass:"classic",tabIndex:0,templateString:N,SCROLL_LIMIT:1193046,DEFAULT_SCROLL_BAR_TRACK_HEIGHT:16,EDGE_SCROLL_BAR_TRACK_HEIGHT:12,DEFAULT_SCROLL_BAR_TRACK_WIDTH:16,EDGE_SCROLL_BAR_TRACK_WIDTH:12,DEFAULT_SCROLL_EVENT_THRESHOLD:2,DEFAULT_HORIZONTAL_SCROLL_UNIT:10,IE_HORIZONTAL_SCROLL_UNIT:6,WEBKIT_HORIZONTAL_SCROLL_UNIT:40,DEFAULT_VERTICAL_SCROLL_UNIT:10,FF_VERTICAL_SCROLL_UNIT:11,
WEBKIT_VERTICAL_SCROLL_UNIT:40,constructor:function(a){a=a||{};var b=a.themeId?a.themeId:h.getFallBackTheme();this._model=a.model;this._editorFactory=a.editorFactory;this._initialized=!1;this._createdReadOnly=this.readOnly=!!a.readOnly;this._allowMultipleSelections="enableMultiple"in a?a.enableMultiple:!0;this._allowRangeSelections="enableRange"in a?a.enableRange:!0;this._allowDeselect="enableDeselect"in a?a.enableDeselect:!0;this._labelsCanBeAmbiguous="labelsCanBeAmbiguous"in a?a.labelsCanBeAmbiguous:
!0;this.set("themeClass",b);this._treeIconWidth=6;this._treeRowHeight=4;this._scrollLeft=this._scrollTop=this._columnTreeDepth=0;this._maxScroll={l:0,t:0};this._changeValidator=a.changeValidator||null;this._resizeEnabled=!0;this._modeType={NORMAL:"normal",EDIT:"edit",ENTER:"enter"};this._setModeToNormal();this._selection=null;this._initialSelection=a.selection||null;this._activeEditor=null;this._subsidiaryViewTooltip=K.tooltipOpenSubsidiaryView;this._activeEditorConnections=[];this._showBreakbackMarkers=
a.showBreakbackMarkersOnStartup||!1;this._tableRows=[];this._selectionWidgets=[];this._scrollEventThreshold=47<=F("chrome")||11<=F("ie")||9<=F("safari")||this._hasEdge()||F("ios")||F("android")?this.DEFAULT_SCROLL_EVENT_THRESHOLD:Number.MAX_VALUE},layout:function(){try{if(!1!==this._resizeEnabled){var a=this._contentBox;if(!(0===a.h||0===a.w))if(!(0>a.h||0>a.w)){var b=H.getMarginSize(this._node);if(!(Math.floor(a.h)===Math.floor(b.h)&&Math.floor(a.w)===Math.floor(b.w))&&(H.setMarginBox(this._node,
a),this._wrapperCb=this._newResetContentWrapperToDomCb(),!s.isNullOrUndefined(this._sizer)&&!s.isNullOrUndefined(this._values))){this._newResizeUsingBestGuessSize();var d=this._newGetStartCoordsMinimizeWhitespace(this._values,this._sizer);this._setScroll(d.x,d.y)}}}}catch(e){r.showErrorReporter(new f.ClientException("anaplan.gridlet.Gridlet: layout",e,{widgetId:this.id}))}},_newBestGuessSizeAllRowsAndColumnsIncludingFixed:function(){return{h:this._sizer.getFixedRowHeights(this._values)+this._sizer.getHeight(),
w:this._sizer.getFixedColumnWidths()+this._sizer.getWidth()}},_newGetBrowserSpecificHorizontalScrollUnit:function(a){if(-1===this._horizontalScrollUnit){var b=this.DEFAULT_HORIZONTAL_SCROLL_UNIT;F("webkit")?b=this.WEBKIT_HORIZONTAL_SCROLL_UNIT:F("ie")&&(b=this.IE_HORIZONTAL_SCROLL_UNIT);this._horizontalScrollUnit=a*b>this.SCROLL_LIMIT?this.SCROLL_LIMIT/a:b}return this._horizontalScrollUnit},_newGetBrowserSpecificVerticalScrollUnit:function(a){if(-1===this._verticalScrollUnit){var b=this.DEFAULT_VERTICAL_SCROLL_UNIT;
if(F("webkit"))b=this.WEBKIT_VERTICAL_SCROLL_UNIT;else if(F("mozilla")||F("ff"))b=this.FF_VERTICAL_SCROLL_UNIT;this._verticalScrollUnit=a*b>this.SCROLL_LIMIT?this.SCROLL_LIMIT/a:b}return this._verticalScrollUnit},_newGetScrollBarTrackHeight:function(){return this._hasEdge()?this.EDGE_SCROLL_BAR_TRACK_HEIGHT:this.DEFAULT_SCROLL_BAR_TRACK_HEIGHT},_newGetScrollBarTrackWidth:function(){return this._hasEdge()?this.EDGE_SCROLL_BAR_TRACK_WIDTH:this.DEFAULT_SCROLL_BAR_TRACK_WIDTH},_hasEdge:function(){var a=
!1;try{a=parseFloat(navigator.userAgent.split("Edge/")[1])||void 0}catch(b){}return a},_newGetStartCoordsMinimizeWhitespace:function(a,b){for(var d=this._wrapperCb.w-b.getFixedColumnWidths(),e=Math.min(a.startColumn,b.getColumnCount()?b.getColumnCount()-1:0);e<b.getColumnCount()&&0<d;)d-=b.getColumnWidthAtIndex(e),e++;for(e=Math.min(a.startColumn,b.getColumnCount()?b.getColumnCount()-1:0);0<e&&0<d;)d-=b.getColumnWidthAtIndex(e-1),0<d&&e--;for(var d=this._wrapperCb.h-b.getFixedRowHeights(a),f=Math.min(a.startRow,
b.getRowCount()?b.getRowCount()-1:0);f<b.getRowCount()&&0<d;)d-=b.getRowHeightAtIndex(f),f++;for(f=Math.min(a.startRow,b.getRowCount()?b.getRowCount()-1:0);0<f&&0<d;)d-=b.getRowHeightAtIndex(f-1),0<d&&f--;return{x:e,y:f}},_newResetContentWrapperToDomCb:function(){H.setMarginBox(this._wrapper,this._contentBox);return y.marginBox2contentBox(this._wrapper,this._contentBox)},_newResetScrollUnits:function(){this._verticalScrollUnit=this._horizontalScrollUnit=-1},_newResizeScrollNodeInVirtualScrollUnitsUsingBestGuessSize:function(a){try{var b=
{},d=E.clone(this._contentBox);if(d.h<a.h){var e=d.h-this._sizer.getFixedRowHeights(this._values),f=this._sizer.getHeight()/this._sizer.getRowCount(),g=this._sizer.getRowCount()-e/f,h=this._newGetBrowserSpecificVerticalScrollUnit(g);b.h=d.h+g*h}else b.h=a.h;if(d.w<a.w){var k=d.w-this._sizer.getFixedColumnWidths(),l=this._sizer.getWidth()/this._sizer.getColumnCount(),m=this._sizer.getColumnCount()-k/l,n=this._newGetBrowserSpecificHorizontalScrollUnit(m);b.w=d.w+m*n}else b.w=a.w;H.setMarginBox(this._scrollNode,
b);return b}catch(p){r.throwClientException(this,p)}},_newResizeUsingBestGuessSize:function(){this._wrapperCb=this._newResetContentWrapperToDomCb();var a=this._newBestGuessSizeAllRowsAndColumnsIncludingFixed(),b=this._newResizeScrollNodeInVirtualScrollUnitsUsingBestGuessSize(a),a=this._newResizeWrapperAndStyleOverflowUsingBestGuessSize(a);this._wrapperCb=y.marginBox2contentBox(this._wrapper,a);var a="scroll"===this._calculatedOverflowX&&(F("mac")||F("ios"))?this._newGetScrollBarTrackHeight():0,d=
"scroll"===this._calculatedOverflowY&&(F("mac")||F("ios"))?this._newGetScrollBarTrackWidth():0;this._maxScroll={t:"scroll"===this._calculatedOverflowY?Math.floor(b.h-a-this._wrapperCb.h):0,l:"scroll"===this._calculatedOverflowX?Math.floor(b.w-d-this._wrapperCb.w):0}},_newResizeWrapperAndStyleOverflowUsingBestGuessSize:function(a){var b={};a.h>this._contentBox.h?(this._calculatedOverflowY="scroll",b.w=this._contentBox.w-this._newGetScrollBarTrackWidth()):(this._calculatedOverflowY="hidden",b.w=this._contentBox.w);
a.w>b.w?(this._calculatedOverflowX="scroll",b.h=this._contentBox.h-this._newGetScrollBarTrackHeight(),"scroll"!==this._calculatedOverflowY&&a.h>b.h&&(this._calculatedOverflowY="scroll",b.w-=this._newGetScrollBarTrackWidth())):(this._calculatedOverflowX="hidden",b.h=this._contentBox.h);H.setMarginBox(this._wrapper,b);this._styleOverflow();return b},_newScrollToRequiredEnsureBottomRowEndColumnVisible:function(a,b,d,e){b="scroll"===this._calculatedOverflowY&&Math.floor(b)===this._maxScroll.t;a="scroll"===
this._calculatedOverflowX&&Math.floor(a)===this._maxScroll.l;if(!b&&!a)return!1;var f=d.startColumn;if(a){var g=this._sizer.getColumnCountForContainerWidthAtIndex(this._wrapperCb.w,-1);if(0<g){if(g!==d.columnCount||d.startColumn+d.columnCount<e.getColumnCount())f=Math.max(e.getColumnCount()-g,0)}else d.startColumn!==Math.max(e.getColumnCount()-1,0)&&(f=Math.max(e.getColumnCount()-1,0))}g=d.startRow;if(b){var h=this._sizer.getRowCountForContainerHeightAtIndex(this._wrapperCb.h,-1,d);if(0<h){if(h!==
d.rowCount||d.startRow+d.rowCount<e.getRowCount())g=Math.max(e.getRowCount()-h,0)}else d.startRow!==Math.max(e.getRowCount()-1,0)&&(g=Math.max(e.getRowCount()-1,0))}this._setScroll(f,g,b,a);return!0},editorActive:function(){return!!this._activeEditor},endEditor:function(){this._activeEditor&&this._endActiveEditor()},error:function(){try{this._activeEditor&&this._endActiveEditor(),this.hideWaitMessage()}catch(a){console.error(a)}},fixSelection:function(){try{if(this._selection){var a=this._getViewExcludingPartials(),
b=this._selection.currentCell,d=new m;b.x.isFixed()?(d.currentCell.setX(b.x.clone()),d.getCurrentRange().bottomRight.setX({index:-1,offset:0,entityLongIds:null})):d.currentCell.setX({index:Math.max(Math.min(b.x.index,a.x[1]),a.x[0]),offset:0,entityLongIds:null});b.y.isFixed()?(d.currentCell.setY(b.y.clone()),d.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null})):d.currentCell.setY({index:Math.max(Math.min(b.y.index,a.y[1]),a.y[0]),offset:0,entityLongIds:null});d.getCurrentRange().setTopLeft(d.currentCell.clone());
this._setSelection(d)}}catch(e){throw new f.ClientException("anaplan.gridlet.Gridlet.fixSelection",e);}},focus:function(){this._activeEditor?this._activeEditor.focus():v.focus(this.domNode)},getEditorValue:function(){var a=null;try{var b=this._activeEditor;b&&(a=b.getValue())}catch(d){r.throwClientException(this,d)}return a},getGridController:function(){return this._gridController},getSelectedColumnLabelDomNode:function(){try{if(!this._selection||!this._values)return null;var a=this._selection.currentCell;
if(a.x.isFixed()||a.x.offset)return null;var b=a.getStartColumnIndexInView(this._values);if(-1===b)return null;var d=a.getColumnNestingIndex();return-1===d?null:B.byId(this._generateCellId(b,null,null,d))}catch(e){r.throwClientException(this,e)}return null},getColumnLabelDomNodeForSelection:function(a){if(!a||!this._values)return null;var b=a.currentCell;a=Math.max(b.getStartColumnIndexInView(this._values),0);b=Math.max(b.getColumnNestingIndex(),0);return B.byId(this._generateCellId(a,null,null,b))},
getRowLabelDomNodeForSelection:function(a){if(!a||!this._values)return null;var b=a.currentCell;a=Math.max(b.getStartRowIndexInView(this._values),0);b=Math.max(b.getRowNestingIndex(),0);return B.byId(this._generateCellId(null,a,b,null))},getSelectedRowLabelDomNode:function(){try{if(!this._selection||!this._values)return null;var a=this._selection.currentCell;if(a.y.isFixed()||a.y.offset)return null;var b=a.getStartRowIndexInView(this._values);if(-1===b)return null;var d=a.getRowNestingIndex();return-1===
d?null:B.byId(this._generateCellId(null,b,d,null))}catch(e){r.throwClientException(this,e)}return null},getValues:function(){return this._values||null},getWrapperElement:function(){return this._wrapper},hideWaitMessage:function(){this._waitMessage.style.display="none";this._wrapper.style.display=""},isLocked:function(){return!!this._lockOverlay},lock:function(){try{this._lockOverlay=G.create("div",{"class":this.baseClass+"LockOverlay"},this.domNode)}catch(a){r.throwClientException(this,a)}},onReset:function(){},
onSelect:function(){},onSelectionChange:function(){},onSubsidiaryViewSelect:function(){},onUpdate:function(){},postCreate:function(){try{this.inherited(arguments),this._editorFactoryParams={style:"position: absolute; display: none; top: -50px;",containerNode:this._outerwrapper,wrapperNode:this._wrapper,parentWidget:this},this.setReadOnly(this.readOnly),a.add(this._scrollNode,"scroller"),this._scrollEventCount=0}catch(b){r.throwClientException(this,b)}},reset:function(){this._activeEditor&&this._endActiveEditor();
this.showWaitMessage();this._selection=null;this._destroySelectionWidgets();this.isLocked&&this.unlock();this._sizer=this._activeEditor=null;this._initialized=!1;this.onReset()},scrollToSelection:function(a){try{var b=a||this._selection,d;if(b){d=h.getDefaultThemeIdFromModelProperties();b.resolve({values:this._values});var e=this._getViewExcludingPartials();if(!b.isContainedInView(e,this._values)){var f=this._values,g=f.startColumn,k=f.startRow,l=this._sizer,m,n,p=b.currentCell,q=b.getCurrentRange();
if(!b.isWholeRowSelected())if(-1===p.x.index||p.x.index>e.x[1]){var s=this._wrapperCb.w-l.getFixedColumnWidths();a=0;m=q.topLeft.x.index;n=q.bottomRight.x?q.bottomRight.x.index:m;var t;if(-1===m)a=this._horizontalScrollUnit;else for(t=m;t<=n;t++)a+=l.getColumnWidthAtIndex(t);if(a>=s)g=-1!==p.x.index?p.x.index:f.dataColumnCount-1;else{var s=s-a,u;for(t=(-1!==p.x.index?p.x.index:f.dataColumnCount-1)-1;0<=t;)if(u=l.getColumnWidthAtIndex(t),0<s-u)s-=u,t--;else{g=t+1;break}}}else p.x.index<f.startColumn&&
(g=p.x.index);if(!b.isWholeColumnSelected())if(-1===p.y.index||p.y.index>e.y[1]){var w=this._wrapperCb.h-l.getFixedRowHeights(this._values),b=0;m=q.topLeft.y.index;n=q.bottomRight.y?q.bottomRight.y.index:m;var v;if(-1===m)b=this._verticalScrollUnit;else for(v=m;v<=n;v++)b+=l.getRowHeightAtIndex(v,d);if(b>=w)k=-1!==p.y.index?p.y.index:f.dataRowCount-1;else{m=w-b;var z;for(v=(-1!==p.y.index?p.y.index:f.dataRowCount-1)-1;0<=v;)if(z=l.getRowHeightAtIndex(v,d),0<m-z)m-=z,v--;else{k=v+1;break}}}else p.y.index<
f.startRow&&(k=p.y.index);k+=p.y.offset||0;g+=p.x.offset||0;(g!==f.startColumn||k!==f.startRow)&&this._setScroll(g,k)}}}catch(x){r.throwClientException(this,x)}},setBreakbackMarkersEnabled:function(a){this._showBreakbackMarkers=a},setCurrentSelection:function(a){try{this._setSelection(a),this.scrollToSelection(a)}catch(b){r.throwClientException(this,b)}},setReadOnly:function(a){this.readOnly=this._createdReadOnly||a;C.toggle(this.domNode,"readOnly",this.readOnly);this._initialized&&!this.readOnly&&
this._update()},setResizeEnabled:function(a){this._resizeEnabled=a},setScroll:function(a,b){this._setScroll(a,b)},setScrollBarPosition:function(){this._node.scrollLeft=this._scrollLeft;this._node.scrollTop=this._scrollTop},showWaitMessage:function(){this._wrapper.style.display="none";this._waitMessage.style.display=""},startup:function(){this._started&&console.warn(this.id+" startup");this.inherited(arguments);this._model&&this._model.addObserver(this);Q.publish("anaplan/gridletHelper/createGridController",
{gridControllerConstructorArgs:{model:this._model,gridView:this,changeValidator:this._changeValidator,showBreakbackMarkersOnStartup:this._showBreakbackMarkers||!1},onGridControllerConstructed:function(a){this._gridController=a}.bind(this)});this._gridController||r.showErrorReporter(new f.ClientException("anaplan.gridlet.Gridlet: startup",Error("There is a problem initialising grids.")));O("div.loadingMessage\x3espan.loadingMessageLabel",this._waitMessage)[0].innerHTML=J.loadingState},uninitialize:function(){x.forEach(this._activeEditorConnections,
function(a){a.remove()});this._activeEditorConnections=null;this._destroySelectionWidgets();this._editorFactory&&(this._editorFactory.destroy(),this._editorFactory=null);this._model&&(this._model.deleteObserver(this),this._model.destroy(),this._model=null);this._gridController&&(this._gridController.destroy(),this._gridController=null);this.inherited(arguments)},unlock:function(){try{this._lockOverlay&&(G.destroy(this._lockOverlay),this._lockOverlay=null)}catch(a){r.throwClientException(this,a)}},
update:function(a){try{if(this._getThemeId(),this._values=a[0],this._pageInfo=a[1],!this._sizer||this._sizer.getSerialNumber()!==a[2].getSerialNumber()){var b=this._initialized&&"scroll"===this._calculatedOverflowX&&this._scrollLeft>=this._maxScroll.l,d=this._initialized&&"scroll"===this._calculatedOverflowY&&this._scrollTop>=this._maxScroll.t;this._initialized=!0;this._sizer=a[2];this._newResetScrollUnits();this._newResizeUsingBestGuessSize();if(!b&&!d||!this._newScrollToRequiredEnsureBottomRowEndColumnVisible(b?
this._maxScroll.l:this._scrollLeft,d?this._maxScroll.t:this._scrollTop,this._values,this._sizer)){var e=this._newGetStartCoordsMinimizeWhitespace(this._values,this._sizer);this._setScroll(e.x,e.y,d,b)}}else if(this._values.rows||this._values.columns)this.hideWaitMessage(),this._selection&&this._selection.resolve({values:this._values,model:this._model}),this._hideHeldCellTooltip(),this._setColumnHeaderWrappingStyle(),this._update(),this._activeEditor&&this._updateActiveEditorPosition(),this.onUpdate(a)}catch(g){r.showErrorReporter(new f.ClientException("anaplan.gridlet.Gridlet: update",
g,{widgetId:this.id}))}},view:function(){this._initialized||console.warn("anaplan.gridlet.Gridlet: update grid is not initialised");return this._view},_addLineBreak:function(){this._activeEditor&&this._activeEditor.addLineBreak()},_addSelectionStyle:function(){try{if(this._selection)for(var a=this._values,d={values:a},e=this._selection,g=e.ranges,h=g.length,k,m,n,r,p,q,s=this._selectionWidgets,t,u,w,v,z,x,y,A,B,D,E,G,I=e.isSingleDataCellSelected(),J=0;J<h;J++)if(k=g[J],r=s[J],m=b.BORDER_NONE,k.isVisible(a)){if(k.isWholeGridSelected()){O("th,td",
this._tableDiv).forEach(function(a){C.add(a,"gridmultiselect")});m=b.BORDER_LEFT|b.BORDER_TOP;if(0===a.dataColumnCount||a.startColumn+a.columnCount===a.dataColumnCount)m|=b.BORDER_RIGHT;if(0===a.dataRowCount||a.startRow+a.rowCount===a.dataRowCount)m|=b.BORDER_BOTTOM;r.set("borders",m);r.set("decoratorStyle",b.DECORATOR_STYLE_NONE)}else if(I){if(r.set("borders",b.BORDER_TOP|b.BORDER_RIGHT|b.BORDER_BOTTOM|b.BORDER_LEFT),this._updateSelectedCellDecoration(r,k,I),!F("ie")||9<=F("ie")){t=k.getStartColumnIndexInView(a);
q=a.columnNesting;B=null;for(p=0;p<q;p++)B=this._getNode(t,null,null,p)||B;B&&C.add(B,"gridlabelhighlight");w=k.getStartRowIndexInView(a);q=a.rowNesting;B=null;for(p=0;p<q;p++)B=this._getNode(null,w,p,null)||B;B&&C.add(B,"gridlabelhighlight")}}else{t=k.getStartColumnIndexInView(a);if(-1===t)k.isWholeRowSelected()?a.dataColumnCount&&(t=0):null!==k.topLeft.x.index&&(t=k.topLeft.x.index+k.topLeft.x.offset);else if(n=k.getStartColumnSpanInView(a),null!==n&&(n===l.SPAN_MIDDLE||n===l.SPAN_END))t=0;u=k.getEndColumnIndexInView(a);
-1===u&&(k.bottomRight.x?!k.bottomRight.isRowLabelSelected()&&null!==k.bottomRight.x.index&&-1!==k.bottomRight.x.index&&(u=k.bottomRight.x.index+k.bottomRight.x.offset):u=t);w=k.getStartRowIndexInView(a);if(-1===w)k.isWholeColumnSelected()?a.dataRowCount&&(w=0):null!==k.topLeft.y.index&&(w=k.topLeft.y.index+k.topLeft.y.offset);else if(n=k.getStartRowSpanInView(a),null!==n&&(n===l.SPAN_MIDDLE||n===l.SPAN_END))w=0;v=k.getEndRowIndexInView(a);-1===v&&(k.bottomRight.y?!k.bottomRight.isColumnLabelSelected()&&
null!==k.bottomRight.y.index&&-1!==k.bottomRight.y.index&&(v=k.bottomRight.y.index+k.bottomRight.y.offset):v=w);if(e.isWholeRowSelected()){m=b.BORDER_LEFT;-1!==w&&(w>=a.startRow&&w<a.startRow+a.rowCount)&&(m|=b.BORDER_TOP);-1!==v&&(v>=a.startRow&&v<a.startRow+a.rowCount)&&(m|=b.BORDER_BOTTOM);if(-1===a.startColumn||a.startColumn+a.columnCount===a.dataColumnCount)m|=b.BORDER_RIGHT;-1!==a.startColumn&&(t=a.startColumn,u=a.startColumn+a.columnCount-1)}else if(e.isWholeColumnSelected()){m=b.BORDER_TOP;
-1!==t&&(t>=a.startColumn&&t<a.startColumn+a.columnCount)&&(m|=b.BORDER_LEFT);-1!==u&&(u>=a.startColumn&&u<a.startColumn+a.columnCount)&&(m|=b.BORDER_RIGHT);if(-1===a.startRow||a.startRow+a.rowCount===a.dataRowCount)m|=b.BORDER_BOTTOM;-1!==a.startRow&&(w=a.startRow,v=a.startRow+a.rowCount-1)}else-1!==t&&(t>=a.startColumn&&t<a.startColumn+a.columnCount)&&(m|=b.BORDER_LEFT),-1!==w&&(w>=a.startRow&&w<a.startRow+a.rowCount)&&(m|=b.BORDER_TOP),-1!==u&&(u>=a.startColumn&&u<a.startColumn+a.columnCount)&&
(m|=b.BORDER_RIGHT),-1!==v&&(v>=a.startRow&&v<a.startRow+a.rowCount)&&(m|=b.BORDER_BOTTOM);r.set("borders",m);r.set("decoratorStyle",b.DECORATOR_STYLE_NONE);if(-1===t||-1===w||-1===u||-1===v){this._moveSelectionWidget(r,k);continue}G||(G=e.currentCell.getIndices(d));z=Math.max(t,a.startColumn);y=Math.max(w,a.startRow);x=Math.min(u,a.startColumn+a.columnCount-1);A=Math.min(v,a.startRow+a.rowCount-1);for(D=y;D<=A;D++)for(E=z;E<=x;E++)if(G&&(E!==G.x||D!==G.y))(B=this._getNode(E,D,null,null))?C.add(B,
"gridmultiselect"):console.warn("anaplan.gridlet.Gridlet _addSelectionStyle failed to find node "+[D,E].join());if(!F("ie")||9<=F("ie")){q=a.columnNesting;if(k.isWholeColumnSelected())for(E=z;E<=x;E++)for(p=k.topLeft.getColumnNestingIndex();p<q;p++)(B=this._getNode(E,null,null,p))&&C.add(B,"gridlabelhighlight");else for(E=z;E<=x;E++){B=null;for(p=0;p<q;p++)B=this._getNode(E,null,null,p)||B;B&&C.add(B,"gridlabelhighlight")}q=a.rowNesting;if(k.isWholeRowSelected())for(D=y;D<=A;D++)for(p=k.topLeft.getRowNestingIndex();p<
q;p++)(B=this._getNode(null,D,p,null))&&C.add(B,"gridlabelhighlight");else for(D=y;D<=A;D++){B=null;for(p=0;p<q;p++)B=this._getNode(null,D,p,null)||B;B&&C.add(B,"gridlabelhighlight")}}}this._moveSelectionWidget(r,k)}else r.set("display",!1)}catch(H){throw new f.ClientException("anaplan.gridlet.Gridlet._addSelectionStyle",H);}},_appendLabelWithIndicator:function(a,b,d,e){a.push('\x3cspan class\x3d"gridAxisLabel" id\x3d"'+b+'"\x3e');a.push(d);a.push("\x3c/span\x3e");a.push('\x3cspan class\x3d"gridAxisIcons"\x3e');
e&l.indicators.HAS_QUICK_FILTER&&a.push('\x3cspan class\x3d"gridAxisIcon gridAxisIconFilter"\x3e\x3c/span\x3e');e&l.indicators.HAS_SORT_ASC?a.push('\x3cspan class\x3d"gridAxisIcon gridAxisIconSort"\x3e\x3c/span\x3e'):e&l.indicators.HAS_SORT_DESC&&a.push('\x3cspan class\x3d"gridAxisIcon gridAxisIconSort gridAxisIconSort--down"\x3e\x3c/span\x3e');a.push("\x3c/span\x3e")},_appendTreeLineClass:function(a,b,d){try{switch(Number(b)){case 8:case 0:a.push(" blank");break;case 1:a.push(" line");break;case 2:d?
a.push(" topLevel"):a.push(" blank");break;case 3:a.push(" firstSiblingTotalsBefore");break;case 4:a.push(" middleSibling");break;case 5:a.push(" lastSiblingTotalsBefore");break;case 6:a.push(" firstSiblingTotalsAfter");break;case 7:a.push(" lastSiblingTotalsAfter");break;default:throw new f.ClientException("Unrecognised tree line sequence code: "+b,null,{widgetId:this.id});}}catch(e){r.throwClientException(this,e)}},_applyValuesUpdate:function(a,b){if(a&&b){var d=this._values,e={values:d},f=b.currentCell;
if(f.isDataCellSelected()){var g=f.getStartColumnIndex(e),e=f.getStartRowIndex(e);-1===e&&q.axisSpecificationContainsEmpty(this._pageInfo.rowAxisSpecification)&&(e=0);-1===g&&q.axisSpecificationContainsEmpty(this._pageInfo.columnAxisSpecification)&&(g=0);-1===e||-1===g||(f=f.getCellIndexInView(d,this._pageInfo),-1!==f&&((g=B.byId(this._generateCellId(g,e,null,null)))?(g.className=a.cells.styles[0],r.setText(g.firstChild,a.cells.cellText[0]),d.cells.cellText[f]=a.cells.cellText[0],d.cells.styles[f]=
a.cells.styles[0],d.cells.isEditable[f]=!1):console.warn("Gridlet._applyValuesUpdate: DOM node unexpectedly does not exist.")))}}},_buildColumnTreeLines:function(a,b){try{for(var d=this._columnTreeDepth,e=this._treeRowHeight,f=void 0!=b&&null!==b?b.length:null,g=1;g<d;g++){a.push('\x3cdiv style\x3d"height:');a.push(e);a.push('px;" class\x3d"treeColumnLabel');if(null!==f)if(g<f)this._appendTreeLineClass(a,b.charAt(g));else switch(Number(b.charAt(f-1))){case 3:case 4:case 5:case 6:case 7:a.push(" extendedLeaf");
break;default:a.push(" blank")}else a.push(" blank");a.push('"\x3e\x3c/div\x3e')}}catch(h){r.throwClientException(this,h)}},_buildRowTreeLines:function(a,b,d,e,f,g){try{var h=e.w,k=f.treeLineSequence;d<k.length?(b.push('\x3cdiv class\x3d"cellWrapper treeRowLabel'),this._appendTreeLineClass(b,k.charAt(d),f.isAggregate),b.push('"'),g&&b.push(' id\x3d"',g,'"'),b.push(' style\x3d"width:',h,"px;height:",e.h,'px;"\x3e'),b.push(this._buildRowTreeLines(a,b,d+1,{w:h-this._treeIconWidth-2,h:e.h},f)),b.push("\x3c/div\x3e")):
f.labelId.length?this._appendLabelWithIndicator(b,f.labelId,a,f.indicator):b.push(a)}catch(l){r.throwClientException(this,l)}return b},_calculateCellIndex:function(a,b){return!this._values?0:(a-this._values.startRow)*this._values.columnCount+(b-this._values.startColumn)},_calculateFixedHeight:function(){return!this._sizer?0:this._sizer.getFixedRowHeights(this._values)},_calculateFixedWidth:function(){return!this._sizer?0:this._sizer.getFixedColumnWidths()},_cellEditorBlurHandler:function(){this._activeEditor&&
this._endEdit()},_cellEditorChangeHandler:function(){this._activeEditor&&(this._beingDestroyed||this._endEdit())},_cellEditorKeyDownHandler:function(a){try{var b=0,d=0;switch(a.keyCode){case M.TAB:b=a.shiftKey?-1:1;break;case M.ENTER:if(a.ctrlKey&&a.altKey){if(this._isModeEdit()&&this._isGeneralTextType(this._selection)){this._addLineBreak();a.preventDefault();break}}else{this._endEdit(a);break}break;case M.ESCAPE:this._endActiveEditor();this.focus();break;case M.LEFT_ARROW:case M.RIGHT_ARROW:if(this._isModeEdit())return;
F("ff")?this._endEdit(a):b=a.keyCode-M.UP_ARROW;break;case M.UP_ARROW:if(this._isModeEdit())return;F("ff")?this._endEdit(a):d=-1;break;case M.DOWN_ARROW:if(this._isModeEdit())return;F("ff")?this._endEdit(a):d=1}if(b||d)this._endEdit(a),this._moveSelection(b,d,a),D.stop(a)}catch(e){r.showErrorReporter(new f.ClientException("anaplan.gridlet.Gridlet: _cellEditorKeyDownHandler",e,{widgetId:this.id,selection:this._selection},a))}},_createGridSelectionWidget:function(){var a=null;try{a=new b({display:!1})}catch(d){throw new f.ClientException("anaplan.gridlet.Gridlet._createGridSelectionWidget",
d);}return a},_decomposeKey:function(a){var b=[];try{if(!a.id||!a.id.length)return-1!==a.className.indexOf("cellWrapper")&&a.parentNode?this._decomposeKey(a.parentNode):[];b=a.id.split("_")}catch(d){console.error("_decomposeKey: "+d)}return b},_deriveSelection:function(a){var b=null;try{if(!a||!this._values)return null;var d=this._decomposeKey(a),e=d.length;if(!e)return null;var f=a=null,g=null,h=null;"x"===d[e-4]?a=Number(d[e-3]):g=Number(d[e-3]);"y"===d[e-2]?f=Number(d[e-1]):h=Number(d[e-1]);b=
new m;e=d=null;d=null!==a?new m.ItemCoordinate({index:a,offset:0,entityLongIds:null}):new m.FixedCoordinate({fixedIndex:Math.min(g,this._values.fixedColumnCount-1)});e=null!==f?new m.ItemCoordinate({index:f,offset:0,entityLongIds:null}):new m.FixedCoordinate({fixedIndex:Math.min(h,this._values.fixedRowCount-1)});d&&(b.currentCell.setX(d),b.getCurrentRange().topLeft.setX(d.clone()));e&&(b.currentCell.setY(e),b.getCurrentRange().topLeft.setY(e.clone()));null!==g&&b.getCurrentRange().bottomRight.setX({index:-1,
offset:0,entityLongIds:null});null!==h&&b.getCurrentRange().bottomRight.setY({index:-1,offset:0,entityLongIds:null});b.resolve({values:this._values})}catch(k){r.throwClientException(this,k)}return b},_destroySelectionWidgets:function(){try{for(var a=this._selectionWidgets,b=a.length,d=0;d<b;d++)a[d].destroy();this._selectionWidgets=[]}catch(e){throw new f.ClientException("anaplan.gridlet.Gridlet._destroySelectionWidgets",e);}},_drawColumnHeader:function(a,b,d,e,f){f=b+1;var h=this._values,k=this._sizer,
m=h.columns,n=m.span,r=m.showLabel,p=m.styles,q=m.indicators,s=m.subsidiaryViews,t=h.columnNesting,u=h.columnCount,w=h.fixedRowCount,v=h.fixedColumnCount,z=h.startColumn+b,x=r?0:d,y;if(r){for(y=0;x<t;){if(r[x][b]){if(y===d)break;y++}x++}x===t&&(x=t-1)}y=this._generateCellId(z,null,null,x);e[d][b]=y;t=1;if(n)for(var A=n[x][f];f<u&&A!==l.SPAN_NONE&&A!==l.SPAN_START;)e[d][f]=y,f++,t++,A=n[x][f];a.push("\x3cth");a.push(' class\x3d"',p[x][b],'"');a.push(' id\x3d"',y,'"');1<t&&a.push(' colspan\x3d"',t,
'"');h=k.getContentBoxForColumnLabel(z,x,h);if(1===t||!b&&(!v||1<w))k=k.getBorderBoxForColumnLabel(z,x,h),1===t&&d===w-1&&(this._tableWidth+=k.w,this._columnWidths.push(k.w)),!b&&(!v||1<w)&&a.push('style\x3d"height:',k.h,'px;"');0<d&&a.push(' data-anaplan-grid-outer-id\x3d"',e[d-1][b],'"');a.push("\x3e");e=s&&s[x][b];a.push('\x3cdiv class\x3d"cellWrapper');this._wrapColumnHeaders&&d===w-1&&a.push(" wrapText");a.push('"');a.push(' id\x3d"',this._generateCellWrapperId(z,null,null,x),'"');a.push(' style\x3d"height:',
h.h,"px;");e?(a.push("width:",h.w-21,"px;"),a.push("float:left;")):a.push("width:",h.w,"px;");a.push('"\x3e');d=!r||r[x][b]?g.getItemName(m,x,b,this._labelsCanBeAmbiguous):"\x26nbsp;";q&&q[x][b]?this._appendLabelWithIndicator(a,this._generateLabelId(z,null,null,x),d,q[x][b]):a.push(d);a.push("\x3c/div\x3e");e&&(a.push('\x3cdiv class\x3d"subsidiaryViewColumn"'),a.push(' id\x3d"',this._generateSubsidiaryViewButtonId(z,null,null,x),'"'),a.push(' title\x3d"',this._subsidiaryViewTooltip,'"\x3e'),a.push("\x3c/div\x3e"));
a.push("\x3c/th\x3e");return f},_drawColumnHeaders:function(a,b,d,e){for(var f=this._values.columnCount,g=0;g<f;)g=this._drawColumnHeader(a,g,b,d,e)},_drawCrossHairs:function(a,b){try{var d=this._values,e=d.fixedColumnCount,g=d.fixedRowCount,h=d.dataColumnCount,k=d.dataRowCount;a.push('\x3cth class\x3d"gridcrosshairs" id\x3d"',this._generateCellId(null,null,0,0),'"');k&&1<e&&a.push(' colspan\x3d"',e,'"');h&&1<g&&a.push(' rowspan\x3d"',g,'"');if(1===e||0===k||1===g||0===h){var l=this._sizer.getBorderBoxForCrossHairs(d);
if(1===e||0===k)this._tableWidth+=l.w,this._columnWidths.push(l.w);(1===g||0===h)&&a.push(' style\x3d"height:',l.h,'px;"')}a.push("\x3e");a.push('\x3cdiv id\x3d"',this._generateCellWrapperId(null,null,0,0),'" style\x3d"text-align:center;cursor:pointer"\x3e\x3c/div\x3e');a.push("\x3c/th\x3e")}catch(m){throw new f.ClientException("anaplan.gridlet.Gridlet._drawCrossHairs",m);}},_drawDataCells:function(a,b,d){for(var e=this._values,f=this._sizer,g=e.columnCount,h=e.cells,k=h.styles,l=h.formats,m=h.cellText,
n=h.isEditable,r=h.bgColors,h=h.heldRangeIndices,q=e.startRow+b,s=e.startColumn,t,u,w=e.startRow,v="zebra"===d,z=0;z<g;z++)e=b*g+z,t=s+z,a.push('\x3ctd class\x3d"',k[e],v&&!(w+b&1)?" zebraz":"",' nowrap"'),u=h&&-1<h[e],!u&&r[e]&&a.push(' style\x3d"background-color:',r[e],' !important;"'),a.push(' id\x3d"',this._generateCellId(t,q,null,null),'"\x3e'),(u=l[e])&&"BOOLEAN"===u.dataType?(a.push('\x3cdiv class\x3d"gridletCheckBox'),"true"===m[e]?a.push(" gridletCheckBoxChecked"):a.push(" gridletCheckBoxUnchecked"),
(this.readOnly||!n[e])&&a.push("Disabled"),a.push('" id\x3d"',this._generateCheckboxId(t,q,null,null),'"\x3e\x3c/div\x3e')):(t=f.getContentBoxForDataCell(q,t,d),a.push('\x3cdiv class\x3d"cellWrapper" style\x3d"height:',t.h,"px;width:",t.w,'px;"\x3e',p.escapeHTML(p.unescapeHTML(m[e])),"\x3c/div\x3e")),a.push("\x3c/td\x3e")},_drawFixedRow:function(a,b,d,e){a.push("\x3ctr\x3e");!b&&this._values.fixedColumnCount&&this._drawCrossHairs(a,e);this._drawColumnHeaders(a,b,d,e);a.push("\x3c/tr\x3e")},_drawFixedRows:function(a,
b){var d=this._values.fixedRowCount,e=x.map(Array(d),function(){return[]}),f;if(d)for(f=0;f<d;f++)this._drawFixedRow(a,f,e,b)},_drawRow:function(a,b,d,e,f){a.push("\x3ctr\x3e");this._drawRowHeaders(a,b,d,e,f);this._drawDataCells(a,b,f);a.push("\x3c/tr\x3e")},_drawRowHeader:function(a,b,d,e,f,h,k){var m=this._values,n=this._sizer,r=m.rows,p=r.span,q=r.showLabel,s=r.styles,t=r.subsidiaryViews,u=m.rowNesting,w=m.rowCount,v=m.fixedRowCount,z=m.fixedColumnCount,m=m.startRow+b,x=q?0:e,y=r.indicators;f[e]++;
if(q){for(var A=0;x<u;){if(q[x][b]){if(A===e)break;A++}x++}x===u&&(x=u-1)}u=1;if(p)for(A=p[x][f[e]];f[e]<w&&A!==l.SPAN_NONE&&A!==l.SPAN_START;)f[e]++,u++,A=p[x][f[e]];a.push('\x3cth class\x3d"',s[x][b],k,' nowrap"');f=this._generateCellId(null,m,x,null);d[e]=f;a.push(' id\x3d"',this._generateCellId(null,m,x,null),'"');1<u&&a.push(' rowspan\x3d"',u,'"');if(1===u||!b&&(!v||1<z)){f=n.getBorderBoxForRowLabel(m,x,h);a.push(' style\x3d"');if(!b&&(!v||1<z))this._tableWidth+=f.w,this._columnWidths.splice(e,
0,f.w);1===u&&a.push("height:",f.h,"px;");a.push('"')}0<e&&a.push(' data-anaplan-grid-outer-id\x3d"',d[e-1],'"');a.push("\x3e");d=n.getContentBoxForRowLabel(m,x,h);e=t&&t[x][b];h=r.treeLineSequences[x][b];t=g.getItemName(r,x,b,this._labelsCanBeAmbiguous);n=y&&y[x][b];h?(b={treeLineSequence:h,isAggregate:r.isAggregate[x][b],labelId:n?this._generateLabelId(null,m,x,null):"",indicator:n?y[x][b]:-1},this._buildRowTreeLines(t,a,0,{w:d.w-this._treeIconWidth,h:d.h},b,this._generateCellWrapperId(null,m,x,
null))):(a.push('\x3cdiv class\x3d"cellWrapper"'),a.push(' id\x3d"',this._generateCellWrapperId(null,m,x,null),'"'),a.push(' style\x3d"height:',d.h,"px;"),e?a.push("width:",d.w-21,"px;"):a.push("width:",d.w,"px;"),a.push('"\x3e'),!q||q[x][b]?n?this._appendLabelWithIndicator(a,this._generateLabelId(null,m,x,null),t,y[x][b]):a.push(t):a.push("\x26nbsp;"),a.push("\x3c/div\x3e"),e&&(a.push('\x3cdiv class\x3d"subsidiaryView"'),a.push(' id\x3d"',this._generateSubsidiaryViewButtonId(null,m,x,null),'"'),
a.push(' title\x3d"',this._subsidiaryViewTooltip,'"\x3e'),a.push("\x3c/div\x3e")));a.push("\x3c/th\x3e")},_drawRowHeaders:function(a,b,d,e,f){for(var g=this._values.fixedColumnCount,h=0,k=g-1,l=this._values.startRow,m="zebra"===f;h<g;h++)e[h]===b&&this._drawRowHeader(a,b,d,h,e,f,m&&!(l+b&1)&&h===k?" zebraz":"")},_drawRows:function(a,b){var d=this._values,e=d.rowCount,d=Array(d.fixedColumnCount),f=[],g,d=x.map(d,function(){return 0});for(g=0;g<e;g++)this._drawRow(a,g,f,d,b)},_drawSelection:function(){this._resizeSelectionWidgetPool();
this._removeSelectionStyle();this._addSelectionStyle()},_drawTable:function(a){var b=this.themeId?this.themeId:this.themeClass?this.themeClass:h.getDefaultThemeIdFromModelProperties();this._tableWidth=0;this._columnWidths=[];a.push('\x3ctable class\x3d"grid qa-module qa-module-createdAt'+ +new Date+'" cellspacing\x3d"0" style\x3d"width:');var d=a.length;a.push('px;"\x3e\x3ccolgroup\x3e');var e=a.length;a.push("\x3c/colgroup\x3e\x3ctbody\x3e");this._drawFixedRows(a,b);this._drawRows(a,b);for(var b=
[],f=this._columnWidths.length,g=0;g<f;g++)b.push('\x3ccol style\x3d"width: ',this._columnWidths[g],'px;"\x3e');a.splice(e,0,b.join(""));a.splice(d,0,this._tableWidth);a.push("\x3c/tbody\x3e\x3c/table\x3e")},_endEdit:function(a){if(this._activeEditor)try{if(this._selection){var b=this._selection,d=this._activeEditor.getValue();"string"===typeof d&&(d=P.trim(d));var e=!(s.isFunction(this._activeEditor.isValid)&&!1===this._activeEditor.isValid());this._endActiveEditor();if(e)if(b.isWholeRowSelected())this._gridController.endRowLabelEdit({event:a,
currentCell:b.currentCell,value:d});else if(b.isWholeColumnSelected())this._gridController.endColumnLabelEdit({event:a,currentCell:b.currentCell,value:d});else{var g=this._gridController.endCellEdit({event:a,currentCell:b.currentCell,value:d});g&&this._applyValuesUpdate(g,b)}}else this._endActiveEditor()}catch(h){this.error(h),r.showErrorReporter(h,h instanceof f.KnownException)}finally{this._activeEditor||this.focus()}},_endActiveEditor:function(){try{this._activeEditor&&(x.forEach(this._activeEditorConnections,
function(a){a.remove()}),this._activeEditorConnections=[],this._activeEditor.hide(),this._activeEditor=null,this._setModeToNormal(),this._selection&&this._selectionWidgets[this._selection.currentCellRangeIndex].set("display",!0))}catch(a){throw new f.ClientException("anaplan.gridlet.Gridlet._endActiveEditor",a);}},_extendSelection:function(a,b){this._updateSelectionDelta(a,b)},_isGeneralTextType:function(a){var b=this._values,d=anaplan.constants.textFormatType;a=a.currentCell.getCellIndexInView(b,
this._pageInfo);if(b=b.cells.formats[a])return"TEXT"===b.dataType&&b.textType===d.GENERAL?!0:!1},_isColumnHeaderWrappingEnabled:function(){var a;if(!this._model)return!1;a=this._model.getViewDefinition();if(!a)return!1;a=E.getObject("columnSizes.columnHeaderWrapping",!1,a);return!!a&&a!==l.columnHeaderWrapping.NO_WRAP},_generateCellId:function(a,b,d,e){return[this.id,"cell",this._generateId(a,b,d,e)].join("_")},_generateCellWrapperId:function(a,b,d,e){return[this.id,"wrapper",this._generateId(a,b,
d,e)].join("_")},_generateCheckboxId:function(a,b,d,e){return[this.id,"checkbox",this._generateId(a,b,d,e)].join("_")},_generateId:function(a,b,d,e){var f=[];null!==a?f.push("x",a):null!==d&&f.push("nx",d);null!==b?f.push("y",b):null!==e&&f.push("ny",e);return f.join("_")},_generateLabelId:function(a,b,d,e){return[this.id,"label",this._generateId(a,b,d,e)].join("_")},_generateSubsidiaryViewButtonId:function(a,b,d,e){return[this.id,"sv",this._generateId(a,b,d,e)].join("_")},_getAnchorForRange:function(a){return a.anchor},
_getCellNodeAtClientXY:function(a,b){try{if(void 0==a||void 0==b)return null;this._tableRows.length||(this._tableRows=O("tr",this._tableDiv));return!this._tableRows.length?null:this._locateTableRow(a,b)}catch(d){throw new f.ClientException("anaplan.gridlet.Gridlet._getCellNodeAtClientXY",d);}},_getCellSelectionAtClientXY:function(a,b){try{var d=this._getCellNodeAtClientXY(a,b);if(d)return this._deriveSelection(d)}catch(e){throw new f.ClientException("anaplan.gridlet.Gridlet._getCellSelectionAtClientXY",
e);}return null},_getCurrentCellHeldCellIndex:function(){var a,b=-1;if((a=this._pageInfo&&this._pageInfo.breakbackHoldStatus?this._pageInfo.breakbackHoldStatus:null)&&a.breakbackHeldCellsCount&&this._selection&&this._selection.isSingleDataCellSelected())a=this._selection.currentCell.getCellIndexInView(this._values,this._pageInfo),-1!==a&&(this._values.cells.heldRangeIndices&&-1<this._values.cells.heldRangeIndices[a])&&(b=a);return b},_getLink:function(a){var b=this._values,e=this._pageInfo,f=b.cells,
g=l.textFormatType,h;if(a&&(a=a.getCellIndexInView(b,e),-1!==a&&(b=f.formats[a])&&"TEXT"===b.dataType))b.textType===g.DRILLTHRU_URI?h=(new d).parseCellValueAsLink(f.cellValues[a],!0).href:b.textType===g.EMAIL_ADDRESS&&(h=(new d).parseCellValueAsMailTo(f.cellValues[a]).safeUri);return h||null},_getNode:function(a,b,d,e){return null===a&&null===d||null===b&&null===e?null:B.byId(this._generateCellId(a,b,d,e))},_getViewExcludingPartials:function(){var a=null;try{var b=this._values,a={x:[b.startColumn,
!b.columnCount?-1:b.startColumn+b.columnCount-1],y:[b.startRow,!b.rowCount?-1:b.startRow+b.rowCount-1]},d=null,e=null,f=null,g=null;-1===a.x[1]?f=b.fixedColumnCount-1:d=a.x[1];-1===a.y[1]?g=b.fixedRowCount-1:e=a.y[1];var h=this._getNode(d,e,f,g),k=this._wrapperCb,l=h?H.getMarginBox(h):null;if(-1!==a.x[1]&&(!l||l.l+l.w>k.w))a.x[1]=Math.max(0,a.x[1]-1);if(-1!==a.y[1]&&(!l||l.t+l.h>k.h))a.y[1]=Math.max(0,a.y[1]-1)}catch(m){r.throwClientException(this,m)}return a},_getVisibleColumnCount:function(a){var b=
this._sizer;if(!b)return null;for(var d=this._calculateFixedWidth(),e=b.getColumnCount(),f=this._wrapperCb.w,g=a;g<e&&d+b.getColumnWidthAtIndex(g)<=f;)d+=b.getColumnWidthAtIndex(g),g++;return g-a},_getVisibleRowCount:function(a,b){var d,e,f,g,h;d=this._sizer;if(!d)return null;e=this._calculateFixedHeight();f=d.getRowCount();g=this._wrapperCb.h;h=a;if(!0===b){for(;-1<h&&e+d.getRowHeightAtIndex(h)<=g;)e+=d.getRowHeightAtIndex(h),h--;return a-h}for(;h<f&&e+d.getRowHeightAtIndex(h)<=g;)e+=d.getRowHeightAtIndex(h),
h++;return h-a},_hideHeldCellTooltip:function(){var a;this._heldCellTooltipTimer&&(clearTimeout(this._heldCellTooltipTimer),this._heldCellTooltipTimer=null);this._heldCellId&&(a=B.byId(this._heldCellId))&&w.hide(a)},_isModeEdit:function(){return this._mode==this._modeType.EDIT},_isModeEnter:function(){return this._mode==this._modeType.ENTER},_isModeNormal:function(){return this._mode==this._modeType.NORMAL},_isValidLinkCell:function(a){var b=this._values,e=b.cells,f=this._pageInfo,g=l.textFormatType;
if(a&&(a=a.getCellIndexInView(b,f),-1!==a&&(b=e.formats[a])&&"TEXT"===b.dataType)){if(b.textType===g.DRILLTHRU_URI)return!!(new d).parseCellValueAsLink(e.cellValues[a],!0).href;if(b.textType===g.EMAIL_ADDRESS)return!!(new d).parseCellValueAsMailTo(e.cellValues[a]).safeUri}return!1},_locateTableCell:function(a,b){try{if(void 0==a||!b||!b.length)return null;var d=Math.floor(b.length/2),e=b[d],g=H.position(e),h=g.x,k=g.w;return a<h?this._locateTableCell(a,b.slice(0,d)):a>=h+k?this._locateTableCell(a,
b.slice(d+1)):e}catch(l){throw new f.ClientException("anaplan.gridlet.Gridlet._locateTableCell",l);}},_locateTableRow:function(a,b,d,e){try{e||(this._tableRows.length?e=this._tableRows:this._tableRows=e=O("tr",this._tableDiv).map(function(a){return a}));if(void 0==a||void 0==b||!e.length)return null;d=d||0;var g=Math.floor(e.length/2),h=e[g],k=O("td:last-child",h);k.length||(k=O("th:last-child",h));if(!k.length)return null;var l=H.position(k[0]),m=l.y,n=l.h,r;if(b<m)return r=0,this._locateTableRow(a,
b,r+d,e.slice(r,g));if(b>=m+n)return r=g+1,this._locateTableRow(a,b,r+d,e.slice(r));var p=O("th,td",h).map(function(a){return a});if(!p.length)return null;var q=this._locateTableCell(a,p);if(q)return q;e=this._tableRows;for(var g=Math.max(0,d+g-1),s,t,u;0<=g;){if((q=e[g].firstChild)&&1<q.rowSpan){s=H.position(q);t=s.x;u=s.w;if(a>=t&&a<t+u)return q;if((q=q.nextSibling)&&1<q.rowSpan)if(s=H.position(q),t=s.x,u=s.w,a>=t&&a<t+u)return q}g--}}catch(w){throw new f.ClientException("anaplan.gridlet.Gridlet._locateTableRow",
w);}return null},_moveSelection:function(a,b,d){if(this._selection&&!this._selection.isWholeGridSelected()){var e=this._values,f={values:e},g=this._selection.clone(),h=g.currentCell,k=h.x,l=h.y;!k.isFixed()&&-1===k.index&&(k.index=e.dataColumnCount-1,g.resolve(f));!l.isFixed()&&-1===l.index&&(l.index=e.dataRowCount-1,g.resolve(f));if(a)if(h.isRowLabelSelected()){if(1<e.fixedColumnCount&&!l.offset){var m=a;0>k.fixedIndex+a?m=-k.fixedIndex:k.fixedIndex+a>=e.fixedColumnCount&&(m=e.fixedColumnCount-k.fixedIndex-
1);if(m&&(a=h.getStartRowIndexInView(e),-1!==a)){var n=a-e.startRow;if(0<m)for(a=0;a<m;a++){do if(f=x.indexOf(l.entityLongIds,null),-1!==f)l.entityLongIds[f]=e.rows.entityLongIds[f][n];else break;while(f<l.entityLongIds.length&&f===e.fixedColumnCount-1)}else for(a=m;0>a;a++){do f=x.indexOf(l.entityLongIds,null),-1===f?l.entityLongIds[e.rowNesting-1]=null:l.entityLongIds[f-1]=null;while(l.getNestingIndex()>=e.fixedColumnCount-1)}k.setFixedIndex(k.fixedIndex+m)}}d&&d.keyCode===M.TAB&&!d.shiftKey&&k.equals(this._selection.currentCell.x)&&
k.fixedIndex===e.fixedColumnCount-1&&0<e.dataColumnCount&&h.setX({index:0,offset:0,entityLongIds:null})}else f=h.getStartColumnIndexInView(e),-1===f?(k.setOffset(k.offset+a),null!==k.index&&(k.index+k.offset>=e.dataColumnCount?k.setOffset(e.dataColumnCount-k.index-1):0>k.index+k.offset&&k.setOffset(-k.index))):k.setOffset(k.offset+a);if(b)if(h.isColumnLabelSelected()){if(1<e.fixedRowCount&&!k.offset&&(d=b,0>l.fixedIndex+b?d=-l.fixedIndex:l.fixedIndex+b>=e.fixedRowCount&&(d=e.fixedRowCount-l.fixedIndex-
1),d&&(f=h.getStartColumnIndexInView(e),-1!==f))){b=f-e.startColumn;if(0<d)for(a=0;a<d;a++){do if(f=x.indexOf(k.entityLongIds,null),-1!==f)k.entityLongIds[f]=e.columns.entityLongIds[f][b];else break;while(f<k.entityLongIds.length&&f===e.fixedRowCount-1)}else for(a=d;0>a;a++){do f=x.indexOf(k.entityLongIds,null),-1===f?k.entityLongIds[e.columnNesting-1]=null:k.entityLongIds[f-1]=null;while(k.getNestingIndex()>=e.fixedRowCount-1)}l.setFixedIndex(l.fixedIndex+d)}}else a=h.getStartRowIndexInView(e),-1===
a?(l.setOffset(l.offset+b),null!==l.index&&(l.index+l.offset>=e.dataRowCount?l.setOffset(e.dataRowCount-l.index-1):0>l.index+l.offset&&l.setOffset(-l.index))):l.setOffset(l.offset+b);e=g.getCurrentRange();e.topLeft.setX(h.x.clone());e.topLeft.setY(h.y.clone());h.isRowLabelSelected()||e.bottomRight.setX(null);h.isColumnLabelSelected()||e.bottomRight.setY(null);this._setSelection(g);this.scrollToSelection()}},_moveSelectionWidget:function(a,b){try{var d=this._values,e={values:d,model:this._model};if(b.isWholeGridSelected())a.moveTo(O("table.grid",
this.domNode)[0]);else if(this._selection.isSingleDataCellSelected()){var g=b.topLeft.getIndices(e),h=this._getNode(g.x,g.y,g.nx,g.ny);h&&a.moveTo(h)}else{var k=b.topLeft,l=b.bottomRight.clone();l.x||l.setX(b.topLeft.x.clone());l.y||l.setY(b.topLeft.y.clone());var m=k.getIndices(e),n=l.getIndices(e);if(k.isRowLabelSelected()){var r=l.getEndRowIndexInView(d);-1!==r&&(n.y=r);-1!==d.startColumn&&0<d.columnCount&&(n.x=d.startColumn+d.columnCount)}if(k.isColumnLabelSelected()){var p=l.getEndColumnIndexInView(d);
-1!==p&&(n.x=p);-1!==d.startRow&&0<d.rowCount&&(n.y=d.startRow+d.rowCount)}-1===m.x?k.x.index<d.startColumn&&(m.x=d.startColumn):null!==m.x&&m.x<d.startColumn&&(m.x=d.startColumn);-1===m.y?k.y.index<d.startRow&&(m.y=d.startRow):null!==m.y&&m.y<d.startRow&&(m.y=d.startRow);-1===n.x?l.x.index>=d.startColumn+d.columnCount&&(n.x=d.startColumn+d.columnCount-1):null!==n.x&&n.x>=d.startColumn+d.columnCount&&(n.x=d.startColumn+d.columnCount-1);-1===n.y?l.y.index>=d.startRow+d.rowCount&&(n.y=d.startRow+d.rowCount-
1):null!==n.y&&n.y>=d.startRow+d.rowCount&&(n.y=d.startRow+d.rowCount-1);var q=this._getNode(m.x,m.y,m.nx,m.ny),s=this._getNode(n.x,n.y,n.nx,n.ny);q&&s&&a.moveTo(q,s)}a.set("display",!0)}catch(t){throw new f.ClientException("anaplan.gridlet.Gridlet._moveSelectionWidget",t);}},_onBlur:function(){try{this.inherited(arguments),this._focus=!1,this._outerwrapper.className="",this._styleOverflow()}catch(a){r.throwClientException(this,a)}},_onFocus:function(){try{this.inherited(arguments),this._focus=!0,
this._outerwrapper.className="gridselected",this._styleOverflow()}catch(a){r.throwClientException(this,a)}},_onSelect:function(){try{if(this._selection)this.onSelect(this._selection.clone())}catch(a){r.throwClientException(this,a)}},_onSelectionChange:function(){try{if(this._selection)this.onSelectionChange(this._selection.clone());else this.onSelectionChange(null)}catch(a){r.throwClientException(this,a)}},_removeSelectionStyle:function(){O("th.gridmultiselect,td.gridmultiselect",this._tableDiv).forEach(function(a){C.remove(a,
"gridmultiselect")});O("th.gridlabelhighlight",this._tableDiv).forEach(function(a){C.remove(a,"gridlabelhighlight")})},_resizeSelectionWidgetPool:function(){try{if(!this._selection||!this._selection.ranges)this._destroySelectionWidgets();else{var a=this._selectionWidgets,b=a.length,d=this._selection.ranges.length;if(b>d)for(var e=b-d;e--;)a.pop().destroy();else if(b<d)for(b=d-b;b--;)e=this._createGridSelectionWidget(),G.place(e.domNode,this._wrapper),e.startup(),a.push(e)}}catch(g){throw new f.ClientException("anaplan.gridlet.Gridlet._resizeSelectionWidgetPool",
g);}},_scroll:function(a,b){var d=this._model&&this._model._viewDefinition&&this._model._viewDefinition.themeId?h.getThemeIdFromViewDefinition(this,this._model._viewDefinition.themeId):h.getFallBackTheme();if(this._sizer){var e=this._sizer,d=0>a?0:this._getVisibleColumnCount(a,d),d=Math.min(0>a?a:a+d,e.getColumnCount()-1),f=0>b?0:this._getVisibleRowCount(b),e=Math.min(0>b?b:b+f,e.getRowCount()-1);this._view={x:[a,d],y:[b,e]};this._gridController.scroll({inView:this._view})}},_scrollEventHandler:function(){if(!this._destroyed){var a=
this._node,b=Math.min(a.scrollLeft,this._maxScroll.l),d="scroll"===this._calculatedOverflowX&&b===this._maxScroll.l,e=Math.min(a.scrollTop,this._maxScroll.t),f="scroll"===this._calculatedOverflowY&&e===this._maxScroll.t;b===this._scrollLeft&&e===this._scrollTop?this._isProgrammaticScroll=!1:(this._scrollLeft=b,this._scrollTop=e,this._isProgrammaticScroll?this._isProgrammaticScroll=!1:(this._scrollEventTimer&&clearTimeout(this._scrollEventTimer),this._scrollEventCount++,this._scrollEventCount>this._scrollEventThreshold?
(this._scrollEventCount=0,this._scrollPixelsUsingSizer(b,e,this._sizer,f,d)):this._scrollEventTimer=setTimeout(E.hitch(this,function(){this._destroyed||(this._scrollEventCount=0,this._scrollPixelsUsingSizer(b,e,this._sizer,f,d))}),250)))}},_scrollPixelsUsingSizer:function(a,b,d,e,f){e?(b=d.getRowCountForContainerHeightAtIndex(this._wrapperCb.h,-1),b=0<b?Math.max(d.getRowCount()-b,0):Math.max(d.getRowCount()-1,0)):b=Math.floor(b/this._verticalScrollUnit);f?(a=d.getColumnCountForContainerWidthAtIndex(this._wrapperCb.w,
-1),d=0<a?Math.max(d.getColumnCount()-a,0):Math.max(d.getColumnCount()-1,0)):d=Math.floor(a/this._horizontalScrollUnit);this._scroll(d,b)},_setColumnHeaderWrappingStyle:function(){this._wrapColumnHeaders=this._isColumnHeaderWrappingEnabled()},_setForceOverflowXAttr:function(a){a!==this._forceOverflowX&&(this._forceOverflowX=a,this._styleOverflow())},_setModeToEdit:function(){this._mode=this._modeType.EDIT},_setModeToEnter:function(){this._mode=this._modeType.ENTER},_setModeToNormal:function(){this._mode=
this._modeType.NORMAL},_getThemeId:function(){return this.themeClass},_setScroll:function(a,b,d,e){"none"!=this._wrapper.style.display&&(this._isProgrammaticScroll=!0);this._node.scrollLeft=e?this._maxScroll.l:this._scrollLeft=a*this._horizontalScrollUnit;this._node.scrollTop=d?this._maxScroll.t:this._scrollTop=b*this._verticalScrollUnit;this._scroll(a,b)},_setSelection:function(a){var b;try{if(a||this._selection){if(null===a)this._selection=null;else{var d=this._values;a.resolve({values:d});if(a.equals(this._selection)){this._onSelectionChange();
return}this._activeEditor&&this._endEdit(null);var e=a;if(a.isWholeGridSelected())!d.fixedRowCount&&!d.fixedColumnCount&&(e=null);else if(a.isWholeColumnSelected())0===d.dataColumnCount&&(e=null);else if(a.isWholeRowSelected())0===d.dataRowCount&&(e=null);else if(0===d.dataRowCount||0===d.dataColumnCount)e=null;this._selection=e}this._drawSelection();this._onSelectionChange();b=this._getCurrentCellHeldCellIndex();-1!==b?this._showHeldCellTooltip(b):this._hideHeldCellTooltip()}}catch(f){r.throwClientException(this,
f)}},_showHeldCellTooltip:function(a){var b=null,d=this._values,e;this._heldCellTooltipTimer&&(clearTimeout(this._heldCellTooltipTimer),this._heldCellTooltipTimer=null);d&&(b=a%d.columnCount,a=Math.floor(a/d.columnCount),b=d.startColumn+b,d=d.startRow+a,e=this._generateCellId(b,d,null,null),b=B.byId(e));this._heldCellId=e;dijit.showTooltip(K.heldCell,b);this._heldCellTooltipTimer=setTimeout(E.hitch(this,"_hideHeldCellTooltip"),1500)},_shrinkSelection:function(a,b){this._updateSelectionDelta(a,b)},
_startEdit:function(a,b,d){if(!this._activeEditor&&this._values&&!this.readOnly&&this._editorFactory){var g=this._selection;if(g&&!g.isWholeGridSelected()){var h=null,m=null,n=g.currentCell,p=this._values,q={values:p},s,t,u=l.textFormatType;if(g.isWholeRowSelected()){if(n.y.offset)return;h=n.getRowNestingIndex();if(-1===h||!p.rows.isEditable[h][n.y.index-p.startRow])return;h=p.rows.originalLabels[h][n.y.index-p.startRow]}else if(g.isWholeColumnSelected()){if(n.x.offset)return;h=n.getColumnNestingIndex();
if(-1===h||!p.columns.isEditable[h][n.x.index-p.startColumn])return;h=p.columns.originalLabels[h][n.x.index-p.startColumn]}else{s=n.getCellIndexInView(p,this._pageInfo);if(!p.cells.isEditable[s]){a&&a.preventDefault();return}t=p.cells.formats[s];if("NUMBER"==t.dataType)"PERCENTAGE"==t.unitsType?(m=p.cells.cellValues[s],h=k.applyDecimalSeparatorUsingCellFormat(p.cells.cellText[s],t),""===h&&("NUMBER"===t.dataType&&"PERCENTAGE"===t.unitsType&&"BLANK"===t.zeroFormat)&&(h="%")):(m=p.cells.cellValues[s],
h=k.formatNonPercentageOriginalNumberTextForEditor(p.cells.originalText[s],t));else{if("DATE"==t.dataType)h=p.cells.cellText[s];else{if("BOOLEAN"===t.dataType){this._toggleCheckbox(this._generateCheckboxId(n.x.index,n.y.index,null,null));return}h=p.cells.originalText[s]}m=p.cells.cellValues[s]}}p=void 0!=s&&null!==s?p.cells.formats[s]:null;q=n.getIndices(q);n=n.getRowEntityLongIds();s=this._gridController.getModuleEntityLongId();if(!s&&n)for(var w=0;w<n.length;w++){var v=n[w];if(v&&e.getEntityTypeIndex(v)==
l.MODULE_ENTITY_TYPE_INDEX){s=v;break}}a=E.mixin({},this._editorFactoryParams,{cellNode:this._getNode(q.x,q.y,q.nx,q.ny),event:a,format:p,value:h,underlyingValue:m,isSelectionButtonClick:!!d,isEnterMode:!!b,context:this._gridController.getContext(),moduleEntityLongId:s,selection:g,rowEntityLongIds:n});this._activeEditor=this._editorFactory.getEditor(a);this._activeEditorConnections.push(I(this._activeEditor,"KeyDown",E.hitch(this,"_cellEditorKeyDownHandler")));this._activeEditorConnections.push(I(this._activeEditor,
"Change",E.hitch(this,"_cellEditorChangeHandler")));this._activeEditorConnections.push(I(this._activeEditor,"Cancel",E.hitch(this,function(){this._endActiveEditor();this.focus()})));this._activeEditor.popup&&this._activeEditorConnections.push(I(this._activeEditor.popup,"Blur",E.hitch(this,"_cellEditorBlurHandler")));this._lockTimer=setTimeout(E.hitch(this,function(){this._lockTimer=null;this.lock()}),150);this._activeEditor.prepare(a).then(E.hitch(this,function(){this._lockTimer&&(clearTimeout(this._lockTimer),
this._lockTimer=null);this.unlock();b?this._setModeToEnter():this._setModeToEdit();this._selectionWidgets[g.currentCellRangeIndex].set("display",!1);this._activeEditor.show();this._activeEditor.focus()}),E.hitch(this,function(a){this._lockTimer&&(clearTimeout(this._lockTimer),this._lockTimer=null);this.unlock();this._endActiveEditor();this.focus();r.showErrorReporter(new f.ClientException("anaplan.gridlet.Gridlet: _startEdit",a,{widgetId:this.id}))}));t&&"TEXT"===t.dataType&&t.textType===u.GENERAL&&
this._activeEditor.createSizerDiv(document.body,this._activeEditor.widget.domNode.style.width)}}},_styleOverflow:function(){if(this._forceOverflowX||this._calculatedOverflowX)L.set(this._node,{overflowX:this._focus?this._calculatedOverflowX:this._forceOverflowX||this._calculatedOverflowX,overflowY:this._calculatedOverflowY})},_toggleCheckbox:function(a){if(this._values&&!this.readOnly&&(a=B.byId(a))){var b=a.className;if(-1===b.indexOf("Disabled")){this._activeEditor&&this._endEdit(null);var d=this._deriveSelection(a);
this._setSelection(d);var d=d.currentCell,e=d.getCellIndexInView(this._values,this._pageInfo);if(-1!==e&&this._values.cells.isEditable[e])try{var f;f=-1===b.indexOf("Checked")?"true":"false";this._gridController.endCellEdit({currentCell:d,value:f});var g=d.getIndices({values:this._values}),h=this._getNode(g.x,g.y,null,null);h&&(C.add(h,"new"),"true"===f?C.contains(a,"gridletCheckBoxUnchecked")&&(C.remove(a,"gridletCheckBoxUnchecked"),C.add(a,"gridletCheckBoxChecked")):C.contains(a,"gridletCheckBoxChecked")&&
(C.remove(a,"gridletCheckBoxChecked"),C.add(a,"gridletCheckBoxUnchecked")))}catch(k){this.error(k)}}}},_update:function(){if(this._usesHtmlRenderer()){var a=[];this._drawTable(a);this._tableDiv.innerHTML=a.join("");this._tableRows=[];this._initialSelection?(this._setSelection(this._initialSelection),this._initialSelection=null):this._drawSelection()}},_updateActiveEditorPosition:function(){try{if(this._activeEditor)if(!this._selection||this._selection.isWholeGridSelected())this._endEdit(null);else if(this._selection.isVisible(this._values)){var a=
this._selection.currentCell.getIndices({values:this._values}),b=this._getNode(a.x,a.y,a.nx,a.ny);if(b){var d=H.getMarginBox(b);this._activeEditor.moveTo(d.l,d.t);this._activeEditor.show();this.focus()}else this._endEdit(null)}else this._activeEditor.hide()}catch(e){r.throwClientException(this,e)}},_updateSelectedCellDecoration:function(a,e,g){var h=b.DECORATOR_STYLE_NONE,k=!1,m=this._values,n=l.textFormatType,r,p,q;try{if(!this.readOnly&&(g&&e.isDataCellSelected())&&(r=e.getCellIndexInView(m,this._pageInfo),
m.cells.isEditable[r]&&(q=m.cells.formats[r])))p=q.dataType,"ENTITY"===p?h=b.DECORATOR_STYLE_DROPDOWN:"TIME_ENTITY"===p?h=b.DECORATOR_STYLE_DROPDOWN:"FORMAT"===p||"SUMMARY"===p||"MULTISELECT_USER"===p||"MULTISELECT_HIERARCHY"===p||"MULTISELECT_MODULE"===p||"MULTISELECT_TAG"===p||"MULTISELECT_ENTITY"===p||"DATE"===p||"ACTION_DEFINITION"===p?h=b.DECORATOR_STYLE_ELLIPSIS:"TEXT"===p&&(q.textType===n.EMAIL_ADDRESS?(h=b.DECORATOR_STYLE_ELLIPSIS,k=!!(new d).parseCellValueAsMailTo(m.cells.cellValues[r]).safeUri):
q.textType===n.DRILLTHRU_URI&&(h=b.DECORATOR_STYLE_ELLIPSIS,k=!!(new d).parseCellValueAsLink(m.cells.cellValues[r],!0).href));a.set("decoratorStyle",h);a.set("isValidLink",k)}catch(s){throw new f.ClientException("anaplan.gridlet.Gridlet#_updateSelectedCellDecoration",s);}},_updateSelectionDelta:function(a,b){if(this._selection){var d=this._selection;a&&d.isWholeRowSelected()&&(a=0);b&&d.isWholeColumnSelected()&&(b=0);if(a||b){var e=null,f=null,g=null;switch(this._getAnchorForRange(d.getFocusedRange())){case "TL":e=
d.clone();f=e.getFocusedRange();g=f.bottomRight.clone();g.x||g.setX(f.topLeft.x.clone());g.y||g.setY(f.topLeft.y.clone());a&&(g.isRowLabelSelected()||g.x.setOffset(g.x.offset+a),f.setBottomRight(g));b&&(g.isColumnLabelSelected()||g.y.setOffset(g.y.offset+b),f.setBottomRight(g));g=new m;g.currentCell.setX(f.bottomRight.x&&-1!==f.bottomRight.x.index?f.bottomRight.x.clone():f.topLeft.x.clone());g.currentCell.setY(f.bottomRight.y&&-1!==f.bottomRight.y.index?f.bottomRight.y.clone():f.topLeft.y.clone());
g.getFocusedRange().setTopLeft(g.currentCell.clone());break;case "TR":e=d.clone();f=e.getFocusedRange();d=f.topLeft.clone();g=f.bottomRight.clone();g.x||g.setX(d.x.clone());g.y||g.setY(d.y.clone());a&&(d.isRowLabelSelected()||d.x.setOffset(d.x.offset+a),f.setTopLeft(d),f.setBottomRight(g));b&&(g.isColumnLabelSelected()||g.y.setOffset(g.y.offset+b),f.setTopLeft(d),f.setBottomRight(g));g=new m;g.currentCell.setX(f.topLeft.x.clone());g.currentCell.setY(f.bottomRight.y&&-1!==f.bottomRight.y.index?f.bottomRight.y.clone():
f.topLeft.y.clone());g.getFocusedRange().setTopLeft(g.currentCell.clone());break;case "BL":e=d.clone();f=e.getFocusedRange();d=f.topLeft.clone();g=f.bottomRight.clone();g.x||g.setX(d.x.clone());g.y||g.setY(d.y.clone());a&&(g.isRowLabelSelected()||g.x.setOffset(g.x.offset+a),f.setTopLeft(d),f.setBottomRight(g));b&&(d.isColumnLabelSelected()||d.y.setOffset(d.y.offset+b),f.setTopLeft(d),f.setBottomRight(g));g=new m;g.currentCell.setX(f.bottomRight.x&&-1!==f.bottomRight.x.index?f.bottomRight.x.clone():
f.topLeft.x.clone());g.currentCell.setY(f.topLeft.y.clone());g.getFocusedRange().setTopLeft(g.currentCell.clone());break;case "BR":e=d.clone(),f=e.getFocusedRange(),d=f.topLeft.clone(),a&&(d.isRowLabelSelected()||d.x.setOffset(d.x.offset+a),f.setTopLeft(d)),b&&(d.isRowLabelSelected()||d.y.setOffset(d.y.offset+b),f.setTopLeft(d)),g=new m,g.currentCell.setX(f.topLeft.x.clone()),g.currentCell.setY(f.topLeft.y.clone()),g.getFocusedRange().setTopLeft(g.currentCell.clone())}e&&(this._setSelection(e),g&&
this.scrollToSelection(g))}}}})})},"anaplan/view/LineItemImportMapper":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/FilteringSelect dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-construct dojo/on dojo/string anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/ViewRequestRequestGenerator anaplan/utils/EntityLongIdHelper dojo/text!anaplan/templates/LineItemImportMapper.html dojo/i18n!anaplan/nls/lineItemImportMapper".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return m([q,f,p],{templateString:z,baseClass:"lineItemImportMapper",widgetsInTemplate:!1,constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._importDefinition=a.importDefinition,this._sourceFields=a.sourceFields,this._viewDefinition=h.mixin({type:"MODEL_DEFINITION",staticContextIdentifiers:[this._importDefinition.target]},t.getAxesForViewDefinition([b.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER],[b.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER])),
this._serialNumbers=new r,this._viewIndex=null,this._selectors=[],this._connections=[],this._nls=y}catch(d){l.throwClientException(this,d)}},error:function(){return!1},onBusy:function(){},onChange:function(){},onIdle:function(){},startup:function(){try{this.inherited(arguments),this.onBusy(this._nls.labelLoading),s.addObserver(this),this._isObserver=!0,s.gather()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._isObserver&&s.deleteObserver(this),this._destroySourceFieldSelectors(),
this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},update:function(a){var b,d;try{var e=a[0];b=this._serialNumbers;d=this._serialNumbers=new r(e.serialNumbers);this._viewIndex=e.viewIndex;b.rowAxisSerialNumber!==d.rowAxisSerialNumber&&(this._rowLabelPage=e.rowLabelPages[0],this._destroySourceFieldSelectors(),this._createSourceFieldSelectors(),this.onIdle())}catch(f){l.throwClientException(this,f)}},view:function(){var a=null;try{a=(new u(this._workspaceId)).getRequest({modelId:this._modelId,
viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(b){l.throwClientException(this,b)}return a},_createSelector:function(a,b){var f=null;try{var g=null,h;if("undefined"===b.sourceType)g=b.sourceType;else{if(b.sourceColumnEntityLongId)for(h in a)if(a[h].sourceColumnEntityLongId==b.sourceColumnEntityLongId){g=a[h].identifier;
break}if(!g)for(h in a){var m=a[h];if(m.sourceType==b.sourceType&&!("field"==m.sourceType&&m.sourceFieldId!=b.sourceFieldId)){if("column"==m.sourceType)if(0<=b.sourceColumnNumber){if(m.sourceColumnNumber!=b.sourceColumnNumber)continue}else if(m.sourceColumnName!=b.sourceColumnName)continue;break}}}var n=new e({data:{identifier:"identifier",label:"label",items:a}}),f=new k({store:n,searchAttr:"label",value:g,required:!0,autocomplete:!0,hasDownArrow:!0}),r=this;this._connections.push(d(f,"Change",function(a){if(f.isValid()){delete b.sourceColumnNumber;
delete b.sourceColumnName;delete b.sourceColumnEntityLongId;delete b.sourceFieldId;if(""==a)b.sourceType="undefined";else if(a=a.split("."),b.sourceType=a[0],3<=a.length)for(var d=a[1].split(","),e=0;e<d.length;++e){var g=e==d.length-1?a.slice(e+2).join("."):a[e+2];b[d[e]]=g}r.onChange()}}))}catch(p){l.throwClientException(this,p)}return f},_createSourceFieldSelectors:function(){try{for(var a=this._rowLabelPage.labels[0],b=this._rowLabelPage.entityLongIds[0],d=this._getItemsForSourceFieldSelectors(),
e=this._selectors,f=this._importDefinition.mappings,k=f.length,m,r,p,q,s,t,u=0;u<k;u++)if(m=f[u],"moduleLineItem"===m.targetType&&""!==m.target&&(p=m.target,q=v.entityLongIdIdentifierToEntityLongId(p),r=n.indexOf(b,q),-1!==r)){s=g.create("tr",null,this.lineItemMappings);t=g.create("td",{"class":"sourceCell"},s);var z=this._createSelector(h.clone(d),m);e.push(z);g.place(z.domNode,t);t=g.create("td",{"class":"targetCell"},s);l.setText(t,a[r])}}catch(y){l.throwClientException(this,y)}},_destroySourceFieldSelectors:function(){try{n.forEach(this._connections,
function(a){a.remove()}),n.forEach(this._selectors,function(a){g.destroy(a)}),this._connections=[],this._selectors=[]}catch(a){l.throwClientException(this,a)}},_getItemsForSourceFieldSelectors:function(){var a=[];try{var b=this._sourceFields,d=b.length,e,f,g;a.push({identifier:"undefined",label:this._nls.labelNoMatch});for(var k=0;k<d;k++)if(e=b[k],"headerRow"!==e.sourceType){f=e.sourceColumnEntityLongId?["sourceColumnEntityLongId","sourceColumnName"]:e.sourceColumnName?["sourceColumnName"]:0<=e.sourceColumnNumber?
["sourceColumnNumber"]:["sourceFieldId"];g=e.sourceType;if(f){g+="."+f.join(",");for(var m in f)f.hasOwnProperty(m)&&(g+="."+e[f[m]])}a.push(h.mixin(h.clone(e),{identifier:g,label:this._getSourceLabel(e)}))}}catch(n){l.throwClientException(this,n)}return a},_getSourceLabel:function(b){var d=null;try{d=b.displayName,"column"===b.sourceType&&0<=b.sourceColumnNumber&&(d=a.substitute(this._nls.columnSourceLabel,[b.sourceColumnNumber+1]))}catch(e){l.throwClientException(this,e)}return d}})})},"anaplan/gridlet/_editor/FormatEditor":function(){define("anaplan/gridlet/_editor/DataType anaplan/gridlet/_editor/PopupEditor anaplan/utils/SelectionHelper dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/gridlet".split(" "),
function(l,s,p,q,f,k){return q("anaplan.gridlet._editor.FormatEditor",[s],{getValue:function(){return this._value||null},prepare:function(n){var m=this.inherited(arguments),h=f.mixin({},this._params,n);if(!h.context)return m.reject("anaplan.gridlet._editor.FormatEditor#prepare - no context provided"),m;if(!this._dialog)return m.reject("anaplan.gridlet._editor.FormatEditor#prepare - no dialog provided"),m;this._value=h.underlyingValue;this.widget=new l({initialFormat:this._value,context:n.context,
selection:n.selection});h=p.getRowsSelection(h.selection,h.context);this._dialog.set("title",[k.titleFormatDialog,h.count?h.labels[0][0]:k.labelLineItem].join(" - "));this._dialog.addChild(this.widget);this.widget.startup();this.connect(this.widget,"submitFormat",f.hitch(this,"_onChange"));this.connect(this.widget,"cancelEdit",f.hitch(this,"onCancel"));m.resolve();return m},_onChange:function(f){this._value=f;this.onChange(f)}})})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",
function(l,p){this.response=p})})},"anaplan/data/UpdatesCache":function(){define(["anaplan/constants","anaplan/data/LabelItemCache","anaplan/data/CellItemCache","dojo/_base/declare"],function(l,s,p,q){return q("anaplan.data.UpdatesCache",null,{constructor:function(f){this._style=f.style||"normal";this._id=this._style+"Updates";this._cellUpdates=new p({id:this._style+"Cells",style:this._style});this._rowLabelUpdates=new s({id:this._style+"Rows",style:this._style});this._columnLabelUpdates=new s({id:this._style+
"Columns",style:this._style});this._operations=f.operations||[]},accept:function(f){this._cellUpdates.isEmpty()||f.visitCells1(this._cellUpdates);this._rowLabelUpdates.isEmpty()||f.visitRows1(this._rowLabelUpdates);this._columnLabelUpdates.isEmpty()||f.visitColumns1(this._columnLabelUpdates)},addAll:function(f){this._addAll(f.getCellUpdates(),this._cellUpdates);this._addAll(f.getRowLabelUpdates(),this._rowLabelUpdates);this._addAll(f.getColumnLabelUpdates(),this._columnLabelUpdates);this._operations=
this._operations.concat(f.getOperations())},addCellUpdate:function(f,k,l){this._cellUpdates.addItem(f,k,l)},addColumnLabelUpdate:function(f,k,l){this._columnLabelUpdates.addItem(f,k,l)},addRowLabelUpdate:function(f,k,l){this._rowLabelUpdates.addItem(f,k,l)},clear:function(){this._cellUpdates.clear();this._rowLabelUpdates.clear();this._columnLabelUpdates.clear();this._operations=[]},getCellUpdates:function(){return this._cellUpdates},getColumnLabelUpdates:function(){return this._columnLabelUpdates},
getLastOperation:function(){return this._operations[this._operations.length-1]},getOperations:function(){return this._operations},getRowLabelUpdates:function(){return this._rowLabelUpdates},isEmpty:function(){return!this._cellUpdates.isEmpty()||!this._columnLabelUpdates.isEmpty()||!this._rowLabelUpdates.isEmpty()?!1:!0},_addAll:function(f,k){var l,m;for(l in f._items)f._items.hasOwnProperty(l)&&(m=f._getItem(l),k._addItem(m,l))}})})},"anaplan/widgets/LinkEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/keys dojo/sniff dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/form/_TextBoxMixin anaplan/Exceptions anaplan/utils/UIHelper anaplan/utils/LinkFormatter dojo/i18n!anaplan/nls/linkEditor dojo/text!anaplan/templates/LinkEditor.html dijit/form/TextBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return l([n,k,m],{baseClass:"linkEditor",templateString:r,isEnterMode:!1,value:null,labelTextBox:null,labelTextBoxLabel:null,urlTextBox:null,urlTextBoxLabel:null,focus:function(){var a=this._focusWidget||this.urlTextBox;h.selectInputText(a.textbox,a.get("value").length)},onChange:function(){},onKeyDown:function(){},postCreate:function(){this.inherited(arguments);g.setText(this.labelTextBoxLabel,a.labelDisplayText);g.setText(this.urlTextBoxLabel,a.labelLink);p.set(this.labelTextBoxLabel,
"for",this.labelTextBox.id);p.set(this.urlTextBoxLabel,"for",this.urlTextBox.id)},reset:function(){this.urlTextBox.reset()},startup:function(){this.inherited(arguments);9>f("ie")&&setTimeout(s.hitch(this,function(){try{this.labelTextBox.textbox.style.fontFamily=this.urlTextBox.textbox.style.fontFamily="Myriad, Helvetica, Tahoma, Arial, clean, sans-serif"}catch(a){}}),500)},_getValueAttr:function(){return(new d).formatLink(this.urlTextBox.get("value"),this.labelTextBox.get("value"))},_onLabelTextBoxChange:function(a){this.onChange(a,
this.urlTextBox.get("value"))},_onLabelTextBoxKeyDown:function(a){if(a.ctrlKey&&a.metaKey||!(a.keyCode===q.TAB&&a.shiftKey))this.onKeyDown(a)},_onUrlTextBoxChange:function(a){this.onChange(this.labelTextBox.get("value"),a)},_onUrlTextBoxKeyDown:function(a){if(a.ctrlKey&&a.metaKey||a.keyCode!==q.TAB||a.shiftKey)this.onKeyDown(a)},_setValueAttr:function(a){var f=new d,g="",h="",k;try{this._set("value",a);this._focusWidget=this.urlTextBox;if(a){k=f.parseCellValueAsLink(a);h=k.href;if(g=h!==k.label?k.label:
"")this._focusWidget=this.labelTextBox;this.isEnterMode&&(g?g="":h="")}this.labelTextBox.set("value",g);this.urlTextBox.set("value",h)}catch(l){throw new e.ClientException("anaplan.widgets.LinkEditor#_setValueAttr",l);}}})})},"anaplan/widgets/Tree":function(){define("anaplan/utils/getLocalStorage anaplan/widgets/Tree/SingularDndSelector anaplan/widgets/Tree/ShimmedPromise anaplan/widgets/Tree/TreeNode dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-class dojo/dom-geometry dojo/keys dojo/promise/all dijit/Tree anaplan/Exceptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){var b=l();return k(a,{_TreeNode:q,autoExpandFirstNode:!0,dndController:s,leafPageSize:null,persist:!1,getIconClass:function(){return"anaplanTreeIconNone"},getSelectedTreeNode:function(){var a,b;try{b=this.dndController.getSelectedTreeNodes(),b.length&&(a=b[0])}catch(d){throw new r.ClientException("anaplan.widgets.Tree#getSelectedTreeNode",d,{widgetId:this.id});}return a},selectNodeWithId:function(a){var b=this.model,d=[],e,f;try{if(this._itemNodesMap[a]){if(f=
this._itemNodesMap[a][0]){b=this.model;e=f;do d.push(String(b.getIdentity(e.item))),e=e.getParent();while(e&&e.item);d.reverse();this.set("path",d);this.onClick(f.item,f)}}else console.error(this.id+": node not found with ID "+a)}catch(g){throw new r.ClientException("anaplan.widgets.Tree#selectNodeWithId",g);}},postCreate:function(){var a;this.inherited(arguments);h.add(this.domNode,"dijitTree");a=this._keyNavCodes;a[g.PAGE_DOWN]=n.hitch(this,"_onPageDown");a[g.PAGE_UP]=n.hitch(this,"_onPageUp")},
startup:function(){var a;try{this.inherited(arguments),this.autoExpandFirstNode&&(a=this._getRootOrFirstNode())&&this._expandNode(a)}catch(b){throw new r.ClientException("anaplan.widgets.Tree#startup",b,{widgetId:this.id});}},_calculatePageSize:function(){var a,b;if(!this.domNode)return 0;a=this.domNode.parentNode;if(!a)return 0;a=e.getMarginSize(a);if(!a.h)return 0;b=this._getRootOrFirstNode();if(!b||!b.rowNode)return 0;b=e.getMarginSize(b.rowNode);return Math.abs(a.h/(b.h||20))},_createTreeNode:function(a){try{return new q(a)}catch(b){throw new r.ClientException("anaplan.widgets.Tree#_createTreeNode",
b);}},_expandNode:function(a){var b=this;if(a._expandNodeDeferred)return a._expandNodeDeferred;var d=this.model,e=a.item;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new m,d.getChildren(e,function(d){a.unmarkProcessing();a.setChildItems(d,b.leafPageSize,0).then(function(){b._destroyed||a._loadDeferred.resolve(d)})},function(d){console.error(b,": error loading "+a.label+" children: ",d);a._loadDeferred.reject(d)}));this._curDef=d=a._loadDeferred.then(n.hitch(this,function(){if(!b._destroyed){var d=
a.expand();this.onOpen(a.item,a);this._state(a,!0);return d}}));this._startPaint(d);return d},_getPreviousNode:function(a){var b=a,d;if(d=a.getPreviousSibling())for(b=d;b.isExpandable&&b.isExpanded&&b.hasChildren();)b=b.getChildren(),b=b[b.length-1];else if(d=b.getParent(),this.showRoot||d!==this.rootNode)b=d;return b===a?null:b},_onPageDown:function(a){var b=this._calculatePageSize(),d,e;if(b){a=this._getNextNode(a.node);for(e=1;a&&e<b;e++)d=a,a=this._getNextNode(d);d&&d.isTreeNode&&this.focusNode(d)}},
_onPageUp:function(a){var b=this._calculatePageSize(),d,e;if(b){a=this._getPreviousNode(a.node);for(e=1;a&&e<b;e++)d=a,a=this._getPreviousNode(d);d&&d.isTreeNode&&this.focusNode(d)}},_setPathsAttr:function(b){function e(b,d){function h(a,b){return b.getIdentity()==a}var k,l;d.goToFirstPage();k=b.shift();do l=d.getIdentity()==k?d:f.filter(d.getChildren(),n.partial(h,k))[0];while(!l&&d.pageForward());if(l)return b.length?g._expandNode(l).then(function(){return e(b,l)}):l;throw new a.PathError("Could not expand path at "+
k);}var g=this;return p(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return d(f.map(b,function(b){b=f.map(b,function(a){return n.isString(a)?a:g.model.getIdentity(a)});if(b.length)return e(b,g.rootNode);throw new a.PathError("Empty path");}))}).then(function(a){g.set("selectedNodes",a);return g.paths}))},_setPathExpandedToLeafAttr:function(a){return a.length?p(this.set("pathsExpandedToLeaf",[a]).then(function(a){return a[0]})):p(this.set("pathsExpandedToLeaf",[]).then(function(a){return a[0]}))},
_setPathsExpandedToLeafAttr:function(b){function e(a,b){return h._expandNode(a).then(function(){var d=a.getChildren();return d.length?e(d[0],b):b})}function g(b,d){var k=b.shift(),l=f.filter(d,function(a){return a.getIdentity()==k})[0];if(l)return b.length?h._expandNode(l).then(function(){return g(b,l.getChildren())}):e(l,l);throw new a.PathError("Could not expand path at "+k);}var h=this;return p(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return d(f.map(b,function(b){b=
f.map(b,function(a){return n.isString(a)?a:h.model.getIdentity(a)});if(b.length)return g(b,[h.rootNode]);throw new a.PathError("Empty path");}))}).then(function(a){h.set("selectedNodes",a);a[0]&&a[0].focus&&a[0].focus();return h.paths}))},_saveExpandedNodes:function(){var a,d,e;if(this.persist&&this.cookieName){d=[];e=this._openedNodes;for(a in e)e.hasOwnProperty(a)&&d.push(a);b.setItem(this.cookieName,d.join(","))}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=
b.getItem(this.cookieName);a&&f.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}}})})},"anaplan/gridlet/_editor/cellEditors/ListCellEntitySelectorDropDown":function(){define("dojo/dom-style dojo/dom-class dijit/form/_ComboBoxMenu dojo/_base/declare dojo/_base/event dojo/sniff".split(" "),function(l,s,p,q,f){return q(p,{baseClass:"dijitComboBoxMenu entityTreeComboMenu",postCreate:function(){s.add(this.domNode,"qa-editor-dropdown");this.inherited(arguments)},_onClick:function(k,l){var m=
l.getAttribute("action");m||s.contains(l,"menuItemNotSelectable")?(this.emit("action",{action:m}),f.stop(k)):this.inherited(arguments)},_onMouseUp:function(k,l){l.getAttribute("action")?f.stop(k):s.contains(l,"menuItemNotSelectable")?f.stop(k):this.inherited(arguments)},_createTreeItem:function(f,n,m){var h=this.ownerDocument.createElement("div"),e;e="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");e+=f?"":" menuItemNotSelectable";h.setAttribute("role","option");m&&(h.setAttribute("action",
m),e+=" menuItemButton");h.className=e;0<n&&l.set(h,{paddingLeft:n+"px"});return h},_createOption:function(f,l){var m=this._createTreeItem(f.isSelectable,8*(f.level-1),f.buttonAction),h=l(f);h.html?m.innerHTML=h.label:m.appendChild(m.ownerDocument.createTextNode(h.label));m.innerHTML&&0===m.innerHTML.length&&(m.innerHTML="\x26#160;");return m},createOptions:function(){l.set(this.domNode,"width","");this.inherited(arguments)},_createMenuButton:function(){var f=this.ownerDocument.createElement("div");
f.className="dijitReset dijitMenuItem menuItemButton";f.setAttribute("role","option");return f},_createButtonOption:function(f){var l=this._createMenuButton();l.appendChild(l.ownerDocument.createTextNode(f));this.nextButton.parentNode.insertBefore(l,this.nextButton);return l}})})},"anaplan/toolbar/_ButtonsMixin":function(){define("anaplan/anapediaKeys anaplan/charts/HighChartsHelper anaplan/charts/PopupChartlet2 anaplan/common/PageInfo anaplan/common/SelectiveAccess anaplan/common/ViewDefinition anaplan/constants anaplan/dashboard/DashboardHelper anaplan/data/Aggregator anaplan/data/ModelContentCache anaplan/Exceptions anaplan/keyboard/keyboardEvents anaplan/keyboard/helpers anaplan/utils/JsHelper anaplan/utils/SelectionHelper anaplan/utils/TestAttributesHelper anaplan/utils/topics anaplan/utils/UIHelper anaplan/widgets/Button anaplan/widgets/IndicatorButton anaplan/widgets/MenuItem anaplan/widgets/SearchToolbarButton dijit/form/ComboButton dijit/Menu dijit/PopupMenuItem dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/i18n!anaplan/nls/highchartlet dojo/i18n!anaplan/nls/toolbar dojo/json dojo/on dojo/topic dojo/window".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I){return B([],{onMaximize:function(){},onRestore:function(){},_canChart:function(a){return b.canChart(a,this._getGridController().getContext())},_canCopyAcross:function(a){return!!a&&!a.isWholeGridSelected()&&!a.isWholeRowSelected()},_canCopyDown:function(a){return!!a&&!a.isWholeGridSelected()&&!a.isWholeColumnSelected()},_canDelete:function(a){return b.canDelete(a,this._getGridController().getContext())},_canExport:function(){return f.canExport()},
_canFilter:function(){return!0},_canHold:function(a){var b=new k(this._getGridController().getViewDefinition());return b.isModelDataView()&&!b.hasCompareDefinition()&&!!a&&!a.isWholeGridSelected()},_canInsert:function(a){return b.canInsert(a,this._getGridController().getContext())},_canManageColumnSettings:function(){return(new k(this._getGridController().getViewDefinition())).isModelDataView()},_canManageConditionalFormatting:function(){return!0},_canMove:function(a){return b.canMove(a,this._getGridController().getContext())},
_canReOrder:function(a){var d=this._getGridController();return!d?!1:b.canReOrder(a,d.getContext())},_canRefresh:function(){return!0},_canRelease:function(a){var b;b=new k(this._getGridController().getViewDefinition());return b.isModelDataView()&&!b.hasCompareDefinition()?(b=new q(this._getGridController().getPageInfo()),!!(a&&0<b.getBreakbackHeldCellsCount())):!1},_canReleaseAll:function(){var a;a=new k(this._getGridController().getViewDefinition());return a.isModelDataView()&&!a.hasCompareDefinition()?
(a=new q(this._getGridController().getPageInfo()),0<a.getBreakbackHeldCellsCount()):!1},_canSort:function(a){return!!a},_createSortMenu:function(){var a=new D,b=new E({label:F.menuSort,popup:a,"class":"qa-menu-sort"});a.addChild(this._createQuickSortMenuItem(n.sort.ASCENDING));a.addChild(this._createQuickSortMenuItem(n.sort.DESCENDING));a.addChild(this._createSortMenuItem());b.startup();return b},_createBreakbackMenu:function(){var a=new D,b=new E({label:F.labelBreakback,popup:a});a.addChild(this._createHoldMenuItem());
a.addChild(this._createReleaseMenuItem());a.addChild(this._createReleaseAllMenuItem());b.startup();return b},_createChartOptionsDialogMenuItem:function(){var a=null;try{a=new w({label:F.labelChartOptionsDialog}),this.own(a.on("click",C.hitch(this,function(){this._displayChartOptionsDialog(this.dashboardEntityLongId)})))}catch(b){throw new g.ClientException("anaplan.toolbar._ButtonsMixin._createChartOptionsDialogMenuItem",b);}return a},_createConditionalFormattingButton:function(){var a=new y({iconClass:"anaplanEditorIcon anaplanEditorIconConditionalFormatting",
showLabel:!1,"data-anaplan-element-name":"toolbar-button-conditional-formatting"});this.own(a.getButton().on("click",C.hitch(this,"_displayConditionalFormattingDialog")));this.own(a.getCheckBox().on("Click",C.hitch(this,function(){this._toggleConditionalFormattingMode(a.getCheckBox().checked)})));return this._conditionalFormattingButton=a},_createConditionalFormattingMenuItem:function(){var a=new w({label:F.labelConditionalFormatting,iconClass:"anaplanEditorIcon anaplanEditorIconConditionalFormatting"});
this.own(a.on("click",C.hitch(this,"_displayConditionalFormattingDialog")));return this._conditionalFormattingMenuItem=a},_createCopyAcrossButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconCopyAcross",showLabel:!1,"data-anaplan-element-name":"toolbar-button-copy-across"});this.own(a.on("click",C.hitch(this,"_copyAcross")));return this._copyAcrossButton=a},_createCopyAcrossMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconCopyAcross",label:F.labelCopyAcross});
this.own(a.on("click",C.hitch(this,"_copyAcross")));return this._copyAcrossMenuItem=a},_createCopyDownButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconCopyDown",showLabel:!1,"data-anaplan-element-name":"toolbar-button-copy-down"});this.own(a.on("click",C.hitch(this,"_copyDown")));return this._copyDownButton=a},_createCopyDownMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconCopyDown",label:F.labelCopyDown});this.own(a.on("click",C.hitch(this,
"_copyDown")));return this._copyDownMenuItem=a},_createDeleteButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconDeleteRow",label:F.labelDelete,showLabel:!1,style:"display: none;","data-anaplan-element-name":"toolbar-button-delete"});this.own(a.on("click",C.hitch(this,"_displayDeleteDialog")));return a},_createDeleteMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconDeleteRow",label:F.labelDelete});this.own(a.on("click",C.hitch(this,"_displayDeleteDialog")));
return a},_createExportButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconExport",label:F.labelExport,"data-anaplan-element-name":"toolbar-button-export"});this.own(a.on("click",C.hitch(this,"_displayExportDialog")));return this._exportButton=a},_createExportMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconExport",label:F.labelExport});this.own(a.on("click",C.hitch(this,"_displayExportDialog")));return this._exportMenuItem=a},_createFilterButton:function(){var a=
new y({name:"filterIndicatorButton",iconClass:"anaplanEditorIcon anaplanEditorIconFilter","data-anaplan-element-name":"toolbar-button-filter"});this.own(a.getButton().on("click",C.hitch(this,"_displayFilterDialog")));this.own(a.getCheckBox().on("Click",C.hitch(this,function(){this._toggleFilterMode(a.getCheckBox().checked)})));return this._filterButton=a},_createQuickFilterButton:function(a){return new A({dropDown:a,iconClass:"anaplanIcon anaplanIconFilterNone",label:F.labelQuickFilter,showLabel:!1,
"class":"qa-filter-menu"})},_createSimpleFilterButton:function(){var a=new z({iconClass:"anaplanIcon anaplanIconFilterNone",label:F.labelFilter,showLabel:!1});this.own(a.on("click",C.hitch(this,"_displayFilterDialog")));return a},_createFilterMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconFilter",label:F.labelFilter});this.own(a.on("click",C.hitch(this,"_displayFilterDialog")));return this._filterMenuItem=a},_createGotoModuleMenuItem:function(a){var b=null;try{b=new w({label:F.labelGotoModule}),
this.own(b.on("click",function(b){M.publish("anaplan/views",a)}))}catch(d){throw new g.ClientException("anaplan.toolbar._ButtonsMixin._createGotoModuleMenuItem",d);}return b},_createHoldMenuItem:function(){var a=new w({label:F.labelHold});this.own(a.on("click",C.hitch(this,"_holdCellValues")));return this._holdMenuItem=a},_createImportMenuItem:function(a){var b=new w({iconClass:"anaplanEditorIcon anaplanEditorIconImport",label:F.labelImport});this.own(b.on("click",C.hitch(this,function(){!a&&f.isAuthorized(n.userActions.CAN_MAINTAIN_IMPORT_SOURCES)?
this._displayManageSourcesDialog():this._displayRunExistingImportDialog(a)})));return this._importMenuItem=b},_createInsertButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconInsert",label:F.labelInsert,showLabel:!1,style:"display: none;","data-anaplan-element-name":"toolbar-button-insert"});this.own(a.on("click",C.hitch(this,"_displayInsertDialog")));return a},_createInsertMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconInsert",label:F.labelInsert});
this.own(a.on("click",C.hitch(this,"_displayInsertDialog")));return a},_createMaximizeButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconMaximize",label:F.labelMaximize,showLabel:!1});this.own(a.on("click",C.hitch(this,"_maximize")));return this._maximizeButton=a},_createMaximizeMenuItem:function(){var a=new w({label:F.labelMaximize,iconClass:"anaplanEditorIcon anaplanEditorIconMaximize"});this.own(a.on("click",C.hitch(this,"_maximize")));return this._maximizeMenuItem=a},
_createMoveButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconMove",label:F.labelMove,showLabel:!1,disabled:!0,style:"display: none;","data-anaplan-element-name":"toolbar-button-move"});this.own(a.on("click",C.hitch(this,"_displayMoveDialog")));return a},_createReOrderButton:function(a,b,d){a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconMove",label:F.labelReOrder,showLabel:void 0===a?!0:a,disabled:void 0===b?!0:b,style:d?"display: none;":void 0,"data-anaplan-element-name":"toolbar-button-reorder"});
this.own(a.on("click",C.hitch(this,"_displayReOrderDialog")));return a},_createMenuItemColumnSettings:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconSizer",label:F.labelColumnSettings});this.own(J(a,"click",C.hitch(this,"_displayColumnSettings")));return this._menuItemColumnSettings=a},_createMoveMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconMove",label:F.labelMove});t.add(a,"toolbar-button-edit-move");this.own(a.on("click",C.hitch(this,"_displayMoveDialog")));
return a},_createReOrderMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconMove",label:F.labelReOrder,disabled:!0});t.add(a,"toolbar-button-edit-reorder");this.own(a.on("click",C.hitch(this,"_displayReOrderDialog")));return a},_createRefreshButton:function(){var a=new z({iconClass:"anaplanEditorIcon anaplanEditorIconRefresh",label:F.labelRefresh,"data-anaplan-element-name":"toolbar-button-refresh"});this.own(a.on("click",C.hitch(this,"_doRefresh")));return a},_createRefreshMenuItem:function(){var a=
new w({iconClass:"anaplanEditorIcon anaplanEditorIconRefresh",label:F.labelRefresh});this.own(a.on("click",C.hitch(this,"_doRefresh")));return a},_createReleaseMenuItem:function(){var a=new w({label:F.labelRelease});this.own(a.on("click",C.hitch(this,"_releaseCellValues")));return this._releaseMenuItem=a},_createReleaseAllMenuItem:function(){var a=new w({label:F.labelReleaseAll});this.own(a.on("click",C.hitch(this,"_releaseAllCellValues")));return this._releaseAllMenuItem=a},_createSearchButton:function(b,
e,f){return new x({widget:b,model:e,iconClass:"anaplanEditorIcon anaplanEditorIconSearch",label:F.labelSearch+" ("+a.renderAsText(d.ANAPLAN_SEARCH)+")",showLabel:!1,"data-anaplan-element-name":"toolbar-button-search",getPageIndicesToExcludeFromSearchResult:f})},_createSortButton:function(){var a=new y({name:"sortIndicatorButton",iconClass:"anaplanEditorIcon anaplanEditorIconSort","data-anaplan-element-name":"toolbar-button-sort"});this.own(a.getButton().on("click",C.hitch(this,"_displaySimpleSortDialog")));
this.own(a.getCheckBox().on("Click",C.hitch(this,function(){this._toggleSortMode(a.getCheckBox().checked)})));return this._sortButton=a},_createSortMenuItem:function(){var a=new w({iconClass:"anaplanEditorIcon anaplanEditorIconSort",label:F.labelSort});this.own(a.on("click",C.hitch(this,"_displaySimpleSortDialog")));return this._sortMenuItem=a},_createQuickSortMenuItem:function(a){a=a||n.sort.ASCENDING;var b=new w({"class":a===n.sort.ASCENDING?"qa-menu-sort-asc":"qa-menu-sort-desc",iconClass:"anaplanEditorIcon "+
(a===n.sort.ASCENDING?"anaplanEditorIconSortAsc":"anaplanEditorIconSortDesc"),label:a===n.sort.ASCENDING?F.quickSortAscendingMenuItem:F.quickSortDescendingMenuItem});this.own(b.on("click",C.hitch(this,function(){this._getGridController().applyQuickSort(a)})));return b},_createUndoButton:function(){var b=new z({disabled:!0,iconClass:"anaplanEditorIcon anaplanIconUndo",label:F.labelUndoDataEntry+" ("+a.renderAsText(d.ANAPLAN_UNDO)+")",showLabel:!1});this.own(b.on("click",u.undoManagerUndo));return b},
_createUndoMenuItem:function(){var b=new w({accelKey:a.render(d.ANAPLAN_UNDO),disabled:!0,iconClass:"anaplanEditorIcon anaplanIconUndo",label:F.labelUndoDataEntry});this.own(b.on("click",u.undoManagerUndo));return b},_copyAcross:function(){try{var a=this._getGridController();a&&a.attemptCopyAcross("right")}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._copyAcross",b))}},_copyDown:function(){try{var a=
this._getGridController();a&&a.attemptCopyAcross("down")}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._copyDown",b))}},_disableButtons:function(a){if(a)for(var b=a.getChildren().length,d=0;d<b;d++)a.getChildren()[d].set("disabled",!0)},_handleCombinationChartDialog:function(a){App.interim.charts.setupAndShowCombinationChartModal(this._highchartsOptions,e,a,F.labelNewDashboard,g,f.isAuthorized(n.userActions.MAINTAIN_CUSTOM_DASHBOARDS),
this.getModel(),m.publishComboChart.bind(m),this._onUpdateChart.bind(this))},_onUpdateChart:function(a){var b={chartConfig:K.stringify(s.getCleanComboChartOptions(a.options))};this.onDashboardElementChange(b);this.reset();this.setChartOptions(a.options);this.setViewDefinition(this._model.getViewDefinition());h.gather()},_displayChartOptionsDialog:function(a){if(this.chartType&&this.chartType===n.chartType.COMBINATION)this._handleCombinationChartDialog(a);else{var b=this,d=I.getBox();a=0.8*d.h;var d=
d.w*(this.chartType&&this.chartType===n.chartType.PIE?0.33:0.5)+300,e=new p({viewDefinition:this.getModel().getViewDefinition(),chartConfig:C.clone(this._highchartsOptions),chartType:C.clone(this.chartType),chartStacking:C.clone(this.chartStacking),chartVariation:C.clone(this.chartVariation),isDialog:!0,style:"width:"+d+"px; height:"+a+"px;"}),f=v.getSharedDialog();f.set("title",L.menuChartOptions);f.set("refocus",!1);f.set("autofocus",!1);f.set("content",e.domNode);f.setHelpContent(l.charts);G.toggle(f.domNode,
"selectionOptionsDialog",!0);e.startup();f.show().then(function(){e.focus()});a=J(e,"UpdateCurrentViewToDashboard",function(a,d,e,g,k){e||g||k?(a={chartConfig:K.stringify(s.getCleanChartOptions(a)),viewDefinition:d,chartType:e,chartVariation:g,chartStacking:k},b.onDashboardElementChange(a)):(a.chartType===n.chartType.PIE&&a.legend.y?a.legend.y=n.chartOptions.legendYPosition.PIE:a.legend&&(a.legend.y=n.chartOptions.legendYPosition.DEFAULT),b.onDashboardElementChange({chartConfig:K.stringify(s.getCleanChartOptions(a)),
viewDefinition:d}),b.reset(),b.setChartOptions(a),b.setViewDefinition(d));h.gather();f.hide()});this.own(a);h.gather()}},_displayColumnSettings:function(){var a;try{(a=this._getGridController())&&a.beginColumnSettings()}catch(b){v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin#_displayColumnSettings",b))}},_displayConditionalFormattingDialog:function(){try{var a=this._getGridController();a&&a.beginManageConditionalFormatting()}catch(b){b instanceof g.UnsupportedOperationException?
v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin#_displayConditionalFormattingDialog",b))}},_displayDeleteDialog:function(a){try{var b=this._getGridController();b&&b.beginBulkDelete()}catch(d){d instanceof g.UnsupportedOperationException?v.showErrorReporter(d,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayDeleteDialog",d,{widgetId:this.id},a))}},_displayExportDialog:function(){console.warn("anaplan.toolbar._ButtonsMixin._displayExportDialog: _displayExportDialog needs to be overridden in sub-class")},
_displayFilterDialog:function(){try{var a=this._getGridController();a&&a.beginFilter()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._displayInsertDialog",b))}},_displayInsertDialog:function(){try{var a=this._getGridController();a&&a.beginBulkInsert()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayInsertDialog",
b,{widgetId:this.id}))}},_displayManageSourcesDialog:function(){try{this._getGridController().beginImport()}catch(a){v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayManageSourcesDialog",a))}},_displayMoveDialog:function(){try{var a=this._getGridController();a&&a.beginMove()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayMoveDialog",b))}},_displayReOrderDialog:function(){try{var a=
this._getGridController();a&&a.beginReOrder()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayReOrderDialog",b))}},_displayRunExistingImportDialog:function(a){try{this._getGridController().beginEndUserImport(a)}catch(b){v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin: _displayRunExistingImportDialog",b))}},_displaySimpleSortDialog:function(){try{var a=this._getGridController();
a&&a.beginSimpleSort()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._displaySimpleSortDialog",b))}},_doRefresh:function(){try{var a=this._getGridController();a&&a.refresh()}catch(b){v.throwClientException(this,b)}},_enableButtons:function(a){var b,d,e,f,h,k,l,m,n,r,p,q,s,t,u;try{if(this._insertButton&&this._insertButton.domNode||this._insertMenuItem&&this._insertMenuItem.domNode)k=this._canInsert(a),
this._insertButton&&this._insertButton.get("disabled")===k&&this._insertButton.set("disabled",!k),this._insertMenuItem&&this._insertMenuItem.get("disabled")===k&&this._insertMenuItem.set("disabled",!k);if(this._deleteButton&&this._deleteButton.domNode||this._deleteMenuItem&&this._deleteMenuItem.domNode)e=this._canDelete(a),this._deleteButton&&this._deleteButton.get("disabled")===e&&this._deleteButton.set("disabled",!e),this._deleteMenuItem&&this._deleteMenuItem.get("disabled")===e&&this._deleteMenuItem.set("disabled",
!e);if(this._moveButton&&this._moveButton.domNode||this._moveMenuItem&&this._moveMenuItem.domNode)m=this._canMove(a),this._moveButton&&this._moveButton.get("disabled")===m&&this._moveButton.set("disabled",!m),this._moveMenuItem&&this._moveMenuItem.get("disabled")===m&&this._moveMenuItem.set("disabled",!m);if(this._reOrderButton||this._reOrderMenuItem)n=this._canReOrder(a),this._reOrderButton&&this._reOrderButton.get("disabled")===n&&this._reOrderButton.set("disabled",!n),this._reOrderMenuItem&&this._reOrderMenuItem.get("disabled")===
n&&this._reOrderMenuItem.set("disabled",!n);if(this._refreshButton&&this._refreshButton.domNode||this._refreshMenuItem&&this._refreshMenuItem.domNode)r=this._canRefresh(),this._refreshButton&&this._refreshButton.get("disabled")===r&&this._refreshButton.set("disabled",!r),this._refreshMenuItem&&this._refreshMenuItem.get("disabled")===r&&this._refreshMenuItem.set("disabled",!r);if(this._filterButton&&this._filterButton.domNode||this._filterMenuItem&&this._filterMenuItem.domNode||this._simpleFilterButton&&
this._simpleFilterButton.domNode)h=this._canFilter(),this._filterButton&&this._filterButton.get("disabled")===h&&this._filterButton.set("disabled",!h),this._filterMenuItem&&this._filterMenuItem.get("disabled")===h&&this._filterMenuItem.set("disabled",!h),this._simpleFilterButton&&this._simpleFilterButton.get("disabled")===h&&this._simpleFilterButton.set("disabled",!h);if(this._sortButton&&this._sortButton.domNode||this._sortMenuItem&&this._sortMenuItem.domNode)p=this._canSort(a),this._sortButton&&
this._sortButton.get("disabled")===p&&this._sortButton.set("disabled",!p),this._sortMenuItem&&this._sortMenuItem.get("disabled")===p&&this._sortMenuItem.set("disabled",!p);if(this._exportButton&&this._exportButton.domNode||this._exportMenuItem&&this._exportMenuItem.domNode)f=this._canExport(),this._exportButton&&this._exportButton.get("disabled")===f&&this._exportButton.set("disabled",!f),this._exportMenuItem&&this._exportMenuItem.get("disabled")===f&&this._exportMenuItem.set("disabled",!f);if(this._copyAcrossButton&&
this._copyAcrossButton.domNode||this._copyAcrossMenuItem&&this._copyAcrossMenuItem.domNode)b=this._canCopyAcross(a),this._copyAcrossButton&&this._copyAcrossButton.get("disabled")===b&&this._copyAcrossButton.set("disabled",!b),this._copyAcrossMenuItem&&this._copyAcrossMenuItem.get("disabled")===b&&this._copyAcrossMenuItem.set("disabled",!b);if(this._copyDownButton&&this._copyDownButton.domNode||this._copyDownMenuItem&&this._copyDownMenuItem.domNode)d=this._canCopyDown(a),this._copyDownButton&&this._copyDownButton.get("disabled")===
d&&this._copyDownButton.set("disabled",!d),this._copyDownMenuItem&&this._copyDownMenuItem.get("disabled")===d&&this._copyDownMenuItem.set("disabled",!d);this._maximizeMenuItem&&this._maximizeMenuItem.domNode&&this._maximizeMenuItem.get("disabled")&&this._maximizeMenuItem.set("disabled",!1);if(this._conditionalFormattingButton&&this._conditionalFormattingButton.domNode||this._conditionalFormattingMenuItem&&this._conditionalFormattingMenuItem.domNode)l=this._canManageConditionalFormatting(),this._conditionalFormattingButton&&
this._conditionalFormattingButton.get("disabled")===l&&this._conditionalFormattingButton.set("disabled",!l),this._conditionalFormattingMenuItem&&this._conditionalFormattingMenuItem.get("disabled")===l&&this._conditionalFormattingMenuItem.set("disabled",!l);this._menuItemColumnSettings&&this._menuItemColumnSettings.domNode&&this._menuItemColumnSettings.set("disabled",!this._canManageColumnSettings());this._holdMenuItem&&this._holdMenuItem.domNode&&(q=this._canHold(a),this._holdMenuItem.get("disabled")===
q&&this._holdMenuItem.set("disabled",!q));this._releaseMenuItem&&(s=this._canRelease(a),this._releaseMenuItem.get("disabled")===s&&this._releaseMenuItem.set("disabled",!s));this._releaseAllMenuItem&&this._releaseAllMenuItem.domNode&&(t=this._canReleaseAll(a),this._releaseAllMenuItem.get("disabled")===t&&this._releaseAllMenuItem.set("disabled",!t));this._breakbackMenu&&this._breakbackMenu.domNode&&(u=q||s||t||!1,this._breakbackMenu.get("disabled")===u&&this._breakbackMenu.set("disabled",!u));this._setToolbarButtonVisibilities(a)}catch(w){throw new g.ClientException("anaplan.toolbar._ButtonsMixin._enableButtons",
w);}},_setToolbarButtonVisibilities:function(a){if(this._moveMenuItem&&this._reOrderMenuItem){a=this._canReOrder(a);var b=!0;this._menuToolbarOptions&&(b=!0===this._menuToolbarOptions.menuItemMove);this._toggleWidgetDisplayed(this._reOrderMenuItem,b&&a);this._toggleWidgetDisplayed(this._moveMenuItem,b&&!a)}},_toggleWidgetDisplayed:function(a,b){a&&(a instanceof z?a.toggle(b):a.domNode&&H.set(a.domNode,"display",b?"":"none"))},_getGridController:function(){if(r.isFunction(this.getGridController))return this.getGridController();
if(this._gridController)return this._gridController;throw new g.UnsupportedOperationException(null,null,{operation:"_getGridController"});},_holdCellValues:function(){var a;try{(a=this._getGridController())&&a.holdCells()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._holdCellValues",b))}},_maximize:function(){try{this.onMaximize()}catch(a){a instanceof g.UnsupportedOperationException?v.showErrorReporter(a,
!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._maximize",a))}},_releaseCellValues:function(){var a;try{(a=this._getGridController())&&a.releaseCells()}catch(b){b instanceof g.UnsupportedOperationException?v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._releaseCellValues",b))}},_releaseAllCellValues:function(){var a;try{(a=this._getGridController())&&a.releaseAllCells()}catch(b){b instanceof g.UnsupportedOperationException?
v.showErrorReporter(b,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._releaseAllCellValues",b))}},_restore:function(){try{this.onRestore()}catch(a){a instanceof g.UnsupportedOperationException?v.showErrorReporter(a,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._restore",a))}},_toggleConditionalFormattingMode:function(a){try{var b=this._getGridController();b&&b.toggleConditionalFormatting(a)}catch(d){d instanceof g.UnsupportedOperationException?
v.showErrorReporter(d,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._toggleConditionalFormattingMode",d))}},_toggleFilterMode:function(a){try{var b=this._getGridController();b&&b.toggleFilter(a)}catch(d){d instanceof g.UnsupportedOperationException?v.showErrorReporter(d,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin._toggleFilterMode",d))}},_toggleSortMode:function(a){try{var b=this._getGridController();b&&b.toggleSort(a)}catch(d){d instanceof
g.UnsupportedOperationException?v.showErrorReporter(d,!0):v.showErrorReporter(new g.ClientException("anaplan.toolbar._ButtonsMixin_toggleSortMode",d))}}})})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(l,s,p,q){var f;f=function(e,f,d){q(e,{sync:!!f,headers:{"X-Requested-With":null}}).then(d)};var k={},n=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var f=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);f&&(e=
f[1])}else e="";return e},m={},h={};l.cache=function(e,g,d){var a;"string"==typeof e?/\//.test(e)?(a=e,d=g):a=s.toUrl(e.replace(/\./g,"/")+(g?"/"+g:"")):(a=e+"",d=g);e=void 0!=d&&"string"!=typeof d?d.value:d;d=d&&d.sanitize;if("string"==typeof e)return k[a]=e,d?n(e):e;if(null===e)return delete k[a],null;a in k||f(a,!0,function(d){k[a]=d});return d?n(k[a]):k[a]};return{dynamic:!0,normalize:function(e,f){var d=e.split("!"),a=d[0];return(/^\./.test(a)?f(a):a)+(d[1]?"!"+d[1]:"")},load:function(e,g,d){e=
e.split("!");var a=1<e.length,l=e[0],b=g.toUrl(e[0]);e="url:"+b;var p=m,q=function(b){d(a?n(b):b)};l in k?p=k[l]:g.cache&&e in g.cache?p=g.cache[e]:b in k&&(p=k[b]);if(p===m)if(h[b])h[b].push(q);else{var s=h[b]=[q];f(b,!g.async,function(a){k[l]=k[b]=a;for(var d=0;d<s.length;)s[d++](a);delete h[b]})}else q(p)}}})},"anaplan/yolk/yolkloader":function(){define("dojo/_base/declare dojo/_base/window anaplan/Exceptions dojo/topic dojo/Deferred anaplan/preloader anaplan/yolk/dashboardloader anaplan/yolk/GlobalStateInitializer anaplan/common/KeepAlive anaplan/gridlet/gridletHelper".split(" "),
function(l,s,p,q,f,k,n,m,h){return l(null,{load:function(e){var g=new f,d=s.global.App,a=d.cbi.messageCreators;try{d.cbi.connect(q,p,a,["anaplan/core/error","anaplan/uierror","anaplan/reloadPageDueToExpiredSession"]).then(function(){return(new k).load(e)}).then(function(){var a=m.initialize();(new h({interval:3E5,workspaceId:a.workspaceId})).init();return(new n).load()}).then(function(){g.resolve()})["catch"](function(a){q.publish("anaplan/core/error",a);g.reject(a)})}catch(l){g.reject(l)}return g.promise}})})},
"anaplan/dashboard/UsabilityOptions":function(){define("anaplan/utils/FormatHelper dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/dom-style dojo/i18n!anaplan/nls/usabilityOptions dojo/text!anaplan/templates/UsabilityOptions.html dijit/form/Textarea".split(" "),function(l,s,p,q,f,k,n,m,h){return k("anaplan.dashboard.UsabilityOptions",[q,p,f,s],{baseClass:"usabilityOptions",nls:m,templateString:h,allowTooltipIcon:!1,displayTooltipIcon:!1,
maxTooltipLength:250,tooltip:null,onChange:function(e){},postCreate:function(){this.inherited(arguments);this.tooltipLabel.setAttribute("for",this.tooltipTextarea.id);this.displayTooltipIconLabel.setAttribute("for",this.displayTooltipIconCheckBox.id);this.tooltipTextarea.set("value",this.tooltip);this.displayTooltipIconCheckBox.set("checked",this.displayTooltipIcon);this.own(this.tooltipTextarea.on("change",this._fireOnChange.bind(this)),this.displayTooltipIconCheckBox.on("change",this._fireOnChange.bind(this)))},
_fireOnChange:function(){var e=this._getValues();this.onChange(e)},_getValues:function(){var e=this.allowTooltipIcon?this.displayTooltipIconCheckBox.get("checked"):this.displayTooltipIcon,f=this.tooltipTextarea.get("value");return{displayTooltipIcon:e,tooltip:l.sanitizeText(f,this.maxTooltipLength)}},_setAllowTooltipIconAttr:function(e){this._set("allowTooltipIcon",e);e=e?null:"none";n.set(this.displayTooltipIconCheckBox.domNode,{display:e});n.set(this.displayTooltipIconLabel,{display:e})}})})},"anaplan/actions/_ActionButtonPanel":function(){define("dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/actions/_ButtonPanel.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k){return q([s,l,p],{baseClass:"actionButtonPanel",templateString:k,onCancel:function(){},onOk:function(){},postCreate:function(){this.inherited(arguments);this.okButton.set("label",f.buttonOk);this.cancelButton.set("label",f.buttonCancel)},_setDisabledAttr:function(f){this._set("disabled",f);this.okButton&&this.okButton.set("disabled",f);this.cancelButton&&this.cancelButton.set("disabled",f)}})})},"anaplan/widgets/TokenInput/_FilteringSelectMenu":function(){define(["dijit/form/_ComboBoxMenu",
"dojo/_base/declare"],function(l,s){return s(l,{getMultiSelectNodes:function(){return[]},onClick:function(l){if(l===this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(l===this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(l,!0)}})})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,s,p){function q(f){if("string"==typeof f||f instanceof String){if(f&&!k.test(f))return n[0]=f,n;f=f.split(k);f.length&&!f[0]&&f.shift();
f.length&&!f[f.length-1]&&f.pop();return f}return!f?[]:s.filter(f,function(e){return e})}var f,k=/\s+/,n=[""],m={};return f={contains:function(f,e){return 0<=(" "+p.byId(f).className+" ").indexOf(" "+e+" ")},add:function(f,e){f=p.byId(f);e=q(e);var g=f.className,d,g=g?" "+g+" ":" ";d=g.length;for(var a=0,k=e.length,b;a<k;++a)(b=e[a])&&0>g.indexOf(" "+b+" ")&&(g+=b+" ");d<g.length&&(f.className=g.substr(1,g.length-2))},remove:function(f,e){f=p.byId(f);var g;if(void 0!==e){e=q(e);g=" "+f.className+
" ";for(var d=0,a=e.length;d<a;++d)g=g.replace(" "+e[d]+" "," ");g=l.trim(g)}else g="";f.className!=g&&(f.className=g)},replace:function(h,e,g){h=p.byId(h);m.className=h.className;f.remove(m,g);f.add(m,e);h.className!==m.className&&(h.className=m.className)},toggle:function(h,e,g){h=p.byId(h);if(void 0===g){e=q(e);for(var d=0,a=e.length,k;d<a;++d)k=e[d],f[f.contains(h,k)?"remove":"add"](h,k)}else f[g?"add":"remove"](h,e);return g}}})},"anaplan/view/ImportPrompt":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TooltipDialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/dom-class anaplan/data/ModelContentCache anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/SelectorFactory anaplan/widgets/DropDownButton dojo/text!anaplan/templates/ImportPrompt.html dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/importPrompt dojo/i18n!dijit/nls/common dojo/i18n!dijit/nls/loading anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H){return e([f,q,k,n],{templateString:E,baseClass:"importPrompt",constructor:function(a){this._workspaceId=a.workspaceId;this._modelId=a.modelId;this._staticContextIdentifiers=a.staticContextIdentifiers||[];a.importDefinition&&this._staticContextIdentifiers.push(a.importDefinition.target);this._listIdentifiersRequiringPrompt=a.listIdentifiersRequiringPrompt;this._listIdentifiersStaticContexts=a.listIdentifiersStaticContexts||[];this._externalValidator=
a.externalValidator;this._externalValidatorContext=a.externalValidatorContext;this._selectors=[];this._tooltipDialogs=[];this._dimensionIdentifierToTargetItemEntityLongId={}},onCancel:function(){},onImport:function(){},onChanged:function(){},postCreate:function(){this.inherited(arguments);this.importButton.set("label",B.labelRun);this.cancelButton.set("label",G.buttonCancel);this._listIdentifiersRequiringPrompt.length?l.setText(this.instructions,C.labelInstructions):d.destroy(this.instructions)},
startup:function(){try{this.inherited(arguments),this._listIdentifiersRequiringPrompt.length?(this._setBusy(!0,C.labelLoading),this._generateViewRequests()):(this._setBusy(!1),this.importButton.set("disabled",!1),r.add(this.domNode,"importPromptNotRequired")),this._validate()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){this._destroySelectors();this.inherited(arguments)},_createListSelector:function(e,f){try{var h=this,k=e.rowLabelPages[0],m=this._createTooltipDialog();m.startup();
var n=new D({label:C.labelPleaseSelect,showLabel:!0,dropDown:m,autoWidth:!1}),r=a(m,"Open",g.hitch(this,function(){setTimeout(function(){var a=document.createElement("div");m.set("content",a);A.createSelector({labelPage:k,onSelectionChange:function(a,b){h._setTargetItem(a,b,n,f)},style:"height: 250px; width: 250px;",widgetContainer:a})},25)}));this.own(r);var p=d.create("tr",null,this.selectorRows),q=d.create("td",{"class":"labelCell"},p),t=d.create("td",{"class":"controlCell"},p),u=d.create("label",
null,q),w=v.getLabelForDimensionIdentifier(b,f);w||(w=v.getSingleDimensionLabelFromAxisSpecification(b,e.pageInfo.rowAxisSpecification,0))||(w=f);l.setText(u,s.escapeHTML(w)+": ");d.place(n.domNode,t);n.startup();this._selectors.push(n)}catch(z){l.throwClientException(this,z)}},_createSelectors:function(a){try{for(var b=this._listIdentifiersRequiringPrompt,d=b.length,e=0;e<d;e++)this._createListSelector(a[e],b[e])}catch(f){l.throwClientException(this,f)}},_createTooltipDialog:function(){var b=null;
try{var b=new m,d=a(b,"Close",g.hitch(this,function(){b.destroyDescendants()}));this.own(d);var e=a(b,"Show",g.hitch(this,function(){var a=document.createElement("div");a.className="loadingMessage";var d=document.createElement("span");d.className="loadingMessageLabel";d.appendChild(document.createTextNode(H.loadingState));a.appendChild(d);b.set("content",a)}));this.own(e);this._tooltipDialogs.push(b)}catch(f){l.throwClientException(this,f)}return b},_destroySelectors:function(){try{h.forEach(this._selectors,
function(a){a.destroy()}),h.forEach(this._tooltipDialogs,function(a){a.destroy()})}catch(a){l.throwClientException(this,a)}},_generateViewRequests:function(){try{for(var a=this._listIdentifiersRequiringPrompt,b=a.length,d,e,f,h=[],k=0;k<b;k++)d=a[k],""===d?f=g.mixin({type:"MODEL_DATA",staticContextIdentifiers:this._staticContextIdentifiers},v.getAxesForViewDefinition([u.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER],[u.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER])):(e=w.entityLongIdIdentifierToEntityLongId(a[k]),
f=this._getViewDefinitionForList(e)),h.push({workspaceId:this._workspaceId,modelId:this._modelId,viewDefinition:f,dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],rowLabelPageRequests:[{start:0,count:-1}],columnLabelPageRequests:[{start:0,count:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new t,viewIndex:-1,viewGuid:null});var m=z.createRequest(this._workspaceId,[],h);this._post(m)}catch(n){l.throwClientException(this,n)}},_getViewDefinitionForList:function(a){var d=
null;try{var e=this._staticContextIdentifiers;if(this._listIdentifiersStaticContexts&&this._listIdentifiersStaticContexts.length===this._listIdentifiersRequiringPrompt.length)for(var f=0;f<this._listIdentifiersRequiringPrompt.length;f++)w.entityLongIdIdentifierToEntityLongId(this._listIdentifiersRequiringPrompt[f])==a&&(e=[this._listIdentifiersStaticContexts[f]]);var k=b.getModuleInfo(w.entityLongIdIdentifierToEntityLongId(e[0])),m=w.entityLongIdToEntityLongIdIdentifier(a);if(a===u.MODEL_CONTENT_VERSION_ENTITY_LONG_ID)k&&
k.versionsSelection==u.VersionSelection.NOT_APPLICABLE&&h.some(k.lineItemsLabelPage.entityLongIds[0],function(a){var d=b.getLineItemInfo(a);if(d&&d.versionsSelection&&d.versionsSelection!=u.VersionSelection.NOT_APPLICABLE)return e.push(w.entityLongIdToEntityLongIdIdentifier(a)),!0}),d=g.mixin({type:"MODEL_DATA",staticContextIdentifiers:e},v.getAxesForViewDefinition([u.SYSTEM_AXIS_IDENTIFIER_VERSION_IDENTIFIER],[u.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]));else if(a===u.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID){var n=
null,r=null,p=u.PeriodType;k&&k.lineItemsLabelPage&&(h.forEach(k.lineItemsLabelPage.entityLongIds[0],function(a){var d=b.getLineItemInfo(a);if(d&&"NONE"!==d.format.dataType&&(!d.formula||"ALL"!==d.formulaScope)&&d.leafPeriodType&&d.leafPeriodType.entityId!=p.NOT_APPLICABLE&&(!n||0>x.comparePeriodTypes(d.leafPeriodType.entityId,n)))n=d.leafPeriodType.entityId,r=a}),r&&e.push(w.entityLongIdToEntityLongIdIdentifier(r)));d=g.mixin({type:"MODEL_DATA",staticContextIdentifiers:e},v.getAxesForViewDefinition([u.SYSTEM_AXIS_IDENTIFIER_TIME_IDENTIFIER],
[u.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]))}else{var q=w.getEntityTypeIndex(a);if(q===u.HIERARCHY_ENTITY_TYPE_INDEX||q===u.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX||q===u.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)k&&-1==h.indexOf(k.appliesTo,a)&&h.some(k.lineItemsLabelPage.entityLongIds[0],function(d){var f=b.getLineItemInfo(d);if(f&&f.appliesTo&&-1!=h.indexOf(f.appliesTo,a))return e.push(w.entityLongIdToEntityLongIdIdentifier(d)),!0}),d=g.mixin({type:"MODEL_DATA",staticContextIdentifiers:e},v.getAxesForViewDefinition([m],
[u.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]));else throw new y.ClientException("Unhandled dimension type: "+a,null,{widgetId:this.id});}}catch(s){l.throwClientException(this,s)}return d},_onCancelButtonClick:function(){this.onCancel()},_onImportButtonClick:function(){this.importButton.set("disabled",!0);h.forEach(this._selectors,function(a){a.set("disabled",!0)});this.onImport(this._dimensionIdentifierToTargetItemEntityLongId)},_post:function(a){try{var b=this;p.post(a,!1,function(a){a.result&&
(a=a.result.viewRequestResults,(!a||0===a.length)&&console.warn("anaplan.view.ImportPrompt expected one or more view request results, but found none"),b._createSelectors(a),b._setBusy(!1),b.onChanged())},function(a){console.error(a)})}catch(d){l.throwClientException(this,d)}},_setBusy:function(a,b){this.busyIndicator.style.display=a?"":"none";void 0!=b&&l.setText(this.busyIndicator,b)},_setDisabledAttr:function(a){h.forEach(this._selectors,function(b){b.set("disabled",a)});this.importButton.set("disabled",
!0)},_setTargetItem:function(a,b,d,e){d.set("label",b);this._dimensionIdentifierToTargetItemEntityLongId[e]=a;this._validate()?this.importButton.focus():d.closeDropDown()},_validate:function(){if(!this.domNode)return!1;for(var a=!0,b=!0,b=this._listIdentifiersRequiringPrompt,d=b.length,e=this._dimensionIdentifierToTargetItemEntityLongId,f,g=0;g<d;g++)if(f=b[g],!e[f]){a=!1;break}this._externalValidator&&this._externalValidatorContext&&(b=this._externalValidator.call(this._externalValidatorContext),
a&&!1===b&&(a=!1));this.importButton.set("disabled",!a);return a}})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(l,s,p,q,f,k){return s("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var l=[];f("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(q.hitch(this,function(f){f.name==this.name&&f.form==this.focusNode.form&&(f=k.getEnclosingWidget(f))&&
l.push(f)}));return l},_setCheckedAttr:function(f){this.inherited(arguments);this._created&&f&&l.forEach(this._getRelatedWidgets(),q.hitch(this,function(f){f!=this&&f.checked&&f.set("checked",!1)}))},_getSubmitValue:function(f){return null==f?"on":f},_onClick:function(f){return this.checked||this.disabled?(f.stopPropagation(),f.preventDefault(),!1):this.readOnly?(f.stopPropagation(),f.preventDefault(),l.forEach(this._getRelatedWidgets(),q.hitch(this,function(f){p.set(this.focusNode||this.domNode,
"checked",f.checked)})),!1):this.inherited(arguments)}})})},"dijit/TitlePane":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/fx dojo/has dojo/_base/kernel dojo/keys ./_CssStateMixin ./_TemplatedMixin ./layout/ContentPane dojo/text!./templates/TitlePane.html ./_base/manager ./a11yclick".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){s=s("dijit.TitlePane",[a,d,g],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,
toggleable:!0,tabIndex:"0",duration:b.defaultDuration,baseClass:"dijitTitlePane",templateString:r,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);p.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,this.baseClass+"Title");var a=this.hideNode,b=this.wipeNode;this._wipeIn=n.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=
""}});this._wipeOut=n.wipeOut({node:b,duration:this.duration,onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){l.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");
this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(q.remove(this.focusNode,"aria-controls"),q.remove(this.focusNode,"tabIndex"),q.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){!this.open||!this._wipeOut||
"playing"==this._wipeOut.status()?this.inherited(arguments):(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),k.setMarginBox(this.wipeNode,{h:k.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display="")},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var a=this.titleBarNode||this.focusNode,b=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?
"Open":"Closed");f.replace(a,this._titleBarClass,b||"");f.replace(a,this._titleBarClass.replace("TitlePaneTitle",""),(b||"").replace("TitlePaneTitle",""));this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){a.keyCode==e.DOWN_ARROW&&this.open&&(this.containerNode.focus(),a.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(a){h.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",
a)}});m("dojo-bidi")&&s.extend({_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTooltipAttr:function(a){this._set("tooltip",a);this.textDir&&(a=this.enforceTextDirWithUcc(null,a));q.set(this.focusNode,"title",a)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title),this.set("tooltip",this.tooltip))}});return s})},"dojox/math/random/prng4":function(){define(["dojo","dojox"],
function(l,s){function p(){this.j=this.i=0;this.S=Array(256)}l.getObject("math.random.prng4",!0,s);l.extend(p,{init:function(l){var f,k,n,m=this.S,h=l.length;for(f=0;256>f;++f)m[f]=f;for(f=k=0;256>f;++f)k=k+m[f]+l[f%h]&255,n=m[f],m[f]=m[k],m[k]=n;this.j=this.i=0},next:function(){var l,f,k,n=this.S;this.i=f=this.i+1&255;this.j=k=this.j+n[f]&255;l=n[f];n[f]=n[k];n[k]=l;return n[l+n[f]&255]}});s.math.random.prng4=function(){return new p};s.math.random.prng4.size=256;return s.math.random.prng4})},"anaplan/format/util":function(){var l=
Math.log(10);define("dojo/i18n!dojo/cldr/nls/currency dojo/_base/array dojo/date/locale dojo/number dojo/string dojo/regexp anaplan/utils/FormatHelper".split(" "),function(s,p,q,f,k,n,m){return{applyDecimalSeparatorUsingCellFormat:function(f,e){var g=this._getCustoms(e).decimal;return this.applyDecimalSeparator(f,g)},applyDecimalSeparator:function(f,e){if(null===f||"undefined"===typeof f)return f;for(var g=[],d=0;d<f.length;d++)"."===f.charAt(d)?g.push(e):g.push(f.charAt(d));return g.join("")},applyFormat:function(h,
e,g){var d,a="CURRENCY"===e.unitsType,l="PERCENTAGE"===e.unitsType,b="CUSTOM"===e.unitsType,n="NONE"===e.groupingSeparator?"###":0>p.indexOf(h.toString().toLowerCase(),"e")||1E3<=Math.abs(parseFloat(h))?"#,###":"###";-1!=e.minimumSignificantDigits&&0!=h&&(d=Math.log(Math.abs(h))/Math.log(10),d=e.minimumSignificantDigits-Math.floor(d)-1,0<d&&(n=[n,".",k.rep("#",d)].join("")));if("HYPHEN"==e.zeroFormat||"BLANK"==e.zeroFormat)if(d={pattern:n},-1!=e.decimalPlaces&&(d.places=e.decimalPlaces),d=f.format(l?
100*h:h,d),0===f.parse(d))return"HYPHEN"==e.zeroFormat?"-":"";n=a?["\u00a4 ",n,";\u00a4 #"].join(""):l?[n,"%;#%"].join(""):[n,";#"].join("");d={customs:this._getCustoms(e)};-1!=e.decimalPlaces&&(d.places=e.decimalPlaces);a&&("CURRENCY_SYMBOL"==e.unitsDisplayType?(a=this.getCurrencySymbol(e.currencyCode),-1===p.indexOf(g.labels[0],e.currencyCode)&&console.warn("anaplan.format.util applyFormat expected to find currencyCode "+e.currencyCode+" in allCurrenciesLabelPage but did not"),d.symbol=a||e.currencyCode):
d.currency=e.currencyCode);g=f._applyPattern(h,n,d);b&&(b=m.escapeHTML(m.unescapeHTML(e.customUnits)),g="CUSTOM_PREFIX"==e.unitsDisplayType?[b," ",g].join(""):[g," ",b].join(""));0>h&&(g="PARENTHESES"==e.negativeNumberNotation?["(",g,")"].join(""):["-",g].join(""));return g},getCurrencySymbol:function(f){return this._getCurrencyBundle()[f+"_symbol"]},formatDateCellText:function(f){f=q.parse(f,{datePattern:"yyyy-MM-dd",selector:"date",fullYear:!0});return null==f?"":q.format(f,{selector:"date",fullYear:!0})},
formatNonPercentageOriginalNumberTextForEditor:function(f,e){if(isNaN(f)||Infinity===Math.abs(f))return f;if(-9007199254740991<=f&&9007199254740991>=f&&-1<f.indexOf("E")){var g=f.split("E")[0].match(/\d+/g);if(16>=g.join("").length){var d=Number(f.split("E")[1]);if(0>d){if(g=Math.abs(d)+(0<parseInt(g[1],10)?g[1].length:0),20>=g)return this.applyDecimalSeparatorUsingCellFormat(Number(f).toFixed(g),e)}else return this.applyDecimalSeparatorUsingCellFormat(Number(f).toFixed(0<g[1].length-d?g[1].length-
d:1).toString(),e)}}return this.applyDecimalSeparatorUsingCellFormat(f,e)},determineSeparators:function(f,e){var g={};if(e)for(var d in e)g[d]=e[d];if(null===f||"undefined"===typeof f)return g;d=f.trim();d=d.replace(/[^\d.,\-() ]/g,"");d=d.trim();0===d.indexOf("(")&&d.indexOf(")")===d.length-1?(d=d.substring(1,d.length-1),d=d.trim(),g.negativeNumberNotation="PARENTHESES"):0===d.indexOf("-")&&(d=d.substring(1,d.length),d=d.trim(),g.negativeNumberNotation="MINUS_SIGN");var a=d.indexOf(","),k=d.indexOf(" "),
b=d.indexOf(".");-1<k?(g.groupingSeparator="SPACE",g.decimalSeparator=-1<a?"COMMA":"FULL_STOP"):-1<a?d.lastIndexOf(",")>a?(g.groupingSeparator="COMMA",g.decimalSeparator="FULL_STOP"):b>a?(g.groupingSeparator="COMMA",g.decimalSeparator="FULL_STOP"):-1<b&&b<a?(g.groupingSeparator="FULL_STOP",g.decimalSeparator="COMMA"):-1==b&&(4===d.length-a?3<a?(g.groupingSeparator="FULL_STOP",g.decimalSeparator="COMMA"):(g.groupingSeparator="COMMA",g.decimalSeparator="FULL_STOP"):(g.groupingSeparator="FULL_STOP",
g.decimalSeparator="COMMA")):-1<b&&(d.lastIndexOf(".")>b?(g.groupingSeparator="FULL_STOP",g.decimalSeparator="COMMA"):(g.groupingSeparator="NONE",g.decimalSeparator="FULL_STOP"));return g},parseNumberUsingFormat:function(h,e){if("HYPHEN"==e.zeroFormat&&"-"==h||"BLANK"==e.zeroFormat&&""==h)return 0;var g=!1,d=!1;-1!==p.indexOf(h,"%")&&(h=h.replace("%",""),d=!0);if("CURRENCY"==e.unitsType)if("CURRENCY_SYMBOL"==e.unitsDisplayType){var a=this.getCurrencySymbol(e.currencyCode);h=h.replace(a,"")}else h=
h.replace(e.currencyCode,"");"CUSTOM"==e.unitsType&&(h=h.replace(e.customUnits,""));var k=this._getCustoms(e),a=["(",")","-"];if("NONE"==e.unitsType&&3>h.split(k.decimal).length){var b=h.split(""),l,m;for(l=b.length;0<=l;l--)if(m=b[l],isNaN(m)){if(m==k.decimal)break;-1==p.indexOf(a,m)&&b.splice(l,1)}else break;b.reverse();for(l=b.length;0<=l;l--)if(m=b[l],isNaN(m)){if(m==k.decimal)break;-1===p.indexOf(a,m)&&b.splice(l,1)}else break;h=b.reverse().join("")}h=h.replace(/^\s+|\s+$/g,"");"PARENTHESES"==
e.negativeNumberNotation?0===p.indexOf(h,"(")&&p.lastIndexOf(h,")")===h.length-1?(h=h.substring(1,h.length-1),g=!0):0===p.indexOf(h,"-")&&(h=h.substring(1,h.length),g=!0):0===p.indexOf(h,"-")&&(h=h.substring(1,h.length),g=!0);a=n.buildGroupRE(["#,###"],function(a){a="(?:"+n.escapeString(a,".")+")";return a.replace(f._numberPatternRE,function(){return"("+f._realNumberRegexp({signed:!1,separator:[k.group,""],fractional:[!0,!1],decimal:k.decimal,exponent:[!0,!1]})+")"})},!0);a=RegExp("^"+a.replace(/[\xa0 ]/g,
"[\\s\\xa0]")+"$").exec(h);if(!a||!a[1])return NaN;a=a[1];a=a.replace(RegExp("["+k.group+"\\s\\xa0]","g"),"").replace(k.decimal,".");d&&(d=this.getSignificantDigitCount(a),a=(a/100).toPrecision(d));g&&(a*=-1);return 1*a},getSignificantDigitCount:function(f){f=Math.abs(String(f).replace(".",""));if(0===f)return 1;if(1>f)for(;Math.floor(f)!==f;)f*=10;else for(;0!==f&&0===f%10;)f/=10;return Math.floor(Math.log(f)/l)+1},_getCurrencyBundle:function(){this._currencyBundle||(this._currencyBundle=s);return this._currencyBundle},
_getCustoms:function(f){return{decimal:"FULL_STOP"==f.decimalSeparator?".":",",group:{NONE:"",FULL_STOP:".",COMMA:",",SPACE:" "}[f.groupingSeparator]}}}})},"anaplan/data/Aggregator/ViewRequestAggregator":function(){define(["./BaseAggregator","anaplan/data/RequestFactory","dojo/_base/array","dojo/_base/declare"],function(l,s,p,q){return q(l,{_aggregate:function(f){function k(a){-1!==a.viewIndex&&e.push(a.viewIndex)}var l=[],m=[],h=[],e=[],g=!0,d=!1,a,r,b;if(!f)return null;for(r=0;r<f.length;r++)if(b=
f[r])l=l.concat(b.viewRequests),m=m.concat(b.submissions),h=h.concat(b.systemActions),a=b.workspaceId,g=!1,d|=b.fetchAllModelSummaries,p.forEach(b.viewRequests,k);return g?null:s.createRequest(a,m,l,h,e,d)},_debug:function(f){var k,l,m;if(!f)return"null";k=[];k.push("viewRequests: ");k.push("[");for(l=0;l<f.viewRequests.length;l++)m=f.viewRequests[l],k.push("{"),k.push([m.dataPageRequests.length,m.rowLabelPageRequests.length,m.columnLabelPageRequests.length,m.pageSelectorLabelsRequired,m.cellSelectorLabelsRequired].join()),
k.push("}");k.push("]");k.push("submissions: ");k.push("[");for(l=0;l<f.submissions.length;l++)m=f.submissions[l],k.push("{"),k.push([m.cellChanges.length,m.modelChanges.length].join()),k.push("}");k.push("]");k.push("systemActions: ");k.push("[");for(l=0;l<f.systemActions.length;l++)m=f.systemActions[l],k.push("{"),k.push([m.actionId,m.params.length].join()),k.push("}");k.push("]")},_split:function(f){var k=[],l;if(f.isViewRequestResultsNonEmpty){for(l=0;l<f.viewRequestResults.length;l++)k.push([f.viewRequestResults[l],
f.systemActionResults||[]]);return k}console.warn("ViewRequestAggregator#_split: isViewRequestResultsNonEmpty \x3d false")}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(l,s,p,q,f,k,n,m){s("dijit-legacy-requires")&&q(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[f,n,k,m],{setDisabled:function(f){p.deprecated("setDisabled("+
f+") is deprecated. Use set('disabled',"+f+") instead.","","2.0");this.set("disabled",f)},setValue:function(f){p.deprecated("dijit.form._FormWidget:setValue("+f+") is deprecated.  Use set('value',"+f+") instead.","","2.0");this.set("value",f)},getValue:function(){p.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!s("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+
'"':"";this.inherited(arguments)}})})},"anaplan/widgets/_WidgetMixin":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/has"],function(l,s,p){return l([],{allowOnContextMenuEventPropagation:function(l){return l&&l.target&&(l=l.target.nodeName,"INPUT"===l||"TEXTAREA"===l)?!1:!0},setText:function(l,f){l&&(p("ie")?l.innerText=f:l.textContent=f)},coords:function(){return s.coords(this.domNode)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html",
"./_MenuBase"],function(l,s,p,q){return l("dijit.DropDownMenu",q,{templateString:p,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(f){this._moveToPopup(f);f.stopPropagation();f.preventDefault()},_onLeftArrow:function(f){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else f.stopPropagation(),f.preventDefault()}})})},"anaplan/widgets/SimpleSelector":function(){define("anaplan/Exceptions anaplan/utils/UIHelper dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/_Contained dojo/_base/declare dojo/dom-geometry dojo/keys dojo/window dijit/focus dojo/text!anaplan/templates/SimpleSelector.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return n([p,q,k,f],{baseClass:"dijit dijitReset dijitLeft simpleSelector",itemIdentifierPropertyName:"entityLongId",itemLabelPropertyName:"name",tabindex:0,templateString:d,name:"",value:null,constructor:function(){},focus:function(){try{g.focus(this.focusNode)}catch(a){s.throwClientException(this,a)}},onChange:function(){},onSelection:function(){},resize:function(a){try{a&&m.setMarginBox(this.domNode,a),this._layoutChildren()}catch(d){var b={widgetId:this.id};a&&
(b.size=a);s.showErrorReporter(new l.ClientException("SimpleSelector: resize",d,b))}},scrollToSelection:function(){try{for(var a=this.containerNode.options,d=a.length;d--;)a[d].selected&&e.scrollIntoView(a[d])}catch(b){s.throwClientException(this,b)}},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},uninitialize:function(){this.inherited(arguments)},_createItem:function(a,d){try{this._createOption(a,d[this.itemIdentifierPropertyName],d[this.itemLabelPropertyName]);
for(var b=d.children,e=b.length,f=0;f<e;f++)this._createItem(a,b[f])}catch(g){s.throwClientException(this,g)}},_createOption:function(a,d,b){try{var e=document.createElement("option"),f=document.createTextNode(b);e.appendChild(f);e.value=d;try{a.appendChild(e,null)}catch(g){a.appendChild(e)}}catch(h){s.throwClientException(this,h)}},_getValueAttr:function(){try{for(var a=0;a<this.containerNode.options.length;a++)if(this.containerNode.options[a].selected)return{value:this.containerNode.options[a].value,
text:this.containerNode.options[a].text};return{}}catch(d){console.error(d)}},_getValuesAttr:function(){var a=[],d=this.containerNode.options;try{for(var b=0;b<d.length;b++)d[b].selected&&a.push({value:d[b].value,text:d[b].text});return a}catch(e){console.error(e)}},_layoutChildren:function(){if(this.domNode){var a=m.getContentBox(this.domNode);m.setMarginBox(this.containerNode,{h:a.h,w:a.w})}},_onChange:function(){this.onChange(this.get("value"))},_onClick:function(){this._onSelection(this.get("value"))},
_onFocus:function(){this.inherited(arguments)},_onKeydown:function(a){a.keyCode===h.ENTER&&this._onSelection(this.get("value"))},_onSelection:function(a){this.pair=a;this.onSelection(a)},_setItemsAttr:function(a){try{if(this.containerNode.length=0,a.length){var d=a[0];"root"!==d.name&&console.warn("SimpleSelector: expected dummy root node: found "+d.name);var b=d.children,e=b.length,f=document.createDocumentFragment();for(a=0;a<e;a++)this._createItem(f,b[a]);this.containerNode.appendChild(f.cloneNode(!0))}}catch(g){s.throwClientException(this,
g)}},_setLabelPageAttr:function(a){this.containerNode.length=0;if(a.count){for(var d=document.createDocumentFragment(),b=0;b<a.count;b++)this._createOption(d,a.entityLongIds[0][b],a.labels[0][b]);this.containerNode.appendChild(d.cloneNode(!0))}},_setMultiValueAttr:function(a){for(var d=this.containerNode.options,b=0;b<d.length;b++){d[b].selected=!1;for(var e=0;e<a.length;e++)if(d[b].value==a[e].value){d[b].selected=!0;break}}},_setTemplatesAttr:function(a){this.containerNode.length=0;if(a){for(var d=
document.createDocumentFragment(),b=0;b<a.length;b++)this._createOption(d,a[b].templateId,a[b].title);this.containerNode.appendChild(d.cloneNode(!0))}},_setUsersAttr:function(a){this.containerNode.length=0;if(a&&a.length){for(var d=document.createDocumentFragment(),b=0;b<a.length;b++)this._createOption(d,a[b].userId,a[b].emailAddress);this.containerNode.appendChild(d.cloneNode(!0))}},_setWorkspaceInfoAttr:function(a){this.containerNode.length=0;if(0!==a.modelIds.length){for(var d=document.createDocumentFragment(),
b=0;b<a.modelIds.length;b++)this._createOption(d,a.modelIds[b],a.modelNames[b]);this.containerNode.appendChild(d.cloneNode(!0))}},_setValueAttr:function(a){this.pair=a;try{for(var d=this.containerNode.options,b=0;b<d.length;b++)d[b].selected=d[b].value==a.value}catch(e){console.error(e)}},_setValuesAttr:function(a){this.containerNode.length=0;if(a&&a.length){for(var d=document.createDocumentFragment(),b=0;b<a.length;b++)this._createOption(d,a[b].value,a[b].name);this.containerNode.appendChild(d.cloneNode(!0))}}})})},
"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(l,s,p,q,f,k,n){var m={_isElementShown:function(f){var e=q.get(f);return"hidden"!=e.visibility&&"collapsed"!=e.visibility&&"none"!=e.display&&"hidden"!=p.get(f,"type")},hasDefaultTabStop:function(f){switch(f.nodeName.toLowerCase()){case "a":return p.has(f,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var e;
try{var g=f.contentDocument;if("designMode"in g&&"on"==g.designMode)return!0;e=g.body}catch(d){try{e=f.contentWindow.document.body}catch(a){return!1}}return e&&("true"==e.contentEditable||e.firstChild&&"true"==e.firstChild.contentEditable);default:return"true"==f.contentEditable}},effectiveTabIndex:function(f){return p.get(f,"disabled")?void 0:p.has(f,"tabIndex")?+p.get(f,"tabIndex"):m.hasDefaultTabStop(f)?0:void 0},isTabNavigable:function(f){return 0<=m.effectiveTabIndex(f)},isFocusable:function(f){return-1<=
m.effectiveTabIndex(f)},_getTabNavigable:function(f){function e(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var g,d,a,l,b,n,q={},s=m._isElementShown,z=m.effectiveTabIndex,y=function(f){for(f=f.firstChild;f;f=f.nextSibling)if(!(1!=f.nodeType||9>=k("ie")&&"HTML"!==f.scopeName||!s(f))){var h=z(f);if(0<=h){if(0==h)g||(g=f),d=f;else if(0<h){if(!a||h<l)l=h,a=f;if(!b||h>=n)n=h,b=f}h=e(f);p.get(f,"checked")&&h&&(q[h]=f)}"SELECT"!=f.nodeName.toUpperCase()&&
y(f)}};s(f)&&y(f);return{first:q[e(g)]||g,last:q[e(d)]||d,lowest:q[e(a)]||a,highest:q[e(b)]||b}},getFirstInTabbingOrder:function(f,e){var g=m._getTabNavigable(s.byId(f,e));return g.lowest?g.lowest:g.first},getLastInTabbingOrder:function(f,e){var g=m._getTabNavigable(s.byId(f,e));return g.last?g.last:g.highest}};f.mixin(n,m);return m})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(l,s,p){var q=l.getObject("validate.regexp",!0,p);return q=p.validate.regexp=
{ipAddress:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowDottedDecimal&&(f.allowDottedDecimal=!0);"boolean"!=typeof f.allowDottedHex&&(f.allowDottedHex=!0);"boolean"!=typeof f.allowDottedOctal&&(f.allowDottedOctal=!0);"boolean"!=typeof f.allowDecimal&&(f.allowDecimal=!0);"boolean"!=typeof f.allowHex&&(f.allowHex=!0);"boolean"!=typeof f.allowIPv6&&(f.allowIPv6=!0);"boolean"!=typeof f.allowHybrid&&(f.allowHybrid=!0);var k=[];f.allowDottedDecimal&&k.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");
f.allowDottedHex&&k.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");f.allowDottedOctal&&k.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");f.allowDecimal&&k.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");f.allowHex&&k.push("0[xX]0*[\\da-fA-F]{1,8}");f.allowIPv6&&k.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");f.allowHybrid&&k.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");
f="";0<k.length&&(f="("+k.join("|")+")");return f},host:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowIP&&(f.allowIP=!0);"boolean"!=typeof f.allowLocal&&(f.allowLocal=!1);"boolean"!=typeof f.allowPort&&(f.allowPort=!0);"boolean"!=typeof f.allowNamed&&(f.allowNamed=!1);var k=f.allowPort?"(\\:\\d+)?":"",l="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";f.allowIP&&(l+="|"+q.ipAddress(f));f.allowLocal&&(l+="|localhost");f.allowNamed&&
(l+="|^[^-][a-zA-Z0-9_-]*");return"("+l+")"+k},url:function(f){f="object"==typeof f?f:{};"scheme"in f||(f.scheme=[!0,!1]);return s.buildGroupRE(f.scheme,function(f){return f?"(https?|ftps?)\\://":""})+q.host(f)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},emailAddress:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowCruft&&(f.allowCruft=!1);f.allowPort=!1;var k="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+q.host(f);f.allowCruft&&
(k="\x3c?(mailto\\:)?"+k+"\x3e?");return k},emailAddressList:function(f){f="object"==typeof f?f:{};"string"!=typeof f.listSeparator&&(f.listSeparator="\\s;,");var k=q.emailAddress(f);return"("+k+"\\s*["+f.listSeparator+"]\\s*)*"+k+"\\s*["+f.listSeparator+"]?\\s*"},numberFormat:function(f){f="object"==typeof f?f:{};"undefined"==typeof f.format&&(f.format="###-###-####");return s.buildGroupRE(f.format,function(f){return s.escapeString(f,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},
province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(f){f="object"==typeof f?f:{};"boolean"!=typeof f.allowTerritories&&(f.allowTerritories=!0);"boolean"!=typeof f.allowMilitary&&(f.allowMilitary=!0);var k="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";f.allowTerritories&&(k+="|AS|FM|GU|MH|MP|PW|PR|VI");f.allowMilitary&&(k+="|AA|AE|AP");return"("+k+")"}}}})},
"dojo/errors/CancelError":function(){define(["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel"})})},"anaplan/api/Entities/Versions":function(){define(["dojo/_base/declare","./Base/LabelPageWithInfos","anaplan/api/Entity/Version"],function(l,s,p){return l([s],{_entityClass:p})})},"anaplan/widgets/PleaseWaitDialog":function(){define("dijit/ProgressBar anaplan/widgets/Dialog anaplan/utils/WorkspaceHelper anaplan/utils/FormatHelper dojo/i18n!anaplan/nls/pleaseWaitDialog dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/array".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return k([s],{duration:0,postCreate:function(){this.inherited(arguments);h.set(this.closeButtonNode,"visibility","hidden");this.set("title",f.pleaseWait);var a=document.createElement("div");h.set(a,{width:"300px"});this._messageDiv=document.createElement("div");a.appendChild(this._messageDiv);h.set(this._messageDiv,{marginBottom:"10px"});this._progressBar=new l({style:"width: 100%;",indeterminate:!0,maximum:1});a.appendChild(this._progressBar.domNode);this.set("content",
a);e.add(this.domNode,"pleaseWaitDialog");e.add(this.domNode,"qa-dialog-please-wait");"none"!==this.domNode.style.display&&e.add(this.domNode,"qa-dialog-is-displayed");this._subscriptions=[m.subscribe("anaplan/systemstatus",n.hitch(this,"_onSystemStatus"))];this._progressBar.startup()},show:function(a){var d=n.hitch(this,function(){a&&0<a.length?(this.setText(this._messageDiv,a),h.set(this._messageDiv,"display","")):h.set(this._messageDiv,"display","none");this._progressBar.update({indeterminate:!0})}),
b=this.inherited(arguments);b?b=b.then(d):d();return b},uninitialize:function(){d.forEach(this._subscriptions,function(a){a.remove()});this._progressBar&&this._progressBar.destroy();this.inherited(arguments)},_onSystemStatus:function(a,d,b){if(a){g.empty(this._messageDiv);h.set(this._messageDiv,"display","");var e=document.createElement("div");e.className="systemStatusMessage";a=p.geti18nSystemStatusMessage(a);this.setText(e,a);this._messageDiv.appendChild(e);-1<d&&this._progressBar.update({indeterminate:!1,
progress:q.formatPercentage(d)});b&&b.length&&(d=document.createElement("div"),d.className="systemStatusTooltip",d.innerHTML=q.formatSystemStatusTooltip(b),this._messageDiv.appendChild(d))}else h.set(this._messageDiv,"display","none")}})})},"anaplan/charts/CommonChartOptions":function(){define("anaplan/common/ColourPickerManager anaplan/common/ColourPickerRenderer anaplan/utils/UIHelper anaplan/constants dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/i18n!anaplan/nls/dashboard dojo/store/Memory dojo/topic dojo/text!anaplan/templates/CommonChartOptions.html dijit/form/FilteringSelect".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){return m([k,f,n],{baseClass:"layoutOptions",_options:null,region:"center",title:"Labels",templateString:b,postCreate:function(){var b;this.inherited(arguments);p.setText(this.labelLegend,d.labelLegend);p.setText(this.labelDataLabels,d.labelDataLabels);b=this._getLayoutLegendOptions();this.layoutLegend.set("store",new a({data:b}));b=this._getLayoutDataOptions();this.layoutData.set("store",new a({data:b}));b=this._getSetLayoutLegend();this.layoutLegend.set("value",
b,!1);b=this._getSetLayoutData();this.layoutData.set("value",b,!1);this.layoutLegend.watch("state",h.hitch(this,function(a,b,d){r.publish("anaplan/chartOptions/layoutLegend/state",b,d,"layoutLegend")}));this.layoutData.watch("state",h.hitch(this,function(a,b,d){r.publish("anaplan/chartOptions/layoutData/state",b,d,"layoutData")}))},initSeriesData:function(){this._options.series&&(this._createSeriesRows(),this._initColourPickerManager(),this._colourPickerRenderer.renderColourPickers())},_getChartTypeSeries:function(){return this._options.chartType===
q.chartType.PIE?this._options.series&&this._options.series[0].data:this._options.series},_initColourPickerManager:function(){this._colourPickerManager=new l;this._colourPickerRenderer=new s({colourPickerManager:this._colourPickerManager,colourPickerAttachPoints:this.colourPickerAttachPoints,onChange:this.onChange,options:this._options,resetColourAttachPoint:this.resetColourAttachPoint,updateColourPickerStateFromChartConfig:this._updateColourPickerStateFromChartConfig,setSeriesColour:this._setSeriesColour,
shouldShowResetButton:this._shouldShowResetButton,resetColours:this._resetColours});this._colourPickerRenderer.updateColourPickerStateFromChartConfig()},_resetColours:function(){this.updateColourPickerStateFromChartConfig(!0);this._fireColourChange()},_shouldShowResetButton:function(){for(var a=this._getChartTypeSeries(),b=0;b<a.length;b++){var d=a[b].color,e=this._themeColours[b];if(d&&d!==e)return!0}return!1},_setSeriesColour:function(a,b){var d;d=this._options.chartType===q.chartType.PIE?this._options.series[0].data:
this._options.series;b?d[a].color=b:delete d[a].color},_updateColourPickerStateFromChartConfig:function(a){for(var b={},d=this._getChartTypeSeries(),e,f=0;f<d.length;f++)e=a?this._themeColours[f%this._themeColours.length]:d[f].color||this._themeColours[f%this._themeColours.length],b["series"+f+"ColourPicker"]=e;this._colourPickerManager._pickerMap=b},_createSeriesRows:function(){this.colourPickerAttachPoints=[];for(var a=h.clone(this.seriesData),b=this._getChartTypeSeries(),d=0;d<b.length;d++){var f=
b[d].name,g="series"+d+"ColourPicker",k=e.create("div",{className:"formRow"},a);e.create("label",{className:"legendLabel",innerHTML:f},k);f=e.create("div",{className:"aui","data-dojo-attach-point":g},k);f.pickerId=g;this.colourPickerAttachPoints.push(f)}b=e.create("div",{className:"formRow"},a);e.create("span",{className:"legendLabel"},b);this.resetColourAttachPoint=e.create("div",{className:"aui","data-dojo-attach-point":"resetChartColoursButton"},b);e.place(a,this.seriesData,"replace")},destroy:function(){if(this.colourPickerAttachPoints){for(var a=
0;a<this.colourPickerAttachPoints.length;a++)App.interim.unmountReactNode(this.colourPickerAttachPoints[a]);App.interim.unmountReactNode(this.resetChartColoursButton)}this.inherited(arguments)},onUpdate:function(){},_getLayoutLegendOptions:function(){return[{name:d.labelLegendPositionBottom,id:"bottom"},{name:d.labelLegendPositionTop,id:"top"},{name:d.labelLegendPositionRight,id:"right"},{name:d.labelLegendPositionLeft,id:"left"},{name:d.labelLegendHidden,id:"hidden"}]},_getLayoutDataOptions:function(){var a;
a=this._options.chartType===q.chartType.PIE?[{name:d.labelWithConnector,id:"connector"},{name:d.labelInsidePie,id:"inside"}]:[{name:d.labelShowValue,id:"show"}];a.push({name:d.labelHideValue,id:"hide"});return a},_getSetLayoutLegend:function(){var a;"undefined"!==typeof this._options.legend?"left"===this._options.legend.align?a="left":"right"===this._options.legend.align?a="right":!1===this._options.legend.enabled?a="hidden":"center"===this._options.legend.align?"top"===this._options.legend.verticalAlign?
a="top":"bottom"===this._options.legend.verticalAlign&&(a="bottom"):a="bottom":a=this._options.chartType===q.chartType.PIE?"hidden":"bottom";return a},_getSetLayoutData:function(){return"undefined"!==typeof this._options.dataLabels?this._options.chartType===q.chartType.PIE?!1===this._options.dataLabels.enabled?"hide":"white"===this._options.dataLabels.color?"inside":"connector":!0===this._options.dataLabels.enabled?"show":"hide":this._options.chartType===q.chartType.PIE?"connector":"hide"},_onChangeHandler:function(a){var b=
h.clone(this._options);switch(a){case "top":h.mixin(b,{legend:{align:"center",enabled:!0,layout:"horizontal",verticalAlign:"top",y:q.chartOptions.legendYPosition.POPUP}});break;case "bottom":h.mixin(b,{legend:{align:"center",enabled:!0,layout:"horizontal",verticalAlign:"bottom",y:q.chartOptions.legendYPosition.DEFAULT}});break;case "left":h.mixin(b,{legend:{align:"left",enabled:!0,layout:"vertical",verticalAlign:"middle",y:q.chartOptions.legendYPosition.DEFAULT}});break;case "right":h.mixin(b,{legend:{align:"right",
enabled:!0,layout:"vertical",verticalAlign:"middle",y:q.chartOptions.legendYPosition.DEFAULT}});break;case "hidden":h.mixin(b,{legend:{enabled:!1,y:q.chartOptions.legendYPosition.DEFAULT}});break;case "hide":h.mixin(b,{dataLabels:{enabled:!1}});break;case "show":h.mixin(b,{dataLabels:{enabled:!0}});break;case "inside":h.mixin(b,{size:"90%",dataLabels:{distance:-30,color:"white",format:"{point.cellText}"}});break;case "connector":delete this._options.dataLabels,delete this._options.size,delete b.dataLabels,
delete b.size}h.mixin(this._options,b);this.onChange(this._options)},resize:function(a){a&&g.setMarginBox(this.domNode,a)}})})},"anaplan/dashboard/dashboardWidgets/_Gridlet":function(){define("anaplan/gridlet/Themes anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin anaplan/Exceptions anaplan/keyboard/helpers anaplan/keyboard/keyboardEvents anaplan/toolbar/_ButtonsMixin anaplan/utils/SelectionHelper anaplan/utils/UIHelper anaplan/widgets/Menu anaplan/widgets/MenuItem dijit/MenuSeparator dijit/PopupMenuItem dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dojo/i18n!anaplan/nls/toolbar dojo/json dojo/on dojo/sniff dojo/topic".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x){return r("anaplan.dashboard.dashboardWidgets._Gridlet",[s,k],{_enableToolbarOptions:!0,constructor:function(a){this._sizerSerialNumber=a.model._getSizer().getSerialNumber();this._width=this._height=0;this._maximumSize={h:0,w:0};this._gridletSelectionChangeTopic=a.gridletSelectionChangeTopic},postCreate:function(a){this.inherited(arguments);if(this._gridletSelectionChangeTopic)this.on("blur",function(){x.publish(this._gridletSelectionChangeTopic,
this.id,null)})},getMaximumSize:function(a){if(-1!==this._sizerSerialNumber){var d=this._model._getSizer();d&&(this._maximumSize={w:d.getWidth(a)+d.getFixedColumnWidths()+3,h:d.getHeight(a)+d.getFixedRowHeights()+3})}return b.clone(this._maximumSize)},onSelectionChange:function(a){this.inherited(arguments);this._enableButtons(a);this._gridletSelectionChangeTopic&&x.publish(this._gridletSelectionChangeTopic,this.id,a)},onUpdate:function(a){var b=this.themeId,d=!1,e;if(a&&a[2]){e=a[2];if(this._sizerSerialNumber!==
e.getSerialNumber()&&(this._sizerSerialNumber=e.getSerialNumber(),a=e.getHeight(b),b=e.getWidth(b),this._height!==a&&(this._height=a,d=!0),this._width!==b&&(this._width=b,d=!0),d))this.onContentSizeChange();this.getGridController().checkBreakbackHoldMessages()}},populateRuntimeModeMenu:function(a){this.inherited(arguments);var b=this._optionsMenu;if(b){if("undefined"===typeof a||null===a)a=!0;a&&b.addChild(this._createMaximizeMenuItem());this._viewMenu=this._createViewMenu(b);this._createEditMenu(b);
this._formatMenu=this._createFormatMenu(b);this._dataMenu=this._createDataMenu(b);this._populateSearchMenu(b);var d=this.model.getModuleEntityLongId();this._menuItemGotoModule=this._createGotoModuleMenuItem(d);b.addChild(this._menuItemGotoModule)}},populateToolbarButtons:function(a,b){this._searchButton=this._createSearchButton(this,this._model,b);this._maximizeButton=this._createMaximizeButton();a.addChild(this._searchButton);a.addChild(this._maximizeButton)},reset:function(){this._sizerSerialNumber=
-1;this.inherited(arguments)},displaySearch:function(){this._searchButton.openDropDown();this._searchButton.dropDown.focus()},enableDisableToolbarButtons:function(a){this._maximizeButton&&this._maximizeButton.domNode&&this._maximizeButton.get("disabled")!==a&&this._maximizeButton.set("disabled",a)},setInitialHeight:function(a){this._height=a},setInitialWidth:function(a){this._width=a},setMenuToolbarOptions:function(a){a=z.parse(a);var b,d;for(b in a)b&&(d=b.split("menuItem"),1<d.length&&(d="_"+d[1].toLowerCase()+
"MenuItem",this.hasOwnProperty(d)&&this[d].domNode&&u.set(this[d].domNode,"display",a[b]?"":"none")));this._viewMenu&&this._setMenuToolbarOptionsDisplay(["Pivot"],a,this._viewMenu);this._formatMenu&&this._setMenuToolbarOptionsDisplay(["ColumnSettings","GridStyle"],a,this._formatMenu);this._importExportMenuSeparator&&this._setMenuToolbarOptionsDisplay(["Import","Export"],a,this._importExportMenuSeparator);this._filterSortMenuSeparator&&this._setMenuToolbarOptionsDisplay(["Filter","Sort"],a,this._filterSortMenuSeparator);
this._historyMenuSeparator&&this._setMenuToolbarOptionsDisplay(["History"],a,this._historyMenuSeparator);this._editMenuSeparator&&this._setMenuToolbarOptionsDisplay(["Insert","Delete","Move","CopyAcross","CopyDown"],a,this._editMenuSeparator);this.hasOwnProperty("_menuItemGotoModule")&&u.set(this._menuItemGotoModule.domNode,"display",!0===a.menuItemGotoModule?"":"none");this.hasOwnProperty("_searchButton")&&u.set(this._searchButton.domNode,"display",!0===a.showToolbar?"":"none");this.hasOwnProperty("_maximizeButton")&&
u.set(this._maximizeButton.domNode,"display",!0===a.showToolbar?"":"none");this._menuToolbarOptions=a;this._setToolbarButtonVisibilities(this._selection)},setReadOnly:function(b){this.inherited(arguments);b?a.forEach([this._insertButton,this._deleteButton,this._moveButton],function(a){a&&t.set(a,"disabled",!0)}):this._enableButtons(this._selection)},_addImplementationSpecificItemsToFormatMenu:function(a){},_canMaintain:function(){var a=this._model;if(!a)return!1;a=a.getPageInfo();return!a?!1:n.canMaintain(a)},
_createEditMenu:function(a){if(a)try{var b=new h({parentMenu:a});if(this._canMaintain()){this._insertMenuItem=this._createInsertMenuItem();this._deleteMenuItem=this._createDeleteMenuItem();this._moveMenuItem=this._createMoveMenuItem();b.addChild(this._insertMenuItem);b.addChild(this._deleteMenuItem);b.addChild(this._moveMenuItem);var e=new g;b.addChild(e);this._editMenuSeparator=e}this._refreshMenuItem=this._createRefreshMenuItem();b.addChild(this._refreshMenuItem);var f=new d({label:v.menuEdit,popup:b});
a.addChild(f);return f}catch(k){m.throwClientException(this,k)}},_createFormatMenu:function(a){try{if(this._hasFormatMenu()&&a){var b=new h({parentMenu:a});this._columnsettingsMenuItem=this._createMenuItemColumnSettings();b.addChild(this._columnsettingsMenuItem);this._addImplementationSpecificItemsToFormatMenu(b);this._gridstyleMenuItem=this._createStylesMenuItem();b.addChild(this._gridstyleMenuItem);var e=new d({label:v.menuFormat,popup:b});a.addChild(e);return e}}catch(f){throw new p.ClientException("anaplan.dashboard._Gridlet._createFormatMenu",
f);}},_createSearchMenuItem:function(){var a=new e({label:v.labelSearch,iconClass:"anaplanEditorIcon anaplanEditorIconSearch",accelKey:q.render(f.ANAPLAN_SEARCH),onClick:b.hitch(this,function(){this.getParent()._displaySearchDialog()})});return this._searchMenuItem=a},_changeTheme:function(a){for(var b=this._gridStylesMenu.getChildren(),d=b.length,e=null;d--;)e=b[d],e.set("iconClass",e.themeId===a?"checked-yes":"checked-no")},_createStyleCheckedMenuItem:function(a,d){var f=null,g=a.toLowerCase(),
f=new e({iconClass:"anaplan-checked-menu-item checked-"+(d?"yes":"no"),label:v["labelThemeName"+g],themeId:g});y(f,"click",b.hitch(this,function(){this._changeTheme(f.themeId);this.onDashboardElementChange({themeId:g})}));return f},_createGridStylesMenu:function(){for(var a=!1,b=new h({style:"display: none;"}),d=0,e=l.getThemeNames(!0),f="",g=e.length,k=this.themeId?l.toSentenceCase(this.themeId):l.getDefaultThemeIdFromModelProperties(!0);d<g;d++)f=e[d],a=f===k,b.addChild(this._createStyleCheckedMenuItem(f,
a));return b},_createStylesMenuItem:function(){this._gridStylesMenu=this._createGridStylesMenu();return new d({label:v.labelGridStyle,popup:this._gridStylesMenu})},_createViewMenu:function(){return null},_enableButtons:function(a){var b=this._toolbarOptions||{};this._insertButton&&b.menuItemInsert&&(this._canInsert(a)&&"none"===u.set(this._insertButton.domNode,"display"))&&u.set(this._insertButton.domNode,"display","");this._deleteButton&&b.menuItemDelete&&(this._canDelete(a)&&"none"===u.set(this._deleteButton.domNode,
"display"))&&u.set(this._deleteButton.domNode,"display","");this._moveButton&&b.menuItemMove&&(this._canMove(a)&&"none"===u.set(this._moveButton.domNode,"display"))&&u.set(this._moveButton.domNode,"display","");this.inherited(arguments);this._menuItemColumnSettings&&this._menuItemColumnSettings.set("disabled",!!this.maximized);this._formatMenu&&this._formatMenu.set("disabled","undefined"!==typeof this.maximized&&this.maximized)},_hasFormatMenu:function(){var a=this._model;return!a||!a.getPageInfo()?
!1:!0},_populateSearchMenu:function(a){a.getChildren().length&&a.addChild(new g);a.addChild(this._createSearchMenuItem())},_setMenuToolbarOptionsDisplay:function(b,d,e){a.some(b,function(a){return!0===d["menuItem"+a]})?u.set(e.domNode,"display",""):u.set(e.domNode,"display","none")}})})},"anaplan/dnd/Draggable":function(){define("dijit/Destroyable dijit/form/TextBox dijit/registry dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-class dojo/has dojo/on dojo/sniff".split(" "),function(l,
s,p,q,f,k,n,m,h){return q("anaplan.dnd.Draggable",l,{baseClass:"anaplanDraggable",domNode:null,handleNode:null,id:null,_connections:null,_dropZone:null,_widget:null,constructor:function(e,f){var d;this.domNode=e;f&&(f.id&&(this.id=f.id),f.handleNode&&(this.handleNode=f.handleNode),f.dropZone&&(this._dropZone=f.dropZone));this.handleNode||(this.handleNode=this.domNode);d=p.getEnclosingWidget(this.domNode);d.domNode===this.domNode&&(this._widget=d);n.toggle(this.domNode,this.baseClass,!0);n.toggle(this.handleNode,
this.baseClass+"Handle",!0);m("ios")||m("android")?this.own(h(this.handleNode,"touchstart",k.hitch(this,"_onTouchStart")),h(this.handleNode,"touchend",k.hitch(this,"_onTouchEnd")),h(this.handleNode,"touchcancel",k.hitch(this,"_onTouchCancel"))):(this.own(h(this.domNode,"mousedown",k.hitch(this,"_onMouseDown")),h(this.domNode,"mouseup",k.hitch(this,"_onMouseUp")),h(this.domNode,"selectstart",k.hitch(this,"_onSelectStart")),h(this.handleNode,"mousedown",k.hitch(this,"_onHandleMouseDown")),h(this.handleNode,
"mouseup",k.hitch(this,"_onHandleMouseUp"))),m("ie")?this.own(h(this.domNode,"mouseleave",k.hitch(this,"_onMouseOut")),h(this.domNode,"mouseenter",k.hitch(this,"_onMouseOver")),h(this.handleNode,"mouseleave",k.hitch(this,"_onHandleMouseOut")),h(this.handleNode,"mouseenter",k.hitch(this,"_onHandleMouseOver"))):this.own(h(this.domNode,"mouseout",k.hitch(this,"_onMouseOut")),h(this.domNode,"mouseover",k.hitch(this,"_onMouseOver")),h(this.handleNode,"mouseout",k.hitch(this,"_onHandleMouseOut")),h(this.handleNode,
"mouseover",k.hitch(this,"_onHandleMouseOver"))))},destroy:function(){this._widget&&this._widget.domNode&&this._widget.destroy();this.domNode=this.handleNode=null;this.inherited(arguments)},getDropZone:function(){return this._dropZone},getWidget:function(){return this._widget},onGrab:function(){},setDropZone:function(e){this._dropZone=e},swapWith:function(e){var f=e.getDropZone(),d=this._dropZone,a=-1;f&&(a=f.getDomIndexOf(e));d&&d.replaceDraggableItem(this,e);-1!==a&&f.addDraggableItemAtDomIndex(this,
a)},_onHandleMouseDown:function(e){this._widget&&!this._widget.get("disabled")&&(e.stopPropagation(),this._setHandleHasMouseDown(!0),this.onGrab(this,e))},_onHandleMouseOut:function(e){this._setHandleHasHover(!1)},_onHandleMouseOver:function(e){this._setHandleHasHover(!0)},_onHandleMouseUp:function(e){this._setHandleHasMouseDown(!1)},_onMouseDown:function(e){this._setHasMouseDown(!0)},_onMouseOut:function(e){this._setHasHover(!1);this._setHasMouseDown(!1)},_onMouseOver:function(e){this._setHasHover(!0)},
_onMouseUp:function(e){this._setHasMouseDown(!1)},_onSelectStart:function(e){var g=p.getEnclosingWidget(e.target);(!g||!g.isInstanceOf(s))&&f.stop(e)},_onTouchCancel:function(e){this._setHasHover(!1);this._setHasMouseDown(!1);this._setHandleHasHover(!1)},_onTouchEnd:function(e){this._setHasHover(!1);this._setHasMouseDown(!1);this._setHandleHasHover(!1)},_onTouchStart:function(e){this._setHasHover(!0);this._setHasMouseDown(!0);this._setHandleHasHover(!0);this._widget&&!this._widget.get("disabled")&&
(e.stopPropagation(),this._setHandleHasMouseDown(!0),this.onGrab(this,e))},_setHandleHasHover:function(e){n.toggle(this.handleNode,this.baseClass+"HandleHover",e)},_setHandleHasMouseDown:function(e){n.toggle(this.handleNode,this.baseClass+"HandleMouseDown",e)},_setHasHover:function(e){n.toggle(this.domNode,this.baseClass+"Hover",e)},_setHasMouseDown:function(e){n.toggle(this.domNode,this.baseClass+"MouseDown",e)}})})},"anaplan/utils/EncryptionHelper":function(){define("dojo/_base/lang dojox/encoding/base64 dojox/encoding/crypto/Blowfish dojox/encoding/crypto/RSAKey dojox/math/random/Secure dojox/math/random/prng4 dojo/json anaplan/Exceptions".split(" "),
function(l,s,p,q,f,k,n,m){var h=new f(k);f={generateSymmetricKey:function(e){for(var f=[],d=0;d<e;d+=8)f.push(0);h.nextBytes(f);return s.encode(f)},wrapWithPublicKey:function(e,f){var d;try{d=n.parse(e)}catch(a){throw new m.InvalidArgumentException("Invalid public key. Failed to parse.");}if("RSA"!==d.t)throw new m.InvalidArgumentException("Invalid public key type: "+n.stringify(d.t));var k=new q(function(){return h});k.setPublic(d.m,d.e);return k.encrypt(f)},toUTF16BEByteArray:function(e){for(var f=
[],d=0;d<e.length;++d){var a=e.charCodeAt(d);f.push(a>>8);f.push(a&255)}return f},fromUTF16BEByteArray:function(e){for(var f="",d=0;d<e.length;d+=2)f+=String.fromCharCode(e[d]<<8+e[d+1]);return f},encryptWithSymmetricKey:function(e,f,d){f=s.encode(this.toUTF16BEByteArray(f));for(var a=8-(f.length&7),h=0;h<a;h++)f+="\x00";p.setIV(d,dojox.encoding.crypto.outputTypes.String);return p.encrypt(f,s.decode(e),{cipherMode:dojox.encoding.crypto.cipherModes.CBC})},decryptWithSymmetricKey:function(e,f,d){p.setIV(d,
dojox.encoding.crypto.outputTypes.String);return this.fromUTF16BEByteArray(s.decode(p.decrypt(f,s.decode(e),{cipherMode:dojox.encoding.crypto.cipherModes.CBC})))}};l.setObject("anaplan.utils.EncryptionHelper",f);return f})},"anaplan/view/ImportDefinition/_TabController":function(){define(["dojo/_base/declare","dijit/layout/ScrollingTabController","dojo/dom-class"],function(l,s,p){return l("anaplan.view.ImportDefinition._TabController",[s],{onAddChild:function(l,f){this.inherited(arguments);0===f&&
l.controlButton.domNode&&p.add(l.controlButton.domNode,"mappingTab")}})})},"anaplan/view/ImportResult":function(){define("anaplan/utils/UIHelper anaplan/utils/RedirectHelper dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/io/iframe dojo/json dojo/topic dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Button dijit/layout/BorderContainer dijit/layout/ContentPane dijit/layout/TabContainer anaplan/constants anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/UIHelper anaplan/view/ImportResultFailureDetails anaplan/view/ImportResultSummary dojo/text!anaplan/templates/ImportResult.html dojo/i18n!anaplan/nls/importResult dojo/i18n!dijit/nls/common".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B){return q([g,d,a,e],{autoExport:!0,baseClass:"importResult",templateString:D,constructor:function(a){try{this._results=a.results,this._isImport=a.ioArgs&&a.ioArgs.isImport,this.autoExport=a.autoExport,this.own(h.subscribe("import-result-export-file-download",f.hitch(this,function(a){this._downloadExport(a)})))}catch(b){w.throwClientException(this,b)}},onClose:function(){},postCreate:function(){try{this.inherited(arguments),this._topLevelStatusMessage=
k.create("div",{id:"top-level-status-message"}),this.domNode.appendChild(this._topLevelStatusMessage),this._borderContainer=new b({style:"height: 100%; width: 100%;"}),k.place(this._borderContainer.domNode,this.domNode),this._tabContainer=new u({doLayout:!0,controllerWidget:"dijit.layout.TabController",region:"center"}),this._borderContainer.addChild(this._tabContainer),this._resultSummaryTab=new A({title:E.tabResultSummary,results:this._results,isImport:this._isImport,tabContainer:this._tabContainer}),
this._detailsTab=new x({title:E.tabDetails,results:this._results}),this._tabContainer.addChild(this._resultSummaryTab),this._tabContainer.addChild(this._detailsTab),this._buttonsContainer=new t({"class":"importResultButtons",region:"bottom"}),this._borderContainer.addChild(this._buttonsContainer),this._closeButton=new r({label:B.itemClose}),this.connect(this._closeButton,"onClick","_onCloseButtonClick"),this._buttonsContainer.attr("content",this._closeButton)}catch(a){w.throwClientException(this,
a)}},resize:function(a){try{this.inherited(arguments),this._borderContainer.resize(a)}catch(b){w.throwClientException(this,b)}},startup:function(){try{this.inherited(arguments),this._borderContainer.startup(),this.autoExport&&this._exportFiles()}catch(a){console.error(a),w.throwClientException(this,a)}},_exportFiles:function(){var a=this;p.forEach(this._results.compositeDetails,function(b,d){"EXPORT_DATA"===b.importType&&(b.successful&&y.getEntityTypeIndex(b.importEntityLongId)===v.EXPORT_ENTITY_TYPE_INDEX)&&
setTimeout(function(){a._downloadExport(b.importEntityLongId)},5E3*d)})},uninitialize:function(){try{this._borderContainer.destroyRecursive(),this.inherited(arguments)}catch(a){w.throwClientException(this,a)}},_downloadExport:function(a){try{var b=document.createElement("form");b.id="formPostExport_"+a;b.action="servlet";b.method="post";b.encoding="multipart/form-data";this.domNode&&this.domNode.appendChild(b);document.body.appendChild(b);n.send({url:"servlet?taskType\x3dexport",content:{exportEntityLongId:a,
context:m.stringify({workspaceId:workspaceId,modelId:modelId,modelName:modelName}),exportLayout:"SAVED_EXPORT"},form:b,timeout:50,preventCache:!0}).then(function(a){a.redirectUrl?s.handleRedirect(a):k.destroy(b)},function(){k.destroy(b)})}catch(d){l.showErrorReporter(new z.ClientException("anaplan.view.ImportResult: _downloadExport",d,{widgetId:this.id}))}},_onCloseButtonClick:function(a){this.onClose()}})})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array",
"../has","../selector/_loader"],function(l,s,p,q){function f(f){var d=e[f.options.handleAs];f.data=d?d(f):f.data||f.text;return f}q.add("activex","undefined"!==typeof ActiveXObject);q.add("dom-parser",function(e){return"DOMParser"in e});var k;if(q("activex")){var n=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],m;k=function(e){function d(b){try{var d=new ActiveXObject(b);d.async=!1;d.loadXML(f);a=d;m=b}catch(e){return!1}return!0}var a=e.data,f=e.text;
a&&(q("dom-qsa2.1")&&!a.querySelectorAll&&q("dom-parser"))&&(a=(new DOMParser).parseFromString(f,"application/xml"));if(!a||!a.documentElement)(!m||!d(m))&&p.some(n,d);return a}}var h=function(e){return!q("native-xhr2-blob")&&"blob"===e.options.handleAs&&"undefined"!==typeof Blob?new Blob([e.xhr.response],{type:e.xhr.getResponseHeader("Content-Type")}):e.xhr.response},e={javascript:function(e){return s.eval(e.text||"")},json:function(e){return l.parse(e.text||null)},xml:k,blob:h,arraybuffer:h,document:h};
f.register=function(f,d){e[f]=d};return f})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var s={};return{objectToQuery:function(p){var q=encodeURIComponent,f=[],k;for(k in p){var n=p[k];if(n!=s[k]){var m=q(k)+"\x3d";if(l.isArray(n))for(var h=0,e=n.length;h<e;++h)f.push(m+q(n[h]));else f.push(m+q(n))}}return f.join("\x26")},queryToObject:function(p){var q=decodeURIComponent;p=p.split("\x26");for(var f={},k,n,m=0,h=p.length;m<h;++m)if(n=p[m],n.length){var e=n.indexOf("\x3d");0>e?
(k=q(n),n=""):(k=q(n.slice(0,e)),n=q(n.slice(e+1)));"string"==typeof f[k]&&(f[k]=[f[k]]);l.isArray(f[k])?f[k].push(n):f[k]=n}return f}}})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(l,s,p,q,f,k){return s("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(f){var k=[];l.forEach(f||this.getChildren(),function(f){"value"in f?k.push(f):k=k.concat(this._getDescendantFormWidgets(f.getChildren()))},
this);return k},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(f){f.reset&&f.reset()})},validate:function(){var f=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(l){l._hasBeenBlurred=!0;var h=l.disabled||!l.validate||l.validate();!h&&!f&&(k.scrollIntoView(l.containerNode||l.domNode),l.focus(),f=!0);return h}),function(f){return f})},setValues:function(f){p.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",f)},_setValueAttr:function(f){var k={};l.forEach(this._getDescendantFormWidgets(),function(d){d.name&&(k[d.name]||(k[d.name]=[])).push(d)});for(var h in k)if(k.hasOwnProperty(h)){var e=k[h],g=q.getObject(h,!1,f);void 0!==g&&(g=[].concat(g),"boolean"==typeof e[0].checked?l.forEach(e,function(d){d.set("value",-1!=l.indexOf(g,d._get("value")))}):e[0].multiple?e[0].set("value",g):l.forEach(e,function(d,a){d.set("value",g[a])}))}},getValues:function(){p.deprecated(this.declaredClass+
"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var f={};l.forEach(this._getDescendantFormWidgets(),function(k){var h=k.name;if(h&&!k.disabled){var e=k.get("value");"boolean"==typeof k.checked?/Radio/.test(k.declaredClass)?!1!==e?q.setObject(h,e,f):(e=q.getObject(h,!1,f),void 0===e&&q.setObject(h,null,f)):(k=q.getObject(h,!1,f),k||(k=[],q.setObject(h,k,f)),!1!==e&&k.push(e)):(k=q.getObject(h,!1,f),"undefined"!=typeof k?q.isArray(k)?
k.push(e):q.setObject(h,[k,e],f):q.setObject(h,e,f))}});return f},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var f=l.map(this._descendants,function(f){return f.get("state")||""});return 0<=l.indexOf(f,"Error")?"Error":0<=l.indexOf(f,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(f){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(f){f._started||f.startup()});f||this._onChildChange()},
_onChildChange:function(f){(!f||"state"==f||"disabled"==f)&&this._set("state",this._getState());if(!f||"value"==f||"disabled"==f||"checked"==f)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var k=this;this.own(f(this.containerNode,
"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(f){f.target!=k.domNode&&k._onChildChange(f.type.replace("attrmodified-",""))}));this.watch("state",function(f,h,e){this.onValidStateChange(""==e)})},destroy:function(){this.inherited(arguments)}})})},"anaplan/widgets/QuickFilter/Main":function(){define("anaplan/common/ViewSerialNumbers anaplan/constants anaplan/anapediaKeys anaplan/data/ChangeFactory anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FilterHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/UIHelper anaplan/widgets/_HelpIconMixin anaplan/widgets/QuickFilter/Condition dijit/_Container dijit/_FocusMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/dialog2 dojo/i18n!anaplan/nls/filter dojo/keys dojo/text!anaplan/templates/QuickFilter.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B){return z([u,r,t,v,b,d],{_anapediaKey:p.quickFilter,baseClass:"quickFilter",buttonHelp:A.buttonHelp,instructions:D.labelExplanation1,labelApply:D.labelApply,labelClose:x.itemClose,loading:!1,tooltipHelp:A.tooltipHelp,templateString:B,constructor:function(a){this._contextIdentifiers=a.contextIdentifiers;this._gridController=a.gridController;this._lineItemEntityLongId=a.lineItemEntityLongId;this._selectedEntityLongIds=a.selectedEntityLongIds;
this._targetAxis=a.targetAxis},focus:function(){this.getChildren().length?this.getChildren()[0].focus():this.domNode.focus()},postCreate:function(){this.inherited(arguments);var a=this._gridController.getModuleEntityLongId(),a=k.getLineItemLabelFromModuleInfo(f.getModuleInfo(a),this._lineItemEntityLongId);g.setText(this.title,[D.titleQuickFilter,a].join(" - "));w.set(this.busyIndicator,"visibility","hidden")},startup:function(){try{this.inherited(arguments);var b=this._gridController.getPageInfo(),
d=this._getAxisSpecification(b),e=this._lineItemEntityLongId,g=k.getLineItemInfo(f,e);if(null===g)setTimeout(y.hitch(this,function(){this.onAbort(D.abortInvalidLineItem+h.searchAndReplacePlaceholders(D.helpQuickFilter))}),200);else{var l=m.getExistingFilterConditionIndexForQuickFilter(d,e,this._contextIdentifiers),n={itemsViewRequest:g.format.dataType===s.dataTypes.ENTITY?this._getItemsViewRequest(y.clone(b)):null,loading:!1,periodType:g.format.periodType,showRemove:-1<l,unitsType:g.format.unitsType,
onRemoveFilterCondition:y.hitch(this,function(){this.onRemoveFilterCondition(this._targetAxis,this._existingFilterConditionIndex)})},r=-1<l?d.axisDefinition.sortAndFilterDefinition.filterConditions[l]:y.mixin({comparisonDataType:g.format.dataType},m.FILTER_CONDITION_CONFIG[g.format.dataType]),p=new a(y.mixin(r,-1<l?d.axisDefinition.sortAndFilterDefinition.filterConditionInfos[l]:{},n));this.addChild(p);this.own(p.on("keydown",y.hitch(this,function(a){a.keyCode===E.ENTER&&this._onApplyButtonClick()})));
this._existingFilterConditionIndex=l}}catch(q){console.error(this.id,"startup",q)}},destroy:function(){this.inherited(arguments)},onAbort:function(a){},onAddFilterCondition:function(a,b){},onClose:function(){},onRemoveFilterCondition:function(a,b){},onUpdateFilterCondition:function(a,b,d){},_getAxisSpecification:function(a){return this._targetAxis===s.ROWS?a.rowAxisSpecification:a.columnAxisSpecification},_getItemsViewRequest:function(a){var b=this.gridController.getViewDefinition(),d=this._lineItemEntityLongId,
e=this._targetAxis;b.columnAxisSpecification=e===s.COLUMNS?a.rowAxisSpecification:a.columnAxisSpecification;a=e===s.COLUMNS?a.columnAxisSpecification:a.rowAxisSpecification;d={comparisonDataType:"ENTITY",comparisonMultiValueOR:null,comparisonOperator:"IS_NOT_BLANK",comparisonValue:"",contextIdentifiers:this._contextIdentifiers,filterConditionType:s.filterConditionType.QUICK,lineItemIdentifier:n.entityLongIdToEntityLongIdIdentifier(d),moduleIdentifier:null};y.exists("axisDefinition.sortAndFilterDefinition",
a)?(e=a.axisDefinition.sortAndFilterDefinition,e.filterConditions.push(d),delete e.filterConditionInfos):a.axisDefinition.sortAndFilterDefinition={filterConditions:[d],isActive:!0,filterMatchType:"ALL"};b.rowAxisSpecification=a;d={modelId:window.modelId,viewDefinition:b,columnLabelPageRequests:[],dataPageRequests:[{startRow:0,rowCount:s.QUICK_FILTER_MAX_ROWS_TO_FETCH,startColumn:0,columnCount:1}],rowLabelPageRequests:[],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new l,
viewIndex:-1};a=this._selectedEntityLongIds;1<a.length?(b=(new q).getViewChangeGenerator(s.viewChangeType.AXIS_SELECTION_CHANGE).getViewChange(s.COLUMNS,s.axisSelectionChange.SHOW,{ragged:[n.entityLongIdsToEntityLongIdIdentifiers(a)]}),y.mixin(d,{viewChanges:[b]})):this._selectedEntityLongIds.length&&(d.viewDefinition.columnAxisSpecification=k.addSelectionToAxisSpecification(b.columnAxisSpecification,s.SELECTION_RULE_MODIFIER_SHOW,[n.entityLongIdsToEntityLongIdIdentifiers(a)]));return d},_onBlur:function(a){return e.isNullOrUndefined(a)?
(this.focus(),!0):this.inherited(arguments)},_onApplyButtonClick:function(a){if(this.getChildren().some(function(a){return!a.validate()}))this.getChildren()[0].focus();else if(a=this.getChildren()[0].getFilterCondition(),null!==a)if(y.mixin(a,{contextIdentifiers:this._contextIdentifiers,lineItemIdentifier:n.entityLongIdToEntityLongIdIdentifier(this._lineItemEntityLongId),moduleIdentifier:null}),-1<this._existingFilterConditionIndex)this.onUpdateFilterCondition(this._targetAxis,this._existingFilterConditionIndex,
a);else this.onAddFilterCondition(this._targetAxis,a)},_setLoadingAttr:function(a){this._set("loading",a);w.set(this.busyIndicator,"visibility",a?"visible":"hidden");this.applyButton.set("disabled",a)}})})},"anaplan/data/InlineSearchProviders/ViewRequestModelSearchProvider":function(){define(["anaplan/utils/SubmissionHandler","dojo/_base/declare"],function(l,s){return s([],{constructor:function(l){this._model=l.model},search:function(p){p={actionId:"VIEW_SEARCH",params:{modelId:window.modelId,viewDefinitionJsonString:JSON.stringify(this._model.getViewDefinition()),
viewIndex:this._model.getViewIndex(),searchString:p}};return(new l({showPleaseWait:!1})).post([],[],[p],!1).then(function(l){var f=l.result.systemActionResults[0].rowLabelPageFilter;return f.entityLongIds.map(function(k,l){return{id:k,name:f.labels[l],parent:"root"}})})}})})},"anaplan/gridlet/selection/CoordinatePair":function(){define("anaplan/gridlet/selection/FixedCoordinate anaplan/gridlet/selection/ItemCoordinate anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/gridlet/selection/_SelectionBase dojo/_base/array dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h){var e=m(k,{x:null,y:null,constructor:function(e){e&&(this.setX(e.x),this.setY(e.y))},calculateColumnDelta:function(e,d){var a=0,h,b,k,m,n,q;if(!e||this.equals(e))return 0;if(!d)throw new f.ClientException("Missing context argument");if(this.x instanceof s&&e.x instanceof s)if(q=this.getStartColumnIndex(d),h=e.getEndColumnIndex(d),-1!==q&&-1!==h&&q>h)if(d.values)if(b=d.values.columns.span,n=d.values.startColumn,b){k=this.getColumnNestingIndex();for(h+=1;h<=q;h++)m=b[k][h-
n],(m===p.SPAN_NONE||m===p.SPAN_START)&&a++}else a=q-h;else d.model&&console.warn("anaplan.gridlet.Selection.CoordinatePair#calculateColumnDelta: searching model not implemented");else{if(h=this.getEndColumnIndex(d),q=e.getStartColumnIndex(d),-1!==h&&-1!==q&&h<q)if(d.values)if(b=d.values.columns.span,n=d.values.startColumn,b){k=this.getColumnNestingIndex();for(h+=1;h<=q;h++)m=b[k][h-n],(m===p.SPAN_NONE||m===p.SPAN_START)&&a--}else a=h-q;else d.model&&console.warn("anaplan.gridlet.Selection.CoordinatePair#calculateColumnDelta: searching model not implemented")}else this.x instanceof
l&&e.x instanceof l&&e.isRowLabelSelected()&&this.isRowLabelSelected()&&(a=this.x.fixedIndex-e.x.fixedIndex);return a},calculateRowDelta:function(e,d){var a=0,h,b,k,m,n,q;if(!e||this.equals(e))return 0;if(!d)throw new f.ClientException("Missing context argument");if(this.y instanceof s&&e.y instanceof s)if(q=this.getStartRowIndex(d),h=e.getEndRowIndex(d),-1!==q&&-1!==h&&q>h)if(d.values)if(b=d.values.rows.span,n=d.values.startRow,b){k=this.getRowNestingIndex();for(h+=1;h<=q;h++)m=b[k][h-n],(m===p.SPAN_NONE||
m===p.SPAN_START)&&a++}else a=q-h;else d.model&&console.warn("anaplan.gridlet.Selection.CoordinatePair#calculateRowDelta: searching model not implemented");else{if(h=this.getEndRowIndex(d),q=e.getStartRowIndex(d),-1!==h&&-1!==q&&h<q)if(d.values)if(b=d.values.rows.span,n=d.values.startRow,b){k=this.getRowNestingIndex();for(h+=1;h<=q;h++)m=b[k][h-n],(m===p.SPAN_NONE||m===p.SPAN_START)&&a--}else a=h-q;else d.model&&console.warn("anaplan.gridlet.Selection.CoordinatePair#calculateRowDelta: searching model not implemented")}else this.y instanceof
l&&e.y instanceof l&&e.isRowLabelSelected()&&this.isRowLabelSelected()&&(a=this.y.fixedIndex-e.y.fixedIndex);return a},equals:function(f){if(!this.inherited(arguments)||!(f instanceof e))return!1;if(f.x){if(!f.x.equals(this.x))return!1}else if(this.x&&!this.x.equals(f.x))return!1;if(f.y){if(!f.y.equals(this.y))return!1}else if(this.y&&!this.y.equals(f.y))return!1;return!0},getCellIndexInView:function(e,d){var a=-1,h,b,k,l;if(!e)throw new f.ClientException("Missing values argument");this.isDataCellSelected()&&
(h=q.axisSpecificationContainsEmpty(d.rowAxisSpecification),b=q.axisSpecificationContainsEmpty(d.columnAxisSpecification),h=h?0:this.getStartRowIndexInView(e),b=b?0:this.getStartColumnIndexInView(e),l=k=-1,-1!==h&&(k=h-e.startRow),-1!==b&&(l=b-e.startColumn),-1!==k&&-1!==l&&(a=k*e.columnCount+l));return a},getColumnEntityLongIds:function(e){var d;return!this.x||!(this.x instanceof s)?null:this.x.entityLongIds?h.clone(this.x.entityLongIds):!e?null:-1===this.x.index&&(d=this._getColumnCount(e),0<d)?
this._getEntityLongIdsForItemAtColumnIndex(d-1,null,e):null!==this.x.index?this._getEntityLongIdsForItemAtColumnIndex(this.x.index,null,e):null},getColumnNestingIndex:function(){var e=-1;this.x&&this.x.getNestingIndex&&(e=this.x.getNestingIndex());return e},getEndColumnIndex:function(e){var d=-1,a,f,b;if(!e||!this.x||!(this.x instanceof s))return-1;if(-1===this.x.index)return this._getColumnCount(e)-1;a=this.getStartColumnIndex(e);if(-1===a)return-1;if(this._isSpanningOnColumnAxis(e)){f=this._getNestingIndexOfItem(this.x.entityLongIds);
b=this._getSpanOnDimensionAtColumnIndex(f,a,e);if(null===b)return-1;b===p.SPAN_NONE?d=a:(e.values&&(b=e.values,f=n.indexOf(b.columns.span[f],p.SPAN_END,a-b.startColumn),-1!==f&&(d=f+b.startColumn)),-1===d&&e.model&&(d=e.model.getEndColumnIndexOfItem(this.x.entityLongIds,a)))}else d=a;return d},getEndColumnIndexInView:function(e){var d=-1,a,f,b;if(!e||!this.x||!(this.x instanceof s))return-1;d={values:e};a=this.getStartColumnIndexInView(e);if(-1===a)return-1;this._isSpanningOnColumnAxis(d)?(f=-1,this.x.entityLongIds?
f=this._getNestingIndexOfItem(this.x.entityLongIds):this.y.isFixed()&&(b=this._getEntityLongIdsForItemAtColumnIndex(this._getColumnCount(d)-1,this.y.fixedIndex,d))&&(f=this._getNestingIndexOfItem(b)),-1===f&&-1===this.x.index&&(f=this._getColumnNesting(d)-1),this._getSpanOnDimensionAtColumnIndex(f,a,d)===p.SPAN_NONE?d=a:(d=n.indexOf(e.columns.span[f],p.SPAN_END,a-e.startColumn),d=-1===d?this._getEndColumnIndexOfView(e):d+e.startColumn)):d=a;return d},getEndColumnSpan:function(e){var d=null;if(!e||
!this.x||!(this.x instanceof s))return null;if(!this._isSpanningOnColumnAxis(e))return p.SPAN_NONE;e=this.getStartColumnSpan(e);null!==e&&(d=e===p.SPAN_NONE?e:p.SPAN_END);return d},getEndColumnSpanInView:function(e){var d=null,a;if(!e||!this.x||!(this.x instanceof s))return null;if(!this._isSpanningOnColumnAxis({values:e}))return p.SPAN_NONE;a=this.getStartColumnSpanInView(e);null!==a&&(a===p.SPAN_NONE?d=a:(d=this._getNestingIndexOfItem(this.x.entityLongIds),e=n.indexOf(e.columns.span[d],p.SPAN_END,
this.x.index-e.startColumn),d=-1===e?p.SPAN_MIDDLE:p.SPAN_END));return d},getEndRowIndex:function(e){var d=-1,a,f,b;if(!e||!this.y||!(this.y instanceof s))return-1;if(-1===this.y.index)return this._getRowCount(e)-1;a=this.getStartRowIndex(e);if(-1===a)return-1;if(this._isSpanningOnRowAxis(e)){f=this._getNestingIndexOfItem(this.y.entityLongIds);b=this._getSpanOnDimensionAtRowIndex(f,a,e);if(null===b)return-1;b===p.SPAN_NONE?d=a:(e.values&&(b=e.values,f=n.indexOf(b.rows.span[f],p.SPAN_END,a-b.startRow),
-1!==f&&(d=f+b.startRow)),-1===d&&e.model&&(d=e.model.getEndRowIndexOfItem(this.y.entityLongIds,a)))}else d=a;return d},getEndRowIndexInView:function(e){var d=-1,a,f,b;if(!e||!this.y||!(this.y instanceof s))return-1;d={values:e};a=this.getStartRowIndexInView(e);if(-1===a)return-1;this._isSpanningOnRowAxis(d)?(f=-1,this.y.entityLongIds?f=this._getNestingIndexOfItem(this.y.entityLongIds):this.x.isFixed()&&(b=this._getEntityLongIdsForItemAtRowIndex(this._getRowCount(d)-1,this.x.fixedIndex,d))&&(f=this._getNestingIndexOfItem(b)),
-1===f&&-1===this.y.index&&(f=this._getRowNesting(d)-1),this._getSpanOnDimensionAtRowIndex(f,a,d)===p.SPAN_NONE?d=a:(d=n.indexOf(e.rows.span[f],p.SPAN_END,a-e.startRow),d=-1===d?this._getEndRowIndexOfView(e):d+e.startRow)):d=a;return d},getEndRowSpan:function(e){var d=null;if(!e||!this.y||!(this.y instanceof s))return null;if(!this._isSpanningOnRowAxis(e))return p.SPAN_NONE;e=this.getStartRowSpan(e);null!==e&&(d=e===p.SPAN_NONE?e:p.SPAN_END);return d},getEndRowSpanInView:function(e){var d=null,a;
if(!e||!this.y||!(this.y instanceof s))return null;if(!this._isSpanningOnRowAxis({values:e}))return p.SPAN_NONE;a=this.getStartRowSpanInView(e);null!==a&&(a===p.SPAN_NONE?d=a:(d=this._getNestingIndexOfItem(this.y.entityLongIds),e=n.indexOf(e.rows.span[d],p.SPAN_END,this.y.index-e.startRow),d=-1===e?p.SPAN_MIDDLE:p.SPAN_END));return d},getFixedColumnIndex:function(e){var d=-1;this.x instanceof l&&null!==this.x.fixedIndex?d=this.x.fixedIndex:this.y instanceof s&&this.y.entityLongIds&&(d=this._getFixedColumnIndexOfItem(this.y.entityLongIds,
e));return d},getFixedRowIndex:function(e){var d=-1;this.y instanceof l&&null!==this.y.fixedIndex?d=this.y.fixedIndex:this.x instanceof s&&this.x.entityLongIds&&(d=this._getFixedRowIndexOfItem(this.x.entityLongIds,e));return d},getIndices:function(e){var d={x:null,y:null,nx:null,ny:null},a;if(!e||!this.x||!this.y)return null;if(this.x)if(this.isRowLabelSelected())1===this._getRowNesting(e)?d.nx=0:(a=this.y.entityLongIds,!a&&this.x.isFixed()&&(a=this._getEntityLongIdsForItemAtRowIndex(this._getRowCount(e)-
1,this.x.fixedIndex,e)),a&&(d.nx=this._getNestingIndexOfItem(a)));else if(-1===this.x.index){d.x=this.getStartColumnIndex(e);if(-1===d.x){a=this._getColumnCount(e);if(-1===a)throw new f.ClientException("Unable to retrieve column count");d.x=a?a-1:null}null===d.x&&(d.nx=this._getNestingIndexOfItem(this.y.entityLongIds))}else d.x=this.x.entityLongIds?this.getStartColumnIndex(e):this.x.index+this.x.offset;if(this.y)if(this.isColumnLabelSelected())1===this._getColumnNesting(e)?d.ny=0:(a=this.x.entityLongIds,
!a&&this.y.isFixed()&&(a=this._getEntityLongIdsForItemAtColumnIndex(this._getColumnCount(e)-1,this.y.fixedIndex,e)),a&&(d.ny=this._getNestingIndexOfItem(a)));else if(-1===this.y.index){d.y=this.getStartRowIndex(e);if(-1===d.y){e=this._getRowCount(e);if(-1===e)throw new f.ClientException("Unable to retrieve row count");d.y=e?e-1:null}null===d.y&&(d.ny=this._getNestingIndexOfItem(this.x.entityLongIds))}else d.y=this.y.entityLongIds?this.getStartRowIndex(e):this.y.index+this.y.offset;return d},getRowEntityLongIds:function(e){var d;
return!this.y||!(this.y instanceof s)?null:this.y.entityLongIds?h.clone(this.y.entityLongIds):!e?null:-1===this.y.index&&(d=this._getRowCount(e),0<d)?this._getEntityLongIdsForItemAtRowIndex(d-1,null,e):null!==this.y.index?this._getEntityLongIdsForItemAtRowIndex(this.y.index,null,e):null},getRowNestingIndex:function(){var e=-1;this.y&&this.y.getNestingIndex&&(e=this.y.getNestingIndex());return e},getStartColumnIndex:function(e){var d=-1,a;if(!e||!this.x||!(this.x instanceof s))return d;if(-1===this.x.index&&
(d=this._getColumnCount(e),0<d))return a=this.clone(),a.x.index=d-1,a.resolve(e),a.getStartColumnIndex(e);d=this._getColumnIndexOfItem(this.x.entityLongIds,this.x.index,e);return-1!==d&&this.x.offset?(a=this.clone(),a.x.setIndex(d),a.resolve(e),a.x.offset?-1:a.x.index):d},getStartColumnIndexInView:function(e){var d=-1,a,f;if(!e||!this.x||!(this.x instanceof s))return d;a={values:e};f=this.x.entityLongIds;if(-1===this.x.index&&(d=this._getColumnCount(a),0<d&&d===this._getEndColumnIndexOfView(a.values)+
1))return f=this.clone(),f.x.index=d-1,f.resolve(a),f.getStartColumnIndexInView(e);d=this._getColumnIndexOfItemInView(f,e);-1!==d&&this.x.offset&&(f=this.clone(),f.x.setIndex(d),f.resolve(a),d=f.x.offset?-1:f.x.index);return d},getStartColumnSpan:function(e){var d=null,a=-1,f,b;if(!e||!this.x||!(this.x instanceof s))return null;if(!this._isSpanningOnColumnAxis(e))return p.SPAN_NONE;-1===this.x.index&&(b=this._getColumnCount(e),0<b&&(f=this.clone(),f.x.setIndex(b-1),f.resolve(e),a=f.getStartColumnIndex(e)));
-1===a&&(a=this._getColumnIndexOfItem(this.x.entityLongIds,this.x.index,e));-1!==a&&this.x.offset&&(f=this.clone(),f.x.setIndex(a),f.resolve(e),a=f.x.offset?-1:f.x.index);-1!==a&&(d=this._getNestingIndexOfItem(this.x.entityLongIds),d=this._getSpanOnDimensionAtColumnIndex(d,a,e));return d},getStartColumnSpanInView:function(e){var d=null,a=-1,f,b,h;if(!e||!this.x||!(this.x instanceof s))return null;f={values:e};if(!this._isSpanningOnColumnAxis(f))return p.SPAN_NONE;-1===this.x.index&&(h=this._getColumnCount(f),
0<h&&h===this._getEndColumnIndexOfView(f.values)+1&&(b=this.clone(),b.x.setIndex(h-1),b.resolve(f),a=b.getStartColumnIndexInView(e)));-1===a&&(a=this._getColumnIndexOfItemInView(this.x.entityLongIds,e));-1!==a&&this.x.offset&&(b=this.clone(),b.x.setIndex(a),b.resolve(f),a=b.x.offset?-1:b.x.index);-1!==a&&(e=this._getNestingIndexOfItem(this.x.entityLongIds),-1===e&&-1===this.x.index&&(e=this._getColumnNesting(f)-1),d=this._getSpanOnDimensionAtColumnIndex(e,a,f));return d},getStartRowIndex:function(e){var d=
-1,a;if(!e||!this.y||!(this.y instanceof s))return d;if(-1===this.y.index&&(d=this._getRowCount(e),0<d))return a=this.clone(),a.y.index=d-1,a.resolve(e),a.getStartRowIndex(e);d=this._getRowIndexOfItem(this.y.entityLongIds,this.y.index,e);-1!==d&&this.y.offset&&(a=this.clone(),a.y.setIndex(d),a.resolve(e),d=a.y.offset?-1:a.y.index);return d},getStartRowIndexInView:function(e){var d=-1,a,f;if(!e||!this.y||!(this.y instanceof s))return d;a={values:e};if(-1===this.y.index&&(d=this._getRowCount(a),0<d&&
d===this._getEndRowIndexOfView(a.values)+1))return f=this.clone(),f.y.index=d-1,f.resolve(a),f.getStartRowIndexInView(e);d=this._getRowIndexOfItemInView(this.y.entityLongIds,e);-1!==d&&this.y.offset&&(f=this.clone(),f.y.setIndex(d),f.resolve(a),d=f.y.offset?-1:f.y.index);return d},getStartRowSpan:function(e){var d=null,a=-1,f,b;if(!e||!this.y||!(this.y instanceof s))return null;if(!this._isSpanningOnRowAxis(e))return p.SPAN_NONE;-1===this.y.index&&(b=this._getRowCount(e),0<b&&(f=this.clone(),f.y.setIndex(b-
1),f.resolve(e),a=f.getStartRowIndex(e)));-1===a&&(a=this._getRowIndexOfItem(this.y.entityLongIds,this.y.index,e));-1!==a&&this.y.offset&&(f=this.clone(),f.y.setIndex(a),f.resolve(e),a=f.y.offset?-1:f.y.index);-1!==a&&(d=this._getNestingIndexOfItem(this.y.entityLongIds),d=this._getSpanOnDimensionAtRowIndex(d,a,e));return d},getStartRowSpanInView:function(e){var d=null,a=-1,f,b;if(!e||!this.y||!(this.y instanceof s))return null;f={values:e};if(!this._isSpanningOnRowAxis(f))return p.SPAN_NONE;if(-1===
this.y.index){var h=this._getRowCount(f);0<h&&h===this._getEndRowIndexOfView(f.values)+1&&(b=this.clone(),b.y.setIndex(h-1),b.resolve(f),a=b.getStartRowIndexInView(e))}-1===a&&(a=this._getRowIndexOfItemInView(this.y.entityLongIds,e));-1!==a&&this.y.offset&&(b=this.clone(),b.y.setIndex(a),b.resolve(f),a=b.y.offset?-1:b.y.index);-1!==a&&(e=this._getNestingIndexOfItem(this.y.entityLongIds),-1===e&&-1===this.y.index&&(e=this._getRowNesting(f)-1),d=this._getSpanOnDimensionAtRowIndex(e,a,f));return d},
isColumnLabelSelected:function(){return this.x instanceof s&&this.y instanceof l},isContainedInView:function(e,d){var a,h,b;if(!d)throw new f.ClientException("Missing values argument");if(!this.x||!this.y)return!1;a={values:d};h=this._getRowCount(a);b=this._getColumnCount(a);return-1===h||-1===b?!1:0===e.x[0]&&e.x[1]===b-1&&0===e.y[0]&&e.y[1]===h-1?!0:this.x instanceof s&&(h=this.getStartColumnIndex(a),b=this.getEndColumnIndex(a),-1===h||-1===b||h<e.x[0]||b>e.x[1])||this.y instanceof s&&(h=this.getStartRowIndex(a),
a=this.getEndRowIndex(a),-1===h||-1===a||h<e.y[0]||a>e.y[1])?!1:!0},isDataCellSelected:function(){return this.x instanceof s&&this.y instanceof s},isRowLabelSelected:function(){return this.x instanceof l&&this.y instanceof s},isVisible:function(e){return!e?(console.warn("anaplan.gridlet.Selection.CoordinatePair#isVisible: values are required to perform check"),!1):this.x instanceof s&&-1===this.getStartColumnIndexInView(e)||this.y instanceof s&&-1===this.getStartRowIndexInView(e)?!1:!0},resolve:function(e){var d=
this.inherited(arguments),a;this.x&&(a=this.x.clone(),this._resolveCoordinate("x",e),a.equals(this.x)||(d=!0));this.y&&(a=this.y.clone(),this._resolveCoordinate("y",e),a.equals(this.y)||(d=!0));this.x&&this.y&&(this.x instanceof s&&this.y instanceof l?this.x.entityLongIds&&(a=this._getFixedRowIndexOfItem(this.x.entityLongIds,e),-1!==a&&a!==this.y.fixedIndex&&(this.y.setFixedIndex(a),d=!0)):this.y instanceof s&&this.x instanceof l&&this.y.entityLongIds&&(a=this._getFixedColumnIndexOfItem(this.y.entityLongIds,
e),-1!==a&&a!==this.x.fixedIndex&&(this.x.setFixedIndex(a),d=!0)));return d},set:function(e,d){if("x"===e)this.setX(d);else if("y"===e)this.setY(d);else throw new f.ClientException("Unrecognised attribute: "+e);},setX:function(e){this.x=this._validateCoordinate(e)},setY:function(e){this.y=this._validateCoordinate(e)},toJSON:function(){return{x:this.x?this.x.toJsonObject():null,y:this.y?this.y.toJsonObject():null}},_resolveCoordinate:function(e,d){var a=this[e];a.resolve(d);if(a instanceof s)this._resolveItemCoordinate(e,
d);else if(a instanceof l)this._resolveFixedCoordinate(e,d);else throw new f.ClientException("Invalid coordinate type");},_resolveItemCoordinate:function(e,d){var a,f,b,k,l,m,n,q,s,x,A,D;if(d)if(a=this[e],f="x"===e?this._getColumnCount(d):this._getRowCount(d),-1===f)console.error("anaplan.gridlet.Selection.CoordinatePair#_resolveItemCoordinate: unable to retrieve data count");else if(0>a.index){if(a.offset)if(0<a.offset)a.setIndex(-1),a.setOffset(0),a.setEntityLongIds(null);else{if(b=f-1,f="x"===
e?this._getEntityLongIdsForItemAtColumnIndex(b,null,d):this._getEntityLongIdsForItemAtRowIndex(b,null,d),null!==f){a.setIndex(b);a.setEntityLongIds(f);this._resolveItemCoordinate(e,d);return}}else null!==a.entityLongIds&&(a.setIndex(-1),a.setEntityLongIds(null));-1>a.index&&a.setIndex(-1)}else if(a.entityLongIds)if("x"===e?(n=this._isSpanningOnColumnAxis(d),b=this._getColumnIndexOfItem(a.entityLongIds,a.index,d),q=this._getFixedRowIndexOfItem(a.entityLongIds,d),s=this._getStartColumnIndexOfView(d.values),
x=this._getEndColumnIndexOfView(d.values),A=h.hitch(this,"_getEntityLongIdsForItemAtColumnIndex"),D=h.hitch(this,"_getSpanOnDimensionAtColumnIndex")):(n=this._isSpanningOnRowAxis(d),b=this._getRowIndexOfItem(a.entityLongIds,a.index,d),q=this._getFixedColumnIndexOfItem(a.entityLongIds,d),s=this._getStartRowIndexOfView(d.values),x=this._getEndRowIndexOfView(d.values),A=h.hitch(this,"_getEntityLongIdsForItemAtRowIndex"),D=h.hitch(this,"_getSpanOnDimensionAtRowIndex")),-1===b)console.warn("anaplan.gridlet.Selection.CoordinatePair#_resolveItemCoordinate: selected entity long IDs not found in values, should we check the model? ["+
a.entityLongIds.join(",")+"]");else{k=b;l=a.offset;m=a.entityLongIds;if(a.offset){this._getNestingIndexOfItem(a.entityLongIds);m=a.offset;if(0<m){if(n)for(b+=1;b<=x&&0<m;b++)(l=A(b,q,d))?(l=this._getNestingIndexOfItem(l),l=D(l,b,d),(l===p.SPAN_NONE||l===p.SPAN_START)&&m--):m--;else for(b+=1;b<=x&&0<m;b++)m--;l=0>m?0:m;k=b-1}else if(0>m){if(n)for(b-=1;b>=s;b--)if(l=A(b,q,d)){l=this._getNestingIndexOfItem(l);l=D(l,b,d);if((l===p.SPAN_NONE||l===p.SPAN_START)&&!m)break;l!==p.SPAN_MIDDLE&&m++}else m++;
else for(b-=1;b>=s&&0>m;b--)m++;k=b+1;l=0<m?0:m}m=A(k,q,d);if(0<l&&k===f-1||0>l&&0===k)l=0}a.setIndex(k);a.setOffset(l);a.setEntityLongIds(m)}else null!==a.index&&(k=a.index+a.offset,l=0,m=a.entityLongIds,0>k&&(k=0),k>=f&&(k=f-1),"x"===e?this.y&&(this.y.isFixed()&&this._resolveFixedCoordinate("y",d),m=this._getEntityLongIdsForItemAtColumnIndex(a.index,this.y.isFixed()?this.y.fixedIndex:null,d)):this.x&&(this.x.isFixed()&&this._resolveFixedCoordinate("x",d),m=this._getEntityLongIdsForItemAtRowIndex(a.index,
this.x.isFixed()?this.x.fixedIndex:null,d)),a.setIndex(k),a.setOffset(l),a.setEntityLongIds(m),a.offset&&this._resolveItemCoordinate(e,d))},_resolveFixedCoordinate:function(e,d){var a=this[e],f;0>a.fixedIndex?a.setFixedIndex(0):(f="x"===e?this._getFixedColumnCount(d):this._getFixedRowCount(d),-1===f?console.error("anaplan.gridlet.Selection.CoordinatePair#_resolveFixedCoordinate: unable to retrieve fixed count"):a.fixedIndex>f-1&&a.setFixedIndex(f-1))},_validateCoordinate:function(e){if(e){if(!(e instanceof
l||e instanceof s)){if("fixedIndex"in e)return new l(e);if("index"in e&&"offset"in e&&"entityLongIds"in e)return new s(e);throw new f.ClientException("Invalid coordinate object");}}else return null;return e}});return e})},"anaplan/utils/TestAttributesHelper":function(){define(["dojo/_base/lang","anaplan/utils/JsHelper","dojo/dom-attr","dojo/_base/array","dijit/registry"],function(l,s,p,q,f){var k=[],n=[],m=!1,h={add:function(e,f){e&&(f&&0!==f.length)&&this._addAttribute(e,f)},_addAttribute:function(e,
f){var d=s.isUndefined(e.domNode)?e:e.domNode;if(s.isNullOrUndefined(d))return null;p.set(d,"data-anaplan-element-name",f);k.push(f);n.push(d)},_kickOutput:function(){m||(m=!0,setTimeout(l.hitch(this,function(){this._outputToConsole();m=!1}),1E3))},_outputToConsole:function(){k=[];n=[]},applyAttributes:function(){q.forEach(f.toArray(),l.hitch(this,function(e){var f=this._getTestAttrNameFromWidget(e);f&&(this._addAttribute(e,f),this._applyTemplateAttachPointTestAttributes(e,f))}));this._outputToConsole()},
_applyChildWidgetAttributes:function(e,f){for(var d in e);},_applyTemplateAttachPointTestAttributes:function(e,f){e._attachPoints&&q.forEach(e._attachPoints,l.hitch(this,function(d){var a=e[d];this._getTestAttrNameFromWidget(a)||this._addAttribute(a,f+"_"+d)}))},_getTestAttrNameFromWidget:function(e){if(e.testAttrName){var f=this._getParentTestAttrName(e);return f?f+"_"+e.testAttrName:e.testAttrName}return null},_getParentTestAttrName:function(e){return(e=e.getParent())?e.get("testAttrName"):null}};
l.setObject("anaplan.utils.TestAttributesHelper",h);return h})},"anaplan/cf/EditRuleView":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/dom-class dojo/dom-style dojo/has dojo/keys dijit/focus anaplan/widgets/Button dijit/layout/BorderContainer dijit/layout/ContentPane dijit/Tooltip anaplan/constants anaplan/Exceptions ./_ViewMixin ./BgColorScaleEditor dojo/i18n!dijit/nls/common dojo/i18n!anaplan/nls/conditionalFormatting dojo/sniff".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){var w=b.conditionalFormatType;return l([d,u],{baseClass:"editRuleView",formatType:null,gutters:!1,liveSplitters:!1,constructor:function(a){a=a||{};if(!a.moduleEntityLongId)throw new t.ClientException("anaplan.cf.EditRuleView: missing moduleEntityLongId");try{this._moduleEntityLongId=a.moduleEntityLongId,this._selectedLineItemIdentifier=a.selectedLineItemIdentifier||null,this._invalidRuleIndicatorTooltip=null}catch(b){throw new t.ClientException("anaplan.cf.EditRuleView",
b);}},getAutoSizePixels:function(){try{return this._editor?this._editor.getAutoSizePixels():{maxHeight:400,maxWidth:300,minHeight:400,minWidth:300}}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView.getAutoSizePixels",a);}},onCancel:function(){},postCreate:function(){try{this.inherited(arguments),this._createEditorPanel(),this._createDialogButtons(),this._setupKeyHandlers(),k.add(this.domNode,"qa-view-conditional-formatting-edit-rule-view"),k.add(this.domNode,"qa-view-conditional-formatting-view")}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView.postCreate",
a);}},prepare:function(a){try{this.inherited(arguments),this._updateInvalidRuleIndicator(a.conditionalFormattingInfo.errors[a.editRuleAtIndex]),this._editor&&this._editor.prepare(a)}catch(b){throw new t.ClientException("anaplan.cf.EditRuleView.prepare",b);}},reset:function(){try{this.inherited(arguments),this._editor&&this._editor.reset()}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView.reset",a);}},resize:function(){m("ios")&&6>m("safari")||this.inherited(arguments)},uninitialize:function(){try{this._invalidRuleIndicatorTooltip&&
(this._invalidRuleIndicatorTooltip.destroyRecursive(),this._invalidRuleIndicatorTooltip=null),this.inherited(arguments)}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView.uninitialize",a);}},_createDialogButtons:function(){var b;try{b=new a({"class":"buttons",region:"bottom"}),this._invalidRuleIndicator=f.create("div",{"class":this.baseClass+"InvalidRuleIndicator dijit dijitReset dijitInline dijitIcon dijitButton anaplanEditorIcon anaplanEditorIconInvalid",style:"display: none;"}),this._okButton=
new g({label:z.buttonOk,"class":"primary-button"}),this._cancelButton=new g({label:z.buttonCancel}),f.place(this._okButton.domNode,b.containerNode),f.place(this._cancelButton.domNode,b.containerNode),f.place(this._invalidRuleIndicator,b.containerNode),this.own(this._okButton.on("click",p.hitch(this,"_onOkButtonClick")),this._cancelButton.on("click",p.hitch(this,"onCancel"))),this.addChild(b)}catch(d){throw new t.ClientException("anaplan.cf.EditRuleView._createDialogButtons",d);}},_createEditorPanel:function(){try{this.formatType===
w.BG_COLOR_SCALE&&(this._editor=new v({region:"center",helpContent:y.helpBgColorScaleEditor,helpSize:60,moduleEntityLongId:this._moduleEntityLongId,selectedLineItemIdentifier:this._selectedLineItemIdentifier}),this.own(this._editor.on("submit",p.hitch(this,"onSubmit")),this._editor.on("confirmOverwrite",p.hitch(this,"onConfirmOverwrite"))),this.addChild(this._editor))}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView._createEditorPanel",a);}},_destroyEditorPanel:function(){try{this._editor&&
(this.removeChild(this._editor),this._editor.destroyRecursive(),this._editor=null)}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView._destroyEditorPanel",a);}},_getHelpContentAttr:function(){var a;try{if(this._editor&&(a=this._editor.get("helpContent")))return a}catch(b){throw new t.ClientException("anaplan.cf.EditRuleView._getHelpContentAttr",b);}return this.helpContent},_getHelpSizeAttr:function(){var a;try{if(this._editor&&(a=this._editor.get("helpContent")))return this._editor.get("helpSize")}catch(b){throw new t.ClientException("anaplan.cf.EditRuleView._getHelpSizeAttr",
b);}return this.helpSize},_onOkButtonClick:function(){if(this._editor)this._editor.validate(!0);else this.onCancel()},_onShow:function(){try{e.focus(this.domNode)}catch(a){throw new t.ClientException("anaplan.cf.EditRuleView#_onShow",a);}},_setupKeyHandlers:function(){q.set(this.domNode,"tabindex","-1");this.own(this.on("keydown",p.hitch(this,function(a){a.keyCode===h.ESCAPE?(s.stop(a),this.onCancel()):a.keyCode===h.ENTER&&(s.stop(a),this._onOkButtonClick())})));this.own(this.on("keypress",p.hitch(this,
function(a){a.keyCode===h.ESCAPE&&s.stop(a)})))},_updateInvalidRuleIndicator:function(a){try{a?(n.set(this._invalidRuleIndicator,"display",""),this._invalidRuleIndicatorTooltip||(this._invalidRuleIndicatorTooltip=new r({showDelay:250,connectId:[this._invalidRuleIndicator],position:["before-centered","below-centered","above-centered","after-centered"]}),this._invalidRuleIndicatorTooltip.startup()),this._invalidRuleIndicatorTooltip.set("label",a)):(this._invalidRuleIndicatorTooltip&&(this._invalidRuleIndicatorTooltip.close(),
this._invalidRuleIndicatorTooltip.destroyRecursive(),this._invalidRuleIndicatorTooltip=null),n.set(this._invalidRuleIndicator,"display","none"))}catch(b){throw new t.ClientException("anaplan.cf.EditRuleView._updateInvalidRuleIndicator",b);}}})})},"anaplan/gridlet/_editor/TimeEntityEditor":function(){define("anaplan/data/LabelPageReadStore anaplan/data/ModelContentCache anaplan/gridlet/_editor/BaseEditor anaplan/utils/LabelPageHelper anaplan/gridlet/_editor/cellEditors/ListCellTimeEntitySelector dijit/form/_TextBoxMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-construct anaplan/utils/JsHelper dojo/dom-geometry".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a){return m("anaplan.gridlet._editor.TimeEntityEditor",p,{constructor:function(a){this._listCellSelectorArgs={style:a.style?a.style:"","class":a["class"]?a["class"]:"",name:"label",store:new e({data:{identifier:"entityLongId",label:"label",items:[]}}),searchAttr:"label",disabled:h.exists("parentWidget.isCell",a)&&a.parentWidget.isCell()};this._containerNode=a.containerNode||null;this._createListCellSelector()},focus:function(){this.inherited(arguments);this.widget&&
(this._params.isEnterMode||k.selectInputText(this.widget.textbox))},getValue:function(){if(this.widget){if(""===this.widget.get("value"))return null;var a=this.widget.item||this.widget.getItem();if(this._selectorLabelPage&&(a&&a.entityLongId)&&(null!==a.entityLongId&&0<=a.entityLongId)&&(a=n.indexOf(this._selectorLabelPage.entityLongIds[0],a.entityLongId),-1!==a))return this._selectorLabelPage.labels[0][a]}return this._value},hide:function(){this.inherited(arguments);this._createListCellSelector()},
isValid:function(){return this.widget?this.widget.isValid():!0},prepare:function(e){var b=this.inherited(arguments),f=this._params=h.mixin({},this._params,e);f.cellNode?a.setMarginBox(this.widget.domNode,a.getMarginBox(f.cellNode)):f.size&&a.setMarginBox(this.widget.domNode,f.size);if(!f.context)return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - no context provided"),b;if(!f.format)return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - no format provided"),b;if(!f.format.periodType)return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - no periodType provided"),
b;this._value=f.value||"";var g=-1,k=s.getTimescaleSupersetInfo();if(d.isNullOrUndefined(k))return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - no timeScaleSupersetInfo provided"),b;var m=k.allowedTimeEntityPeriodTypes;if(null===m)return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - no allowedTimeEntityPeriodTypes found"),b;for(var p=0;p<m.length;p++)if(m[p].entityId===f.format.periodType.entityId){g=p;break}if(-1===g)return b.reject("anaplan.gridlet._editor.TimeEntityEditor: prepare - format period type is not valid"),
b;this._selectorLabelPage=g=k.allowedTimeEntityPeriodTypeLabelPages[g];this.widget.set("store",new l({labelPage:g}));k=n.indexOf(g.entityLongIds[0],Number(f.underlyingValue));m=this._value;0<=k&&(m=q.getItemName(g,0,k,!1));f.isEnterMode||this.widget.set("displayedValue",m,!1);b.resolve();return b},show:function(){this.inherited(arguments);this.widget&&(this._params.isEnterMode||this.widget.displayList())},_createListCellSelector:function(){this.widget&&this.widget.destroy();this.widget=new f(this._listCellSelectorArgs);
this._containerNode&&g.place(this.widget.domNode,this._containerNode);this.widget.startup();this.widget.on("change",h.hitch(this,"_onChange"));this.widget.on("cancelEdit",h.hitch(this,"_onCancelEdit"));this.widget.on("tabKey",h.hitch(this,"_onTabKey"));this.widget.on("enterKey",h.hitch(this,"_onEnterKey"));this.widget.on("blur",h.hitch(this,"_onBlur"));this.widget.on("search",h.hitch(this,"_onSearch"));this.widget.on("selected",h.hitch(this,"_onSelected"))},_onSearch:function(){!0===this.widget.validationEnabled&&
this.widget.validate()},_onCancelEdit:function(a){this.onCancel(a)},_onBlur:function(){this.onChange(this._value)},_onSelected:function(a){this.onChange(this._value)},_onChange:function(a){this._value!==a&&this.isValid()&&(this._value=a,this.onChange(a))},_onEnterKey:function(a){this.onKeyDown(a)},_onTabKey:function(a){this.onKeyDown(a)}})})},"anaplan/undo/getUndoManagerSingleton":function(){define(["anaplan/constants","anaplan/data/ModelContentCache","anaplan/undo/UndoManager"],function(l,s,p){var q;
return function(){q||(q=s.hasEntitlement(l.ENTITLED_FEATURES.DATA_INPUT_UNDO)?new p:null);return q}})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(l){var s={};l.setObject("dojo.data.util.filter",s);s.patternToRegExp=function(l,q){for(var f="^",k=null,n=0;n<l.length;n++)switch(k=l.charAt(n),k){case "\\":f+=k;n++;f+=l.charAt(n);break;case "*":f+=".*";break;case "?":f+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":f+=
"\\";default:f+=k}f+="$";return q?RegExp(f,"mi"):RegExp(f,"m")};return s})},"anaplan/data/CellItemCache":function(){define("anaplan/data/ModelContentCache anaplan/data/ItemCache anaplan/data/ModelContentHelper anaplan/utils/FormatHelper dojo/_base/declare dojo/i18n!anaplan/nls/actionEditor dojo/i18n!anaplan/nls/common dojo/json".split(" "),function(l,s,p,q,f,k,n,m){return f("anaplan.data.CellItemCache",s,{getItems:function(f,e,g,d,a){var r,b,s,u,v,z,y;if(!this._isEmpty&&!(0>e&&0>d)){r=this.getKeysArray();
for(b=0;b<r.length;b++)s=r[b],s.getRowIndex()>=f&&(s.getRowIndex()<=e&&s.getColumnIndex()>=g&&s.getColumnIndex()<=d)&&(u=this._getItem(s),s=(s.getRowIndex()-f)*(d-g+1)+(s.getColumnIndex()-g),v=u.style||this._style,z=u.format,a.cellText[s]||(z&&"TEXT"===z.dataType?(u.escapedCellText||(u.escapedCellText=u.cellText?q.escapeHTML(u.cellText):""),a.cellText[s]=u.escapedCellText):z&&"FORMAT"===z.dataType?(y=""!==u.cellText?m.parse(u.cellText):{dataType:"NUMBER"},"ENTITY"===y.dataType?a.cellText[s]=p.getHierarchyId(l,
y.hierarchyEntityLongId):"TIME_ENTITY"===y.dataType&&null!==y.periodType?a.cellText[s]=y.periodType.entityLabel:(y="labelDataType"+y.dataType,a.cellText[s]=n[y])):z&&"ACTION_DEFINITION"===z.dataType?(y=m.parse(u.cellText),a.cellText[s]=k[y.actionType]||y.actionType):z&&"REMOTE_MODEL_DEFINITION"===z.dataType?u.cellText.length?(y=m.parse(u.cellText),a.cellText[s]=[y.workspaceName,y.modelName].join(" / ")):a.cellText[s]=u.cellText:a.cellText[s]=u.cellText,a.formats[s]=z,a.originalText[s]=u.originalText,
a.styles[s]=v,a.isCalculated[s]=u.isCalculated,a.isEditable[s]=u.isEditable,a.writeableLeafCellCounts[s]=u.writeableLeafCellCount,a.bgColors[s]=u.bgColor,u.heldRangeIndex&&(a.heldRangeIndices||(a.heldRangeIndices=[]),a.heldRangeIndices[s]="heldRangeIndex"in u?u.heldRangeIndex:-1)))}},getKeysArray:function(){var f=[],e=function(a,d){this._rowIndex=a;this._columnIndex=d;this.getRowIndex=function(){return this._rowIndex};this.getColumnIndex=function(){return this._columnIndex};this.toString=function(){return[this._rowIndex,
this._columnIndex].join()}},g,d;for(g in this._items)this._items.hasOwnProperty(g)&&(d=g.split(","),f.push(new e(d[0],d[1])));return f}})})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(l,s,p,q,f){var k=Object.freeze||function(){},n=function(d,a,e,b,f){2===a&&(g.instrumentRejected&&0===d.length)&&g.instrumentRejected(e,!1,b,f);for(f=0;f<d.length;f++)m(d[f],a,e,b)},m=function(d,a,f,b){var k=d[a],l=d.deferred;
if(k)try{var m=k(f);if(0===a)"undefined"!==typeof m&&e(l,a,m);else{if(m&&"function"===typeof m.then){d.cancel=m.cancel;m.then(h(l,1),h(l,2),h(l,0));return}e(l,1,m)}}catch(n){e(l,2,n)}else e(l,a,f);2===a&&g.instrumentRejected&&g.instrumentRejected(f,!!k,b,l.promise)},h=function(d,a){return function(f){e(d,a,f)}},e=function(d,a,e){if(!d.isCanceled())switch(a){case 0:d.progress(e);break;case 1:d.resolve(e);break;case 2:d.reject(e)}},g=function(d){var a=this.promise=new q,e=this,b,f,h,l=!1,s=[];Error.captureStackTrace&&
(Error.captureStackTrace(e,g),Error.captureStackTrace(a,g));this.isResolved=a.isResolved=function(){return 1===b};this.isRejected=a.isRejected=function(){return 2===b};this.isFulfilled=a.isFulfilled=function(){return!!b};this.isCanceled=a.isCanceled=function(){return l};this.progress=function(d,f){if(b){if(!0===f)throw Error("This deferred has already been fulfilled.");return a}n(s,0,d,null,e);return a};this.resolve=function(d,g){if(b){if(!0===g)throw Error("This deferred has already been fulfilled.");
return a}n(s,b=1,f=d,null,e);s=null;return a};var y=this.reject=function(d,g){if(b){if(!0===g)throw Error("This deferred has already been fulfilled.");return a}Error.captureStackTrace&&Error.captureStackTrace(h={},y);n(s,b=2,f=d,h,e);s=null;return a};this.then=a.then=function(d,e,k){var l=[k,d,e];l.cancel=a.cancel;l.deferred=new g(function(a){return l.cancel&&l.cancel(a)});b&&!s?m(l,b,f,h):s.push(l);return l.deferred.promise};this.cancel=a.cancel=function(a,e){if(b){if(!0===e)throw Error("This deferred has already been fulfilled.");
}else{if(d){var g=d(a);a="undefined"===typeof g?a:g}l=!0;if(b){if(2===b&&f===a)return a}else return"undefined"===typeof a&&(a=new p),y(a),a}};k(a)};g.prototype.toString=function(){return"[object Deferred]"};f&&f(g);return g})},"anaplan/view/ManageImportSources":function(){define("anaplan/anapediaKeys anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/data/Aggregator anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ChangeFactory anaplan/data/ModelContentCache anaplan/data/ModelContentHelper anaplan/data/RequestFactory anaplan/data/UpdatesCache anaplan/data/ViewRequestRequestGenerator anaplan/Exceptions anaplan/layout/StackContainer anaplan/utils/AuthHelper anaplan/utils/EncryptionHelper anaplan/utils/EntityLongIdHelper anaplan/utils/IdChecker anaplan/utils/JsHelper anaplan/utils/SubmissionHandler anaplan/view/ImportDefinition anaplan/view/ManageImportSources/_Edit anaplan/view/ManageImportSources/_EditSFDCSelection anaplan/view/ManageImportSources/_EditUploadedText anaplan/view/ManageImportSources/_FailedView anaplan/view/ManageImportSources/_ModelSource anaplan/view/ManageImportSources/_SourceList anaplan/view/Process anaplan/widgets/Dialog2 anaplan/widgets/HelpBox anaplan/widgets/ImportCredentials anaplan/widgets/PleaseWait dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/i18n!anaplan/nls/imports dojo/i18n!anaplan/nls/manageImportSources dojo/json dojo/on".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q){return M([r,H.ContentMixin],{constructor:function(a){try{this._workspaceId=a.workspaceId,this._modelId=a.modelId,this._viewDefinition=a.viewDefinition||null,this._importType=a.importType||null,this._params=a.params||null,this._mayPersistParams=!1!==a.mayPersistParams,this._modelName=a.modelName||null,this._targetId=a.targetId||null,this._mode=a.mode||null,this._importDefinitionJson=a.importDefinitionJson||null,
this._importEntityLabel=a.importEntityLabel||null,this._importEntityLongId=a.importEntityLongId||null,this._importDataSource=a.importDataSource||null,this._showSourceList=!a.noSourceList,this._editUpload=this._savingSource=!1,this._viewDefinition=I.mixin({type:"MODEL_DEFINITION"},h.getAxesForViewDefinition([k.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_IDENTIFIER],[k.SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_PROPERTY_IDENTIFIER])),this._viewIndex=null,this._serialNumbers=new f,this._pendingUpdates=
new g({}),this._retrievingSourceFields=this._retrievingSourceList=!1,this._operation=null,this._importerParams={}}catch(b){p.throwClientException(this,b)}},error:function(a){console.error(a)},onBeforeDialogHide:function(){return!this._retrievingSourceFields},onClose:function(){},onDialogHide:function(){if(this._importDefinitionView)this._importDefinitionView.onDialogHide()},onSelectImport:function(){},postCreate:function(){try{this.inherited(arguments);var a=new C({workspaceId:this._workspaceId,modelId:this._modelId,
withSelect:null!==this._targetId}),b=new A,d=new x,e=new D({workspaceId:this._workspaceId,modelId:this._modelId}),f=new K,g=new F({modelId:this._modelId,importType:this._importType,params:this._params,mayPersistParams:this._mayPersistParams}),h=new E,k=new B({workspaceId:this._workspaceId,modelId:this._modelId});this._sourceList=a;this._editSFDCSelectionView=b;this._editView=d;this._editUploadedTextView=e;this._pleaseWaitView=f;this._importCredentialsView=g;this._failedView=h;this._modelSourceView=
k;this.addChild(a,0);this.addChild(b,1);this.addChild(d,2);this.addChild(e,3);this.addChild(f,4);this.addChild(g,5);this.addChild(h,6);this.addChild(k,7);this.own(Q(a,"edit",I.hitch(this,"_onEdit")),Q(a,"close",I.hitch(this,"_onClose")),Q(a,"selectImport",I.hitch(this,"_onSelectImport")),Q(a,"uploadStart",I.hitch(this,"_onUploadStart")),Q(a,"uploadFinish",I.hitch(this,"_onUploadFinish")),Q(a,"remove",I.hitch(this,"_onRemove")),Q(a,"helpChange",I.hitch(this,"onHelpChange")),Q(a,"titleChange",I.hitch(this,
"onTitleChange")),Q(a,"modelSourceRequired",I.hitch(this,"_onModelSourceRequired")));this.own(Q(b,"next",I.hitch(this,"_onSFDCSelection")),Q(b,"cancel",I.hitch(this,"_onCancelEdit")),Q(b,"helpChange",I.hitch(this,"onHelpChange")),Q(b,"titleChange",I.hitch(this,"onTitleChange")));this.own(Q(d,"save",I.hitch(this,"_onSaveEdit")),Q(d,"cancel",I.hitch(this,"_onCancelEdit")),Q(d,"helpChange",I.hitch(this,"onHelpChange")),Q(d,"titleChange",I.hitch(this,"onTitleChange")));this.own(Q(e,"next",I.hitch(this,
null===this._targetId?"_onSaveAndReturnToList":"_onSaveAndProceedToImportMapping")),Q(e,"cancel",I.hitch(this,"_onCancelEdit")),Q(e,"save",I.hitch(this,"_onSaveEdit")),Q(e,"helpChange",I.hitch(this,"onHelpChange")),Q(e,"titleChange",I.hitch(this,"onTitleChange")));this.own(Q(g,"Submit",I.hitch(this,"_onCredentialsSubmitted")),Q(g,"Cancel",I.hitch(this,"_onCancelEdit")),Q(h,"confirm",I.hitch(this,"_onAuthenticationFailure")),Q(h,"helpChange",I.hitch(this,"onHelpChange")),Q(k,"close",I.hitch(this,"_onCancelEdit")),
Q(k,"select",I.hitch(this,"_onModelSourceSelected")),Q(k,"save",I.hitch(this,"_onSaveEdit")))}catch(l){p.throwClientException(this,l)}},resize:function(a){a?this.resize():this.inherited(arguments)},startup:function(){try{this._started&&console.warn("startup "+this.id),this.inherited(arguments),this._retrievingSourceList=!0,this.selectChild(this._pleaseWaitView),this._params||this._getImports(),q.addObserver(this)}catch(a){p.throwClientException(this,a)}},update:function(a){var b,d;try{this._pendingUpdates.clear();
var e=a[0];b=this._serialNumbers;d=this._serialNumbers=new f(e.serialNumbers);if(d.rowAxisSerialNumber!==b.rowAxisSerialNumber||d.dataSerialNumber!==b.dataSerialNumber)this._viewRequestResult=e,this._viewIndex=e.viewIndex,this._sourceList.update(e);if(this._newDataSourceDefinition){var g=this._locateExistingDefinition(this._newDataSourceDefinition);if(g&&null!==this._targetId){this._newDataSourceDefinition=null;this._retrievingSourceList=!1;this._onSelectImport(g);return}}if(this._retrievingSourceList)if(this._retrievingSourceList=
!1,a={},g=b=d=null,this._importDefinitionJson&&(d=N.parse(this._importDefinitionJson),b=d.source,g=d.target,a=this._importerParams[b]||null),"RUN"===this._mode){this._targetId=g;if(this._importType===k.SALES_OPS_DIRECT_IMPORTER)for(var h=e.rowLabelPages[0],l=e.dataPages[0],m=0;m<l.rowCount;++m){var n=l.cellValues[m*l.columnCount];if("SALESFORCE_API"===N.parse(n).dataSourceType){this._selectedSource={entityLongId:h.entityLongIds[0][m],definitionJson:n};b=u.entityLongIdToEntityLongIdIdentifier(h.entityLongIds[0][m]);
a=this._importerParams[b]||null;break}}this._onRunImport(this._importDefinitionJson,this._importEntityLabel,this._importEntityLongId,a)}else if("EDIT"===this._mode){this._operation="SELECT";this._targetId=g;for(var m=e.rowLabelPages[0],r=e.dataPages[0],h=0;h<r.rowCount;++h)if(u.entityLongIdToEntityLongIdIdentifier(m.entityLongIds[0][h])===b){this._selectedSource={entityLongId:m.entityLongIds[0][h],definitionJson:r.cellValues[h*r.columnCount]};break}if(a&&a.length)this._importCredentialsView.setParams(a),
this._importCredentialsView.setSource(b),this.selectChild(this._importCredentialsView);else{var q={modelId:this._modelId,importType:d.importType,source:b,target:g},s="importNameTemplate_"+d.importType;q.name=s in P?P[s]:P.importNameTemplate;var t=this;this._retrieveImportSourceFields(q,function(a,b){t._showImportDefinition({importEntityLongId:a.importEntityLongId,importDefinitionJson:a.importDefinitionJson,importEntityLabel:a.importEntityLabel,sourceFields:a.sourceFields,dimensionSampleData:a.dimensionSampleData,
credentials:b.credentials,persistCredentials:b.persistCredentials,canRun:!1})})}}else this._showSourceList?this.selectChild(this._sourceList):this._savingSource?(this._savingSource=!1,this.onClose()):this._importDataSource?this._onEdit(this._importDataSource):this._editUpload?this._editUpload=!1:this._onModelSourceRequired()}catch(w){p.throwClientException(this,w)}},uninitialize:function(){q.deleteObserver(this);this.inherited(arguments)},view:function(){var a=null;try{a=(new d(this._workspaceId)).getRequest({modelId:this._modelId,
pendingUpdates:this._pendingUpdates,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:this._serialNumbers,viewIndex:this._viewIndex||-1})}catch(b){p.throwClientException(this,b)}return a},_doSave:function(a,b,d){try{this.selectChild(this._pleaseWaitView);var f=this;d||(d=this._importDataSource?this._importDataSource:this._sourceList.getSelectedImportSource());var g=d.definitionJson,
h=N.stringify(a);d.importDefinitionJson=h;var l=(new n).getCellChangeGenerator(),m=[];if("UPLOADED_FILE"===a.dataSourceType)var r=u.entityLongIdToEntityLongIdIdentifier(d.entityLongId),m=[{actionId:"SET_FILE_ATTRIBUTES",params:{modelId:this._modelId,importDataSourceId:r,fileImportDataSourceDefinition:h,sharingOption:this._editUploadedTextView.getSharingOption()}}];a=function(a){console.error(a)};if(b){var s=[l.getCellChange({modelId:this._modelId,originalText:g,entityLongIds:[k.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_DEFINITION,
d.entityLongId],cellText:h})],t=[{workspaceId:this._workspaceId,cellChanges:s,modelChanges:[]}],w=e.createRequest(this._workspaceId,t,[],m);q.post(w,!1,function(){f._onSelectImport(d)},a)}else{this._showSourceList||(this._savingSource=!0);var v={modelId:f._modelId,originalText:g,entityLongIds:[k.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_DEFINITION,d.entityLongId],cellText:h,format:{dataType:"TEXT"}};m.length?(s=[l.getCellChange(v)].filter(function(a){return a.currentText!==a.newText}),t=[{workspaceId:this._workspaceId,
cellChanges:s,modelChanges:[]}],w=e.createRequest(this._workspaceId,t,[],m),q.gather(w)):(this._pendingUpdates.addCellUpdate(v),q.gather())}}catch(z){p.throwClientException(this,z)}},_getImports:function(){var a={actionId:"GET_IMPORTS",params:{modelId:modelId}},b=this;(new y({showPleaseWait:!1})).post([],[],[a]).then(function(a){try{if(a&&a.result){var d=a.result.systemActionResults;d&&d.length&&(J.forEach(d[0].imports,function(a){b._importerParams[a.id]=a.params}),q.gather())}}catch(e){console.error(e)}})},
_getMayPersistParamsAttr:function(){return this._mayPersistParams},_getParamsAttr:function(){return this._params},_locateExistingDefinition:function(a){for(var b="MODEL_OBJECT"===a.dataSourceType,d=s.ignoreCase(a.modelName),e=s.ignoreCase(a.objectName),f,g=this._viewRequestResult.rowLabelPages[0],h=this._viewRequestResult.dataPages[0],k=[],l=0;l<h.rowCount;++l)(f=h.cellValues[l*h.columnCount])&&(k[l]=N.parse(f));for(l=0;l<(b?2:1);++l)for(var m=0;m<h.rowCount;++m){var n=k[m];if(n&&n.dataSourceType===
a.dataSourceType){var r=!1;if(b){if((n.modelId===a.modelId||n.modelId===this._modelId&&!a.modelId||!n.modelId&&a.modelId===this._modelId||1===l&&n.modelName.match(d))&&(n.objectId===a.objectId||1===l&&n.objectName.match(e))&&"true"===n.splitCompositeDimensions===("true"===a.splitCompositeDimensions))r=!0}else{var r=!0,p;for(p in a)if(a[p]!==n[p]){r=!1;break}}if(r)return{entityLongId:g.entityLongIds[0][m],entityId:g.entityIds[0][m],definitionJson:f}}}return null},_onAuthenticationFailure:function(){this._showSourceListOrClose()},
_onCancelEdit:function(){this._showSourceListOrClose()},_showSourceListOrClose:function(){try{"EDIT"===this._mode||"RUN"===this._mode?this._onClose():this._showSourceList?this.selectChild(this._sourceList):this._onClose()}catch(a){p.throwClientException(this,a)}},_onClose:function(){this.onClose()},_onEdit:function(a,b){try{var d=N.parse(a.definitionJson);this._operation="EDIT";if("SALESFORCE_API"===d.dataSourceType){var e="_"+a.entityLongId+"_";this._importCredentialsView.setParams(this._importerParams[e]);
this._importCredentialsView.setSource(e);this._editSFDCSelectionView.setSourceDefinition(d);this.selectChild(this._importCredentialsView)}else"UPLOADED_FILE"===d.dataSourceType?(this._editUploadedTextView.setImportSource(a),this._editUploadedTextView.setSharingOption(),this._editUploadedTextView.setProceedToImportMapping(b),this.selectChild(this._editUploadedTextView)):"MODEL_OBJECT"===d.dataSourceType&&(this._modelSourceView.setImportSource(a),this._modelSourceView.setSourceDefinition(d),this.selectChild(this._modelSourceView))}catch(f){p.throwClientException(this,
f)}},_onError:function(b){p.showErrorReporter(b,b instanceof a.ServerException)},_onSelectImport:function(a){try{if(a||(a=this._sourceList.getSelectedImportSource()),a){var b=u.entityLongIdToEntityLongIdIdentifier(a.entityLongId),d=N.parse(a.definitionJson);this._operation="SELECT";this._selectedSource=a;if("SALESFORCE_API"===d.dataSourceType)this._importCredentialsView.setParams(this._importerParams[b]),this._importCredentialsView.setSource(b),this.selectChild(this._importCredentialsView);else if("UPLOADED_FILE"===
d.dataSourceType||"MODEL_OBJECT"===d.dataSourceType){var e={modelId:this._modelId,importType:this._importType,source:b};if(this._targetId){e.target=this._targetId;var f="importNameTemplate_"+this._importType;e.name=f in P?P[f]:P.importNameTemplate}var g=this;this._retrieveImportSourceFields(e,function(a,b){g._showImportDefinition({importEntityLongId:a.importEntityLongId,importDefinitionJson:a.importDefinitionJson,importEntityLabel:a.importEntityLabel,sourceFields:a.sourceFields,dimensionSampleData:a.dimensionSampleData,
credentials:b.credentials,persistCredentials:b.persistCredentials,canRun:!0})})}}}catch(h){p.throwClientException(this,h)}},_onModelSourceRequired:function(){try{this._modelSourceView.setImportSource(null),this._modelSourceView.setSourceDefinition(null),this.selectChild(this._modelSourceView)}catch(a){p.throwClientException(this,a)}},_onModelSourceSelected:function(a){try{var b=new n,d=a.modelName,e=a.label,f={dataSourceType:"MODEL_OBJECT",modelId:a.modelId===this._modelId?"":a.modelId,modelName:a.modelName,
objectId:a.entityLongId,objectName:a.label};z.isNullOrUndefined(a.workspaceId)||I.mixin(f,{workspaceId:a.workspaceId});z.isNullOrUndefined(a.splitCompositeDimensions)||I.mixin(f,{splitCompositeDimensions:a.splitCompositeDimensions});var g=this._locateExistingDefinition(f);if(null===g){var h,l=this._viewRequestResult.rowLabelPages[0];h=d+" / "+e;h=(new v).truncateCleanAndMangle(h,null,l,0);var m=b.getModelChangeGenerator({entityTypeClass:"SYSTEM",entityTypeIndex:k.IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX});
this.selectChild(this._pleaseWaitView);var r=[{modelId:this._modelId,modelChangeXml:m.getModelChangeXml("INSERT",{items:[{name:h,definition:f}]})}],q=[{workspaceId:this._workspaceId,modelChanges:r,cellChanges:[]}];this._newDataSourceDefinition=f;this._showSourceList||(this._savingSource=!0);this._refresh(q)}else this._targetId?this._onSelectImport(g):(this._sourceList.setSelection(g.entityLongId,g.entityId),this._failedView.setDetail({messageKey:"modelSourceAlreadyExists",substitutions:{sourceName:g.entityId},
localMessageText:"An import data source already exists for this object"}),this.selectChild(this._failedView))}catch(s){p.throwClientException(this,s)}},_onRetrievalOfSourceFields:function(a,b){try{this._retrievingSourceFields=!1;var d=b.sourceDefinition;if(d)this._editView.setSourceDefinition(d),this._editView.setSourceFields(a.sourceFields),this.selectChild(this._editView);else if(this._showSourceList)this.selectChild(this._sourceList);else this.onClose()}catch(e){p.throwClientException(this,e)}},
_onSaveAndReturnToList:function(a,b){try{if(this._retrievingSourceList=!1,this._doSave(b,!1,a),this._showSourceList)this.selectChild(this._sourceList);else this.onClose()}catch(d){p.throwClientException(this,d)}},_onSaveAndProceedToImportMapping:function(a,b){try{this._retrievingSourceList=!1,this._doSave(b,!0,a)}catch(d){p.throwClientException(this,d)}},_onSaveEdit:function(a){try{this._retrievingSourceList=!0,this._doSave(a,!1)}catch(b){p.throwClientException(this,b)}},_onSFDCSelection:function(a,
b){try{a.sourceDefinition=b,this._retrieveImportSourceFields(a,I.hitch(this,"_onRetrievalOfSourceFields"))}catch(d){p.throwClientException(this,d)}},_resetWorkflow:function(){if(this._showSourceList)this.selectChild(this._sourceList),q.gather();else return q.gather(),"ERROR"},_onUploadStart:function(){try{this.selectChild(this._pleaseWaitView)}catch(a){p.throwClientException(this,a)}},onUploadFinish:function(a){return this._onUploadFinish(a)},_onUploadFinish:function(b){try{var e=this;this._showSourceList||
(this._editUpload=!0);var g;if(b){if(b&&b.error){var h=new a.BaseException(b.error);p.showErrorReporter(h,!0);return this._resetWorkflow()}if(!b.entityLongId)return console.warn(this.declaredClass+" _onUploadFinish expected to receive entityLongId and did not"),g=new a.IllegalStateException(null,null,{state:"_onUploadFinish expected to receive entityLongId and did not"}),p.showErrorReporter(new a.ClientException("An unknown error occured whilst processing your file.",g)),this._resetWorkflow()}else return console.warn(this.declaredClass+
" _onUploadFinish expected to receive body and did not"),g=new a.IllegalStateException(null,null,{state:"_onUploadFinish expected to receive body and did not"}),p.showErrorReporter(new a.ClientException("An unknown error occured whilst processing your file.",g)),this._resetWorkflow();var l=(new d(this._workspaceId)).getRequest({modelId:this._modelId,viewDefinition:this._viewDefinition,pageRequests:[{startRow:0,startColumn:0,rowCount:-1,columnCount:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,
serialNumbers:new f,viewIndex:-1});q.post(l,!1,function(d){try{if(d.result){var f=d.result;if(f.viewRequestResults&&0<f.viewRequestResults.length){var g=f.viewRequestResults[0],h=g.rowLabelPages[0],l=J.indexOf(h.entityLongIds[0],b.entityLongId);if(-1!==l){var m=J.indexOf(g.columnLabelPages[0].entityLongIds[0],k.SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_DEFINITION);e._onEdit({entityLongId:b.entityLongId,label:h.labels[0][l],definitionJson:g.dataPages[0].cellValues[l*g.columnCount+m]},!0);return}}}this._resetWorkflow()}catch(n){p.showErrorReporter(new a.ClientException(this.declaredClass+
"_onUploadFinish",n,{widgetId:e.id}))}},function(a){console.error(a);p.showServerErrorInInformationDialog("An unknown error occured whilst processing your file.");this._resetWorkflow()})}catch(m){p.throwClientException(this,m)}},_onRemove:function(a){var b=(new n).getModelChangeGenerator({entityTypeClass:"SYSTEM",entityTypeIndex:k.IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX});a=[{modelId:this._modelId,modelChangeXml:b.getModelChangeXml("DELETE",{entityLongId:a.entityLongId})}];this._refresh([{workspaceId:this._workspaceId,
modelChanges:a,cellChanges:[]}])},_refresh:function(a){this._retrievingSourceList=!0;a=e.createRequest(this._workspaceId,a||[],[],[]);q.gather(a)},_onConnectorParametersRequired:function(a,d,e){if(a.sfLoginUrl)this.selectChild(this._importCredentialsView);else{this.selectChild(this._pleaseWaitView);var f=b.getFirstLocalModelSourceServiceLocation();null===f&&(this._failedView.setDetail({messageKey:"tokenAcquisitionError",substitutions:{cause:P.messageTokenNoProvider},localMessageText:P.messageTokenAquisitionFailed}),
this.selectChild(this._failedView));b.requestToken(this._workspaceId,f).then(I.hitch(this,function(b){b={USERID:b.tokenType,PASSWORD:b.tokenValue};var f=d.PKEY;if(f){var g=t.generateSymmetricKey(d.SKEY_SIZE||128),h;for(h in b)b.hasOwnProperty(h)&&(b[h]=t.encryptWithSymmetricKey(g,b[h],h));b.SKEY=t.wrapWithPublicKey(f,g)}h=I.mixin(a,b);h.credentials=this._credentials=b;this._retrieveImportSourceFields(h,e)})).otherwise(I.hitch(this,function(a){this._failedView.setDetail({messageKey:"tokenAcquisitionError",
substitutions:{cause:a},localMessageText:P.messageTokenAquisitionFailed});this.selectChild(this._failedView)}))}},_onCredentialsSubmitted:function(a){try{if("EDIT"===this._operation)this._editSFDCSelectionView.setCredentials(a),this.selectChild(this._editSFDCSelectionView);else if("SELECT"===this._operation){var b={sfInstance:a.sfInstance,sfUsername:a.sfUsername,sfPassword:a.sfPassword,sfSecToken:a.sfSecToken,sfSKey:a.sfSKey};this._credentials=b;var d=I.mixin(a,{modelId:this._modelId,importType:this._importType,
source:u.entityLongIdToEntityLongIdIdentifier(this._selectedSource.entityLongId),credentials:b,persistCredentials:a.persistParams});if(this._targetId){d.target=this._targetId;var e="importNameTemplate_"+this._importType;d.name=e in P?P[e]:P.importNameTemplate}var f=this;this._retrieveImportSourceFields(d,function(a,b){f._showImportDefinition({importEntityLongId:a.importEntityLongId,importDefinitionJson:a.importDefinitionJson,importEntityLabel:a.importEntityLabel,sourceFields:a.sourceFields,dimensionSampleData:a.dimensionSampleData,
credentials:b.credentials,persistCredentials:b.persistCredentials,canRun:"EDIT"!==f._mode})})}}catch(g){p.throwClientException(this,g)}},_onRunImport:function(a,b,d,e){try{var f=N.stringify({nodes:{Import:{type:"IMPORT",action:u.entityLongIdToEntityLongIdIdentifier(d),next:"_END_"},_END_:{type:"END",next:null}},start:"Import"});this._displayProcessDialog(null,f,b)}catch(g){p.throwClientException(this,g)}},_displayProcessDialog:function(a,b,d){try{var e={workspaceId:this._workspaceId,modelId:this._modelId,
processEntityLongId:a,processDefinitionJson:b,processEntityLabel:d,confirmFirst:!1},f=p.getSharedDialog(),g=new G(e);f.set("title",s.escapeHTML(s.unescapeHTML(d)));f.set("refocus",!1);f.set("content",g.domNode);f.set("preventhide",!0);var h=Q(f,"Cancel",function(){g.cancelProcess()}),k=Q(g,"ProcessCompletion",function(){f.hide(null,!0).then(function(){q.gather()})}),l=Q(g,"Cancel",function(){f.onCancel()});f.own(h,k,l);f.show()}catch(m){p.throwClientException(this,m)}},_retrieveImportSourceFields:function(b,
d){try{this._retrievingSourceFields=!0;this.selectChild(this._pleaseWaitView);var f=e.createRequest(this._workspaceId,[],[],[{actionId:"GET_IMPORT_SOURCE_FIELDS",params:b}]),g=this;q.post(f,!1,function(e){try{if(e.result.systemActionResults&&e.result.systemActionResults.length){var f=e.result.systemActionResults[0];g._retrievingSourceFields=!1;if(f.successful){d(f,b);g._params=[];for(var h in b)b.hasOwnProperty(h)&&g._params.push({id:h,defaultValue:b[h]});g._mayPersistParams=!1===(!1===b.persistParams)}else f.errorDetail&&
"connectorParametersRequired"===f.errorDetail.messageKey?g._onConnectorParametersRequired(b,f.errorDetail.substitutions,d):(g._failedView.setDetail(f.errorDetail),g.selectChild(g._failedView))}else throw new a.ClientException(this.declaredClass+"_retrieveImportSourceFields has no system action results");}catch(k){g._onError(new a.ClientException(this.declaredClass+"_retrieveImportSourceFields (_onGet)",k,{widgetId:g.id}))}},function(b,d){try{if(g._retrievingSourceFields=!1,a.isException(b))g._onError(b);
else{var e={};d&&(d.xhr&&d.xhr.status)&&(e.httpStatus=d.xhr.status,e.httpStatusText=d.xhr.statusText);b.error?g._onError(new a.ServerException(b.error,null,e)):!d||!d.xhr||!d.xhr.status?g._onError(new a.TransportException(this.declaredClass+"_retrieveImportSourceFields (No HTTP status response)")):(e.response=b,g._onError(new a.ClientException(this.declaredClass+"_retrieveImportSourceFields (Unexpected failure)",null,e)))}}catch(f){g._onError(new a.ClientException(this.declaredClass+"_retrieveImportSourceFields (_onError)",
f,{widgetId:g.id}))}})}catch(h){p.showErrorReporter(new a.ClientException(this.declaredClass+"_retrieveImportSourceFields",h,{widgetId:this.id})),this._retrievingSourceFields=!1}},_showImportDefinition:function(a){try{this._importDefinitionView||(this._importDefinitionView=new w({workspaceId:this._workspaceId,modelId:this._modelId}),this.addChild(this._importDefinitionView),Q(this._importDefinitionView,"HelpChange",I.hitch(this,"onHelpChange")),Q(this._importDefinitionView,"TitleChange",I.hitch(this,
"onTitleChange")),Q(this._importDefinitionView,"RunImport",I.hitch(this,"_onRunImport")),Q(this._importDefinitionView,"Cancel",I.hitch(this,"_showSourceListOrClose")),Q(this._importDefinitionView,"SaveImportDefinition",I.hitch(this,function(){this.onClose()}))),this._importDefinitionView.setParams(a),this.selectChild(this._importDefinitionView)}catch(b){p.throwClientException(this,b)}},_dummySourceFields:[{id:"Customer.Id",displayName:"Customer Account ID"},{id:"Customer.Name",displayName:"Customer Account Name"},
{id:"Customer.Type",displayName:"Customer Account Type"},{id:"Customer.AccountCode__c",displayName:"Customer Account Code"},{id:"User.Id",displayName:"User ID"},{id:"User.Name",displayName:"Full Name"},{id:"Opportunity.Id",displayName:"Opportunity ID"},{id:"Opportunity.Name",displayName:"Name"},{id:"Opportunity.StageName",displayName:"Stage"},{id:"Opportunity.Amount",displayName:"Amount"},{id:"Opportunity.CloseDate",displayName:"Close Date"},{id:"Opportunity.Type",displayName:"Opportunity Type"},
{id:"Opportunity.IsClosed",displayName:"Closed"},{id:"Opportunity.IsWon",displayName:"Won"},{id:"Product2.Id",displayName:"Product ID"},{id:"Product2.Name",displayName:"Product Name"},{id:"Product2.ProductCode",displayName:"Product Code"},{id:"Product2.Family",displayName:"Product Family"},{id:"Partner.Id",displayName:"Partner Account ID"},{id:"Partner.Name",displayName:"Partner Account Name"},{id:"Partner.Type",displayName:"Partner Account Type"},{id:"Partner.AccountCode__c",displayName:"Partner Account Code"},
{id:"OpportunityLineItem.Quantity",displayName:"Quantity"},{id:"OpportunityLineItem.TotalPrice",displayName:"Total Price"},{id:"OpportunityLineItem.UnitPrice",displayName:"Sales Price"},{id:"OpportunityLineItem.ListPrice",displayName:"List Price"},{id:"OpportunityLineItem.Description",displayName:"Line Description"}]})})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){function a(a){return!this.isFulfilled()}function r(a){return!!this._finished}function b(a,b){if(!b)try{var d=a.options,e=u.doc(u._frame),g=d.handleAs;if("html"!==g){if("xml"===g)if("html"===e.documentElement.tagName.toLowerCase()){m("a",e.documentElement).orphan();var h=e.documentElement.innerText,h=h.replace(/>\s+</g,"\x3e\x3c");a.text=k.trim(h)}else a.data=e;else a.text=e.getElementsByTagName("textarea")[0].value;f(a)}else a.data=e}catch(l){b=l}b?this.reject(b):
this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function t(a){this._callNext()}function u(d,e,f){var g=q.parseArgs(d,q.deepCreate(y,e),!0);d=g.url;e=g.options;if("GET"!==e.method&&"POST"!==e.method)throw Error(e.method+" not supported by dojo/request/iframe");u._frame||(u._frame=u.create(u._iframeName,z+"();"));d=q.deferred(g,null,a,r,b,t);d._callNext=function(){this._calledNext||(this._calledNext=!0,u._currentDfd=null,u._fireNextRequest())};d._legacy=
f;u._dfdQueue.push(d);u._fireNextRequest();p(d);return f?d:d.promise}var v=l.id.replace(/[\/\.\-]/g,"_"),z=v+"_onload";d.global[z]||(d.global[z]=function(){var a=u._currentDfd;if(a){var b=e.byId(a.response.options.form)||a._tmpForm;if(b){for(var d=a._contentToClean,f=0;f<d.length;f++)for(var h=d[f],k=0;k<b.childNodes.length;k++){var l=b.childNodes[k];if(l.name===h){g.destroy(l);break}}a._originalAction&&b.setAttribute("action",a._originalAction);a._originalMethod&&(b.setAttribute("method",a._originalMethod),
b.method=a._originalMethod);a._originalTarget&&(b.setAttribute("target",a._originalTarget),b.target=a._originalTarget)}a._tmpForm&&(g.destroy(a._tmpForm),delete a._tmpForm);a._finished=!0}else u._fireNextRequest()});var y={method:"POST"};u.create=function(a,b,e){if(d.global[a])return d.global[a];if(d.global.frames[a])return d.global.frames[a];e||(h("config-useXDomain")&&!h("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
e=h("config-dojoBlankHtmlUrl")||s.toUrl("dojo/resources/blank.html"));b=g.place('\x3ciframe id\x3d"'+a+'" name\x3d"'+a+'" src\x3d"'+e+'" onload\x3d"'+b+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',d.body());return d.global[a]=b};u.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var e=d.doc.getElementsByTagName("iframe");if(a.document&&e[b].contentWindow&&e[b].contentWindow.document)return e[b].contentWindow.document;
if(d.doc.frames[b]&&d.doc.frames[b].document)return d.doc.frames[b].document}return null};u.setSrc=function(a,b,e){a=d.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{e?a.location.replace(b):a.location=b}catch(f){}};u._iframeName=v+"_IoIframe";u._notifyStart=function(){};u._dfdQueue=[];u._currentDfd=null;u._fireNextRequest=function(){var a;try{if(!u._currentDfd&&u._dfdQueue.length){do a=u._currentDfd=u._dfdQueue.shift();while(a&&(a.canceled||a.isCanceled&&a.isCanceled())&&u._dfdQueue.length);
if(!a||a.canceled||a.isCanceled&&a.isCanceled())u._currentDfd=null;else{var b=a.response,f=b.options,h=a._contentToClean=[],l=e.byId(f.form),m=q.notify,r=f.data||null,p;!a._legacy&&"POST"===f.method&&!l?l=a._tmpForm=g.create("form",{name:v+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},d.body()):"GET"===f.method&&(l&&-1<b.url.indexOf("?"))&&(p=b.url.slice(b.url.indexOf("?")+1),r=k.mixin(n.queryToObject(p),r));if(l){if(!a._legacy){var s=l;do s=s.parentNode;while(s&&s!==d.doc.documentElement);
s||(l.style.position="absolute",l.style.left="-1000px",l.style.top="-1000px",d.body().appendChild(l));l.name||(l.name=v+"_form")}if(r){var s=function(a,b){g.create("input",{type:"hidden",name:a,value:b},l);h.push(a)},t;for(t in r){var z=r[t];if(k.isArray(z)&&1<z.length)for(p=0;p<z.length;p++)s(t,z[p]);else l[t]?l[t].value=z:s(t,z)}}var y=l.getAttributeNode("action"),J=l.getAttributeNode("method"),M=l.getAttributeNode("target");b.url&&(a._originalAction=y?y.value:null,y?y.value=b.url:l.setAttribute("action",
b.url));if(a._legacy){if(!J||!J.value)J?J.value=f.method:l.setAttribute("method",f.method)}else a._originalMethod=J?J.value:null,J?J.value=f.method:l.setAttribute("method",f.method);a._originalTarget=M?M.value:null;M?M.value=u._iframeName:l.setAttribute("target",u._iframeName);l.target=u._iframeName;m&&m.emit("send",b,a.promise.cancel);u._notifyStart(b);l.submit()}else f="",b.options.data&&(f=b.options.data,"string"!==typeof f&&(f=n.objectToQuery(f))),s=b.url+(-1<b.url.indexOf("?")?"\x26":"?")+f,
m&&m.emit("send",b,a.promise.cancel),u._notifyStart(b),u.setSrc(u._frame,s,!0)}}}catch(I){a.reject(I)}};q.addCommonMethods(u,["GET","POST"]);return u})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(l,s,p,q){return l("dijit.form.Textarea",[q,p],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);s.set(this.textbox,{overflowY:"hidden",overflowX:"auto",
boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"anaplan/gridlet/_editor/Summary":function(){define("anaplan/utils/FormatHelper anaplan/utils/UIHelper anaplan/data/ModelContentCache anaplan/utils/EntityLongIdHelper dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/dom-style dojo/i18n!anaplan/nls/common dojo/i18n!anaplan/nls/summary dojo/i18n!dijit/nls/common dojo/keys dojo/text!anaplan/templates/Summary.html anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b){return h("anaplan.gridlet._editor.Summary",[k,f,n],{baseClass:"dijitContentPane dijit dijitReset dijitLeft summary",name:"",tabIndex:-1,templateString:b,constructor:function(a){this._connections=[];this._initialSummary=a.initialSummary;this._lineItemEntityLongId=a.lineItemEntityLongId;this._moduleEntityLongId=a.moduleEntityLongId;this._summaryOptionsMap={NUMBER:"SUM NONE FORMULA AVERAGE RATIO MIN MAX".split(" "),DATE:"NONE FORMULA MIN MAX FIRST_NON_BLANK LAST_NON_BLANK".split(" "),
ENTITY:["NONE","FORMULA","FIRST_NON_BLANK","LAST_NON_BLANK"],TIME_ENTITY:"NONE FORMULA MIN MAX FIRST_NON_BLANK LAST_NON_BLANK".split(" "),TEXT:["NONE","FORMULA","FIRST_NON_BLANK","LAST_NON_BLANK"],BOOLEAN:["NONE","FORMULA","ANY","ALL"],NONE:["NONE"]};this._timeSummaryOptionsMap={NUMBER:"SUM NONE FORMULA AVERAGE RATIO MIN MAX OPENING_BALANCE CLOSING_BALANCE".split(" "),DATE:"NONE FORMULA MIN MAX FIRST_NON_BLANK LAST_NON_BLANK".split(" "),ENTITY:["NONE","FORMULA","FIRST_NON_BLANK","LAST_NON_BLANK"],
TIME_ENTITY:"NONE FORMULA MIN MAX FIRST_NON_BLANK LAST_NON_BLANK".split(" "),TEXT:["NONE","FORMULA","FIRST_NON_BLANK","LAST_NON_BLANK"],BOOLEAN:["NONE","FORMULA","ANY","ALL"],NONE:["NONE"]}},focus:function(){this.selectSummaryMethod.focus()},onCancel:function(){},onSubmit:function(){},postCreate:function(){var b,e,f,h,k,n,r;this.inherited(arguments);b=p.getModuleInfo(this._moduleEntityLongId);e=b.lineItemsLabelPage;f=m.indexOf(e.entityLongIds[0],this._lineItemEntityLongId);b=b.lineItemInfos;h=b[f];
k=h.format;s.setText(this.labelRatio,d.labelRatio);s.setText(this.labelSummaryMethod,d.labelSummaryMethod);s.setText(this.labelTimeSummaryMethod,d.labelTimeSummaryMethod);f=l.searchAndReplacePlaceholders(d.helpSummary);this.helpSummary.innerHTML=f;n=this;f=this._summaryOptionsMap[k.dataType];m.forEach(f,function(a){s.addSelectOption(n.selectSummaryMethod,a,g["labelSummaryMethod"+a])});f=m.indexOf(f,this._initialSummary.summaryMethod);-1===f?console.warn(this.id+" failed to find index of summary method "+
this._initialSummary.summaryMethod):this.selectSummaryMethod.value=this._initialSummary.summaryMethod;k=this._timeSummaryOptionsMap[k.dataType];s.addSelectOption(this.selectTimeSummaryMethod,-1,"Same as main summary");m.forEach(k,function(a){s.addSelectOption(n.selectTimeSummaryMethod,a,g["labelSummaryMethod"+a])});this._initialSummary.timeSummarySameAsMainSummary?this.selectTimeSummaryMethod.value=-1:(f=m.indexOf(k,this._initialSummary.timeSummaryMethod),-1===f?console.warn(this.id+" failed to find index of time summary method "+
this._initialSummary.timeSummaryMethod):this.selectTimeSummaryMethod.value=this._initialSummary.timeSummaryMethod);for(k=0;k<e.count;k++)r=e.entityLongIds[0][k],r!=this._lineItemEntityLongId&&(f=e.labels[0][k],h=b[k],h.format&&"NUMBER"===h.format.dataType&&(h=q.entityLongIdToEntityLongIdIdentifier(r),s.addSelectOption(this.selectNumerator,h,f),s.addSelectOption(this.selectDenominator,h,f)));this._initialSummary.ratioNumeratorIdentifier&&this._initialSummary.ratioNumeratorIdentifier.length&&(b=q.entityLongIdIdentifierToEntityLongId(this._initialSummary.ratioNumeratorIdentifier),
f=m.indexOf(e.entityLongIds[0],b),-1===f?console.warn(this.id+" failed to find index of ratio numerator identifier "+this._initialSummary.ratioNumeratorIdentifier):this.selectNumerator.value=this._initialSummary.ratioNumeratorIdentifier);this._initialSummary.ratioDenominatorIdentifier&&this._initialSummary.ratioDenominatorIdentifier.length&&(b=q.entityLongIdIdentifierToEntityLongId(this._initialSummary.ratioDenominatorIdentifier),f=m.indexOf(e.entityLongIds[0],b),-1===f?console.warn(this.id+" failed to find index of ratio denominator identifier "+
this._initialSummary.ratioDenominatorIdentifier):this.selectDenominator.value=this._initialSummary.ratioDenominatorIdentifier);this._showHideRatio();this.inputOk.set("label",a.buttonOk);this.inputCancel.set("label",a.buttonCancel)},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments)},_onKeyDown:function(a){a.keyCode===r.ENTER&&this._onSubmit()},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_onInputOkClick:function(){this._onSubmit()},
_onInputCancelClick:function(){this.onCancel()},_onSelectSummaryMethodChange:function(){this._showHideRatio()},_onSelectTimeSummaryMethodChange:function(){this._showHideRatio()},_onSubmit:function(){var a="RATIO"===this.selectTimeSummaryMethod.value||"RATIO"===this.selectSummaryMethod.value,b=-1==this.selectTimeSummaryMethod.value;this.onSubmit({summaryMethod:this.selectSummaryMethod.value,timeSummaryMethod:b?this.selectSummaryMethod.value:this.selectTimeSummaryMethod.value,timeSummarySameAsMainSummary:b,
ratioNumeratorIdentifier:a?this.selectNumerator.value:"",ratioDenominatorIdentifier:a?this.selectDenominator.value:""})},_showHideRatio:function(){e.set(this.divRatio,"visibility","RATIO"===this.selectTimeSummaryMethod.value||"RATIO"===this.selectSummaryMethod.value?"visible":"hidden")}})})},"anaplan/snav/bulkoperationfactory/_aggregatorobserver":function(){define("anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dojo/_base/declare anaplan/common/ViewSerialNumbers anaplan/data/RequestFactory anaplan/data/ModelContentHelper anaplan/constants dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m,h){return q([],{constructor:function(e){this._handleError=!1;e.hasOwnProperty("handleError")&&(this._handleError=e.handleError);this._hierarchyEntityLongId=-1;e.hasOwnProperty("hierarchyEntityLongId")&&(this._hierarchyEntityLongId=e.hierarchyEntityLongId);p.addObserver(this)},destroy:function(){p.deleteObserver(this)},error:function(){return this._handleError},update:function(){},view:function(){var e=this._getViewRequest(this._hierarchyEntityLongId);return k.createRequest(workspaceId,
[],[e],[])},_getViewDefinition:function(e){var f={type:"MODEL_DATA"};e=l.entityLongIdToEntityLongIdIdentifier(e);e=n.getAxesForViewDefinition([e],[m.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]);h.mixin(f,e);return f},_getViewRequest:function(e){e=this._getViewDefinition(e);return{modelId:modelId,viewDefinition:e,columnLabelPageRequests:[],dataPageRequests:[],rowLabelPageRequests:[],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new f,viewGuid:s.createUUID(),viewIndex:-1}}})})},
"anaplan/dashboard/_Section":function(){define(["dojo/_base/declare","anaplan/constants","dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(l,s,p,q,f){return l("anaplan.dashboard._Section",[],{constructor:function(f){this._dashboard=f.dashboard;this._subRows=[];this._subColumns=[];this._widgets=[];this._widgetBaseSizes=[];this._widgetMaximumSizes=[];this._allocations=[];this._horizontal=f.horizontal},allocate:function(f,l){(0>f.h||0>f.w)&&console.warn("negative allocation "+[f.w,f.h].join());
var m=0,h=0,e=0,g=0,d=-1,a=-1,r=0,b=0,q=0;if(this._subRows.length){for(var u=this._subRows.length,v=[],z=0;z<this._subRows.length;z++)v.push(this._subRows[z]?z:-1);m=f.h;h=f.w;e=Math.floor(m/u);for(g=h;e&&m!=d||g&&h!=a;){a=h;d=m;for(b=r=0;b<v.length;b++)z=v[b],-1<z&&(z=this._subRows[z].allocate({w:g,h:e},l),z.w==g&&z.h==e?v[b]=-1:(m-=e-z.h,r=Math.max(r,g-z.w)));h-=r;u=0;p.forEach(v,function(a){-1<a&&u++});e=Math.floor(m/u);g-=r;q++}}else if(this._subColumns.length){for(var y=this._subColumns.length,
v=[],m=0;m<this._subColumns.length;m++)v.push(this._subColumns[m]?m:-1);m=f.h;h=f.w;e=m;g=Math.floor(h/y);for(r=0;e&&m!=d||g&&h!=a;){a=h;d=m;for(b=0;b<v.length;b++)r=0,z=v[b],-1<z&&(z=this._subColumns[z].allocate({w:g,h:e},l),z.w==g&&z.h==e?v[b]=-1:(r=Math.max(r,e-z.h),h-=g-z.w));m-=r;y=0;p.forEach(v,function(a){-1<a&&y++});e=m;g=Math.floor(h/y);q++}}else{v=[];for(m=0;m<this._widgets.length;m++)v.push(this._widgets[m]?m:-1);m=f.h;h=f.w;e=Math.floor(this._horizontal?m:m/this._widgets.length);for(g=
Math.floor(this._horizontal?h/this._widgets.length:h);e&&m!=d||g&&h!=a;){a=h;d=m;for(z=b=r=0;z<v.length;z++){var w=v[z];if(-1<w){var x=this._widgets[w].getArgs().dashboardElementType,A=this._getWidgetBaseSize(w,l),D=this._getWidgetMaximumSize(w,l),E=this._allocations[w]||{h:0,w:0},B=x===s.dashboardElementType.GRID&&A.w+E.w<D.w?16:0,x=x===s.dashboardElementType.GRID&&A.h+E.h<D.h?16:0,B=e?Math.floor(Math.min(D.h+B-(A.h+E.h),e)):0,A=g?Math.floor(Math.min(D.w+x-(A.w+E.w),g)):0;0==B&&0==A?v[z]=-1:(this._allocations[w]=
{h:E.h+B,w:E.w+A},this._horizontal?(h-=A,r=Math.max(B,r)):(m-=B,b=Math.max(A,b)))}}this._horizontal?m-=r:h-=b;var C=0;p.forEach(v,function(a){-1<a&&C++});e=Math.floor(this._horizontal?m:m/C);g=Math.floor(this._horizontal?h/C:h);q++}}return{h:m,w:h}},_clearSizesCache:function(){this._subRows.length?p.forEach(this._subRows,function(f){f._clearSizesCache()}):this._subColumns.length?p.forEach(this._subColumns,function(f){f._clearSizesCache()}):(this._widgetBaseSizes=[],this._widgetMaximumSizes=[])},getBaseSize:function(f){var l=
0,m=0,h=0,e=0,g=0,d=0,a=this._widgets.length;if(this._subRows.length){e=this._subRows;g=e.length;for(d=0;d<g;d++)if(h=e[d])h=h.getBaseSize(f),l+=h.h,m=Math.max(m,h.w)}else if(this._subColumns.length){e=this._subColumns;g=e.length;for(d=0;d<g;d++)if(h=e[d])h=h.getBaseSize(f),l=Math.max(l,h.h),m+=h.w}else{for(l=0;l<a;l++)m=this._getWidgetBaseSize(l,f),this._horizontal?(e=Math.max(e,m.h),g+=m.w):(h+=m.h,d=Math.max(m.w,d));l=this._horizontal?e:h;m=this._horizontal?g:d}return{h:l,w:m}},getMaximumHeight:function(f){var l=
0,m=0,h=0,e,g,d;if(this._subRows.length)p.forEach(this._subRows,function(a){l+=a.getMaximumHeight(f)});else if(this._subColumns.length)p.forEach(this._subColumns,function(a){d=a.getMaximumHeight(f);l<d&&(l=d)});else{for(e=0;e<this._widgets.length;e++)g=this._getWidgetMaximumSize(e,f),this._horizontal?h=Math.max(h,g.h):m+=g.h;l=this._horizontal?h:m}return l},getMaximumWidth:function(f){var l=0,m=0,h=0,e,g;this._subColumns.length&&p.forEach(this._subColumns,function(d){l+=d.getMaximumWidth(f)});if(this._subRows.length)p.forEach(this._subRows,
function(d){d=d.getMaximumWidth(f);l<d&&(l=d)});else{for(e=0;e<this._widgets.length;e++)g=this._getWidgetMaximumSize(e,f),this._horizontal?h+=g.w:m=Math.max(m,g.w);l=this._horizontal?h:m}return l},isEmpty:function(){var f=!0;p.forEach(this._subRows,function(l){l&&!l.isEmpty()&&(f=!1)});p.forEach(this._subColumns,function(l){l&&!l.isEmpty()&&(f=!1)});this._widgets.length&&(f=!1);return f},_getActualHeight:function(f){var l=0,m=0,h=0,e,g;if(this._subRows.length)p.forEach(this._subRows,function(d){d&&
(l+=d._getActualHeight(f))});else if(this._subColumns.length)p.forEach(this._subColumns,function(d){d&&(l=Math.max(l,d._getActualHeight(f)))});else{for(e=0;e<this._widgets.length;e++)this._widgets[e]&&(g=this._getWidgetBaseSize(e,f).h,g+=this._allocations[e]?this._allocations[e].h:0,m=Math.max(m,g),h+=g);l=this._horizontal?m:h}return l},_getActualWidth:function(f){var l=0,m=0,h=0,e,g;if(this._subRows.length)p.forEach(this._subRows,function(d){d&&(l=Math.max(d._getActualWidth(f),l))});else if(this._subColumns.length)p.forEach(this._subColumns,
function(d){d&&(l+=d._getActualWidth(f))});else{for(e=0;e<this._widgets.length;e++)this._widgets[e]&&(g=this._getWidgetBaseSize(e,f).w,g+=this._allocations[e]?this._allocations[e].w:0,m=Math.max(m,g),h+=g);l=this._horizontal?h:m}return l},_getLayout:function(f,l){var m=[],h,e=this._dashboard;h=this._subRows;var g=this._subColumns,d=h.length,a=g.length;if(d){g=l.l;for(a=0;a<d;a++)if(e=h[a])m=m.concat(e._getLayout(f,l)),l.t+=e._getActualHeight(f),l.l=g}else if(this._subColumns.length){h=l.t;for(d=0;d<
a;d++)if(e=g[d])m=m.concat(e._getLayout(f,l)),l.t=h,l.l+=e._getActualWidth(f)}else{h=e.get("spacing");for(d=0;d<this._widgets.length;d++)g=this._widgets[d],(g.dashboardElementType===s.dashboardElementType.CELL||g.dashboardElementType===s.dashboardElementType.STATIC_TEXT)&&g.setTabIndex(e.getNextTabIndex()),a=q.clone(this._getWidgetBaseSize(d)),this._allocations[d]&&(a.h+=this._allocations[d].h,a.w+=this._allocations[d].w),a.t=l.t,a.l=l.l,a.w-=h.horizontal,a.h-=h.vertical,a.widgetId=g.id,m.push(a),
l.l=this._horizontal?l.l+a.w+h.horizontal:l.l,l.t=this._horizontal?l.t:l.t+a.h+h.vertical}return m},_getWidgetBaseSize:function(f,l){var m=this._widgetBaseSizes[f],h;if(!m&&(h=this._widgets[f]))m=h.getBaseSize(l),this._widgetBaseSizes[f]=m;return m||{w:0,h:0}},_getWidgetMaximumSize:function(f,l){var m=this._widgetMaximumSizes[f],h;if(!m&&(h=this._widgets[f]))m=h.getMaximumSize(l),this._widgetMaximumSizes[f]=m;return m||{w:0,h:0}},_normalizeHeightsAndWidths:function(f){var l;if(this._subRows.length){l=
this.getBaseSize(f);for(var m=this._subRows,h=m.length,e,g,d=0;d<h;d++)if(e=m[d])(g=l.w-e.getBaseSize(f).w)&&e.allocate({h:0,w:g},f),e._normalizeHeightsAndWidths(f)}else if(this._subColumns.length){l=this.getBaseSize(f);m=this._subColumns;h=m.length;for(d=0;d<h;d++)if(e=m[d])(g=l.h-e.getBaseSize(f).h)&&e.allocate({h:g,w:0},f),e._normalizeHeightsAndWidths(f)}else{var a=0,r=0;l=this._widgets;m=this._allocations;h=this._horizontal;e=l.length;for(var b,p=0;p<e;p++)if(d=l[p])b=this._getWidgetBaseSize(p,
f),g=m[p]||{h:0,w:0},r=h?Math.max(r,b.h+g.h):r+b.h+g.h,a=h?a+b.w+g.w:Math.max(a,b.w+g.w);r=Math.floor(r);a=Math.floor(a);for(p=0;p<e;p++)if(d=l[p]){b=this._getWidgetBaseSize(p,f);g=m[p]||{h:0,w:0};var q=b.w+g.w,s=b.h+g.h;if(q<a||s<r)b=this._getWidgetMaximumSize(p,f),d.getArgs(),d.getArgs(),h?s<Math.min(r,b.h)&&(d=Math.floor(Math.min(r,b.h)-s),m[p]={h:g.h+d,w:g.w}):q<Math.min(a,b.w)&&(d=Math.floor(Math.min(a,b.w)-q),m[p]={h:g.h,w:g.w+d})}}}})})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(l,s,p,q){return p("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(f){q.mixin(this,f);this.connects=[];f=this.store;if(!f.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");f.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([s.after(f,
"onNew",q.hitch(this,"onNewItem"),!0),s.after(f,"onDelete",q.hitch(this,"onDeleteItem"),!0),s.after(f,"onSet",q.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var f;f=this.connects.pop();)f.remove()},getRoot:function(f,k){this.root?f(this.root):this.store.fetch({query:this.query,onComplete:q.hitch(this,function(k){if(1!=k.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+k.length+" items, but must return exactly one");this.root=k[0];f(this.root)}),onError:k})},mayHaveChildren:function(f){return l.some(this.childrenAttrs,
function(k){return this.store.hasAttribute(f,k)},this)},getChildren:function(f,k,n){var m=this.store;if(m.isItemLoaded(f)){for(var h=[],e=0;e<this.childrenAttrs.length;e++)var g=m.getValues(f,this.childrenAttrs[e]),h=h.concat(g);var d=0;this.deferItemLoadingUntilExpand||l.forEach(h,function(a){m.isItemLoaded(a)||d++});0==d?k(h):l.forEach(h,function(a,b){m.isItemLoaded(a)||m.loadItem({item:a,onItem:function(a){h[b]=a;0==--d&&k(h)},onError:n})})}else{var a=q.hitch(this,arguments.callee);m.loadItem({item:f,
onItem:function(d){a(d,k,n)},onError:n})}},isItem:function(f){return this.store.isItem(f)},fetchItemByIdentity:function(f){this.store.fetchItemByIdentity(f)},getIdentity:function(f){return this.store.getIdentity(f)},getLabel:function(f){return this.labelAttr?this.store.getValue(f,this.labelAttr):this.store.getLabel(f)},newItem:function(f,k,l){var m={parent:k,attribute:this.childrenAttrs[0]},h;this.newItemIdAttr&&f[this.newItemIdAttr]?this.fetchItemByIdentity({identity:f[this.newItemIdAttr],scope:this,
onItem:function(e){e?this.pasteItem(e,null,k,!0,l):(h=this.store.newItem(f,m))&&void 0!=l&&this.pasteItem(h,k,k,!1,l)}}):(h=this.store.newItem(f,m))&&void 0!=l&&this.pasteItem(h,k,k,!1,l)},pasteItem:function(f,k,n,m,h){var e=this.store,g=this.childrenAttrs[0];k&&l.forEach(this.childrenAttrs,function(a){if(e.containsValue(k,a,f)){if(!m){var d=l.filter(e.getValues(k,a),function(a){return a!=f});e.setValues(k,a,d)}g=a}});if(n)if("number"==typeof h){var d=e.getValues(n,g).slice();d.splice(h,0,f);e.setValues(n,
g,d)}else e.setValues(n,g,e.getValues(n,g).concat(f))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(f,k){k&&this.getChildren(k.item,q.hitch(this,function(f){this.onChildrenChange(k.item,f)}))},onDeleteItem:function(f){this.onDelete(f)},onSetItem:function(f,k){if(-1!=l.indexOf(this.childrenAttrs,k))this.getChildren(f,q.hitch(this,function(k){this.onChildrenChange(f,k)}));else this.onChange(f)}})})},"anaplan/api/Entities/Lists":function(){define(["dojo/_base/declare",
"./Base/LabelPageWithInfos","anaplan/api/Entity/List"],function(l,s,p){return l([s],{_entityClass:p})})},"anaplan/widgets/TokenInput/_Input":function(){define("dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/_FocusMixin anaplan/widgets/TokenInput/_FilteringSelect anaplan/Exceptions dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-class dojo/dom-construct dojo/on".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){return n([p,s,l,q],{aroundNode:null,baseClass:"tokenInputInputToken",
pageSize:Infinity,searchAttr:null,store:null,placeHolder:"",templateString:'\x3cli class\x3d"${baseClass}"\x3e\x3c/li\x3e',focus:function(){this._filteringSelect.focus()},onChange:function(){},onMultiSelect:function(){},postCreate:function(){try{this.inherited(arguments),this._createFilteringSelect(),this.own(d(this.domNode,"click",m.hitch(this,this.onClick)))}catch(a){throw new k.ClientException("anaplan.widgets.TokenInput._Input.postCreate",a);}},resize:function(a){try{a&&a.w&&h.setMarginBox(this._filteringSelect.domNode,
{w:a.w})}catch(d){throw new k.ClientException("anaplan.widgets.TokenInput._Input.resize",d);}},startup:function(){try{this.inherited(arguments);this._filteringSelect.startup();var a=this.getParent();a&&(this._filteringSelect._aroundNode=a.domNode)}catch(d){throw new k.ClientException("anaplan.widgets.TokenInput._Input.startup",d);}},uninitialize:function(){try{this._filteringSelect.destroy(),this.inherited(arguments)}catch(a){throw new k.ClientException("anaplan.widgets.TokenInput._Input.uninitialize",
a);}},_createFilteringSelect:function(){try{this._filteringSelect=new f({store:this.store,searchAttr:this.searchAttr,hasDownArrow:!0,pageSize:this.pageSize,required:!1,maxHeight:-1,placeHolder:this.placeHolder}),e.add(this._filteringSelect.domNode,"tokenInputInput"),g.place(this._filteringSelect.domNode,this.domNode),this.own(this._filteringSelect.on("Change",m.hitch(this,"_onFilteringSelectChange")),this._filteringSelect.on("MultiSelect",m.hitch(this,"_onFilteringSelectMultiSelect")))}catch(a){throw new k.ClientException("anaplan.widgets.TokenInput._Input._createFilteringSelect",
a);}},_getDisplayedValueAttr:function(){return this._filteringSelect.get("displayedValue")},_getValueAttr:function(){return this._filteringSelect.get("value")},_onFilteringSelectChange:function(a){this.onChange(a);this._filteringSelect.repositionAndResizeDropDown()},_onFilteringSelectMultiSelect:function(a){this.onMultiSelect(a);this._filteringSelect.repositionAndResizeDropDown()},_onFocus:function(){this._filteringSelect.focus()},_setValueAttr:function(a){this._filteringSelect.set("value",a)},_setPlaceHolderAttr:function(a){this._filteringSelect&&
this._filteringSelect.set("placeHolder",a)},onClick:function(a){this._filteringSelect.toggleDropDown()}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,s,p,q,f,k,n,m){var h=s("dijit._TemplatedMixin",m,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(e){var f=this.declaredClass,d=this;return n.substitute(e,this,function(a,
e){"!"==e.charAt(0)&&(a=q.getObject(e.substr(1),!1,d));if("undefined"==typeof a)throw Error(f+" template:"+e);return null==a?"":"!"==e.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(e){return e.replace(/["'<>&]/g,function(e){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[e]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var e=h.getCachedTemplate(this.templateString,
this._skipNodeCache,this.ownerDocument),f;if(q.isString(e)){if(f=p.toDom(this._stringRepl(e),this.ownerDocument),1!=f.nodeType)throw Error("Invalid template: "+e);}else f=e.cloneNode(!0);this.domNode=f}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(e){var f=this.containerNode;if(e&&f)for(;e.hasChildNodes();)f.appendChild(e.firstChild)}});h._templateCache={};h.getCachedTemplate=function(e,f,d){var a=h._templateCache,k=e,b=a[k];
if(b){try{if(!b.ownerDocument||b.ownerDocument==(d||document))return b}catch(l){}p.destroy(b)}e=n.trim(e);if(f||e.match(/\$\{([^\}]+)\}/g))return a[k]=e;f=p.toDom(e,d);if(1!=f.nodeType)throw Error("Invalid template: "+e);return a[k]=f};k("ie")&&f(window,"unload",function(){var e=h._templateCache,f;for(f in e){var d=e[f];"object"==typeof d&&p.destroy(d);delete e[f]}});return h})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return s("dijit.tree._dndSelector",g,{constructor:function(){this.selection={};this.anchor=null;this.events.push(m(this.tree.domNode,h.press,q.hitch(this,"onMouseDown")),m(this.tree.domNode,h.release,q.hitch(this,"onMouseUp")),m(this.tree.domNode,h.move,q.hitch(this,"onMouseMove")),m(this.tree.domNode,e.press,q.hitch(this,"onClickPress")),m(this.tree.domNode,e.release,q.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var d=[],a=this.selection,
e;for(e in a)d.push(a[e]);return d},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(d,a){this.setSelection(this.getSelectedTreeNodes().concat([d]));a&&(this.anchor=d);return d},removeTreeNode:function(d){var a=l.filter(this.getSelectedTreeNodes(),function(a){return!k.isDescendant(a.domNode,d.domNode)});this.setSelection(a);return d},isTreeNodeSelected:function(d){return d.id&&!!this.selection[d.id]},
setSelection:function(d){var a=this.getSelectedTreeNodes();l.forEach(this._setDifference(a,d),q.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));l.forEach(this._setDifference(d,a),q.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(d,a){l.forEach(a,function(a){a.__exclude__=!0});var e=l.filter(d,function(a){return!a.__exclude__});l.forEach(a,function(a){delete a.__exclude__});
return e},_updateSelectionProperties:function(){var d=this.getSelectedTreeNodes(),a=[],e=[];l.forEach(d,function(b){var d=b.getTreePath();e.push(b);a.push(d)},this);d=l.map(e,function(a){return a.item});this.tree._set("paths",a);this.tree._set("path",a[0]||[]);this.tree._set("selectedNodes",e);this.tree._set("selectedNode",e[0]||null);this.tree._set("selectedItems",d);this.tree._set("selectedItem",d[0]||null)},onClickPress:function(d){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(d.target,
this.current)){"mousedown"==d.type&&n.isLeft(d)&&d.preventDefault();var a="keydown"==d.type?this.tree.focusedChild:this.current;if(a){var e=f.getCopyKeyState(d),b=a.id;!this.singular&&!d.shiftKey&&this.selection[b]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(a,e,d.shiftKey))}}},onClickRelease:function(d){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==d.type?this.tree.focusedChild:this.current,f.getCopyKeyState(d),d.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(d,a){if(d===a)return 0;if("sourceIndex"in document.documentElement)return d.sourceIndex-a.sourceIndex;if("compareDocumentPosition"in document.documentElement)return d.compareDocumentPosition(a)&2?1:-1;if(document.createRange){var e=doc.createRange();e.setStartBefore(d);var b=doc.createRange();b.setStartBefore(a);return e.compareBoundaryPoints(e.END_TO_END,b)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(d,a,e){if(this.singular)this.anchor==d&&a?this.selectNone():(this.setSelection([d]),this.anchor=d);else if(e&&this.anchor){a=this._compareNodes(this.anchor.rowNode,d.rowNode);e=this.anchor;0>a?a=e:(a=d,d=e);for(e=[];a!=d;)e.push(a),a=this.tree._getNext(a);e.push(d);this.setSelection(e)}else this.selection[d.id]&&a?this.removeTreeNode(d):a?this.addTreeNode(d,!0):(this.setSelection([d]),this.anchor=d)},getItem:function(d){return{data:this.selection[d],type:["treeNode"]}},forInSelectedItems:function(d,
a){a=a||p.global;for(var e in this.selection)d.call(a,this.getItem(e),e,this)}})})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(l,s,p,q,f,k,n,m,h){var e=p.mixin,g={},d=g._Line=function(a,b){this.start=a;this.end=b};d.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var a=g.Animation=function(a){e(this,a);p.isArray(this.curve)&&(this.curve=new d(this.curve[0],this.curve[1]))};a.prototype=
new q;p.extend(a,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var d=b||[];if(this[a])if(s.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(e){console.error("exception in animation handler for:",a),console.error(e)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&
!this._paused)return this;this._fire("beforeBegin",[this.node]);var d=a||this.delay,e=p.hitch(this,"_play",b);if(0<d)return this._delayTimer=setTimeout(e,d),this;e();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",
[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",
[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,
this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var r=0,b=null,t={run:function(){}};p.extend(a,{_startTimer:function(){this._timer||(this._timer=k.after(t,"run",p.hitch(this,"_cycle"),!0),r++);b||(b=setInterval(p.hitch(t,"run"),this.rate))},
_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,r--);0>=r&&(clearInterval(b),b=null,r=0)}});var u=n("ie")?function(a){var b=a.style;!b.width.length&&"auto"==h.get(a,"width")&&(b.width="auto")}:function(){};g._fade=function(a){a.node=m.byId(a.node);var b=e({properties:{}},a);a=b.properties.opacity={};a.start=!("start"in b)?function(){return+h.get(b.node,"opacity")||0}:b.start;a.end=b.end;a=g.animateProperty(b);k.after(a,"beforeBegin",p.partial(u,b.node),!0);return a};g.fadeIn=
function(a){return g._fade(e({end:1},a))};g.fadeOut=function(a){return g._fade(e({end:0},a))};g._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(a){this._properties=a;for(var b in a){var d=a[b];d.start instanceof f&&(d.tempColor=new f)}};v.prototype.getValue=function(a){var b={},d;for(d in this._properties){var e=this._properties[d],g=e.start;g instanceof f?b[d]=f.blendColors(g,e.end,a,e.tempColor).toCss():p.isArray(g)||(b[d]=(e.end-g)*a+g+("opacity"!=d?e.units||"px":
0))}return b};g.animateProperty=function(b){var d=b.node=m.byId(b.node);b.easing||(b.easing=l._defaultEasing);b=new a(b);k.after(b,"beforeBegin",p.hitch(b,function(){var a={},b;for(b in this.properties){if("width"==b||"height"==b)this.node.display="block";var g=this.properties[b];p.isFunction(g)&&(g=g(d));g=a[b]=e({},p.isObject(g)?g:{end:g});p.isFunction(g.start)&&(g.start=g.start(d));p.isFunction(g.end)&&(g.end=g.end(d));var k=0<=b.toLowerCase().indexOf("color"),l=function(a,b){var d={height:a.offsetHeight,
width:a.offsetWidth}[b];if(void 0!==d)return d;d=h.get(a,b);return"opacity"==b?+d:k?d:parseFloat(d)};"end"in g?"start"in g||(g.start=l(d,b)):g.end=l(d,b);k?(g.start=new f(g.start),g.end=new f(g.end)):g.start="opacity"==b?+g.start:parseFloat(g.start)}this.curve=new v(a)}),!0);k.after(b,"onAnimate",p.hitch(h,"set",b.node),!0);return b};g.anim=function(b,d,e,f,h,k){return g.animateProperty({node:b,duration:e||a.prototype.duration,properties:d,easing:f,onEnd:h}).play(k||0)};e(l,g);l._Animation=a;return g})},
"anaplan/layout/_DashboardMixin":function(){define("anaplan/anapediaKeys anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/ModelContentCache anaplan/utils/EntityLongIdHelper anaplan/dashboard/DashboardHelper dojo/_base/declare dijit/MenuSeparator dijit/Menu anaplan/constants anaplan/Exceptions dojo/_base/lang anaplan/view/NewDashboard anaplan/widgets/HelpBox anaplan/widgets/MenuItem anaplan/widgets/PopupMenuItem dojo/topic dojo/on dojo/i18n!anaplan/nls/toolbar dojo/i18n!anaplan/nls/view".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){return n([],{uninitialize:function(){this.inherited(arguments)},_addButtonToDashboard:function(a){this._addViewsToDashboard(a,this._getGridController().getButtonInfosForDashboardElements())},_addPageSelectorsToDashboard:function(a){this._addViewsToDashboard(a,this._getGridController().getPageSelectorViewInfosForDashboardElements())},_addViewsToDashboard:function(a,b){k.publishToDashboard(a,b)},_createPublishElementToDashboardMenu:function(a){var b=
!1;this._dashboardsList||(b=!0,this._dashboardsList=new h);a=new t({label:a,popup:this._dashboardsList});a.startup();b&&this._updateDashboardsList();return a},_createPublishToDashboardMenuItem:function(a,e,f){var g=null,g=new b({label:p.escapeHTML(e),disabled:f?!0:!1});f||(e=v(g,"click",d.hitch(this,function(){switch(g.getParent().fromItem){case this._menuItemPublishToDashboard:this._addCurrentViewToDashboard(a);break;case this._menuItemPublishLineItemsToDashboard:this._addSelectedLineItemsToDashboard(a);
break;case this._menuItemPublishPropertiesOrSubsetsToDashboard:this._addSelectedPropertiesOrSubsetsToDashboard(a);break;case this._menuItemPublishPageSelectorsToDashboard:this._addPageSelectorsToDashboard(a);break;case this._menuItemPublishButtonToDashboard:this._addButtonToDashboard(a)}})),this.own(e));return g},_createPublishLineItemsToDashboardMenu:function(){return this._createPublishElementToDashboardMenu(z.labelPublishLineItemsToDashboard)},_createPublishPageSelectorsToDashboardMenu:function(a){return this._createPublishElementToDashboardMenu(a||
z.labelPublishPageSelectorsToDashboard)},_createPublishPropertiesToDashboardMenu:function(){return this._createPublishElementToDashboardMenu(z.labelPublishPropertiesToDashboard)},_createPublishSubsetsToDashboardMenu:function(){return this._createPublishElementToDashboardMenu(z.labelPublishSubsetsToDashboard)},_createPublishToDashboardMenu:function(){var a=!1;this._dashboardsList||(a=!0,this._dashboardsList=new h);var b=new t({label:this.isDialog?z.labelPublishCopyTo:z.labelPublishToDashboard,popup:this._dashboardsList});
b.startup();a&&this._updateDashboardsList();return this.menu=b},_displayNewDashboardDialogWithViewInfos:function(a){try{k.publishToNewDashboard(a)}catch(b){s.showErrorReporter(new g.ClientException(this.declaredClass+": _displayNewDashboardDialog",b,{widgetId:this.id}))}},_updateDashboardsList:function(){var a=this,d=!1,h;this._gridlet&&(this._gridlet._selection&&this._gridlet._selection.currentCell&&this._gridlet._selection.currentCell.y.entityLongIds)&&(h=this._gridlet._selection.currentCell,h=
h.y.entityLongIds?f.getEntityTypeIndex(h.y.entityLongIds[0]):null,h===e.EXPORT_ENTITY_TYPE_INDEX&&(d=!0));try{this._dashboardsList.destroyDescendants();var k=q.getDashboardsLabelPage(),l=k.entityLongIds[0],n=k.labels[0],r=k.count,p=new b({label:z.labelNewDashboard,disabled:d});this._dashboardsList.addChild(p);r&&this._dashboardsList.addChild(new m);for(k=0;k<r;k++)this._dashboardsList.addChild(this._createPublishToDashboardMenuItem(l[k],n[k],d));if(!d){var t=v(p,"click",function(b){try{switch(p.getParent().fromItem){case a._menuItemPublishToDashboard:a._displayNewDashboardDialog(e.dashboardElementType.GRID);
break;case a._menuItemPublishLineItemsToDashboard:a._displayNewDashboardDialog(e.dashboardElementType.CELL);break;case a._menuItemPublishPropertiesOrSubsetsToDashboard:a._displayNewDashboardDialog(e.dashboardElementType.CELL);break;case a._menuItemPublishPageSelectorsToDashboard:a._displayNewDashboardDialog(e.dashboardElementType.PAGE_SELECTOR);break;case a._menuItemPublishButtonToDashboard:a._displayNewDashboardDialog(e.dashboardElementType.BUTTON)}}catch(d){s.showErrorReporter(new g.ClientException(a.declaredClass+
"._createPublishToDashboardMenu: menuItemNewDashboard",d,{widgetId:this.id},b))}});this.own(t)}}catch(u){s.throwClientException(this,u)}return null}})})},"anaplan/snav/widgets/popup":function(){define("anaplan/widgets/_DialogRoleMixin anaplan/data/Aggregator anaplan/snav/taskelementfactory anaplan/utils/JsHelper anaplan/widgets/_DialogHelpMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-class dojo/dom-style dojo/i18n!anaplan/nls/common dojo/i18n!dijit/nls/common dojo/text!anaplan/templates/snav/PopupActionBar.html dojo/topic dojo/window dijit/form/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v){return h([n,f,k,l],{actionBarTemplate:t,buttonOk:b.buttonOk,_setButtonOkAttr:{node:"okButton",attribute:"label"},buttonCancel:b.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"},helpUrl:null,taskElement:null,constructor:function(a){this.roles=a&&a.roles||[]},postCreate:function(){try{this.inherited(arguments);var b=this.taskElement;d.add(this.domNode,"popup");this._addRoleClasses();var f=v.getBox(),g=Math.max(Math.floor(0.8*f.h),
480),h=Math.max(Math.floor(1.61*g),640),f=g;this.set("title",b.label+"\u00a0\u00a0");this.hasClose||a.set(this.closeButtonNode,"display","none");this.addHelpControls(this.titleBar);var k=e.mixin(e.clone(b),{style:"width:"+h+"px;height:"+f+"px;"});this.set("disabled",!0);p.getTaskElement(k).then(e.hitch(this,function(a){this.set("content",a.domNode);-1<m.indexOf(["DASHBOARD"],k.taskElementType)&&s.gather();this.connect(this,"onShow",e.hitch(this,function(){var a=b.label;if(b.hasOwnProperty("selectedItems")){var d=
k.selectedItems;if(2<=d.length)var e=r[2===d.length?"labelTwoItems":"labelManyItems"],e=e.replace(/\$0/,d[0].label),e=e.replace(/\$1/,d[1].label),e=e.replace(/\$n/,d.length),a=a+(": "+e);else 1===d.length&&(a+=": "+d[0].label);this.set("title",a+"\u00a0\u00a0")}else this.set("title",a);this.set("disabled",!1)}))}),e.hitch(this,function(a){u.publish("anaplan/systemmessage",a,null,-1,"ERROR");this.cancelButton.set("disabled",!1)}))}catch(l){this.cancelButton&&this.cancelButton.set("disabled",!1),this.onError(l)}},
show:function(){var a=this.on("keydown",function(a){(a.altKey||a.shiftKey||a.metaKey||a.ctrlKey)&&a.stopPropagation()});this.own(a);this.inherited(arguments)},destroy:function(){this.dialogHelpTearDown();this.inherited(arguments)},onError:function(){},onSubmit:function(){},_onCancel:function(){this.onCancel()},_onSubmitAction:function(){this.set("disabled",!0);var a=this.getChildren()[0];if(q.isFunction(a.submit)){var b=new g;a&&a.submit(b);b.then(e.hitch(this,function(a){this.onSubmit(a)}),e.hitch(this,
function(a){this.onError(a)}))}else this.onSubmit(null)},_setDisabledAttr:function(a){this.okButton&&this.okButton.set("disabled",a);this.cancelButton&&this.cancelButton.set("disabled",a)}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(l,s,p){return l("dijit.form.RadioButton",[s,p],{baseClass:"dijitRadio"})})},"anaplan/anapediaKeys":function(){define({assign:"default.htm#cshid\x3d1045",bulkCopy:"default.htm#cshid\x3d1046",charts:"default.htm#cshid\x3d1047",
columnSettings:"default.htm#cshid\x3d1048",compare:"default.htm#cshid\x3d1002",copyBranch:"default.htm#cshid\x3d1003",currencyConversion:"default.htm#cshid\x3d1004",create:"default.htm#cshid\x3d1005",deleteDialog:"default.htm#cshid\x3d1006",selectItemsDialog:"default.htm#cshid\x3d1729",deleteBranch:"default.htm#cshid\x3d1007",deleteFromListUsingSelection:"default.htm#cshid\x3d1008",directImport:"default.htm#cshid\x3d1009",dashboardNew:"default.htm#cshid\x3d1010",dashboardExport:"default.htm#cshid\x3d1011",
dashboardSaveAs:"default.htm#cshid\x3d1012",exports:"default.htm#cshid\x3d1013",filter:"default.htm#cshid\x3d1014",gridImport:"default.htm#cshid\x3d1015",heightAndWidthOptions:"default.htm#cshid\x3d1016",importData:"default.htm#cshid\x3d1017",importDataIntegration:"default.htm#cshid\x3d1018",importDialog:"default.htm#cshid\x3d1019",importIntoModules:"default.htm#cshid\x3d1020",importLineItem:"default.htm#cshid\x3d1021",keyboardShortcuts:"default.htm#cshid\x3d1022",manageImportSources:"default.htm#cshid\x3d1023",
manageModels:"default.htm#cshid\x3d1024",menuOptions:"default.htm#cshid\x3d1025",openDashboard:"default.htm#cshid\x3d1026",pivot:"default.htm#cshid\x3d1027",listFilter:"default.htm#cshid\x3d1727",quickFilter:"default.htm#cshid\x3d1778",remoteModels:"default.htm#cshid\x3d1028",reorder:"default.htm#cshid\x3d1029",selections:"default.htm#cshid\x3d1030",showHistory:"default.htm#cshid\x3d1031",singleSignOn:"default.htm#cshid\x3d1032",sort:"default.htm#cshid\x3d1049",syncronizedPaging:"default.htm#cshid\x3d1033",
timeRanges_new:"default.htm#cshid\x3d1764",timeRanges_edit:"default.htm#cshid\x3d1766",totals:"default.htm#cshid\x3d1034",usersImport:"default.htm#cshid\x3d1035",versionFormula:"default.htm#cshid\x3d1036",views:"default.htm#cshid\x3d1037",dashboardDesign:"default.htm#cshid\x3d1038",dashboard_tab:"default.htm#cshid\x3d1039",modelmap_tab:"default.htm#cshid\x3d1040",settings_tab:"default.htm#cshid\x3d1041",view_tab:"default.htm#cshid\x3d1141",workflow_tab:"default.htm#cshid\x3d1043",tableOfContents:"default.htm#cshid\x3d1044",
searchTags:"default.htm#cshid\x3d1772"})},"anaplan/view/ImportDefinitionHierarchyMapping":function(){define("anaplan/utils/UIHelper anaplan/data/Aggregator dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileWriteStore dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/topic anaplan/data/ModelContentCache anaplan/constants anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/widgets/Mapping anaplan/widgets/TokenInput dojo/text!anaplan/templates/ImportDefinitionHierarchyMapping.html dojo/i18n!anaplan/nls/mapping dojo/i18n!anaplan/nls/importDefinitionHierarchyMapping dijit/form/RadioButton dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D){return n([q,p,f],{baseClass:"importDefinitionHierarchyMapping",templateString:x,constructor:function(a){try{this._workspaceId=a.workspaceId;this._modelId=a.modelId;this._importDefinition=a.importDefinition;this._sourceFields=a.sourceFields;if(this._importDefinition.importType===u.importType.HIERARCHY_DATA){var b=z.entityLongIdIdentifierToEntityLongId(this._importDefinition.target),d=t.getHierarchyInfo(b);this._allowCombinationOfProperties=
this._isList=!0;this._isNumberedList=d&&d.isNumberedList}this._nls=D}catch(e){l.throwClientException(this,e)}},resize:function(){var b=d.getContentBox(this.domNode.parentNode.parentNode).h-d.getMarginBox(this._hierarchyItemMappingWidget.domNode).h-a.get(this.mappings,"padding");a.set(this._hierarchyPropertyMappingWidget.domNode,{height:b+"px",overflowY:"auto"})},onChange:function(){},_alignMappingWidgetTables:function(){for(var a=document.getElementsByTagName("td"),b=null,e=a.length,f=-1,b=null;e--;)b=
a[e],"targetCell"===b.className&&(b=d.getMarginBox(b),f=Math.max(f,b.w))},postCreate:function(){try{this.inherited(arguments);var b=this._nls,d=this;l.setText(this.keySelectionLabel,b.labelKeySelection);l.setText(this.nameOrCodeLabel,b.labelNameOrCode);l.setText(this.nameOnlyLabel,this._isNumberedList?b.labelNumberedListNameOnly:b.labelNameOnly);l.setText(this.codeOnlyLabel,this._isNumberedList?b.labelNumberedListCodeOnly:b.labelCodeOnly);l.setText(this.propertyComboLabel,b.labelPropertyCombo);l.setText(this.enforceUniqueNamingLabel,
b.labelEnforceUniqueNaming);l.setText(this.allowNameManglingLabel,b.labelAllowNameMangling);l.setText(this.sourceDuplicateTreatmentLabel,b.labelSourceDuplicateTreatment);l.setText(this.rejectSourceDuplicatesLabel,b.labelRejectSourceDuplicates);l.setText(this.useFirstSourceDuplicatesLabel,b.labelUseFirstSourceDuplicates);l.setText(this.targetDuplicateTreatmentLabel,b.labelTargetDuplicateTreatment);l.setText(this.rejectImportWithTargetDuplicatesLabel,b.labelRejectImportWithTargetDuplicates);l.setText(this.rejectOnlyTargetDuplicatesLabel,
b.labelRejectOnlyTargetDuplicates);l.setText(this.keyPropertySelectorInstructions,b.keyPropertySelectorInstructions);a.set(this.hierarchyOptions,"display",this._isList?"":"none");var f=u.importTargetType;this._hierarchyItemMappingWidget=new y({workspaceId:this._workspaceId,modelId:this._modelId,importTargetType:f.HIERARCHY_MEMBER_ENTITY_NAME,sourceFields:this._sourceFields,importDefinition:this._importDefinition,customFormatHeadingLabel:b.labelCustomDateMapping,targetLabel:b.labelPropertyInList});
this._hierarchyPropertyMappingWidget=new y({workspaceId:this._workspaceId,modelId:this._modelId,importTargetType:f.HIERARCHY_PROPERTY,sourceFields:this._sourceFields,importDefinition:this._importDefinition,hideHeaders:this._isList,targetLabel:b.labelTargetProperty});var k=new h({data:{identifier:"identifier",label:"label",items:[]}});this._keyPropertySelector=new w({store:k,searchAttr:"label",pageSize:50,value:[]});g.place(this._hierarchyItemMappingWidget.domNode,this.mappings);g.place(this._hierarchyPropertyMappingWidget.domNode,
this.mappings);g.place(this._keyPropertySelector.domNode,this.keyPropertySelector);setTimeout(function(){d._alignMappingWidgetTables.call(d)},500);var n=this.id+"_nameOrCodeRadioButton",p=this.id+"_nameOnlyRadioButton",q=this.id+"_codeOnlyRadioButton",s=this.id+"_propertyComboRadioButton",t=this._id+"_matchOption";e.set(this.nameOrCodeRadioButton,"id",n);e.set(this.nameOrCodeRadioButton,"name",t);e.set(this.nameOnlyRadioButton,"id",p);e.set(this.nameOnlyRadioButton,"name",t);e.set(this.codeOnlyRadioButton,
"id",q);e.set(this.codeOnlyRadioButton,"name",t);e.set(this.propertyComboRadioButton,"id",s);e.set(this.propertyComboRadioButton,"name",t);e.set(this.nameOrCodeLabel,"for",n);e.set(this.nameOnlyLabel,"for",p);e.set(this.codeOnlyLabel,"for",q);e.set(this.propertyComboLabel,"for",s);var v=this.id+"_allowNameManglingCheckbox";e.set(this.allowNameManglingCheckbox,"id",v);e.set(this.allowNameManglingLabel,"for",v);var z=this.id+"_rejectSourceDuplicatesRadioButton",x=this.id+"_useFirstSourceDuplicatesRadioButton",
A=this._id+"_sourceDuplicateTreatment";e.set(this.rejectSourceDuplicatesRadioButton,"id",z);e.set(this.rejectSourceDuplicatesLabel,"for",z);e.set(this.rejectSourceDuplicatesRadioButton,"name",A);e.set(this.useFirstSourceDuplicatesLabel,"for",x);e.set(this.useFirstSourceDuplicatesRadioButton,"id",x);e.set(this.useFirstSourceDuplicatesRadioButton,"name",A);var D=this.id+"_rejectImportWithTargetDuplicatesRadioButton",Q=this.id+"_rejectOnlyTargetDuplicatesRadioButton",S=this._id+"_targetDuplicateTreatment";
e.set(this.rejectImportWithTargetDuplicatesRadioButton,"id",D);e.set(this.rejectImportWithTargetDuplicatesRadioButton,"name",S);e.set(this.rejectOnlyTargetDuplicatesRadioButton,"id",Q);e.set(this.rejectOnlyTargetDuplicatesRadioButton,"name",S);e.set(this.rejectImportWithTargetDuplicatesLabel,"for",D);e.set(this.rejectOnlyTargetDuplicatesLabel,"for",Q);this._connections=[r(this._hierarchyItemMappingWidget,"Change",m.hitch(this,this._onMappingChange)),r(this._hierarchyPropertyMappingWidget,"Change",
m.hitch(this,this._onMappingChange))]}catch(R){l.throwClientException(this,R)}},startup:function(){if(!this._started)try{this.inherited(arguments);this._hierarchyItemMappingWidget.startup();this._hierarchyPropertyMappingWidget.startup();if(this._isList){var b=this._importDefinition.propertyMatchKey;if(b)1===b.length&&b[0]==z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_ID)?this.nameOnlyRadioButton.set("checked",!0):1===b.length&&b[0]==z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_CODE)?
this.codeOnlyRadioButton.set("checked",!0):this._allowCombinationOfProperties&&(this.propertyComboRadioButton.set("checked",!0),this._keyPropertySelector.set("value",b),a.set(this.keyPropertySelector,"visibility","visible"));else{var d,f;k.forEach(this._importDefinition.mappings,function(a){if("undefined"!=a.sourceType){var b=z.entityLongIdIdentifierToEntityLongId(a.target);a.targetType===u.importTargetType.HIERARCHY_MEMBER_ENTITY_NAME?d=!0:a.targetType===u.importTargetType.HIERARCHY_PROPERTY&&b===
u.SYSTEM_PROPERTY_CODE&&(f=!0)}});d&&!f?this.nameOnlyRadioButton.set("checked",!0):!d&&f?this.codeOnlyRadioButton.set("checked",!0):this.nameOrCodeRadioButton.set("checked",!0)}this._isNumberedList?(a.set(this.allowNameManglingOption,"display","none"),a.set(this.nameOrCodeOption,"display","none")):this.allowNameManglingCheckbox.set("checked",!1!==this._importDefinition.allowNameMangling);!1===this._importDefinition.allowDuplicateKeysInSource?this.rejectSourceDuplicatesRadioButton.set("checked",!0):
this.useFirstSourceDuplicatesRadioButton.set("checked",!0);!1===this._importDefinition.allowDuplicateKeysInTarget?this.rejectImportWithTargetDuplicatesRadioButton.set("checked",!0):this.rejectOnlyTargetDuplicatesRadioButton.set("checked",!0);this._onMappingChange();"undefined"!==typeof this.nameOrCodeRadioButton&&this._enableExtendedControls(!e.get(this.nameOrCodeRadioButton,"checked"));this._allowCombinationOfProperties&&"undefined"!==typeof this.propertyComboRadioButton&&this._enableCombPropertiesSelector(e.get(this.propertyComboRadioButton,
"checked"))}s.gather()}catch(g){l.throwClientException(this,g)}},uninitialize:function(){try{this._keyPropertySelectorOnChangeConnection&&(this._keyPropertySelectorOnChangeConnection.remove(),delete this._keyPropertySelectorOnChangeConnection),this._connections&&(k.forEach(this._connections,function(a){a.remove()}),delete this._connections),this._hierarchyItemMappingWidget&&(this._hierarchyItemMappingWidget.destroy(),delete this._hierarchyItemMappingWidget),this._hierarchyPropertyMappingWidget&&(this._hierarchyPropertyMappingWidget.destroy(),
delete this._hierarchyPropertyMappingWidget),this._keyPropertySelector&&(this._keyPropertySelector.destroy(),delete this._keyPropertySelector),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},validate:function(){try{b.publish("import-definition/custom-error-message","labelValidationErrors");if(this._isList){if(!e.get(this.nameOrCodeRadioButton,"checked")&&!e.get(this.nameOnlyRadioButton,"checked")&&!e.get(this.codeOnlyRadioButton,"checked"))if(this._allowCombinationOfProperties){if(!e.get(this.propertyComboRadioButton,
"checked"))return b.publish("import-definition/custom-error-message","labelErrorMethodToUniquelyIdentifyItemsNotSelected"),!1}else return b.publish("import-definition/custom-error-message","labelErrorMethodToUniquelyIdentifyItemsNotSelected"),!1;if(!this._isNumberedList&&e.get(this.codeOnlyRadioButton,"checked")&&"undefined"===this._importDefinition.mappings[0].sourceType)return b.publish("import-definition/custom-error-message","labelErrorNormalListCodeAsKeyNameUnmapped"),!1;if((e.get(this.codeOnlyRadioButton,
"checked")||e.get(this.propertyComboRadioButton,"checked"))&&this._isNumberedList&&"undefined"!==this._importDefinition.mappings[0].sourceType)return b.publish("import-definition/custom-error-message","labelErrorNumberedListCodeOrComboAsKeyWithNameMapped"),!1;if(this._allowCombinationOfProperties&&e.get(this.propertyComboRadioButton,"checked")){if(this._importDefinition.propertyMatchKey&&0===this._importDefinition.propertyMatchKey.length)return this._keyPropertySelector.focus(),b.publish("import-definition/custom-error-message",
"labelErrorCombinationOfPropertiesWithoutAnyProperties"),!1;var a={};k.forEach(this._importDefinition.mappings,function(b){"undefined"!=b.sourceType&&b.targetType===u.importTargetType.HIERARCHY_PROPERTY&&(a[b.target]=!0)});if(!k.every(this._importDefinition.propertyMatchKey,function(b){return a[b]}))return this._keyPropertySelector.focus(),!1;if(!this._isNumberedList&&"undefined"===this._importDefinition.mappings[0].sourceType)return b.publish("import-definition/custom-error-message","labelErrorNormalListCodeAsKeyNameUnmapped"),
!1}}return!0}catch(d){l.throwClientException(this,d)}},_onCheckboxChange:function(){this._importDefinition.allowNameMangling=e.get(this.allowNameManglingCheckbox,"checked")},_onKeyPropertySelectorChange:function(a){try{this._importDefinition.propertyMatchKey=a}catch(b){l.throwClientException(this,b)}},_onMappingChange:function(){try{if(this._isList){this._allowCombinationOfProperties&&this._populateKeyPropertySelector();var a=!1,b=!1,d=0;k.forEach(this._importDefinition.mappings,function(e){if("undefined"!=
e.sourceType){var f=z.entityLongIdIdentifierToEntityLongId(e.target);e.targetType===u.importTargetType.HIERARCHY_MEMBER_ENTITY_NAME?a=!0:e.targetType===u.importTargetType.HIERARCHY_PROPERTY&&f===u.SYSTEM_PROPERTY_CODE&&(b=!0);d++}});this._allowCombinationOfProperties&&this.propertyComboRadioButton.set("disabled",!d);this.nameOnlyRadioButton.set("disabled",!a);a||this.nameOnlyRadioButton.set("checked",!1);this.codeOnlyRadioButton.set("disabled",!b);b||this.codeOnlyRadioButton.set("checked",!1);this.nameOrCodeRadioButton.set("disabled",
!a&&!b);!a&&!b&&this.nameOrCodeRadioButton.set("checked",!1);var f=this._isCodeMapped;b&&(!1===f&&e.get(this.nameOnlyRadioButton,"checked"))&&this.codeOnlyRadioButton.set("checked",!0);this._isCodeMapped=b;this._onRadioButtonChange()}}catch(g){l.throwClientException(this,g)}},_onRadioButtonChange:function(){try{this._enableExtendedControls(!e.get(this.nameOrCodeRadioButton,"checked")),this._allowCombinationOfProperties?e.get(this.propertyComboRadioButton,"checked")?(this._importDefinition.propertyMatchKey=
this._keyPropertySelector.get("value"),this._enableCombPropertiesSelector(!0)):(this._enableCombPropertiesSelector(!1),e.get(this.nameOrCodeRadioButton,"checked")?delete this._importDefinition.propertyMatchKey:e.get(this.nameOnlyRadioButton,"checked")?this._importDefinition.propertyMatchKey=[z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_ID)]:e.get(this.codeOnlyRadioButton,"checked")&&(this._importDefinition.propertyMatchKey=[z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_CODE)])):
e.geet(this.nameOrCodeRadioButton,"checked")?delete this._importDefinition.propertyMatchKey:e.get(this.nameOnlyRadioButton,"checked")?this._importDefinition.propertyMatchKey=[z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_ID)]:e.get(this.codeOnlyRadioButton,"checked")&&(this._importDefinition.propertyMatchKey=[z.entityLongIdToEntityLongIdIdentifier(u.SYSTEM_PROPERTY_CODE)]),this._importDefinition.allowDuplicateKeysInTarget=e.get(this.rejectOnlyTargetDuplicatesRadioButton,"checked"),this._importDefinition.allowDuplicateKeysInSource=
e.get(this.useFirstSourceDuplicatesRadioButton,"checked")}catch(a){l.showErrorReporter(new v.ClientException("ImportDefinitionHierarchyMapping._onRadioButtonChange",a,{widgetId:this.id},event))}},_populateKeyPropertySelector:function(){try{var a=[],b=z.entityLongIdIdentifierToEntityLongId(this._importDefinition.target),d=t.getHierarchyInfo(b),f={},b=null,n=[],p;if(d){var q=d.propertiesLabelPage;k.forEach(this._importDefinition.mappings,function(b){var e=z.entityLongIdIdentifierToEntityLongId(b.target);
isNaN(e)&&(e=-1);if("undefined"!=b.sourceType&&b.targetType===u.importTargetType.HIERARCHY_PROPERTY){var g=null;if(e===u.SYSTEM_PROPERTY_PARENT)g=A.labelHierarchyParent;else if(e=k.indexOf(q.entityLongIds,e),0<=e){var h=d.propertiesInfo[e];if(!h||!h.formula)g=q.labels[e]}g&&(a.push({identifier:b.target,label:g,children:[]}),f[b.target]=!0)}})}var s=!this._availableProperties,v=new h({data:{identifier:"identifier",label:"label",items:a}});if(this._availableProperties){for(p in f)if(!this._availableProperties[p]){s=
!0;break}for(p in this._availableProperties)if(!f[p]){s=!0;break}}this._availableProperties=f;var y=this._importDefinition.propertyMatchKey&&k.every(this._importDefinition.propertyMatchKey,function(a){return f[a]});if(e.get(this.propertyComboRadioButton,"checked")&&!y){for(var x=p=0,D=this._importDefinition.propertyMatchKey.length,P=null;p<D;p++)if(b=this._importDefinition.propertyMatchKey[p],"undefined"!==typeof b&&"undefined"!==typeof this._availableProperties[b]){P=null;for(x=a.length;x--;)if(a[x].identifier===
b){P=a[x].label;break}n.push({itemId:b,label:P})}this._importDefinition.propertyMatchKey=[];s=!0}s&&(this._keyPropertySelector&&(this._keyPropertySelectorOnChangeConnection&&(this._keyPropertySelectorOnChangeConnection.remove(),delete this._keyPropertySelectorOnChangeConnection),this._keyPropertySelector.destroy()),this._keyPropertySelector=new w({store:v,searchAttr:"label",pageSize:50,value:y?this._importDefinition.propertyMatchKey:[]}),g.place(this._keyPropertySelector.domNode,this.keyPropertySelector),
this._keyPropertySelectorOnChangeConnection=r(this._keyPropertySelector,"Change",m.hitch(this,this._onKeyPropertySelectorChange)),this._keyPropertySelector.startup(),n.length&&this._keyPropertySelector.addTokens(n))}catch(N){l.throwClientException(this,N)}},_enableCombPropertiesSelector:function(a){var b=this.keyPropertySelectorWrapper;this._keyPropertySelector._setDisabledAttr(!a);e.set(b,"className",a?"keyPropertySelectorWrapper":"keyPropertySelectorWrapper disabled")},_enableExtendedControls:function(b){a.set(this.extendedControlsWrapper,
"display",b?"block":"none")}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){s=s("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,
k.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",
!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(a){d=d.concat(l.map(d,function(b){return b+a}),"dijit"+a)}var d=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var b="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?
a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,e={};l.forEach(b.className.split(" "),function(a){e[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete e[a]});l.forEach(d,function(a){e[a]=!0});var f=[],g;for(g in e)f.push(g);b.className=f.join(" ");this._stateClasses=d},_subnodeCssMouseEvent:function(a,d,b){function e(b){q.toggle(a,d+"Active",b)}if(!this.disabled&&!this.readOnly)switch(b.type){case "mouseover":case "MSPointerOver":case "pointerover":q.toggle(a,
d+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":q.toggle(a,d+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":e(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":e(!1);break;case "focus":case "focusin":q.toggle(a,d+"Focused",!0);break;case "blur":case "focusout":q.toggle(a,d+"Focused",!1)}},_trackMouseState:function(a,d){a._cssState=d}});m(function(){function a(a,
b,e){if(!e||!p.isDescendant(e,b))for(;b&&b!=e;b=b.parentNode)if(b._cssState){var f=d.getEnclosingWidget(b);f&&(b==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(b,b._cssState,a))}}var f=e.body(),b;n(f,h.over,function(b){a(b,b.target,b.relatedTarget)});n(f,h.out,function(b){a(b,b.target,b.relatedTarget)});n(f,g.press,function(d){b=d.target;a(d,b)});n(f,g.release,function(d){a(d,b);b=null});n(f,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var e=
d.getEnclosingWidget(b);e&&e._subnodeCssMouseEvent(b,b._cssState,a)}})});return s})},"anaplan/layout/_ManagedMixin":function(){define(["anaplan/utils/UIHelper","dojo/_base/array","dojo/_base/declare","dojo/topic"],function(l,s,p,q){return p("anaplan.layout._ManagedMixin",null,{contentEntityLongId:null,constructor:function(){try{this._subscriptions=[],this._suspended=!1}catch(f){l.throwClientException(this,f)}},destroyDescendants:function(){this.inherited(arguments)},uninitialize:function(){try{s.forEach(this._subscriptions,
function(f){f.remove()})}catch(f){l.throwClientException(this,f)}this.inherited(arguments)},hide:function(f){try{for(var k=this.getChildren(),n=k.length,m,h=0;h<n;h++)m=k[h],m.hide&&m.hide(f)}catch(e){l.throwClientException(this,e)}},getFirstDirtyTab:function(){var f=s.filter(this.getChildren(),function(f){if(f&&f.isDirty&&f.isDirty())return f});return f&&f.length?f[0]:null},_getTabContainer:function(){return this.getParent().getParent()},isDirty:function(){return s.some(this.getChildren(),function(f){return f.isDirty&&
f.isDirty()})},isSuspended:function(){return this._suspended},resume:function(f){try{this._suspended||console.warn(this.id+" resume");for(var k=this.getChildren(),n=k.length,m,h=0;h<n;h++)m=k[h],"function"===typeof m.resume?m.resume(f):q.publish("anaplan/"+m.id+"/resume");this._suspended=!1}catch(e){l.throwClientException(this,e)}},setGlobalContext:function(f,k,n){try{for(var m=this.getChildren(),h=m.length,e,g=!1,d=0;d<h;d++)e=m[d],e.setGlobalContext?g=e.setGlobalContext(f,k,n)||g:q.publish("anaplan/"+
e.id+"/globalContext",f,k,n);return g}catch(a){l.throwClientException(this,a)}},setModelId:function(f,k){try{for(var n=this.getChildren(),m=n.length,h,e=0;e<m;e++)h=n[e],h.setModelId&&h.setModelId(f,k)}catch(g){l.throwClientException(this,g)}},show:function(f){try{for(var k=this.getChildren(),n=k.length,m,h=0;h<n;h++)m=k[h],m.show&&m.show(f)}catch(e){l.throwClientException(this,e)}},suspend:function(){try{this._suspended&&console.warn(this.id+" suspend");this._suspended=!0;for(var f=this.getChildren(),
k=f.length,n,m=0;m<k;m++)n=f[m],"function"===typeof n.suspend?n.suspend():q.publish("anaplan/"+n.id+"/suspend")}catch(h){l.throwClientException(this,h)}}})})},"anaplan/widgets/FlatButton":function(){define(["dojo/_base/declare","anaplan/widgets/Button"],function(l,s){return l(s,{baseClass:"flatButton"})})},"anaplan/widgets/MasterSelector":function(){define("anaplan/constants anaplan/data/ModelContentCache anaplan/Exceptions anaplan/utils/FormatHelper anaplan/utils/LabelPageHelper anaplan/utils/UIHelper anaplan/widgets/_Selector dijit/_Contained dijit/_CssStateMixin dijit/_Templated dijit/_WidgetBase dijit/focus dijit/form/ValidationTextBox dijit/Tooltip dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/date/locale dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/masterSelector dojo/keys dojo/on dojo/query dojo/text!anaplan/templates/MasterSelector.html dojo/window dojo/_base/sniff dijit/Toolbar anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K){return t([g,e,m,h],{baseClass:"masterSelector",isEditable:!1,itemIdentifierPropertyName:"entityLongId",itemLabelPropertyName:"name",name:"",tabIndex:-1,templateString:F,templatePath:null,title:null,showToolbar:!1,submitOnClick:!1,value:null,widgetsInTemplate:!0,constructor:function(a){this._isModelManagement=a.isModelManagement||!1;this._connections=[];this._selectorConnections=[];this._tooltips=[];this._textInput=this._placeHolder=
this._selectedNode=null;this._labelMap={};this._displayLimit=a.displayLimit||0},clear:function(){this._selector&&(this._textInput&&(this._textInput.destroy(),this._textInput=null),this._destroyTooltips(),this._disconnectSelector(),this._selector.destroy(),this._selector=null,this._labelMap={},L("div",this._selectorNode).forEach(function(a){this._selectorNode.removeChild(a)},this))},commitEdit:function(){try{this.isEditMode()&&this._handleEnterKey()}catch(a){k.throwClientException(this,a)}},editSelectedItem:function(b,
d){try{if(this.isEditable&&!this._placeHolder){var e=this._selector.getSelectedNodes();if(0<e.length){var f=e[0];this._selector.enableSelection(!1);this._placeHolder=f;this._oldValue=this.getSelectedLabel();this._placeHolder.innerHTML="";var g={value:null!=b?b:this._oldValue,trim:!0,required:!0};d&&(g=v.mixin(g,{validator:d}));this._textInput=new a(g);this._textInput.connect(this._textInput,"onMouseDown",v.hitch(this,function(a){a.stopPropagation()}));this._placeHolder.appendChild(this._textInput.domNode);
this._textInput.startup();this._textInput.focus()}}}catch(h){throw new p.ClientException("anaplan.widgets.MasterSelector.editSelectedItem",h,{widgetId:this.id});}},focus:function(){this._textInput?this._textInput.focus():d.focus(this.focusNode)},getNextItem:function(){var a=this._getNextNode();return this._convertNodeToItem(a)},getPreviousItem:function(){var a=this._getPreviousNode();return this._convertNodeToItem(a)},getSelectedLabel:function(){var a=null;try{var b=this.getSelectedValue(),a=this._labelMap[b]}catch(d){k.throwClientException(this,
d)}return a},getSelectedValue:function(){var a=null;null!=this._selectedNode&&(a=w.get(this._selectedNode,"value"));return a},isEditMode:function(){var a=!1;try{a=null!==this._placeHolder}catch(b){k.throwClientException(this,b)}return a},onCancel:function(){},onCreateItem:function(){},onDeleteKeyPressed:function(){},onRemoveItem:function(){},onRenameItem:function(){},onSelectionChange:function(){},onSubmit:function(){},addEditCellContent:function(){},resize:function(a){try{a&&D.setMarginBox(this.domNode,
a),this._layoutChildren()}catch(b){var d={widgetId:this.id};a&&(d.size=a);k.showErrorReporter(new p.ClientException("MasterSelector: resize",b,d))}},scrollToSelection:function(){if(this._selector){var a=this._selector.getSelectedNodes();0<a.length&&this._scrollToNode(a[0])}},startup:function(){this._started&&console.warn("startup "+this.id);this.inherited(arguments);null!=this.title?(this._header.innerHTML=this.title,this._header.style.display=""):this._header.style.display="none";this._connections=
[H(this.domNode,"mousedown",v.hitch(this,"_onMouseDown"))];4>B("safari")&&this._connections.push(H(z.doc,"keydown",v.hitch(this,"_onKeyDown")));w.set(this._addItemButton,"title",C.addItem);w.set(this._removeItemButton,"title",C.removeItem);this.showToolbar||(this._toolbar.domNode.style.display="none");this._labelPage?this._updateSelectorWithLabelPage():this._items&&this._updateSelectorWithItems();this._updateSelection()},uninitialize:function(){this.clear();b.forEach(this._connections,function(a){a.remove()});
this._selector=this._connections=null;this._textInput&&(this._textInput.destroy(),this._textInput=null);this.inherited(arguments)},_cancelEdit:function(){this._textInput&&(this._textInput.validator=function(){return!0},this._textInput.set("value",""),this._textInput.destroy(),this._textInput=null);this._placeHolder&&(""==w.get(this._placeHolder,"value")?this._selector.deleteSelectedNodes():this._placeHolder.innerHTML=q.cleanEscapeHTML(this._oldValue),this._selector.enableSelection(!0),this._placeHolder=
null)},_createItem:function(a,b){this._createOption(b[this.itemIdentifierPropertyName],b[this.itemLabelPropertyName],a);for(var d=0;d<b.children.length;d++)this._createItem(a,b.children[d])},_destroyTooltips:function(){if(this._tooltips)for(var a=0;a<this._tooltips.length;a++)this._tooltips[a].destroy();this._tooltips=[]},_createOption:function(a,b,d){this._labelMap[a]=b;d?(d.push('\x3cdiv class\x3d"dojoDndItem" value\x3d"'),d.push(a),d.push('"\x3e'),d.push(q.escapeHTML(b)),d.push("\x3c/div\x3e")):
(d=document.createElement("div"),d.className="dojoDndItem",d.appendChild(document.createTextNode(q.unescapeHTML(b))),w.set(d,"value",a),this._selectorNode.appendChild(d))},_createSelector:function(){this._selector=new n(this._selectorNode,{singular:!0});this._selectorConnections.push(H(this._selector,"MouseDown",v.hitch(this,"_onMouseSelect")));this._displayLimit&&this._enforceDisplayLimit()},_convertNodeToItem:function(a){if(null==a)return null;var b=w.get(a,"id");return{id:w.get(a,"value"),value:this._selector.getItem(b).data}},
_disconnectSelector:function(){b.forEach(this._selectorConnections,function(a){a.remove()});this._selectorConnections=[]},_enforceDisplayLimit:function(){try{for(var a=this,b=this._displayLimit,d=this._selectorNode.childNodes,e=d.length,f=this._displayLimit;f<e;f++)d[f].style.display="none";var g=A.create("div",{"class":"moreOption",onmousedown:function(a){u.stop(a)}},this._selectorNode),h=A.create("a",{href:"#",onclick:function(){a._displayLimit=0;for(var f=b;f<e;f++)d[f].style.display="";A.destroy(g);
a.focus()}},g);k.setText(h,C.linkMore)}catch(l){k.throwClientException(this,l)}},_getNextNode:function(){if(!this._selector)return null;var a=this._selector.getSelectedNodes();if(0<a.length)for(var a=a[0],b=a.parentNode.childNodes,d=this._displayLimit||b.length,e,f=0;f<d;f++)if(e=b[f],e===a&&(e=f+1,e<d))return b[e];return null},_getPreviousNode:function(){if(!this._selector)return null;var a=this._selector.getSelectedNodes();if(0<a.length)for(var a=a[0],b=a.parentNode.childNodes,d=b.length,e=0;e<
d;e++){var f=b[e];if(f===a)break;else if(e+1<d&&b[e+1]===a)return f}return null},_getValueAttr:function(){if(this._selector){var a=this._selector.getSelectedNodes();if(a&&0<a.length&&a[0])return{value:w.get(a[0],"value"),text:a[0].innerHTML}}return{}},_handleDeleteKey:function(){if(this._selector&&!this._textInput){var a=this._selector.getSelectedNodes();if(0<a.length){var a=a[0],b=w.get(a,"value");this.onDeleteKeyPressed(b,a.innerHTML)}}},_handleDownArrowKey:function(){if(!this._textInput){var a=
this._getNextNode();a&&this._selectNode(a)}},_handleEnterKey:function(){if(this._selector){var a;if(this._placeHolder&&this._textInput&&this._textInput.isValid()){var b=this._textInput.get("value");if(""!=b)if(a=w.get(this._placeHolder,"value"),this._placeHolder.innerHTML=q.cleanEscapeHTML(b),this._selector.enableSelection(!0),this._textInput.destroy(),this._placeHolder=this._textInput=null,""==a)this.onCreateItem(a,b,this._getPreviousNode(),this._getNextNode());else this.onRenameItem(a,this._oldValue,
b)}else if(a=this._selector.getSelectedNodes(),0<a.length&&(a=a[0]))this._scrollToNode(a),a=w.get(a,"value"),this.onSubmit(a,this._labelMap[a])}},_handleEscapeKey:function(a){this._placeHolder&&this._textInput&&(a.stopPropagation(),this._cancelEdit());this.onCancel()},_handleUpArrowKey:function(){if(!this._textInput){var a=this._getPreviousNode();a&&this._selectNode(a)}},_layoutChildren:function(){if(this.domNode){var a=this._selectorNode,b=this.title?D.getMarginBox(this._header).h:0,d=D.getMarginBox(this._toolbar.domNode).h,
e=D.getContentBox(this.domNode).h;D.setContentSize(a,{h:e-b-d},E.getComputedStyle(a))}},_onAddItemClick:function(a){try{if(!this._placeHolder&&this._selector){this._selector.enableSelection(!1);var b=this._selector.getSelectedNodes();this._placeHolder=A.create("div",{value:""});this._placeHolder.appendChild(A.create("input",{type:"text"}));this._selector.insertNodes(!1,[this._placeHolder],!0,b[0]);this._selector.selectNone();this._selectNode(this._placeHolder);this._placeHolder.firstChild.focus()}}catch(d){k.showErrorReporter(new p.ClientException("MasterSelector: _onAddItemClick",
d,{widgetId:this.id},a))}},_onKeyDown:function(a){try{if(this._selector&&this.focused){if(!B("ff"))switch(a.keyCode){case G.UP_ARROW:this._handleUpArrowKey();u.stop(a);break;case G.DOWN_ARROW:this._handleDownArrowKey(),u.stop(a)}switch(a.keyCode){case G.ENTER:this._handleEnterKey();break;case G.ESCAPE:this._handleEscapeKey(a);break;case G.DELETE:this._handleDeleteKey()}}}catch(b){k.showErrorReporter(new p.ClientException("MasterSelector: _onKeyDown",b,{widgetId:this.id},a))}},_onKeyPress:function(a){try{if(this._selector&&
this.focused&&B("ff"))switch(a.keyCode){case G.UP_ARROW:this._handleUpArrowKey();break;case G.DOWN_ARROW:this._handleDownArrowKey()}}catch(b){k.showErrorReporter(new p.ClientException("MasterSelector: _onKeyPress",b,{widgetId:this.id},a))}},_onMouseDown:function(a){this._placeHolder&&this._textInput&&this._cancelEdit()},_onMouseSelect:function(a){try{if(a.target!==this._selectorNode&&(this._onSelect(a),this.submitOnClick&&this._selectedNode)){var b=w.get(this._selectedNode,"value");this.onSubmit(b,
this._labelMap[b])}}catch(d){k.showErrorReporter(new p.ClientException("MasterSelector: _onMouseSelect",d,{widgetId:this.id},a))}},_onRemoveItemClick:function(a){try{if(this._selector){var b=this._selector.getSelectedNodes();if(0<b.length){var d=b[0],e=w.get(d,"value"),f=d.innerHTML;this._cancelEdit();this._selector.deleteSelectedNodes();this.onRemoveItem(e,f)}}}catch(g){k.showErrorReporter(new p.ClientException("MasterSelector: _onRemoveItemClick",g,{widgetId:this.id},a))}},_onSelect:function(a,
b){try{var d=this._selector.getSelectedNodes();if(0<d.length){var e=d[0];if(e&&e!==this._selectedNode){this._selectedNode=e;b||this._scrollToNode(this._selectedNode);var f=w.get(e,"value");this.onSelectionChange(f,this._labelMap[f],a)}}else null!=this._selectedNode&&(this._selectedNode=null,this.onSelectionChange(null,null,a))}catch(g){k.throwClientException(this,g)}},_scrollToNode:function(a){a&&K.scrollIntoView(a)},_selectNode:function(a,b){this._selector&&(this._selector.selectNone(),this._selector._addItemClass(a,
"Selected"),this._selector.selection[a.id]=1,this._onSelect(void 0,b))},_setIsEditableAttr:function(a){this.isEditable=a},_setItemsAttr:function(a){this._items=a;this._started&&this._updateSelectorWithItems()},_setLabelPageAttr:function(a){this._labelPage=a;this._started&&!this._valueMappings&&this._updateSelectorWithLabelPage()},_setTargetLabelPageAttr:function(a){try{this._targetLabelPage=a}catch(b){k.throwClientException(this,b)}},_setValueMappingsAttr:function(a){try{var b=!!this._valueMappings;
this._valueMappings=a;this._started&&(this._labelPage?this._updateSelectorWithValueMappings(b):this._targetLabelPage&&this._updateSelectorWithTargetItems(b))}catch(d){k.throwClientException(this,d)}},_setTemplatesAttr:function(a){this.clear();if(a){for(var b=0;b<a.length;b++)this._createOption(a[b].id,a[b].title);this._createSelector()}},_setTitleAttr:function(a){this.title=a;this._layoutChildren()},_setShowToolbarAttr:function(a){this.showToolbar=a;a||(this._toolbar.domNode.style.display="none")},
_setSubmitOnClick:function(a){this.submitOnClick=a},_setUsersAttr:function(a){this.clear();if(a&&a.length){for(var b=0;b<a.length;b++)this._createOption(a[b].userId,a[b].emailAddress);this._createSelector()}},_setValueAttr:function(a,b){this._value=a.value;this._updateSelection(b)},_setModelSummariesAttr:function(a){this.clear();if(a){for(var b=0;b<a.length;b++){var d=a[b],e=C,f="",g=document.createElement("div");g.className="dojoDndItem";x.add(g,"alm "+(d.activeState===l.ACTIVE_STATE_MAINTENANCE||
d.activeState===l.ACTIVE_STATE_PRODUCTION_MAINTENANCE?"offline":""));if(d.hasOwnProperty("memory")){var h=document.createElement("span");h.className="memoryIndicator";h.appendChild(document.createTextNode("?"!==d.memory?q.formatBytes(d.memory):d.memory));g.appendChild(h)}if(this._isModelManagement&&(d.activeState===l.ACTIVE_STATE_MAINTENANCE||d.activeState===l.ACTIVE_STATE_PRODUCTION_MAINTENANCE))h=document.createElement("span"),h.className="offlineIndicator",h.appendChild(document.createTextNode(e.offline)),
g.appendChild(h),f='\x3cdiv class\x3d"master-selector-tooltip"\x3e'+e.labelOfflineTitle+e.labelOffline+"\x3c/div\x3e",h=new r({connectId:h,label:f,position:["below","above"]}),this._tooltips.push(h);var k="dijitReset dijitInline modelActiveStateIndicator modelActiveStateUnlocked";d.activeState===l.ACTIVE_STATE_LOCKED&&(f='\x3cdiv class\x3d"master-selector-tooltip"\x3e'+e.labelLockedTitle+e.labelLocked+"\x3c/div\x3e",k="dijitReset dijitInline modelActiveStateIndicator modelActiveStateLocked");d.activeState===
l.ACTIVE_STATE_ARCHIVED&&(f='\x3cdiv class\x3d"master-selector-tooltip"\x3e'+e.labelArchivedTitle+e.labelArchived+"\x3c/div\x3e",k="dijitReset dijitInline modelActiveStateIndicator modelActiveStateArchived");if(d.activeState===l.ACTIVE_STATE_PRODUCTION||d.activeState===l.ACTIVE_STATE_PRODUCTION_MAINTENANCE)f='\x3cdiv class\x3d"master-selector-tooltip"\x3e'+e.labelProductionTitle+e.labelProduction+"\x3c/div\x3e",k="dijitReset dijitInline modelActiveStateIndicator modelActiveStateProduction";h=document.createElement("span");
h.className=k;if(d.activeState===l.ACTIVE_STATE_ARCHIVED||d.activeState===l.ACTIVE_STATE_LOCKED||d.activeState===l.ACTIVE_STATE_MAINTENANCE||d.activeState===l.ACTIVE_STATE_PRODUCTION||d.activeState===l.ACTIVE_STATE_PRODUCTION_MAINTENANCE)f=new r({connectId:h,label:f,position:["below","above"]}),this._tooltips.push(f);g.appendChild(h);f=A.create("span",{"class":d.markedForUnload?"modelText unloading":"modelText"});h=d.taskSummary;k=[d.modelName];d.markedForUnload&&k.push(" (",e.closing,")");h&&h.cancelledByUserGuid&&
k.push(" (",e.cancelling,")");f.appendChild(document.createTextNode(k.join("")));if(h){e=" - "+(h.taskType?h.taskType.toLowerCase():"operation");h.userGuid&&h.hasOwnProperty("userFirstName")&&h.hasOwnProperty("userLastName")&&(e+=" started by "+h.userFirstName+" "+h.userLastName);if(0<h.startTime){var k=new Date(h.startTime),e=e+(" at "+k.toLocaleTimeString()),k=y.format(k,{selector:"date"}),m=y.format(new Date,{selector:"date"});k!=m&&(e+=" on "+k)}0<=h.progress&&(h=Math.floor(100*Math.min(Math.max(h.progress,
0),1)),e+=" ("+h+"%)");e=document.createTextNode(e);f.appendChild(e)}g.appendChild(f);w.set(g,"value",d.modelId);this._labelMap[d.modelId]=d.modelName;this._selectorNode.appendChild(g)}this._createSelector()}},_updateSelection:function(a){if(this._selector){var b=this._selector;b.selectNone();if(this._value)for(var b=b.getAllNodes(),d=b.length,e=0;e<d;e++){var f=b[e];if(w.get(f,"value")==this._value){this._selectNode(f,a);return}}}this._selectedNode=null},_updateSelectorWithItems:function(){this.clear();
if(this._items&&this._items.length){var a=this._items[0];"root"!=a.name&&console.warn("MasterSelector: expected dummy root node: found "+a.name);for(var b=[],d=0;d<a.children.length;d++)this._createItem(b,a.children[d]);this._selectorNode.innerHTML=b.join("");this._createSelector()}},_updateSelectorWithLabelPage:function(){this.clear();if(!(null==this._labelPage||0==this._labelPage.count)){for(var a=this._labelPage.entityLongIds[0],b=0;b<this._labelPage.count;b++)this._createOption(a[b],f.getItemName(this._labelPage,
0,b));this._createSelector()}},_updateSelectorWithTargetItems:function(a){var b=this._targetLabelPage,d=this._valueMappings;a||(this.clear(),this.targetItems=null);if(b&&0!=b.count){var e={};if(d)for(var g in d)d.hasOwnProperty(g)&&(e[d[g]]=!0);this._targetItems||(this._targetItems={});var d=this._getValueAttr(),h,k,l;if(a&&(d&&d.value)&&(d=this._targetItems[d.value])){if((g=this._valueForTargetClass(b,h,e))&&d.itemClass!=g)w.set(d.targetNode,"class",g),d.itemClass=g;return}for(h=0;h<b.count;h++){g=
b.entityLongIds[0][h];(d=this._targetItems[g])||(this._targetItems[g]=d={});if(!d.option){k=document.createElement("div");k.className="dojoDndItem";l=document.createElement("table");w.set(l,"width","100%");w.set(l,"border","0");w.set(l,"cellspacing","0");w.set(l,"cellpadding","0");k.appendChild(l);var m=document.createElement("tbody");l.appendChild(m);l=document.createElement("tr");m.appendChild(l);m=document.createElement("td");E.set(m,"width","99%");l.appendChild(m);var n=f.getItemName(b,0,h);m.appendChild(document.createTextNode(n));
this._labelMap[g]=n;w.set(k,"value",g);n=document.createElement("td");w.set(n,"class","formatCell");this.addEditCellContent(n,g);l.appendChild(n);d.targetNode=m;d.option=k;d.entityLongId=g;this._selectorNode.appendChild(k)}if((g=this._valueForTargetClass(b,h,e))&&d.itemClass!=g)w.set(d.targetNode,"class",g),d.itemClass=g}a||this._createSelector()}},_updateSelectorWithValueMappings:function(a){try{a||(this.clear(),this._mappingItems=null);this._selectedNode=null;var d=this._labelPage,e=this._targetLabelPage,
g=this._valueMappings;if(d&&d.count){var h={};if(g)for(var l in g)g.hasOwnProperty(l)&&(h[g[l]]=!0);this._mappingItems||(this._mappingItems={});var m=this._getValueAttr(),n,r,p,q,s,t,u,v,z;if(a&&(m&&m.value)&&(r=this._mappingItems[m.value])){p=g[m.value];p!==r.entityLongId&&(q="",s="disabledTargetItem",-1===p?q=" (ignored)":p&&(t=b.indexOf(e.entityLongIds[0],p),-1!==t&&(q=f.getItemName(e,0,t),s=this._valueForTargetClass(e,t,h))),k.setText(r.targetNode,q),r.entityLongId=p,s&&r.itemClass!==s&&(w.set(r.arrowNode,
"class","mappedTargetItem"==s?"mappingArrow":"mappingArrowGray"),w.set(r.targetNode,"class",s),r.itemClass=s));return}for(u=0;u<d.count;++u){n=d.labels[0][u];(r=this._mappingItems[n])||(this._mappingItems[n]=r={});q="";s="disabledTargetItem";p=null;g&&(n in g&&e)&&(p=g[n],-1===p?q=" (ignored)":0<=p&&(t=b.indexOf(e.entityLongIds[0],p),-1!==t&&(q=f.getItemName(e,0,t),s=this._valueForTargetClass(e,t,h))));if(!r.targetNode){v=document.createElement("div");v.className="dojoDndItem";z=document.createElement("table");
w.set(z,"width","100%");w.set(z,"border","0");w.set(z,"cellspacing","0");w.set(z,"cellpadding","0");v.appendChild(z);var y=document.createElement("tbody");z.appendChild(y);var x=document.createElement("tr");y.appendChild(x);var A=document.createElement("td");r.sourceNode=A;x.appendChild(A);w.set(A,"class","sourceItem");E.set(A,"width","50%");A.appendChild(document.createTextNode(n));var C=document.createElement("td");r.arrowNode=C;x.appendChild(C);A=document.createElement("td");r.targetNode=A;x.appendChild(A);
E.set(A,"width","50%");w.set(v,"value",n);this._selectorNode.appendChild(v)}r.entityLongId!==p&&(r.entityLongId=p,k.setText(r.targetNode,q),r.targetValue=q);r.itemClass!==s&&(w.set(r.arrowNode,"class","mappedTargetItem"==s?"mappingArrow":"mappingArrowGray"),w.set(r.targetNode,"class",s),r.itemClass=s)}a||this._createSelector()}}catch(B){k.throwClientException(this,B)}},_valueForTargetClass:function(a,b,d){var e=a.entityLongIds[0][b];d=-1!=e&&d[e];if(a.isAggregate[0][b])return"summaryTargetItem";if(a.isEditable[0][b]){if(d)return"mappedTargetItem"}else return"disabledTargetItem";
return"unmappedTargetItem"}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(l,s,p,q,f,k,n){var m;return m=l("dijit.form.ValidationTextBox",f,{templateString:n,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",
tooltipPosition:[],_deprecateRegExp:function(f,e){e!=m.prototype[f]&&(s.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+f+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",e))},_setRegExpGenAttr:function(f){this._deprecateRegExp("regExpGen",f);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(f){this._deprecateRegExp("regExp",f)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(f,e){return RegExp("^(?:"+
this._computeRegexp(e)+")"+(this.required?"":"?")+"$").test(f)&&(!this.required||!this._isEmpty(f))&&(this._isEmpty(f)||void 0!==this.parse(f,e))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(f){return(this.trim?/^\s*$/:/^$/).test(f)},getErrorMessage:function(){var f="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:
this.invalidMessage,e="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?f:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?e:f},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(f){var e="",g=this.disabled||this.isValid(f);g&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),a=!g&&f&&this._isValidSubset();this._set("state",g?"":((!this._hasBeenBlurred||f)&&d||a)&&(this._maskValidSubsetError||
a&&!this._hasBeenBlurred&&f)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=f&&a,e=this.getErrorMessage(f)):"Incomplete"==this.state?(e=this.getPromptMessage(f),this._maskValidSubsetError=!this._hasBeenBlurred||f):d&&(e=this.getPromptMessage(f));this.set("message",e);return g},displayMessage:function(f){f&&this.focused?k.show(f,this.domNode,this.tooltipPosition,!this.isLeftToRight()):k.hide(this.domNode)},
_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(f){this.constraints=p.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(f){!f.locale&&this.lang&&(f.locale=this.lang);this._set("constraints",f);this._refreshState()},_setPatternAttr:function(f){this._set("pattern",f);this._refreshState()},_computeRegexp:function(f){var e=
this.pattern;"function"==typeof e&&(e=e.call(this,f));if(e!=this._lastRegExp){var g="";this._lastRegExp=e;".*"!=e&&e.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":g+=a;break;case ")":g+="|$)";break;default:g+="(?:"+a+"|$)"}});try{"".search(g)}catch(d){g=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+g+")$"}return e},postMixInProperties:function(){this.inherited(arguments);
this.messages=q.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(f){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(f){this._set("required",f);this.focusNode.setAttribute("aria-required",f);this._refreshState()},_setMessageAttr:function(f){this._set("message",f);this.displayMessage(f)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");
this.inherited(arguments)},destroy:function(){k.hide(this.domNode);this.inherited(arguments)}})})},"anaplan/data/ItemCache":function(){define(["anaplan/Exceptions","dojo/_base/declare"],function(l,s){return s("anaplan.data.ItemCache",null,{constructor:function(l){l&&(this._id=l.id,this._style=l.style||"normal");this.clear()},addAll:function(l){for(var q in l)l.hasOwnProperty(q)&&this._addItem(l[q],q)},addItem:function(l,q,f){q=this._getKey(q,f);this._addItem(l,q)},clear:function(){this._items={};
this._isEmpty=!0},debug:function(){for(var l in this._items)this._items.hasOwnProperty(l)},deleteItem:function(l,q){var f=this._getKey(l,q);this._deleteItem(f)},getItem:function(l,q){var f=this._getKey(l,q);return this._getItem(f)},getItemsArray:function(){var l=[],q;for(q in this._items)this._items.hasOwnProperty(q)&&l.push(this._getItem(q));return l},getKeysArray:function(){var l=[],q=function(f,k){this._id1=f;this._id2=k;this.getId1=function(){return this._id1};this.getId2=function(){return this._id2};
this.toString=function(){return[this._id1,this._id2].join()}},f,k;for(f in this._items)this._items.hasOwnProperty(f)&&(k=f.split(","),l.push(new q(k[0],k[1])));return l},isEmpty:function(){return this._isEmpty},isItem:function(l,q){return this._isItem(this._getKey(l,q))},_addItem:function(l,q){this._items[q]=l;this._isEmpty=!1},_deleteItem:function(p){if(!this._isItem(p))throw new l.ItemNotFoundException(null,null,{item:[this._id,p].join(" ")});delete this._items[p]},_getItem:function(p){if(!this._isItem(p))throw new l.ItemNotFoundException(null,
null,{item:[this._id,p].join(" ")});return this._items[p]},_getKey:function(l,q){return[l,q].join()},_isItem:function(l){return!!this._items[l]}})})},"anaplan/widgets/TokenInput/_Token":function(){define("dijit/_Contained dijit/_CssStateMixin dijit/_TemplatedMixin anaplan/widgets/_WidgetMixin dijit/_WidgetBase dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/keys".split(" "),function(l,s,p,q,f,k,n,m,h){return k("anaplan.widgets.TokenInput._Token",[f,p,q,l,s],{baseClass:"tokenInputToken",identifier:null,
label:null,tabIndex:-1,templateString:'\x3cli class\x3d"${baseClass}" tabindex\x3d"${tabIndex}"\x3e\x3cp data-dojo-attach-point\x3d"labelContainer"\x3e\x3c/p\x3e\x3cspan class\x3d"tokenInputDeleteToken" data-dojo-attach-event\x3d"onclick:_onDeleteButtonClick"\x3ex\x3c/span\x3e\x3c/li\x3e',onDelete:function(){},postCreate:function(){this.inherited(arguments);this.own(this.on("mousedown",function(e){e.stopPropagation()}));this.own(this.on("keydown",m.hitch(this,"_onKeyDown")),this.on("keypress",m.hitch(this,
"_onKeyPress")),this.on("keyup",m.hitch(this,"_onKeyUp")))},_delete:function(){this.onDelete(this)},_onDeleteButtonClick:function(e){this._delete();n.stop(e)},_onKeyDown:function(e){switch(e.keyCode){case h.DELETE:case h.BACKSPACE:n.stop(e)}},_onKeyPress:function(e){switch(e.keyCode){case h.DELETE:case h.BACKSPACE:n.stop(e)}},_onKeyUp:function(e){switch(e.keyCode){case h.DELETE:case h.BACKSPACE:this._delete(),n.stop(e)}},_setLabelAttr:function(e){this._set("label",e);this.setText(this.labelContainer,
e)}})})},"anaplan/snav/widgets/multiselect/Model":function(){define(["dojo/_base/array","dojo/_base/declare"],function(l,s){return s([],{data:null,constructor:function(){this.data=[];this._entityLongIdToIndexMap={}},add:function(l){-1!==parseInt(l.entityLongId,10)&&(this._entityLongIdToIndexMap[l.entityLongId]=this.data.length,this.data.push(l))},getEntityLongIds:function(){var p=l.filter(this.data,function(l){return!!l});return l.map(p,function(l){return l.entityLongId})},remove:function(l){var q=
this._entityLongIdToIndexMap[l],f;void 0!==q&&-1!==q&&(f=this.data[q],this.data[q]=null,this._entityLongIdToIndexMap[l]=-1);return f||null},setViewRequestResult:function(l){var q=l.dataPages[0];l=q.cellText;var f=q.cellValues,q=q.rowCount,k=this.data=[],n=this._entityLongIdToIndexMap={},m,h;for(m=0;m<q;m++)h=f[m],-1!==parseInt(h,10)&&!1===0<=n[h]&&(k.push({entityLongId:h,label:l[m]}),n[h]=m)}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w){var x=s("dijit.form._SliderMover",g,{onMouseMove:function(a){var b=this.widget,d=b._abspos;d||(d=b._abspos=f.position(b.sliderBarContainer,!0),b._setPixelValue_=m.hitch(b,"_setPixelValue"),b._isReversed_=b._isReversed());a=a[b._mousePixelCoord]-d[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?d[b._pixelCount]-a:a,d[b._pixelCount],!1)},destroy:function(a){g.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});p=s("dijit.form.HorizontalSlider",[z,y],{templateString:w,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:b.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case n.HOME:this._setValueAttr(this.minimum,!1);break;case n.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?n.RIGHT_ARROW:n.LEFT_ARROW:case !1===this._descending?n.DOWN_ARROW:n.UP_ARROW:case !1===this._descending?n.PAGE_DOWN:
n.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?n.LEFT_ARROW:n.RIGHT_ARROW:case !1===this._descending?n.UP_ARROW:n.DOWN_ARROW:case !1===this._descending?n.PAGE_UP:n.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(h("ie")||t.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&
!this.readOnly&&this.clickSelect){t.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=f.position(this.sliderBarContainer,!0),d=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-d:d,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,d){if(!this.disabled&&!this.readOnly){var e=this.discreteValues;if(1>=e||Infinity==e)e=b;e--;a=Math.round(a/(b/e));this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*a/e+this.minimum,this.maximum),this.minimum),d)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var d=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,e=!1===this._descending?this.remainingBar:this.progressBar,f=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&
0<this.slideDuration&&e.style[this._progressPixelSize]){var g=this,h={},k=parseFloat(e.style[this._progressPixelSize]),l=this.slideDuration*(d-k/100);0!=l&&(0>l&&(l=0-l),h[this._progressPixelSize]={start:k,end:100*d,units:"%"},this._inProgressAnim=q.animateProperty({node:e,duration:l,onAnimate:function(a){f.style[g._progressPixelSize]=100-parseFloat(a[g._progressPixelSize])+"%"},onEnd:function(){delete g._inProgressAnim},properties:h}),this._inProgressAnim.play())}else e.style[this._progressPixelSize]=
100*d+"%",f.style[this._progressPixelSize]=100*(1-d)+"%"},_bumpValue:function(a,b){if(!this.disabled&&!(this.readOnly||this.maximum<=this.minimum)){var d=k.getComputedStyle(this.sliderBarContainer),e=f.getContentBox(this.sliderBarContainer,d),d=this.discreteValues;if(1>=d||Infinity==d)d=e[this._pixelCount];d--;e=(this.value-this.minimum)*d/(this.maximum-this.minimum)+a;0>e&&(e=0);e>d&&(e=d);e=e*(this.maximum-this.minimum)/d+this.minimum;this._setValueAttr(e,b)}},_onClkBumper:function(a){!this.disabled&&
(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==n.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==n.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>
a.wheelDelta?-1:1,!0)},startup:function(){this._started||(l.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,d){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](d)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display=
"",this.decrementButton.style.display="");var a=d('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(u.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),u.addMouseListener(this.incrementButton,this,"_typematicCallback",
25,500));this.own(r(this.domNode,a.wheel,m.hitch(this,"_mouseWheeled")));var b=s(x,{widget:this});this._movable=new e(this.sliderHandle,{mover:b});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});p._Mover=x;return p})},"anaplan/gridlet/Themes":function(){define("anaplan/api/service anaplan/constants dojo/_base/array dormouse/_ThemeConfigs anaplan/utils/SubmissionHandler anaplan/data/ModelContentCache dojo/has dojo/_base/sniff".split(" "),
function(l,s,p,q,f,k,n){q={debug:0,defaultThemeId:"",allStyles:"normal heading0 heading1 heading2 heading3 summary1 summary2 summary3".split(" "),defaultThemes:{HIERARCHY_GRID_VIEW:"classic",HIERARCHY_PROPERTIES_AND_SUBSETS_VIEW:"classic",MODEL_DEFINITION:"classic",Modules_FUNCTIONAL_AREAS:"classic",Modules_LINE_ITEMS:"classic",Modules_MODULES:"classic",unknown:"classic"},themes:q,themeNames:[],themeNamesSentenceCase:[],privateThemeNames:{gridselector:!0},toSentenceCase:function(f){return f.replace(/\w\S*/g,
function(f){return f.charAt(0).toUpperCase()+f.substr(1).toLowerCase()})},getThemeNames:function(f){return f?this.themeNamesSentenceCase:this.themeNames},getThemeIdFromViewDefinition:function(f,h){"undefined"===typeof h&&("undefined"!==typeof f._model&&"undefined"!==typeof f._model._themeId)&&(h=f._model._themeId);return h=h?h:this.getDefaultTheme()},_getDefaultThemeFromModelProperties:function(){return l.model.getModelProperty(s.MODEL_PROPERTY_NAMES.DEFAULT_THEME)||""},getDefaultThemeIdFromModelProperties:function(f){var h=
this._getDefaultThemeFromModelProperties();""===h&&(h=this.getFallBackTheme());return f?this.toSentenceCase(h):h},persistDefaultTheme:function(k,h,e){var g=this._getDefaultThemeFromModelProperties(),g=[{actionId:s.SYSTEM_ACTIONS.SET_MODEL_PROPERTY,workspaceId:workspaceId,params:{modelId:modelId,propertyKey:s.MODEL_PROPERTY_NAMES.DEFAULT_THEME,currentPropertyValue:g,newPropertyValue:k}}];(new f({showPleaseWait:!1})).post([],[],g).then(function(){h.call(e);return k})},getDefaultThemeFor:function(f){f=
this.defaultThemes[f];return f="undefined"!==typeof f?f:this.getDefaultTheme()},getThemeIdFromThemeName:function(f){f=f.toLowerCase();return this.themes.hasOwnProperty(f)?f:null},getThemeClassName:function(f){return this.themes[f].className},init:function(){var f=[],h="",e=0,g=0,h="";for(h in this.themes)this.themes.hasOwnProperty(h)&&"undefined"===typeof this.privateThemeNames[h]&&f.push(h);for(g=f.length;e<g;e++)h=f[e],this.themeNames[e]=h,this.themeNamesSentenceCase[e]=this.toSentenceCase(h)},
themeExists:function(f){return"undefined"!==typeof this.themes[f]},getDefaultColumnWidth:function(f){return this.themes[f].defaultColumnWidth},getDefaultRowLabelWidth:function(f){return this.themes[f].defaultRowLabelWidth},getDefaultNestedRowLabelWidth:function(f){return this.themes[f].defaultNestedRowLabelWidth},getDefaultTreeletPadBorder:function(f){return this.themes[f].defaultTreeletPadBorder},getStyleAdjustments:function(f){"undefined"===typeof f&&(f=this.getFallBackTheme());return this.themes[f].styleAdjustments},
getDefaultTheme:function(f){var h="";""===this.defaultThemeId&&(this.defaultThemeId=(h=this.getDefaultThemeIdFromModelProperties())?h:this.getFallBackTheme());return f?this.toSentenceCase(this.defaultThemeId):this.defaultThemeId},getFallBackTheme:function(){return"classic"},getGridSelectorTheme:function(){return"gridselector"},setDefaultTheme:function(f,h,e){f=f.toLowerCase();return this.themeExists(f)?(this.defaultThemeId!==f&&(this.defaultThemeId=f,this.persistDefaultTheme(f,h,e)),!0):!1},getActualBordersUsingNeighbouringColumns:function(f,
h,e){var g=h.borderLeft,d=h.borderRight;f&&f.borderRight>h.borderLeft&&(g=f.borderRight);e&&e.borderLeft>h.borderRight&&(d=e.borderLeft);return{borderLeft:g,borderRight:d}},getActualBordersUsingNeighbouringRows:function(f,h,e){var g=h.borderTop,d=h.borderBottom;f&&f.borderBottom>h.borderTop&&(g=f.borderBottom);e&&e.borderTop>h.borderBottom&&(d=e.borderTop);return{borderTop:g,borderBottom:d}},getBorderAdjustmentForActualColumnBorders:function(f){return{w:Math.ceil((f.borderLeft+f.borderRight)/2),h:1}},
getBorderAdjustmentForActualRowBorders:function(f){return{w:1,h:Math.ceil((f.borderTop+f.borderBottom)/2)}},getColumnAdjustment:function(f,h){return{w:f.paddingLeft+f.paddingRight+h.w,h:f.paddingTop+f.paddingBottom+h.h}},getNormalColumnAdjustment:function(f){"undefined"===typeof f&&(f=this.getFallBackTheme());f=this.getPadBorderForColumnStyle("normal",f);return{h:Math.ceil((f.borderTop+f.borderBottom)/2)+f.paddingTop+f.paddingBottom,w:Math.ceil((f.borderLeft+f.borderRight)/2)+f.paddingLeft+f.paddingRight}},
getNormalRowAdjustment:function(f){"undefined"===typeof f&&(f=this.getFallBackTheme());f=this.getPadBorderForRowStyle("normal",f);return{w:Math.ceil((f.borderLeft+f.borderRight)/2)+f.paddingLeft+f.paddingRight,h:Math.ceil((f.borderTop+f.borderBottom)/2)+f.paddingTop+f.paddingBottom}},getPadBorderForClassNames:function(f,h,e){"undefined"===typeof h&&(h=this.getFallBackTheme());var g=[],d="",a=null,k=null,b=null,l=null,n=null,p=null,q=null,s=null,w=0,x=0,d={};if(!f||-1!==f.indexOf("treelet"))return this.getDefaultTreeletPadBorder(h);
f&&(g=f.split(" "),w=g.length);for(;x<w;++x)if(d=g[x],d=e[d]){if(null==a&&void 0!=d.paddingLeft||0==d.paddingLeft)a=Math.max(d.paddingLeft,a);if(null==k&&void 0!=d.paddingRight||0==d.paddingRight)k=Math.max(d.paddingRight,a);if(null==b&&void 0!=d.paddingTop||0==d.paddingTop)b=Math.max(d.paddingTop,b);if(null==l&&void 0!=d.paddingBottom||0==d.paddingBottom)l=Math.max(d.paddingBottom,l);if(null==n&&void 0!=d.borderLeft||0==d.borderLeft)n=Math.max(d.borderLeft,n);if(null==p&&void 0!=d.borderRight||0==
d.borderRight)p=Math.max(d.borderRight,p);if(null==q&&void 0!=d.borderTop||0==d.borderTop)q=Math.max(d.borderTop,q);if(null==s&&void 0!=d.borderBottom||0==d.borderBottom)s=Math.max(d.borderBottom,s)}return{paddingLeft:a||1,paddingRight:k||1,paddingTop:b||0,paddingBottom:l||0,borderLeft:null===n?1:n,borderRight:null===p?1:p,borderTop:null===q?1:q,borderBottom:null===s?1:s}},getPadBorderForColumnStyle:function(f,h){"undefined"===typeof h&&(h=this.getFallBackTheme());var e=this.getStyleAdjustments(h),
g=this.getColumnStyles(f,h);return this.getPadBorderForClassNames(g,h,e)},getPadBorderForAllColumnStyles:function(f){"undefined"===typeof f&&(f=this.getFallBackTheme());var h=this,e={};p.forEach(this.allStyles,function(g){e[g]=h.getPadBorderForColumnStyle(g,f)});return e},getRowAdjustment:function(f,h){return{w:f.paddingLeft+f.paddingRight+h.w,h:f.paddingTop+f.paddingBottom+h.h}},getPadBorderForRowStyle:function(f,h){var e=this.getStyleAdjustments(h);return this.getPadBorderForClassNames(this.getRowStyles(f,
h),h,e)},getPadBorderForAllRowStyles:function(f){var h=this,e={};p.forEach(this.allStyles,function(g){e[g]=h.getPadBorderForRowStyle(g,f)});return e},getRowStyles:function(f){return["gridrow",f," gridrowheader",f," gridrowheader ",f].join("")},getColumnStyles:function(f){return["gridcolumn",f," gridcolumnheader",f," gridcolumnheader ",f].join("")}};q.init();return q})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(l,s,p,q,f,k,n,m){function h(a,b){var d=function(d,e){if("string"==typeof e&&(e=p.byId(e),!e))return new b([]);var f="string"==typeof d?a(d,e):d?d.end&&d.on?d:[d]:[];return f.end&&f.on?f:new b(f)};d.matches=a.match||function(a,b,e){return 0<d.filter([a],b,e).length};d.filter=a.filter||function(a,b,e){return d(b,e).filter(function(b){return-1<f.indexOf(a,b)})};if("function"!=typeof a){var e=a.search;a=function(a,b){return e(b||document,a)}}return d}s.add("array-extensible",function(){return 1==
k.delegate([],{length:1}).length&&!s("bug-for-in-skips-shadowed")});var e=Array.prototype,g=e.slice,d=e.concat,a=f.forEach,r=function(a,b,d){b=[0].concat(g.call(b,0));d=d||l.global;return function(e){b[0]=e;return a.apply(d,b)}},b=function(a){var b=this instanceof t&&s("array-extensible");"number"==typeof a&&(a=Array(a));var d=a&&"length"in a?a:arguments;if(b||!d.sort){for(var e=b?this:[],f=e.length=d.length,g=0;g<f;g++)e[g]=d[g];if(b)return e;d=e}k._mixin(d,u);d._NodeListCtor=function(a){return t(a)};
return d},t=b,u=t.prototype=s("array-extensible")?[]:{};t._wrap=u._wrap=function(a,b,d){a=new (d||this._NodeListCtor||t)(a);return b?a._stash(b):a};t._adaptAsMap=function(a,b){return function(){return this.map(r(a,arguments,b))}};t._adaptAsForEach=function(a,b){return function(){this.forEach(r(a,arguments,b));return this}};t._adaptAsFilter=function(a,b){return function(){return this.filter(r(a,arguments,b))}};t._adaptWithCondition=function(a,b,d){return function(){var e=arguments,f=r(a,e,d);if(b.call(d||
l.global,e))return this.map(f);this.forEach(f);return this}};a(["slice","splice"],function(a){var b=e[a];u[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});a(["indexOf","lastIndexOf","every","some"],function(a){var b=f[a];u[a]=function(){return b.apply(l,[this].concat(g.call(arguments,0)))}});k.extend(b,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return q(d,
a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=g.call(this,0),e=f.map(arguments,function(a){return g.call(a,0)});return this._wrap(d.apply(b,e),this)},map:function(a,b){return this._wrap(f.map(this,a,b),this)},forEach:function(b,d){a(this,b,d);return this},filter:function(a){var b=arguments,d=this,e=0;if("string"==typeof a){d=v._filterResult(this,b[0]);if(1==b.length)return d._stash(this);
e=1}return this._wrap(f.filter(d,b[e],b[e+1]),this)},instantiate:function(a,b){var d=k.isFunction(a)?a:k.getObject(a);b=b||{};return this.forEach(function(a){new d(b,a)})},at:function(){var b=new this._NodeListCtor(0);a(arguments,function(a){0>a&&(a=this.length+a);this[a]&&b.push(this[a])},this);return b._stash(this)}});var v=h(m,b);l.query=h(m,function(a){return b(a)});v.load=function(a,d,e){n.load(a,d,function(a){e(h(a,b))})};l._filterQueryResult=v._filterResult=function(a,d,e){return new b(v.filter(a,
d,e))};l.NodeList=v.NodeList=b;return v})},"anaplan/dashboard/dashboardWidgets/_ColumnRangeChart":function(){define(["anaplan/dashboard/dashboardWidgets/_Chartlet","anaplan/charts/PagingColumnRange","dojo/_base/declare"],function(l,s,p){return p("anaplan.dashboard.dashboardWidgets._ColumnRangeChart",[s,l],{})})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,s,p){function q(e){return n[e]=new Function("item","index","array",e)}function f(e){var f=!e;return function(d,
a,h){var b=0,k=d&&d.length||0,l;k&&"string"==typeof d&&(d=d.split(""));"string"==typeof a&&(a=n[a]||q(a));if(h)for(;b<k;++b){if(l=!a.call(h,d[b],b,d),e^l)return!l}else for(;b<k;++b)if(l=!a(d[b],b,d),e^l)return!l;return f}}function k(e){var f=1,d=0,a=0;e||(f=d=a=-1);return function(k,b,l,n){if(n&&0<f)return h.lastIndexOf(k,b,l);n=k&&k.length||0;var p=e?n+a:d;l===m?l=e?d:n+a:0>l?(l=n+l,0>l&&(l=d)):l=l>=n?n+a:l;for(n&&"string"==typeof k&&(k=k.split(""));l!=p;l+=f)if(k[l]==b)return l;return-1}}var n=
{},m,h={every:f(!1),some:f(!0),indexOf:k(!0),lastIndexOf:k(!1),forEach:function(e,f,d){var a=0,h=e&&e.length||0;h&&"string"==typeof e&&(e=e.split(""));"string"==typeof f&&(f=n[f]||q(f));if(d)for(;a<h;++a)f.call(d,e[a],a,e);else for(;a<h;++a)f(e[a],a,e)},map:function(e,f,d,a){var h=0,b=e&&e.length||0;a=new (a||Array)(b);b&&"string"==typeof e&&(e=e.split(""));"string"==typeof f&&(f=n[f]||q(f));if(d)for(;h<b;++h)a[h]=f.call(d,e[h],h,e);else for(;h<b;++h)a[h]=f(e[h],h,e);return a},filter:function(e,f,
d){var a=0,h=e&&e.length||0,b=[],k;h&&"string"==typeof e&&(e=e.split(""));"string"==typeof f&&(f=n[f]||q(f));if(d)for(;a<h;++a)k=e[a],f.call(d,k,a,e)&&b.push(k);else for(;a<h;++a)k=e[a],f(k,a,e)&&b.push(k);return b},clearCache:function(){n={}}};p.mixin(l,h);return h})},"anaplan/view/Pivot":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/TextBox dojo/aspect dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/on anaplan/data/ModelContentCache anaplan/constants anaplan/data/ModelContentHelper anaplan/dnd/Manager anaplan/widgets/Dialog2 anaplan/widgets/PivotComponent dojo/text!anaplan/templates/Pivot.html dojo/i18n!anaplan/nls/pivot".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){return d([x.ContentMixin,k,n,m,f],{templateString:D,baseClass:"pivot",constructor:function(a){try{this._gridController=a.gridController,this._selectionCoords=a.selectionCoords,this._pageInfo=a.pageInfo}catch(b){l.throwClientException(this,b)}},_setTimeRangeLabel:function(){var a=this._gridController.getModuleEntityLongId();0<a&&(a=v.getModuleInfo(a).timeRangeLabel)&&this._pivotComponent._setTimeRangeLabelOnTimeDimension(a)},onAfterSlice:function(){},
onCancel:function(){},postCreate:function(){try{this.inherited(arguments),l.setText(this.pivotInstructions,E.labelInstructions),this._createPivotComponent(),this._setTimeRangeLabel(),this.own(e.after(this.domNode,"selectstart",r.hitch(this,function(b){var d=dijit.getEnclosingWidget(b.target);(!d||!(d instanceof h))&&a.stop(b)})))}catch(b){l.throwClientException(this,b)}},resize:function(a){try{this.inherited(arguments),this._pivotComponent.resize(a)}catch(b){l.throwClientException(this,b)}},startup:function(){try{this.inherited(arguments),
this._pivotComponent.startup()}catch(a){l.throwClientException(this,a)}},uninitialize:function(){try{this._pivotComponent&&(this._pivotComponent.destroy(),this._pivotComponent=null),this.inherited(arguments)}catch(a){l.throwClientException(this,a)}},_createPivotComponent:function(){try{this._dndManager=new w(b.body()),this._dndManager.addConfirmationHandler(this,"_onConfirmationCheck"),this._pivotComponent=new A({pageInfo:this._pageInfo,dndManager:this._dndManager}),this.own(u(this._pivotComponent,
"Submit",r.hitch(this,"_onPivot")),u(this._pivotComponent,"Cancel",r.hitch(this,function(){this.onCancel()}))),t.place(this._pivotComponent.domNode,this.pivotComponentContainer)}catch(a){l.throwClientException(this,a)}},_filterDimensionIdentifiersForSyncBranchOnly:function(a,b){return g.filter(a,function(a){a=this._getAxisDefinitionByDimensionIdentifier(a,b);return!!a&&a.type===z.AXIS_DEFINITION_TYPE_SYNC_BRANCH},this)},_getAxisDefinitionByDimensionIdentifier:function(a,b){var d=null,e=this._getAxisSpecificationByDimensionIdentifier(a,
b);if(!e)return null;e=y.splitAxisSpecification(e);g.some(e,function(b){return y.getAllDimensionIdentifiersForAxisDefinition(b)[0]===a?(d=b,!0):!1});return d},_getAxisSpecificationByDimensionIdentifier:function(a,b){var d=null;if(!a)return null;g.some(b,function(b){var e=y.getAllDimensionIdentifiersForAxisSpecification(b);return-1<g.indexOf(e,a)?(d=b,!0):!1});return d},_getAxisSpecifications:function(){var a=this._pageInfo,b=[];a.rowAxisSpecification&&b.push(a.rowAxisSpecification);a.columnAxisSpecification&&
b.push(a.columnAxisSpecification);a.pageAxisSpecifications&&(b=b.concat(a.pageAxisSpecifications));return b},_onConfirmationCheck:function(a,b,d,e,f){var h=[],k=this._getAxisSpecifications(),l=p.arrayEquals(b,a),m="pagesBox"===f["class"];f=this._getAxisSpecificationByDimensionIdentifier(d[0],k);y.axisSpecificationContainsDependentSelection(f);var n=y.axisSpecificationContainsBranchSync(f),r,q,t,u;g.forEach(a,function(a){var b=this._getAxisDefinitionByDimensionIdentifier(a,k);b&&(y.axisDefinitionContainsBranchSync(b)?
m&&(r||(r={}),r[s.escapeHTML(y.getLabelForDimensionIdentifier(v,a))]=!0):y.axisDefinitionContainsDependentSelection(b)&&(n&&!e)&&g.forEach(this._filterDimensionIdentifiersForSyncBranchOnly(d,k),function(a){r||(r={});r[s.escapeHTML(y.getLabelForDimensionIdentifier(v,a))]=!0}))},this);g.forEach(b,function(a){var b=this._getAxisSpecificationByDimensionIdentifier(a,k),f=!1;if(y.axisSpecificationContainsAxisOrder(b)||y.axisSpecificationContainsSortAndFilterDefinition(b)||y.axisSpecificationContainsSortDefinition(b))if(l){if(m||
d.length&&!e)f=!0}else f=!0;f&&(q||(q={}),q[s.escapeHTML(y.getLabelForDimensionIdentifier(v,a))]=!0);if(y.axisSpecificationContainsDependentSelection(b)&&(m||!l))t||(t={}),t[s.escapeHTML(y.getLabelForDimensionIdentifier(v,a))]=!0},this);!e&&1===a.length&&g.forEach(d,function(a){var b=this._getAxisSpecificationByDimensionIdentifier(a,k);if(y.axisSpecificationContainsAxisOrder(b)||y.axisSpecificationContainsSortAndFilterDefinition(b)||y.axisSpecificationContainsSortDefinition(b))q||(q={}),q[s.escapeHTML(y.getLabelForDimensionIdentifier(v,
a))]=!0;y.axisSpecificationContainsDependentSelection(b)&&(t||(t={}),t[s.escapeHTML(y.getLabelForDimensionIdentifier(v,a))]=!0)},this);if(!r&&!q&&!t)return null;if(r){h.push(E.pivotConfirmResetSyncBranch);h.push("\x3cul\x3e");for(u in r)r.hasOwnProperty(u)&&(h.push("\x3cli\x3e"),h.push(u),h.push("\x3c/li\x3e"));h.push("\x3c/ul\x3e")}if(q){h.push(E.pivotConfirmResetFilterSortAxisOrder);h.push("\x3cul\x3e");for(u in q)q.hasOwnProperty(u)&&(h.push("\x3cli\x3e"),h.push(u),h.push("\x3c/li\x3e"));h.push("\x3c/ul\x3e")}if(t){h.push(E.pivotConfirmResetSelection);
h.push("\x3cul\x3e");for(u in t)t.hasOwnProperty(u)&&(h.push("\x3cli\x3e"),h.push(u),h.push("\x3c/li\x3e"));h.push("\x3c/ul\x3e")}h.push(E.pivotConfirmationAreYouSure);return h=h.join("")},_onPivot:function(a){try{this._gridController.pivot(a),q.gather(),this.onAfterSlice()}catch(b){l.throwClientException(this,b)}}})})},"dijit/main":function(){define(["dojo/_base/kernel"],function(l){return l.dijit})},"anaplan/charts/PagingChartModel":function(){define(["anaplan/data/_BaseModel","anaplan/data/ModelContentHelper",
"anaplan/Exceptions","dojo/_base/declare","dojo/_base/lang"],function(l,s,p,q,f){return q("anaplan.charts.PagingChartModel",[l],{constructor:function(f){this._rowAxisIdentifier=this._columnAxisIdentifier=null;this._initialized=!1;this._rowsPerPage=f.rowsPerPage||50;this._columnsPerPage=f.columnsPerPage||30},isDirty:function(){return!1},getColumnAxisIdentifier:function(){null==this._columnAxisIdentifier&&(this._columnAxisIdentifier=s.getSingleDimensionIdentifierFromAxisSpecification(this._pageInfo.columnAxisSpecification,
0));return this._columnAxisIdentifier},getRowAxisIdentifier:function(){null==this._rowAxisIdentifier&&(this._rowAxisIdentifier=s.getSingleDimensionIdentifierFromAxisSpecification(this._pageInfo.rowAxisSpecification,0));return this._rowAxisIdentifier},getValues:function(f){var l,m,h,e;if(!this._initialized)throw new p.IllegalStateException("Must call initialize before getValues",null,null);if(!f)throw new p.InvalidArgumentException(null,null,{value:f});l=f.y[0];m=f.y[1];h=f.x[0];e=f.x[1];!this._readCache.isItem(l,
h)||!this._readCache.isItem(m,e)?this._requestView(f):(f=this._getValues(f),this.notifyObservers(f,this.getPageInfo()))},_getViewOptions:function(){var k=this.inherited(arguments),l=this._getSerialNumbersForPageRequests(k.pageRequests);return k=f.mixin(k,{serialNumbers:l})},_getViews:function(){var f=this._initialized?this._getView():{x:[0,this._columnsPerPage-1],y:[0,this._rowsPerPage-1]};return f?[f]:null},_getPageKey:function(f,l){return new function(f,h){this._x=f;this._y=h;this.getX=function(){return this._x};
this.getY=function(){return this._y};this.toString=function(){return[this.getX(),this.getY()].join()}}(Math.floor(l/this._columnsPerPage),Math.floor(f/this._rowsPerPage))},_getPageRequests:function(f){var l=[],m={},h,e,g,d,a,r,b,p;f=f||[];e=f.length;for(g=0;g<e;g++){h=f[g];d=this._getPageKey(h.y[0],h.x[0]);h=this._getPageKey(h.y[1],h.x[1]);for(r=d.getX();r<h.getX()+1;r++)for(b=d.getY();b<h.getY()+1;b++)a=r+","+b,m[a]||(m[a]=!0,a=b*this._rowsPerPage,p=r*this._columnsPerPage,l.push({startRow:a,startColumn:p,
rowCount:this._rowsPerPage,columnCount:this._columnsPerPage}))}return l},_requestView:function(f){f=this._getPageRequests([f]);var l,m;for(m=0;m<f.length;m++)if(l=f[m],!this._readCache.isItem(l.startRow,l.startColumn)){this._aggregator.gather();break}},_update:function(){try{var f=!this._initialized,l;this._initialized=!0;f?(l=this._readCache,this.notifyObservers({dataRowCount:l.getRowCount(),dataColumnCount:l.getColumnCount()})):this._updateObservers()}catch(m){throw new p.ClientException("anaplan.charts.PagingChartModel._update",
m);}}})})},"anaplan/api/Services/lineItemSubsets":function(){define(["anaplan/api/Entities/LineItemSubsets"],function(l){return new l})},"anaplan/common/SelectiveAccess":function(){define("anaplan/common/SelectiveAccess/_SelectiveAccessBase anaplan/data/UserInfo anaplan/data/ModelContentCache dojo/_base/declare dojo/_base/lang dojo/aspect".split(" "),function(l,s,p,q,f,k){l=new (q([l],{constructor:function(){this._userInfo=s;this.own(k.after(s,"onChange",f.hitch(this,"_onUserInfoChange"),!0));p.addObserver(this)},
destroy:function(){p.deleteObserver(this);this.inherited(arguments)},onChange:function(){},_onUserInfoChange:function(){this.onChange()},update:function(){var f=p.getWorkspaceInfo(),k=!1;if(f&&f.modelSummaries){for(var f=f.modelSummaries,h=null,e=0;e<f.length;e++)if(f[e].modelId==window.modelId){h=f[e].activeState;break}this._currentModelActiveState!=h&&(k=!0);this._currentModelActiveState=h}if(k)this.onChange()}}));l.update();f.setObject("anaplan.common.SelectiveAccess",l);return l})},"dijit/Destroyable":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare"],function(l,s,p){return p("dijit.Destroyable",null,{destroy:function(l){this._destroyed=!0},own:function(){var p=["destroyRecursive","destroy","remove"];l.forEach(arguments,function(f){function k(){m.remove();l.forEach(h,function(e){e.remove()})}var n,m=s.before(this,"destroy",function(e){f[n](e)}),h=[];f.then?(n="cancel",f.then(k,k)):l.forEach(p,function(e){"function"===typeof f[e]&&(n||(n=e),h.push(s.after(f,e,k,!0)))})},this);return arguments}})})},"anaplan/snav/widgets/multiselect/Filters":function(){define("anaplan/data/ModelContentCache anaplan/snav/widgets/multiselect/FilteringSelect dijit/layout/_LayoutWidget dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/data/ItemFileReadStore dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n!anaplan/snav/nls/global dojo/on".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){return f([p],{filterPropertyEntityLongIds:[],multiSelectHierarchyEntityLongId:-1,postCreate:function(){this.inherited(arguments);m.add(this.domNode,"filters");q.forEach(this.filterPropertyEntityLongIds,k.hitch(this,function(a){a=new s({store:new n({data:{clearOnClose:!0,identifier:"identifier",label:"label",items:[]}}),autocomplete:!0,required:!1,searchAttr:"label",disabled:!0,placeHolder:this._getPlaceholder(a)});this.addChild(a);d(a,"Change",k.hitch(this,"_onChange"))}));
for(var a=0;a<this.getChildren().length-1;a++){var e=this.getChildren()[a];h.create("div",{className:"spacerDiv"},e.domNode,"after")}},layout:function(){var a=this._contentBox.w-2+"px";q.forEach(this.getChildren(),function(d){d&&e.set(d.domNode,{width:a})})},onChange:function(){},_getHierarchyInfo:function(a){var d=l.getHierarchyInfo(a);d||(d=l.getHierarchyInfoForHierarchySubsetEntityLongId(a));return d},_getPlaceholder:function(a){if(-1<q.indexOf(this.filterPropertyEntityLongIds,-1))return g.placeholderFilterBy+
" "+g.placeholderAncestor;var d=this._getHierarchyInfo(this.multiSelectHierarchyEntityLongId);if(!d)return g.placeholderFilterBy;var d=d.propertiesLabelPage,b=q.indexOf(d.entityLongIds,a);return-1==b?(console.warn(this.id+" expected to find property and did not",a),null):g.placeholderFilterBy+" "+d.labels[b]},_getValueAttr:function(){for(var a=[],d=this.getChildren(),b=0;b<d.length;b++)a.push({filterPropertyEntityLongId:this.filterPropertyEntityLongIds[b],value:d[b].get("value")});return a},_onChange:function(){this.onChange(this.get("value"))},
_setDisabledAttr:function(a){q.forEach(this.getChildren(),function(d){d&&d.set("disabled",a)})},_setItemsAttr:function(a){for(var d=0;d<a.length;d++){var b=this.getChildren()[d];b&&b.set("items",a[d])}}})})},"anaplan/dashboard/dashboardWidgets/_PageSelector":function(){define("anaplan/widgets/PageSelectorHelper anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/dashboard/dashboardWidgets/_ContainedWidgetMixin dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dojo/topic dojo/dom-geometry".split(" "),
function(l,s,p,q,f,k,n,m,h){return f("anaplan.dashboard.dashboardWidgets._PageSelector",[n,q],{constructor:function(e){this._model=e.model;this._initialized=!1},error:function(e){console.error(this.id+": error",e);return!1},onUpdate:function(){},postCreate:function(){try{this.inherited(arguments),this.own(m.subscribe("anaplan/"+this.id+"/suspend",k.hitch(this,"suspend")),m.subscribe("anaplan/"+this.id+"/resume",k.hitch(this,"resume")))}catch(e){throw new p.ClientException("anaplan.dashboard._PageSelector.postCreate",
e);}},reset:function(){try{this._model.reset()}catch(e){throw new p.ClientException("anaplan.dashboard._PageSelector.reset",e);}},resize:function(e){if(e){var f={};e.hasOwnProperty("h")&&(f.h=e.h);e.hasOwnProperty("w")&&(f.w=e.w);h.setMarginBox(this.domNode,f)}},resume:function(){try{this._model&&this._model.resume()}catch(e){throw new p.ClientException("anaplan.dashboard._PageSelector.resume",e);}},setGlobalContext:function(e,f){try{this._model.setPageSelectorEntityLongId(e.entityLongId,f)&&this._model.resetViewDefinitionSerialNumber()}catch(d){throw new p.ClientException("anaplan.dashboard._PageSelector.setGlobalContext",
d);}},startup:function(){this.inherited(arguments);this._model&&this._model.addObserver(this)},suspend:function(){try{this._model&&this._model.suspend()}catch(e){throw new p.ClientException("anaplan.dashboard._PageSelector.suspend",e);}},uninitialize:function(){this._model&&(this._model.deleteObserver(this),this._model.destroy(),this._model=null);this.inherited(arguments)},update:function(e){this.onUpdate(e);e=e[1];var f=this._model.getViewDefinition();if(e&&f&&(f=f.pageAxisSpecifications[0]))if(f=
s.getAllDimensionIdentifiersForAxisSpecification(f)[0])f=l.getPageSelectorIndex(e,f),-1!==f&&(e=e.currentPageLabels.labels[0][f],e!==this._currentPageLabel&&(this._currentPageLabel=e,this.onContentSizeChange()))},view:function(){return{x:[0,0],y:[0,0]}}})})},"anaplan/gridlet/_LinkMixin":function(){define(["dojo/_base/declare","anaplan/Exceptions"],function(l,s){return l("anaplan/gridlet/_LinkMixin",null,{LINK_OPEN_DELAY:350,LINK_SELECT_DELAY:350,MAILTO_WINDOW_CLOSE_DELAY:1E3,_openLink:function(l){var q=
this,f;try{this._linkOpenTimer=null,f=window.open(l),/^mailto:/i.test(l)&&setTimeout(function(){f&&q._canAccessPopup(f)&&!1===f.document.body.hasChildNodes()&&f.close()},this.MAILTO_WINDOW_CLOSE_DELAY)}catch(k){throw new s.ClientException("anaplan.gridlet._LinkMixin#_openLink",k);}},_canAccessPopup:function(l){var q=null;try{q=(l.document||l.window.document).body.innerHTML}catch(f){}return null!==q}})})},"anaplan/view/Export":function(){define("anaplan/anapediaKeys anaplan/utils/RedirectHelper anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/data/ItemFileReadStore dojo/data/ItemFileWriteStore dojo/dom-class dojo/dom-construct dojo/dom-style dojo/has dojo/json dojo/io/iframe dojo/keys dojo/on dojo/sniff dojo/store/Memory dojo/string dijit/_Contained dijit/_TemplatedMixin dijit/_WidgetBase dijit/ProgressBar dijit/registry anaplan/widgets/Button dijit/form/CheckBox dijit/form/RadioButton dijit/form/FilteringSelect dijit/form/TextBox dijit/layout/TabContainer dijit/layout/ContentPane anaplan/utils/viewDefinition anaplan/common/SelectiveAccess anaplan/data/ModelContentCache anaplan/constants anaplan/Exceptions anaplan/data/ModelContentHelper anaplan/data/ChangeFactory anaplan/data/LabelPageReadStore anaplan/data/RequestFactory anaplan/format/util anaplan/utils/EntityLongIdHelper anaplan/utils/SubmissionHandler anaplan/widgets/Dialog2 anaplan/widgets/TokenInput dojo/text!anaplan/templates/Export.html dojo/i18n!anaplan/nls/exportLabels dojo/i18n!anaplan/nls/exports dojo/i18n!dijit/nls/common anaplan/widgets/ConfirmationDialog".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F,K,J,M,I,O,P,N,Q,S,R,W,Y,T,ca,X,ba,$,ja,Z,aa,ga,ea){var qa=ca.entityLongIdToEntityLongIdIdentifier(N.SYSTEM_PROPERTY_NO_LABEL),ka=ca.entityLongIdToEntityLongIdIdentifier(N.SYSTEM_PROPERTY_LABEL),da=ca.entityLongIdToEntityLongIdIdentifier(N.SYSTEM_PROPERTY_ID),ha=ca.entityLongIdToEntityLongIdIdentifier(N.SYSTEM_PROPERTY_CODE);return n([E,D,ba.ContentMixin,A],{baseClass:"export",progressUpdateInterval:1500,tabIndex:-1,templateString:ja,
widgetsInTemplate:!0,idMapping:{},globalLibPath:window?window.globalLibPath:"lib",constructor:function(a){try{this._exportType=a.exportType||null,this._workspaceName=a.workspaceName||null,this._modelId=a.modelId||null,this._modelName=a.modelName||null,this._moduleId=a.moduleId||null,this._hierarchyId=a.hierarchyId||null,this._lineItemId=a.lineItemId||null,this._viewDefinition=a.viewDefinition||null,this._pageInfo=a.pageInfo||null,this._exportEntityLongId=a.exportEntityLongId||null,this._exportDefinition=
a.exportDefinition||null,this._action=a.action||null,this._helpLink=l.exports}catch(b){p.throwClientException(this,b)}},onAfterExport:function(){},onCancel:function(){},onSaveExportDefinition:function(){},onDialogShow:function(){try{if(this._helpLink)this.onHelpChange(this._helpLink);if(this.title)this.onTitleChange(this.title);this._listDimensionEntityLongIds&&this._addListDimensionColumnSelectors(Z);this._listFormattedCellPropertyEntityLongIds&&this._addListFormattedCellPropertySelectors(Z);this._tabContainer&&
this._tabContainer.startup();this.buttonExport.focus()}catch(a){p.throwClientException(this,a)}},getDynamicDomId:function(a){return this.idMapping[a]?this.idMapping[a]:null},onBeforeDialogHide:function(){try{var a=!0;this._taskId&&(this._cancelled=!0,a=!1);return a}catch(b){p.throwClientException(this,b)}},_createImageLabelRadio:function(d,e,f,g,k,l){var m=this,n=a.create("label",{id:d+"Label",className:k?"selected":"",style:l?"opacity:.5":""}),r=a.create("div",{className:"img-container"}),p=a.create("div",
{className:"description"}),s=a.create("span",{});n.appendChild(r);f=q.escapeHTML(q.unescapeHTML(f));switch(b("ie")){case 8:e=a.create("span",{style:'display:inline-block;width:123px;height:75px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"./'+e+'",sizingMethod\x3d"scale");',title:f});break;default:e=a.create("img",{src:e,alt:f})}r.appendChild(e);n.appendChild(p);g=new L({value:g,checked:k,onClick:function(){l||h.hitch(m,m._onLayoutChange())},onChange:function(){l||h.hitch(m,m._onLayoutChange())}});
this.idMapping[d]=g.get("id");a.place(g.domNode,p);n.setAttribute("for",this.idMapping[d]);s.innerHTML=f;p.appendChild(s);l&&g.set("disabled",!0);return n},getSharingIndex:function(){var a=C.byId("sharingSelectorId");return a?a.item.value:null},getLayoutFileType:function(){var a=C.byId("fileType");return a?a.get("value"):null},_getSelectedLayout:function(){for(var a=["radioLayoutGrid","radioLayoutTabularAllLineItems","radioLayoutTabularMultiColumn"],b,d=a.length;d--;)if(b=this.idMapping[a[d]],(b=
C.byId(b))&&b.get("checked"))return b.get("value");return null},_removeSelectedLayoutHighLight:function(){for(var a=["radioLayoutGridLabel","radioLayoutTabularAllLineItemsLabel","radioLayoutTabularMultiColumnLabel"],b=a.length,d="";b--;)d=a[b],document.getElementById(d).className=""},_addSelectedLayoutHighLight:function(a){var b={layoutGrid:"radioLayoutGridLabel",layoutTabularSingle:"radioLayoutTabularAllLineItemsLabel",layoutTabularMultiple:"radioLayoutTabularMultiColumnLabel"};if(a&&(a=b[a]))if(a=
document.getElementById(a))a.className="selected"},hide:function(a){return(a="string"===typeof a?document.getElementById(a):!a?null:a)?(a.style.display="none",!0):!1},show:function(a){return(a="string"===typeof a?document.getElementById(a):!a?null:a)?(a.style.display="block",!0):!1},_onLayoutChange:function(){var a=this._getSelectedLayout();document.getElementById("layoutFieldSet").className=["fieldset",a].join(" ");a&&(this._removeSelectedLayoutHighLight(),this._addSelectedLayoutHighLight(a),this._onChange())},
_addLineItemFilter:function(b,e,f,g,l,m,n,r){var p=this,q,s;s=new W({labelPage:f});s=this.filterStore(s,"BOOLEAN");this[l]=new F({searchAttr:"label",required:"false",store:s});q=this[l];e=e&&e.hasOwnProperty(g)?e[g]:-1;l=this._getModuleIndex(e);g=this._getLineItemsLabelPage(-1===l?-1:f.entityLongIds[0][l]);this[m]=new W({labelPage:g});this[n]=new F({searchAttr:"label",required:!1,store:this[m]});m=this[n];n=a.create("div");a.place(n,b.lastChild);d.add(n,"exportFilterSubSection");a.place(q.domNode,
n);a.place(m.domNode,n);-1<l&&(b=f.labels[0][l],q.set("displayedValue",b),b=k.indexOf(g.entityLongIds[0],e),-1<b?(b=g.labels[0][b],m.set("displayedValue",b)):console.warn(this.id+" TODO: expected to find line item but did not "+e));m.set("disabled",-1===e);q.set("disabled",-1===e);this.own(z(q,"Change",h.hitch(this,function(){if(p._radioFilterRowsBasedOnBooleanLineItem.get("checked")){var a=q.get("value");r.call(p,a)}})))},_addLineItemFilters:function(a,b){var d=P.getModulesLabelPage();this._addLineItemFilter(a,
b,d,"filter0LineItemEntityLongId","_filter0ModulesSelect","_filter0LineItemsSelectStore","_filter0LineItemsSelect",this._refreshFilter0LineItemsSelectStore);this._addLineItemFilter(a,b,d,"filter1LineItemEntityLongId","_filter1ModulesSelect","_filter1LineItemsSelectStore","_filter1LineItemsSelect",this._refreshFilter1LineItemsSelectStore)},_addSelectiveAccessOptions:function(b,d){this._isUserExport&&(a.create("h2",{innerHTML:d.labelAccessSettings},b),this._radioAccessSingleCell=this._appendRadioButton("radioAccessSingleCell",
"accessSetting",document.createTextNode(d.labelSingleCell),b),this._radioAccessMultipleRows=this._appendRadioButton("radioAccessMultipleRows","accessSetting",document.createTextNode(d.labelMultipleRows),b),this._exportDefinition&&"SPLIT"===this._exportDefinition.aggregateDisplay?this._radioAccessMultipleRows.set("checked",!0):this._radioAccessSingleCell.set("checked",!0))},_createLayoutTab:function(b,d,e,f){var g,k,l=new w({data:[{name:e.labelFileTypeExcel,id:"XLS"},{name:e.labelFileTypeExcelNoFormatting,
id:"XLS-plain"},{name:e.labelFileTypeCSV,id:"CSV"},{name:e.labelFileTypeText,id:"TXT"},{name:e.labelFileTypePDF,id:"PDF"},{name:e.labelFileTypeCsvExcel,id:"CSV-excel"}]});d=new M({title:e.labelTabLayout});g=a.create("div",{id:"layoutFieldSet",className:["fieldset",f.exportLayout].join(" ")},d.domNode);this._exportLayoutErrorContainer=a.create("div",{id:"layout-error-container",className:"error-container"},g);this._exportLayoutErrors=a.create("div",{id:"layout-errors",className:"error-container-inner"},
this._exportLayoutErrorContainer);a.create("h2",{className:"placeholder-class"},g).innerHTML=e.labelHeadingExportFormat;a.create("label",{"for":"file-type-combo-box",style:"display:block"},g).innerHTML=e.labelFileType;k=a.create("div",{id:"fileType"},g);this._fileTypeFilteringSelect=(new F({value:f.fileType,store:l,searchAttr:"name",onChange:h.hitch(b,function(){b._onChange()})},k)).startup();this._moduleId&&(a.create("h2",{className:"placeholder-class",innerHTML:e.labelTabLayout},g),k=a.create("div",
{className:"export-layout-container"},g),this._radioLayoutTypeGrid=this._createImageLabelRadio("radioLayoutGrid",this.globalLibPath+"/dormouse/images/export-dialog-label-grid.png",e.labelGrid,"layoutGrid","layoutGrid"===f.exportLayout,f.editMode),this._radioLayoutTypeTabularSingle=this._createImageLabelRadio("radioLayoutTabularAllLineItems",this.globalLibPath+"/dormouse/images/export-dialog-label-tabular-single.png",e.labelTabularSingleColumn,"layoutTabularSingle","layoutTabularSingle"===f.exportLayout,
f.editMode),this._radioLayoutTypeTabularMultiple=this._createImageLabelRadio("radioLayoutTabularMultiColumn",this.globalLibPath+"/dormouse/images/export-dialog-label-tabular-multiple.png",e.labelTabularMultipleColumn,"layoutTabularMultiple","layoutTabularMultiple"===f.exportLayout,f.editMode),k.appendChild(this._radioLayoutTypeGrid),k.appendChild(this._radioLayoutTypeTabularSingle),k.appendChild(this._radioLayoutTypeTabularMultiple),k=a.create("h2",{className:"placeholder-class"},g),k.innerHTML=e.labelHeadingIncludeExclude,
this._layoutPageOptionsContainer=a.create("div",{id:"layoutPageOptionsContainer",className:"layout-options"},g),this._radioLayoutGridCurrentPage=this._appendRadioButton("radioLayoutGridCurrentPage","fileTypeGrid",document.createTextNode(e.labelCurrentPage),this._layoutPageOptionsContainer),this._radioLayoutGridAllPages=this._appendRadioButton("radioLayoutGridAllPages","fileTypeGrid",document.createTextNode(e.labelAllPages),this._layoutPageOptionsContainer),this._layoutLineItemsOptionsContainer=a.create("div",
{id:"layoutLineItemsOptionsContainer",className:"layout-options"},g),this._radioLayoutCurrentLineItem=this._appendRadioButton("radioLayoutCurrentLineItem","fileTypeTabular",document.createTextNode(e.labelCurrentLineItem),this._layoutLineItemsOptionsContainer),this._radioLayoutAllLineItems=this._appendRadioButton("radioLayoutAllLineItems","fileTypeTabular",document.createTextNode(e.labelAllLineItems),this._layoutLineItemsOptionsContainer),f.editMode?(this._radioLayoutGridCurrentPage.set("disabled",
!0),this._radioLayoutGridAllPages.set("disabled",!0),this._radioLayoutCurrentLineItem.set("disabled",!0),this._radioLayoutAllLineItems.set("disabled",!0)):this.own(z(this._radioLayoutGridCurrentPage,"Click",h.hitch(this,"_onChange")),z(this._radioLayoutGridAllPages,"Click",h.hitch(this,"_onChange"))),this._checkBoxOmitSummaries=this._appendCheckBox("checkBoxOmitSummaries","omitSummaries",document.createTextNode(e.labelOmitSummaryItems),g),this._checkBoxOmitSummaries.set("checked",f.omitSummaries),
this._radioIncludeEmptyRows=this._appendRadioButton("radioIncludeEmptyRows","rowFilter",document.createTextNode(e.labelIncludeEmptyRows),g),this.own(z(this._radioIncludeEmptyRows,"Change",h.hitch(this,"_enableDisableLineItemName"))),this._radioOmitEmptyRows=this._appendRadioButton("radioOmitEmptyRows","rowFilter",document.createTextNode(e.labelOmitEmptyRows),g),this.own(z(this._radioOmitEmptyRows,"Change",h.hitch(this,"_enableDisableLineItemName"))),this._layoutFilterRowsOptionsContainer=a.create("div",
{id:"layoutFilterRowsOptionsContainer",className:"layout-options"},g),this._radioFilterRowsBasedOnBooleanLineItem=this._appendRadioButton("radioLayoutFilterRows","rowFilter",document.createTextNode(e.labelFilterRowsBasedUponBooleanLineItem),this._layoutFilterRowsOptionsContainer),this.own(z(this._radioFilterRowsBasedOnBooleanLineItem,"Change",h.hitch(this,"_enableDisableLineItemName"))),this._addLineItemFilters(this._layoutFilterRowsOptionsContainer,this._exportDefinition));this._hierarchyId&&(this._entityId=
this._hierarchyId,this._isUserExport=this._isUsersExport());this._addSelectiveAccessOptions(g,e);return d},_createLabelsTab:function(b,d,e){b=new M({title:e.labelTabLabels});d=a.create("div",{className:"fieldset"},b.domNode);this._exportLabelsErrorContainer=a.create("div",{id:"labels-error-container",className:"error-container"},d);this._exportLabelErrors=a.create("div",{id:"label-errors",className:"error-container-inner"},this._exportLabelsErrorContainer);a.create("h2",{className:"placeholder-class",
innerHTML:e.labelTabLabels},d);this._checkBoxIncludeRowLabelHeaders=this._appendCheckBox("checkBoxIncludeRowLabelHeaders","includeRowLabelHeaders",document.createTextNode(e.labelIncludeRowLabelHeaders),d);this._moduleId&&(d=a.create("div",{className:"export-filters-container"},d),a.create("p",{className:"placeholder-class",innerHTML:e.labelChooseWhetherToExportNamesCodesAndOrProperties},d),this._addListDimensionColumnSelectorPlaceholders(d));return b},_createLineItemsTab:function(b,d,e,f){d=new M({title:e.labelTabLineItems});
b=a.create("div",{className:"fieldset"},d.domNode);this._exportLineItemsErrorContainer=a.create("div",{id:"line-items-error-container",className:"error-container"},b);this._exportLabelErrors=a.create("div",{id:"line-items-errors",className:"error-container-inner"},this._exportLineItemsErrorContainer);a.create("h2",{className:"placeholder-class"},b).innerHTML=e.labelTabLineItems;this._addListFormattedCellPropertySelectorPlaceholders(b,e,f);return d},moduleHasLineItemsOfDataType:function(a,b){for(var d=
P.getModuleInfo(a),e=d.lineItemInfos,d=d.lineItemsLabelPage.count,f;d--;)if(f=e[d],f.format&&f.format.dataType===b)return!0;return!1},_createTabs:function(a,b,d,e){this._listFormattedCellPropertyEntityLongIds=this._getLineItemEntityFormattedHierarchies();this._tabContainer=new J({style:"height: 100%; width: 100%;"+(e?"display:none;":"")},"export-tabs");this.layoutTab=this._createLayoutTab(a,this._tabContainer,b,d);this._tabContainer.addChild(this.layoutTab);this.labelsTab=this._createLabelsTab(a,
this._tabContainer,b);this._tabContainer.addChild(this.labelsTab);this._listFormattedCellPropertyEntityLongIds&&this._listFormattedCellPropertyEntityLongIds.length&&(this.lineItemsTab=this._createLineItemsTab(a,this._tabContainer,b,this._listFormattedCellPropertyEntityLongIds),this._tabContainer.addChild(this.lineItemsTab))},createConfig:function(a){var b={fileType:"XLS",exportLayout:"layoutGrid",exportLayoutGridCurrentPage:!0,exportLayoutGridAllPages:!1,exportLayoutTabularAllLineItems:!0,exportLayoutCurrentLineItem:!1,
includeRowLabelHeaders:!1,omitEmptyRows:!0,omitSummaries:!1},d={};if(a){switch(a.exportFileType){case "PDF":case "TXT":d.fileType=a.exportFileType;break;case "CSV":d.fileType="undefined"===typeof a.withBOM?"CSV":a.withBOM?"CSV-excel":"CSV";break;default:d.fileType="undefined"===typeof a.formattingEnabled?"XLS":a.formattingEnabled?"XLS":"XLS-plain"}switch(a.exportLayout){case "GRID_CURRENT_PAGE":d.exportLayout="layoutGrid";d.exportLayoutGridCurrentPage=!0;d.exportLayoutGridAllPages=!1;break;case "GRID_ALL_PAGES":d.exportLayout=
"layoutGrid";d.exportLayoutGridCurrentPage=!1;d.exportLayoutGridAllPages=!0;break;case "TABULAR_MULTI_COLUMN":d.exportLayout="layoutTabularMultiple";break;case "TABULAR_ALL_LINE_ITEMS":d.exportLayout="layoutTabularSingle";d.exportLayoutTabularAllLineItems=!0;d.exportLayoutCurrentLineItem=!1;break;case "TABULAR_CURRENT_LINE_ITEM":d.exportLayout="layoutTabularSingle",d.exportLayoutTabularAllLineItems=!1,d.exportLayoutCurrentLineItem=!0}d.includeRowLabelHeaders="undefined"!==typeof a.includeRowLabelHeaders?
a.includeRowLabelHeaders:!1;d.omitEmptyRows="undefined"!==typeof a.omitEmptyRows?a.omitEmptyRows:!0;d.omitSummaries="undefined"!==typeof a.omitSummaries?a.omitSummaries:!1}else d=b;d.action=this._action||null;d.editMode="EDIT"===d.action;return d},enforceConfig:function(a){this._radioLayoutGridAllPages&&this._radioLayoutGridAllPages.set("checked",a.exportLayoutGridAllPages);this._radioLayoutGridCurrentPage&&this._radioLayoutGridCurrentPage.set("checked",a.exportLayoutGridCurrentPage);this._radioLayoutAllLineItems&&
this._radioLayoutAllLineItems.set("checked",a.exportLayoutTabularAllLineItems);this._radioLayoutCurrentLineItem&&this._radioLayoutCurrentLineItem.set("checked",a.exportLayoutCurrentLineItem);this._checkBoxOmitSummaries&&this._checkBoxOmitSummaries.set("checked",a.omitSummaries);this._radioOmitEmptyRows&&(this._radioOmitEmptyRows.set("checked",a.omitEmptyRows),this._radioOmitEmptyRows.set("disabled",!a.editMode&&null!==a.action));if(this._moduleId){var b=-1<this._getFilter0LineItemEntityLongId()||
-1<this._getFilter1LineItemEntityLongId();this._exportDefinition?(!a.omitEmptyRows&&(!b&&this._radioIncludeEmptyRows)&&(this._radioIncludeEmptyRows.set("checked",!0),this._radioIncludeEmptyRows.set("disabled",!a.editMode)),b&&this._radioFilterRowsBasedOnBooleanLineItem.set("checked",!0),this._radioFilterRowsBasedOnBooleanLineItem.set("disabled",!a.editMode)):this._radioFilterRowsBasedOnBooleanLineItem.get("checked",!1)}this._checkBoxIncludeRowLabelHeaders&&(this._checkBoxIncludeRowLabelHeaders.set("checked",
a.includeRowLabelHeaders),this._checkBoxIncludeRowLabelHeaders.set("disabled",!a.editMode&&null!==a.action||this._isTabularExportLayout()));this._onLayoutChange();this._onChange()},filterStore:function(a,b){for(var d=a._jsonData.length,e;d--;)e=a._jsonData[d].entityLongId,this.moduleHasLineItemsOfDataType(e,b)||(delete a._itemsByIdentity[a._jsonData[d].entityLongId],a._jsonData.splice(d,1));return a},canSaveExport:function(){return this._modelId&&!this._exportDefinition&&"ModelImplementationExporter"!==
this._exportType&&O.canCreate(N.EXPORT_ENTITY_TYPE_INDEX)},startup:function(){try{this.inherited(arguments);var b=this,e,f,g,k=[],l,m,n,r,s,t;this._exportDefinition&&this._resolveExportDefinition();e=this.createConfig(this._exportDefinition);(f="ModelImplementationExporter"===this._exportType||"RUN"===e.action)&&this.hide("export-tabs-container");"ModelImplementationExporter"!==this._exportType&&this._createTabs(b,Z,e,f);if(this._workspaceName||this._modelName)g=a.create("div",{className:"exportSection"},
this.domNode),k.push("\x3ctable\x3e\x3ctbody\x3e"),this._workspaceName&&(k.push('\x3ctr\x3e\x3ctd class\x3d"exportTableRowHeading"\x3e'),k.push(Z.labelWorkspace+":"),k.push("\x3c/td\x3e\x3ctd\x3e"),k.push(q.escapeHTML(q.unescapeHTML(this._workspaceName))),k.push("\x3c/td\x3e")),this._modelName&&(k.push('\x3ctr\x3e\x3ctd class\x3d"exportTableRowHeading"\x3e'),k.push(Z.labelModel+":"),k.push("\x3c/td\x3e\x3ctd\x3e"),k.push(q.escapeHTML(q.unescapeHTML(this._modelName))),k.push("\x3c/td\x3e")),k.push("\x3c/tbody\x3e\x3c/table\x3e"),
g.innerHTML=k.join("");l=a.create("div",{"class":["dialog-footer",f?" locked-ui":""].join("")},this.domNode);m=a.create("div",{id:"save-controls",style:f?"visibility: hidden; width: 89%":""},l);n=a.create("div",{"class":"buttons"},l);r=new G({label:aa.buttonRunExportFull,"class":"primary-button"});s=new G({label:ga.buttonCancel});this.own(z(r,"click",function(a){b._confirmDoExport()}),z(s,"click",function(a){if(b._taskId)b._cancelled=!0;else b.onCancel()}));this.buttonExport=r;this.buttonCancel=s;
n.appendChild(r.domNode);e.editMode&&(t=new G({label:ga.buttonOk}),this.own(z(t,"Click",h.hitch(this,"_saveExportDefinition"))),n.appendChild(t.domNode));n.appendChild(s.domNode);this._lineItemId&&(this._entityId=this._lineItemId);this.canSaveExport()?(this._checkBoxSave=this._appendCheckBox("checkBoxSaveExport","save",document.createTextNode(Z.labelSave),m),this.own(z(this._checkBoxSave,"Click",h.hitch(this,"_showOrHideExportSaveOptions"))),this._divExportSaveOptions=a.create("div",{className:"export-save",
style:"visibility:hidden"},this._checkBoxSave.domNode.parentNode),this._divExportName=a.create("div",{className:"row"},this._divExportSaveOptions,"first"),this._textExportName=new K({maxlength:"60",size:"50",name:"exportId"}),this.idMapping.textExportId=this._textExportName.get("id"),a.create("label",{"for":this.idMapping.textExportId,className:"rowLabel",innerHTML:Z.labelName+": "},this._divExportName,"first"),a.place(this._textExportName.domNode,this._divExportName,"last"),this._addShareOption(this._divExportSaveOptions),
this._onChange()):this._addShareOption(m)||d.add(l,"locked-ui");"ModelImplementationExporter"!==this._exportType&&this.enforceConfig(e);"RUN"===e.action&&(r.domNode.style.display="none",this._confirmDoExport(this._exportEntityLongId))}catch(u){p.showErrorReporter(new Q.ClientException("anaplan.view.Export: startup",u,{widgetId:this.id}))}},_addShareOption:function(b){if(O.isAuthorized(N.userActions.CAN_SHARE_FILES)){var d=new w({idProperty:"value",data:[{value:0,label:Z.labelAvailableToMe},{value:1,
label:Z.labelAvailableToOtherAdmins},{value:2,label:Z.labelAvailableToGeneral}]});this._shareSetting=new F({id:"sharingSelectorId",store:d,searchAttr:"label",value:0,required:!0});this._divShareOption=a.create("div",{className:"row",id:"shareOption"},b,"last");a.create("label",{"for":this._shareSetting,className:"rowLabel",innerHTML:Z.labelAvailableTo+": "},this._divShareOption,"first");this._divShareOption.appendChild(this._shareSetting.domNode,"last");return!0}return!1},uninitialize:function(){try{var a,
b;this._progressBar&&this._progressBar.destroyRecursive();if(this._listDimensionColumnSelectors)for(a in this._listDimensionColumnSelectors)this._listDimensionColumnSelectors.hasOwnProperty(a)&&(b=this._listDimensionColumnSelectors[a])&&b.destroy();if(this._listFormattedCellPropertySelectors)for(a in this._listFormattedCellPropertySelectors)this._listFormattedCellPropertySelectors.hasOwnProperty(a)&&(b=this._listFormattedCellPropertySelectors[a])&&b.destroy();this.inherited(arguments);this._confirmationDialog&&
this._confirmationDialog.destroy()}catch(d){p.throwClientException(this,d)}},_addListDimensionColumnSelectorPlaceholders:function(b){try{var e=this;this._listDimensionColumnSelectorPlaceholders={};var f=P.getHierarchiesLabelPage(),g=P.getModulesLabelPage(),h=k.indexOf(g.labels[0],this._moduleId);if(-1!==h){var l=P.getModuleInfo(g.entityLongIds[0][h]),m=function(a){return k.some(l.lineItemInfos,function(b){return 0<=k.indexOf(b.appliesTo||l.appliesTo||[],a)})};this._listDimensionEntityLongIds=[];k.forEach(f.entityLongIds[0],
function(a){m(a)&&e._listDimensionEntityLongIds.push(a);var b=P.getHierarchyInfo(a);k.forEach(b.subsetEntityLongIds,function(b){m(b)&&e._listDimensionEntityLongIds.push(a)})});k.forEach(this._listDimensionEntityLongIds,function(f){var g=a.create("div");b.appendChild(g);d.add(g,"export-filter");var h=S.getHierarchyEntityId(P,f);a.create("label",{innerHTML:q.escapeHTML(q.unescapeHTML(h))},g);h=a.create("div");g.appendChild(h);e._listDimensionColumnSelectorPlaceholders[f]=h})}}catch(n){p.throwClientException(this,
n)}},_addListFormattedCellPropertySelectorPlaceholders:function(b,d,e){try{var f=this;this._listFormattedCellPropertySelectorPlaceholders={};k.forEach(e,function(d){if("undefined"===typeof f._listFormattedCellPropertySelectorPlaceholders[d]){var e=a.create("div"),g=a.create("label"),h=S.getHierarchyEntityId(P,d),k=a.create("div");g.innerHTML=q.escapeHTML(q.unescapeHTML(h));e.appendChild(g);e.appendChild(k);b.appendChild(e);f._listFormattedCellPropertySelectorPlaceholders[d]=k}})}catch(g){p.throwClientException(this,
g)}},_addListFormattedCellPropertySelectors:function(b){try{var d=this;this._listFormattedCellPropertySelectors={};k.forEach(this._listFormattedCellPropertyEntityLongIds,function(f){if("undefined"===typeof d._listFormattedCellPropertySelectors[f]){var g=[],h=P.getHierarchyInfo(f);h&&h.isNumberedList?(g.push({identifier:ka,label:b.labelHierarchyDisplayName,children:[]}),g.push({identifier:da,label:b.labelHierarchyID,children:[]})):g.push({identifier:ka,label:b.labelHierarchyName,children:[]});f!==
anaplan.constants.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID&&g.push({identifier:ha,label:b.labelHierarchyCode,children:[]});h=new e({data:{identifier:"identifier",label:"label",items:g}});g=d._exportDefinition&&d._exportDefinition.listFormattedCellPropertySelection&&d._exportDefinition.listFormattedCellPropertySelection[ca.entityLongIdToEntityLongIdIdentifier(f)]||g[0].identifier;g=new F({store:h,searchAttr:"label",value:g,required:!1});a.place(g.domNode,d._listFormattedCellPropertySelectorPlaceholders[f]);
g.startup();d._listFormattedCellPropertySelectors[f]=g}})}catch(f){p.throwClientException(this,f)}},_getLineItemEntityFormattedHierarchies:function(){var a=P.getModulesLabelPage(),b=k.indexOf(a.labels[0],this._moduleId);if(-1!==b){for(var b=P.getModuleInfo(a.entityLongIds[0][b]),a=b.lineItemInfos,b=b.lineItemsLabelPage,d=[],e=0;e<b.count;e++){var f=a[e];f.format&&"ENTITY"===f.format.dataType&&d.push(f.format.hierarchyEntityLongId)}return d}},_addListDimensionColumnSelectors:function(b){try{var d=
this;this._listDimensionColumnSelectors={};k.forEach(this._listDimensionEntityLongIds,function(e){var f=[],h=P.getHierarchyInfo(e),k,l;h&&h.isNumberedList&&-1!==h.displayNamePropertyEntityIndex?(f.push({identifier:ka,label:b.labelHierarchyDisplayName,children:[]}),f.push({identifier:da,label:b.labelHierarchyID,children:[]})):f.push({identifier:ka,label:b.labelHierarchyName,children:[]});e!==anaplan.constants.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID&&f.push({identifier:ha,label:b.labelHierarchyCode,
children:[]});h=h.propertiesLabelPage;for(k=0;k<h.entityLongIds.length;k++)l=h.entityLongIds[k],f.push({identifier:ca.entityLongIdToEntityLongIdIdentifier(l),label:h.labels[k],children:[]});h=new g({data:{identifier:"identifier",label:"label",items:f}});f=d._getInitialValueForList(e,f[0].identifier);f=new $({store:h,searchAttr:"label",pageSize:50,value:f,placeHolder:Z.selectItemsLabel});a.place(f.domNode,d._listDimensionColumnSelectorPlaceholders[e]);f.startup();d._listDimensionColumnSelectors[e]=
f})}catch(e){p.throwClientException(this,e)}},_getExportDefinitionItems:function(a){return h.exists("listDimensionColumnSelection",this._exportDefinition)?this._exportDefinition.listDimensionColumnSelection[a]:null},_getInitialValueForList:function(a,b){var d=ca.entityLongIdToEntityLongIdIdentifier(a),d=this._getExportDefinitionItems(d);return!d||0===d.length?[ka]:1===d.length&&d[0]===qa?[]:d||[b]},_appendRadioButton:function(b,d,e,f){f=a.create("div",{className:"exportSubSection"},f);d=new L({name:d});
this.idMapping[b]=d.get("id");a.place(d.domNode,f);b=a.create("label",{"for":this.idMapping[b],className:"dijitInline"},f);a.place(e,b);return d},_appendCheckBox:function(b,d,e,f){f=a.create("div",{className:"exportSubSection"},f);d=new H({name:d});this.idMapping[b]=d.get("id");a.place(d.domNode,f);b=a.create("label",{"for":this.idMapping[b],className:"dijitInline"},f);a.place(e,b);return d},_enableDisableLineItemName:function(){var a=this._radioFilterRowsBasedOnBooleanLineItem.get("checked");a&&
this._radioOmitEmptyRows.get("checked")&&this._radioOmitEmptyRows.set("checked",!1);this._filter0ModulesSelect.set("disabled",!a);this._filter0LineItemsSelect.set("disabled",!a);this._filter1ModulesSelect.set("disabled",!a);this._filter1LineItemsSelect.set("disabled",!a);a&&this._moduleId&&!1===this._filter0ModulesSelect.get("value")?(a=this._filter0ModulesSelect.store&&this._filter0ModulesSelect.store._jsonData&&this._filter0ModulesSelect.store._jsonData.length?this._filter0ModulesSelect.store._jsonData[0].entityId:
this._moduleId,this._filter0ModulesSelect.set("displayedValue",a),this._refreshFilter0LineItemsSelectStore(this._filter0ModulesSelect.get("value"))):!1===a&&(this._filter0ModulesSelect.reset(),this._filter0LineItemsSelect.reset(),this._filter1ModulesSelect.reset(),this._filter1LineItemsSelect.reset())},_getLineItemsLabelPage:function(a){if(!a||-1===a)return{count:0};var b=[],d=[],e=[],f=P.getModuleInfo(a);a=f.lineItemInfos;for(var f=f.lineItemsLabelPage,g=0;g<f.count;g++){var h=a[g];h.format&&"BOOLEAN"===
h.format.dataType&&(b.push(f.entityLongIds[0][g]),d.push(f.labels[0][g]),e.push(f.parentEntityLongIds[0][g]))}return{count:b.length,entityLongIds:[b],labels:[d],parentEntityLongIds:[e]}},_getListDimensionColumnSelection:function(){try{var a={},b,d;for(b in this._listDimensionColumnSelectors)if(this._listDimensionColumnSelectors.hasOwnProperty(b)){d=this._listDimensionColumnSelectors[b];var e=d.get("value");if(!e||0===e.length)e=[qa];a[ca.entityLongIdToEntityLongIdIdentifier(b)]=e}return a}catch(f){p.throwClientException(this,
f)}},_getListFormattedCellPropertySelection:function(){try{var a={},b,d;for(b in this._listFormattedCellPropertySelectors)this._listFormattedCellPropertySelectors.hasOwnProperty(b)&&(d=this._listFormattedCellPropertySelectors[b],a[ca.entityLongIdToEntityLongIdIdentifier(b)]=d.get("value"));return a}catch(e){p.throwClientException(this,e)}},_getModuleIndex:function(a){if(!a||-1===a)return-1;for(var b=P.getModulesLabelPage(),d=P.getModuleInfos(),e=0;e<b.count;e++)if(-1<k.indexOf(d[e].lineItemsLabelPage.entityLongIds[0],
a))return e;return-1},_isUsersExport:function(){var a,b;if(this._exportDefinition){b=this._exportDefinition.viewDefinition;if(!b)return!1;a=S.axisSpecificationContainsUserProperty(b.columnAxisSpecification);b=S.axisSpecificationContainsUser(b.rowAxisSpecification)}else{if(!this.viewDefinition)return!1;a=this.viewDefinition.columns===N.SYSTEM_AXIS_IDENTIFIER_USER_PROPERTY_IDENTIFIER;b=this.viewDefinition.rows===N.SYSTEM_AXIS_IDENTIFIER_USER_IDENTIFIER}return a&&b},_monitorProgress:function(b,d){var e=
this;if(!this._progressBar){var f=a.create("div");this.domNode.appendChild(f);this._progressBar=new B({id:"progressBar"},f)}setTimeout(function(){e._sendProgressRequest(b,d)},e.progressUpdateInterval)},_onShow:function(){this.onDialogShow()},_refreshFilterLineItemsSelectStore:function(a,b,d,e){a&&(a=this._getLineItemsLabelPage(a),b.close(),b._jsonData=b._convertLabelPageToStoreFormat(a),b.fetch(),b=this._exportDefinition&&this._exportDefinition.hasOwnProperty(d)?this._exportDefinition[d]:-1,-1<k.indexOf(a.entityLongIds[0],
b)?e.set("value",b):this._lineItemId&&-1<k.indexOf(a.labels[0],this._lineItemId)?e.set("displayedValue",this._lineItemId):a.count?e.set("displayedValue",a.labels[0][0]):e.set("displayedValue",""))},_refreshFilter0LineItemsSelectStore:function(a){this._refreshFilterLineItemsSelectStore(a,this._filter0LineItemsSelectStore,"filter0LineItemEntityLongId",this._filter0LineItemsSelect)},_refreshFilter1LineItemsSelectStore:function(a){this._refreshFilterLineItemsSelectStore(a,this._filter1LineItemsSelectStore,
"filter1LineItemEntityLongId",this._filter1LineItemsSelect)},_sendProgressRequest:function(a,b){var d=this,e={workspaceId:workspaceId,modelId:this._modelId,taskId:a,requestType:"PROGRESS"},g;this._cancelled&&(e.cancel=!0);f.post(e,!1,function(e){if(e.error)d.buttonExport.set("disabled",!1),delete d._taskId;else if("COMPLETE"===e.taskState||"CANCELLED"===e.taskState)"CANCELLED"===e.taskState?(g=Z.msgCancelled,e.cancelledBy&&(g=x.substitute(Z.msgCancelledBy,{cancellingUser:e.cancelledBy})),p.showInfoDialog(q.cleanEscapeHTML(g),
{title:Z.msgExportCancelled})):e.taskResult&&!e.taskResult.successful?(g=(g=Z[e.taskResult.messageKey])?g+"\n"+e.taskResult.localMessageText:e.taskResult.localMessageText,p.showInfoDialog(q.cleanEscapeHTML(g),{title:Z.msgExportFailed})):(g=e.taskResult.localMessageText)&&p.showInfoDialog(q.cleanEscapeHTML(g),{title:Z.msgExportWarning}),delete d._taskId,b&&f.gather(),d.onAfterExport();else{try{"IN_PROGRESS"===e.taskState||"NOT_STARTED"===e.taskState||"CANCELLING"===e.taskState?(d._progressBar.report=
function(a){a=T.applyFormat(a,{unitsType:"PERCENTAGE",decimalSeparator:"FULL_STOP",groupingSeparator:"NONE",minimumSignificantDigits:4});return e.currentStep?e.currentStep+" "+a:a},d._progressBar.update({progress:e.progress?100*e.progress:0})):console.warn("Export.js unexpected task state "+e.taskState+" continuing to request status for taskId "+a)}catch(h){console.warn(h)}setTimeout(function(){d._sendProgressRequest(a,b)},d.progressUpdateInterval)}},function(){d.buttonExport.set("disabled",!1);delete d._taskId})},
_confirmDoExport:function(a){var b=!1;"EDIT"===this._action?b=!0:this._checkBoxSave&&this._checkBoxSave.get("checked")&&this._textExportName.get("value")&&(b=!0);if(b&&this._shareSetting&&0!==this.getSharingIndex()){var d=this,b=d._getConfirmationDialog();2===d.getSharingIndex()?(b.set("title",Z.confirmAvailableAllTitle),b.set("content",Z.confirmAvailableAll)):(b.set("title",Z.confirmAvailableAdminTitle),b.set("content",Z.confirmAvailableAdmins));var e=z(b,"execute",h.hitch(this,function(){d._doExport(a)}));
d.own(e);d._confirmationHandles.push(e);b.show()}else this._doExport(a)},_doExport:function(b){this.buttonExport.set("disabled",!0);try{var d=this,e=a.create("form"),g,k;e.id="formPostExport";e.action="servlet";e.method="post";e.encoding="multipart/form-data";this.domNode.appendChild(e);f.post({workspaceId:workspaceId,requestType:"PROGRESS",modelId:d._modelId},!1,function(a){if(a.redirectUrl)s.handleRedirect(a);else if(a.error)console.warn(a.error),d.buttonExport.set("disabled",!1),d.buttonOk&&d.buttonOk.set("disabled",
!1);else if(a.taskId){a=a.taskId;d._taskId=a;var f={context:t.stringify({workspaceId:workspaceId,modelId:d._modelId,modelName:d._modelName}),taskId:a};if(b)h.mixin(f,{exportEntityLongId:b},d._getSharingOption());else{var l=d._getExportLayout(),m=d._getFileType(),n=d._getFormattingEnabled(),r=d._getOmitSummaries(),p=d._getOmitEmptyRows(),q=d._getWithBOM();h.mixin(f,{entityId:d._entityId,moduleId:d._moduleId,exportLayout:l,fileType:m,formattingEnabled:n,omitSummaries:r,omitEmptyRows:p,withBOM:q,filter0LineItemEntityLongId:d._getOmitRowsBasedOnLineItem()?
d._getFilter0LineItemEntityLongId():-1,filter1LineItemEntityLongId:d._getOmitRowsBasedOnLineItem()?d._getFilter1LineItemEntityLongId():-1,listDimensionColumnSelection:t.stringify(d._getListDimensionColumnSelection()),listFormattedCellPropertySelection:t.stringify(d._getListFormattedCellPropertySelection())},d._getIncludeRowLabelHeaders(),d._getAggregateDisplay(),d._getSharingOption());g=d._viewDefinition||h.getObject("_exportDefinition.viewDefinition",!1,d);k=d._pageInfo;g&&(g=h.clone(g),I.prepareForExport(g,
k),h.mixin(f,{viewDefinition:t.stringify(g)}));d._checkBoxSave&&d._checkBoxSave.get("checked")&&(f.exportId=d._textExportName.get("value"),f.exportId&&(f.save="true"))}u.send({url:"servlet?taskType\x3dexport",content:f,form:e,timeout:50,preventCache:!0});f=d._checkBoxSave&&d._checkBoxSave.get("checked");d._monitorProgress(a,f)}else alert("no task id")},function(){d.buttonExport.set("disabled",!1);d.buttonOk&&d.buttonOk.set("disabled",!1)})}catch(l){p.throwClientException(this,l)}},_getSharingOption:function(){return this._shareSetting?
{sharingOption:this.getSharingIndex(),entityLongIdOfShare:this._exportEntityLongId}:{}},_getAggregateDisplay:function(){try{var a;this._radioAccessMultipleRows&&this._radioAccessMultipleRows.checked&&(a="SPLIT");if(a)return{aggregateDisplay:a}}catch(b){p.throwClientException(this,b)}return{}},_getExportLayout:function(){var a=this._getSelectedLayout(),b=null;try{"layoutGrid"===a&&this._radioLayoutGridCurrentPage&&this._radioLayoutGridCurrentPage.get("checked")?b="GRID_CURRENT_PAGE":"layoutGrid"===
a&&this._radioLayoutGridAllPages&&this._radioLayoutGridAllPages.get("checked")?b="GRID_ALL_PAGES":"layoutTabularMultiple"===a?b="TABULAR_MULTI_COLUMN":"layoutTabularSingle"===a&&this._radioLayoutCurrentLineItem&&this._radioLayoutCurrentLineItem.get("checked")?b="TABULAR_CURRENT_LINE_ITEM":("layoutTabularSingle"===a||"layoutTabularMultiple"===a)&&this._radioLayoutAllLineItems&&this._radioLayoutAllLineItems.get("checked")?b="TABULAR_ALL_LINE_ITEMS":this._hierarchyId?b="GRID_CURRENT_PAGE":this._modelId&&
(b="MODEL_IMPLEMENTATION")}catch(d){p.throwClientException(this,d)}return b},_getFileType:function(){var a=null;try{switch(a=this.getLayoutFileType(),a){case "PDF":case "TXT":case "CSV":break;case "CSV-excel":a="CSV";break;default:a="XLS"}}catch(b){p.throwClientException(this,b)}return a},_getFormattingEnabled:function(){try{return"XLS"===this.getLayoutFileType()}catch(a){p.throwClientException(this,a)}return!1},_getWithBOM:function(){try{return"CSV-excel"===this.getLayoutFileType()}catch(a){p.throwClientException(this,
a)}return!1},_getIncludeRowLabelHeaders:function(){try{if(this._checkBoxIncludeRowLabelHeaders)return{includeRowLabelHeaders:this._checkBoxIncludeRowLabelHeaders.get("checked")}}catch(a){p.throwClientException(this,a)}return{}},_getOmitSummaries:function(){try{if(this._checkBoxOmitSummaries)return this._checkBoxOmitSummaries.get("checked")}catch(a){p.throwClientException(this,a)}return!1},_getOmitEmptyRows:function(){try{if(this._radioOmitEmptyRows)return this._radioOmitEmptyRows.get("checked")}catch(a){p.throwClientException(this,
a)}return!1},_getOmitRowsBasedOnLineItem:function(){try{if(this._radioFilterRowsBasedOnBooleanLineItem)return this._radioFilterRowsBasedOnBooleanLineItem.get("checked")}catch(a){p.throwClientException(this,a)}return!1},_getFilterLineItemEntityLongId:function(a){try{if(a)return a.get("value")||-1}catch(b){p.throwClientException(this,b)}return null},_getFilter0LineItemEntityLongId:function(){return this._getFilterLineItemEntityLongId(this._filter0LineItemsSelect)},_getFilter1LineItemEntityLongId:function(){return this._getFilterLineItemEntityLongId(this._filter1LineItemsSelect)},
_isTabularExportLayout:function(){return-1!==k.indexOf(["TABULAR_MULTI_COLUMN","TABULAR_CURRENT_LINE_ITEM","TABULAR_ALL_LINE_ITEMS"],this._getExportLayout())},_onChange:function(a){try{var b=this._getExportLayout(),d=(this._getFileType()||"txt").toLowerCase(),e="Anaplan"+d.toLowerCase(),f=this._isTabularExportLayout();this._exportDefinition||f&&!this._checkBoxIncludeRowLabelHeaders.get("checked")&&this._checkBoxIncludeRowLabelHeaders.set("checked",!0);this._checkBoxIncludeRowLabelHeaders&&this._checkBoxIncludeRowLabelHeaders.set("disabled",
f);this._textExportName&&(this._lineItemId?e=this._moduleId+" - "+this._lineItemId:this._moduleId?e="GRID_CURRENT_PAGE"===b?"Current Page - "+this._moduleId:"GRID_ALL_PAGES"===b?"All Pages - "+this._moduleId:"TABULAR_MULTI_COLUMN"===b?"Multi-column - "+this._moduleId:"TABULAR_ALL_LINE_ITEMS"===b?"Single-column - "+this._moduleId:this._moduleId:this._hierarchyId&&(e="Grid - "+this._hierarchyId),e=e.substring(0,58-d.length)+"."+d,this._textExportName.set("value",e))}catch(g){p.showErrorReporter(new Q.ClientException("anaplan.view.Export: _onChange",
g,{widgetId:this.id},a))}},_onKeyDown:function(a){try{switch(a.keyCode){case v.ENTER:this.buttonExport.get("disabled")||this._confirmDoExport();break;case v.ESCAPE:this.onCancel(),m.stop(a)}}catch(b){p.showErrorReporter(new Q.ClientException("anaplan.view.Export: _onKeyDown",b,{widgetId:this.id},a))}},_onKeyPress:function(a){a.currentTarget===this.domNode&&a.stopPropagation()},_resolveExportDefinition:function(){try{var a,b,d,e,f,g,h,l,m,n,r,q,s,t,u;if(this._exportDefinition.sourceEntityLongId)if(ca.getEntityTypeIndex(this._exportDefinition.sourceEntityLongId)===
N.MODULE_ENTITY_TYPE_INDEX)this._moduleId=S.getModuleEntityId(P,this._exportDefinition.sourceEntityLongId);else{if(f=P.getModulesLabelPage())for(e=0;!this._lineItemId&&e<f.count;e++)if(d=P.getModuleInfos()[e],b=d.lineItemsLabelPage)for(a=0;a<b.count;a++)if(b.entityLongIds[0][a]===this._exportDefinition.sourceEntityLongId){this._lineItemId=b.entityIds[0][a];this._moduleId=f.entityIds[0][e];break}}else if(this._exportDefinition.viewDefinition)if(g=this._exportDefinition.viewDefinition,h=S.getModuleEntityId(P,
g),null!==h)this._moduleId=h;else{l=this._exportDefinition.viewDefinition.staticContextIdentifiers;n=m=null;for(r=0;null===m&&r<l.length;r++)if(q=l[r],s=ca.entityLongIdIdentifierToEntityLongId(q),n=ca.getEntityTypeIndex(s),n===N.HIERARCHY_ENTITY_TYPE_INDEX||n===N.MODULE_ENTITY_TYPE_INDEX){m=s;break}if(!m&&g.name)this._hierarchyId=g.name;else if(m&&n===N.HIERARCHY_ENTITY_TYPE_INDEX){if(t=P.getHierarchiesLabelPage())for(u=0;u<t.count;u++)if(t.entityLongIds[0][u]===m){this._hierarchyId=t.entityIds[0][u];
break}}else if(m&&n===N.MODULE_ENTITY_TYPE_INDEX&&(this._moduleId=S.getModuleEntityId(P,m),b=P.getLineItemsLabelPage(m)))for(a=0;a<b.count;a++)if(-1!==k.indexOf(l,b.entityLongIds[0][a])){this._lineItemId=b.entityIds[0][a];break}}}catch(v){p.throwClientException(this,v)}},_getConfirmationDialog:function(){this._confirmationDialog?k.forEach(this._confirmationHandles,function(a){a.remove()}):(this._confirmationDialog=new ea({buttons:[{label:Z.confirmYes,isPrimary:!0},{label:Z.confirmNo,isCancel:!0}]}),
this._confirmationHandles=[]);return this._confirmationDialog},_saveExportDefinition:function(){try{var a=t.stringify(this._exportDefinition),b=h.clone(this._exportDefinition),d=this._getFileType(),e=this._getFormattingEnabled(),f=this._getOmitSummaries(),g=this._getOmitEmptyRows(),k=this._getWithBOM(),l=this._getOmitRowsBasedOnLineItem()?this._getFilter0LineItemEntityLongId():-1,m=this._getOmitRowsBasedOnLineItem()?this._getFilter1LineItemEntityLongId():-1,n,r,q,s,u=this;h.mixin(b,{exportFileType:d,
formattingEnabled:e,omitSummaries:f,omitEmptyRows:g,withBOM:k,filter0LineItemEntityLongId:l,filter1LineItemEntityLongId:m,listDimensionColumnSelection:this._getListDimensionColumnSelection(),listFormattedCellPropertySelection:this._getListFormattedCellPropertySelection()},this._getIncludeRowLabelHeaders(),this._getAggregateDisplay());n=t.stringify(b);r=[(new R).getCellChangeGenerator().getCellChange({modelId:this._modelId,originalText:a,entityLongIds:[N.SYSTEM_PROPERTY_EXPORT_DEFINITION,this._exportEntityLongId],
cellText:n})];s=[{workspaceId:workspaceId,cellChanges:r,modelChanges:[]}];Y.createRequest(workspaceId,s,[],[]);q=new X({showPleaseWait:!1});p.showPleaseWaitDialog();q.gather(s).then(function(a){p.hidePleaseWaitDialog();u.onSaveExportDefinition()},function(a){p.hidePleaseWaitDialog()})}catch(v){p.throwClientException(this,v)}},_showOrHideExportSaveOptions:function(){var a=this._checkBoxSave.get("checked");r.set(this._divExportSaveOptions,{visibility:a?"visible":"hidden"});this._textExportName.set("disabled",
!a)}})})},"anaplan/gridlet/_editor/MailToEditor":function(){define(["anaplan/gridlet/_editor/LinkEditor","anaplan/widgets/MailToEditor","dojo/_base/declare","dojo/i18n!anaplan/nls/mailToEditor"],function(l,s,p,q){return p("anaplan.gridlet._editor.MailToEditor",l,{constructor:function(){this.popup.set("title",q.titleMailToEditor)},_createEditorWidget:function(){return new s}})})},"anaplan/gridlet/_editor/cellEditors/ListCellTimeEntitySelector":function(){define(["anaplan/widgets/ListCellSelector",
"dojo/_base/declare","dojo/_base/lang","dojo/sniff"],function(l,s,p){return s(l,{closeDropDown:function(l){!l&&(this._opened&&this.isValid())&&this.defer(p.hitch(this,function(){this.emit("selected")}));this.inherited(arguments)}})})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(l,s){l.cookie=function(l,q,f){var k=document.cookie,n;if(1==arguments.length)n=(n=k.match(RegExp("(?:^|; )"+s.escapeString(l)+"\x3d([^;]*)")))?decodeURIComponent(n[1]):void 0;else{f=f||{};k=f.expires;
if("number"==typeof k){var m=new Date;m.setTime(m.getTime()+864E5*k);k=f.expires=m}k&&k.toUTCString&&(f.expires=k.toUTCString());q=encodeURIComponent(q);var k=l+"\x3d"+q,h;for(h in f)k+="; "+h,m=f[h],!0!==m&&(k+="\x3d"+m);document.cookie=k}return n};l.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};
return l.cookie})},"anaplan/utils/viewDefinition":function(){define(["dojo/_base/array","dojo/_base/lang","./axisSpecification"],function(l,s,p){return{prepareForExport:function(q,f){q&&(f&&(q.rowAxisSpecification=s.clone(f.rowAxisSpecification),q.columnAxisSpecification=s.clone(f.columnAxisSpecification),q.pageAxisSpecifications=s.clone(f.pageAxisSpecifications)),q.globalContextIdentifiers=[],p.prepareForExport(q.rowAxisSpecification),p.prepareForExport(q.columnAxisSpecification),l.forEach(q.pageAxisSpecifications,
function(f){p.prepareForExport(f)}))}}})},"anaplan/widgets/_DomVisibleMixin":function(){define(["dojo/_base/declare","dojo/dom-style"],function(l,s){return l([],{toggle:function(l){l=!0===l||!1===l?l:!1===this.isVisible();s.set(this.domNode,"display",!0===l?"":"none");return this},show:function(){return this.toggle(!0)},hide:function(){this.inherited(arguments);return this.toggle(!1)},isShowing:function(){return this.isDisplayed()&&this.isVisible()},isDisplayed:function(){return"none"!==s.get(this.domNode,
"display")},isVisible:function(){return"hidden"!==s.get(this.domNode,"visibility")},visible:function(l){s.set(this.domNode,"visibility",(!0===l||!1===l?l:1)?"":"hidden");return this}})})},"anaplan/keyboard/ClipboardHelp":function(){define("anaplan/keyboard/helpers anaplan/keyboard/keyboardEvents dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/i18n!anaplan/nls/clipboardHelp dojo/text!anaplan/templates/ClipboardHelp.html".split(" "),function(l,s,p,q,f,k,
n,m){return k([p,q,f],{baseClass:"clipboardHelp",templateString:m,constructor:function(){this.nls=n},postCreate:function(){this.inherited(arguments);this.copyShortcut.innerHTML=l.render(s.ANAPLAN_COPY);this.pasteShortcut.innerHTML=l.render(s.ANAPLAN_PASTE)}})})},"anaplan/api/SystemActions/index":function(){define("dojo/topic dojo/_base/declare ./SetModelProperty ./GetAuditLog ./Restore ./GetUsersInModel ./GetLoggedInUser ./CopyModule ./GetModelRevisions ./RevertToLastRevision ./CreateRevision ./GetSyncSourceInfo ./GetSyncPairRevisionInfo ./StartSyncRevisions ./ProgressSyncRevisions ./StartSyncCompareRevisions ./ProgressSyncCompareRevisions ./SetModelActiveState ./GetCurrentModelActiveState ./GetApplicationProperties ./GetWorkspaces ./CreateModelFromRevision ./GetEntitlements ./NotifyOpenPage ./CopySelectionAlongAxis ./UndoSystemAction ./Base/poster anaplan/data/Aggregator anaplan/Exceptions anaplan/utils/UIHelper dojo/i18n!anaplan/nls/exceptions".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F){s=function(a,b){var d=new B(a,b);return C.postSystemAction(d).then(function(a){"true"!==a.successful&&L.showErrorReporter(new H.BaseException(F.UndoNotSuccessful));G.gather();return a}).then(function(a){"true"!==a.successful?b.reject(F.UndoSystemFailed):b.resolve(F.UndoSystem)})};l.subscribe("anaplan/server/undo",s);return{setModelProperty:function(a,b,d,e){a=new p({key:a,value:b,previousValue:d,isSyncable:e});return C.postSystemAction(a)},
getEntitlements:function(){var a=new A;return C.postSystemAction(a)},notifyOpenPage:function(a){a=new D(a);return C.postSystemAction(a)},getApplicationProperties:function(){var a=new y;return C.postSystemAction(a)},getCurrentActiveState:function(a){a=new z(a);return C.postSystemAction(a)},setModelActiveState:function(a){a=new v(a);return C.postSystemAction(a)},syncCompareRevisions:function(a){return C.postSystemAction(new t(a))},syncCompareRevisionsProgress:function(a){a=new u(a);return C.postProgress(a)},
syncRevisions:function(a){return C.postSystemAction(new r(a))},syncRevisionsProgress:function(a){a=new b(a);return C.postProgress(a)},getAuditLog:function(a){a=new q(a);return C.postSystemAction(a)},getCurrentModelSerialNumber:function(){return this.getAuditLog().then(function(a){return a.currentModelSerialNumber})},getModelRevisions:function(a){a=new h(a);return C.postSystemAction(a)},createModelRevision:function(a){a=new g(a);return C.postSystemAction(a)},getSyncSourceInfo:function(a){a=new d({modelId:a});
return C.postSystemAction(a)},getSyncPairRevisionInfo:function(b){b=new a(b);return C.postSystemAction(b)},restore:function(a){return this.getCurrentModelSerialNumber().then(function(b){b=new f({targetModelSerialNumber:a,currentModelSerialNumber:b});return C.postSystemAction(b)}.bind(this))},getUsersInModel:function(a){a=new k({modelId:a});return C.postSystemAction(a)},getLoggedInUser:function(){var a=new n;return C.postSystemAction(a)},copyModule:function(a){a=new m(a);return C.postSystemAction(a)},
getWorkspaces:function(a){a=new w({workspaceId:window.workspaceId});return C.postSystemAction(a)},createModelFromRevision:function(a,b,d){a=new x({targetWorkspaceId:a,targetModelName:b,sourceRevisionId:d});return C.postSystemAction(a)},revertToLastRevision:function(a,b,d){a=new e({workspaceId:a,modelId:b,currentMetadataId:d});return C.postSystemAction(a)},copySelection:function(a,b,d,e){a=new E({viewDefinition:a,gridSelection:b,direction:d,containerId:e});return C.postSystemAction(a)},undo:s}})},
"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(l,s,p,q,f,k,n){p.add("textarea-needs-help-shrinking",function(){var f=k.body(),h=s.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",
WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},f,"last"),e=h.scrollHeight>=h.clientHeight;f.removeChild(h);return e});return l("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var k=this.textbox;k.style.overflowY="hidden";this.own(f(k,"focus, resize",q.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(n.on("resize",q.hitch(this,"_resizeLater")));this._resizeLater()},
_onInput:function(f){this.inherited(arguments);this.resize()},_estimateHeight:function(){var f=this.textbox;f.rows=(f.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function f(){var a=!1;""===h.value&&(h.value=" ",a=!0);var b=h.scrollHeight;a&&(h.value="");return b}var h=this.textbox;"hidden"==h.style.overflowY&&(h.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(f()||h.offsetHeight){var e=f()+Math.max(h.offsetHeight-h.clientHeight,0),
g=e+"px";g!=h.style.height&&(h.style.height=g,h.rows=1);if(p("textarea-needs-help-shrinking")){var d=f(),a=h.style.minHeight,k=4,b=h.scrollTop;h.style.minHeight=g;for(h.style.height="auto";0<e;){h.style.minHeight=Math.max(e-k,4)+"px";g=f();d-=g;e-=d;if(d<k)break;d=g;k<<=1}h.style.height=e+"px";h.style.minHeight=a;h.scrollTop=b}h.style.overflowY=f()>h.clientHeight?"auto":"hidden";"hidden"==h.style.overflowY&&(h.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"anaplan/view/CellHistoryDateRange":function(){define("anaplan/api/service dojo/Deferred anaplan/utils/UIHelper anaplan/utils/FormatHelper anaplan/data/Aggregator dijit/_Contained dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/query dojo/string dojo/window anaplan/gridlet/Themes anaplan/constants anaplan/Exceptions anaplan/widgets/ConfirmationDialog dojo/text!anaplan/templates/History_Date_Range_Form.html dojo/i18n!anaplan/nls/history dojo/i18n!dijit/nls/common anaplan/widgets/Button".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E){return d([n,m,h,k],{baseClass:"cellHistoryDateRange",templateString:A,constructor:function(a){},error:function(a){console.error("anaplan.view.CellHistoryDateRange: error",a)},onCancel:function(){},postCreate:function(){try{this.inherited(arguments),this.okButton.set("label",E.buttonOk),this.cancelButton.set("label",E.buttonCancel),this.showCellHistoryFromDate.set("disabled",!1),this.showCellHistoryToDate.set("disabled",!1),this.okButton.set("disabled",
!0)}catch(a){p.throwClientException(this,a)}},onApplyChanges:function(){},validateDate:function(){var a=["showCellHistoryFromDate","showCellHistoryToDate"],b,d,f;for(f=d=0;2>d;d++)b=a[d],b=e.byId(b),f|=b._getDisplayedValueAttr().length&&b._isInvalidDate(b._getValueAttr());this.okButton.set("disabled",!!f)},onShow:function(){}})})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,s,p,q){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(f){var k=
this._attrPairNames;return k[f]?k[f]:k[f]={s:"_"+f+"Setter",g:"_"+f+"Getter"}},postscript:function(f){f&&this.set(f)},_get:function(f,k){return"function"===typeof this[k.g]?this[k.g]():this[f]},get:function(f){return this._get(f,this._getAttrNames(f))},set:function(f,k){if("object"===typeof f){for(var l in f)f.hasOwnProperty(l)&&"_watchCallbacks"!=l&&this.set(l,f[l]);return this}l=this._getAttrNames(f);var m=this._get(f,l);l=this[l.s];var h;"function"===typeof l?h=l.apply(this,Array.prototype.slice.call(arguments,
1)):this[f]=k;if(this._watchCallbacks){var e=this;q(h,function(){e._watchCallbacks(f,m,k)})}return this},_changeAttrValue:function(f,k){var l=this.get(f);this[f]=k;this._watchCallbacks&&this._watchCallbacks(f,l,k);return this},watch:function(f,k){var l=this._watchCallbacks;if(!l)var m=this,l=this._watchCallbacks=function(e,d,a,f){var b=function(b){if(b){b=b.slice();for(var f=0,h=b.length;f<h;f++)b[f].call(m,e,d,a)}};b(l["_"+e]);f||b(l["*"])};!k&&"function"===typeof f?(k=f,f="*"):f="_"+f;var h=l[f];
"object"!==typeof h&&(h=l[f]=[]);h.push(k);var e={};e.unwatch=e.remove=function(){var e=p.indexOf(h,k);-1<e&&h.splice(e,1)};return e}})})},"anaplan/view/ImportDefinitionListMapping":function(){define("anaplan/data/ModelContentCache anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/utils/EntityLongIdHelper anaplan/utils/LabelPageHelper anaplan/utils/UIHelper anaplan/view/MappedDimensionImportOptions anaplan/view/TimeDimensionImportOptions anaplan/view/UnmappedDimensionImportOptions dijit/layout/BorderContainer dojo/_base/array dojo/_base/declare dojo/json dojo/_base/lang dojo/dom-class".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){return a(g,{constructor:function(a){this._workspaceId=a.workspaceId;this._modelId=a.modelId;this._dimensionInfo=a.dimensionInfo;this._isApiImport=a.isApiImport;this._importDefinition=a.importDefinition;this._sourceFields=a.sourceFields;this._credentials=a.credentials;this._persistCredentials=a.persistCredentials},onBusy:function(){},onChange:function(){},onHide:function(){try{this._requireCompletion=!0;if(r.stringify(this._previousMapping)!=r.stringify(this._dimensionInfo.mapping))this.onChange();
this.inherited(arguments)}catch(a){n.throwClientException(this,a)}},onIdle:function(){},onShow:function(){try{var a=this,g=this._dimensionInfo.mapping,r=null,t;t=this._previousMapping?this._previousMapping.sourceType==g.sourceType?"column"==g.sourceType?g.sourceColumnId!=this._previousMapping.sourceColumnId:!1:!0:!0;this._previousMapping=b.clone(g);if(t){var w=g.target,x=f.entityLongIdIdentifierToEntityLongId(w),A=[this._importDefinition.target],D=l.getModuleInfo(f.entityLongIdIdentifierToEntityLongId(this._importDefinition.target));
if(w)if(x===s.MODEL_CONTENT_VERSION_ENTITY_LONG_ID)D&&D.versionsSelection==s.VersionSelection.NOT_APPLICABLE&&d.some(D.lineItemsLabelPage.entityLongIds[0],function(a){var b=l.getLineItemInfo(a);if(b&&b.versionsSelection&&b.versionsSelection!=s.VersionSelection.NOT_APPLICABLE)return A.push(f.entityLongIdToEntityLongIdIdentifier(a)),!0}),r=b.mixin({type:"MODEL_DATA",staticContextIdentifiers:A},p.getAxesForViewDefinition([s.SYSTEM_AXIS_IDENTIFIER_VERSION_IDENTIFIER],[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]));
else if(x===s.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID){if(!l.getApplicationProperty(s.FEATURE_FLAGS.TIME_RANGES)){var E=null,B=null,C=s.PeriodType;D&&D.lineItemsLabelPage&&d.forEach(D.lineItemsLabelPage.entityLongIds[0],function(a){var b=l.getLineItemInfo(a);if(b&&"NONE"!=b.format.dataType&&(!b.formula||"ALL"!=b.formulaScope)&&b.leafPeriodType&&b.leafPeriodType.entityId!=C.NOT_APPLICABLE&&(!E||0>k.comparePeriodTypes(b.leafPeriodType.entityId,E)))E=b.leafPeriodType.entityId,B=a});B&&A.push(f.entityLongIdToEntityLongIdIdentifier(B))}r=
b.mixin({type:"MODEL_DATA",staticContextIdentifiers:A},p.getAxesForViewDefinition([s.SYSTEM_AXIS_IDENTIFIER_TIME_IDENTIFIER],[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]))}else{var G=f.getEntityTypeIndex(x);if(G===s.HIERARCHY_ENTITY_TYPE_INDEX||G===s.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX||G===s.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)D&&-1==d.indexOf(D.appliesTo,x)&&d.some(D.lineItemsLabelPage.entityLongIds[0],function(a){var b=l.getLineItemInfo(a);if(b&&b.appliesTo&&-1!=d.indexOf(b.appliesTo,x))return A.push(f.entityLongIdToEntityLongIdIdentifier(a)),
!0}),r=b.mixin({type:"MODEL_DATA",staticContextIdentifiers:A},p.getAxesForViewDefinition([w],[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]));else throw new q.ClientException("Unhandled dimension type: "+x,null,{widgetId:this.id});}else r=b.mixin({type:"MODEL_DATA",staticContextIdentifiers:A},p.getAxesForViewDefinition([s.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER],[s.SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER]));this.destroyDescendants();t=0;if(this._sourceFields){w={};for(D=0;D<this._importDefinition.mappings.length;++D){var H=
this._importDefinition.mappings[D];"column"===H.sourceType&&H.sourceColumnId&&(w[H.sourceColumnId]=!0)}for(H=0;H<this._sourceFields.length;++H){var L=this._sourceFields[H];"column"==L.sourceType&&(/^#[0-9]+$/.test(L.sourceColumnId)&&!w[L.sourceColumnId])&&++t}}var F="headerRow"===g.sourceType&&0<t;if(this._isUnmapped(g)){var K=new e({workspaceId:this._workspaceId,modelId:this._modelId,mapping:g,viewDefinition:r,importDefinition:this._importDefinition,isApiImport:this._isApiImport,region:"center"});
K.on("Change",function(){a.onChange()});K.on("Busy",function(b){a.onBusy(b)});K.on("Idle",function(){a.onIdle()});this.addChild(K)}else if(x===s.MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID&&!F){for(var J in this._dimensionInfo.valueMap)delete this._dimensionInfo.valueMap[J];var M=new h({workspaceId:this._workspaceId,modelId:this._modelId,importDefinition:this._importDefinition,targetAreaSpecification:this._dimensionInfo.targetAreaSpecification,timePeriodFormat:this._dimensionInfo.timePeriodFormat,viewDefinition:r,
region:"center"});M.on("Change",function(){a.onChange()});M.on("Busy",function(b){a.onBusy(b)});M.on("Idle",function(){a.onIdle()});this.addChild(M)}else{var I=new m({workspaceId:this._workspaceId,modelId:this._modelId,targetAreaSpecification:this._dimensionInfo.targetAreaSpecification,viewDefinition:r,region:"center",importDefinition:this._importDefinition,mapping:g,valueMap:this._dimensionInfo.valueMap,aliasMap:this._dimensionInfo.aliasMap,manualMapRequired:F,credentials:this._credentials,persistCredentials:this._persistCredentials});
I.on("Change",function(){a.onChange()});I.on("Busy",function(b){a.onBusy(b)});I.on("Idle",function(){a.onIdle()});this.addChild(I)}}}catch(O){n.showErrorReporter(new q.ClientException("ImportDefinitionListMapping:onShow",O,{widgetId:this.id},event)),n.throwClientException(this,O)}},_isUnmapped:function(a){return"undefined"===a.sourceType||"constant"===a.sourceType||"prompt"===a.sourceType||"ignore"===a.sourceType},postCreate:function(){try{this.inherited(arguments),t.add(this.domNode,"importDefinitionListMapping")}catch(a){n.throwClientException(this,
a)}},updateForm:function(){try{for(var a=this.getChildren(),b=a.length,d,e=0;e<b;e++)d=a[e],d.updateForm&&d.updateForm()}catch(f){n.throwClientException(this,f)}},validate:function(a){var b=!0;try{var d=this.getChildren(),e=d.length,f;a&&(this._requireCompletion=!0);if(0<e.length)for(var g=0;g<e;g++)f=d[g],f.validate&&(f.validate(a)||(b=!1));else a&&this._isUnmapped(this._dimensionInfo.mapping)&&"constant"===this._dimensionInfo.mapping.sourceType&&(this._dimensionInfo.mapping.sourceValue||(b=!1))}catch(h){n.throwClientException(this,
h)}return b}})})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),function(l,s,p,q,f,k,n){k.extend(l,{waiRole:"",waiState:""});return f("dijit._Templated",[s,p],{widgetsInTemplate:!1,constructor:function(){n.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(f,
h){var e=this.inherited(arguments),g=h(f,"waiRole");g&&f.setAttribute("role",g);(g=h(f,"waiState"))&&q.forEach(g.split(/\s*,\s*/),function(d){-1!=d.indexOf("-")&&(d=d.split("-"),f.setAttribute("aria-"+d[0],d[1]))});return e}})})},"anaplan/widgets/Tree/ShimmedPromise":function(){define(["dojo/_base/lang"],function(l){return function(s){return l.delegate(s.promise||s,{addCallback:function(l){this.then(l)},addErrback:function(l){this.otherwise(l)}})}})},"dojo/_base/Color":function(){define(["./kernel",
"./lang","./array","./config"],function(l,s,p,q){var f=l.Color=function(f){f&&this.setColor(f)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:q.transparentColor||[0,0,0,0]};s.extend(f,{r:255,g:255,b:255,a:1,_set:function(f,l,m,h){this.r=f;this.g=l;this.b=
m;this.a=h},setColor:function(k){s.isString(k)?f.fromString(k,this):s.isArray(k)?f.fromArray(k,this):(this._set(k.r,k.g,k.b,k.a),k instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+p.map(["r","g","b"],function(f){f=this[f].toString(16);return 2>f.length?"0"+f:f},this).join("")},toCss:function(f){var l=this.r+", "+this.g+", "+this.b;return(f?"rgba("+
l+", "+this.a:"rgb("+l)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=l.blendColors=function(k,l,m,h){var e=h||new f;p.forEach(["r","g","b","a"],function(f){e[f]=k[f]+(l[f]-k[f])*m;"a"!=f&&(e[f]=Math.round(e[f]))});return e.sanitize()};f.fromRgb=l.colorFromRgb=function(k,l){var m=k.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&f.fromArray(m[1].split(/\s*,\s*/),l)};f.fromHex=l.colorFromHex=function(k,l){var m=l||new f,h=4==k.length?4:8,e=(1<<h)-1;k=Number("0x"+k.substr(1));
if(isNaN(k))return null;p.forEach(["b","g","r"],function(f){var d=k&e;k>>=h;m[f]=4==h?17*d:d});m.a=1;return m};f.fromArray=l.colorFromArray=function(k,l){var m=l||new f;m._set(Number(k[0]),Number(k[1]),Number(k[2]),Number(k[3]));isNaN(m.a)&&(m.a=1);return m.sanitize()};f.fromString=l.colorFromString=function(k,l){var m=f.named[k];return m&&f.fromArray(m,l)||f.fromRgb(k,l)||f.fromHex(k,l)};return f})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y){d=s("dijit.layout.ScrollingTabController",[r,t],{baseClass:"dijitTabController dijitScrollingTabController",templateString:d,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",p.add(a,"tabStrip-disabled"));p.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);f.set(this.domNode,"visibility","");this._postStartup=!0;this.own(m(this.containerNode,"attrmodified-label, attrmodified-iconclass",n.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);f.set(this.containerNode,"width",f.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var d=this.pane2button(a.id);this._selectedTab===d.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=h("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=q.getMarginSize(a).w,!0;f.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||f.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var d=this._contentBox=b.marginBox2contentBox(this.domNode,{h:0,w:a.w});d.h=this.scrollNode.offsetHeight;q.setContentSize(this.domNode,d);d=this._enableBtn(this._contentBox.w);
this._buttons.style("display",d?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";b.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>e("ie")||e("ie")&&e("quirks")||e("webkit")?this.scrollNode.scrollLeft:f.get(this.containerNode,"width")-f.get(this.scrollNode,"width")+(8<=e("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>e("ie")||e("ie")&&e("quirks")||e("webkit"))return a;var b=f.get(this.containerNode,"width")-f.get(this.scrollNode,"width");return(8<=e("ie")?-1:1)*(a-b)},
onSelectChild:function(a){var b=this.pane2button(a.id);if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var d=this._getScroll();(d>b.offsetLeft||d+f.get(this.scrollNode,"width")<b.offsetLeft+f.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=f.get(this.scrollNode,"width"),d=f.get(this.containerNode,"width")-b,e=this._getTabsWidth();if(a.length&&e>b)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:d};a=this.isLeftToRight()?0:d;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=f.get(this.scrollNode,"width"),d=this._getScrollBounds(),a=a.offsetLeft+f.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,d.min),d.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var d=this,e=this.scrollNode,f=new k.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=e.scrollLeft,g=d._convertToScrollLeft(a);f.curve=new k._Line(b,g)},onAnimate:function(a){e.scrollLeft=a}});this._anim=f;this._setButtonClass(a);return f},_getBtnNode:function(a){for(a=a.target;a&&!p.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!p.contains(b,"dijitTabDisabled")){var d=0.75*f.get(this.scrollNode,"width")*a,d=this._getScroll()+d;this._setButtonClass(d);this.createSmoothScroll(d).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});a=s("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:a,
tabIndex:"",isFocusable:function(){return!1}});s("dijit.layout._ScrollingTabControllerButton",[z,a]);s("dijit.layout._ScrollingTabControllerMenuButton",[z,y,a],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new u({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=g.byId(this.containerId);l.forEach(b.getChildren(),function(a){var d=new v({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(d)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return d})},"anaplan/api/Entities/Imports":function(){define(["dojo/_base/declare","./Base/LabelPage","anaplan/api/Entity/Import"],function(l,s,
p){return l([s],{_entityClass:p})})},"anaplan/charts/Column":function(){define("anaplan/charts/_HighChartlet anaplan/charts/HighChartsHelper anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/LabelPageHelper dojo/_base/declare dojo/_base/lang".split(" "),function(l,s,p,q,f,k,n){return k("anaplan.charts.Column",l,{_getChartOptions:function(f,h){var e=this._getColumnSeries(f,h),g=this._getPlotOptions(f,h);if(!this._assertSeries(e))return null;s.setSeriesColourFromConfig(this._originalChartConfig,
e);var d=this._getCategories(f,h),a,k;"bar"===this.chartVariation?(k={align:"right",formatter:function(){return'\x3cspan class\x3d"truncateText" title\x3d"'+this.value+'"\x3e'+this.value+"\x3c/span\x3e"},useHTML:!1},a=g.bar.dataLabels):(k=s.getLabels(d),a=g.column.dataLabels);e={chart:{type:this.chartVariation||"column",renderTo:this._chartContainer},xAxis:{categories:d,labels:k,tickWidth:0},yAxis:{title:{text:null}},legend:{y:p.chartOptions.legendYPosition.DEFAULT,reversed:"bar"===this.chartVariation&&
this.chartStacking?!0:!1},plotOptions:g,series:e};this._setupItemClickHandler(this.chartType,e);this._highchartsOptions&&(this._highchartsOptions.legend&&n.mixin(e,{legend:n.mixin(this._highchartsOptions.legend,{reversed:"bar"===this.chartVariation&&this.chartStacking?!0:!1})}),this._highchartsOptions.dataLabels&&n.mixin(a,this._highchartsOptions.dataLabels));return e},_getPlotOptions:function(){var f={stacking:this.chartStacking||"",dataLabels:{format:"{point.cellText}",style:{textOutline:!1}}},
h={series:{animation:!1,point:{events:{click:n.partial(this._pointClick,this.id)}}}};"bar"===this.chartVariation?h.bar=f:h.column=f;return h},_getColumnSeries:function(k,h){var e=this._model,g=e.isLineItemsOnRows(),d=!g&&e.isLineItemsOnColumns(),e=e.getLineItemEntityLongIdForPageInfo(),e=s.isLineItemNumeric(e),g=App.interim.charts.getValidRowsAndColumns({selection:k,highChartsHelper:s,areLineItemsOnRows:g,areLineItemsOnColumns:d,isLineItemOnPagesNumeric:e});return App.interim.charts.getColumnChartSeriesData({model:this._model,
variation:this.chartVariation,modelContentHelper:q,labelPageHelper:f,highChartsHelper:s,selection:k,pageInfo:h,rows:g.rows,columns:g.columns,areLineItemsOnColumns:d})},_updateSeries:function(f,h){for(var e=!1,g=this._getColumnSeries(f,h),d=0;d<g.length;d++)this._highChart.series[d].setData(g[d].data,!1),e=!0;return e}})})},"anaplan/gridlet/StaticText":function(){define("anaplan/common/SelectiveAccess anaplan/constants anaplan/Exceptions anaplan/utils/FormatHelper anaplan/utils/UIHelper dijit/_CssStateMixin dijit/_FocusMixin dijit/_OnDijitClickMixin dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dijit/focus dijit/registry dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/i18n!anaplan/nls/dashboard dojo/keys dojo/on dojo/query dojo/text!anaplan/templates/StaticText.html dojo/topic dojo/sniff dojo/NodeList-traverse".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B){return r([e,m,n,h,g,k],{baseClass:"staticText",modeType:{NORMAL:"normal",EDIT:"edit"},readOnly:!0,tabIndex:0,templateString:E,DOUBLE_TAP_TIMEOUT:250,dataType:s.dashboardElementType.STATIC_TEXT,constructor:function(a){try{this._value=a.value?a.value:w.staticTextDefault,this._styleName=a.styleName||"normal",this._isEditable=a.isEditable||l.isAuthorized(s.userActions.MAINTAIN_CUSTOM_DASHBOARDS),this._titleCellFormat=a.titleCellFormat||null,
this._containerNode=this._staticTextStyleMenu=null}catch(b){throw new p.ClientException("anaplan.dashboard._StaticText.constructor",b);}},error:function(a){var b=this,d=function(){setTimeout(function(){b.refresh();b.focus()},150)};this._dataSerialNumber=null;a instanceof p.KnownException?f.showErrorReporter(a,!0,null,d):a instanceof p.BaseException?f.showErrorReporter(new p.ClientException("anaplan.gridlet.StaticText#error",a),!1,null,d):a.isKnownError?f.showErrorReporter(new p.BaseException(a.errorMessage),
!0,null,d):a.errorMessage?(a=new p.ServerException(a.errorMessage),a.setModelRestored(!0),f.showErrorReporter(a,!1,null,d)):console.error(this.id+": error",a);return!0},focus:function(){this._isEditMode()?this.inputContainer.focus():d.focus(this.valueContainer)},getDataType:function(){return this.dataType},onChange:function(){},onUpdate:function(){try{this.inherited(arguments);var a=v.getMarginBox(this.domNode);if(a.w!==this._marginBox.w||a.h!==this._marginBox.h)this._marginBox=a,this.onContentSizeChange()}catch(b){throw new p.ClientException("anaplan.dashboard._Static_Text.onUpdate",
b);}},postCreate:function(){try{if(this.inherited(arguments),this.own(A(this.domNode,"focus",b.hitch(this,"_onCellFocus")),B.subscribe("anaplan/"+this.id+"/resume",b.hitch(this,"resume"))),this._mode=this.modeType.NORMAL,this._previousValue=null,this._value){var a=this._replaceHTMLEntities(this._value),a=this._previousValue=this._sanitiseHTML(a),a=q.replaceNewLineCharacters(a);8===y("ie")&&(a=a.replace(/&/gi,"\x26amp;"));this.inputContainer.innerHTML=this.valueContainer.innerHTML=a}}catch(d){throw new p.ClientException("anaplan.gridlet.StaticText#postCreate",
d);}},resize:function(a){var b,d,e,f,g,h,k;try{if(a){b=this.domNode.parentNode;d=v.getMarginBox(this.domNode.parentNode);g=h=0;a.w&&(e=a.w-d.w,f=v.getMarginBox(b),g=Math.max(f.w+e,0));a.h&&(e=a.h-d.h,f||(f=v.getMarginBox(b)),h=Math.max(f.h+e,0));if(g||h)k={},g&&(k.w=g),h&&(k.h=h),v.setMarginBox(this.domNode,k),this._valueNodeSize=k;this._marginBox=v.getMarginBox(this.domNode)}}catch(l){throw new p.ClientException("anaplan.gridlet.Cell#resize",l);}},resume:function(){},startup:function(){this.inherited(arguments);
this._containerNode=this.domNode.parentNode.parentNode;this.own(A(this.domNode,"dblclick",b.hitch(this,"_onDblClick")),A(this.domNode,"keydown",b.hitch(this,"_onCellKeyDown")),A(this.domNode,"paste",b.hitch(this,"_pasteHandler")));(y("ios")||y("android"))&&this.own(A(this.domNode,"touchstart",b.hitch(this,"_onCellTouchStart")));this._styleName&&u.add(this.domNode,this._styleName);this.inputContainer.style.display="none";this._toggleHoldingTextClass(this._value)},uninitialize:function(){this.inherited(arguments)},
_addLineBreak:function(){var a,b,d,e;if(y("ie"))a=document.selection.createRange(),a.pasteHTML("\x3cbr\x3e\x3cspan\x3e\x3c/span\x3e"),a.moveStart("character",1);else{if(y("webkit")||y("ff"))return document.execCommand("insertText",!1,"\n"),!1;b=window.getSelection();a=b.getRangeAt(0);e=document.createElement("span");d=document.createTextNode(" ");e.appendChild(d);d=document.createElement("br");a.deleteContents();var f=document.createDocumentFragment();f.appendChild(d);f.appendChild(e);a.insertNode(f);
a.selectNodeContents(e);b.removeAllRanges();b.addRange(a)}this._moveScrollPosition(this.inputContainer)},_isInputContainerEmpty:function(a){a=this._sanitiseHTML(a);return!a||!a.length?!0:!1},_endEditText:function(a){var b;this._mode!==this.modeType.NORMAL&&(this._mode=this.modeType.NORMAL);this.inputContainer.style.display="none";this.valueContainer.style.display="block";b=this.inputContainer.innerHTML;a?b=this.inputContainer.innerHTML=this.valueContainer.innerHTML:this._isInputContainerEmpty(b)&&
(b=this.inputContainer.innerHTML=w.staticTextDefault);this._previousValue=a=this._sanitiseHTML(b);a=q.replaceNewLineCharacters(a);8===y("ie")&&(a=a.replace(/&/gi,"\x26amp;"));this._value=this.inputContainer.innerHTML=this.valueContainer.innerHTML=a;this._toggleHoldingTextClass(this._value);this._setScrollPosition(this.valueContainer,0);this.focused&&this.focus();this._containerNode&&u.remove(this._containerNode,"editing")},_editText:function(){this.valueContainer.style.display="none";this.inputContainer.style.display=
"block";this._toggleHoldingTextClass(this.inputContainer.innerHTML);this._previousValue=this._sanitiseHTML(this.inputContainer.innerHTML);document.execCommand("AutoUrlDetect",!1,!1);this._placeCaretAtEnd(this.inputContainer);this._mode!==this.modeType.EDIT&&(this._mode=this.modeType.EDIT);this.inputContainer.focused||this.inputContainer.focus();this._containerNode&&u.add(this._containerNode,"editing")},_placeCaretAtEnd:function(a){a.focus();if(a.innerHTML===w.staticTextDefault)window.setTimeout(function(){var b,
d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a),b=window.getSelection(),b.removeAllRanges(),b.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a),d.select())},0);else if("undefined"!==typeof window.getSelection&&"undefined"!==typeof document.createRange){var b=document.createRange();b.selectNodeContents(a);b.collapse(!1);var d=window.getSelection();d.removeAllRanges();d.addRange(b)}else"undefined"!==typeof document.body.createTextRange&&
(b=document.body.createTextRange(),b.moveToElementText(a),b.collapse(!1),b.select());this._setScrollPosition(a,a.scrollHeight)},_changeStyleName:function(a){a!==this._styleName&&(u.replace(this.domNode,a,this._styleName),this._styleName=a,this._submitChange(this._styleName))},_isEditMode:function(){return this._mode===this.modeType.EDIT},_navigateToNextCell:function(b,d){var e,f;if((e=D("#"+this.domNode.id).parents(".dashboardElementContainer")[0])&&(!b||!(d===x.TAB&&1>this.tabIndex-1)))if(f=b?Math.max(this.tabIndex-
1,1):this.tabIndex+1,e=D(".cell .cellValue[tabindex\x3d"+f+"],.staticText .valueContainer[tabindex\x3d"+f+"],.cell .dijitCheckBoxInput[tabindex\x3d"+f+"]",e),e.length)return a.getEnclosingWidget(e[0]).focus(),!0},_replaceHTMLEntities:function(a){a=a.toString();a=a.replace(/&lt;&gt;/gi,"\x3c\x3e");a=a.replace(/&lt; /gi,"\x26#60; ");a=a.replace(/ &gt;/gi," \x26#62;");a=a.replace(/&gt;/gi,"\x3e");return a=a.replace(/&lt;/gi,"\x3c")},_sanitiseHTML:function(a){a=a.toString();a=a.replace(/<br>/gi,"\n");
a=a.replace(/<br\s\/>/gi,"\n");a=a.replace(/<br\/>/gi,"\n");a=a.replace(/<p\/>/gi,"");a=a.replace(/<p>/gi,"\n\n");a=a.replace(/<div>/gi,"\n");a=a.replace(/<div\/>/gi,"");a=a.replace(/<script.*>[\w\W]{1,}(.*?)[\w\W]{1,}<\/script>/gi,"");a=a.replace(/<style.*>[\w\W]{1,}(.*?)[\w\W]{1,}<\/style>/gi,"");a=a.replace(/&lt;&gt;/gi,"\x3c\x3e");a=a.replace(/&gt;&lt;/gi,"\x3e\x3c");a=a.replace(/&lt; /gi,"\x26#60; ");a=a.replace(/ &gt;/gi," \x26#62;");a=a.replace(/<[^>]+>/g,"");a=a.replace(/&lt;[^>]+&gt;/g,"");
a=a.replace("\t"," ");a=a.replace(/&nbsp;/g," ");a=a.replace(/ +(?= )/g,"");a=a.replace(/&nbsp;/gi," ");a=a.replace(/&amp;/gi,"\x26");a=a.replace(/&quot;/gi,'"');a=a.replace(/&lt;/gi,"\x26#60;");a=a.replace(/&gt;/gi,"\x26#62;");return b.trim(a)},_onBlur:function(){this.inherited(arguments);this._mode===this.modeType.EDIT&&(this._onChange(this.inputContainer.innerHTML)?this._endEditText():this._onCancel())},_onCancel:function(a){this._endEditText(a)},_onCellKeyDown:function(a){var b=a.charCode||a.keyCode;
b===x.ESCAPE&&(this._onCancel("cancel"),a.preventDefault());b===x.ENTER&&a.altKey&&(a.ctrlKey&&(a.shiftKey||this._addLineBreak()),a.preventDefault());if(b===x.ENTER&&!a.altKey||b===x.TAB)this._isEditMode()||a.preventDefault(),this._isEditMode()&&(this._sanitiseHTML(this.inputContainer.innerHTML)!==this._previousValue?(this._onChange(this.inputContainer.innerHTML),this._onCancel()):this._endEditText()),this._navigateToNextCell(a.shiftKey,b)&&(this._onBlur(),a.preventDefault())},_onCellFocus:function(){try{setTimeout(b.hitch(this,
function(){this.focused&&this.focus()}),25)}catch(a){throw new p.ClientException("anaplan.gridlet.Cell#_onCellFocus",a);}},_onCellTouchStart:function(a){var b;try{1<a.touches.length||(b=Date.now?Date.now():(new Date).getTime(),this._lastTouchStartTime&&b-this._lastTouchStartTime<=this.DOUBLE_TAP_TIMEOUT&&(a.preventDefault(),this._startEdit(this.modeType.EDIT,!1,a)),this._lastTouchStartTime=b)}catch(d){f.showErrorReporter(new p.ClientException("anaplan.gridlet.Cell#_onCellTouchStart",d,{widgetId:this.id},
a))}},_onChange:function(a){if(this._isEditable){var b=this._sanitiseHTML(a);if(this._previousValue!==b||""===(b&&this._previousValue))this._submitChange(a),this.onChange(a)}},_onDblClick:function(a){this._mode===this.modeType.NORMAL&&this._isEditable&&(a.preventDefault(),this._startEdit())},_pasteHandler:function(a){if(a.clipboardData)a.preventDefault(),a=(a.originalEvent||a).clipboardData.getData("text/plain"),a=this._sanitiseHTML(a),a=q.replaceNewLineCharacters(a),document.execCommand("insertHTML",
!1,a);else if(window.clipboardData)if(9>=y("ie"))var d=setTimeout(b.hitch(this,function(){clearTimeout(d);var a=this._sanitiseHTML(this.inputContainer.innerHTML),a=q.replaceNewLineCharacters(a);this.inputContainer.innerHTML=a}),0);else{a.preventDefault();a=window.clipboardData.getData("Text");a=this._sanitiseHTML(a);a=q.replaceNewLineCharacters(a);var e=document.getSelection().getRangeAt(0);e.deleteContents();var f=document.createElement("div");e.surroundContents(f);f.innerHTML=a}},_setReadOnlyAttr:function(a){a=
a||!this._isEditable;var b=this._value===w.staticTextDefault&&a;this._set("readOnly",a);u.toggle(this.domNode,"cellReadOnly",a);z.set(this.valueContainer,"visibility",b?"hidden":"visible");this._staticTextEdit&&z.set(this._staticTextEdit.domNode,"display",a?"none":"")},_moveScrollPosition:function(a){var b=z.getComputedStyle(a);this._setScrollPosition(a,a.scrollTop+parseInt(b.lineHeight,10))},_setScrollPosition:function(a,b){a.scrollTop=b},_setTabIndexAttr:function(a){this._set("tabIndex",a);t.set(this.valueContainer,
"tabindex",a)},_startEdit:function(){!this.readOnly&&this._isEditable&&this._editText()},_submitChange:function(a){var b=this.domNode.parentNode,b=b?b.parentNode:null,b={id:b?b.id:"",value:null,styleName:null,setDirty:!0};this._layoutMode&&this._setLayoutMode(!1);if(this._styleName===a)b.styleName=a;else{if(""===this._sanitiseHTML(a)&&this._previousValue===w.staticTextDefault){this._value=w.staticTextDefault;return}this._value=a;b.value=this._sanitiseHTML(this._value)}B.publish("anaplan/dashboards/"+
f.generateId(this.dashboardEntityLongId)+"/updateText",b)},_toggleHoldingTextClass:function(a){a===w.staticTextDefault&&!u.contains(this.domNode,s.DASHBOARD_HOLDING_CLASS)?u.add(this.domNode,s.DASHBOARD_HOLDING_CLASS):a!==w.staticTextDefault&&u.contains(this.domNode,s.DASHBOARD_HOLDING_CLASS)&&u.remove(this.domNode,s.DASHBOARD_HOLDING_CLASS)}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d){p.isAsync||m(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var a=s("dojo.dnd.Source",g,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){q.mixin(this,q.mixin({},b));var d=this.accept;if(d.length){this.accept={};for(var e=0;e<d.length;++e)this.accept[d[e]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&f.add(this.node,"dojoDndSource");this.targetState="";this.accept&&f.add(this.node,"dojoDndTarget");this.horizontal&&f.add(this.node,"dojoDndHorizontal");this.topics=[h.subscribe("/dnd/source/over",q.hitch(this,"onDndSourceOver")),h.subscribe("/dnd/start",q.hitch(this,"onDndStart")),h.subscribe("/dnd/drop",q.hitch(this,"onDndDrop")),h.subscribe("/dnd/cancel",q.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==
a)return!this.copyOnly||this.selfAccept;for(var d=0;d<b.length;++d){for(var e=a.getItem(b[d].id).type,f=!1,g=0;g<e.length;++g)if(e[g]in this.accept){f=!0;break}if(!f)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==d.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){a.superclass.destroy.call(this);l.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(f){if(!(this.isDragging&&
"Disabled"==this.targetState)){a.superclass.onMouseMove.call(this,f);var b=d.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(f.pageX-this._lastX)>this.delay||Math.abs(f.pageY-this._lastY)>this.delay)){var g=this.getSelectedNodes();g.length&&b.startDrag(this,g,this.copyState(e.getCopyKeyState(f),!0))}if(this.isDragging){g=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=k.position(this.current,!0);g=this.horizontal?f.pageX-this.targetBox.x<
this.targetBox.w/2==k.isBodyLtr(this.current.ownerDocument):f.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||g!=this.before)this._markTargetAnchor(g),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(d){if(!this.mouseDown&&this._legalMouseDown(d)&&(!this.skipForm||!e.isFormElement(d)))this.mouseDown=!0,this._lastX=d.pageX,this._lastY=d.pageY,a.superclass.onMouseDown.call(this,d)},onMouseUp:function(d){this.mouseDown&&
(this.mouseDown=!1,a.superclass.onMouseUp.call(this,d))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=d.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,e){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?e?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?
"":"Disabled");this==a&&d.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,d,e){if(this==e)this.onDrop(a,b,d);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,d){if(this!=a)this.onDropExternal(a,b,d);else this.onDropInternal(b,d)},onDropExternal:function(a,b,d){var f=this._normalizedCreator;
this._normalizedCreator=this.creator?function(b,d){return f.call(this,a.getItem(b.id).data,d)}:d?function(b){var d=a.getItem(b.id);b=b.cloneNode(!0);b.id=e.getUniqueId();return{node:b,data:d.data,type:d.type}}:function(b){var d=a.getItem(b.id);a.delItem(b.id);return{node:b,data:d.data,type:d.type}};this.selectNone();!d&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!d&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=f},onDropInternal:function(a,b){var d=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return d.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=e.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=
d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){a.superclass.onOverEvent.call(this);d.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){a.superclass.onOutEvent.call(this);d.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!n.isLeft(a))return!1;
if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(f.contains(a,"dojoDndHandle"))return!0;if(f.contains(a,"dojoDndItem")||f.contains(a,"dojoDndIgnore"))break}return!1}});return a})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(l,s,p,q,f,k,n,m){return l("dijit.form._ComboBoxMenu",[f,k,m,n],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(s.add(this.previousButton,"dijitMenuItemRtl"),s.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var f=this.ownerDocument.createElement("div");f.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");f.setAttribute("role","option");return f},onHover:function(f){s.add(f,"dijitMenuItemHover")},onUnhover:function(f){s.remove(f,
"dijitMenuItemHover")},onSelect:function(f){s.add(f,"dijitMenuItemSelected")},onDeselect:function(f){s.remove(f,"dijitMenuItemSelected")},_page:function(f){var e=0,g=this.domNode.scrollTop,d=p.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();e<d;){var a=this.getHighlightedOption();if(f){if(!a.previousSibling||"none"==a.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!a.nextSibling||"none"==a.nextSibling.style.display)break;this.selectNextNode()}a=
this.domNode.scrollTop;e+=(a-g)*(f?-1:1);g=a}},handleKey:function(f){switch(f.keyCode){case q.DOWN_ARROW:return this.selectNextNode(),!1;case q.PAGE_DOWN:return this._page(!1),!1;case q.UP_ARROW:return this.selectPreviousNode(),!1;case q.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"anaplan/charts/PagingChart":function(){define("anaplan/charts/_HighChartlet anaplan/widgets/Button dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-geometry".split(" "),function(l,
s,p,q,f,k,n){return q("anaplan.charts.PagingChart",[l],{constructor:function(){this._initialized=!1;this._pageSize=this._dataColumnCount=this._dataRowCount=-1;this._view=null},layout:function(){if(this._chartContainer){var f=n.getMarginSize(this._chartContainer),h=n.getMarginSize(this._pagingButtonsContainer),h=this._contentBox.w-h.w;if(f.w!==h||f.h!==this._contentBox.h)n.setMarginBox(this._chartContainer,{h:this._contentBox.h,w:h}),this._pageSize=Math.max(0,Math.floor((this._contentBox.h-100)/30)),
this._view&&(this._serialNumbers=null,this._model&&(this._view.y[1]=Math.min(this._view.y[0]+this._pageSize,this._dataRowCount-1),this._view.y[0]=Math.max(0,this._view.y[1]-this._pageSize),this._view.y[1]=Math.min(this._view.y[0]+this._pageSize,this._dataRowCount-1),this._model.getValues(this._view)))}},postCreate:function(){var l=k.create("div",{className:"pagingButtonsContainer"},this.domNode),h=new s({label:"\x3c\x3c\x3c",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderTop",onClick:f.hitch(this,
function(){0<this._view.y[0]&&(this._view.y[0]=0,this._view.y[1]=Math.min(this._dataRowCount-1,this._pageSize-1),this._serialNumbers=null,this._model.getValues(this._view))})});k.place(h.domNode,k.create("div",{},l));var e=new s({label:"\x3c\x3c",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderAsc",onClick:f.hitch(this,function(){0<this._view.y[0]&&(this._view.y[1]=Math.max(this._view.y[0]-1,this._pageSize-1),this._view.y[0]=Math.max(0,this._view.y[0]-this._pageSize),this._serialNumbers=
null,this._model.getValues(this._view))})});k.place(e.domNode,k.create("div",{},l));var g=new s({label:"\x3c",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderUp",onClick:f.hitch(this,function(){0<this._view.y[0]&&(this._view.y[0]--,this._view.y[1]--,this._serialNumbers=null,this._model.getValues(this._view))})});k.place(g.domNode,k.create("div",{},l));var d=new s({label:"\x3e",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderDown",onClick:f.hitch(this,function(){this._view.y[1]<
this._dataRowCount-1&&(this._view.y[0]++,this._view.y[1]++,this._serialNumbers=null,this._model.getValues(this._view))})});k.place(d.domNode,k.create("div",{},l));var a=new s({label:"\x3e\x3e",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderDesc",onClick:f.hitch(this,function(){this._view.y[1]<this._dataRowCount-1&&(this._view.y[0]=Math.min(this._view.y[1]+1,this._dataRowCount-this._pageSize),this._view.y[1]=Math.min(this._view.y[1]+this._pageSize,this._dataRowCount-1),this._serialNumbers=
null,this._model.getValues(this._view))})});k.place(a.domNode,k.create("div",{},l));var n=new s({label:"\x3e\x3e\x3e",iconClass:"anaplanPagingChartButtonIcon anaplanEditorIconReorderBottom",onClick:f.hitch(this,function(){this._view.y[1]<this._dataRowCount-1&&(this._view.y[0]=Math.max(0,this._dataRowCount-this._pageSize),this._view.y[1]=this._dataRowCount-1,this._serialNumbers=null,this._model.getValues(this._view))})});k.place(n.domNode,k.create("div",{},l));this._buttons=[h,e,g,d,a,n];this._pagingButtonsContainer=
l;this.inherited(arguments)},reset:function(){this._initialized=!1;this._view=null;this.inherited(arguments)},uninitialize:function(){p.forEach(this._buttons,function(f){f.destroyRecursive()});this._buttons=[];this.inherited(arguments)},update:function(f){if(this._initialized){if(this._dataRowCount!==f[0].dataRowCount&&(this._dataRowCount=f[0].dataRowCount,this._view&&(this._view.y[1]>this._dataRowCount-1||this._view.y[0]+this._pageSize>this._dataRowCount-1))){this._view.y[1]=Math.min(this._view.y[0]+
this._pageSize,this._dataRowCount-1);this._view.y[0]=Math.max(0,this._view.y[1]-this._pageSize);this._view.y[1]=Math.min(this._view.y[0]+this._pageSize,this._dataRowCount-1);this._model.getValues(this._view);return}this.inherited(arguments)}else this._view={x:[0,f[0].dataColumnCount-1],y:[0,Math.min(this._pageSize-1,f[0].dataRowCount?f[0].dataRowCount-1:0)]},this._dataColumnCount=f[0].dataColumnCount,this._dataRowCount=f[0].dataRowCount,this._initialized=!0,this._model.getValues(this._view)},view:function(){return 0===
this._dataRowCount?f.mixin(f.clone(this._view),{y:[0,this._pageSize-1]}):this._view},_getSubTitle:function(){return this._view.y[0]+1+" to "+(this._view.y[1]+1)+" of "+this._dataRowCount}})})},"anaplan/dashboard/dashboardWidgets/_PageSelectorToolbar":function(){define(["dojo/_base/declare","anaplan/widgets/Toolbar","dojo/dom-class"],function(l,s,p){return l([s],{postCreate:function(){this.inherited(arguments);p.add(this.domNode,"dijitReset dijitInline pageSelectorToolbar")}})})},"anaplan/data/LabelPageReadStore":function(){define("anaplan/utils/JsHelper anaplan/utils/LabelPageHelper dojo/_base/declare dojo/_base/lang dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),
function(l,s,p,q,f,k){p=p("anaplan.data.LabelPageReadStore",null,{_itemsByLabel:null,close:function(){this._itemsByIdentity=null},constructor:function(f){this._jsonData=f.labelPage?this._convertLabelPageToStoreFormat(f.labelPage):[]},containsValue:function(f,k,h){console.error("containsValue "+f+" "+k+" "+h);return!1},containsLabel:function(f){return!1===l.isUndefined(this._itemsByLabel[f])},fetchItemByIdentity:function(f){return this._itemsByIdentity?this._itemsByIdentity[f.identity]:null},getAttributes:function(){return["entityLongId",
"label"]},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0}},getIdentity:function(f){return f.entityLongId},getIdentityAttributes:function(f){return[f.entityLongId]},getLabel:function(f){return f.label},getLabelAttributes:function(f){return[f.label]},getValue:function(f,k,h){"label"!==k&&"entityLongId"!==k&&console.error("getValue "+f+" "+k+" "+h);return f?f.label:null},getValues:function(f,k){"label"!==k&&console.error("getValues "+f+" "+k);return f.label?f.label:
[]},hasAttribute:function(f,k){return"label"!==k?(console.error("hasAttribute "+f+" "+k),!1):f.label},isItem:function(f){console.error("isItem "+f);return!1},isItemLoaded:function(){return!0},loadItem:function(f){console.error("loadItem "+f.item)},_convertLabelPageToStoreFormat:function(f){var k=[],h=f.count,e,g,d,a;this._itemsByIdentity={};this._itemsByLabel={};if(!h)return k;e=f.entityLongIds?f.entityLongIds[0]:[];g=f.entityIds?f.entityIds[0]:[];d=f.parentEntityLongIds?f.parentEntityLongIds[0]:
[];for(a=0;a<h;a++)k[a]={entityLongId:e[a],entityId:g[a],parentEntityLongId:d[a],label:s.getItemName(f,0,a,!1)},this._itemsByIdentity[e[a]]=k[a],this._itemsByLabel[k[a].label]=k[a];return k},_fetchItems:function(f,k){k(this._filter(f,this._jsonData),f)},_filter:function(k,l){var h=[],e,g,d,a,r;if(k.query){e=k.queryOptions?k.queryOptions.ignoreCase:!1;e=f.patternToRegExp(k.query.label,e);g=l.length;for(d=0;d<g;++d){a=!0;r=l[d];if(null===r||!r.label.match(e))a=!1;a&&h.push(r)}}else h=l;return h}});
q.extend(p,k);return p})},"anaplan/cf/BgColorScaleEditor":function(){define("anaplan/utils/UIHelper anaplan/utils/FormatHelper dojo/_base/array dojo/_base/Color dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-class dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/_FormMixin dijit/form/FilteringSelect dijit/form/Select dijit/Tooltip anaplan/data/ModelContentCache anaplan/constants anaplan/data/ModelContentHelper anaplan/Exceptions anaplan/format/util anaplan/store/Memory anaplan/utils/EntityLongIdHelper ./_ViewMixin ./BgColorScaleFormatDefinition ./ColorSelect ./FormatDefinitionFactory ./RuleDefinition dojo/text!anaplan/templates/BgColorScaleEditor.html dojo/i18n!anaplan/nls/conditionalFormatting dijit/form/NumberTextBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z,y,w,x,A,D,E,B,C,G,H,L,F){var K=z.conditionalFormatType,J={BLACK:"#000000",WHITE:"#FFFFFF",RED1:"#FF7C80",RED2:"#FB725F",GREEN:"#60E470",BLUE:"#75ABFB",CYAN:"#68E9FE",YELLOW1:"#FFEB84",YELLOW2:"#FFFE4A"},M={minimumSignificantDigits:4,decimalPlaces:-1,decimalSeparator:"FULL_STOP",groupingSeparator:"COMMA",negativeNumberNotation:"MINUS_SIGN",unitsType:"NONE",unitsDisplayType:"NONE",currencyCode:null,customUnits:null,zeroFormat:"ZERO",comparisonIncrease:"GOOD",
dataType:"NUMBER"};return f("anaplan.cf.BgColorScaleEditor",[g,d,a,E,r],{baseClass:"bgColorScaleEditor",templateString:L,constructor:function(a){if(!a||!a.moduleEntityLongId)throw new w.ClientException("anaplan.cf.BgColorScaleEditor: missing moduleEntityLongId");this._moduleEntityLongId=a.moduleEntityLongId;this._selectedLineItemIdentifier=a.selectedLineItemIdentifier||null;this._submitted=!1},getAutoSizePixels:function(){return{maxHeight:380,maxWidth:400,minHeight:380,minWidth:400}},getChildren:function(){var a=
[this._lineItemToFormatSelector,this._valuesFromSelector,this.textBoxMinValue,this.textBoxMaxValue];3===this._colorCount&&a.push(this.textBoxMidValue);return a},postCreate:function(){var a;try{this.inherited(arguments),l.setText(this.labelLineItemToFormat,F.labelLineItemToFormat),l.setText(this.labelValuesFrom,F.labelValuesFrom),l.setText(this.labelValuesAndColors,F.labelValuesAndColors),l.setText(this.labelRangeMinimum,F.labelRangeMinimum),l.setText(this.labelRangeMidPoint,F.labelRangeMidPoint),
l.setText(this.labelRangeMaximum,F.labelRangeMaximum),l.setText(this.labelPreview,F.labelPreview),a=this._getLineItems(),this._createLineItemToFormatSelector(a),this._createValuesFromSelector(a),this._createValuesAndColorsSelector(),this._createThemeSelector(),m.set(this.labelLineItemToFormat,"for",this._lineItemToFormatSelector.id),m.set(this.labelValuesFrom,"for",this._valuesFromSelector.id),m.set(this.labelValuesAndColors,"for",this._valuesAndColorsSelector.id),m.set(this.labelRangeMinimum,"for",
this.textBoxMinValue.id),m.set(this.labelRangeMidPoint,"for",this.textBoxMidValue.id),m.set(this.labelRangeMaximum,"for",this.textBoxMaxValue.id),this.textBoxMinValue.rangeCheck=k.hitch(this,function(a){return this._submitted?this._rangeCheckTextBoxMinValue(a):!0}),this.textBoxMidValue.rangeCheck=k.hitch(this,function(a){return this._submitted?this._rangeCheckTextBoxMidValue(a):!0}),this.textBoxMaxValue.rangeCheck=k.hitch(this,function(a){return this._submitted?this._rangeCheckTextBoxMaxValue(a):
!0}),this.textBoxMinValue.set("rangeMessage",F.rangeMessageTextBoxMinValue2Color),this.textBoxMinValue.set("tooltipPosition",["below-centered"]),this.textBoxMidValue.set("rangeMessage",F.rangeMessageTextBoxMidValue),this.textBoxMidValue.set("tooltipPosition",["below-centered"]),this.textBoxMaxValue.set("rangeMessage",F.rangeMessageTextBoxMaxValue2Color),this.textBoxMaxValue.set("tooltipPosition",["below-centered"])}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor.postCreate",b);
}},prepare:function(a){try{this.inherited(arguments),this._conditionalFormattingDefinition=a.conditionalFormattingDefinition,this._editRuleAtIndex=a.hasOwnProperty("editRuleAtIndex")?a.editRuleAtIndex:-1,-1===this._editRuleAtIndex?this._prepareForAddNew():this._prepareForEdit()}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor.prepare",b);}},reset:function(){try{this.inherited(arguments),this._lineItemToFormatSelector.reset(),this._valuesFromSelector.reset(),this.textBoxMinValue.reset(),
this.textBoxMidValue.reset(),this.textBoxMaxValue.reset(),this._conditionalFormattingDefinition=null,this._editRuleAtIndex=-1,this._submitted=!1}catch(a){throw new w.ClientException("anaplan.cf.BgColorScaleEditor.reset",a);}},startup:function(){var a=this._lineItemToFormatSelector,b=this._themeSelector,d=this._valuesAndColorsSelector,e=this._valuesFromSelector;try{this.inherited(arguments),a.startup(),b.startup(),d.startup(),e.startup(),this.own(n.before(a,"uninitialize",function(){u.hide(a.domNode)}),
n.before(e,"uninitialize",function(){u.hide(e.domNode)}),this.textBoxMinValue.on("change",k.hitch(this,"_onTextBoxMinValueChange")),this.textBoxMidValue.on("change",k.hitch(this,"_onTextBoxMidValueChange")),this.textBoxMaxValue.on("change",k.hitch(this,"_onTextBoxMaxValueChange")),this._themeSelector.on("change",k.hitch(this,"_updatePreview")))}catch(f){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#startup",f);}},uninitialize:function(){try{this._valuesFromSelector.domNode&&this._valuesFromSelector.destroyRecursive(),
this._lineItemToFormatSelector.domNode&&this._lineItemToFormatSelector.destroyRecursive(),this._themeSelector.domNode&&this._themeSelector.destroyRecursive(),this._valuesAndColorsSelector.domNode&&this._valuesAndColorsSelector.destroyRecursive(),this.inherited(arguments)}catch(a){throw new w.ClientException("anaplan.cf.BgColorScaleEditor.uninitialize",a);}},validate:function(a){var b,d,e;try{a&&(this._submitted=!0);if(!this.inherited(arguments))return!1;if(a)if(e=this._buildRuleDefinition(),b=!0,
-1<this._editRuleAtIndex&&(d=this._conditionalFormattingDefinition.rules[this._editRuleAtIndex])&&d.targetIdentifier===e.targetIdentifier&&(b=!1),b&&this._conditionalFormattingDefinition.getRuleDefinitionForTarget(this._lineItemToFormatSelector.get("value")))this.onConfirmOverwrite(e,this._editRuleAtIndex);else this.onSubmit(e,this._editRuleAtIndex)}catch(f){throw new w.ClientException("anaplan.cf.BgColorScaleEditor.validate",f);}return!0},_buildRuleDefinition:function(){var a,b;try{a=new H,a.targetIdentifier=
this._lineItemToFormatSelector.get("value"),b=this._valuesFromSelector.get("value"),"_-1_"!==b&&b!==a.targetIdentifier&&(a.valuesIdentifier=b),a.format=(new G).createFormatDefinition(K.BG_COLOR_SCALE),a.format.pegs=2===this._colorCount?[+this.textBoxMinValue.get("value"),+this.textBoxMaxValue.get("value")]:[+this.textBoxMinValue.get("value"),+this.textBoxMidValue.get("value"),+this.textBoxMaxValue.get("value")],a.format.bgColor=this._themeSelector.get("value").split(",")}catch(d){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._buildRuleDefinition",
d);}return a},_calculateColor:function(a,b,d,e,f){var g,h,k,l=null;try{a&&(d&&"number"===typeof b&&"number"===typeof e&&"number"===typeof f)&&(g=a.toRgb(),h=d.toRgb(),k=function(a){return g[a]+(f-b)/(e-b)*(h[a]-g[a])},l=new q([k(0),k(1),k(2)]))}catch(m){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_calculateColor",m);}return l||new q(J.WHITE)},_createLineItemToFormatSelector:function(a){var d,e;try{e=new A({idProperty:"lineItemIdentifier",data:a}),d=new b({store:e,labelAttr:"label",
labelType:"html",searchAttr:"name",maxHeight:-1,placeHolder:F.placeHolderLineItemToFormat},this.lineItemToFormatSelectorNode),this.own(d.on("change",k.hitch(this,"_onLineItemToFormatChange"))),this._lineItemToFormatSelector=d,this._lineItemToFormatStore=e}catch(f){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._createLineItemToFormatSelector",f);}},_createThemeSelector:function(){var a;try{a=new C({options:[],maxHeight:300},this.themeSelectorNode),h.add(a.dropDown.domNode,this.baseClass+
"ThemeSelectorDropDown"),this._themeSelector=a}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_createThemeSelector",b);}},_createValuesAndColorsSelector:function(){try{var a=new t({options:[{label:F.option2ColorScale,value:"colors-2"},{label:F.option3ColorScale,value:"colors-3"}]},this.valuesAndColorsSelectorNode);h.add(a.dropDown.domNode,this.baseClass+"ValuesAndColorsDropDown");this.own(a.on("change",k.hitch(this,"_onValuesAndColorsSelect")));this._valuesAndColorsSelector=a}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_createValuesAndColorsSelector",
b);}},_createValuesFromSelector:function(a){var d,e;try{d=p.filter(a,function(a){return"NUMBER"===a.dataType}),d.unshift(this._getSameAsLineItemToFormatOption()),e=new A({idProperty:"lineItemIdentifier",data:d}),this._valuesFromSelector=new b({store:e,labelAttr:"label",labelType:"html",searchAttr:"name",maxHeight:-1,placeHolder:F.placeHolderValuesFrom},this.valuesFromSelectorNode),this._valuesFromStore=e}catch(f){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._createValuesFromSelector",
f);}},_getLineItems:function(){var a,b,d,e,f;try{e=v.getLineItemsLabelPage(this._moduleEntityLongId);if(!e)throw new w.ClientException("anaplan.cf.BgColorScaleEditor._getLineItems: lineItemsLabelPage not found for module ["+this._moduleEntityLongId+"]");d=[];b=e.labels[0];a=e.entityLongIds[0];f=v.getModuleInfo(this._moduleEntityLongId);p.forEach(a,function(a,e){var g=y.getLineItemInfoFromModuleInfo(f,a),h=b[e];d.push({lineItemIdentifier:D.entityLongIdToEntityLongIdIdentifier(a),name:h,label:s.escapeHTML(h),
dataType:g.format.dataType})})}catch(g){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._getLineItems",g);}return d},_getFormatDefinition:function(){var a=null,b;try{this._conditionalFormattingDefinition&&-1!==this._editRuleAtIndex&&(b=this._conditionalFormattingDefinition.rules[this._editRuleAtIndex])&&(a=b.format||null)}catch(d){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_getFormatDefinition",d);}return a},_getSameAsLineItemToFormatOption:function(){var a,b;try{b="-- "+
F.optionSameAsLineItemToFormat+" --",a={lineItemIdentifier:"_-1_",name:b,label:"\x3ci\x3e"+b+"\x3c/i\x3e",dataType:null}}catch(d){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._getSameAsLineItemToFormatOption",d);}return a},_migrateColor:function(a){a=a&&a.toUpperCase?a.toUpperCase():a;return a===J.RED1?J.RED2:a===J.YELLOW1?J.YELLOW2:a},_onLineItemToFormatChange:function(a){var b,d,e,f;try{if(d=this._lineItemToFormatStore.get(a))-1!==this._editRuleAtIndex&&(b=this._conditionalFormattingDefinition.rules[this._editRuleAtIndex]),
!b||d.lineItemIdentifier!==b.targetIdentifier?this._conditionalFormattingDefinition.getRuleDefinitionForTarget(d.lineItemIdentifier)&&this._lineItemToFormatSelector.displayMessage(F.messageExistingRuleForTarget):this._lineItemToFormatSelector.displayMessage(null),f=this._valuesFromStore,e=this._valuesFromSelector,"NUMBER"===d.dataType?(f.get("_-1_")||f.add(this._getSameAsLineItemToFormatOption(),{before:f.data[0]}),this._freezeValuesFrom?this._freezeValuesFrom=!1:""===k.trim(e.get("value"))&&e.set("value",
"_-1_")):("_-1_"===e.get("value")&&e.set("value",null),f.remove("_-1_"))}catch(g){l.showErrorReporter(new w.ClientException("anaplan.cf.BgColorScaleEditor._onLineItemToFormatChange",g))}},_onTextBoxMaxValueChange:function(){this._onValueChange(this.textBoxMaxValue)},_onTextBoxMidValueChange:function(){this._onValueChange(this.textBoxMidValue)},_onTextBoxMinValueChange:function(){this._onValueChange(this.textBoxMinValue)},_onValueChange:function(a){try{this._submitted&&this.validate(!1),this._updatePreview(),
setTimeout(function(){a.focus()},25)}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_onValueChange",b);}},_onValuesAndColorsSelect:function(a){try{"colors-2"===a?this._show2ColorOptions():"colors-3"===a&&this._show3ColorOptions()}catch(b){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_onValuesAndColorsSelect",b);}},_pickSuitableMidColor:function(a,b,d){var e=null;try{p.some(a,function(a){return a.colors[0]===b&&a.colors[2]===d?(e=a.colors[1],!0):!1})}catch(f){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_pickSuitableMidColor",
f);}return e},_prepareForAddNew:function(){try{this._selectedLineItemIdentifier&&!this._conditionalFormattingDefinition.getRuleDefinitionForTarget(this._selectedLineItemIdentifier)&&this._lineItemToFormatSelector.set("value",this._selectedLineItemIdentifier),this._onValuesAndColorsSelect(this._valuesAndColorsSelector.get("value"))}catch(a){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._prepareForAddNew",a);}},_prepareForEdit:function(){var a,b,d;try{b=this._conditionalFormattingDefinition.rules[this._editRuleAtIndex];
if(!b)throw new w.ClientException("Rule definition not found at index ["+this._editRuleAtIndex+"]");a=b.format;if(!a||!a.isInstanceOf(B))throw new w.ClientException("Expected format definition of type BgColorScaleFormatDefinition");this._lineItemToFormatSelector.set("value",b.targetIdentifier||null);(d=b.valuesIdentifier)?this._storeContainsLineItem(this._valuesFromStore,d)||(d=null,this._freezeValuesFrom=!0):d="_-1_";this._valuesFromSelector.set("value",d);if(2===a.pegs.length)this._valuesAndColorsSelector.set("value",
"colors-2"),this.textBoxMinValue.set("value",a.pegs[0]),this.textBoxMaxValue.set("value",a.pegs[1]),this._show2ColorOptions();else if(3===a.pegs.length)this._valuesAndColorsSelector.set("value","colors-3"),this.textBoxMinValue.set("value",a.pegs[0]),this.textBoxMidValue.set("value",a.pegs[1]),this.textBoxMaxValue.set("value",a.pegs[2]),this._show3ColorOptions();else throw new w.ClientException("Unexpected peg count ["+a.pegs.length+"]");this.validate(!1)}catch(e){throw new w.ClientException("anaplan.cf.BgColorScaleEditor._prepareForEdit",
e);}},_rangeCheckTextBoxMaxValue:function(a){var b;return 2===this._colorCount?(b=this.textBoxMinValue.get("value"),"number"===typeof b&&a>b):3===this._colorCount?(b=this.textBoxMidValue.get("value"),"number"===typeof b&&a>b):!0},_rangeCheckTextBoxMidValue:function(a){var b,d;return 3===this._colorCount?(b=this.textBoxMinValue.get("value"),d=this.textBoxMaxValue.get("value"),"number"===typeof b&&a>b&&"number"===typeof d&&a<d):!0},_rangeCheckTextBoxMinValue:function(a){var b;return 2===this._colorCount?
(b=this.textBoxMaxValue.get("value"),"number"===typeof b&&a<b):3===this._colorCount?(b=this.textBoxMidValue.get("value"),"number"===typeof b&&a<b):!0},_show2ColorOptions:function(){var a,b,d,f,g;try{if(2!==this._colorCount){this._colorCount=2;e.set(this.textBoxMidValue.domNode,"display","none");e.set(this.labelRangeMidPoint,"display","none");f=p.map([["RED2","YELLOW2"],["RED2","WHITE"],["BLUE","YELLOW2"],["BLUE","WHITE"],["GREEN","YELLOW2"],["GREEN","WHITE"],["CYAN","YELLOW2"],["YELLOW2","RED2"],
["YELLOW2","BLUE"],["YELLOW2","GREEN"],["YELLOW2","CYAN"],["YELLOW2","WHITE"],["WHITE","RED2"],["WHITE","BLUE"],["WHITE","GREEN"],["WHITE","YELLOW2"]],function(a){var b=J[a[0]];a=J[a[1]];return{colors:[b,a],value:[b,a].join()}});this._themeSelector.set("options",f);if(a=this._getFormatDefinition())d=a.bgColor[0],b=2<a.bgColor.length?a.bgColor[2]:a.bgColor[1],d&&b&&(g=[this._migrateColor(d),this._migrateColor(b)].join());g||(g=this._themeSelector.get("options")[0].value);this._themeSelector.set("value",
g);this.textBoxMinValue.set("rangeMessage",F.rangeMessageTextBoxMinValue2Color);this.textBoxMaxValue.set("rangeMessage",F.rangeMessageTextBoxMaxValue2Color)}}catch(h){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_show2ColorOptions",h);}},_show3ColorOptions:function(){var a,b,d,f,g,h;try{if(3!==this._colorCount){this._colorCount=3;e.set(this.textBoxMidValue.domNode,"display","");e.set(this.labelRangeMidPoint,"display","");g=p.map([["RED2","YELLOW2","BLUE"],["RED2","YELLOW2","CYAN"],["RED2",
"YELLOW2","GREEN"],["RED2","WHITE","BLUE"],["RED2","WHITE","GREEN"],["BLUE","YELLOW2","CYAN"],["BLUE","YELLOW2","RED2"],["BLUE","WHITE","RED2"],["GREEN","YELLOW2","RED2"],["GREEN","WHITE","RED2"],["WHITE","YELLOW2","RED2"]],function(a){var b=J[a[0]],d=J[a[1]];a=J[a[2]];return{colors:[b,d,a],value:[b,d,a].join()}});this._themeSelector.set("options",g);if(a=this._getFormatDefinition())f=a.bgColor[0],2<a.bgColor.length?(d=a.bgColor[1],b=a.bgColor[2]):b=a.bgColor[1],f&&b&&(f=this._migrateColor(f),b=this._migrateColor(b),
(d=d?this._migrateColor(d):this._pickSuitableMidColor(g,f,b))&&(h=[f,d,b].join()));h||(h=this._themeSelector.get("options")[0].value);this._themeSelector.set("value",h);this.textBoxMinValue.set("rangeMessage",F.rangeMessageTextBoxMinValue3Color);this.textBoxMaxValue.set("rangeMessage",F.rangeMessageTextBoxMaxValue3Color)}}catch(k){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_show3ColorOptions",k);}},_storeContainsLineItem:function(a,b){return 0<a.query({lineItemIdentifier:b}).length},
_updatePreview:function(){var a,b,d,e,f,g,h,k,l,m,n,r=[],p=[],s=[],t=Math.floor(7.5);try{if(!this._rangeCheckTextBoxMinValue(+this.textBoxMinValue.get("value"))||!this._rangeCheckTextBoxMidValue(+this.textBoxMidValue.get("value"))||!this._rangeCheckTextBoxMaxValue(+this.textBoxMaxValue.get("value")))this.previewNode.innerHTML="";else{l=+this.textBoxMinValue.get("value");m=+this.textBoxMidValue.get("value");n=+this.textBoxMaxValue.get("value");b=this._themeSelector.get("value").split(",");g=new q(b[0]);
3===b.length?(h=new q(b[1]),k=new q(b[2])):k=new q(b[1]);if((!h||"number"!==typeof m)&&"number"===typeof l&&"number"===typeof n)m=(l+n)/2,h=this._calculateColor(g,l,k,n,m);if("number"===typeof l&&(p[0]=l,s[0]=g,"number"===typeof m))for(a=1;a<t;a++)p[a]=(m-l)/t*a+l,s[a]=this._calculateColor(g,l,h,m,p[a]);if("number"===typeof m&&(p[t]=m,s[t]=h,"number"===typeof n))for(a=t+1;14>a;a++)p[a]=(n-m)/(14-t)*(a-t)+m,s[a]=this._calculateColor(h,m,k,n,p[a]);if("number"===typeof n&&(p[14]=n,s[14]=k,"number"===
typeof l&&"number"!==typeof m))for(a=1;14>a;a++)p[a]=(n-l)/14*a+l,s[a]=this._calculateColor(g,l,k,n,p[a]);r.push("\x3ctable\x3e\x3ctbody\x3e");for(e=0;3>e;e++){r.push("\x3ctr\x3e");for(d=0;5>d;d++)f=5*e+d,r.push('\x3ctd style\x3d"background-color: ',s[f]&&isFinite(p[f])?s[f].toHex():J.WHITE,';"\x3e'),r.push(isFinite(p[f])?x.applyFormat(p[f],M):"\x26nbsp;"),r.push("\x3c/td\x3e");r.push("\x3c/tr\x3e")}r.push("\x3c/tbody\x3e\x3c/table\x3e");this.previewNode.innerHTML=r.join("")}}catch(u){throw new w.ClientException("anaplan.cf.BgColorScaleEditor#_updatePreview",
u);}}})})},"anaplan/constants":function(){define(["dojo/_base/lang"],function(l){var s={SYSTEM_ACTIONS:{COPY_MODULE:"COPY_MODULE",RESTORE_MODEL:"RESTORE_MODEL",GET_AUDIT_LOG:"GET_AUDIT_LOG",GET_ALL_CURRENCIES:"GET_ALL_CURRENCIES",GET_APPLICATION_PROPERTIES:"GET_APPLICATION_PROPERTIES",GET_LOGGED_IN_USER:"GET_LOGGED_IN_USER",GET_SELECTOR_LABEL_PAGE:"GET_SELECTOR_LABEL_PAGE",GET_URL:"GET_URL",GET_USERS_IN_MODEL:"GET_USERS_IN_MODEL",CREATE_TOKEN_ACQUISITION_TICKET:"CREATE_TOKEN_ACQUISITION_TICKET",GET_DATA_SOURCES:"GET_DATA_SOURCES",
SYNC_MODEL:"SYNC_MODEL",START_SYNC_REVISIONS:"START_SYNC_REVISIONS",GET_MODEL_REVISIONS:"GET_MODEL_REVISIONS",REVERT_TO_LAST_REVISION:"REVERT_TO_LAST_REVISION",CREATE_REVISION:"CREATE_REVISION",SET_MODEL_PROPERTY:"SET_MODEL_PROPERTY",SET_MODEL_PROPERTIES:"SET_MODEL_PROPERTIES",GET_SYNC_SOURCE_INFO:"GET_SYNC_SOURCE_INFO",GET_SYNC_PAIR_REVISION_INFO:"GET_SYNC_PAIR_REVISION_INFO",START_COMPARE_REVISIONS:"START_COMPARE_REVISIONS",SET_MODEL_ACTIVE_STATE:"SET_MODEL_ACTIVE_STATE",CREATE_MODEL_FROM_REVISION:"CREATE_MODEL_FROM_REVISION",
GET_ENTITLEMENTS:"GET_ENTITLEMENTS",COPY_SELECTION_ALONG_AXIS:"COPY_SELECTION_ALONG_AXIS",GET_AVAILABLE_CHARSETS:"GET_AVAILABLE_CHARSETS",RUN_ACTION:"RUN_ACTION",UNDO:"UNDO",NOTIFY_OPEN_PAGE:"NOTIFY_OPEN_PAGE"},MODEL_PROPERTY_NAMES:{ENABLE_ACCESS_TO_HIDDEN_CONTENT:"ENABLE_ACCESS_TO_HIDDEN_CONTENT",AUTOMATIC_REFRESH_INTERVAL:"automaticRefreshInterval",DEFAULT_THEME:"defaultTheme",MESSAGE_OF_THE_DAY:"messageOfTheDay",DASHBOARD_TOUCH_FRIENDLY_SPACING:"dashboardTouchFriendlySpacing",PERSONAL_SAVED_DASHBOARDS:"personalSavedDashboards"},
PLACEHOLDER:{HTML_START_MARKER:"@@@ANAPLAN-HTML-START@@@",NEWLINE:"@@@ANAPLAN-NEWLINE@@@",HTML_END_MARKER:"@@@ANAPLAN-HTML-END@@@"},FEATURE_FLAGS:{CHART_COLOURS:"enableChartColours",EXCLUDE_PAGES_AS_LABELS_FROM_SEARCH_RESULTS:"excludePagesAsLabelsFromSearchResults",TIME_RANGES:"timeRanges.viewable",GRID2:"grid2.enabled",GLOBAL_NAV:"globalNav.enabled",RESTORE_TO_LOCKED:"restoreToLocked.enabled",QUICK_FILTER:"quickFilter.enabled"},ENTITLED_FEATURES:{PERSONAL_SAVED_DASHBOARDS:"PERSONAL_SAVED_DASHBOARDS",
ALM:"ALM",BIZ_MAP:"BIZ_MAP",BYOK:"BYOK",OPTIMIZER:"OPTIMIZER",GRID2:"GRID2",DATA_INPUT_UNDO:"DATA_INPUT_UNDO",QUICK_FILTER:"QUICK_FILTER"},SINGLE_IP_COOKIE_NAME:"__is_sip__",MAXIMUM_WORKSPACE_NAME_LENGTH:75,MAXIMUM_ID_LENGTH:60,TOP_LEVEL_ITEM_ENTITY_INDEX:0,MODEL_ENTITY_TYPE_INDEX:3,TIME_ENTITY_TYPE_INDEX:5,WORKFLOW_STATUS_ENTITY_TYPE_INDEX:8,MODEL_ENTITY_ENTITY_TYPE_INDEX:9,SUMMARY_METHOD_ENTITY_TYPE_INDEX:10,BUILT_IN_MODEL_ROLE_ENTITY_TYPE_INDEX:19,SYSTEM_AXIS_IDENTIFIER_ENTITY_TYPE_INDEX:20,CURRENCY_ENTITY_TYPE_INDEX:22,
CALENDAR_TYPE_ENTITY_TYPE_INDEX:25,LINE_ITEM_SUBSET_CATEGORY_ENTITY_TYPE_INDEX:27,ACTION_GROUPING_ENTITY_TYPE_INDEX:31,UNMAPPED_REMOTE_MODEL_ENTITY_TYPE_INDEX:35,ENTITY_TYPE_ENTITY_TYPE_INDEX:100,HIERARCHY_ENTITY_TYPE_INDEX:101,MODULE_ENTITY_TYPE_INDEX:102,TABLE_ENTITY_TYPE_INDEX:103,ACCOUNT_QUALIFIER_ENTITY_TYPE_INDEX:104,CURRENCY_QUALIFIER_ENTITY_TYPE_INDEX:105,TREATMENT_ENTITY_TYPE_INDEX:106,VERSION_ENTITY_TYPE_INDEX:107,FUNCTIONAL_AREA_ENTITY_TYPE_INDEX:108,HIERARCHY_SUBSET_ENTITY_TYPE_INDEX:109,
CUSTOM_MODEL_ROLE_ENTITY_TYPE_INDEX:110,USER_ENTITY_TYPE_INDEX:111,IMPORT_ENTITY_TYPE_INDEX:112,IMPORT_DATA_SOURCE_ENTITY_TYPE_INDEX:113,LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX:114,DASHBOARD_ENTITY_TYPE_INDEX:115,EXPORT_ENTITY_TYPE_INDEX:116,ACTION_ENTITY_TYPE_INDEX:117,PROCESS_ENTITY_TYPE_INDEX:118,REMOTE_MODEL_ENTITY_TYPE_INDEX:122,TIME_RANGE_ENTITY_TYPE_INDEX:123,COLOR_PALETTES_ENTITY_TYPE_INDEX:124,TAG_ENTITY_TYPE_INDEX:127,SYSTEM_PROPERTY_LABEL:4E9,SYSTEM_PROPERTY_PARENT:4000000001,SYSTEM_PROPERTY_IS_MEMBER_OF:4000000002,
SYSTEM_PROPERTY_STATUS:4000000003,SYSTEM_PROPERTY_CODE:4000000004,SYSTEM_PROPERTY_READ_ACCESS_USERS:4000000005,SYSTEM_PROPERTY_WRITE_ACCESS_USERS:4000000006,SYSTEM_PROPERTY_FORMULA:4000000009,SYSTEM_PROPERTY_ID:4000000010,SYSTEM_PROPERTY_NO_LABEL:4000000011,SYSTEM_PROPERTY_USED_IN_APPLIES_TO:4000000012,SYSTEM_PROPERTY_USED_AS_FORMAT:4000000013,SYSTEM_PROPERTY_USED_IN_FORMULA:4000000014,SYSTEM_PROPERTY_USED_BY_PROCESSES:4000000015,SYSTEM_PROPERTY_USED_BY_DASHBOARDS:4000000016,SYSTEM_PROPERTY_NOTES:4000000017,
SYSTEM_PROPERTY_HIERARCHY_PROPERTIES:4000000100,SYSTEM_PROPERTY_HIERARCHY_TOP_LEVEL:4000000101,SYSTEM_PROPERTY_HIERARCHY_SUBSETS:4000000102,SYSTEM_PROPERTY_HIERARCHY_IS_ORGANISATION:4000000103,SYSTEM_PROPERTY_HIERARCHY_CATEGORY:4000000104,SYSTEM_PROPERTY_HIERARCHY_PARENT_HIERARCHY:4000000105,SYSTEM_PROPERTY_HIERARCHY_SELECTIVE_ACCESS:4000000106,SYSTEM_PROPERTY_HIERARCHY_HAS_WORKFLOW:4000000107,SYSTEM_PROPERTY_HIERARCHY_ITEM_COUNT:4000000108,SYSTEM_PROPERTY_HIERARCHY_NUMBERED_LIST:4000000109,SYSTEM_PROPERTY_HIERARCHY_DISPLAY_NAME_PROPERTY:4000000110,
SYSTEM_PROPERTY_HIERARCHY_PRODUCTION_DATA:4000000111,SYSTEM_PROPERTY_HIERARCHY_MANAGED_BY:4000000112,SYSTEM_PROPERTY_LINE_ITEM_SUMMARY:4000000203,SYSTEM_PROPERTY_LINE_ITEM_FORMULA_SCOPE:4000000204,SYSTEM_PROPERTY_LINE_ITEM_IS_SECTION_BREAK:4000000208,SYSTEM_PROPERTY_LINE_ITEM_FORMAT:4000000212,SYSTEM_PROPERTY_LINE_ITEM_INCLUDE_BROUGHT_FORWARD:4000000216,SYSTEM_PROPERTY_LINE_ITEM_USE_SWITCHOVER:4000000217,SYSTEM_PROPERTY_MODULE_LINE_ITEMS:4000000300,SYSTEM_PROPERTY_APPLIES_TO:4000000351,SYSTEM_PROPERTY_LEAF_PERIOD_TYPE:4000000353,
SYSTEM_PROPERTY_VERSION_SELECTION:4000000354,SYSTEM_PROPERTY_REFERENCED_BY:4000000355,SYSTEM_PROPERTY_BREAKBACK:4000000357,SYSTEM_PROPERTY_USERS_LIST_OPTION:4000000362,SYSTEM_PROPERTY_TIME_RANGE:4000000358,SYSTEM_PROPERTY_MANAGED_IN:4000000359,SYSTEM_PROPERTY_READ_ACCESS_DRIVER:4000000360,SYSTEM_PROPERTY_READ_WRITE_ACCESS_DRIVER:4000000361,SYSTEM_PROPERTY_TAGS:4000000375,SYSTEM_PROPERTY_FUNCTIONAL_AREA:4000000380,SYSTEM_PROPERTY_TIME_FISCAL_YEAR_START_MONTH:4000000800,SYSTEM_PROPERTY_TIME_PARAMETER_TYPE:4000000801,
SYSTEM_PROPERTY_TIME_DETAIL_PERIOD_TYPE:4000000802,SYSTEM_PROPERTY_TIME_CURRENT_PERIOD:4000000803,SYSTEM_PROPERTY_TIME_PAST_PERIOD_COUNT:4000000804,SYSTEM_PROPERTY_TIME_FUTURE_PERIOD_COUNT:4000000805,SYSTEM_PROPERTY_TIME_CALENDAR_TYPE:4000000806,SYSTEM_PROPERTY_TIME_START_DATE:4000000807,SYSTEM_PROPERTY_TIME_WEEK_COUNT:4000000808,SYSTEM_PROPERTY_TIME_FISCAL_YEAR_END_TYPE:4000000809,SYSTEM_PROPERTY_TIME_FISCAL_YEAR_END_MONTH:4000000810,SYSTEM_PROPERTY_TIME_FISCAL_YEAR_END_DAY_IN_WEEK:4000000811,SYSTEM_PROPERTY_TIME_QUARTERLY_WEEK_GROUPING:4000000812,
SYSTEM_PROPERTY_TIME_FISCAL_YEAR_EXTRA_WEEK_MONTH:4000000813,SYSTEM_PROPERTY_TIME_FISCAL_YEAR_EXTRA_MONTH_QUARTER:4000000814,SYSTEM_PROPERTY_TIME_WEEK_FORMAT:4000000815,SYSTEM_PROPERTY_TIME_CURRENT_DETAIL_PERIOD:4000000816,SYSTEM_PROPERTY_TIME_YEAR_TO_DATE_INCLUDED:4000000817,SYSTEM_PROPERTY_TIME_YEAR_TO_GO_INCLUDED:4000000818,SYSTEM_PROPERTY_TIME_QUARTER_TOTALS_INCLUDED:4000000819,SYSTEM_PROPERTY_TIME_HALF_YEAR_TOTALS_INCLUDED:4000000820,SYSTEM_PROPERTY_TIME_TOTAL_OF_ALL_PERIODS_INCLUDED:4000000821,
SYSTEM_PROPERTY_TAKE_FISCAL_YEAR_FROM_START:4000000822,SYSTEM_PROPERTY_MODEL_ROLE_ACCESS_LEVEL:4000001E3,SYSTEM_PROPERTY_MODEL_ROLE_SELECTIVE_EDITING:4000001001,SYSTEM_PROPERTY_MODEL_ROLE_CAN_RUN_ACTION:4000001002,SYSTEM_PROPERTY_MODEL_ROLE_LANDING_DASHBOARD:4000001003,SYSTEM_PROPERTY_MODEL_ROLE_SHOW_CONTENT:4000001004,SYSTEM_PROPERTY_USER_MODEL_ROLE:4000001100,SYSTEM_PROPERTY_USER_IS_WORKSPACE_ADMIN:4000001101,SYSTEM_PROPERTY_USER_READ_ACCESS_ITEMS:4000001103,SYSTEM_PROPERTY_USER_WRITE_ACCESS_ITEMS:4000001104,
SYSTEM_PROPERTY_USER_AUTHENTICATION_SSO:4000001105,SYSTEM_PROPERTY_USER_FIRST_NAME:4000001106,SYSTEM_PROPERTY_USER_LAST_NAME:4000001107,SYSTEM_PROPERTY_USER_GUID:4000001108,SYSTEM_PROPERTY_VERSION_IS_ACTUAL:4000000700,SYSTEM_PROPERTY_VERSION_SWITCHOVER:4000000701,SYSTEM_PROPERTY_VERSION_IS_CURRENT:4000000704,SYSTEM_PROPERTY_VERSION_EDIT_FROM:4000000705,SYSTEM_PROPERTY_VERSION_EDIT_TO:4000000706,SYSTEM_PROPERTY_SAVED_VIEW_DEFINITION:4000001200,SYSTEM_PROPERTY_IMPORT_DEFINITION:4000001300,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_DEFINITION:4000001400,
SYSTEM_PROPERTY_CURRENCY_EXCHANGE_RATE:4000001500,SYSTEM_PROPERTY_LINE_ITEM_SUBSET_MODULES:4000001600,SYSTEM_PROPERTY_LINE_ITEM_SUBSET_CATEGORY:4000001601,SYSTEM_PROPERTY_DASHBOARD_DEFINITION:4000002100,SYSTEM_PROPERTY_DASHBOARD_REFERENCED_BY_ROLES:4000002101,SYSTEM_PROPERTY_DASHBOARD_REFERENCED_MODULES:4000002102,SYSTEM_PROPERTY_EXPORT_DEFINITION:4000001700,SYSTEM_PROPERTY_PROCESS_DEFINITION:4000001900,SYSTEM_PROPERTY_WORKFLOW_NOT_STARTED_DESCENDENT_COUNT:4000002E3,SYSTEM_PROPERTY_WORKFLOW_IN_PROGRESS_DESCENDENT_COUNT:4000002001,
SYSTEM_PROPERTY_WORKFLOW_COMPLETE_DESCENDENT_COUNT:4000002002,SYSTEM_PROPERTY_WORKFLOW_TOTAL_DESCENDENT_COUNT:4000002003,SYSTEM_PROPERTY_WORKFLOW_ACCESS_USER_NAMES:4000002004,SYSTEM_PROPERTY_WORKFLOW_ACCESS_USER_EMAILS:4000002005,SYSTEM_PROPERTY_WORKFLOW_CHANGE_PERMISSION:4000002006,SYSTEM_PROPERTY_REMOTE_MODEL_DEFINITION:4000002200,SYSTEM_PROPERTY_COLOR_PALETTE_COLORS:4000002300,SYSTEM_PROPERTY_COLOR_PALETTE_SELECTED:4000002301,SYSTEM_PROPERTY_IMPORT_SOURCE_LABEL:4000002400,SYSTEM_PROPERTY_IMPORT_SOURCE_MODEL:4000002401,
SYSTEM_PROPERTY_IMPORT_SOURCE_TYPE:4000002402,SYSTEM_PROPERTY_IMPORT_SOURCE_OBJECT:4000002403,SYSTEM_PROPERTY_IMPORT_TARGET_TYPE:4000002404,SYSTEM_PROPERTY_IMPORT_TARGET_NAME:4000002405,SYSTEM_PROPERTY_IMPORT_PRODUCTION_DATA:4000002406,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_MODEL:4000002501,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_TYPE:4000002502,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_OBJECT:4000002503,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_PRODUCTION_DATA:4000002504,SYSTEM_PROPERTY_IMPORT_DATA_SOURCE_IMPORTS:4000002505,
SYSTEM_PROPERTY_TIME_RANGE_FIRST_PERIOD:4000002601,SYSTEM_PROPERTY_TIME_RANGE_PERIOD_COUNT:4000002602,SYSTEM_PROPERTY_TIME_RANGE_YEAR_TO_DATE_INCLUDED:4000002603,SYSTEM_PROPERTY_TIME_RANGE_YEAR_TO_GO_INCLUDED:4000002604,SYSTEM_PROPERTY_TIME_RANGE_QUARTER_TOTALS_INCLUDED:4000002605,SYSTEM_PROPERTY_TIME_RANGE_HALF_YEAR_TOTALS_INCLUDED:4000002606,SYSTEM_PROPERTY_TIME_RANGE_TOTAL_OF_ALL_PERIODS_INCLUDED:4000002607,MODEL_CONTENT_PREFERENCES_ENTITY_LONG_ID:-1,MODEL_CONTENT_IMPORTS_ENTITY_LONG_ID:-2,MODEL_CONTENT_CURRENCIES_ENTITY_LONG_ID:-3,
MODEL_CONTENT_LISTS_AND_ROLLUPS_ENTITY_LONG_ID:-4,MODEL_CONTENT_LINE_ITEM_SUBSET_ENTITY_LONG_ID:-5,MODEL_CONTENT_NEW_LIST_ENTITY_LONG_ID:-6,MODEL_CONTENT_NEW_LINE_ITEM_SUBSET_ENTITY_LONG_ID:-7,MODEL_CONTENT_DASHBOARD_ENTITY_LONG_ID:-8,MODEL_CONTENT_HISTORY_ENTITY_LONG_ID:-9,MODEL_CONTENT_EXPORTS_ENTITY_LONG_ID:-10,MODEL_CONTENT_CONTENTS_ENTITY_LONG_ID:-11,MODEL_CONTENT_MODEL_HIERARCHY_ENTITY_LONG_ID:9E9,MODEL_CONTENT_TIMESCALE_ENTITY_LONG_ID:9000000001,MODEL_CONTENT_VERSION_ENTITY_LONG_ID:9000000002,
MODEL_CONTENT_VERSION_ENTITY_ID:"VERSIONS",MODEL_CONTENT_USERS_ENTITY_LONG_ID:9000000003,MODEL_CONTENT_HIERARCHY_ENTITY_LONG_ID:9000000004,MODEL_CONTENT_HIERARCHY_ENTITY_ID:"HIERARCHIES",MODEL_CONTENT_MODULE_ENTITY_LONG_ID:9000000005,MODEL_CONTENT_TABLE_ENTITY_LONG_ID:9000000006,MODEL_CONTENT_ACTION_ENTITY_ID:-11,MODEL_CONTENT_ACTION_ENTITY_LONG_ID:"ACTIONS",MODEL_CONTENT_REVISION_TAGS_ENTITY_LONG_ID:-12,MODEL_CONTENT_REMOTE_MODEL_ENTITY_LONG_ID:-13,MODEL_CONTENT_IMPORT_DEFINITION_ENTITY_LONG_ID:-14,
MODEL_CONTENT_IMPORT_DATA_SOURCE_DETAILS_ENTITY_LONG_ID:-15,MODEL_CONTENT_TIME_RANGE_ENTITY_LONG_ID:-16,MODEL_CONTENT_NEW_LINE_TIME_RANGE_ENTITY_LONG_ID:-17,MODEL_CONTENT_TAGS_ENTITY_ID:"TAGS",MODEL_CONTENT_TAGS_ENTITY_LONG_ID:-18,BUILT_IN_MODEL_ROLE_FULL_ACCESS_ENTITY_LONG_ID:19E9,BUILT_IN_MODEL_ROLE_NO_ACCESS_ENTITY_LONG_ID:19000000001,WORKFLOW_STATUS_NOT_STARTED_ENTITY_LONG_ID:8E9,WORKFLOW_STATUS_IN_PROGRESS_ENTITY_LONG_ID:8000000001,WORKFLOW_STATUS_COMPLETE_ENTITY_LONG_ID:8000000002,ACTION_GROUPING_PROCESSES_ENTITY_LONG_ID:31E9,
ACTION_GROUPING_IMPORTS_ENTITY_LONG_ID:31000000001,ACTION_GROUPING_EXPORTS_ENTITY_LONG_ID:31000000002,ACTION_GROUPING_OTHER_ENTITY_LONG_ID:31000000003,BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID:101999999999,BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_ID:"Users",CURRENT_USER_ENTITY_LONG_ID:111999999997,GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID:12000000004,GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_IDENTIFIER:"_GRID_LABEL_STYLE.SUMMARY1",GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID:12000000005,
GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_IDENTIFIER:"_GRID_LABEL_STYLE.SUMMARY2",GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_ENTITY_LONG_ID:12000000006,GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_IDENTIFIER:"_GRID_LABEL_STYLE.SUMMARY3",SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_ENTITY_LONG_ID:2E10,SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.EMPTY_1_0",SYSTEM_AXIS_IDENTIFIER_EMPTY_0_1_ENTITY_LONG_ID:20000000001,SYSTEM_AXIS_IDENTIFIER_EMPTY_0_1_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.EMPTY_0_1",SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_ENTITY_LONG_ID:20000000002,
SYSTEM_AXIS_IDENTIFIER_EMPTY_0_0_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.EMPTY_0_0",SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID:20000000003,SYSTEM_AXIS_IDENTIFIER_TIME_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME",SYSTEM_AXIS_IDENTIFIER_TIME_WITH_BROUGHT_FORWARD_PERIOD_ENTITY_LONG_ID:20000000004,SYSTEM_AXIS_IDENTIFIER_TIME_WITH_BROUGHT_FORWARD_PERIOD_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME_WITH_BROUGHT_FORWARD_PERIOD",SYSTEM_AXIS_IDENTIFIER_ENTITY_ENTITY_LONG_ID:20000000007,SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.ENTITY",
SYSTEM_AXIS_IDENTIFIER_PROPERTY_ENTITY_LONG_ID:20000000008,SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.PROPERTY",SYSTEM_AXIS_IDENTIFIER_ROW_ENTITY_LONG_ID:20000000009,SYSTEM_AXIS_IDENTIFIER_ROW_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.ROW",SYSTEM_AXIS_IDENTIFIER_COLUMN_ENTITY_LONG_ID:20000000010,SYSTEM_AXIS_IDENTIFIER_COLUMN_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.COLUMN",SYSTEM_AXIS_IDENTIFIER_HIERARCHY_ENTITY_LONG_ID:20000000011,SYSTEM_AXIS_IDENTIFIER_HIERARCHY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.HIERARCHY",
SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID:20000000012,SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.LINE_ITEM",SYSTEM_AXIS_IDENTIFIER_MODULE_SUBSIDIARY_VIEW_ENTITY_LONG_ID:20000000013,SYSTEM_AXIS_IDENTIFIER_MODULE_SUBSIDIARY_VIEW_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE_SUBSIDIARY_VIEW",SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_ENTITY_LONG_ID:20000000014,SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.FUNCTIONAL_AREA",SYSTEM_AXIS_IDENTIFIER_MODULE_ENTITY_LONG_ID:20000000015,
SYSTEM_AXIS_IDENTIFIER_MODULE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE",SYSTEM_AXIS_IDENTIFIER_TABLE_ENTITY_LONG_ID:20000000016,SYSTEM_AXIS_IDENTIFIER_TABLE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TABLE",SYSTEM_AXIS_IDENTIFIER_VERSION_ENTITY_LONG_ID:20000000020,SYSTEM_AXIS_IDENTIFIER_VERSION_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.VERSION",SYSTEM_AXIS_IDENTIFIER_VERSION_WITH_PERIOD_MAPPING_ENTITY_LONG_ID:20000000021,SYSTEM_AXIS_IDENTIFIER_VERSION_WITH_PERIOD_MAPPING_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.VERSION_WITH_PERIOD_MAPPING",
SYSTEM_AXIS_IDENTIFIER_VERSION_ALL_ENTITY_LONG_ID:20000000050,SYSTEM_AXIS_IDENTIFIER_VERSION_ALL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.VERSION_ALL",SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_ENTITY_LONG_ID:20000000022,SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODEL_ROLE",SYSTEM_AXIS_IDENTIFIER_USER_ENTITY_LONG_ID:20000000023,SYSTEM_AXIS_IDENTIFIER_USER_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.USER",SYSTEM_AXIS_IDENTIFIER_IMPORT_ENTITY_LONG_ID:20000000024,SYSTEM_AXIS_IDENTIFIER_IMPORT_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT",
SYSTEM_AXIS_IDENTIFIER_IMPORT_ALL_ENTITY_LONG_ID:20000000057,SYSTEM_AXIS_IDENTIFIER_IMPORT_ALL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_ALL",SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_ENTITY_LONG_ID:20000000025,SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_DATA_SOURCE",SYSTEM_AXIS_IDENTIFIER_HIERARCHY_PROPERTY_ENTITY_LONG_ID:20000000026,SYSTEM_AXIS_IDENTIFIER_HIERARCHY_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.HIERARCHY_PROPERTY",SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_ENTITY_LONG_ID:20000000027,
SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.LINE_ITEM_PROPERTY",SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_PROPERTY_ENTITY_LONG_ID:20000000028,SYSTEM_AXIS_IDENTIFIER_FUNCTIONAL_AREA_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.FUNCTIONAL_AREA_PROPERTY",SYSTEM_AXIS_IDENTIFIER_MODULE_PROPERTY_ENTITY_LONG_ID:20000000029,SYSTEM_AXIS_IDENTIFIER_MODULE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE_PROPERTY",SYSTEM_AXIS_IDENTIFIER_MODULE_FLOWCHART_INFO_ENTITY_LONG_ID:20000000030,
SYSTEM_AXIS_IDENTIFIER_MODULE_FLOWCHART_INFO_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE_FLOWCHART_INFO",SYSTEM_AXIS_IDENTIFIER_TABLE_PROPERTY_ENTITY_LONG_ID:20000000031,SYSTEM_AXIS_IDENTIFIER_TABLE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TABLE_PROPERTY",SYSTEM_AXIS_IDENTIFIER_VERSION_PROPERTY_ENTITY_LONG_ID:20000000035,SYSTEM_AXIS_IDENTIFIER_VERSION_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.VERSION_PROPERTY",SYSTEM_AXIS_IDENTIFIER_TIMESCALE_PROPERTY_ENTITY_LONG_ID:20000000036,SYSTEM_AXIS_IDENTIFIER_TIMESCALE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIMESCALE_PROPERTY",
SYSTEM_AXIS_IDENTIFIER_USER_PROPERTY_ENTITY_LONG_ID:20000000037,SYSTEM_AXIS_IDENTIFIER_USER_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.USER_PROPERTY",SYSTEM_AXIS_IDENTIFIER_IMPORT_PROPERTY_ENTITY_LONG_ID:20000000038,SYSTEM_AXIS_IDENTIFIER_IMPORT_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_PROPERTY",SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_PROPERTY_ENTITY_LONG_ID:20000000039,SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_DATA_SOURCE_PROPERTY",
SYSTEM_AXIS_IDENTIFIER_CURRENCY_ENTITY_LONG_ID:20000000040,SYSTEM_AXIS_IDENTIFIER_CURRENCY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.CURRENCY",SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_ENTITY_LONG_ID:20000000041,SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.LINE_ITEM_SUBSET",SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_PROPERTY_ENTITY_LONG_ID:20000000042,SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_SUBSET_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.LINE_ITEM_SUBSET_PROPERTY",SYSTEM_AXIS_IDENTIFIER_SUBSET_ENTITY_LONG_ID:20000000043,
SYSTEM_AXIS_IDENTIFIER_SUBSET_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.SUBSET",SYSTEM_AXIS_IDENTIFIER_CUSTOM_PROPERTY_ENTITY_LONG_ID:20000000044,SYSTEM_AXIS_IDENTIFIER_CUSTOM_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.CUSTOM_PROPERTY",SYSTEM_AXIS_IDENTIFIER_PROPERTY_PROPERTY_ENTITY_LONG_ID:20000000045,SYSTEM_AXIS_IDENTIFIER_PROPERTY_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.PROPERTY_PROPERTY",SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_ENTITY_LONG_ID:20000000046,SYSTEM_AXIS_IDENTIFIER_MODULE_WITH_LINE_ITEM_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE_WITH_LINE_ITEM",
SYSTEM_AXIS_IDENTIFIER_DASHBOARD_ENTITY_LONG_ID:20000000047,SYSTEM_AXIS_IDENTIFIER_DASHBOARD_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.DASHBOARD",SYSTEM_AXIS_IDENTIFIER_DASHBOARD_PROPERTY_ENTITY_LONG_ID:20000000048,SYSTEM_AXIS_IDENTIFIER_DASHBOARD_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.DASHBOARD_PROPERTY",SYSTEM_AXIS_IDENTIFIER_MODULE_ALL_ENTITY_LONG_ID:20000000049,SYSTEM_AXIS_IDENTIFIER_MODULE_ALL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODULE_ALL",SYSTEM_AXIS_IDENTIFIER_EXPORT_ENTITY_LONG_ID:20000000051,
SYSTEM_AXIS_IDENTIFIER_EXPORT_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.EXPORT",SYSTEM_AXIS_IDENTIFIER_EXPORT_PROPERTY_ENTITY_LONG_ID:20000000052,SYSTEM_AXIS_IDENTIFIER_EXPORT_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.EXPORT_PROPERTY",SYSTEM_AXIS_IDENTIFIER_PROPERTY_ALL_ENTITY_LONG_ID:20000000053,SYSTEM_AXIS_IDENTIFIER_PROPERTY_ALL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.PROPERTY_ALL",SYSTEM_AXIS_IDENTIFIER_ACTION_ENTITY_LONG_ID:20000000054,SYSTEM_AXIS_IDENTIFIER_ACTION_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.ACTION",
SYSTEM_AXIS_IDENTIFIER_ACTION_PROPERTY_ENTITY_LONG_ID:20000000055,SYSTEM_AXIS_IDENTIFIER_ACTION_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.ACTION_PROPERTY",SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_ENTITY_LONG_ID:20000000056,SYSTEM_AXIS_IDENTIFIER_ACTION_WITH_HEADING_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.ACTION_WITH_HEADING",SYSTEM_AXIS_IDENTIFIER_PROCESS_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.PROCESS",SYSTEM_AXIS_IDENTIFIER_PROCESS_ENTITY_LONG_ID:20000000058,SYSTEM_AXIS_IDENTIFIER_PROCESS_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.PROCESS_PROPERTY",
SYSTEM_AXIS_IDENTIFIER_WORKFLOW_PROPERTY_ENTITY_LONG_ID:20000000060,SYSTEM_AXIS_IDENTIFIER_WORKFLOW_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.WORKFLOW_PROPERTY",SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_PROPERTY_ENTITY_LONG_ID:20000000061,SYSTEM_AXIS_IDENTIFIER_MODEL_ROLE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.MODEL_ROLE_PROPERTY",SYSTEM_AXIS_IDENTIFIER_CONTENT_ALL_ENTITY_LONG_ID:20000000062,SYSTEM_AXIS_IDENTIFIER_CONTENT_ALL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.CONTENT_ALL",SYSTEM_AXIS_IDENTIFIER_FULL_ACCESS_WITH_CUSTOM_MODEL_ROLE_ENTITY_LONG_ID:20000000063,
SYSTEM_AXIS_IDENTIFIER_FULL_ACCESS_WITH_CUSTOM_MODEL_ROLE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.FULL_ACCESS_WITH_CUSTOM_MODEL_ROLE",SYSTEM_AXIS_IDENTIFIER_REMOTE_MODEL_ENTITY_LONG_ID:20000000064,SYSTEM_AXIS_IDENTIFIER_REMOTE_MODEL_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.REMOTE_MODEL",SYSTEM_AXIS_IDENTIFIER_REMOTE_MODEL_PROPERTY_ENTITY_LONG_ID:20000000065,SYSTEM_AXIS_IDENTIFIER_REMOTE_MODEL_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.REMOTE_MODEL_PROPERTY",SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_ENTITY_LONG_ID:20000000066,
SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.COLOR_PALETTE",SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_PROPERTY_ENTITY_LONG_ID:20000000067,SYSTEM_AXIS_IDENTIFIER_COLOR_PALETTE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.COLOR_PALETTE_PROPERTY",SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_ENTITY_LONG_ID:20000000068,SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME_RANGE_ALL",SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_PROPERTY_ENTITY_LONG_ID:20000000069,SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME_RANGE_PROPERTY",
SYSTEM_AXIS_IDENTIFIER_IMPORT_DEFINITION_PROPERTY_ENTITY_LONG_ID:20000000070,SYSTEM_AXIS_IDENTIFIER_IMPORT_DEFINITION_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_DEFINITION_PROPERTY",SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_DETAILS_PROPERTY_ENTITY_LONG_ID:20000000071,SYSTEM_AXIS_IDENTIFIER_IMPORT_DATA_SOURCE_DETAILS_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.IMPORT_DATA_SOURCE_DETAILS_PROPERTY",SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_WEEKS_GENERAL_PROPERTY_ENTITY_LONG_ID:20000000072,SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_WEEKS_GENERAL_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME_RANGE_WEEKS_GENERAL_PROPERTY",
SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_WEEKS_13_4_PROPERTY_ENTITY_LONG_ID:20000000073,SYSTEM_AXIS_IDENTIFIER_TIME_RANGE_WEEKS_13_4_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TIME_RANGE_WEEKS_13_4_PROPERTY",SYSTEM_AXIS_IDENTIFIER_SUBSET_PROPERTY_ENTITY_LONG_ID:20000000074,SYSTEM_AXIS_IDENTIFIER_SUBSET_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.SUBSET_PROPERTY",SYSTEM_AXIS_IDENTIFIER_TAG_ENTITY_LONG_ID:20000000075,SYSTEM_AXIS_IDENTIFIER_TAG_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TAG",SYSTEM_AXIS_IDENTIFIER_TAG_PROPERTY_IDENTIFIER:"_SYSTEM_AXIS_IDENTIFIER.TAG_PROPERTY",
CALENDAR_TYPE_MONTHS_ENTITY_INDEX:0,CALENDAR_TYPE_WEEKS_FOUR_FOUR_FIVE_ENTITY_INDEX:1,CALENDAR_TYPE_WEEKS_GENERAL_ENTITY_INDEX:2,CALENDAR_TYPE_THIRTEEN_FOUR_WEEK_PERIODS_ENTITY_INDEX:3,hierarchySortOrder:{TOTALS_AFTER:"TOTALS_AFTER",TOTALS_BEFORE:"TOTALS_BEFORE"},importSourceType:{COLUMN:"column",CONSTANT:"constant",UNDEFINED:"undefined",PROMPT:"prompt",FIELD:"field"},importTargetType:{MODULE_DIMENSION:"moduleDimension",MODULE_LINE_ITEM:"moduleLineItem",HIERARCHY_PROPERTY:"hierarchyProperty",HIERARCHY_MEMBER_ENTITY_NAME:"hierarchyMemberEntityName",
USER_IDENTIFIER:"userIdentifier",USER_DATA:"userData",USER_ACCESS:"userAccess"},importType:{HIERARCHY_DATA:"HIERARCHY_DATA",MODULE_DATA:"MODULE_DATA",LINE_ITEM_DEFINITION:"LINE_ITEM_DEFINITION",USERS:"USERS",VERSIONS:"VERSIONS",ACTION:"ACTION",EXPORT_DATA:"EXPORT_DATA"},importUserAccessLevel:{NONE:"NONE",READ:"READ",WRITE:"WRITE"},importUserDataItem:{FIRST_NAME:"FIRST_NAME",LAST_NAME:"LAST_NAME",MODEL_ROLE:"MODEL_ROLE",AUTH_SSO:"AUTH_SSO",USER_GUID:"USER_GUID"},importTargetArea:{MATCHED_ITEMS:"MATCHED_ITEMS",
ALL_ITEMS:"ALL_ITEMS",ALL_MAPPED_ITEMS:"ALL_MAPPED_ITEMS",MAPPED_ITEMS_IN_SOURCE:"MAPPED_ITEMS_IN_SOURCE"},selectiveAccess:{userWorkspaceRole:{START_SELECTIVE_ACCESS_ENTITY_TYPE_INDEX:101,END_SELECTIVE_ACCESS_ENTITY_TYPE_INDEX:111,ADMIN:"ADMIN",USER:"USER"},userType:{SUPPORT:"SUPPORT",SUPER:"SUPER",USER:"USER"}},viewComparisonBase:{PREVIOUS_VERSION:"PREVIOUS_VERSION",SPECIFIC_BASE:"SPECIFIC_BASE"},viewComparisonMode:{VALUE:"VALUE",DIFFERENCE:"DIFFERENCE",PERCENTAGE:"PERCENTAGE",PERCENTAGE_DIFFERENCE:"PERCENTAGE_DIFFERENCE",
NONE:"NONE"},axisIdentifiers:{LINE_ITEM:"_LINE_ITEM",TIME:"_TIME",VERSION:"_VERSION",IMPORT:"_IMPORT",IMPORT_DATA_SOURCE:"_IMPORT_DATA_SOURCE",IMPORT_DATA_SOURCE_PROPERTY:"_IMPORT_DATA_SOURCE_PROPERTY",IMPORT_PROPERTY:"_IMPORT_PROPERTY"},roles:{FULL_ACCESS:"Full Access",NO_ACCESS:"No Access"},modelManagerState:{NEW:"NEW",OPENING:"OPENING",OPEN:"OPEN",CLOSING:"CLOSING",CLOSED:"CLOSED",COMMITTING_NEW:"COMMITTING_NEW",COMMITTING_OPENING:"COMMITTING_OPENING",COMMITTING_OPEN:"COMMITTING_OPEN",WAIT_FOR_ALL_TASKS_NEW:"WAIT_FOR_ALL_TASKS_NEW",
WAIT_FOR_ALL_TASKS_OPENING:"WAIT_FOR_ALL_TASKS_OPENING",WAIT_FOR_ALL_TASKS_OPEN:"WAIT_FOR_ALL_TASKS_OPEN",PASSIVATING:"PASSIVATING",PASSIVATED:"PASSIVATED"},URL_IDS:{ANAPEDIA_BASE_URL_ID:"anapediabase",COMMUNITY_SEARCH_URL_ID:"communitysearch",GET_HELP_FROM_THE_COMMUNITY_URL_ID:"gethelpfromthecommunity",LIVE_CHAT_URL_ID:"livechat",LAUNCHPAD_URL_ID:"launchpad",APPHUB_URL_ID:"apphub",ANAPLAN_HOME_URL_ID:"anaplan",VIEWPROFILE_URL_ID:"viewprofile",GLOBAL_NAV_API_URL_ID:"globalnavapi"},ANAPEDIA:"ANAPEDIA",
SUCCESS_CENTRAL:"SUCCESS_CENTRAL",LIVE_CHAT:"LIVE_CHAT",HELP_FOR_THIS_PAGE:"HELP_FOR_THIS_PAGE",BREAKBACK_MARKERS:"BREAKBACK_MARKERS",QUICK_SUM:"QUICK_SUM",GRID_2:"GRID2",TIPS:"TIPS",POPUP_CHART:"POPUP_CHART",MODEL_MANAGEMENT:"modelManagement",DASHBOARD_TAB:"dashboard_tab",WORKFLOW_TAB:"workflow_tab",SETTINGS_TAB:"settings_tab",VIEW_TAB:"view_tab",MODELMAP_TAB:"modelmap_tab",SALES_OPS_DIRECT_IMPORTER:"SalesOpsDirectImporter",COLUMN_LABEL_HEIGHT:16,DEFAULT_COLUMN_WIDTH:80,DEFAULT_ROW_LABEL_WIDTH:270,
DEFAULT_NESTED_ROW_LABEL_WIDTH:180,MAJOR_CURRENCY_COUNT:12,ACTIVE_STATE_UNLOCKED:"UNLOCKED",ACTIVE_STATE_MAINTENANCE:"MAINTENANCE",ACTIVE_STATE_LOCKED:"LOCKED",ACTIVE_STATE_ARCHIVED:"ARCHIVED",ACTIVE_STATE_PRODUCTION:"PRODUCTION",ACTIVE_STATE_PRODUCTION_MAINTENANCE:"PRODUCTION_MAINTENANCE",WORKSPACE_PERCENTAGE_FULL_WARNING_THRESHOLD:75,WORKSPACE_PERCENTAGE_FULL_ERROR_THRESHOLD:100,DISABLED_BREAKBACK_MARKERS_COOKIE:"disabled-breakback-markers",DISABLED_CONFIRMATIONS_COOKIE:"disabled-confirmations",
TOC_LOCAL_STATE_KEY:"toc",SLIDEOUT_STATE_COOKIE:"slideout-state",IS_SINGLE_IP_COOKIE:"__is_sip__",dashboardElementType:{GRID:"GRID",CHART:"CHART",TEXT:"TEXT",CELL:"CELL",PAGE_SELECTOR:"PAGE_SELECTOR",BUTTON:"BUTTON",STATIC_TEXT:"STATIC_TEXT",IMAGE:"IMAGE"},chartType:{COLUMN:"COLUMN",COLUMNRANGE:"COLUMNRANGE",LINE:"LINE",PIE:"PIE",MAP:"MAP",WATERFALL:"WATERFALL",COMBINATION:"COMBINATION",FUNNEL:"FUNNEL"},PeriodType:{NOT_APPLICABLE:"NOT_APPLICABLE",DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",QUARTER:"QUARTER",
YEAR:"YEAR",YTD:"YTD",YTG:"YTG",HALF_YEAR:"HALF_YEAR",ALL:"ALL"},VersionSelection:{ALL:"ALL",NOT_APPLICABLE:"NOT_APPLICABLE"},DashboardSizeUnitsType:{PIXELS:"PIXELS",PERCENTAGE:"PERCENTAGE"},DashboardStyleType:[["staticTextStylesHeading1","heading1"],["staticTextStylesHeading2","heading2"],["staticTextStylesHeading3","heading3"],["staticTextStylesNormal","normal"],["staticTextStylesInstruction","instruction"]],DashboardButtonStyleType:[["buttonStylesNormal","normal"],["buttonStylesHyperlink","Link Style"]],
DashboardState:{CLOSING:2},DASHBOARD_CONTROL_PANEL_WIDTH:350,DASHBOARD_CONTROL_SLIDE_DURATION_MS:150,DASHBOARD_PREVIEW_ICON_MIN_H_OFFSET:3,DASHBOARD_PREVIEW_ICON_NORMAL_H_OFFSET:21,DASHBOARD_HOLDING_CLASS:"holdingText",DASHBOARD_HORIZONTAL_SPACING:20,DASHBOARD_VERTICAL_SPACING:20,DASHBOARD_HORIZONTAL_SPACING_TOUCH:44,DASHBOARD_VERTICAL_SPACING_TOUCH:44,DASHBOARD_MINIMUM_WIDGET_HEIGHT:50,DASHBOARD_MINIMUM_STATIC_TEXT_WIDGET_HEIGHT:50,DASHBOARD_MINIMUM_STATIC_TEXT_GUTTER:28,DASHBOARD_MINIMUM_WIDGET_WIDTH:120,
DASHBOARD_MINIMUM_BUTTON_WIDTH:42,DASHBOARD_MAXIMUM_BUTTON_WIDTH:499,SYSTEM_MESSAGE_ERROR:"ERROR",SYSTEM_MESSAGE_WARNING:"WARNING",SYSTEM_MESSAGE_INFORMATION:"INFORMATION",TREE_LIMIT:1E3,TREE_LIMIT_LEGACY_IE:200,SPAN_NONE:0,SPAN_START:1,SPAN_MIDDLE:2,SPAN_END:3,REQUEST_STATUS_KNOWN_REQUEST:"KNOWN_REQUEST",REQUEST_STATUS_UNKNOWN_REQUEST:"UNKNOWN_REQUEST",ACTION_TYPE_PROCESS:"PROCESS",ACTION_TYPE_DELETE_BY_SELECTION:"DELETE_BY_SELECTION",ACTION_TYPE_TASK_ELEMENT:"TASK_ELEMENT",DEFAULT_NUMBER_FORMAT_DEFINITION:{dataType:"NUMBER",
minimumSignificantDigits:4,decimalPlaces:-1,decimalSeparator:"FULL_STOP",groupingSeparator:"COMMA",negativeNumberNotation:"MINUS_SIGN",unitsType:"NONE",unitsDisplayType:"NONE",currencyCode:null,customUnits:null,zeroFormat:"ZERO",comparisonIncrease:"GOOD"},validatorActions:{CLEAR:"clear"},COLUMNS:"COLUMNS",ROWS:"ROWS",AXIS_DEFINITION_TYPE_FULL_DIMENSION:"FULL_DIMENSION",AXIS_DEFINITION_TYPE_CROSS_PRODUCT:"CROSS_PRODUCT",AXIS_DEFINITION_TYPE_LEVELS:"LEVELS",AXIS_DEFINITION_TYPE_SELECTION:"SELECTION",
AXIS_DEFINITION_TYPE_ITEM_LIST:"ITEM_LIST",AXIS_DEFINITION_TYPE_SYNC_BRANCH:"SYNC_BRANCH",TOTALS_POSITION_GROUP_START:"START",TOTALS_POSITION_GROUP_BEFORE:"BEFORE",TOTALS_POSITION_GROUP_AFTER:"AFTER",TOTALS_POSITION_GROUP_END:"END",TOTALS_POSITION_GROUP_DEFAULT:"AFTER",SELECTION_RULE_MODIFIER_SHOW:"SHOW",SELECTION_RULE_MODIFIER_HIDE:"HIDE",SELECTION_DEFINITION_SIZE_LIMIT:200,SERVER_SELECTION_DEFINITION_SIZE_LIMIT:1E3,MINIMUM_SUPPORTED_YEAR:1900,MAXIMUM_SUPPORTED_YEAR:2399,MINIMUM_HEIGHT_DASHBOARD_ACTION_PANE:155,
OPEN_DASHBOARD_MAX_ITEM_LIMIT:200,conditionalFormatType:{BG_COLOR_SCALE:"BG_COLOR_SCALE"},chartOptions:{columnRange:{AXIS_START:"axisStart",AXIS_END:"axisEnd",AXIS_TITLE:"axisTitle",START_POINT:"startPoint",END_POINT:"endPoint",BAR_LABEL:"barLabel",GROUP_BY:"groupBy",TOOLTIP:"toolTip",GRID_LINES:"gridLines",AXIS_MIN:631152E6,AXIS_MAX:41023584E5,HORIZONTAL_SLIDER:"horizontalSlider",Y_AXIS_WIDTH:"yAxisWidth",DEFAULT_Y_AXIS_LABEL_WIDTH:80,Y_AXIS_WIDTH_RADIO_FIXED:"yAxisRadioButtonFixedWidth",Y_AXIS_WIDTH_RADIO_VARIABLE:"yAxisRadioButtonVariableWidth",
FIXED_WIDTH:"fixedWidth"},map:{BAR_LABEL:"barLabel",DATA_POINT:"dataPoint"},waterfall:{AUTO_AXIS_MARGIN:0.1},funnel:{DATA_POINT:"dataPoint",BAR_LABEL:"barLabel",TOOLTIP:"toolTip",AXIS:!0},legendYPosition:{DEFAULT:0,PIE:10,POPUP:40},subtitleYPosition:{DEFAULT:2,POPUP:30}},textFormatType:{EMAIL_ADDRESS:"EMAIL_ADDRESS",DRILLTHRU_URI:"DRILLTHRU_URI",GENERAL:"GENERAL"},viewChangeType:{BREAKBACK_HOLD:"BREAKBACK_HOLD",BREAKBACK_RELEASE:"BREAKBACK_RELEASE",REFRESH:"REFRESH",AXIS_SELECTION_CHANGE:"AXIS_SELECTION_CHANGE",
LEVEL_SELECTION_SET:"LEVEL_SELECTION_SET",SYNC_SELECTION_SET:"SYNC_SELECTION_SET"},axisSelectionChange:{HIDE:"HIDE",HIDE_EVERY_OCCURRENCE:"HIDE_EVERY_OCCURRENCE",SHOW:"SHOW",SHOW_EVERY_OCCURRENCE:"SHOW_EVERY_OCCURRENCE",SHOW_ALL_COLUMNS:"SHOW_ALL_COLUMNS",SHOW_ALL_ROWS:"SHOW_ALL_ROWS",SHOW_ALL:"SHOW_ALL",SHOW_ONLY:"SHOW_ONLY"},itemSelection:{ALL:"ALL",ITEMS:"ITEMS"},taskElementType:{DASHBOARD:"DASHBOARD",BULK_OPERATION:"BULK_OPERATION",IMPORT:"IMPORT",PROCESS:"PROCESS",OTHER_ACTION:"OTHER_ACTION",
DELETE_BY_SELECTION:"DELETE_BY_SELECTION"},taskElementOperation:{SIMPLE_CREATE:"SIMPLE_CREATE",SYNCHRONISE_HIERARCHY:"SYNCHRONISE_HIERARCHY",SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY:"SET_PROPERTY_AND_SYNCHRONISE_HIERARCHY",COPY_TO_NUMBERED_LIST:"COPY_TO_NUMBERED_LIST",DEFINE_ENTITIES:"DEFINE_ENTITIES",SELECT_CHILDREN:"SELECT_CHILDREN",BULK_ENTITY_COPY:"BULK_ENTITY_COPY",BULK_DELETE_ENTITIES:"BULK_DELETE_ENTITIES",RUN_CMPL_SCRIPT:"RUN_CMPL_SCRIPT",RUN_OPTIMIZER:"OPTIMIZER"},columnHeaderWrapping:{NO_WRAP:"NO_WRAP",
WRAP_2_LINES:"WRAP_2_LINES",WRAP_3_LINES:"WRAP_3_LINES"},authTokenStatus:{SUCCESS:"SUCCESS"},importsTooltip:{MAX_LINES:5,LINE_LENGTH:61},exportLayoutType:{AUDIT_LOG:"Export from Model History"},MAX_DASHBOARDS_TO_FETCH:1E3,dashboardButtonStyles:{DEFAULT:"default-button",PRIMARY:"primary-button",LINK:"hyperlink"},dataTypes:{NONE:"NONE",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",TEXT:"TEXT",ENTITY:"ENTITY",TIME_ENTITY:"TIME_ENTITY"},zeroFormat:{BLANK:"BLANK",HYPHEN:"HYPHEN",ZERO:"ZERO"},dataInputUndoOperations:{CLEAR:"CLEAR",
COPY:"COPY",EDIT:"EDIT",PASTE:"PASTE",TOGGLE:"TOGGLE",UNDO:"UNDO",MULTIPLE_OPERATIONS:"MULTIPLE_OPERATIONS",SERVER_SYSTEM_ACTION_UNDO:"SERVER_SYSTEM_ACTION_UNDO"},dataInputUndoRejectReasons:{CELL_DEFINITION_CHANGED:"CELL_DEFINITION_CHANGED",GRID_DEFINITION_CHANGED:"GRID_DEFINITION_CHANGED",MULTIPLE_UPDATES:"MULTIPLE_UPDATES",NOT_ACTIVE_TAB:"NOT_ACTIVE_TAB",CANCELLED:"CANCELLED",SERVER_ERROR:"SERVER_ERROR"},quickSum:{CACHED_CELL_LIMIT:1E6,FORCE_LOAD_CELL_LIMIT:1E4},eventTypes:{MOUSE_DOWN:"mousedown",
MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",DOUBLE_CLICK:"double_click",KEY:"key",KEY_DOWN:"keydown",KEY_PRESS:"keypress",TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",COPY:"copy",BEFORE_COPY:"beforecopy",PASTE:"paste",BEFORE_PASTE:"beforepaste",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_UP:"pointerup",POINTER_CANCEL:"pointercancel"},
userActions:{CAN_ASSERT_WORKSPACE_SIZE:"CAN_ASSERT_WORKSPACE_SIZE",SUPPORT_POPULATE_MODEL_ORIGINS:"SUPPORT_POPULATE_MODEL_ORIGINS",CAN_SET_AUTOMATIC_REFRESH_INTERVAL:"CAN_SET_AUTOMATIC_REFRESH_INTERVAL",MAINTAIN_TIMESCALE:"MAINTAIN_TIMESCALE",MAINTAIN_VERSIONS:"MAINTAIN_VERSIONS",MAINTAIN_USERS:"MAINTAIN_USERS",MAINTAIN_MODEL:"MAINTAIN_MODEL",MAINTAIN_CUSTOM_MODEL_ROLES:"MAINTAIN_CUSTOM_MODEL_ROLES",MAINTAIN_CUSTOM_HIERARCHY_DEFINITIONS:"MAINTAIN_CUSTOM_HIERARCHY_DEFINITIONS",MAINTAIN_CUSTOM_FUNCTIONAL_AREAS:"MAINTAIN_CUSTOM_FUNCTIONAL_AREAS",
MAINTAIN_CUSTOM_MODULES:"MAINTAIN_CUSTOM_MODULES",MAINTAIN_CUSTOM_LINE_ITEMS:"MAINTAIN_CUSTOM_LINE_ITEMS",MAINTAIN_CUSTOM_HIERARCHY_MEMBERS:"MAINTAIN_CUSTOM_HIERARCHY_MEMBERS",MAINTAIN_CUSTOM_DASHBOARDS:"MAINTAIN_CUSTOM_DASHBOARDS",MAINTAIN_CUSTOM_SAVED_VIEWS:"MAINTAIN_CUSTOM_SAVED_VIEWS",MAINTAIN_APPLICATION_HIERARCHY_MEMBERS:"MAINTAIN_APPLICATION_HIERARCHY_MEMBERS",CONFIGURE_APPLICATION_IMPORTS:"CONFIGURE_APPLICATION_IMPORTS",WRITE_ALL:"WRITE_ALL",CAN_VIEW_SETTINGS:"CAN_VIEW_SETTINGS",CAN_VIEW_TOOLTIP:"CAN_VIEW_TOOLTIP",
CAN_VIEW_ICON:"CAN_VIEW_ICON",SETTINGS_ENABLED:"SETTINGS_ENABLED",CAN_VIEW_MODEL_MANAGEMENT:"CAN_VIEW_MODEL_MANAGEMENT",CAN_SHARE_FILES:"CAN_SHARE_FILES",CAN_IMPORT_FILES:"CAN_IMPORT_FILES",CAN_DISPLAY_FULL_USER_DETAILS:"CAN_DISPLAY_FULL_USER_DETAILS",CAN_VIEW_FULL_ERROR_DETAILS:"CAN_VIEW_FULL_ERROR_DETAILS",CAN_ACCESS_HIDDEN_CONTENT:"CAN_ACCESS_HIDDEN_CONTENT",CAN_RENDER_GLOBAL_NAV:"CAN_RENDER_GLOBAL_NAV",CAN_ASSERT_MODEL:"CAN_ASSERT_MODEL",CAN_MAINTAIN_IMPORT_SOURCES:"CAN_MAINTAIN_IMPORT_SOURCES",
WORKFLOW_CAN_MAINTAIN_MESSAGE_OF_THE_DAY:"WORKFLOW_CAN_MAINTAIN_MESSAGE_OF_THE_DAY"},filterConditionType:{QUICK:"QUICK"},QUICK_FILTER_MAX_ROWS_TO_FETCH:1E5,indicators:{HAS_QUICK_FILTER:1,HAS_SORT_ASC:2,HAS_SORT_DESC:4},sort:{ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"}};l.setObject("anaplan.constants",s);return s})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(s,p,q,f){q=q||Error;var k=function(f){if(q===Error){Error.captureStackTrace&&Error.captureStackTrace(this,
k);var l=Error.call(this,f),h;for(h in l)l.hasOwnProperty(h)&&(this[h]=l[h]);this.message=f;this.stack=l.stack}else q.apply(this,arguments);p&&p.apply(this,arguments)};k.prototype=l.delegate(q.prototype,f);k.prototype.name=s;return k.prototype.constructor=k}})},"anaplan/cf/ColorSelectMenuItem":function(){define("dojo/_base/declare dojo/dom dojo/has dijit/MenuItem dojo/text!anaplan/templates/ColorSelectMenuItem.html dojo/sniff".split(" "),function(l,s,p,q,f){return l("anaplan.cf.ColorSelectMenuItem",
q,{templateString:f,colors:null,constructor:function(){},buildRendering:function(){q.superclass.buildRendering.apply(this,arguments);s.setSelectable(this.domNode,!1)},postCreate:function(){var f,l,m,h,e;this.inherited(arguments);if((f=this.colors)&&f.length){m=document.createDocumentFragment();l=f.length;for(h=0;h<l;h++)e=document.createElement("div"),e.className="colorSelectMenuItemColor",e.style.backgroundColor=f[h],m.appendChild(e);8>p("ie")&&(e=document.createElement("div"),e.className="colorSelectMenuItemClear",
m.appendChild(e));this.containerNode.appendChild(m)}},_setAccelKeyAttr:function(){},_setIconClassAttr:function(){},_setTextDirAttr:function(){}})})},"anaplan/common/_DefinitionBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(l,s,p){return s(null,{_serializableProperties:[],toJSON:function(){var q={};l.forEach(this._serializableProperties,p.hitch(this,function(f){f in this&&(q[f]=this[f])}));return q}})})},"anaplan/api/SystemActions/StartSyncRevisions":function(){define(["dojo/_base/declare",
"./Base/SystemAction","anaplan/utils/JsHelper","anaplan/constants","dojo/i18n!anaplan/nls/api"],function(l,s,p,q,f){return l([s],{validate:function(){return!p.isObject(this._params)?f.errors.invalidParams:!p.isString(this._params.targetModelId)||p.isEmptyString(this._params.targetModelId)?f.errors.targetModelIdRequired:!p.isString(this._params.sourceModelId)||p.isEmptyString(this._params.sourceModelId)?f.errors.sourceModelIdRequired:!p.isString(this._params.targetWorkspaceId)||p.isEmptyString(this._params.targetWorkspaceId)?
f.errors.targetWorkspaceIdRequired:!p.isString(this._params.sourceWorkspaceId)||p.isEmptyString(this._params.sourceWorkspaceId)?f.errors.sourceWorkspaceIdRequired:!p.isString(this._params.sourceRevisionId)||p.isEmptyString(this._params.sourceRevisionId)?f.errors.sourceRevisionIdRequired:!p.isString(this._params.targetRevisionId)||p.isEmptyString(this._params.targetRevisionId)?f.errors.targetRevisionIdRequired:this.inherited(arguments)},buildRequestObject:function(){return{actionId:q.SYSTEM_ACTIONS.START_SYNC_REVISIONS,
params:{targetModelId:this._params.targetModelId,targetWorkspaceId:this._params.targetWorkspaceId,sourceModelId:this._params.sourceModelId,sourceWorkspaceId:this._params.sourceWorkspaceId,sourceRevisionId:this._params.sourceRevisionId,targetRevisionId:this._params.targetRevisionId,tokenScheme:this._params.tokenScheme,tokenValue:this._params.tokenValue}}}})})},"anaplan/snav/listitemloader":function(){define("dojo/_base/array anaplan/common/ViewSerialNumbers anaplan/constants anaplan/data/ModelContentHelper anaplan/utils/EntityLongIdHelper anaplan/utils/SubmissionHandler dojo/_base/declare dojo/_base/lang".split(" "),
function(l,s,p,q,f,k,n,m){return n("anaplan.snav.listitemloader",[],{constructor:function(f){this._hierarchyEntityLongId=f.hierarchyEntityLongId||-1},getListItems:function(f){f=this._getViewRequest(this._hierarchyEntityLongId,f);return(new k({showPleaseWait:!1})).post([],[f],[]).then(function(e){return e.result.viewRequestResults[0]})},_getViewDefinition:function(h,e){var g={staticContextIdentifiers:[f.entityLongIdToEntityLongIdIdentifier(h)],type:"MODEL_DATA"},d={axisDefinition:null,axisDefinitionIdentifier:p.SYSTEM_AXIS_IDENTIFIER_PROPERTY_IDENTIFIER},
a=l.map(e,function(a){return[f.entityLongIdToEntityLongIdIdentifier(a.entityLongId)]}),k=q.getAxisSpecification([p.SYSTEM_AXIS_IDENTIFIER_ENTITY_IDENTIFIER]),k=q.addSelectionToAxisSpecification(k,p.SELECTION_RULE_MODIFIER_SHOW,a);m.mixin(g,{columnAxisSpecification:d,rowAxisSpecification:k});return g},_getViewRequest:function(f,e){var g=this._getViewDefinition(f,e);return{modelId:modelId,viewDefinition:g,columnLabelPageRequests:[{start:0,count:-1}],dataPageRequests:[{startRow:0,startColumn:0,rowCount:-1,
columnCount:-1}],rowLabelPageRequests:[{start:0,count:-1}],cellSelectorLabelsRequired:!1,pageSelectorLabelsRequired:!1,serialNumbers:new s,viewIndex:-1}}})})},"anaplan/api/Services/Model/colourPalettes":function(){define("dojo/_base/lang dojo/i18n!anaplan/nls/api anaplan/utils/JsHelper anaplan/constants anaplan/api/Submissions/index anaplan/api/Fetchers/index".split(" "),function(l,s,p,q,f,k){function n(e){var f=[],d;e=e||[];h.forEach(function(a,h){var b=e.filter(function(b){return b.entityId===a.label});
1===b.length?(b={colours:a.canEdit?b[0].colours:a.colours,selected:"true"===b[0].isSelected?!0:!1,id:b[0].entityLongId,label:a.label,canEdit:a.canEdit,existsOnServer:!0},f.push(b),b.selected&&(d=h)):(a.id=a.label,f.push(a));d=void 0===d?h:d});return{selected:f[d].label,selectedId:f[d].id,palettes:f,count:f.length}}var m=!1,h=[{label:"Anaplan",colours:"#5f91c0 #e06c65 #84ca85 #ffd800 #a575d2 #ffa252 #c7c7c7 #b57e50 #febbd1".split(" "),canEdit:!1},{label:"Green",colours:"#5B7637 #67863F #729445 #7BA14B #84AC50 #9CBA7D #B1C89B #C4D4B4 #D4DFCA".split(" "),
canEdit:!1},{label:"Blue",colours:"#4E6A90 #5978A4 #6284B5 #6A90C4 #719AD2 #90ADD9 #A8BDE0 #BDCCE6 #CFD9ED".split(" "),canEdit:!1},{label:"Red",colours:"#925628 #A5612D #B66B32 #C67436 #D47C3A #DB9872 #E1AE95 #E7C1B0 #EDD2C6".split(" "),canEdit:!1},{label:"Yellow",colours:"#A4831F #BA9523 #CEA527 #DFB22A #EFBF2D #F1C96F #F3D392 #F6DCAE #F8E5C5".split(" "),canEdit:!1},{label:"Grey",colours:"#707070 #808080 #8D8D8D #999999 #A4A4A4 #B4B4B4 #C3C3C3 #D0D0D0 #DCDCDC".split(" "),canEdit:!1},{label:"Color 1",
colours:"#719AD2 #D47C3A #A4A4A4 #EFBF2D #5571C0 #84AC50 #3E5E8E #8B4A1B #636363".split(" "),canEdit:!1},{label:"Color 2",colours:"#719AD2 #A4A4A4 #5571C0 #3E5E8E #636363 #344676 #8CAEDA #B6B6B6 #748DCD".split(" "),canEdit:!1},{label:"Color 3",colours:"#D47C3A #EFBF2D #84AC50 #8B4A1B #8E721B #516833 #DB965E #F2CC45 #9CC06D".split(" "),canEdit:!1},{label:"Color 4",colours:"#84AC50 #5571C0 #EFBF2D #516833 #344676 #8E721B #9CC06D #748DCD #F2CC45".split(" "),canEdit:!1},{label:"Custom",colours:"#5f91c0 #e06c65 #84ca85 #ffd800 #a575d2 #ffa252 #c7c7c7 #b57e50 #febbd1".split(" "),
canEdit:!0}];return{ensureServerPalettesExist:function(e){return k.colourPalettes.fetchAll().then(function(f){f=f.getItemsByPropertyNames(["entityId","colours","isSelected","entityLongId","isEditable"]);return this.createAllDefaultPalettes(f).then(function(d){m=!1;d=d.palettes.filter(function(a){return a.label===e});if(1!==d.length)throw Error("Expected to find 1 palette with label "+e);return d[0].id}.bind(this))}.bind(this))},createAllDefaultPalettes:function(e){var g=[];n(e).palettes.forEach(function(d){d.existsOnServer||
g.push(d)});return f.createColourPalettes(g).then(function(d){return n(d)}.bind(this))},getColourPalettes:function(){return k.colourPalettes.fetchAll().then(function(e){e=e.getItemsByPropertyNames(["entityId","colours","isSelected","entityLongId","isEditable"]);e.length!==h.length&&(m=!0);return n(e)}.bind(this))},createColourPalette:function(e,g){return f.createColourPalette(e,{colours:g.colours}).then(n)},updateColourPalette:function(e,g){function d(a){return f.updateColourPalette(a).then(function(d){d=
n(d);return g&&d.selectedId!==a.id?this.updateSelectedPalette(a.id):d}.bind(this))}return m?this.ensureServerPalettesExist(e.id).then(function(a){e.id=a;return d.call(this,e)}.bind(this)):d.call(this,e)},updateSelectedPalette:function(e){return m?this.ensureServerPalettesExist(e).then(function(e){return f.setSelectedColourPalette(e).then(n)}):f.setSelectedColourPalette(e).then(n)}}})},"anaplan/charts/HighChartsHelper":function(){define("anaplan/constants anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/LabelPageHelper anaplan/data/ModelContentCache anaplan/data/ModelContentHelper dojo/i18n!anaplan/nls/highchartlet dojo/_base/array dojo/_base/lang dojo/number".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g){return{getDefaultChartOptionsForElement:function(d){return!d||d.dashboardElementType!==l.dashboardElementType.CHART?null:{}},getCellNumber:function(d,a){if(!d.cells||!d.cells.cellValues||!d.cells.cellValues.length||!d.cells.formats)return null;var e=d.cells.cellValues[a],b=Number(e);isNaN(b)||"PERCENTAGE"===d.cells.formats[a].unitsType&&(b=Number((100*b).toFixed(e.length)));return b},getCellText:function(d,a){return!d.cells||!d.cells.cellText||!d.cells.cellText.length?
null:d.cells.cellText[a]},getColumnLabel:function(d,a){var e;if(!d.columns||!d.columns.labels)return null;e=f.getItemName(d.columns,0,a);return this.getLabel(e)},getLabel:function(d){var a="";d&&(a=q.unescapeHTML(e.clone(d),!1),-1!==a.indexOf("\x3c")&&(a=a.replace(/</gm,"\x26lt;")));return a},getMaxRowsToRequestFromServer:function(d){return d===l.chartType.MAP?-1:l.SELECTION_DEFINITION_SIZE_LIMIT},getRowLabel:function(d,a){if(!d.rows||!d.rows.labels)return null;var e=f.getItemName(d.rows,0,a);return this.getLabel(e)},
getEntityLongIdIdentifiersForChartOptions:function(d,a){if(!a)return console.warn("HighChartsHelper getEntityLongIdsForChartTypeRange invalid chartOptions?",a),[];var f={};if(d===l.chartType.COLUMNRANGE)f=l.chartOptions.columnRange;else if(d===l.chartType.FUNNEL)f=l.chartOptions.funnel;else if(d===l.chartType.MAP)f=l.chartOptions.map;else return console.warn("HighChartsHelper getEntityLongIdsForChartTypeRange unsupported chartType?",d),[];var b=[],g,k;for(g in f)f.hasOwnProperty(g)&&(k=f[g],a.hasOwnProperty(k)&&
(e.isArray(a[k])?b=b.concat(a[k]):-1<a[k]&&b.push(a[k])));return h.map(b,function(a){return[p.entityLongIdToEntityLongIdIdentifier(a)]})},getLabels:function(d){return!d?{}:13<d.length?{rotation:-45,align:"right"}:{}},getTooltips:function(d,a,e){var b=a.cells.cellText,f=a.columns.count*e;if(d.length){for(var g='\x3ctable style\x3d"font-size: 11px; border-spacing: 0px; margin: 0;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e',h=0;h<d.length;h++){0===h&&(g+='\x3ctr\x3e\x3ctd colspan\x3d"3" style\x3d"font-size: 12px; font-weight: bold;"\x3e'+
this.getRowLabel(a,e)+"\x3c/td\x3e\x3c/tr\x3e");var k=this.ellipsisString(this.getColumnLabel(a,d[h]),20),l=this.ellipsisString(this.getLabel(b[f+d[h]]||""),40);0<k.length&&0<l.length&&(g+='\x3ctr style\x3d"line-height: 18px;"\x3e\x3ctd style\x3d"font-weight: bold;"\x3e'+k+'\x3c/td\x3e\x3ctd\x3e\x3cdiv style\x3d"width: 9px;"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd\x3e'+l+"\x3c/td\x3e\x3c/tr\x3e")}return g+"\x3c/table\x3e"}return!1},removeTrailingZeros:function(d){for(var a=d.slice(),e=a.length-1;0<=e;e--)if(0===
a[e].y)a[e].y=null;else return a;return d},ellipsisString:function(d,a){return d.length>a?d.slice(0,a-3)+"... ":d},unescapeLabel:function(d){return d?d.replace(/&lt;/gm,"\x3c"):d},cleanUpChartLabels:function(d,a){a=a||0;var e=d.labels[a],b=e.length,g,h=[];for(g=0;g<b;g++)null!==e[g]&&void 0!==e[g]&&h.push(f.getItemName(d,a,g));return h},isLineItemNumeric:function(d){d=k.getLineItemInfo(d);return!d?!1:"NUMBER"===d.format.dataType},getCleanComboChartOptions:function(d){d.hasOwnProperty("dialogChart2")&&
delete d.dialogChart2;d.hasOwnProperty("chart")&&d.chart.renderTo&&delete d.chart.renderTo;d.hasOwnProperty("series")&&(d.series=h.map(d.series,function(a){a.data&&a.data.length&&delete a.data;return a}));return d},getCleanChartOptions:function(d){if(d.chartType===l.chartType.PIE)return d;d=this.getCleanComboChartOptions(d);d.hasOwnProperty("xAxis")&&d.xAxis.categories&&delete d.xAxis.categories;return d},getLineItemLabel:function(d,a){if(-1===d)return null;var e=k.getModuleInfo(a);return n.getLineItemLabelFromModuleInfo(e,
d)},getStaticContext:function(d,a,e){var b=[],g,k,m;-1!==a&&(e=this.getLineItemLabel(a,e),b.push({axisIdentifier:p.entityLongIdToEntityLongIdIdentifier(l.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID),entityLongId:a,label:e}));e=d.currentPageLabels;g=e.entityLongIds[0];d=d.pageAxisSpecifications;k=[];h.forEach(d,function(a){k.push(n.getAllDimensionIdentifiersForAxisSpecification(a)[0])});m=k.length;for(d=0;d<m;d++)(-1===a||!s.isLineItemsSystemAxisIdentifier(k[d]))&&b.push({axisIdentifier:k[d],label:f.getItemName(e,
0,d),entityLongId:g[d]});return b},getInvalidSelectionMessage:function(){var d;this._invalidSelectionMessage||(d=m.messageInvalidSelection,this._invalidSelectionMessage=d=q.searchAndReplacePlaceholders(d));return this._invalidSelectionMessage},setSeriesColourFromConfig:function(d,a){if(d.series)for(var e=0;e<a.length;e++){for(var b=a[e].entityLongId,f=!1,g=0;g<d.series.length;g++)if(d.series[g].entityLongId===b){f=d.series[g];break}f&&(a[e].color=f.color)}},setPieSeriesColourFromConfig:function(d,
a){if(d.series&&d.series[0].data)for(var e=a[0].data,b=0;b<e.length;b++){for(var f=!1,g=d.series[0].data,h=!1,k=0;k<g.length;k++){var l=0,m=e[b].itemContext.length;for(2<m&&(l=e[b].itemContext.length-2);l<m;l++)if(g[k].itemContext[l].entityLongId===e[b].itemContext[l].entityLongId)h=!0;else{h=!1;break}if(h){f=g[k];break}}h&&(e[b].color=f.color)}}}})},"anaplan/dashboard/dashboardState/ServerDefinition":function(){define(["anaplan/data/ModelContentCache","dojo/_base/declare","dojo/_base/lang","dojo/json"],
function(l,s,p,q){function f(f){if(-1===f._dashboard._dashboardEntityLongId)return console.warn(f._dashboard.id+" expected to find dashboardEntityLongId and did not",f._dashboard._dashboardEntityLongId),null;var k=l.getDashboardInfo(f._dashboard._dashboardEntityLongId);return null===k?(console.warn(f._dashboard.id+" expected to find dashboard definition for dashboardEntityLongId and did not: has dashboard been deleted by another user?",f._dashboard._dashboardEntityLongId),null):k.dashboardDefinitionJsonString}
var k={dashboardElements:[]};return s([],{constructor:function(k){this._dashboard=k;this._seedDefinitionJson=f(this);this._isDirty=!1},destroy:function(){this._dashboard=null},hasChanged:function(){return this._isDirty},getSeedJsonString:function(){return this._seedDefinitionJson},getSeedDefinition:function(){return q.parse(this._seedDefinitionJson)||p.clone(k)},reset:function(){this._seedDefinitionJson=f(this);!1!==this._isDirty&&(this._isDirty=!1,this._dashboard._broadcastServerDirtyState())},checkIfChanged:function(){var k=
f(this);this._seedDefinitionJson!==k&&(this._seedDefinitionJson=k,!0!==this._isDirty&&(this._isDirty=!0,this._dashboard._broadcastServerDirtyState()))},_isDirty:null,_seedDefinitionJson:null,_dashboard:null})})},"anaplan/undo/UndoManager":function(){define("anaplan/constants anaplan/data/Aggregator anaplan/keyboard/keyboardEvents anaplan/utils/FormatHelper anaplan/utils/topics anaplan/utils/UIHelper dojo/_base/declare dojo/Deferred dojo/i18n!anaplan/nls/undo dojo/on dojo/topic".split(" "),function(l,
s,p,q,f,k,n,m,h,e,g){return n("anaplan.undo.UndoManager",null,{_operation:null,_handles:null,KNOWN_REJECTION_REASONS:[l.dataInputUndoRejectReasons.CELL_DEFINITION_CHANGED,l.dataInputUndoRejectReasons.GRID_DEFINITION_CHANGED,l.dataInputUndoRejectReasons.NOT_ACTIVE_TAB],RETRY_REJECTION_REASONS:[l.dataInputUndoRejectReasons.NOT_ACTIVE_TAB,l.dataInputUndoRejectReasons.CANCELLED],constructor:function(){this._handles=[g.subscribe("anaplan/undoManager/add",this.add.bind(this)),g.subscribe("anaplan/undoManager/clear",
this.clear.bind(this)),g.subscribe("anaplan/undoManager/undo",this.undo.bind(this)),e(window,p.ANAPLAN_UNDO,this.undo.bind(this))]},destroy:function(){this._handles.forEach(function(d){d.remove()})},add:function(d){if(d){var a=this._operation;a&&a.containerId!==d.containerId&&(this._operation=null,a.containerId&&g.publish("anaplan/undoManager/"+a.containerId+"/stackSize",0));this._operation=d;d.containerId&&g.publish("anaplan/undoManager/"+d.containerId+"/stackSize",1)}},clear:function(d){var a=this._operation;
a&&a.id===d&&(this._operation=null,a.containerId&&g.publish("anaplan/undoManager/"+a.containerId+"/stackSize",0))},getStackSizeForContainer:function(d){return!this._operation||this._operation.containerId!==d?0:1},undo:function(d){if(d){var a=d.target.tagName.toUpperCase();if("INPUT"===a||"TEXTAREA"===a)return;d.originalEvent.preventDefault()}this._operation?k.isDialogOpen()||(s.isDirty()?f.systemMessage(h.messageSystemBusy):this._operation.operation===l.dataInputUndoOperations.MULTIPLE_OPERATIONS?
this._handleRejectedUndo(l.dataInputUndoRejectReasons.MULTIPLE_UPDATES):(d=new m,d.then(this._handleResolvedUndo.bind(this),this._handleRejectedUndo.bind(this)),g.publish("anaplan/"+this._operation.id+"/undo",this._operation,d))):f.systemMessage(h.messageNoChangesToUndo)},_handleResolvedUndo:function(d){if(this._operation){var a=this._operation.containerId;this._operation=null;void 0!==a&&g.publish("anaplan/undoManager/"+a+"/stackSize",0)}f.systemMessage(q.escapeHTML(d))},_handleRejectedUndo:function(d){if(-1===
this.RETRY_REJECTION_REASONS.indexOf(d)&&this._operation){var a=this._operation.containerId;this._operation=null;void 0!==a&&g.publish("anaplan/undoManager/"+a+"/stackSize",0)}d!==l.dataInputUndoRejectReasons.CANCELLED&&f.systemMessage(h["reject"+d]||q.escapeHTML(d),null,null,-1<this.KNOWN_REJECTION_REASONS.indexOf(d)?l.SYSTEM_MESSAGE_WARNING:l.SYSTEM_MESSAGE_ERROR)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){function u(a){return eval("("+a+")")}function v(a){var b=a._nameCaseMap,d=a.prototype;if(!b||b._extendCnt<y){var b=a._nameCaseMap={},e;for(e in d)"_"!==e.charAt(0)&&(b[e.toLowerCase()]=e);b._extendCnt=y}return b}function z(a,b){var d=a.join();if(!w[d]){for(var e=[],f=0,g=a.length;f<g;f++){var h=a[f];e[e.length]=w[h]=w[h]||p.getObject(h)||~h.indexOf("/")&&(b?b(h):l(h))}f=e.shift();w[d]=e.length?f.createSubclass?f.createSubclass(e):f.extend.apply(f,e):f}return w[d]}
new Date("X");var y=0;h.after(p,"extend",function(){y++},!0);var w={},x={_clearCache:function(){y++;w={}},_functionFromScript:function(a,b){var d="",e="",f=a.getAttribute(b+"args")||a.getAttribute("args"),g=a.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&q.forEach(g.split(/\s*,\s*/),function(a){d+="with("+a+"){";e+="}"});return new Function(f,d+a.innerHTML+e)},instantiate:function(a,b,d){b=b||{};d=d||{};var e=(d.scope||s._scopeName)+"Type",f="data-"+(d.scope||s._scopeName)+"-",g=f+
"type",h=f+"mixins",k=[];q.forEach(a,function(a){var d=e in b?b[e]:a.getAttribute(g)||a.getAttribute(e);if(d){var f=a.getAttribute(h),d=f?[d].concat(f.split(/\s*,\s*/)):[d];k.push({node:a,types:d})}});return this._instantiate(k,b,d)},_instantiate:function(a,b,d,f){function g(a){!b._started&&!d.noStart&&q.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=q.map(a,function(a){var e=a.ctor||z(a.types,d.contextRequire);if(!e)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(e,a.node,b,d,a.scripts,a.inherited)},this);return f?e(a).then(g):g(a)},construct:function(d,e,f,k,l,n){function t(a){P&&p.setObject(P,a);for(I=0;I<W.length;I++)h[W[I].advice||"after"](a,W[I].method,p.hitch(a,W[I].func),!0);for(I=0;I<Y.length;I++)Y[I].call(a);for(I=0;I<T.length;I++)a.watch(T[I].prop,T[I].func);for(I=0;I<ca.length;I++)b(a,ca[I].event,ca[I].func);return a}var w=d&&d.prototype;k=k||{};var x={};k.defaults&&p.mixin(x,k.defaults);n&&p.mixin(x,n);
var y;a("dom-attributes-explicit")?y=e.attributes:a("dom-attributes-specified-flag")?y=q.filter(e.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(e.nodeName)?e:e.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),y=q.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==e.nodeName&&"value"==a||"enctype"==b?e.getAttribute(b):e.getAttributeNode(b).value}}));var z=k.scope||s._scopeName;
n="data-"+z+"-";var M={};"dojo"!==z&&(M[n+"props"]="data-dojo-props",M[n+"type"]="data-dojo-type",M[n+"mixins"]="data-dojo-mixins",M[z+"type"]="dojoType",M[n+"id"]="data-dojo-id");for(var I=0,O,z=[],P,N;O=y[I++];){var Q=O.name,S=Q.toLowerCase();O=O.value;switch(M[S]||S){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":N=O;break;case "data-dojo-id":case "jsid":P=O;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=O;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=
O;break;case "class":x["class"]=e.className;break;case "style":x.style=e.style&&e.style.cssText;break;default:if(Q in w||(Q=v(d)[S]||Q),Q in w)switch(typeof w[Q]){case "string":x[Q]=O;break;case "number":x[Q]=O.length?Number(O):NaN;break;case "boolean":x[Q]="false"!=O.toLowerCase();break;case "function":""===O||-1!=O.search(/[^\w\.]+/i)?x[Q]=new Function(O):x[Q]=p.getObject(O,!1)||new Function(O);z.push(Q);break;default:S=w[Q],x[Q]=S&&"length"in S?O?O.split(/\s*,\s*/):[]:S instanceof Date?""==O?new Date(""):
"now"==O?new Date:g.fromISOString(O):S instanceof m?s.baseUrl+O:u(O)}else x[Q]=O}}for(y=0;y<z.length;y++)M=z[y].toLowerCase(),e.removeAttribute(M),e[M]=null;if(N)try{N=u.call(k.propsThis,"{"+N+"}"),p.mixin(x,N)}catch(R){throw Error(R.toString()+" in data-dojo-props\x3d'"+N+"'");}p.mixin(x,f);l||(l=d&&(d._noScript||w._noScript)?[]:r("\x3e script[type^\x3d'dojo/']",e));var W=[],Y=[],T=[],ca=[];if(l)for(I=0;I<l.length;I++)M=l[I],e.removeChild(M),f=M.getAttribute(n+"event")||M.getAttribute("event"),k=
M.getAttribute(n+"prop"),N=M.getAttribute(n+"method"),z=M.getAttribute(n+"advice"),y=M.getAttribute("type"),M=this._functionFromScript(M,n),f?"dojo/connect"==y?W.push({method:f,func:M}):"dojo/on"==y?ca.push({event:f,func:M}):x[f]=M:"dojo/aspect"==y?W.push({method:N,advice:z,func:M}):"dojo/watch"==y?T.push({prop:k,func:M}):Y.push(M);d=(l=d.markupFactory||w.markupFactory)?l(x,e,d):new d(x,e);return d.then?d.then(t):t(d)},scan:function(b,e){function f(a){if(!a.inherited){a.inherited={};var b=a.node,
d=f(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(r)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var g=[],h=[],k={},m=(e.scope||s._scopeName)+"Type",n="data-"+(e.scope||s._scopeName)+"-",p=n+"type",r=n+"textdir",n=n+"mixins",t=b.firstChild,u=e.inherited;if(!u){var v=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&v(a.parentNode,b)},u={dir:v(b,"dir"),lang:v(b,"lang"),textDir:v(b,r)},w;for(w in u)u[w]||
delete u[w]}for(var u={inherited:u},x,y;;)if(t)if(1!=t.nodeType)t=t.nextSibling;else if(x&&"script"==t.nodeName.toLowerCase())(Q=t.getAttribute("type"))&&/^dojo\/\w/i.test(Q)&&x.push(t),t=t.nextSibling;else if(y)t=t.nextSibling;else{var Q=t.getAttribute(p)||t.getAttribute(m);w=t.firstChild;if(!Q&&(!w||3==w.nodeType&&!w.nextSibling))t=t.nextSibling;else{y=null;if(Q){var S=t.getAttribute(n);x=S?[Q].concat(S.split(/\s*,\s*/)):[Q];try{y=z(x,e.contextRequire)}catch(R){}y||q.forEach(x,function(a){~a.indexOf("/")&&
!k[a]&&(k[a]=!0,h[h.length]=a)});S=y&&!y.prototype._noScript?[]:null;u={types:x,ctor:y,parent:u,node:t,scripts:S};u.inherited=f(u);g.push(u)}else u={node:t,scripts:x,parent:u};x=S;y=t.stopParser||y&&y.prototype.stopParser&&!e.template;t=w}}else{if(!u||!u.node)break;t=u.node.nextSibling;y=!1;u=u.parent;x=u.scripts}var W=new d;h.length?(a("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+h.join(", ")),(e.contextRequire||l)(h,function(){W.resolve(q.filter(g,function(a){if(!a.ctor)try{a.ctor=
z(a.types,e.contextRequire)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var f=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(f&&f.stopParser&&!e.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):W.resolve(g);return W.promise},_require:function(a,b){var e=u("{"+a.innerHTML+"}"),f=[],g=[],h=new d,k=b&&b.contextRequire||l,m;for(m in e)f.push(m),g.push(e[m]);k(g,function(){for(var a=0;a<f.length;a++)p.setObject(f[a],arguments[a]);h.resolve(arguments)});
return h.promise},_scanAmd:function(a,b){var e=new d,f=e.promise;e.resolve(!0);var g=this;r("script[type\x3d'dojo/require']",a).forEach(function(a){f=f.then(function(){return g._require(a,b)});a.parentNode.removeChild(a)});return f},parse:function(a,b){var d;!b&&a&&a.rootNode?(b=a,d=b.rootNode):a&&p.isObject(a)&&!("nodeType"in a)?b=a:d=a;d=d?k.byId(d):n.body();b=b||{};var e=b.template?{template:!0}:{},f=[],g=this,h=this._scanAmd(d,b).then(function(){return g.scan(d,b)}).then(function(a){return g._instantiate(a,
e,b,!0)}).then(function(a){return f=f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});p.mixin(f,h);return f}};s.parser=x;f.parseOnLoad&&t(100,x,"parse");return x})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t){var u=p("dijit.layout._Splitter",[a,r],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=s(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=k.getMarginBox(this.child.domNode)[a],d=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],
a=k.getContentBox(d.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(a){this.cover||(this.cover=f.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));q.add(this.cover,"dijitSplitterCoverActive");this.fake&&f.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),q.add(this.domNode,"dijitSplitterShadow"),f.place(this.fake,this.domNode,"after");q.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&q.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var b=this._factor,d=this.horizontal,l=d?"pageY":"pageX",m=a[l],p=this.domNode.style,d=d?"h":"w",r=n.getComputedStyle(this.child.domNode),s=k.getMarginBox(this.child.domNode,r)[d],t=this._computeMaxSize(),u=Math.max(this.child.minSize,k.getPadBorderExtents(this.child.domNode,r)[d]+10),d=this.region,v="top"==d||"bottom"==d?"top":"left",L=parseInt(p[v],10),F=this._resize,
K=h.hitch(this.container,"_layoutChildren",this.child.id),d=this.ownerDocument;this._handlers=this._handlers.concat([e(d,g.move,this._drag=function(a,d){var e=a[l]-m,f=b*e+s,g=Math.max(Math.min(f,t),u);(F||d)&&K(g);p[v]=e+L+b*(g-f)+"px"}),e(d,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),e(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),e(d,g.release,h.hitch(this,"_stopDrag"))]);a.stopPropagation();a.preventDefault()},_onMouse:function(a){a=
"mouseover"==a.type||"mouseenter"==a.type;q.toggle(this.domNode,"dijitSplitterHover",a);q.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&q.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&f.destroy(this.fake),q.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
s(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,d=1;switch(a.keyCode){case b?m.UP_ARROW:m.LEFT_ARROW:d*=-1;case b?m.DOWN_ARROW:m.RIGHT_ARROW:break;default:return}b=k.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*d;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));
a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),v=p("dijit.layout._Gutter",[a,r],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);q.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});p=p("dijit.layout.BorderContainer",b,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:u,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var b=a.region,d=a.isLeftToRight();"leading"==b&&(b=d?"left":"right");"trailing"==b&&(b=d?"right":"left");if(b&&"center"!=b&&(a.splitter||this.gutters)&&!a._splitterWidget)d=a.splitter?this._splitterClass:v,h.isString(d)&&
(d=h.getObject(d)),d=new d({id:a.id+"_splitter",container:this,child:a,region:b,live:this.liveSplitters}),d.isSplitter=!0,a._splitterWidget=d,b="bottom"==b||b==(this.isLeftToRight()?"right":"left"),f.place(d.domNode,a.domNode,b?"before":"after"),d.startup()},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return l.filter(this.inherited(arguments),function(a){return!a.isSplitter})},
getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var d=this.domNode;this.cs=n.getComputedStyle(d);this.pe=k.getPadExtents(d,this.cs);this.pe.r=n.toPixelValue(d,this.cs.paddingRight);this.pe.b=n.toPixelValue(d,this.cs.paddingBottom);n.set(d,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var d=[];l.forEach(this._getOrderedChildren(),
function(a){d.push(a);a._splitterWidget&&d.push(a._splitterWidget)});t.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},d,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});p.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};h.mixin(p.ChildWidgetProperties,b.ChildWidgetProperties);h.extend(d,p.ChildWidgetProperties);
p._Splitter=u;p._Gutter=v;return p})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(l,s,p,q,f,k){function n(f){return{id:f.value,value:f.value,name:p.trim(f.innerText||f.textContent||"")}}return l("dijit.form.DataList",f,{constructor:function(f,h){this.domNode=s.byId(h);p.mixin(this,f);this.id&&k.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:q("option",this.domNode).map(n)}])},
destroy:function(){k.remove(this.id)},fetchSelectedItem:function(){var f=q("\x3e option[selected]",this.domNode)[0]||q("\x3e option",this.domNode)[0];return f&&n(f)}})})},"anaplan/charts/MapChartOptions":function(){define("anaplan/data/ModelContentHelper anaplan/data/ModelContentCache anaplan/utils/UIHelper anaplan/constants dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/i18n!anaplan/nls/dashboard dojo/store/Memory dojo/topic dojo/text!anaplan/templates/MapChartOptions.html dijit/form/FilteringSelect dijit/form/CheckBox".split(" "),
function(l,s,p,q,f,k,n,m,h,e,g,d,a,r){return m([k,f,n],{baseClass:"layoutOptions",_options:null,region:"center",title:"Options",templateString:r,postCreate:function(){var b,e,f,h,k,m,n,r,A,D,E;this.inherited(arguments);p.setText(this.labelLegend,g.labelMapType);p.setText(this.labelRegions,g.labelRegions);p.setText(this.labelShowRegions,g.labelShowRegions);b=s.getModuleInfo(this.moduleEntityLongId);e=s.getLineItemsLabelPage(this.moduleEntityLongId);f=e.entityLongIds[0];h=e.labels[0];k=[];for(m=0;m<
e.count;m++)n=f[m],r=l.getLineItemInfoFromModuleInfo(b,n),r=r.format,k.push({id:n,name:h[m],dataType:r.dataType});b=this._options.map;e=[q.chartOptions.map.BAR_LABEL];for(f=0;f<e.length;f++){h=e[f];try{A=new d({data:k}),D=-1===b[h]?k[0].id:b[h],E=this[h],E.set("store",A),E.set("value",D,!1)}catch(B){p.throwClientException(this,B)}}this.mapType.set("store",new d({data:[{name:g.labelMapWorld,id:"WORLD_SHAPES"},{name:g.labelMapUSA,id:"US_SHAPES"},{name:g.labelMapCanada,id:"CANADA_SHAPES"},{name:g.labelMapEUROPE,
id:"EUROPE_SHAPES"},{name:g.labelMapRussia,id:"RUSSIA_SHAPES"},{name:g.labelMapAustralia,id:"AUSTRALIA_SHAPES"},{name:g.labelMapNZ,id:"NZ_SHAPES"},{name:g.labelMapFrance,id:"FRANCE_SHAPES"}]}));this.mapType.set("value",this._options.map.mapType||this._options.mapType,!0);this.mapType.watch("state",function(b,d,e){a.publish("anaplan/chartOptions/mapType/state",d,e,"mapType")});this.regionLabelCheckBox.set("checked",this._options.map.regionLabels?!0:!1)},onChange:function(){},_onChangeHandler:function(a){if(this._options.map.mapType!==
a){var d=h.clone(this._options);switch(a){case "WORLD_SHAPES":h.mixin(d.map,{mapType:"WORLD_SHAPES"});break;case "CANADA_SHAPES":h.mixin(d.map,{mapType:"CANADA_SHAPES"});break;case "EUROPE_SHAPES":h.mixin(d.map,{mapType:"EUROPE_SHAPES"});break;case "RUSSIA_SHAPES":h.mixin(d.map,{mapType:"RUSSIA_SHAPES"});break;case "US_SHAPES":h.mixin(d.map,{mapType:"US_SHAPES"});break;case "AUSTRALIA_SHAPES":h.mixin(d.map,{mapType:"AUSTRALIA_SHAPES"});break;case "NZ_SHAPES":h.mixin(d.map,{mapType:"NZ_SHAPES"});break;
case "FRANCE_SHAPES":h.mixin(d.map,{mapType:"FRANCE_SHAPES"})}h.mixin(this._options,d);this.onChange(this._options)}},_onChangeRegionLabels:function(a){var d=this.barLabel.get("value"),e;d&&(e=dojo.clone(this._options),h.mixin(e.map,{regionLabels:a,barLabel:d}),h.mixin(this._options,e),this.onChange(this._options))},_onChangeRegionSource:function(a){var d;a&&(d=dojo.clone(this._options),h.mixin(d.map,{barLabel:a}),h.mixin(this._options,d),this.onChange(this._options))},resize:function(a){a&&e.setMarginBox(this.domNode,
a)}})})},"anaplan/widgets/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/PopupMenuItem","dojo/dom-class"],function(l,s,p){return l(s,{_openPopup:function(){this.inherited(arguments);this.popup.fromItem=this},postCreate:function(){this.inherited(arguments);p.add(this.domNode,"qa-menu-item");p.add(this.domNode,"qa-menu-item-popup")}})})},"anaplan/dashboard/dashboardWidgets/_ToolbarLabel":function(){define(["anaplan/dashboard/DashboardHelper","anaplan/utils/UIHelper","dijit/_WidgetBase",
"dojo/_base/declare","dojo/dom-class"],function(l,s,p,q,f){return q("anaplan/dashboard/dashboardWidgets/_ToolbarLabel",[p],{label:null,tooltip:null,postCreate:function(){this.inherited(arguments);f.add(this.domNode,"dijit dijitReset dijitInline toolbarLabel")},destroy:function(){this._tooltip&&(this._tooltip.destroy(),this._tooltip=null);this.inherited(arguments)},_setLabelAttr:function(f){f&&s.setText(this.domNode,f)},_setTooltipAttr:function(f){this._set("tooltip",f);this._tooltip&&(this._tooltip.destroy(),
this._tooltip=null);this._tooltip=l.createDashboardElementTooltip(this.tooltip,this.domNode)}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(l,s,p,q,f,k){l=q("dijit._OnDijitClickMixin",null,{connect:function(f,l,h){return this.inherited(arguments,[f,"ondijitclick"==l?k:l,h])}});l.a11yclick=k;return l})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(l,
s,p){return l("dijit.form._ListBase",null,{selected:null,_listConnect:function(l,f){var k=this;return k.own(s(k.containerNode,s.selector(function(f,k,h){return f.parentNode==h},l),function(l){k[f](l,this)}))},selectFirstNode:function(){for(var l=this.containerNode.firstChild;l&&"none"==l.style.display;)l=l.nextSibling;this._setSelectedAttr(l,!0)},selectLastNode:function(){for(var l=this.containerNode.lastChild;l&&"none"==l.style.display;)l=l.previousSibling;this._setSelectedAttr(l,!0)},selectNextNode:function(){var l=
this.selected;if(l){for(l=l.nextSibling;l&&"none"==l.style.display;)l=l.nextSibling;l?this._setSelectedAttr(l,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var l=this.selected;if(l){for(l=l.previousSibling;l&&"none"==l.style.display;)l=l.previousSibling;l?this._setSelectedAttr(l,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(l,f){if(this.selected!=l){var k=this.selected;if(k)this.onDeselect(k);l&&(f&&p.scrollIntoView(l),this.onSelect(l));
this._set("selected",l)}else if(l)this.onSelect(l)}})})},"anaplan/data/ModelContentHelper":function(){define("anaplan/constants anaplan/Exceptions anaplan/common/SelectiveAccess anaplan/utils/AxisHelper anaplan/utils/EntityLongIdHelper anaplan/utils/FormatHelper anaplan/utils/JsHelper anaplan/utils/UIHelper anaplan/utils/ViewDefinitionHelper dojo/_base/array dojo/_base/lang dojo/i18n!anaplan/nls/common".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d){p={addSelectionToAxisSpecification:function(a,f,b){if(this.axisSpecificationContainsBranchSync(a))return m.showInfoDialog(d.labelSelectionToSyncBranchMessage,
{title:d.labelSelectionToSyncBranchTitle}),a;var h=null;try{if(!a)return null;h=g.clone(a);if(!h.axisDefinition&&(this.convertAxisSpecificationToUseAxisDefinition(h),!h.axisDefinition))return null;h.axisDefinition.type!=l.AXIS_DEFINITION_TYPE_SELECTION?h.axisDefinition={type:l.AXIS_DEFINITION_TYPE_SELECTION,baseAxis:h.axisDefinition,selectionDefinition:{selectionRules:[],selectionIsActive:!0}}:h=g.clone(a);h.axisDefinition.baseAxis.sortAndFilterDefinition&&(h.axisDefinition.sortAndFilterDefinition=
h.axisDefinition.baseAxis.sortAndFilterDefinition,h.axisDefinition.baseAxis.sortAndFilterDefinition=null);h.axisDefinition.baseAxis.sortDefinition&&(h.axisDefinition.sortDefinition=h.axisDefinition.baseAxis.sortDefinition,h.axisDefinition.baseAxis.sortDefinition=null);f===l.SELECTION_RULE_MODIFIER_SHOW?h.axisDefinition.selectionDefinition.selectionRules=[]:f===l.SELECTION_RULE_MODIFIER_HIDE&&!h.axisDefinition.selectionDefinition.selectionRules.length&&h.axisDefinition.selectionDefinition.selectionRules.push({elementAxis:g.clone(h.axisDefinition.baseAxis),
modifier:l.SELECTION_RULE_MODIFIER_SHOW,isValid:!0});var k=Array(3);k[0]=[];k[1]=[];k[2]=[];var n=b.length,p;for(a=0;a<n;a++)p=b[a],k[this._getNullCount(p)].push(p);for(var q=this.getAllDimensionIdentifiersForAxisDefinition(h.axisDefinition),w=q.length,x=h.axisDefinition.selectionDefinition.selectionRules,A,D,E=0;3>E;E++)if(E){if(k[E].length){A={elementAxis:{type:l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT,childAxisDefinitions:[{type:l.AXIS_DEFINITION_TYPE_ITEM_LIST,itemIdentifiers:e.map(k[E],function(a){return a.slice(0,
a.length-E)}),dimensionIdentifiers:q.slice(0,q.length-E)}]},modifier:f,isValid:!0};for(D=q.length-E;D<w;D++)A.elementAxis.childAxisDefinitions.push({type:l.AXIS_DEFINITION_TYPE_FULL_DIMENSION,dimensionIdentifier:q[D]});x.push(A)}}else k[E].length&&x.push({elementAxis:{type:l.AXIS_DEFINITION_TYPE_ITEM_LIST,itemIdentifiers:k[E],dimensionIdentifiers:q},modifier:f,isValid:!0})}catch(B){throw new s.ClientException("addSelectionToAxisSpecification",B);}return h},assertModel:function(a,d,b){if(!a)return console.warn("assertModel expected to find workspaceInfo and did not"),
!1;if(!d)return console.warn("assertModel expected to find modelId and did not"),!1;d=e.indexOf(a.modelIds,d);if(-1===d)return!1;a=a.modelSummaries[d];return a.activeState===l.ACTIVE_STATE_ARCHIVED||a.activeState===l.ACTIVE_STATE_MAINTENANCE&&!b?!1:!0},axisDefinitionContainsAxisOrder:function(a){var d=this;return!a?!1:a.axisOrder?!0:a.type===l.AXIS_DEFINITION_TYPE_SELECTION?this.axisDefinitionContainsAxisOrder(a.baseAxis):a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?e.some(a.childAxisDefinitions,
function(a){return d.axisDefinitionContainsAxisOrder(a)},this):!1},axisDefinitionContainsBranchSync:function(a){if(!a)return!1;switch(a.type){case l.AXIS_DEFINITION_TYPE_SYNC_BRANCH:return!0;case l.AXIS_DEFINITION_TYPE_SELECTION:return this.axisDefinitionContainsBranchSync(a.baseAxis);case l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT:a=a.childAxisDefinitions;for(var d=a.length,b=0;b<d;b++)if(this.axisDefinitionContainsBranchSync(a[b]))return!0}return!1},axisDefinitionContainsDependentSelection:function(a){var d=
this;return!a?!1:a.type===l.AXIS_DEFINITION_TYPE_SELECTION?this._axisDefinitionContainsCrossProduct(a.baseAxis):a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?e.some(a.childAxisDefinitions,function(a){return d.axisDefinitionContainsDependentSelection(a)}):!1},axisDefinitionContainsLevelBasedSelection:function(a){var d;if(!a)return!1;d=a.type;return d===l.AXIS_DEFINITION_TYPE_LEVELS?!0:d===l.AXIS_DEFINITION_TYPE_SELECTION?this.axisDefinitionContainsLevelBasedSelection(a.baseAxis):d===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?
e.some(a.childAxisDefinitions,function(a){return this.axisDefinitionContainsLevelBasedSelection(a)},this):!1},axisDefinitionContainsSelection:function(a){var d=this;return!a?!1:a.type===l.AXIS_DEFINITION_TYPE_SELECTION?!0:a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?e.some(a.childAxisDefinitions,function(a){return d.axisDefinitionContainsSelection(a)}):!1},axisDefinitionContainsSortAndFilterDefinition:function(a){if(!a)return!1;if(a.sortAndFilterDefinition)return!0;switch(a.type){case l.AXIS_DEFINITION_TYPE_SELECTION:return this.axisDefinitionContainsSortAndFilterDefinition(a.baseAxis);
case l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT:a=a.childAxisDefinitions;for(var d=a.length,b=0;b<d;b++)if(this.axisDefinitionContainsSortAndFilterDefinition(a[b]))return!0}return!1},axisDefinitionContainsSortDefinition:function(a){var d=this;return!a?!1:a.sortDefinition?!0:a.type===l.AXIS_DEFINITION_TYPE_SELECTION?this.axisDefinitionContainsSortDefinition(a.baseAxis):a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?e.some(a.childAxisDefinitions,function(a){return d.axisDefinitionContainsSortDefinition(a)},
this):!1},axisSpecificationContains:function(a,d){return!a?!1:-1!==e.indexOf(this.getAllDimensionIdentifiersForAxisSpecification(a),d)},axisSpecificationContainsAxisOrder:function(a){return!a?!1:this.axisDefinitionContainsAxisOrder(a.axisDefinition)},axisSpecificationContainsBranchSync:function(a){return!a||!a.axisDefinition?!1:this.axisDefinitionContainsBranchSync(a.axisDefinition)},axisSpecificationContainsDependentSelection:function(a){return!a?!1:this.axisDefinitionContainsDependentSelection(a.axisDefinition)},
axisSpecificationContainsEmpty:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isEmptySystemAxisIdentifier(a)});return d},axisSpecificationContainsHierarchy:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isCustomHierarchySystemAxisIdentifier(a)});return d},axisSpecificationContainsLevelBasedSelection:function(a){return!a?!1:this.axisDefinitionContainsLevelBasedSelection(a.axisDefinition)},
axisSpecificationContainsLineItems:function(a){return!a?!1:-1!=this.getLineItemsNestingIndexForAxisSpecification(a)},axisSpecificationContainsLineItemSubset:function(a){if(!a)return!1;var d=!1;a=this.getAllDimensionIdentifiersForAxisSpecification(a);for(var b=0;b<a.length;b++){var e=f.entityLongIdIdentifierToEntityLongId(a[b]);if(f.getEntityTypeIndex(e)===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX){d=!0;break}}return d},axisSpecificationContainsSortDefinition:function(a){return!a?!1:this.axisDefinitionContainsSortDefinition(a.axisDefinition)},
axisSpecificationContainsTime:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isTimeSystemAxisIdentifier(a)});return d},axisSpecificationContainsUser:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isUserSystemAxisIdentifier(a)});return d},axisSpecificationContainsUserProperty:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),
function(a){d=d||q.isUserPropertySystemAxisIdentifier(a)});return d},axisSpecificationContainsVersion:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isVersionSystemAxisIdentifier(a)});return d},axisSpecificationContainsProperty:function(a){if(!a)return!1;var d=!1;e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(a),function(a){d=d||q.isPropertySystemAxisIdentifier(a)});return d},axisSpecificationContainsSelection:function(a){return!a||
!a.axisDefinition?!1:this.axisDefinitionContainsSelection(a.axisDefinition)},axisSpecificationContainsSortAndFilterDefinition:function(a){return!a||!a.axisDefinition?!1:this.axisDefinitionContainsSortAndFilterDefinition(a.axisDefinition)},canMaintainSomeDimensionsForCanMaintain:function(a){if(g.isArray(a)){var d=!1;e.forEach(a,function(a){d=d||a});return d}return a},convertAxisSpecificationToUseAxisDefinition:function(a){a&&!a.axisDefinition&&(a.axisDefinitionIdentifier?(a.axisDefinition={type:l.AXIS_DEFINITION_TYPE_FULL_DIMENSION,
dimensionIdentifier:a.axisDefinitionIdentifier},a.axisDefinitionIdentifier=null):console.warn("convertAxisSpecificationToUseAxisDefinition: invalid axis specification"))},getAllDimensionIdentifiersForAxisDefinition:function(a){var d=[];try{if(!a)return d;switch(a.type){case l.AXIS_DEFINITION_TYPE_SELECTION:d=this.getAllDimensionIdentifiersForAxisDefinition(a.baseAxis);break;case l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT:var b=a.childAxisDefinitions,e=b.length;for(a=0;a<e;a++)d=d.concat(this.getAllDimensionIdentifiersForAxisDefinition(b[a]));
break;case l.AXIS_DEFINITION_TYPE_ITEM_LIST:console.warn("getAllDimensionIdentifiersForAxisDefinition: an AxisDefinition of type ITEM_LIST in a base axis may result in duplicate dimension identifiers!");d=a.dimensionIdentifiers.slice();break;default:d=[a.dimensionIdentifier]}}catch(f){throw new s.ClientException("getAllDimensionIdentifiersForAxisDefinition",f);}return d},getAllDimensionIdentifiersForAxisSpecification:function(a){try{if(!a)return[];if(a.axisDefinitionIdentifier)return[a.axisDefinitionIdentifier];
if(a.axisDefinition)return this.getAllDimensionIdentifiersForAxisDefinition(a.axisDefinition);if(a.identifier)return g.isArray(a.identifier)?a.identifier.slice():[a.identifier]}catch(d){throw new s.ClientException("getAllDimensionIdentifiersForAxisSpecification",d);}console.warn("TODO: getAllDimensionIdentifiersForAxisSpecification found axisSpecification and did not know how tohandle it",a);return[]},getAllDimensionIdentifiersForPages:function(a){var d=[];a.pageAxisSpecifications&&e.forEach(a.pageAxisSpecifications,
function(a){d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a))},this);return d},getAllDimensionIdentifiersForPageInfo:function(a){var d=[];a.pageAxisSpecifications&&e.forEach(a.pageAxisSpecifications,function(a){d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a))},this);a.rowAxisSpecification&&(d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a.rowAxisSpecification)));a.columnAxisSpecification&&(d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a.columnAxisSpecification)));
return d},getAllDimensionIdentifiersForViewDefinition:function(a){var d=[];this.useAxisSpecification(a)?(a.pages&&(d=d.concat(a.pages)),a.pageAxisSpecifications&&e.forEach(a.pageAxisSpecifications,function(a){d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a))},this),a.rowAxisSpecification&&(d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a.rowAxisSpecification))),a.columnAxisSpecification&&(d=d.concat(this.getAllDimensionIdentifiersForAxisSpecification(a.columnAxisSpecification)))):
(d=d.concat(a.pages),d.push(a.rows),d.push(a.columns));return d},getAllEntityLongIdsForPageInfo:function(a){var d=[];if(a&&a.staticContext){var b=a.staticContext;b&&(b.entityLongIds&&b.entityLongIds.length)&&(d=b.entityLongIds[0].slice())}a&&a.currentPageLabels&&(a=a.currentPageLabels)&&(a.entityLongIds&&a.entityLongIds.length)&&(d=d.concat(a.entityLongIds[0]));return d},getAxesForViewDefinition:function(a,d,b,e){if(a&&1<a.length||d&&1<d.length)return console.warn("TODO: deprecated; use getAxesSpecificationsForViewDefinition if nested dimensions"),
this.getAxesSpecificationsForViewDefinition(a,d,b,e);a={rows:a&&a.length?a[0]:l.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER,columns:d&&d.length?d[0]:l.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER,pages:b||[]};"undefined"!==typeof e&&(a.staticContextIdentifiers=e||[]);return a},getAxesSpecificationsForViewDefinition:function(a,d,b,f){var g=[];b&&b.length&&e.forEach(b,function(a){g.push(this.getAxisSpecification(a))},this);a={rowAxisSpecification:a&&a.length?this.getAxisSpecification(a[0]):this.getAxisSpecification([l.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]),
columnAxisSpecification:d&&d.length?this.getAxisSpecification(d[0]):this.getAxisSpecification([l.SYSTEM_AXIS_IDENTIFIER_EMPTY_1_0_IDENTIFIER]),pageAxisSpecifications:g};"undefined"!==typeof f&&(a.staticContextIdentifiers=f||[]);return a},getAxisSpecification:function(a){var d={axisDefinitionIdentifier:null,axisDefinition:null};if(a&&a.length)if(1===a.length)"string"===typeof a[0]?q.isEmptySystemAxisIdentifier(a[0])?d.axisDefinitionIdentifier=a[0]:d.axisDefinition={type:l.AXIS_DEFINITION_TYPE_FULL_DIMENSION,
dimensionIdentifier:a[0]}:d.axisDefinition=a[0];else{d.axisDefinition={type:l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT,childAxisDefinitions:[]};var b=d.axisDefinition.childAxisDefinitions;e.forEach(a,function(a){"string"===typeof a?b.push({type:l.AXIS_DEFINITION_TYPE_FULL_DIMENSION,dimensionIdentifier:a}):b.push(a)})}return d},getAxisDefinitionOfDimensionInAxisDefinition:function(a,d){if(!a||!d)return null;if(a.dimensionIdentifier==d)return a;switch(a.type){case l.AXIS_DEFINITION_TYPE_SELECTION:return this.getAxisDefinitionOfDimensionInAxisDefinition(a.baseAxis,
d);case l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT:for(var b=a.childAxisDefinitions,e=b.length,f=0;f<e;f++){var g=this.getAxisDefinitionOfDimensionInAxisDefinition(b[f],d);if(null!=g)return g}}return null},getAxisDefinitionOfDimensionInAxisSpecification:function(a,d){var b;if(!a||!a.axisDefinition&&!a.axisDefinitionIdentifier)return null;b=a.axisDefinition;b||(b=this.getAxisSpecification([a.axisDefinitionIdentifier]).axisDefinition);return this.getAxisDefinitionOfDimensionInAxisDefinition(b,d)},getAxisTypeOfDimensionInAxisDefinition:function(a,
d){var b=this.getAxisDefinitionOfDimensionInAxisDefinition(a,d);return b?b.type:null},getAxisTypeOfDimensionInAxisSpecification:function(a,d){var b=this.getAxisDefinitionOfDimensionInAxisSpecification(a,d);return b?b.type:null},getDefaultRowLabelWidth:function(a){return 1<this.getAllDimensionIdentifiersForAxisSpecification(a.rowAxisSpecification).length?l.DEFAULT_NESTED_ROW_LABEL_WIDTH:l.DEFAULT_ROW_LABEL_WIDTH},getHardCodedWidthsByLineItemPropertyMap:function(){return{}},getLabelSizes:function(a,
d){var b={defaultColumnWidth:l.DEFAULT_COLUMN_WIDTH,rowLabelWidths:[]};b[l.SYSTEM_PROPERTY_FORMULA]=400;b[l.SYSTEM_PROPERTY_APPLIES_TO]=300;b[l.SYSTEM_PROPERTY_TAGS]=300;b[l.SYSTEM_PROPERTY_REFERENCED_BY]=500;b[l.SYSTEM_PROPERTY_DASHBOARD_REFERENCED_BY_ROLES]=500;b[l.SYSTEM_PROPERTY_DASHBOARD_REFERENCED_MODULES]=500;b[l.SYSTEM_PROPERTY_LINE_ITEM_SUMMARY]=200;b[l.SYSTEM_PROPERTY_LINE_ITEM_IS_SECTION_BREAK]=90;b[l.SYSTEM_PROPERTY_LINE_ITEM_FORMULA_SCOPE]=150;b[l.SYSTEM_PROPERTY_LINE_ITEM_USE_SWITCHOVER]=
90;b[l.SYSTEM_PROPERTY_BREAKBACK]=105;b[l.SYSTEM_PROPERTY_USERS_LIST_OPTION]=105;b[l.SYSTEM_PROPERTY_MANAGED_IN]=150;b[l.SYSTEM_PROPERTY_LINE_ITEM_INCLUDE_BROUGHT_FORWARD]=100;b[l.SYSTEM_PROPERTY_CODE]=150;b[l.SYSTEM_PROPERTY_HIERARCHY_ITEM_COUNT]=l.DEFAULT_COLUMN_WIDTH;b[l.SYSTEM_PROPERTY_READ_ACCESS_DRIVER]=270;b[l.SYSTEM_PROPERTY_READ_WRITE_ACCESS_DRIVER]=270;b[l.SYSTEM_PROPERTY_USED_IN_APPLIES_TO]=500;b[l.SYSTEM_PROPERTY_USED_AS_FORMAT]=500;b[l.SYSTEM_PROPERTY_USED_IN_FORMULA]=500;b[l.SYSTEM_PROPERTY_USED_BY_PROCESSES]=
500;b[l.SYSTEM_PROPERTY_USED_BY_DASHBOARDS]=500;b[l.SYSTEM_PROPERTY_NOTES]=500;b[l.SYSTEM_PROPERTY_USER_GUID]=500;var g=a&&a.columnSizes&&a.columnSizes.rowLabelWidth?a.columnSizes.rowLabelWidth:this.getDefaultRowLabelWidth(d),k=h.getCustomRowLabelWidthsByDimensionMap(a);e.forEach(this.getAllDimensionIdentifiersForAxisSpecification(d.rowAxisSpecification),function(a){a=f.entityLongIdIdentifierToEntityLongId(a);b.rowLabelWidths.push({entityLongId:a,width:k[a]||g})});if(!a||!a.columnSizes)return b;a.columnSizes.defaultColumnWidth&&
(b.defaultColumnWidth=a.columnSizes.defaultColumnWidth);"MODEL_DEFINITION"!==a.type&&b.defaultColumnWidth!==l.DEFAULT_COLUMN_WIDTH&&(b[l.SYSTEM_PROPERTY_CODE]=b.defaultColumnWidth);var m=a.columnSizes.customWidthsByLineItem||[];e.forEach(m,function(a){var d=f.entityLongIdIdentifierToEntityLongId(a.identifier);b[d]=a.width});var n=this.getLineItemEntityLongIdForPageInfo(d);b[n]&&(b.defaultColumnWidth=m[n]);var p={};p[l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_1_ENTITY_LONG_ID]="summary1";p[l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_2_ENTITY_LONG_ID]=
"summary2";p[l.GRID_LABEL_STYLE_IDENTIFIER_SUMMARY_3_ENTITY_LONG_ID]="summary3";e.forEach(a.columnSizes.customWidthsByStyle||[],function(a){var d=f.entityLongIdIdentifierToEntityLongId(a.identifier);b[p[d]]=a.width});return b},getLineItemsNestingIndexForAxisSpecification:function(a){var d=-1;a=this.getAllDimensionIdentifiersForAxisSpecification(a);for(var b=0;b<a.length;b++){var e=a[b];if(q.isLineItemsSystemAxisIdentifier(e)||q.isLineItemSubsetSystemAxisIdentifier(e)){d=b;break}}return d},getCurrentPageEntityLongId:function(a,
d,b){return a.currentPageLabels.entityLongIds[b][d]},getCurrentPageLabel:function(a,d,b){return a.currentPageLabels.labels[b][d]},getDashboardLabel:function(a,d){var b=a.getDashboardsLabelPage(),f=e.indexOf(b.entityLongIds[0],d);return-1===f?null:b.labels[0][f]},getDashboardSpacing:function(a,d){var b=service.model.getModelProperty(l.MODEL_PROPERTY_NAMES.DASHBOARD_TOUCH_FRIENDLY_SPACING);return d&&b?{vertical:l.DASHBOARD_VERTICAL_SPACING_TOUCH,horizontal:l.DASHBOARD_HORIZONTAL_SPACING_TOUCH}:{vertical:l.DASHBOARD_VERTICAL_SPACING,
horizontal:l.DASHBOARD_HORIZONTAL_SPACING}},getFormattedByteCount:function(a){return(a=a.getModelSizeInfo())?k.formatBytes(a.memoryRequired):"-"},getFormattedCellCount:function(a){return(a=a.getModelSizeInfo())?k.formatCellCount(a.cellCount):"-"},getHasWorkflowEntityLongId:function(a){if(!a.getModelInfo())return-1;a=a.getHierarchiesInfo();return!a?-1:a.hasWorkflowEntityLongId},getHasWorkflowLabel:function(a){var d=this.getHasWorkflowEntityLongId(a);if(-1==d)return null;a=a.getHierarchiesLabelPage();
var b=e.indexOf(a.entityLongIds[0],d);return-1===b?(console.warn("getHasWorkflowLabel expected to find index of hasWorkflowEntityLongId but did not "+d),null):a.labels[0][b]},getHierarchyEntityIdForViewDefinition:function(a,d){var b=this.getHierarchyEntityLongIdForViewDefinition(a,d);return this._getEntityId(a.getHierarchiesLabelPage(),b)},getHierarchyEntityLongIdForViewDefinition:function(a,d){if(!d)return-1;for(var b=f.entityLongIdIdentifiersToEntityLongIds(d.staticContextIdentifiers),e=0;e<b.length;e++){var g=
b[e];if(f.getEntityTypeIndex(g)===l.HIERARCHY_ENTITY_TYPE_INDEX)return g}return-1},getHierarchyEntityId:function(a,d){var b=a.getHierarchiesLabelPage(),f=e.indexOf(b.entityLongIds[0],d);if(-1<f)return b.entityIds[0][f];b=a.getHierarchySubsetsLabelPage();f=e.indexOf(b.entityLongIds[0],d);if(-1<f)return b.entityIds[0][f];b=a.getLineItemSubsetsLabelPage();f=e.indexOf(b.entityLongIds[0],d);return-1<f||a.getApplicationProperty(l.FEATURE_FLAGS.TIME_RANGES)&&(b=a.getTimeRangesLabelPage(),f=e.indexOf(b.entityLongIds[0],
d),-1<f)?b.entityIds[0][f]:null},getHierarchyLabel:function(a,d){var b=a.getHierarchiesLabelPage(),f=e.indexOf(b.entityLongIds[0],d);if(-1<f)return b.labels[0][f];b=a.getHierarchySubsetsLabelPage();f=e.indexOf(b.entityLongIds[0],d);if(-1<f)return b.labels[0][f];b=a.getLineItemSubsetsLabelPage();f=e.indexOf(b.entityLongIds[0],d);return-1<f||a.getApplicationProperty(l.FEATURE_FLAGS.TIME_RANGES)&&(b=a.getTimeRangesLabelPage(),f=e.indexOf(b.entityLongIds[0],d),-1<f)?b.labels[0][f]:null},getHierarchyId:function(a,
d){var b=this._getEntityId(a.getHierarchiesLabelPage(),d);null==b&&(b=this._getEntityId(a.getHierarchySubsetsLabelPage(),d));null==b&&(b=this._getEntityId(a.getLineItemSubsetsLabelPage(),d));a.getApplicationProperty(l.FEATURE_FLAGS.TIME_RANGES)&&null==b&&(b=this._getEntityId(a.getTimeRangesLabelPage(),d));return b},getHierarchyIdFromItemsEntityTypeIndex:function(a,d){var b=a.getEntityType(d);return null!=b?this.getHierarchyId(a,b.hierarchyEntityLongId):null},getHierarchyLevels:function(a,d){var b=
[],e=a.getModelInfo(),f=this.getHierarchyMetadata(e,d);if(f)for(b.push(f);f&&-1!==f.parentId;)(f=this.getHierarchyMetadata(e,f.parentId))&&b.push(f);return b.reverse()},getIconClassForDimensionIdentifier:function(a){var d=f.entityLongIdIdentifierToEntityLongId(a);if(q.isLineItemsSystemAxisIdentifier(a))return"anaplanEditorIconLineItems";if(q.isTimeSystemAxisIdentifier(a))return"anaplanEditorIconTime";if(q.isVersionSystemAxisIdentifier(a))return"anaplanEditorIconVersions";if(d===l.BUILT_IN_HIERARCHY_USER_HIERARCHY_ENTITY_LONG_ID)return"anaplanEditorIconUser";
a=f.getEntityTypeIndex(d);return a===l.HIERARCHY_ENTITY_TYPE_INDEX?"anaplanEditorIconPageSelector":a===l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX?"anaplanEditorIconSubset":a===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX?"anaplanEditorIconLineItemSubset":null},getHierarchyParentList:function(a,d){if(!a||!d)return null;var b=f.entityLongIdIdentifierToEntityLongId(d),e=this.getHierarchyMetadata(a,b);if(!e||-1==e.parentId)return null;b=[];b.push(e);do e=this.getHierarchyMetadata(a,e.parentId),b.push(e);while(e&&-1!=
e.parentId);for(var b=b.reverse(),e={entityLongIds:[],identifiers:[],labels:[]},g=0;g<b.length;g++)e.entityLongIds.push(b[g].entityLongId),e.identifiers.push(f.entityLongIdToEntityLongIdIdentifier(b[g].entityLongId)),e.labels.push(b[g].label);return e},getHierarchyMetadata:function(a,d){for(var b=a.hierarchiesInfo,e=a.hierarchySubsetsInfo,f=a.lineItemSubsetsInfo,g=0;g<b.hierarchyInfos.length;g++){var h=b.hierarchyInfos[g];if(h.entityLongId==d)return f=b.hierarchiesLabelPage.labels[0][g],{entityLongId:d,
label:f,parentId:h.parentHierarchyEntityLongId}}for(b=0;b<e.hierarchySubsetInfos.length;b++)if(h=e.hierarchySubsetInfos[b],h.entityLongId==d)return f=e.hierarchySubsetsLabelPage.labels[0][b],{entityLongId:d,label:f,parentId:h.parentHierarchyEntityLongId};for(e=0;e<f.lineItemSubsetInfos.length;e++)if(f.lineItemSubsetInfos[e].entityLongId==d)return{entityLongId:d,label:f.lineItemSubsetsLabelPage.labels[0][e],parentId:-1};return null},getLabelForDimensionIdentifier:function(a,e){if(!e)return null;var b=
f.entityLongIdIdentifierToEntityLongId(e);return q.isLineItemsSystemAxisIdentifier(e)?d.labelLineItems:q.isTimeSystemAxisIdentifier(e)?d.labelTime:q.isVersionSystemAxisIdentifier(e)?d.labelVersions:q.isEntitySystemAxisIdentifier(e)?d.labelEntity:this.getHierarchyLabel(a,b)},getLineItemEntityLongIdForPageInfo:function(a){if(!a)return-1;if(a.pageAxisSpecifications)for(var d=a.pageAxisSpecifications,b=d.length,e,f,g,h,k=0;k<b;k++){e=d[k];e=this.getAllDimensionIdentifiersForAxisSpecification(e);f=e.length;
for(h=0;h<f;h++)if(g=e[h],q.isLineItemsSystemAxisIdentifier(g))return a.currentPageLabels.entityLongIds[0][k]}if(a.staticContext)if(a.staticContext.entityLongIds){if(a.staticContext.entityLongIds.length&&1<a.staticContext.entityLongIds[0].length)return a.staticContext.entityLongIds[0][1]}else console.warn("TODO: getLineItemEntityLongIdForPageInfo exected to find pageInfo.staticContext.entityLongIds and did not",a.staticContext);return-1},getLineItemInfoFromModuleInfo:function(a,d){if(null==a)return null;
var b=e.indexOf(a.lineItemsLabelPage.entityLongIds[0],d);return-1===b?null:a.lineItemInfos[b]},getLineItemInfo:function(a,d){var b=null;try{if(!d)return null;for(var f=a.getModuleInfos(),g=f.length,h=-1,k=0;k<g;k++)if(h=e.indexOf(f[k].lineItemsLabelPage.entityLongIds[0],d),-1!==h){b=f[k].lineItemInfos[h];break}}catch(l){throw new s.ClientException("getLineItemInfo",l);}return b},getLineItemLabelFromModuleInfo:function(a,d){if(!a)return null;var b=a.lineItemsLabelPage,f=e.indexOf(b.entityLongIds[0],
d);return-1===f?null:b.labels[0][f]},getLineItemSubsetEntityId:function(a,d){return this._getEntityId(a.getLineItemSubsetsLabelPage(),d)},getLineItemSubsetEntityIdForViewDefinitionOrReference:function(a,d){var b=this.getLineItemSubsetEntityLongIdForViewDefinitionOrReference(a,d);return-1===b?null:this.getLineItemSubsetEntityId(a,b)},getLineItemSubsetEntityLongIdForViewDefinitionOrReference:function(a,d){if(!d)return null;var b=null;if(d.entityDefaultViewEntityLongId){var e=d.entityDefaultViewEntityLongId;
f.getEntityTypeIndex(e)===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX&&(b=e)}else if(d.staticContextIdentifiers)for(var e=d.staticContextIdentifiers,g=0;null===b&&g<e.length;g++){var h=f.entityLongIdIdentifierToEntityLongId(e[g]);f.getEntityTypeIndex(h)===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX&&(b=h)}return b},getLineItemSubsetLabel:function(a,d){var b=null;try{var f=a.getLineItemSubsetsInfo().lineItemSubsetsLabelPage,g=e.indexOf(f.entityLongIds[0],d);-1!==g&&(b=f.labels[0][g])}catch(h){throw new s.ClientException("getLineItemSubsetLabel",
h);}return b},getLoggedInUserDefaultDashboard:function(a){var d=a.getUserInfo();if(d.hasOwnProperty("loggedInUserDefaultDashboard"))return d.loggedInUserDefaultDashboard;a=a.getModelInfo();if(null==a)return-1;a=a.dashboardsInfo.dashboardsLabelPage;return a.count?a.entityLongIds[0][0]:-1},getModuleEntityId:function(a,d){return this._getEntityId(a.getModulesLabelPage(),d)},getModuleEntityIdForViewDefinitionOrReference:function(a,d){var b=this.getModuleEntityLongIdForViewDefinitionOrReference(a,d);return-1==
b?null:this.getModuleEntityId(a,b)},getModuleEntityLongIdForViewDefinitionOrReference:function(a,d){if(!d)return null;var b=null;if(d.entityDefaultViewEntityLongId)var e=d.entityDefaultViewEntityLongId,b=f.getEntityTypeIndex(e)===l.MODULE_ENTITY_TYPE_INDEX?e:this.getModuleEntityLongIdForSavedView(a,e);else if(d.staticContextIdentifiers)for(var e=d.staticContextIdentifiers,g=0;null==b&&g<e.length;g++)b=f.entityLongIdIdentifierToEntityLongId(e[g]),b=f.getEntityTypeIndex(b)===l.MODULE_ENTITY_TYPE_INDEX?
b:this.getModuleEntityLongIdForSavedView(a,b);return b},getModuleEntityLongIdForSavedView:function(a,d){var b=a.getViewsLabelPage(),b=e.indexOf(b.entityLongIds[0],d);return-1===b?-1:a.getViewsInfo().moduleEntityLongIds[b]},getModuleEntityLongId:function(a,d){var b=a.getModulesLabelPage(),f=e.indexOf(b.labels[0],d);return-1===f?-1:b.entityLongIds[0][f]},getModuleEntityLongIdForLineItem:function(a,d){var b=-1;try{for(var f=a.getModulesLabelPage(),g=a.getModuleInfos(),h=g.length,k=0;k<h;k++)if(-1!==
e.indexOf(g[k].lineItemsLabelPage.entityLongIds[0],d)){b=f.entityLongIds[0][k];break}}catch(l){throw new s.ClientException("getModuleEntityLongIdForLineItem",l);}return b},getModuleLabel:function(a,d){var b=a.getModulesLabelPage(),f=e.indexOf(b.entityLongIds[0],d);return-1===f?null:-1===f?null:b.labels[0][f]},getSavedViewEntityLongIdForViewReference:function(a){if(!a)return-1;a.entityDefaultViewEntityLongId||console.warn("TODO: getSavedViewEntityLongIdFromViewReference exected to find viewReference.entityDefaultViewEntityLongId and did not",
a);a=a.entityDefaultViewEntityLongId;return f.getEntityTypeIndex(a)===l.MODULE_ENTITY_TYPE_INDEX?-1:a},getSelectedLevelsFromAxisDefinition:function(a){var d;if(!a)return null;d=a.type;return d===l.AXIS_DEFINITION_TYPE_LEVELS?a.selectedLevels:d===l.AXIS_DEFINITION_TYPE_SELECTION?this.getSelectedLevelsFromAxisDefinition(a.baseAxis):d===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?e.some(a.childAxisDefinitions,function(a){return this.getSelectedLevelsFromAxisDefinition(a)},this):null},getSelectionDefinitionSize:function(a){return!a||
!a.axisDefinition?0:this._getSelectionDefinitionSizeFromAxisDefinition(a.axisDefinition,!1)},getSingleDimensionCanMaintain:function(a,d){return!a?!0:g.isArray(a)?a[d]:a},getSingleDimensionEntityTypeIndices:function(a,d){return a&&a.length&&g.isArray(a[0])?a[d]:a},getSingleDimensionIdentifierFromAxisDefinition:function(a,d){var b=null;try{a&&(isFinite(d)&&0<=d)&&(b=this.getAllDimensionIdentifiersForAxisDefinition(a)[d]||null)}catch(e){throw new s.ClientException("getSingleDimensionIdentifierFromAxisDefinition",
e);}return b},getSingleDimensionIdentifierFromAxisSpecification:function(a,d){if(!a)return null;if(a.axisDefinitionIdentifier)return a.axisDefinitionIdentifier;if(a.axisDefinition)return this.getSingleDimensionIdentifierFromAxisDefinition(a.axisDefinition,d);if(a.identifier){var b=a.identifier;return g.isArray(b)?b[d]:b}console.warn("TODO: getSingleDimensionIdentifierFromAxisSpecification expected to find axisDefinition, axisDefinitionIdentifier or identifier and did not",a);return null},getSingleDimensionLabelFromAxisSpecification:function(a,
d,b){if(!d)return null;d=this.getSingleDimensionIdentifierFromAxisSpecification(d,b);return this.getLabelForDimensionIdentifier(a,d)},getTopLevelMainHierarchyEntityLongId:function(a,d){try{var b=f.getEntityTypeIndex(d);if(b===l.HIERARCHY_ENTITY_TYPE_INDEX)return a.getHierarchyInfo(d).topLevelMainHierarchyEntityLongId;if(b===l.HIERARCHY_SUBSET_ENTITY_TYPE_INDEX)return a.getHierarchySubsetInfo(d).topLevelMainHierarchyEntityLongId;if(b===l.LINE_ITEM_SUBSET_ENTITY_TYPE_INDEX)return a.getLineItemSubsetInfo(d).topLevelMainHierarchyEntityLongId;
if(b===l.TIME_RANGE_ENTITY_TYPE_INDEX)return l.SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID}catch(e){throw new s.ClientException("getTopLevelMainHierarchyEntityLongId",e);}return-1},getVersionLabel:function(a,d){var b=null;try{var f=a.getVersionsLabelPage(),g=e.indexOf(f.entityLongIds[0],d);-1!==g&&(b=f.labels[0][g])}catch(h){throw new s.ClientException("getVersionLabel",h);}return b},hasSelectiveAccess:function(a,d){var b=a.getHierarchiesLabelPage(),f=a.getHierarchyInfos(),g=e.indexOf(b.entityLongIds[0],
d);if(-1!==g)return f[g].hasSelectiveAccess;var g=a.getHierarchySubsetsInfo(),h=e.indexOf(g.hierarchySubsetsLabelPage.entityLongIds[0],d);return-1!==h?(b=e.indexOf(b.entityLongIds[0],g.hierarchySubsetInfos[h].topLevelMainHierarchyEntityLongId),f[b].hasSelectiveAccess):!1},getPageAxisDisplayLabel:function(a,e){return e==l.SYSTEM_AXIS_IDENTIFIER_TIME_ENTITY_LONG_ID?d.labelTime:e==l.SYSTEM_AXIS_IDENTIFIER_VERSION_ENTITY_LONG_ID?d.labelVersions:e==l.SYSTEM_AXIS_IDENTIFIER_LINE_ITEM_ENTITY_LONG_ID?d.labelLineItems:
this.getHierarchyId(a,e)},getSavedViewLabel:function(a,d){var b=a.getViewsLabelPage(),f=e.indexOf(b.entityLongIds[0],d);return b.labels[0][f]},hasActiveSelectionInPageInfo:function(a){var d=this;return a&&(a.rowAxisSpecification&&this.axisSpecificationContainsSelection(a.rowAxisSpecification)||a.columnAxisSpecification&&this.axisSpecificationContainsSelection(a.columnAxisSpecification)||a.pageAxisSpecifications&&e.some(a.pageAxisSpecifications,function(a){return d.axisSpecificationContainsSelection(a)}))?
!0:!1},isLineItemsOnColumns:function(a){a.columnAxisDefinition&&console.warn("TODO: isLineItemsOnColumns test columnAxisDefinition",a.columnAxisDefinition);return this.axisSpecificationContainsLineItems(a.columnAxisSpecification)},isLineItemsOnRows:function(a){a.rowAxisDefinition&&console.warn("TODO: isLineItemsOnColumns test rowAxisDefinition",a.rowAxisDefinition);return this.axisSpecificationContainsLineItems(a.rowAxisSpecification)},isSavedView:function(a){return!a?!1:-1!=this.getSavedViewEntityLongIdForViewReference(a)},
isSubsidiaryView:function(a){return!a?!1:a.staticContextIdentifiers&&1<a.staticContextIdentifiers.length},isWorkflowEnabled:function(a){return-1!==this.getHasWorkflowEntityLongId(a)},pageInfoContainsLevelBasedSelection:function(a){a=(a.pageAxisSpecifications||[]).concat([a.rowAxisSpecification,a.columnAxisSpecification]);return e.some(a,function(a){return this.axisSpecificationContainsLevelBasedSelection(a)},this)},removeSelectionFromAxisSpecification:function(a){var d=null;try{a&&(!a.axisDefinition||
a.axisDefinition.type!=l.AXIS_DEFINITION_TYPE_SELECTION?d=g.clone(a):(d={axisDefinitionIdentifier:null,axisDefinition:g.clone(a.axisDefinition.baseAxis)},a.axisDefinition.sortAndFilterDefinition&&(d.axisDefinition.sortAndFilterDefinition=a.axisDefinition.sortAndFilterDefinition),a.axisDefinition.sortDefinition&&(d.axisDefinition.sortDefinition=a.axisDefinition.sortDefinition)))}catch(b){throw new s.ClientException("removeSelectionFromAxisSpecification",b);}return d},setRowAxisCurrentRootItems:function(a,
d){this._setAxisCurrentRootItem(a,d,"rowAxisSpecification")},setColumnAxisCurrentRootItems:function(a,d){this._setAxisCurrentRootItem(a,d,"columnAxisSpecification")},_setAxisCurrentRootItem:function(a,d,b){if(!n.isNullOrUndefined(d)&&!n.isEmptyObject(d)&&!n.isNullOrUndefined(d[b])&&this.axisDefinitionContainsBranchSync(d[b].axisDefinition))try{var e=d[b].axisDefinition;if(e)if(e.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT){childAxisDefinitions=e.childAxisDefinitions;for(c=0;c<childAxisDefinitions.length;++c)childAxisDefinition=
childAxisDefinitions[c],childAxisDefinition.type===l.AXIS_DEFINITION_TYPE_SYNC_BRANCH&&childAxisDefinition.currentRootItemInfo&&(a[b].axisDefinition.childAxisDefinitions[c].currentRootItemIdentifier=f.entityLongIdToEntityLongIdIdentifier(childAxisDefinition.currentRootItemInfo.entityLongIds[0][0]))}else e.type===l.AXIS_DEFINITION_TYPE_SYNC_BRANCH&&e.currentRootItemInfo&&(a[b].axisDefinition.currentRootItemIdentifier=f.entityLongIdToEntityLongIdIdentifier(e.currentRootItemInfo.entityLongIds[0][0]))}catch(g){console.error("anaplan/data/ModelContentHelper _setAxisCurrentRootItem setting currentRootItemIdentifier failed silently for "+
b,g)}},removeCurrentRootItemIdentifiers:function(a){this._removeCurrentRootItemIdentifiersFromAxis(a,"rowAxisSpecification");this._removeCurrentRootItemIdentifiersFromAxis(a,"columnAxisSpecification")},_removeCurrentRootItemIdentifiersFromAxis:function(a,d){if(a&&a[d]&&a[d].axisDefinition){var b=a[d].axisDefinition;delete b.currentRootItemIdentifier;b.childAxisDefinitions&&b.childAxisDefinitions.forEach(function(a){delete a.currentRootItemIdentifier})}},splitAxisDefinition:function(a){var d;return!a?
[]:a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?(d=[],e.forEach(a.childAxisDefinitions,function(a){d=d.concat(this.splitAxisDefinition(a))},this),d):a.type===l.AXIS_DEFINITION_TYPE_SELECTION&&this._axisDefinitionContainsCrossProduct(a.baseAxis)?this.splitAxisDefinition(a.baseAxis):[a]},splitAxisSpecification:function(a){return!a?[]:!a.axisDefinition?!a.axisDefinitionIdentifier?[]:[{type:l.AXIS_DEFINITION_TYPE_FULL_DIMENSION,dimensionIdentifier:a.axisDefinitionIdentifier}]:this.splitAxisDefinition(a.axisDefinition)},
stripSortRuleInfosFromAxisSpecification:function(a){var d;try{(d=g.clone(a))&&(d.axisDefinition&&d.axisDefinition.sortDefinition)&&delete d.axisDefinition.sortDefinition.sortRuleInfos}catch(b){throw new s.ClientException("stripSortRuleInfosFromAxisSpecification",b);}return d},toggleSortAndFilterDefinitionActiveState:function(a,d){var b,e,f,h,k,l;try{if(l=g.clone(a),a&&a.axisDefinition&&a.axisDefinition.sortAndFilterDefinition)if(d){b=!0;if(l.axisDefinition.sortAndFilterDefinition.filterConditionInfos){k=
l.axisDefinition.sortAndFilterDefinition.filterConditionInfos;f=k.length;for(h=0;h<f;h++)if(e=k[h],!e.isValid){b=!1;break}}l.axisDefinition.sortAndFilterDefinition.isActive=b}else l.axisDefinition.sortAndFilterDefinition.isActive=!1}catch(m){throw new s.ClientException("toggleSortAndFilterDefinitionActiveState",m);}return l},toggleSortDefinitionActiveState:function(a,d){var b,e,f,h,k,l;try{if(l=g.clone(a),a&&a.axisDefinition&&a.axisDefinition.sortDefinition)if(d){b=!0;if(l.axisDefinition.sortDefinition.filterConditionInfos){k=
l.axisDefinition.sortDefinition.filterConditionInfos;f=k.length;for(h=0;h<f;h++)if(e=k[h],!e.isValid){b=!1;break}}l.axisDefinition.sortDefinition.isActive=b}else l.axisDefinition.sortDefinition.isActive=!1}catch(m){throw new s.ClientException("toggleSortDefinitionActiveState",m);}return l},transposeView:function(a){if(a.hasOwnProperty("rowAxisSpecification")&&a.hasOwnProperty("columnAxisSpecification")){a=g.clone(a);var d=a.rowAxisSpecification;a.rowAxisSpecification=a.columnAxisSpecification;a.columnAxisSpecification=
d;return a}return null},useAxisSpecification:function(a){return a.rows&&a.rows.length||a.columns&&a.columns.length?!1:!0},_axisDefinitionContainsCrossProduct:function(a){return!a?!1:a.type===l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT?!0:a.type===l.AXIS_DEFINITION_TYPE_SELECTION?this._axisDefinitionContainsCrossProduct(a.baseAxis):!1},_getEntityId:function(a,d){if(-1==d)return null;var b=e.indexOf(a.entityLongIds[0],d);return-1===b?null:a.entityIds[0][b]},_getNullCount:function(a){if(!a)throw new s.ClientException("_getNullCount: missing itemIdentifier");
var d=0;e.forEach(a,function(a){null===a&&d++});if(2<d)throw new s.ClientException("_getNullCount: invalid itemIdentifier");return d},_getSelectionDefinitionSizeFromAxisDefinition:function(a,d){if(!a)return 0;var b=0;switch(a.type){case l.AXIS_DEFINITION_TYPE_CROSS_PRODUCT:for(var e=a.childAxisDefinitions,f=e.length,g=0;g<f;g++)b+=this._getSelectionDefinitionSizeFromAxisDefinition(e[g],d);break;case l.AXIS_DEFINITION_TYPE_ITEM_LIST:d&&(b+=a.itemIdentifiers.length);break;case l.AXIS_DEFINITION_TYPE_SELECTION:b+=
this._getSelectionDefinitionSizeFromAxisDefinition(a.baseAxis,!1);e=a.selectionDefinition.selectionRules;f=e.length;for(g=0;g<f;g++)b+=this._getSelectionDefinitionSizeFromAxisDefinition(e[g].elementAxis,!0)}return b}};g.setObject("anaplan.data.ModelContentHelper",p);return p})},"url:anaplan/templates/SimpleCreateEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel labelCreateHierarchy" data-dojo-attach-point\x3d"labelCreateHierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"hierarchyAndHierarchySubsetsFilteringSelect" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" required\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelDashboard"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"dashboardsFilteringSelect" tabIndex\x3d"3" autocomplete\x3d"true" hasDownArrow\x3d"true" required\x3d"false" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer actionEditorContainerCheckbox"\x3e\n        \x3cinput class\x3d"layoutCheckBox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"checkBoxPromptForParent" tabindex\x3d"4"/\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelPromptForParent"\x3e\n        \x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer actionEditorContainerCheckbox"\x3e\n        \x3cinput class\x3d"layoutCheckBox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"checkBoxPromptToShowNewlyCreatedItems" tabindex\x3d"5"/\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelPromptToShowNewlyCreatedItems"\x3e\n        \x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/CmplScriptEditorTemplate.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelScript"\x3e\n        \x3c/label\x3e\n        \x3ctextarea data-dojo-type\x3d"dijit/form/SimpleTextarea" rows\x3d12 data-dojo-attach-point\x3d"cmplScript"\x3e\x3c/textarea\x3e\n        \x3cdiv class\x3d"clearFix"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"clearFix"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/Dialog2.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n        \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title" role\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n        \x3ca href\x3d"#" class\x3d"anaplanDialogHelpButton" data-dojo-attach-point\x3d"helpButton"\n               data-dojo-attach-event\x3d"ondijitclick:_onHelpButtonClick,mousedown:_onHelpButtonMouseDown"\n               style\x3d"display: none;"\x3e\x3c/a\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon qa-icon qa-icon-close"\n              data-dojo-attach-event\x3d"ondijitclick: onCancel, touchstart: onCancel" title\x3d"${buttonCancel}" role\x3d"button"\n              tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/SearchPane.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1"\x3e\n\t\x3ctable data-dojo-attach-point\x3d"searchBox" class\x3d"searchBox" cellspacing\x3d"0"\x3e\n\t\t\x3ctbody\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3ctd class\x3d"searchBoxEntryCell"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchField,focusNode"\n\t\t\t\t\t       data-dojo-attach-event\x3d"onChange: _onSearchFieldChange, onKeyPress: _onSearchPaneKeyDown"\n\t\t\t\t\t       data-dojo-type\x3d"dijit/form/TextBox"\n\t\t\t\t\t       intermediateChanges\x3d"true"\n\t\t\t\t\t       type\x3d"text"\n                           placeholder\x3d\'${labelSearchPlaceholder}\' /\x3e\n                    \x3cspan class\x3d"anaplanEditorIconSearch"\x3e\x3c/span\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"clearButtonImage" class\x3d"searchBoxClearButtonCell"\x3e\n                        \x3cdiv data-dojo-attach-event\x3d"onclick:_onClearButtonClick" class\x3d"clearButton"\x3e\x26nbsp;\x3c/div\x3e\n                    \x3c/div\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/tbody\x3e\n\t\x3c/table\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"resultsContainer" class\x3d"resultsContainer" style\x3d"display: none;"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"loading" class\x3d"loading" style\x3d"display: none;"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"results" data-dojo-attach-event\x3d"onmousemove: _onResultsMouseMove, ondijitclick: _onResultsClick" class\x3d"results" style\x3d"display: none;"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/MultiSelectTree.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"instructions" class\x3d"outerContainer instructions"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"outerContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"treeLabel" class\x3d"innerContainer treeLabelContainer"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"selectionListLabel" class\x3d"innerContainer selectionListLabelContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv style\x3d"clear: both; height: 4px;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"outerContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"treeContainer" class\x3d"innerContainer treeContainer"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loading" class\x3d"loadingMessage"\x3e\n                \x3cspan data-dojo-attach-point\x3d"loadingLabel" class\x3d"loadingMessageLabel"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"selectionListContainer" class\x3d"innerContainer selectionListContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv style\x3d"clear: both; height: 10px;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n\t\t\x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onOkButtonClick"\x3e\x3c/input\x3e\n\t\t\x3cinput data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\x3e\x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ImportDefinitionUsersMapping.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"wrapper" class\x3d"wrapper"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:anaplan/templates/HelpBox.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"helpBoxContent" data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"helpBoxContent"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:dijit/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"dijitTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"dijitTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitInline dijitArrowNode" role\x3d"presentation"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"dijitTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DataType/Text.html":'\x3cdiv\x3e\n    \x3cfieldset class\x3d"dataTypeTextTypeFieldset"\x3e\n        \x3clegend\x3e${nlsLabels.labelTextTypeLegend}\x3c/legend\x3e\n        \x3cdiv class\x3d"dataTypeField"\x3e\n            \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n                \x3cinput data-dojo-attach-point\x3d"inputTextTypeGeneral"\n                       data-dojo-type\x3d"dijit/form/RadioButton"\n                       type\x3d"radio" name\x3d"textType" id\x3d"inputTextTypeGeneral"\n                       checked\x3d"checked" data-dojo-attach-event\x3d"onChange:_onInputTextTypeClick"\x3e\x3c/input\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n                \x3clabel for\x3d"inputTextTypeGeneral"\x3e${nlsLabels.labelTextTypeGeneral}\x3c/label\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dataTypeField"\x3e\n            \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n                \x3cinput data-dojo-attach-point\x3d"inputTextTypeDrillThruUri"\n                       data-dojo-type\x3d"dijit/form/RadioButton"\n                       type\x3d"radio" name\x3d"textType" id\x3d"inputTextTypeDrillThruUri"\n                       data-dojo-attach-event\x3d"onChange:_onInputTextTypeClick"\x3e\x3c/input\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n                \x3clabel for\x3d"inputTextTypeDrillThruUri"\x3e${nlsLabels.labelTextTypeDrillThruUri}\x3c/label\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dataTypeField"\x3e\n            \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n                \x3cinput data-dojo-attach-point\x3d"inputTextTypeEmailAddress"\n                       data-dojo-type\x3d"dijit/form/RadioButton"\n                       type\x3d"radio" name\x3d"textType" id\x3d"inputTextTypeEmailAddress"\n                       data-dojo-attach-event\x3d"onChange:_onInputTextTypeClick"\x3e\x3c/input\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n                \x3clabel for\x3d"inputTextTypeEmailAddress"\x3e${nlsLabels.labelTextTypeEmailAddress}\x3c/label\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/fieldset\x3e\n\x3c/div\x3e',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ManageImportSources/ModelSource.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable border\x3d0 cellspacing\x3d10\x3e\n        \x3ctr data-dojo-attach-point\x3d"workspaceTr" style\x3d\'display:none\'\x3e\n            \x3ctd colspan\x3d"3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"workspaceDiv" class\x3d"modelSourceWorkspaceSelector"\x3e\n                    \x3clabel for\x3d"${id}_workspaceDropDown" class\x3d"label"\x3e${lblWorkspace}\x3c/label\x3e\n                    \x3cselect id\x3d"${id}_workspaceDropDown"\n                            data-dojo-type\x3d"dijit/form/FilteringSelect"\n                            data-dojo-attach-point\x3d"workspaceSelector"\n                            searchAttr\x3d"label"\n                            required\x3d"true"\n                            highlightMatch\x3d"first"\n                            data-dojo-attach-event\x3d"onChange:_onWorkspaceSelectionChange"\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"bottom" class\x3d"first"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"modelLabel" class\x3d"listLabelContainer"\x3e${lblModel}\x3c/div\x3e\n                \x3cdiv class\x3d"modelSelector"\n                     data-dojo-type\x3d"anaplan/widgets/MasterSelector"\n                     data-dojo-attach-point\x3d"modelSelector"\n                     data-dojo-attach-event\x3d"onSelectionChange:_onModelSelectionChange"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd class\x3d"listLabelContainerSeparator"\x3e\x3c/td\x3e\n            \x3ctd valign\x3d"bottom" class\x3d"last"\x3e\n                \x3cdiv\x3e\n                    \x3cinput type\x3d"radio" name\x3d"objectTypeRadioButton" value\x3d"LIST" checked\n                           id\x3d"${id}_listRadioButton"\n                           data-dojo-type\x3d"dijit/form/RadioButton"\n                           data-dojo-attach-point\x3d"listRadioButton"\n                           data-dojo-attach-event\x3d"onChange:_onListTypeRadioButtonChange"\x3e\n                    \x3clabel for\x3d"${id}_listRadioButton" class\x3d"label"\x3e${lblList}\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cinput type\x3d"radio" name\x3d"objectTypeRadioButton" value\x3d"MODULE"\n                           id\x3d"${id}_moduleRadioButton"\n                           data-dojo-type\x3d"dijit/form/RadioButton"\n                           data-dojo-attach-point\x3d"moduleRadioButton"\n                           data-dojo-attach-event\x3d"onChange:_onModuleTypeRadioButtonChange"\x3e\n                    \x3clabel for\x3d"${id}_moduleRadioButton" class\x3d"label"\x3e${lblModule}\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cinput type\x3d"radio" name\x3d"objectTypeRadioButton" value\x3d"VIEW"\n                           id\x3d"${id}_viewRadioButton"\n                           data-dojo-type\x3d"dijit/form/RadioButton"\n                           data-dojo-attach-point\x3d"viewRadioButton"\n                           data-dojo-attach-event\x3d"onChange:_onViewTypeRadioButtonChange"\x3e\n                    \x3clabel for\x3d"${id}_viewRadioButton" class\x3d"label"\x3e${lblView}\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"objectSelector"\n                     data-dojo-type\x3d"anaplan/widgets/MasterSelector"\n                     data-dojo-attach-point\x3d"objectSelector"\n                     data-dojo-attach-event\x3d"onSelectionChange:_onObjectSelectionChange"\x3e\x3c/div\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd colspan\x3d"3"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\n                id\x3d"${id}_splitCompositeDimensionsCheckbox" value\x3d"true"\n                data-dojo-attach-point\x3d"splitCompositeDimensionsCheckbox"/\x3e\n                \x3clabel for\x3d"${id}_splitCompositeDimensionsCheckbox" class\x3d"label"\x3e${lblSplitCompositeDimensions}\x3c/label\x3e\n            \x3c/td\x3e\n\t\t\x3c/tr\x3e\n    \x3c/table\x3e\n\t\x3cspan data-dojo-attach-point\x3d"busyIndicator" class\x3d"indicator busyIndicator"\x3e${lblLoading}\x3c/span\x3e\n\t\x3cspan class\x3d"buttons"\x3e\n\t\t\x3cinput type\x3d"button" disabled\n               class\x3d"primary-button"\n               label\x3d"${lblSelect}"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-point\x3d"selectButton"\n               data-dojo-attach-event\x3d"onClick:_onSelect" /\x3e\n\t\t\x3cinput type\x3d"button"\n               label\x3d"${lblClose}"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-point\x3d"closeButton"\n               data-dojo-attach-event\x3d"onClick:_onClose" /\x3e\n\t\x3c/span\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/SimpleSort.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"${tabIndex}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress"\x3e\n\n\x3c/div\x3e',"url:anaplan/templates/HistoryDialog.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"importResult" data-dojo-attach-event\x3d"onscroll:_onScroll"\x3e\n        \x3cdiv class\x3d"failureDetailsTab"\x3e\n            \x3cdiv class\x3d"importResultPreviewContainer" data-dojo-attach-point\x3d"_tableDiv"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"submit" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"buttonOk" /\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"buttonExport" data-dojo-attach-event\x3d"onClick:_onButtonExportClick" /\x3e\n        \x3c!-- \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"buttonRestore" data-dojo-attach-event\x3d"onClick:_onButtonRestoreClick" disabled\x3d"true" /\x3e --\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"buttonRestoreToSerialNumber" data-dojo-attach-event\x3d"onClick:_onButtonRestoreToSerialNumberClick" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ListFilter.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon closeIcon" data-dojo-attach-point\x3d"closeButton" data-dojo-attach-event\x3d"onclick:onClose"\x3e\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon helpIcon" data-dojo-attach-point\x3d"helpButton"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"title" data-dojo-attach-point\x3d"title"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"instructions" data-dojo-attach-point\x3d"instructions"\x3e${instructions}\x3c/div\x3e\n    \x3cdiv class\x3d"editorWrapper"\x3e\n        \x3cdiv class\x3d"editorContainer" data-dojo-attach-point\x3d"editorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"enableFilterWrapper"\x3e\n        \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"enableFilterCheckBox"\n               data-dojo-attach-event\x3d"change:_onEnableFilterChange" disabled\x3d"true"\x3e\n        \x3clabel\x3e${labelActive}\x3c/label\x3e\n        \x3cspan data-dojo-attach-point\x3d"message" class\x3d"message"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons" data-dojo-attach-point\x3d"buttonsContainer"\x3e\n        \x3cspan data-dojo-attach-point\x3d"busyIndicator" class\x3d"indicator busyIndicator"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/FloatingWindow.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1" waiRole\x3d"presentation" waiState\x3d"labelledby-${id}_title"\x3e\n    \x3cdiv class\x3d"${baseClass}Wrapper" data-dojo-attach-point\x3d"wrapper"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"${baseClass}TitleBar"\x3e\n            \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"${baseClass}Title" id\x3d"${id}_title"\x3e${!lblTitle}\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"${baseClass}CloseIcon dijitDialogCloseIcon" data-dojo-attach-event\x3d"onmousedown: _onCloseButtonMouseDown, onclick: _onCancel, touchstart: _onCancel" title\x3d"${itemClose}"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}PaneContent"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"anaplanTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"anaplanTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"titleFill" class\x3d"titleFill"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitInline dijitArrowNode" role\x3d"presentation"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"anaplanIcon"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"anaplanTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"anaplanTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"anaplanTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/Filter/Condition.html":'\x3ctr class\x3d"${baseClass}" data-dojo-attach-point\x3d"conditionDataType"\x3e\n    \x3ctd class\x3d"filterConditionContext qa-label" data-dojo-attach-point\x3d"contextCell"\x3e\x3c/td\x3e\n    \x3ctd class\x3d"filterConditionOperator qa-operator" data-dojo-attach-point\x3d"operatorCell"\x3e\n        \x3cselect class\x3d"filterConditionOperatorSelector" data-dojo-attach-point\x3d"operatorSelect" style\x3d"visibility:hidden;"\x3e\n        \x3c/select\x3e\n    \x3c/td\x3e\n    \x3ctd class\x3d"filterConditionValue qa-editor" data-dojo-attach-point\x3d"valueCell"\x3e\x3c/td\x3e\n    \x3ctd class\x3d"filterConditionAddRemoveButtons"\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"removeButton" data-dojo-attach-event\x3d"onClick:_onRemoveButtonClick" class\x3d"removeButton" showLabel\x3d"false"\x3e\x3c/input\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"addButton" data-dojo-attach-event\x3d"onClick:_onAddButtonClick" class\x3d"addButton" showLabel\x3d"false"\x3e\x3c/input\x3e\n    \x3c/td\x3e\n\x3c/tr\x3e',
"url:anaplan/templates/ImportResult.html":'\x3cdiv class\x3d"${baseClass}"\x3e\x3c/div\x3e',"url:anaplan/templates/Confirmation.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress"\x3e\n\t\x3cdiv class\x3d"confirmationContent"\x3e\n\t\t\x3cdiv class\x3d"confirmationHeading" data-dojo-attach-point\x3d"confirmationHeading"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"confirmationMessage" data-dojo-attach-point\x3d"confirmationMessage"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"confirmationDoubleCheck" data-dojo-attach-point\x3d"confirmationDoubleCheck" style\x3d"display:none;"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"confirmationDoubleCheckCheckBox" class\x3d"confirmationDoubleCheckCheckBox" data-dojo-attach-event\x3d"onChange:_onDoubleCheckCheckBoxChange" /\x3e\n\t\t\t\x3clabel class\x3d"confirmationDoubleCheckLabel" data-dojo-attach-point\x3d"confirmationDoubleCheckLabel"\x3e\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"confirmationButtons"\x3e\n\t\t\x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"yesButton" data-dojo-attach-event\x3d"onClick:_onYesButtonClick" /\x3e\n\t\t\x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"noButton" data-dojo-attach-event\x3d"onClick:_onNoButtonClick" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/InsertVersions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctextarea data-dojo-attach-point\x3d"itemNamesTextArea" data-dojo-type\x3d"dijit/form/SimpleTextarea" class\x3d"itemNamesTextArea"\x3e\x3c/textarea\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessage" class\x3d"errorMessage anaplanEditorIconInvalid" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"options top"\x3e\n        \x3cselect data-dojo-attach-point\x3d"positionSelect" data-dojo-attach-event\x3d"onchange:_onPositionSelectChange"\x3e\x3c/select\x3e\n        \x3clabel data-dojo-attach-point\x3d"relativeToItemName"\x3e\x3c/label\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"options"\x3e\n        \x3cselect id\x3d"${id}_accessLevelSelect" data-dojo-attach-point\x3d"accessLevelSelect"\x3e\x3c/select\x3e\n    \t\x3clabel for\x3d"${id}_accessLevelSelect" data-dojo-attach-point\x3d"labelAccessLevelSelect"\x3e${lblAccessLevel}\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"busyIndicator" class\x3d"busyIndicator" style\x3d"visibility: hidden;"\x3e\x3c/div\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"okButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onOkButtonClick"\n               type\x3d"button"/\x3e\n        \x3cinput data-dojo-attach-point\x3d"cancelButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n               type\x3d"button"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/MasterSelector.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"${tabIndex}" data-dojo-attach-point\x3d"focusNode" data-dojo-attach-event\x3d"keydown:_onKeyDown,keypress:_onKeyPress"\x3e\n    \x3cdiv class\x3d"${baseClass}Header" data-dojo-attach-point\x3d"_header"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"list" data-dojo-attach-point\x3d"_selectorNode"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/Toolbar" data-dojo-attach-point\x3d"_toolbar"\x3e\n        \x3cdiv data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"_addItemButton" data-dojo-attach-event\x3d"onClick:_onAddItemClick" iconClass\x3d"addIcon" showLabel\x3d"false" tabIndex\x3d"2"\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"_removeItemButton" data-dojo-attach-event\x3d"onClick:_onRemoveItemClick" iconClass\x3d"removeIcon" showLabel\x3d"false" tabIndex\x3d"3"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ArrowlessMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n    \x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n        \x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n    \x3c/td\x3e\n    \x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n        role\x3d"presentation"\x3e\x3c/td\x3e\n    \x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" colspan\x3d"2" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:anaplan/templates/NewDashboard.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"-1"\x3e\n    \x3ctable class\x3d"dialogFormTable"\x3e\n        \x3ctbody\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel class\x3d"dashboardNameLabel" data-dojo-attach-point\x3d"dashboardNameLabel"\x3e\x3c/label\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput type\x3d"text" class\x3d"dashboardNameTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"dashboardNameTextBox" required\x3d"true" /\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel class\x3d"functionalAreaLabel" data-dojo-attach-point\x3d"functionalAreaLabel"\x3e\x3c/label\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"functionalAreaSelect" autocomplete\x3d"true" hasDownArrow\x3d"true" searchAttr\x3d"label" required\x3d"false" /\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:_onSaveButtonClicked" data-dojo-type\x3d"anaplan/widgets/Button" disabled\x3d"true" /\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:_onCancelButtonClicked" data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:anaplan/templates/actions/CopyToNumberedList/_PasteCodesTopPanel.html":'\x3cdiv class\x3d"${baseClass}" data-element-id\x3d"pasteCodesTopPanel"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessageContainer" class\x3d"${baseClass}Errors"\n         data-element-id\x3d"errorMessage"\x3e\x3c/div\x3e\n    \x3clabel data-dojo-attach-point\x3d"pasteCodesLabel" data-element-id\x3d"pasteCodesLabel"\x3e\x3c/label\x3e\n\x3c/div\x3e',
"url:anaplan/templates/_SynchronisedPagingInfo.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"${baseClass}-normal-row synchronisedPagingSpanList" data-dojo-attach-point\x3d"spanList"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"synchronisedPagingTitleInitial" data-dojo-attach-point\x3d"spanInitialPageTitle"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}-normal-row spanInitialPage" data-dojo-attach-point\x3d"spanInitialPage"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"${baseClass}-checkboxes"\x3e\n        \x3cdiv class\x3d"${baseClass}-checkbox"\x3e\n            \x3cinput id\x3d"${id}-show-label" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"inputShowLabel"\x3e\n            \x3clabel for\x3d"${id}-show-label" data-dojo-attach-point\x3d"labelShowLabel"\x3e\x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"${baseClass}-checkbox"\x3e\n            \x3cinput id\x3d"${id}-show-page-selector" data-dojo-type\x3d"dijit/form/CheckBox"\n                   data-dojo-attach-point\x3d"inputShowPageSelector"\x3e\n            \x3clabel for\x3d"${id}-show-page-selector" data-dojo-attach-point\x3d"labelShowPageSelector"\x3e\x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"${baseClass}-checkbox"\x3e\n            \x3cinput id\x3d"${id}-synchronised-paging" data-dojo-type\x3d"dijit/form/CheckBox"\n                   data-dojo-attach-point\x3d"inputSynchronisedPaging"\x3e\n            \x3clabel for\x3d"${id}-synchronised-paging" data-dojo-attach-point\x3d"labelSynchronisedPaging"\x3e\x3c/label\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/TimeDimensionImportOptions.html":'\x3cdiv class\x3d"${baseClass} wrapper"\x3e\n\x3ctable border\x3d0\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd width\x3d"55%"\x3e\n\t\t\t\x3cdiv class\x3d"timeDimensionsImportOptionsCol"\x3e\n\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"howToMapLabel"\x3e\n            \x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3ctable border\x3d"0"\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" name\x3d"mappingTypeRadioButton"\n\t\t\t\t\t\t\t\t   value\x3d"DATES" data-dojo-attach-point\x3d"datesRadioButton" disabled /\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"datesLabel"\x3e\x3c/span\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd data-dojo-attach-point\x3d"datesDescriptionLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" name\x3d"mappingTypeRadioButton"\n\t\t\t\t\t\t\t\t   value\x3d"PERIODS" data-dojo-attach-point\x3d"periodsRadioButton" disabled /\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"periodsLabel"\x3e\x3c/span\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd data-dojo-attach-point\x3d"periodsDescriptionLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" name\x3d"mappingTypeRadioButton"\n\t\t\t\t\t\t\t\t   value\x3d"PERIODS_IN_YEAR" data-dojo-attach-point\x3d"periodsInYearRadioButton"\n\t\t\t\t\t\t\t\t   disabled /\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"periodsInYearLabel"\x3e\x3c/span\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd data-dojo-attach-point\x3d"periodsInYearDescriptionLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" type\x3d"radio" name\x3d"mappingTypeRadioButton"\n\t\t\t\t\t\t\t\t   value\x3d"NAMES" data-dojo-attach-point\x3d"matchNamesRadioButton" disabled /\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"matchNamesLabel"\x3e\x3c/span\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd data-dojo-attach-point\x3d"matchNamesDescriptionLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\t\x3ctable border\x3d"0"\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"patternsWithSeparatorsLabel"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"patternSeparatorCell"\x3e\n\t\t\t\t\t\t\t\x3cselect\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"patternWithSeparatorSelect" multiple\x3d"true"\n\t\t\t\t\t\t\t\t\tdisabled style\x3d"width: 160px"\x3e\n\t\t\t\t\t\t\t\x3c/select\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription" valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionSLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionYLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionQLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionMLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionDLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionWLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"fixedPositionPatternsLabel"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\x3cselect\n\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"fixedPositionPatternSelect" multiple\x3d"true"\n\t\t\t\t\t\t\t\tdisabled style\x3d"width: 160px"\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription" valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fixedPositionDescriptionLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"customPatternLabel"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\x3cinput style\x3d"width: 156px" data-dojo-attach-point\x3d"customPatternInput" disabled /\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription"\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"customPatternDescriptionLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"missingFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"malformedFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"invalidFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\x3cdiv class\x3d"timeDimensionsImportOptionsCol"\x3e\n\t\t\t\t\x3cdiv class\x3d"mappingSection"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mappingOptions"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"targetAreaLabel"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3cul\x3e\n\t\t\t\t\t\t\t\x3cdiv\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"matchedItemsRadioButton"\n\t\t\t\t\t\t\t\t\t\tname\x3d"mappedDimensionImportOptions" type\x3d"radio"\n\t\t\t\t\t\t\t\t\t\tvalue\x3d"MATCHED_ITEMS" /\x3e \x3clabel\n\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"matchedItemsRadioButtonLabel"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c!-- data-dojo-attach-event\x3d"onclick:_onRadioButtonChange,onkeydown:_onRadioButtonChange" --\x3e\n\t\t\t\t\t\t\t\x3cdiv\x3e\x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"allItemsRadioButton"\n\t\t\t\t\t\t\t\t\t\tname\x3d"mappedDimensionImportOptions" type\x3d"radio" value\x3d"ALL_ITEMS" /\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allItemsRadioButtonLabel"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/ul\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"form-group-heading"\x3e\n\t\t\t\t\t\x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"optionsLabel"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3ctable class\x3d"dateOptions"\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"yearTypeLabel"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cselect data-dojo-attach-point\x3d"yearTypeSelect" disabled\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"monthTypeLabel"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cselect data-dojo-attach-point\x3d"monthTypeSelect" disabled\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"languageLabel"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cselect data-dojo-attach-point\x3d"languageSelect" disabled\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"specificYearLabel"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cselect data-dojo-attach-point\x3d"specificYearSelect" disabled\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/TaskProgressMonitor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" data-dojo-attach-point\x3d"progressBar"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:anaplan/templates/Import.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"-1"\x3e\n    \x3cform data-dojo-attach-point\x3d"formImport" id\x3d"formImport" action\x3d"servlet" method\x3d"post" enctype\x3d"multipart/form-data"\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputSessionId" type\x3d"hidden" id\x3d"inputSessionId" name\x3d"sessionId" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputTxId" type\x3d"hidden" id\x3d"inputTxId" name\x3d"txid" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputWorkspaceId" type\x3d"hidden" id\x3d"inputWorkspaceId" name\x3d"workspaceId" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputModelId" type\x3d"hidden" id\x3d"inputModelId" name\x3d"modelId" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputModelName" type\x3d"hidden" id\x3d"inputModelName" name\x3d"modelName" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputImportType" type\x3d"hidden" id\x3d"inputImportType" name\x3d"importType" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputEntityId" type\x3d"hidden" id\x3d"inputEntityId" name\x3d"entityId" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputImportEntityLongId" type\x3d"hidden" id\x3d"inputImportEntityLongId" name\x3d"importEntityLongId" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputUploadedFileGuid" type\x3d"hidden" id\x3d"inputUploadedFileGuid" name\x3d"uploadedFileGuid" /\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputImportDefinitionJson" type\x3d"hidden" id\x3d"inputImportDefinitionJson" name\x3d"importDefinitionJson" /\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"divEntity"\x3e\n\t        \x3cspan data-dojo-attach-point\x3d"textEntityIdLabel"\x3e\x3c/span\x3e\n\t        \x3cspan data-dojo-attach-point\x3d"textEntityId"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n    \x3c/form\x3e\x3cdiv data-dojo-attach-point\x3d"divButtons" class\x3d"buttons" id\x3d"divButtons"\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"buttonImport" data-dojo-attach-event\x3d"onClick:_onImport" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" /\x3e\n     \x3cinput data-dojo-attach-point\x3d"buttonCancel" data-dojo-attach-event\x3d"onClick:_onCancel" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" /\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"divProgress" style\x3d"display: none;"\x3e\n        \x3cspan data-dojo-attach-point\x3d"textCurrentStep"\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" data-dojo-attach-point\x3d"progressBar" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/SimpleSelector.html":"\x3cdiv class\x3d\"${baseClass}\" \x3e\n    \x3cselect tabindex\x3d\"${tabindex}\"\n            multiple\n            data-dojo-attach-point\x3d'focusNode,containerNode'\n            data-dojo-attach-event\x3d'change:_onChange,keydown:_onKeydown,click:_onClick'\x3e\n    \x3c/select\x3e\n\x3c/div\x3e","url:anaplan/templates/MenuToolbarOptions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"table"\x3e\n        \x3cdiv class\x3d"thead"\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trSelectItems" data-dojo-attach-event\x3d"ondijitclick:_toggleCheckboxes"\x3e\n                \x3cdiv class\x3d"th"\x3e\x3cinput id\x3d"${id}-menuItemCbSelectItems" data-dojo-attach-point\x3d"menuItemCbSelectItems" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"th"\x3e\x3clabel data-dojo-attach-point\x3d"trSelectItemsText" for\x3d"${id}-menuItemCbSelectItems"\x3eSelect/unselect all items.\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"tbody" data-dojo-attach-point\x3d"containerNode"\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trPivot"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbPivot" data-dojo-attach-point\x3d"menuItemCbPivot" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelPivot" for\x3d"${id}-menuItemCbPivot"\x3eView/Pivot\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trInsert"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbInsert" data-dojo-attach-point\x3d"menuItemCbInsert" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelInsert" for\x3d"${id}-menuItemCbInsert"\x3eEdit/Insert\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trDelete"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbDelete" data-dojo-attach-point\x3d"menuItemCbDelete" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelDelete" for\x3d"${id}-menuItemCbDelete"\x3eEdit/Delete\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trMove"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbMove" data-dojo-attach-point\x3d"menuItemCbMove" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelMove" for\x3d"${id}-menuItemCbMove"\x3eEdit/Move\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trCopyAcross"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbCopyAcross" data-dojo-attach-point\x3d"menuItemCbCopyAcross" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelCopyAcross" for\x3d"${id}-menuItemCbCopyAcross"\x3eEdit/CopyAcross\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trCopyDown"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbCopyDown" data-dojo-attach-point\x3d"menuItemCbCopyDown" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelCopyDown" for\x3d"${id}-menuItemCbCopyDown"\x3eEdit/CopyDown\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trColumnSettings"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbColumnSettings" data-dojo-attach-point\x3d"menuItemCbColumnSettings" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelColumnSettings" for\x3d"${id}-menuItemCbColumnSettings"\x3eFormat/ColumnSettings\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trConditionalFormatting"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbConditionalFormatting" data-dojo-attach-point\x3d"menuItemCbConditionalFormatting" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelConditionalFormatting" for\x3d"${id}-menuItemCbConditionalFormatting"\x3eFormat/ConditionalFormatting\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trGridStyle"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbGridStyle" data-dojo-attach-point\x3d"menuItemCbGridStyle" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelGridStyle" for\x3d"${id}-menuItemCbGridStyle"\x3eFormat/GridStyles\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trImport"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbImport" data-dojo-attach-point\x3d"menuItemCbImport" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelImport" for\x3d"${id}-menuItemCbImport"\x3eData/Import\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trExport"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbExport" data-dojo-attach-point\x3d"menuItemCbExport" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelExport" for\x3d"${id}-menuItemCbExport"\x3eData/Export\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trFilter"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbFilter" data-dojo-attach-point\x3d"menuItemCbFilter" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelFilter" for\x3d"${id}-menuItemCbFilter"\x3eData/Filter\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trSort"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbSort" data-dojo-attach-point\x3d"menuItemCbSort" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelSort" for\x3d"${id}-menuItemCbSort"\x3eData/Sort\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trHistory"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbHistory" data-dojo-attach-point\x3d"menuItemCbHistory" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelHistory" for\x3d"${id}-menuItemCbHistory"\x3eData/History\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"tr" data-dojo-attach-point\x3d"trGotoModule"\x3e\n                \x3cdiv class\x3d"td"\x3e\x3cinput id\x3d"${id}-menuItemCbGotoModule" data-dojo-attach-point\x3d"menuItemCbGotoModule" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"td"\x3e\x3clabel data-dojo-attach-point\x3d"labelGotoModule" for\x3d"${id}-menuItemCbGotoModule"\x3eGotoModule\x3c/label\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/actions/CopyToNumberedList/_ButtonPanel.html":'\x3cdiv class\x3d"${baseClass} buttons" data-element-id\x3d"buttonPanel"\x3e\n    \x3cinput data-dojo-attach-point\x3d"pasteCodesButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onPasteCodes"\n           data-element-id\x3d"pasteCodesButton"\n           class\x3d"pasteCodesButton"\n           type\x3d"button"\x3e\n\n    \x3cinput class\x3d"primary-button"\n           data-dojo-attach-point\x3d"okButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onOk"\n           data-element-id\x3d"okButton"\n           type\x3d"button"\x3e\n    \x3cinput data-dojo-attach-point\x3d"cancelButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onCancel"\n           data-element-id\x3d"cancelButton"\n           type\x3d"button"\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/MailToEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable\x3e\n        \x3ctbody\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3clabel data-dojo-attach-point\x3d"emailTextBoxLabel"\x3e\x3c/label\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox"\n                       data-dojo-attach-point\x3d"emailTextBox"\n                       data-dojo-attach-event\x3d"onKeyDown: _onEmailTextBoxKeyDown, onChange: _onEmailTextBoxChange"\n                       data-dojo-props\x3d"intermediateChanges: true"/\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3clabel data-dojo-attach-point\x3d"labelTextBoxLabel"\x3e\x3c/label\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox"\n                       data-dojo-attach-point\x3d"labelTextBox"\n                       data-dojo-attach-event\x3d"onKeyDown: _onLabelTextBoxKeyDown, onChange: _onLabelTextBoxChange"\n                       data-dojo-props\x3d"intermediateChanges: true"/\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ImportDefinitionHierarchyMapping.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable border\x3d0 width\x3d"100%"\x3e\n        \x3ctr\x3e\n            \x3cth data-dojo-attach-point\x3d"mappings" class\x3d"mappings wrapper"\x3e\x3c/th\x3e\n            \x3cth data-dojo-attach-point\x3d"hierarchyOptions" class\x3d"hierarchyOptions wrapper"\x3e\n                \x3cspan class\x3d"form-group-heading"\x3e\n                    \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"keySelectionLabel"\x3e\x3c/span\x3e\n                    \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n                \x3c/span\x3e\n                \x3cul class\x3d"radiobutton-list"\x3e\n                    \x3cli data-dojo-attach-point\x3d"nameOrCodeOption"\x3e\n                        \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"nameOrCodeRadioButton" data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange" value\x3d"NAMEORCODE"\x3e\n                        \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"nameOrCodeLabel"\x3e\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput type\x3d"radio"\n                               data-dojo-type\x3d"dijit/form/RadioButton"\n                               data-dojo-attach-point\x3d"nameOnlyRadioButton"\n                               data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                               value\x3d"NAMEONLY"\x3e\n                        \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"nameOnlyLabel"\x3e\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput type\x3d"radio"\n                               data-dojo-type\x3d"dijit/form/RadioButton"\n                               data-dojo-attach-point\x3d"codeOnlyRadioButton"\n                               data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                               value\x3d"CODEONLY"\x3e\n                        \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"codeOnlyLabel"\x3e\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput type\x3d"radio"\n                               data-dojo-type\x3d"dijit/form/RadioButton"\n                               data-dojo-attach-point\x3d"propertyComboRadioButton"\n                               data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                               value\x3d"PROPERTYCOMBO"\x3e\n                        \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"propertyComboLabel"\x3e\x3c/label\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n                \x3cdiv class\x3d"keyPropertySelectorWrapper" data-dojo-attach-point\x3d"keyPropertySelectorWrapper"\x3e\n                        \x3cp data-dojo-attach-point\x3d"keyPropertySelectorInstructions"\x3e\x3c/p\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"keyPropertySelector"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"extendedControlsWrapper"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"allowNameManglingOption"\x3e\n                        \x3cspan class\x3d"form-group-heading"\x3e\n                            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"enforceUniqueNamingLabel"\x3e\x3c/span\x3e\n                            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n                        \x3c/span\x3e\n                        \x3cdiv\x3e\n                            \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox"\n                                   data-dojo-attach-point\x3d"allowNameManglingCheckbox"\n                                   data-dojo-attach-event\x3d"onChange:_onCheckboxChange,onKeyDown:_onCheckboxChange"\x3e\n                            \x3clabel class\x3d"checkboxLabel" data-dojo-attach-point\x3d"allowNameManglingLabel"\x3e\x3c/label\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"sourceDuplicateTreatmentOptions"\x3e\n                        \x3cspan class\x3d"form-group-heading"\x3e\n                            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"sourceDuplicateTreatmentLabel"\x3e\x3c/span\x3e\n                            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n                        \x3c/span\x3e\n                        \x3cul class\x3d"radiobutton-list"\x3e\n                            \x3cli\x3e\x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\n                                       data-dojo-attach-point\x3d"rejectSourceDuplicatesRadioButton"\n                                       data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\x3e\n                                \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"rejectSourceDuplicatesLabel"\x3e\x3c/label\x3e\x3c/li\x3e\n                            \x3cli\x3e\x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\n                                       data-dojo-attach-point\x3d"useFirstSourceDuplicatesRadioButton"\n                                       data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\x3e\n                                \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"useFirstSourceDuplicatesLabel"\x3e\x3c/label\x3e\x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"targetDuplicateTreatmentOptions"\x3e\n                        \x3cspan class\x3d"form-group-heading"\x3e\n                            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"targetDuplicateTreatmentLabel"\x3e\x3c/span\x3e\n                            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n                        \x3c/span\x3e\n                        \x3cul class\x3d"radiobutton-list"\x3e\n                            \x3cli\x3e\x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\n                                       data-dojo-attach-point\x3d"rejectImportWithTargetDuplicatesRadioButton"\n                                       data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\x3e\n                                \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"rejectImportWithTargetDuplicatesLabel"\x3e\x3c/label\x3e\n                            \x3c/li\x3e\n                            \x3cli\x3e\n                                \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton"\n                                       data-dojo-attach-point\x3d"rejectOnlyTargetDuplicatesRadioButton"\n                                       data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\x3e\n                                \x3clabel class\x3d"radioLabel" data-dojo-attach-point\x3d"rejectOnlyTargetDuplicatesLabel"\x3e\x3c/label\x3e\n                            \x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/th\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ToolbarOptions.html":'\x3cdiv class\x3d\'${baseClass}\'\x3e\n    \x3cinput id\x3d"${id}-showToolbar" data-dojo-attach-point\x3d"cbShowToolbar" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\x3clabel for\x3d"${id}-showToolbar"\x3e${labelShowToolbar}\x3c/label\x3e\n\x3c/div\x3e',"url:anaplan/templates/FunnelChartOptions.html":'\x3cdiv class\x3d"layoutOptions chartOptionsTab"\x3e\n    \x3cform class\x3d"${baseClass}"\x3e\n\n        \x3cdiv class\x3d"form-group-heading"\x3e\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingFunnelAxes"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"formRow"\x3e\n            \x3cinput class\x3d"lineItemCheckBox" data-dojo-attach-point\x3d"funnelAxisCheckbox" data-dojo-type\x3d"dijit/form/CheckBox"\n                   data-dojo-attach-event\x3d"onChange:_onChangeHandler" tabIndex\x3d"2" /\x3e\n            \x3clabel class\x3d"legendCheckboxLabel" data-dojo-attach-point\x3d"labelFunnelAxisOption"\x3e\x3c/label\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"form-group-heading"\x3e\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelLabeling"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"formRow"\x3e\n            \x3clabel class\x3d"lineItemLabel" data-dojo-attach-point\x3d"labelBarValue"\x3e \x3c/label\x3e\n            \x3cinput\n                    autocomplete\x3d"true"\n                    class\x3d"lineItemDropDown"\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\n                    data-dojo-attach-point\x3d"barLabel"\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\n                    hasDownArrow\x3d"true"\n                    required\x3d"false" /\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"tooltip formRow"\x3e\n            \x3clabel class\x3d"lineItemLabel" data-dojo-attach-point\x3d"labelTooltip"\x3e \x3c/label\x3e\n            \x3cdiv data-dojo-attach-point\x3d"tooltipDomNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/form\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ClipboardHelp.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv\x3e${nls.intro}\x3c/div\x3e\n    \x3cp\x3e\n        \x3ctable\x3e\n            \x3ctr class\x3d"keyboard-shortcut"\x3e\n                \x3ctd class\x3d"description"\x3e${nls.labelCopy}\x3c/td\x3e\n                \x3ctd data-dojo-attach-point\x3d"copyShortcut"\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"keyboard-shortcut"\x3e\n                \x3ctd class\x3d"description"\x3e${nls.labelPaste}\x3c/td\x3e\n                \x3ctd data-dojo-attach-point\x3d"pasteShortcut"\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n    \x3c/p\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/RunExistingImport/FailedView.html":"\x3cdiv class\x3d'${baseClass}' data-dojo-attach-event\x3d'onkeydown:_onKeyDown'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'failureMessage' style\x3d'margin-bottom: 20px; width: 300px;'\x3e\x3c/div\x3e\n    \x3cdiv style\x3d'text-align: center;'\x3e\n        \x3cinput type\x3d'button' data-dojo-type\x3d'anaplan/widgets/Button' dojoAttachPoint\x3d'okButton' dojoAttachEvent\x3d'onClick:_onConfirm'/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e","url:anaplan/templates/TimelineChartOptions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n    \x3cform class\x3d"${baseClass}"\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelYTitle"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel" data-dojo-attach-point\x3d"labelYAxisTitle"\x3e\x3c/label\x3e\r\n            \x3cinput class\x3d"lineItemDropDown"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeHandler, onKeyDown: _onColumnRangeOptionKeyDown"\r\n                   data-dojo-attach-point\x3d"axisTitle"\r\n                   data-dojo-type\x3d"dijit/form/TextBox"\r\n                   maxLength\x3d"60"\r\n                   required\x3d"false"\r\n                   type\x3d"text" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelGridLines"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelGridLinesTimescale"\x3e\r\n            \x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler, onKeyDown: _onColumnRangeOptionKeyDown"\r\n                    data-dojo-attach-point\x3d"gridLines"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                    hasDownArrow\x3d"true"\r\n                    required\x3d"false" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelDates"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"startPoint formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel" data-dojo-attach-point\x3d"labelAxisStart"\x3e\x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler, onKeyDown: _onColumnRangeOptionKeyDown"\r\n                    data-dojo-attach-point\x3d"axisStart"\r\n                    data-dojo-type\x3d"dijit/form/DateTextBox"\r\n                    hasDownArrow\x3d"true"\r\n                    required\x3d"false" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"endPoint formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel" data-dojo-attach-point\x3d"labelAxisEnd"\x3e\x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-point\x3d"axisEnd"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler, onKeyDown: _onColumnRangeOptionKeyDown"\r\n                    data-dojo-type\x3d"dijit/form/DateTextBox"\r\n                    hasDownArrow\x3d"true"\r\n                    required\x3d"false" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelSourceData"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"startPoint formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelStartPoint"\x3e \x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                    data-dojo-attach-point\x3d"startPoint"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                    hasDownArrow\x3d"true"\r\n                    query\x3d"{dataType:\'DATE\'}"\r\n                    required\x3d"true" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"endPoint formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelEndPoint"\x3e \x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    hasDownArrow\x3d"true"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                    data-dojo-attach-point\x3d"endPoint"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                    query\x3d"{dataType:\'DATE\'}"\r\n                    required\x3d"true" /\x3e\r\n        \x3c/div\x3e\r\n        \x3cbr class\x3d"chartOptionsBreak"/\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelLabeling"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"bar formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelBarLabel"\x3e\r\n            \x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                    data-dojo-attach-point\x3d"barLabel"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                    hasDownArrow\x3d"true"\r\n                    required\x3d"false" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"colour formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelGroupBy"\x3e\r\n            \x3c/label\x3e\r\n            \x3cinput\r\n                    autocomplete\x3d"true"\r\n                    class\x3d"lineItemDropDown"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                    data-dojo-attach-point\x3d"groupBy"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                    hasDownArrow\x3d"true"\r\n                    required\x3d"false" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"tooltip formRow"\x3e\r\n            \x3clabel class\x3d"lineItemLabel"\r\n                   data-dojo-attach-point\x3d"labelTooltip"\x3e\r\n            \x3c/label\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"tooltipDomNode"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cbr class\x3d"chartOptionsLargeBreak anaplanStyleClear" /\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label"\r\n                  data-dojo-attach-point\x3d"labelSlider"\x3e\r\n            \x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"bar"\x3e\r\n            \x3cinput class\x3d"lineItemRadioButton"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                   data-dojo-attach-point\x3d"yAxisRadioButtonVariableWidth"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\r\n                   name\x3d"axisWidth"\r\n                   id\x3d"variable"\r\n                   value\x3d"variable"\r\n                    /\x3e\r\n\r\n            \x3clabel for\x3d"variable" class\x3d"legendRadioButtonLabel" data-dojo-attach-point\x3d"labelVariableWidthRadio"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"bar"\x3e\r\n            \x3cinput class\x3d"lineItemRadioButton"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                   data-dojo-attach-point\x3d"yAxisRadioButtonFixedWidth"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\r\n                   name\x3d"axisWidth"\r\n                   id\x3d"fixed"\r\n                   value\x3d"fixed"\r\n                    /\x3e\r\n\r\n            \x3clabel for\x3d"fixed" class\x3d"legendRadioButtonLabel" dojoAttachPoint\x3d"labelFixedWidthRadio"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n\r\n        \x3cdiv class\x3d"horizontalSlider"\x3e\r\n            \x3cinput\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                    data-dojo-attach-point\x3d"horizontalSlider"\r\n                    data-dojo-type\x3d"dijit/form/HorizontalSlider"\r\n                    data-dojo-props\x3d"\r\n                        minimum: 50,\r\n                        maximum: 630,\r\n                        value: 80,\r\n                        discreteValues: 59,\r\n                        intermediateChanges: true"\r\n                    id\x3d"horizontalSlider"\r\n                    type\x3d"range" /\x3e\r\n        \x3c/div\x3e\r\n\r\n    \x3c/form\x3e\r\n\x3c/div\x3e',
"url:anaplan/templates/DataType/TimeEntity.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"form-group-heading"\x3e\n        \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelTimeEntity"\x3e${nlsLabels.labelTimeEntity}\x3c/span\x3e\n        \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"selectTimescale"\x3e\x3c/div\x3e\n\n\x3c/div\x3e',"url:anaplan/templates/PleaseWait.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"message" data-dojo-attach-point\x3d"message"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressBar" data-dojo-type\x3d"dijit/ProgressBar" indeterminate\x3d"true" style\x3d"width: 300px;"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DataType/FilteredList.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"datatypes-list"\x3e\n\n    \x3cdiv class\x3d"dataTypeField"\x3e\n        \x3clabel class\x3d"column"\x3e${nlsLabels.labelHierarchy}\x3c/label\x3e\n\n        \x3cdiv name\x3d"selectHierarchy"\n             data-dojo-type\x3d"anaplan/widgets/FilteringSelect"\n             data-dojo-attach-point\x3d"selectHierarchy"\n             data-dojo-props\x3d"searchAttr:\'label\'"\n             class\x3d"column"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"picklistFilterOptions" class\x3d"dataTypeField wideCells"\x3e\n        \x3clabel class\x3d"column"\x3e${nlsLabels.labelPicklistFilter}\x3c/label\x3e\n\n        \x3cdiv class\x3d"spacedColumn"\x3e\n            \x3cinput\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-attach-point\x3d"inputFilterSelectiveAccess"\n                    type\x3d"checkbox" id\x3d"${id}_inputFilterSelectiveAccess"\n                    /\x3e\n            \x3clabel class\x3d"regularweight" for\x3d"${id}_inputFilterSelectiveAccess"\x3e${nlsLabels.labelSelectiveAccessFilter}\x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"spacedColumn"\x3e\n            \x3cinput\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-attach-point\x3d"inputFilterDependent"\n                    type\x3d"checkbox" id\x3d"${id}_inputFilterDependent"\n                    /\x3e\n            \x3clabel class\x3d"regularweight" for\x3d"${id}_inputFilterDependent"\x3e${nlsLabels.labelDependent}\x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"spacedColumn"\x3e\n            \x3cinput\n                data-dojo-type\x3d"dijit/form/CheckBox"\n                data-dojo-attach-point\x3d"inputShowAll"\n                type\x3d"checkbox" id\x3d"${id}_inputShowAll"\n            /\x3e\n            \x3clabel class\x3d"regularweight" for\x3d"${id}_inputShowAll"\x3e${nlsLabels.labelAllowAccessToUnfilteredItems}\x3c/label\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"picklistFilter" class\x3d"filtered"\x3e\n\n        \x3cdiv class\x3d"divider"\x3e\x3c/div\x3e\n\n        \x3cul class\x3d"relativeContainer rowList"\x3e\n\n            \x3cli\x3e\n                \x3clabel data-dojo-attach-point\x3d"lblFilter" class\x3d"column"\x3e${nlsLabels.labelFilterDriver}\x3c/label\x3e\n            \x3c/li\x3e\n            \x3cli\x3e\n                \x3cdiv name\x3d"selectDriver"\n                     data-dojo-type\x3d"anaplan/widgets/Select"\n                     data-dojo-attach-point\x3d"selectDriver"\n                     data-dojo-props\x3d"searchAttr:\'label\'"\n                     class\x3d"column"\x3e\n                \x3c/div\x3e\n            \x3c/li\x3e\n            \x3cli\x3e\n                \x3cspan class\x3d"dijitIcon questionmarkicon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n            \x3c/li\x3e\n\n\n        \x3c/ul\x3e\n\n        \x3cdiv class\x3d"propertiesPanel"\x3e\n            \x3cspan\x3e${nlsLabels.labelFilterPropertiesHeader}\x3c/span\x3e\n\n            \x3cul class\x3d"rowList dataTypeProperties"\x3e\n\n                \x3cli class\x3d"sidecolumn"\x3e\n\n                    \x3cdiv class\x3d"column"\n                         data-dojo-type\x3d"anaplan/widgets/FilteringSelect"\n                         data-dojo-attach-point\x3d"selectKeyProperty"\n                         data-dojo-props\x3d"searchAttr:\'label\'"\x3e\x3c/div\x3e\n\n                    \x3ch4 class\x3d"subheading"\x3e${nlsLabels.labelPairListExample}\x3c/h4\x3e\n\n                \x3c/li\x3e\n\n                \x3cli class\x3d"middlecolumn"\x3e${nlsLabels.labelPairProperties}\x3c/li\x3e\n\n                \x3cli class\x3d"sidecolumn"\x3e\n\n                    \x3cdiv name\x3d"selectValueProperty"\n                         data-dojo-type\x3d"anaplan/widgets/FilteringSelect"\n                         data-dojo-attach-point\x3d"selectValueProperty"\n                         data-dojo-props\x3d"searchAttr:\'label\'"\x3e\x3c/div\x3e\n\n                    \x3ch4 class\x3d"subheading"\x3e${nlsLabels.labelPairPropertiesExample}\x3c/h4\x3e\n\n                \x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3cdiv data-dojo-type\x3d"anaplan/gridlet/_editor/dataTypes/FilteredList/ExampleData"\n                 data-dojo-attach-point\x3d"exampleData"\x3e\x3c/div\x3e\n\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:anaplan/templates/Move.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"selectorPanel"\x3e\n        \x3cdiv class\x3d"selector" data-dojo-attach-point\x3d"selectorNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"formPanel"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"instructions" class\x3d"instructions"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"options"\x3e\n            \x3cfieldset\x3e\n                \x3clegend data-dojo-attach-point\x3d"positionLegend"\x3e\x3c/legend\x3e\n                \x3cdiv\x3e\n                    \x3cinput data-dojo-attach-point\x3d"beforeButton" data-dojo-attach-event\x3d"onclick:_validate,onkeydown:_validate" id\x3d"moveBefore" name\x3d"position" value\x3d"Before" type\x3d"radio"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"beforeButtonLabel" for\x3d"moveBefore"\x3e\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cinput data-dojo-attach-point\x3d"afterButton" data-dojo-attach-event\x3d"onclick:_validate,onkeydown:_validate" id\x3d"moveAfter" name\x3d"position" value\x3d"After" type\x3d"radio" checked\x3d"checked"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"afterButtonLabel" for\x3d"moveAfter"\x3e\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"invalidWarning" class\x3d"invalidWarningMessage" style\x3d"visibility: hidden;"\x3e\n            \x3cspan data-dojo-attach-point\x3d"invalidWarningHeading" class\x3d"invalidWarningHeading"\x3e\x3c/span\x3e\n            \x3cbr/\x3e\n            \x3cspan data-dojo-attach-point\x3d"invalidWarningMessage"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onSubmit" disabled\x3d"true"\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ReOrder.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n    \x3cdiv class\x3d"layout-top calc-remaining-height"\x3e\n        \x3cul class\x3d"layout-left" data-dojo-attach-point\x3d"layoutLeft"\x3e\n\n            \x3cli class\x3d"layout-search" data-dojo-attach-point\x3d"lblSearchBar"\x3e\n                \x3cinput type\x3d"text" maxlength\x3d"60" placeholder\x3d\'${nls.labelSearch}\' data-dojo-attach-point\x3d"tbSearch" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-event\x3d"onChange:_onSearchChange" data-dojo-props\x3d"intermediateChanges:true, trim:true"\x3e\n                \x3cspan class\x3d"anaplanEditorIconSearch"\x3e\x3c/span\x3e\n                \x3cdiv class\x3d"searchBoxClearButtonCell" data-dojo-attach-point\x3d"searchBoxClearButtonCell"\x3e\n                    \x3cspan class\x3d"clearButton"\x3e\x26nbsp;\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"message-label"\x3e\n                \x3cspan data-dojo-attach-point\x3d"lblMatches" class\x3d"searchmatches"\x3e${nls.labelNoMatches}\x3c/span\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"layout-list calc-remaining-height" data-dojo-attach-point\x3d"listNodeWrapper"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"listNode"\x3e\x3c/div\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n\n        \x3cul class\x3d"layout-right"\x3e\n\n            \x3cli class\x3d"sort-buttons" \x3e\n                \x3cfieldset\x3e\n                    \x3clegend\x3e${nls.labelSortFieldSet}\x3c/legend\x3e\n                    \x3cdiv class\x3d"layout-buttonwrapper"\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonAscending}" data-dojo-attach-point\x3d"btnSortAsc" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onSortAsc" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderAsc\'"\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonDescending}" data-dojo-attach-point\x3d"btnSortDesc" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onSortDesc" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderDesc\'"\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/li\x3e\n\n            \x3cli class\x3d"move-buttons"\x3e\n                \x3cfieldset\x3e\n                    \x3clegend\x3e${nls.labelMoveFieldSet}\x3c/legend\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonTop}" data-dojo-attach-point\x3d"btnMoveTop" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onMoveTop" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderTop\'"\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonUp}" data-dojo-attach-point\x3d"btnMoveUp" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onMoveUp" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderUp\'"\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonDown}" data-dojo-attach-point\x3d"btnMoveDown" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onMoveDown" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderDown\'"\x3e\n                        \x3cinput type\x3d"button" label\x3d"${nls.buttonBottom}" data-dojo-attach-point\x3d"btnMoveBottom" data-dojo-type\x3d"anaplan/widgets/FlatButton" data-dojo-attach-event\x3d"onClick:_onMoveBottom" data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderBottom\'"\x3e\n                \x3c/fieldset\x3e\n            \x3c/li\x3e\n\n            \x3cli class\x3d"calc-remaining-height"\x3e\n\n            \x3c/li\x3e\n\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"layout-bottom"\x3e\n        \x3cdiv class\x3d"layout-form-buttons"\x3e\n            \x3cinput class\x3d"primary-button" type\x3d"button" label\x3d"${nls.buttonApply}" data-dojo-attach-point\x3d"btnOk" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onSubmit" disabled\x3d"true"\x3e\n            \x3cinput type\x3d"button" label\x3d"${lblCancel}" data-dojo-attach-point\x3d"btnCancel" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel"\x3e\n            \x3cinput type\x3d"button" label\x3d"${nls.buttonReset}" class\x3d"btnReset" data-dojo-attach-point\x3d"btnReset" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onReset" disabled\x3d"true"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n\x3c/div\x3e\n',
"url:anaplan/templates/UndoConfirmation.html":'\x3cdiv class\x3d"${baseClass} qa-${baseClass}"\x3e\n    \x3cdiv\x3e\n        ${nls.confirmationTextPrefix}\n        \x3cspan class\x3d"${baseClass}__cellCount"\x3e${cellCount}\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"confirmationTextSuffix"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}__preview"\x3e\n        \x3ctable\x3e\n            \x3cthead\x3e\n                \x3ctr\x3e\n                    \x3cth\x3e${nls.confirmationCurrentValueTableHeading}\x3c/th\x3e\n                    \x3cth\x3e${nls.confirmationRevertToTableHeading}\x3c/th\x3e\n                \x3c/tr\x3e\n            \x3c/thead\x3e\n            \x3ctbody data-dojo-attach-point\x3d"previewBody"\x3e\x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/actions/CopyToNumberedList/_PasteResultsTopPanel.html":'\x3cdiv class\x3d"${baseClass}" data-element-id\x3d"pasteResultsTopPanel"\x3e\n    \x3ch1 data-dojo-attach-point\x3d"resultsLabel"\x3e\x3c/h1\x3e\n    \x3cul\x3e\n        \x3cli data-element-id\x3d"codesPastedInTotalLabel" data-dojo-attach-point\x3d"codesPastedInTotalLabel"\x3e\x3c/li\x3e\n        \x3cli\x3e\n            \x3cul\x3e\n                \x3cli data-element-id\x3d"codesAddedSuccessfullyLabel" data-dojo-attach-point\x3d"codesAddedSuccessfullyLabel"\x3e\x3c/li\x3e\n                \x3cli data-element-id\x3d"itemsAlreadyExistInSelectionLabel" data-dojo-attach-point\x3d"itemsAlreadyExistInSelectionLabel"\x3e\x3c/li\x3e\n                \x3cli data-element-id\x3d"duplicatesInPastedCodeLabel" data-dojo-attach-point\x3d"duplicatesInPastedCodeLabel"\x3e\x3c/li\x3e\n                \x3cli data-element-id\x3d"codesNotFoundLabel" data-dojo-attach-point\x3d"codesNotFoundLabel"\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n    \x3clabel data-element-id\x3d"codesNotFoundTextAreaLabel" data-dojo-attach-point\x3d"codesNotFoundTextAreaLabel"\x3e\x3c/label\x3e\n\x3c/div\x3e',
"url:anaplan/templates/DataType.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"dataTypeContainer"\x3e\n        \x3cdiv class\x3d"dataTypeTopSection"\x3e\n            \x3cdiv class\x3d"dataTypeSelectTypeContainer" role\x3d"presentation"\x3e\n                \x3clabel data-dojo-attach-point\x3d"labelDataType"\x3e\n                    type\n                \x3c/label\x3e\n                \x3cdiv class\x3d"qa-format-type"\n                     data-dojo-type\x3d"dijit/form/Select"\n                     data-dojo-attach-point\x3d"selectDataType"\n                     data-dojo-attach-event\x3d"onChange:_onSelectDataTypeChange"\n                     data-dojo-props\x3d"sortByLabel:false"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dataTypeSampleContainer" data-dojo-attach-point\x3d"sampleContainer" role\x3d"presentation"\x3e\n                \x3clabel data-dojo-attach-point\x3d"labelSample"\x3e\n                    sample\n                \x3c/label\x3e\n                \x3cspan data-dojo-attach-point\x3d"spanSample"\x3e12.34\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"dataTypeConfigureTypeContainer" data-dojo-attach-point\x3d"configureNumberContainer" role\x3d"presentation"\x3e\n            \x3cdiv class\x3d"form-group-heading"\x3e\n                \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelFormat"\x3eformat\n                \x3c/span\x3e\n                \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dataType-number-format"\x3e\n                \x3cdiv class\x3d"w50 first"\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"inputMinimumSignificantDigits" type\x3d"radio" name\x3d"radioFractionalPart" id\x3d"inputMinimumSignificantDigits" data-dojo-attach-event\x3d"onclick:_onInputMinimumSignificantDigitsClick"\x3e\n                        \x3c/input\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelMinimumSignificantDigits" for\x3d"inputMinimumSignificantDigits"\x3e\n                            minimumSignificantDigits\n                        \x3c/label\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectMinimumSignificantDigits" data-dojo-attach-event\x3d"onchange:_onSelectMinimumSignificantDigitsChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"inputDecimalPlaces" type\x3d"radio" name\x3d"radioFractionalPart" id\x3d"inputDecimalPlaces" data-dojo-attach-event\x3d"onclick:_onInputDecimalPlacesClick"\x3e\n                        \x3c/input\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelDecimalPlaces" for\x3d"inputDecimalPlaces"\x3e\n                            decimalPlaces\n                        \x3c/label\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectDecimalPlaces" data-dojo-attach-event\x3d"onchange:_onSelectDecimalPlacesChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeSelectLeft"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelDecimalPoint"\x3e\n                            decimalPoint\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeSelectRight"\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectDecimalPoint" data-dojo-attach-event\x3d"onchange:_onSelectDecimalPointChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n                \x3cdiv class\x3d"w50 last"\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeSelectLeft"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelThousandSeparator"\x3e\n                            thousandSeparator\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeSelectRight"\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectThousandSeparator" data-dojo-attach-event\x3d"onchange:_onSelectThousandSeparatorChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeSelectLeft"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelNegativeNumbers"\x3e\n                            negative numbers\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeSelectRight"\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectNegativeNumbers" data-dojo-attach-event\x3d"onchange:_onSelectNegativeNumbersChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeSelectLeft"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelZero"\x3e\n                            zero\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeSelectRight"\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectZero" data-dojo-attach-event\x3d"onchange:_onSelectZeroChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"form-group-heading"\x3e\n                \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelUnits"\x3eunits\x3c/span\x3e\n                \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n\n\n\n            \x3cdiv class\x3d"w50 first"\x3e\n\n                \x3cinput data-dojo-attach-point\x3d"inputNone" type\x3d"radio" name\x3d"units" id\x3d"inputNone" data-dojo-attach-event\x3d"onclick:_onInputNoneClick"\x3e\n                \x3c/input\x3e\n                \x3clabel data-dojo-attach-point\x3d"labelNone" for\x3d"inputNone"\x3e\n                    none\n                \x3c/label\x3e\n\n                \x3cbr/\x3e\n\n                \x3cdiv class\x3d"sub-group"\x3e\n                    \x3cinput data-dojo-attach-point\x3d"inputCurrency" type\x3d"radio" name\x3d"units" id\x3d"inputCurrency" data-dojo-attach-event\x3d"onclick:_onInputCurrencyClick"\x3e\n                    \x3c/input\x3e\n                    \x3clabel data-dojo-attach-point\x3d"labelCurrency" for\x3d"inputCurrency"\x3e\n                        currency\n                    \x3c/label\x3e\n\n                    \x3cdiv class\x3d"dataTypeFieldsetOneCol"\x3e\n                        \x3cselect data-dojo-attach-point\x3d"selectCurrency" data-dojo-attach-event\x3d"onchange:_onSelectCurrencyChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                    \x3cbr/\x3e\n\n                    \x3cdiv class\x3d"dataTypeFieldsetTwoCol"\x3e\n                        \x3cdiv\x3e\n                            \x3cinput data-dojo-attach-point\x3d"inputUseSymbol" type\x3d"radio" name\x3d"currencyFormat" id\x3d"inputUseSymbol" data-dojo-attach-event\x3d"onclick:_onInputUseSymbolClick" checked\x3d"checked"\x3e\n                            \x3c/input\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelUseSymbol" for\x3d"inputUseSymbol"\x3e\n                                symbol\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv\x3e\n                            \x3cinput data-dojo-attach-point\x3d"inputUseCurrencyCode" type\x3d"radio" name\x3d"currencyFormat" id\x3d"inputUseCurrencyCode" data-dojo-attach-event\x3d"onclick:_onInputUseCurrencyCodeClick"\x3e\n                            \x3c/input\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelUseCurrencyCode" for\x3d"inputUseCurrencyCode"\x3e\n                                currency code\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cinput style\x3d"display: none" data-dojo-attach-point\x3d"inputMultiCurrency" type\x3d"radio" name\x3d"units" id\x3d"inputMultiCurrency" data-dojo-attach-event\x3d"onclick:_onInputMultiCurrencyClick"\x3e\n                    \x3c/input\x3e\n                    \x3clabel style\x3d"display: none" data-dojo-attach-point\x3d"labelMultiCurrency" for\x3d"inputMultiCurrency"\x3e\n                        multi currency\n                    \x3c/label\x3e\n\n                    \x3cdiv  style\x3d"display: none" class\x3d"dataTypeFieldsetTwoCol"\x3e\n                        \x3cdiv\x3e\n                            \x3cinput data-dojo-attach-point\x3d"inputUseSymbolMultiCurrency" type\x3d"radio" name\x3d"multiCurrencyFormat" id\x3d"inputUseSymbolMultiCurrency" data-dojo-attach-event\x3d"onclick:_onInputUseSymbolMultiCurrencyClick" checked\x3d"checked"\x3e\n                            \x3c/input\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelUseSymbolMultiCurrency" for\x3d"inputUseSymbolMultiCurrency"\x3e\n                                symbol\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n                        \x3cdiv\x3e\n                            \x3cinput data-dojo-attach-point\x3d"inputUseCurrencyCodeMultiCurrency" type\x3d"radio" name\x3d"multiCurrencyFormat" id\x3d"inputUseCurrencyCodeMultiCurrency" data-dojo-attach-event\x3d"onclick:_onInputUseCurrencyCodeMultiCurrencyClick"\x3e\n                            \x3c/input\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelUseCurrencyCodeMultiCurrency" for\x3d"inputUseCurrencyCodeMultiCurrency"\x3e\n                                currency code\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"w50 last"\x3e\n\n                \x3cinput data-dojo-attach-point\x3d"inputPercentage" type\x3d"radio" name\x3d"units" id\x3d"inputPercentage" data-dojo-attach-event\x3d"onclick:_onInputPercentageClick"\x3e\n                \x3c/input\x3e\n                \x3clabel data-dojo-attach-point\x3d"labelPercentage" for\x3d"inputPercentage"\x3e\n                    percentage\n                \x3c/label\x3e\n\n                \x3cbr/\x3e\n\n                \x3cinput data-dojo-attach-point\x3d"inputOther" type\x3d"radio" name\x3d"units" id\x3d"inputOther" data-dojo-attach-event\x3d"onclick:_onInputOtherClick"\x3e\n                \x3c/input\x3e\n                \x3clabel data-dojo-attach-point\x3d"labelOther" for\x3d"inputOther"\x3e\n                    other\n                \x3c/label\x3e\n\n                \x3cbr/\x3e\n\n                \x3cdiv class\x3d"dataTypeFieldsetOneCol dataTypeCustomUnits"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"labelCustomUnits"\x3e\n                        custom units\n                    \x3c/label\x3e\n                    \x3cinput data-dojo-attach-point\x3d"inputCustomUnits" type\x3d"text" data-dojo-attach-event\x3d"onchange:_onInputCustomUnitsChange,onkeyup:_onInputCustomUnitsChange"\x3e\n                    \x3c/input\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"dataTypeFieldsetTwoCol"\x3e\n                    \x3cdiv\x3e\n                        \x3cinput data-dojo-attach-point\x3d"inputPrefix" type\x3d"radio" name\x3d"customUnitsFormat" id\x3d"inputPrefix" data-dojo-attach-event\x3d"onclick:_onInputPrefixClick" checked\x3d"checked"\x3e\n                        \x3c/input\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelPrefix" for\x3d"inputPrefix"\x3e\n                            prefix\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv\x3e\n                        \x3cinput data-dojo-attach-point\x3d"inputSuffix" type\x3d"radio" name\x3d"customUnitsFormat" id\x3d"inputSuffix" data-dojo-attach-event\x3d"onclick:_onInputSuffixClick"\x3e\n                        \x3c/input\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelSuffix" for\x3d"inputSuffix"\x3e\n                            suffix\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"form-group-heading dataTypeFieldsetComparisonIncrease"\x3e\n                \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"labelFieldsetComparisonIncrease"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n                \x3cdiv class\x3d"dataTypeField"\x3e\n                    \x3cdiv class\x3d"dataTypeSelectLeft"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"labelSelectComparisonIncrease" for\x3d"selectComparisonIncrease"\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"dataTypeSelectRight"\x3e\n                        \x3cselect id\x3d"selectComparisonIncrease" data-dojo-attach-point\x3d"selectComparisonIncrease" data-dojo-attach-event\x3d"onchange:_onSelectComparisonIncreaseChange"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Entity Type Editor --\x3e\n        \x3cdiv class\x3d"dataTypeConfigureTypeContainer"\n             data-dojo-attach-point\x3d"configureEntityContainer"\n             data-dojo-type\x3d"anaplan/gridlet/_editor/dataTypes/FilteredList"\n             data-dojo-props\x3d"context:this._context, selection:this._selection"\n             role\x3d"presentation"\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Time Entity Type Editor --\x3e\n        \x3cdiv class\x3d"dataTypeConfigureTypeContainer"\n             data-dojo-type\x3d"anaplan/gridlet/_editor/dataTypes/TimeEntity"\n             data-dojo-attach-point\x3d"configureTimeEntityContainer" role\x3d"presentation"\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Text Type Editor --\x3e\n        \x3cdiv class\x3d"dataTypeConfigureTypeContainer"\n             data-dojo-type\x3d"anaplan/gridlet/_editor/dataTypes/Text"\n             data-dojo-attach-point\x3d"configureTextContainer" role\x3d"presentation"\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dataTypeOkCancelContainer buttons" role\x3d"presentation"\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"inputOk" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputOkClick" disabled\x3d"disabled"\x3e\n        \x3c/input\x3e\n        \x3cinput data-dojo-attach-point\x3d"inputCancel" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputCancelClick"\x3e\n        \x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/BgColorScaleEditor.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3clabel data-dojo-attach-point\x3d"labelLineItemToFormat"\x3e\x3c/label\x3e\n    \x3cdiv data-dojo-attach-point\x3d"lineItemToFormatSelectorNode"\x3e\x3c/div\x3e\n    \x3clabel data-dojo-attach-point\x3d"labelValuesFrom"\x3e\x3c/label\x3e\n    \x3cdiv data-dojo-attach-point\x3d"valuesFromSelectorNode"\x3e\x3c/div\x3e\n    \x3clabel data-dojo-attach-point\x3d"labelValuesAndColors"\x3e\x3c/label\x3e\n    \x3cdiv data-dojo-attach-point\x3d"valuesAndColorsSelectorNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}ValueLabels"\x3e\n        \x3clabel data-dojo-attach-point\x3d"labelRangeMinimum"\x3e\x3c/label\x3e\n        \x3clabel data-dojo-attach-point\x3d"labelRangeMidPoint"\x3e\x3c/label\x3e\n        \x3clabel data-dojo-attach-point\x3d"labelRangeMaximum"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}ValueInputs"\x3e\n        \x3cinput type\x3d"number"\n               data-dojo-type\x3d"dijit/form/NumberTextBox"\n               data-dojo-attach-point\x3d"textBoxMinValue"\n               data-dojo-props\x3d"required: true, intermediateChanges: true" /\x3e\n        \x3cinput type\x3d"number"\n               data-dojo-type\x3d"dijit/form/NumberTextBox"\n               data-dojo-attach-point\x3d"textBoxMidValue"\n               data-dojo-props\x3d"required: true, intermediateChanges: true" /\x3e\n        \x3cinput type\x3d"number"\n               data-dojo-type\x3d"dijit/form/NumberTextBox"\n               data-dojo-attach-point\x3d"textBoxMaxValue"\n               data-dojo-props\x3d"required: true, intermediateChanges: true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"themeSelectorNode"\x3e\x3c/div\x3e\n    \x3clabel class\x3d"previewLabel" data-dojo-attach-point\x3d"labelPreview"\x3e\x3c/label\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewNode" class\x3d"${baseClass}Preview"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:anaplan/templates/ImportDefinition.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"outerBorderContainer" data-dojo-type\x3d"dijit/layout/BorderContainer" style\x3d"height: 100%; width: 100%;"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer" data-dojo-attach-point\x3d"tabContainer" doLayout\x3d"true" region\x3d"center"\n             controllerWidget\x3d"anaplan.view.ImportDefinition._TabController"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" class\x3d"buttons" region\x3d"bottom" style\x3d"height: 30px;"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"busyIndicator" class\x3d"indicator busyIndicator"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"errorIndicator" class\x3d"indicator errorIndicator"\x3e\x3c/div\x3e\n            \x3cinput type\x3d"button" data-dojo-attach-point\x3d"runImportButton" data-dojo-type\x3d"anaplan/widgets/Button" class\x3d"primary-button"\n                   data-dojo-attach-event\x3d"onClick:_onRunImportButtonClick" iconClass\x3d"anaplanEditorIcon anaplanEditorIconImport"\n                   disabled\x3d"true"/\x3e\n            \x3cinput type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" class\x3d"primary-button"\n                   data-dojo-attach-event\x3d"onClick:_onOkButtonClick" iconClass\x3d"anaplanEditorIconBlank" disabled\x3d"true" /\x3e\n            \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button"\n                   data-dojo-attach-event\x3d"onClick:_onCancelButtonClick" iconClass\x3d"anaplanEditorIconBlank" /\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DimensionItem.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3c!--suppress HtmlUnknownTarget --\x3e\n    \x3cdiv class\x3d"dimensionItemIconWrapper"\x3e\n        \x3cimg data-dojo-attach-point\x3d"iconNode" src\x3d"${globalLibPath}/dojo/resources/blank.gif"\n             class\x3d"dimensionItemIcon" draggable\x3d"false"\x3e\n    \x3c/div\x3e\n    \x3cspan data-dojo-attach-point\x3d"labelNode" class\x3d"dimensionItemLabel dijitInline"\x3e\x3c/span\x3e\n    \x3cdiv class\x3d"dimensionItemTextAreaBackground"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:anaplan/templates/actions/CopyToNumberedList/_PasteCodesButtonPanel.html":'\x3cdiv class\x3d"${baseClass} buttons" data-element-id\x3d"pasteCodesButtonPanel"\x3e\n    \x3cinput class\x3d"primary-button"\n            data-dojo-attach-point\x3d"submitCodesButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onSubmitCodes"\n           data-element-id\x3d"submitCodesButton"\n           type\x3d"button"\x3e\n    \x3cinput data-dojo-attach-point\x3d"backButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onBack"\n           data-element-id\x3d"backButton"\n           type\x3d"button"\x3e\n\x3c/div\x3e',
"url:anaplan/templates/DimensionItemGroup.html":'\x3cdiv class\x3d"${baseClass} dijitInline"\x3e\n    \x3cdiv class\x3d"${baseClass}Content dijitInline" data-dojo-attach-point\x3d"dropNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}InsertionPoint" data-dojo-attach-point\x3d"insertionPoint" style\x3d"display: none;"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:anaplan/templates/LineItemsDialog.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctextarea data-dojo-attach-point\x3d"itemNamesTextArea" data-dojo-type\x3d"anaplan/widgets/SimpleTextarea" class\x3d"itemNamesTextArea"\x3e\x3c/textarea\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onOkButtonClick" type\x3d"button"\x3e\x3c/input\x3e\n        \x3cinput data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick" type\x3d"button"\x3e\x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:anaplan/templates/QuickFilterCondition.html":'\x3ctr class\x3d"${baseClass}" data-dojo-attach-point\x3d"conditionDataType"\x3e\n    \x3ctd class\x3d"filterConditionOperator qa-operator" data-dojo-attach-point\x3d"operatorCell"\x3e\n        \x3cselect class\x3d"filterConditionOperatorSelector" data-dojo-attach-point\x3d"operatorSelect"\x3e\n        \x3c/select\x3e\n    \x3c/td\x3e\n    \x3ctd class\x3d"filterConditionValue qa-editor" data-dojo-attach-point\x3d"valueCell"\x3e\x3cdiv class\x3d"filterConditionValueInner" data-dojo-attach-point\x3d"filterConditionValueInner"\x3e\x3c/div\x3e\x3c/td\x3e\n    \x3ctd class\x3d"filterConditionAddRemoveButtons"\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"removeButton" data-dojo-attach-event\x3d"onClick:_onRemoveButtonClick" class\x3d"removeButton" showLabel\x3d"false" iconClass\x3d"anaplanEditorIcon anaplanEditorIconRemove"\x3e\x3c/input\x3e\n    \x3c/td\x3e\n\x3c/tr\x3e',
"url:anaplan/templates/ImportCredentials.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\x3e\n    \x3ctable\x3e\n        \x3ctbody\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"instanceLabel"\x3e\x3c/label\x3e:\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3c!-- \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"serviceUrlTextBox"/\x3e--\x3e\n                    \x3cinput data-dojo-type\x3d"anaplan/widgets/DropDownButton" data-dojo-attach-point\x3d"instanceDropDown" showLabel\x3d"true"/\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"usernameLabel"\x3e\x3c/label\x3e:\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"usernameTextBox"/\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"passwordLabel"\x3e\x3c/label\x3e:\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput type\x3d"password" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"passwordTextBox"/\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"securityTokenLabel"\x3e\x3c/label\x3e:\n                \x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"securityTokenTextBox"/\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd class\x3d"labelCell"\x3e\x3c/td\x3e\n                \x3ctd class\x3d"controlCell"\x3e\n                    \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"mayPersistParamsCheckBox"/\x3e\n                    \x3clabel data-dojo-attach-point\x3d"mayPersistParamsLabel"\x3e\x3c/label\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"submitButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onSubmit"/\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DefineEntitiesEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelHierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"hierarchyFilteringSelect" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DataType/ExampleData.html":'\x3cul data-dojo-attach-point\x3d"containerNode" class\x3d"rowList"\x3e\n\n        \x3cli class\x3d"sidecolumn"\x3e\n\n            \x3ctable class\x3d"exampleData" data-dojo-attach-point\x3d"driverExamples"\x3e\n            \x3c/table\x3e\n\n        \x3c/li\x3e\n        \x3cli class\x3d"middlecolumn"\x3e\n\n            \x3ctable data-dojo-attach-point\x3d"splitter"\x3e\n            \x3c/table\x3e\n\n        \x3c/li\x3e\n        \x3cli class\x3d"sidecolumn"\x3e\n\n            \x3ctable class\x3d"exampleData" data-dojo-attach-point\x3d"filterExamples"\x3e\n            \x3c/table\x3e\n\n        \x3c/li\x3e\n\n\x3c/ul\x3e',
"url:anaplan/templates/Export.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"${tabIndex}"\x3e\n\n    \x3cdiv style\x3d"width: 550px; height:475px;margin:0 auto;" id\x3d"export-tabs-container"\x3e\n        \x3cdiv id\x3d"export-tabs"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',"url:anaplan/templates/Filter/MainView.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer" data-dojo-attach-point\x3d"axisTabContainer" class\x3d"axisTabContainer" doLayout\x3d"false"\x3e\x3c/div\x3e\n    \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onOkButtonClick"/\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"/\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"clearAllButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onClearAllButtonClick"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/Filter/Tab.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv class\x3d"filterTabInner"\x3e\n        \x3cdiv class\x3d"topLeftBar"\x3e\n            \x3cspan data-dojo-attach-point\x3d"explanationLabel1"\x3e\x3c/span\x3e\n            \x3cselect data-dojo-attach-point\x3d"anyOrAllSelect"\x3e\n                \x3coption data-dojo-attach-point\x3d"allOption" value\x3d"ALL"\x3e\x3c/option\x3e\n                \x3coption data-dojo-attach-point\x3d"anyOption" value\x3d"ANY"\x3e\x3c/option\x3e\n            \x3c/select\x3e\n            \x3cspan data-dojo-attach-point\x3d"explanationLabel2"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"filterConditions"\x3e\n            \x3ctable\x3e\n                \x3ctbody data-dojo-attach-point\x3d"filterConditionTable"\x3e\x3c/tbody\x3e\n            \x3c/table\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"topRightBar"\x3e\n            \x3clabel data-dojo-attach-point\x3d"activeCheckBoxLabel" class\x3d"activeCheckBox"\x3e\x3c/label\x3e\n            \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"activeCheckBox"\n                   data-dojo-attach-event\x3d"change:_onActiveCheckBoxChange" class\x3d"activeCheckBox" checked\x3e\n            \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"clearButton"\n                   data-dojo-attach-event\x3d"click:_onClearButtonClick" class\x3d"clearButton"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/LineItemImportMapper.html":'\x3cdiv class\x3d"${baseClass} wrapper"\x3e\n    \x3ctable class\x3d"mappingsTable"\x3e\n        \x3ctbody data-dojo-attach-point\x3d"lineItemMappings"\x3e\x3c/tbody\x3e\n    \x3c/table\x3e\n\x3c/div\x3e\n',"url:anaplan/templates/ManageImportSources/SourceList.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable\x3e\n        \x3ctbody\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\n                \x3cform class\x3d"fileForm" enctype\x3d"multipart/form-data" method\x3d"post" data-dojo-attach-point\x3d"fileForm"\x3e\n                    \x3cinput type\x3d"button" class\x3d"fileButton"\n                           label\x3d"${lblUpload}"\n                           data-dojo-attach-point\x3d"fileButton"\n                           data-dojo-type\x3d"anaplan/widgets/Button"/\x3e\n\n                    \x3cdiv class\x3d"fileInputDiv" data-dojo-attach-point\x3d"fileInputDiv"\x3e\x3c/div\x3e\n                    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"workspaceIdInput" name\x3d"workspaceId"/\x3e\n                    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"modelIdInput" name\x3d"modelId"/\x3e\n                    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"sessionIdInput" name\x3d"sessionId"/\x3e\n                    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"txIdInput" name\x3d"txid"/\x3e\n                \x3c/form\x3e\n            \x3c/td\x3e\n            \x3ctd valign\x3d"top"\x3e\n                \x3cinput type\x3d"button"\n                       label\x3d"${lblModel}"\n                       data-dojo-attach-point\x3d"modelButton"\n                       data-dojo-type\x3d"anaplan/widgets/Button"/\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n    \x3cdiv class\x3d"sourceListInstructions" data-dojo-attach-point\x3d"sourceListInstructions"\x3e${lblInstructions}\x3c/div\x3e\n    \x3cdiv class\x3d"sourceList" data-dojo-type\x3d"anaplan/widgets/MasterSelector"\n         data-dojo-attach-point\x3d"sourceList"\n         data-dojo-attach-event\x3d"onSelectionChange:_onSelectionChange"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"actionsPanel"\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblEdit}"\n               data-dojo-attach-point\x3d"editButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onEdit"/\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblRemove}"\n               data-dojo-attach-point\x3d"removeButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onRemove"/\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button"\n               class\x3d"primary-button"\n               label\x3d"${lblSelect}"\n               data-dojo-attach-point\x3d"selectButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onSelectImport"/\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblClose}"\n               data-dojo-attach-point\x3d"closeButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onClose"/\x3e\n        \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ImportDateFormat.html":'\x3cdiv class\x3d"${baseClass} wrapper"\x3e\n\t\x3ctable border\x3d"0" width\x3d"100%"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd\x3e\n\t\t\t\t\x3ctable border\x3d"0" width\x3d"100%" data-dojo-attach-point\x3d"questionsTable"\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"sectionHeader" colspan\x3d"2"\n\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"patternsWithSeparatorsLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\x3cselect\n\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"patternWithSeparatorSelect" multiple\x3d"true"\n\t\t\t\t\t\t\tdisabled style\x3d"width: 160px; height: 130px"\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription" valign\x3d"top"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionSLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionYLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionQLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionMLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionDLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"patternDescriptionWLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"sectionHeader" colspan\x3d"2"\n\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"fixedPositionPatternsLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\x3cselect\n\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"fixedPositionPatternSelect" multiple\x3d"true"\n\t\t\t\t\t\t\tdisabled style\x3d"width: 160px"\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription" valign\x3d"top"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fixedPositionDescriptionLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"sectionHeader" colspan\x3d"2"\n\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"customPatternLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\n                            \x3cinput data-dojo-attach-point\x3d"customPatternInput" disabled /\x3e\n                        \x3c/td\x3e\n\t\t\t\t\t\t\x3ctd class\x3d"patternDescription"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"customPatternDescriptionLabel"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\x26nbsp;\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"missingFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"malformedFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"invalidFormatError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\x3ctd data-dojo-attach-point\x3d"languageLabel"\x3e\x3c/td\x3e\n\t\t\t\t\t\t\x3ctd\x3e\x3cselect data-dojo-attach-point\x3d"languageSelect" disabled\x3e\n\t\t\t\t\t\t\x3c/select\x3e\x3c/td\x3e\n\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\x3c/td\x3e\n\t\t\t\x3ctd valign\x3d"top" height\x3d"100%"\x3e\n\t\t\t\t\x3cdiv style\x3d"width: 200px" data-dojo-type\x3d"anaplan/widgets/MasterSelector" data-dojo-attach-point\x3d"sourceItemSelector"\x3e\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd colspan\x3d2\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"applyToAllCheckBox" data-dojo-type\x3d"dijit/form/CheckBox"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"applyToAllLabel"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan style\x3d"float: right" class\x3d"buttons"\x3e\n\n\t\t\t        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onOkButtonClick" /\x3e\n\t\t\t        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick" /\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/table\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/MappedDimensionImportOptions.html":'\x3cdiv class\x3d"${baseClass} wrapper"\x3e\n\x3ctable data-dojo-attach-point\x3d"contentTable" width\x3d"100%" height\x3d"100%"\x3e\n\x3ctbody\x3e\n\t\x3ctr data-dojo-attach-point\x3d"optionsRow"\x3e\n\t\t\x3cth colspan\x3d2 valign\x3d"top"\x3e\n\t\t\x3ctable width\x3d"100%"\x3e\x3ctr\x3e\x3ctd nowrap\x3e\n\t\t\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"matchRadioButton" type\x3d"radio"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onMatchRadioButtonChange,onKeyDown:_onMatchRadioButtonChange"\n\t\t\tvalue\x3d"MATCH" /\x3e \x3clabel data-dojo-attach-point\x3d"matchLabel"\x3e\x3c/label\x3e\n\t\t\x3c/td\x3e\x3ctd rowspan\x3d2\x3e\x3cspan data-dojo-attach-point\x3d"mapInfoDiv" class\x3d"description"\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd nowrap\x3e\n\t\t\x3cinput data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"mapRadioButton" type\x3d"radio"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onMapRadioButtonChange,onKeyDown:_onMapRadioButtonChange"\n\t\t\tvalue\x3d"MAP" /\x3e \x3clabel data-dojo-attach-point\x3d"manualMapLabel"\x3e\x3c/label\x3e\n\t\t\x3c/td\x3e\x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd\x3e\n                    \x3cdiv class\x3d"message-label"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"lblMessages" class\x3d"messages"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n\t\t\x3c/th\x3e\n\t\t\x3cth valign\x3d"top"\x3e\n            \x3cdiv class\x3d"mappingSection"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"mappingOptions"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"targetAreaLabel"\x3e\x3c/div\x3e\n                    \x3cdiv\x3e\x26nbsp;\x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n                        data-dojo-attach-point\x3d"matchedItemsRadioButton"\n                        data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                        type\x3d"radio" value\x3d"MATCHED_ITEMS" /\x3e \x3clabel\n                        data-dojo-attach-point\x3d"matchedItemsRadioButtonLabel"\x3e\x3c/label\x3e\x3c/div\x3e\n                    \x3cdiv\x3e\x26nbsp;\x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n                        data-dojo-attach-point\x3d"allMappedItemsRadioButton"\n                        data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                        type\x3d"radio" value\x3d"ALL_MAPPED_ITEMS" /\x3e \x3clabel\n                        data-dojo-attach-point\x3d"allMappedItemsRadioButtonLabel"\x3e\x3c/label\x3e\x3c/div\x3e\n                    \x3cdiv\x3e\x26nbsp;\x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n                        data-dojo-attach-point\x3d"allItemsRadioButton"\n                        data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                        type\x3d"radio" value\x3d"ALL_ITEMS" /\x3e \x3clabel\n                        data-dojo-attach-point\x3d"allItemsRadioButtonLabel"\x3e\x3c/label\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\t\t\x3c/th\x3e\n\t\x3c/tr\x3e\n\t\x3ctr data-dojo-attach-point\x3d"headerRow"\x3e\n\t\t\x3ctd data-dojo-attach-point\x3d"sourceHeaderTd" class\x3d"headerLabel"\x3e\x3c/td\x3e\n\t\t\x3ctd data-dojo-attach-point\x3d"mappedHeaderTd" style\x3d"white-space: nowrap"\x3e\n\t\t\x3cspan class\x3d"headerLabel"\n\t\t\tdata-dojo-attach-point\x3d"mappedItemsHeader"\x3e\x3c/span\x3e \x3cspan data-dojo-attach-point\x3d"mappingActionButtons" style\x3d"float: right"\x3e\x3cspan\n\t\t\tdata-dojo-attach-point\x3d"matchButton" data-dojo-type\x3d"anaplan/widgets/Button"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onMatchButtonClick"\x3e\x3c/span\x3e\x3cspan\n\t\t\tdata-dojo-attach-point\x3d"ignoreButton" data-dojo-type\x3d"anaplan/widgets/Button"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onIgnoreButtonClick"\x3e\x3c/span\x3e\x3cspan\n\t\t\tdata-dojo-attach-point\x3d"clearButton" data-dojo-type\x3d"anaplan/widgets/Button"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onClearButtonClick"\x3e\x3c/span\x3e\x3cspan\n\t\t\tdata-dojo-attach-point\x3d"clearAllButton" data-dojo-type\x3d"anaplan/widgets/Button"\n\t\t\tdata-dojo-attach-event\x3d"onClick:_onClearAllButtonClick"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/td\x3e\n\t\t\x3ctd data-dojo-attach-point\x3d"targetHeaderTd" class\x3d"headerLabel"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"targetItemsHeader" class\x3d"headerLabel"\x3e\x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"customMappingHeader" class\x3d"headerLabel" style\x3d"float: right"\x3e\x3c/span\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\t\x3ctr data-dojo-attach-point\x3d"dataRow"\x3e\n\t\t\x3ctd colspan\x3d2 data-dojo-attach-point\x3d"sourceItemsTd" valign\x3d"top"\x3e\n\t\t\x3cdiv data-dojo-type\x3d"anaplan/widgets/MasterSelector"\n\t\t\tdata-dojo-attach-point\x3d"sourceItemSelector"\n\t\t\tdata-dojo-attach-event\x3d"onSelectionChange:_onSourceSelectionChange,onDeleteKeyPressed:_onDeleteKeyPressed"\x3e\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd data-dojo-attach-point\x3d"targetItemsTd" valign\x3d"top"\x3e\n\t\t\x3cdiv class\x3d"targetItemSelector"\n\t\t\tdata-dojo-type\x3d"anaplan/widgets/MasterSelector"\n\t\t\tdata-dojo-attach-point\x3d"targetItemSelector"\n\t\t\tdata-dojo-attach-event\x3d"onSelectionChange:_onTargetSelectionChange"\x3e\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/tbody\x3e\n\x3c/table\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ErrorReporter.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \n    \x3ctable class\x3d"messageArea"\x3e\x3ctbody\x3e\x3ctr\x3e\n\t    \x3ctd\x3e\x3cdiv class\x3d"icon" data-dojo-attach-point\x3d"_icon"\x3e\x3c/div\x3e\x3c/td\x3e\n\t    \x3ctd\x3e\n\t        \x3cdiv class\x3d"errorMessage" data-dojo-attach-point\x3d"_errorMessage"\x3e\x3c/div\x3e\n\t        \x3cdiv class\x3d"helpMessage" data-dojo-attach-point\x3d"_defaultHelpMessage"\x3e\n\t            \x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage1"\x3e\x3c/span\x3e\n\t            \x3cul\x3e\n\t                \x3cli\x3e\n\t                    \x3ca href\x3d"#" data-dojo-attach-event\x3d"click:_handleCloseLink"\x3e\x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage2"\x3e\x3c/span\x3e\x3c/a\x3e\x26nbsp;\n\t                    \x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage3"\x3e\x3c/span\x3e\n\t                \x3c/li\x3e\n\t                \x3cli\x3e\n\t                    \x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage4"\x3e\x3c/span\x3e\x26nbsp;\n\t                    \x3ca href\x3d"#" data-dojo-attach-event\x3d"click:_handleReloadLink"\x3e\x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage5"\x3e\x3c/span\x3e\x3c/a\x3e\x26nbsp;\n\t                    \x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage6"\x3e\x3c/span\x3e\n\t                \x3c/li\x3e\n\t                \x3cli\x3e\n\t                    \x3cspan data-dojo-attach-point\x3d"_defaultHelpMessage7"\x3e\x3c/span\x3e\n\t                \x3c/li\x3e\n\t            \x3c/ul\x3e\n\t        \x3c/div\x3e\n\t        \x3cdiv class\x3d"helpMessage" style\x3d"display: none;" data-dojo-attach-point\x3d"_helpMessage"\x3e\x3c/div\x3e\n\t    \x3c/td\x3e\n    \x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\n\n    \x3cdiv data-dojo-type\x3d"dijit/TitlePane" data-dojo-attach-point\x3d"_detailPane" open\x3d"false" style\x3d"width: 100%;" duration\x3d"0"\x3e\n        \x3ctextarea data-dojo-type\x3d"dijit/form/Textarea" class\x3d"errorDetail" data-dojo-attach-point\x3d"_errorDetail" tabindex\x3d"1"\x3e\x3c/textarea\x3e\n    \x3c/div\x3e\n    \n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"_okButton" data-dojo-attach-event\x3d"click:_onConfirmButtonClick" tabindex\x3d"1"/\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"_mailToButton" data-dojo-attach-event\x3d"click:_onMailToButtonClick" tabindex\x3d"1"/\x3e\n    \x3c/div\x3e\n    \n\n\x3c/div\x3e\n',
"url:anaplan/templates/snav/PopupActionBar.html":"\x3cdiv class\x3d'buttons dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\n    \x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button' data-dojo-attach-event\x3d'click:_onSubmitAction'\n            data-dojo-attach-point\x3d\"okButton\" class\x3d\"primary-button\" \x3e\x3c/button\x3e\n    \x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\n            data-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:_onCancel'\x3e\x3c/button\x3e\n\x3c/div\x3e\n",
"url:anaplan/templates/Mapping.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"mappingTableWrapper" class\x3d"mappingTableWrapper" style\x3d"display: none;"\x3e\n        \x3ctable class\x3d"mappingTable"\x3e\n            \x3ctbody data-dojo-attach-point\x3d"tableBody"\x3e\n                \x3ctr data-dojo-attach-point\x3d"columnHeadings" class\x3d"columnHeadings"\x3e\n                    \x3cth\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"sourceColumnHeading"\x3e\x3c/div\x3e\n                    \x3c/th\x3e\n                    \x3cth class\x3d"targetHeading"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"targetColumnHeading"\x3e\x3c/div\x3e\n                    \x3c/th\x3e\n                    \x3cth class\x3d"formatHeading"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"formatColumnHeading"\x3e\x3c/div\x3e\n                    \x3c/th\x3e\n                \x3c/tr\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"loading" class\x3d"loading"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/Level.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"checkboxContainer"\x3e\n        \x3cinput type\x3d"checkbox"\n               data-dojo-type\x3d"dijit/form/CheckBox"\n               data-dojo-attach-point\x3d"checkBox"\n               data-dojo-attach-event\x3d"click:_onCheckBoxClick"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"labelContainer"\x3e\n        \x3clabel data-dojo-attach-point\x3d"labelElement"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',"url:anaplan/templates/RunExistingImport/ImportList.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"importListInstructions"\n         data-dojo-attach-point\x3d"importListInstructions"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"importList" data-dojo-type\x3d"anaplan/widgets/MasterSelector"\n         data-dojo-attach-point\x3d"importList"\n         data-dojo-attach-event\x3d"onSelectionChange:_onSelectionChange"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"fileUploadInstructions"\n         data-dojo-attach-point\x3d"fileUploadInstructions"\x3e\x3c/div\x3e\n    \x3cdiv\x3e\n        \x3cform class\x3d"fileForm" enctype\x3d"multipart/form-data" method\x3d"post"\n              data-dojo-attach-point\x3d"fileForm"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"fileInputDiv"\x3e\n            \x3c/div\x3e\n            \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"workspaceIdInput"\n                   name\x3d"workspaceId"/\x3e \x3cinput type\x3d"hidden"\n                                               data-dojo-attach-point\x3d"modelIdInput" name\x3d"modelId"/\x3e\n            \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"isTemporaryInput" name\x3d"isTemporary"/\x3e\n            \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"sessionIdInput" name\x3d"sessionId"/\x3e\n            \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"txIdInput" name\x3d"txid"/\x3e\n        \x3c/form\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button"\n                data-dojo-attach-point\x3d"runButton"\n                data-dojo-type\x3d"anaplan/widgets/Button"\n                data-dojo-attach-event\x3d"onClick:_onRunImport"/\x3e\n        \x3cinput type\x3d"button"\n               data-dojo-attach-point\x3d"closeButton"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onClose"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/MoveHierarchyItem.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"treePanel"\x3e\n        \x3cdiv class\x3d"searchBar" style\x3d"display: none;"\x3e\n            \x3ctextarea data-dojo-attach-point\x3d"searchField" name\x3d"searchField" rows\x3d"1" wrap\x3d"off"\x3e\n                            \x3c/textarea\x3e\n            \x3cinput type\x3d"button" \n                   data-dojo-attach-point\x3d"clearSearchButton"\n                   class\x3d"clearSearchButton" \n                   data-dojo-type\x3d"anaplan/widgets/Button"\n                   iconClass\x3d"anaplanEditorIcon anaplanEditorIconReset"\n                   showLabel\x3d"false" /\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"tree" data-dojo-attach-point\x3d"treeNode"\x3e\n            \x3cdiv class\x3d"loadingMessage" data-dojo-attach-point\x3d"loading"\x3e\n                \x3cspan class\x3d"loadingMessageLabel" data-dojo-attach-point\x3d"loadingLabel"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"formPanel"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"instructions" class\x3d"instructions"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"options"\x3e\n            \x3cfieldset\x3e\n                \x3clegend data-dojo-attach-point\x3d"positionLegend"\x3e\x3c/legend\x3e\n                \x3cdiv\x3e\n                    \x3cinput data-dojo-attach-point\x3d"beforeButton" data-dojo-attach-event\x3d"onclick:_onPositionChange,onkeydown:_onPositionChange" id\x3d"moveBefore" name\x3d"position" value\x3d"Before" type\x3d"radio"/\x3e\n                    \x3clabel data-dojo-attach-point\x3d"beforeButtonLabel" for\x3d"moveBefore"\x3e\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cinput data-dojo-attach-point\x3d"afterButton" data-dojo-attach-event\x3d"onclick:_onPositionChange,onkeydown:_onPositionChange" id\x3d"moveAfter" name\x3d"position" value\x3d"After" type\x3d"radio" checked\x3d"checked"/\x3e\n                    \x3clabel data-dojo-attach-point\x3d"afterButtonLabel" for\x3d"moveAfter"\x3e\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cinput data-dojo-attach-point\x3d"childButton" data-dojo-attach-event\x3d"onclick:_onPositionChange,onkeydown:_onPositionChange" id\x3d"moveChild" name\x3d"position" value\x3d"End" type\x3d"radio"/\x3e\n                    \x3clabel data-dojo-attach-point\x3d"childButtonLabel" for\x3d"moveChild"\x3e\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"invalidWarning" class\x3d"invalidWarningMessage" style\x3d"visibility: hidden;"\x3e\n            \x3cspan data-dojo-attach-point\x3d"invalidWarningHeading" class\x3d"invalidWarningHeading"\x3e\x3c/span\x3e\n            \x3cbr/\x3e\n            \x3cspan data-dojo-attach-point\x3d"invalidWarningMessage"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"clearFix"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onSubmit" disabled\x3d"true"/\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DashboardExport.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n    \x3cdiv class\x3d"leftContainer"\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3clabel for\x3d"inputPageSize" data-dojo-attach-point\x3d"labelPageSize"\x3e\x3c/label\x3e\r\n\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" style\x3d"width: 160px;" id\x3d"inputPageSize" data-dojo-attach-point\x3d"inputPageSize"\x3e\r\n\t\t\t\t\x3coption value\x3d"A5"\x3eA5\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"A4"\x3eA4\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"A3"\x3eA3\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"LETTER" selected\x3d"selected"\x3eLetter\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"FOLIO"\x3eFolio\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"LEGAL"\x3eLegal\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"EXECUTIVE"\x3eExecutive\x3c/option\x3e\r\n\t\t\t\x3c/select\x3e\r\n\t\t\x3c/p\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3clabel for\x3d"inputOrientation" data-dojo-attach-point\x3d"labelOrientation"\x3e\x3c/label\x3e\r\n\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" style\x3d"width: 160px;" id\x3d"inputOrientation" data-dojo-attach-point\x3d"inputOrientation"\x3e\r\n\t\t\t\t\x3coption value\x3d"PORTRAIT"\x3ePortrait\x3c/option\x3e\r\n\t\t\t\t\x3coption value\x3d"LANDSCAPE" selected\x3d"selected"\x3eLandscape\x3c/option\x3e\r\n\t\t\t\x3c/select\x3e\r\n\t\t\x3c/p\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3clabel for\x3d"inputMarginsTop" data-dojo-attach-point\x3d"labelMargins"\x3e\x3c/label\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" value\x3d"10" class\x3d"margin top"   id\x3d"inputMarginsTop"    data-dojo-attach-point\x3d"inputMarginsTop"    data-dojo-props\x3d"constraints:{min:0, max:400}" /\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" value\x3d"10" class\x3d"margin left"  id\x3d"inputMarginsLeft"   data-dojo-attach-point\x3d"inputMarginsLeft"   data-dojo-props\x3d"constraints:{min:0, max:400}" /\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" value\x3d"10" class\x3d"margin right" id\x3d"inputMarginsRight"  data-dojo-attach-point\x3d"inputMarginsRight"  data-dojo-props\x3d"constraints:{min:0, max:400}" /\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" value\x3d"10" class\x3d"margin bottom" id\x3d"inputMarginsBottom" data-dojo-attach-point\x3d"inputMarginsBottom" data-dojo-props\x3d"constraints:{min:0, max:400}" /\x3e\r\n\t\t\t\x3cdiv id\x3d"exportPage" class\x3d"page horizontal"\x3e\x3c/div\x3e\r\n\r\n\r\n\t\t\x3c/p\x3e\r\n\t\x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"rightContainer"\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3clabel for\x3d"inputGridHandling" data-dojo-attach-point\x3d"labelGridHandling"\x3e\x3c/label\x3e\r\n\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" style\x3d"width: 160px;" id\x3d"inputGridHandling" data-dojo-attach-point\x3d"inputGridHandling"\x3e\r\n\r\n\t\t\t\x3c/select\x3e\r\n\t\t\x3c/p\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"inputReplicateRowLabels" checked\x3d"checked" data-dojo-attach-point\x3d"inputReplicateRowLabels" /\x3e\r\n            \x3clabel for\x3d"inputReplicateRowLabels" data-dojo-attach-point\x3d"labelReplicateRowLabels" class\x3d"long-label"\x3e\x3c/label\x3e\r\n        \x3c/p\x3e\r\n\t\t\x3cp\x3e\r\n\t\t\t\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"inputAppendGridExports" data-dojo-attach-point\x3d"inputAppendGridExports" /\x3e\r\n            \x3clabel for\x3d"inputAppendGridExports" data-dojo-attach-point\x3d"labelAppendGridExports" class\x3d"long-label"\x3e\x3c/label\x3e\r\n\t\t\x3c/p\x3e\r\n\t\x3c/div\x3e\r\n\r\n    \x3cdiv data-dojo-type\x3d"anaplan/widgets/TaskProgressMonitor" data-dojo-attach-point\x3d"progressMonitor" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"buttons"\x3e\r\n\t\t\x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onDashboardExport" /\x3e\r\n\t\t\x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel" /\x3e\r\n\t\x3c/div\x3e\r\n\r\n\x3c/div\x3e',
"url:anaplan/templates/UsabilityOptions.html":'\x3cdiv class\x3d"${baseClass} qa-${baseClass}"\x3e\n    \x3clabel\n        class\x3d"${baseClass}__tooltipLabel"\n        data-dojo-attach-point\x3d"tooltipLabel"\x3e${nls.labelTooltip}\x3c/label\x3e\n    \x3ctextarea\n        class\x3d"${baseClass}__tooltipTextarea"\n        data-dojo-attach-point\x3d"tooltipTextarea"\n        data-dojo-props\x3d"intermediateChanges: true, maxLength: ${maxTooltipLength}"\n        data-dojo-type\x3d"dijit/form/Textarea"\x3e\x3c/textarea\x3e\n    \x3cdiv\x3e\n        \x3cinput\n            class\x3d"${baseClass}__displayTooltipIconCheckBox"\n            data-dojo-attach-point\x3d"displayTooltipIconCheckBox"\n            data-dojo-type\x3d"dijit/form/CheckBox"\n            type\x3d"checkbox" /\x3e\n        \x3clabel\n            class\x3d"${baseClass}__displayTooltipIconLabel"\n            data-dojo-attach-point\x3d"displayTooltipIconLabel"\x3e${nls.labelDisplayTooltipIcon}\x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/WaterfallChartOptions.html":'\x3cdiv class\x3d"${baseClass} chartOptionsTab waterfallChartOptions"\x3e\r\n    \x3cform class\x3d"${baseClass}"\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingAxes"\x3eAxes\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3cinput class\x3d"lineItemCheckBox" data-dojo-attach-point\x3d"waterfallAutoAxisCheckbox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeAutoAxis" tabIndex\x3d"2" /\x3e\r\n            \x3clabel class\x3d"legendCheckboxLabel" data-dojo-attach-point\x3d"waterfallAutoAxisLabels"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3cinput class\x3d"lineItemCheckBox" data-dojo-attach-point\x3d"waterfallInvertAxesCheckbox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeInvertAxes" tabIndex\x3d"2" /\x3e\r\n            \x3clabel class\x3d"legendCheckboxLabel" data-dojo-attach-point\x3d"waterfallInvertAxesLabels"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingLabels"\x3eLabels\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"waterfallDataLabels"\x3e \x3c/label\x3e \x3cinput\r\n                class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                data-dojo-attach-point\x3d"waterfallData" tabIndex\x3d"1" autocomplete\x3d"true"\r\n                hasDownArrow\x3d"true" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingData"\x3eData\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-attach-point\x3d"seriesData" class\x3d"colourPickerLayout"\x3e\r\n            \x3cdiv class\x3d"formRow"\x3e\r\n                \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"waterfallIncrementLabel"\x3e${nls.waterfallIncrementLabel}\x3c/label\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"incrementColourPicker" class\x3d"aui"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"formRow"\x3e\r\n                \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"waterfallDecrementLabel"\x3e${nls.waterfallDecrementLabel}\x3c/label\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"decrementColourPicker" class\x3d"aui"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"formRow"\x3e\r\n                \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"waterfallTotalsLabel"\x3e${nls.waterfallTotalsLabel}\x3c/label\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"totalsColourPicker" class\x3d"aui"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"formRow"\x3e\r\n                \x3clabel class\x3d"legendLabel"\x3e\x3c/label\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"resetChartColoursButton" class\x3d"aui"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"formRow"\x3e\r\n            \x3cinput class\x3d"lineItemCheckBox" data-dojo-attach-point\x3d"waterfallExcludeCheckbox" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeExcludeItems" tabIndex\x3d"2" /\x3e\r\n            \x3clabel class\x3d"legendCheckboxLabel" data-dojo-attach-point\x3d"waterfallExcludeItemsLabels"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n    \x3c/form\x3e\r\n\x3c/div\x3e',
"url:anaplan/templates/Cell.html":'\x3cdiv class\x3d"dijitReset dijitInline ${baseClass}" tabindex\x3d"-1"\x3e\n    \x3ctextarea data-dojo-attach-point\x3d"pasteNode" class\x3d"cellPasteNode" tabindex\x3d"-1" autocomplete\x3d"off"\x3e\x3c/textarea\x3e\n    \x3cdiv class\x3d"labelContainer" data-dojo-attach-event\x3d"focus:_onLabelContainerFocus"\x3e\n        \x3clabel data-dojo-attach-point\x3d"labelElement"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"inputContainer" data-dojo-attach-point\x3d"inputContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/CommonChartOptions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n    \x3cform class\x3d"${baseClass}"\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingData"\x3eSeries\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-attach-point\x3d"seriesData" class\x3d"colourPickerLayout"\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" data-dojo-attach-point\x3d"headingData"\x3eLabels\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"legend formRow"\x3e\r\n            \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"labelLegend"\x3e \x3c/label\x3e \x3cinput\r\n                class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                data-dojo-attach-point\x3d"layoutLegend" tabIndex\x3d"1" autocomplete\x3d"true"\r\n                hasDownArrow\x3d"true" /\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"data formRow"\x3e\r\n            \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"labelDataLabels"\x3e \x3c/label\x3e \x3cinput\r\n                class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-event\x3d"onChange:_onChangeHandler"\r\n                data-dojo-attach-point\x3d"layoutData" tabIndex\x3d"1" autocomplete\x3d"true"\r\n                hasDownArrow\x3d"true" /\x3e\r\n        \x3c/div\x3e\r\n\r\n    \x3c/form\x3e\r\n\x3c/div\x3e',
"url:anaplan/templates/ManageImportSources/FailedView.html":"\x3cdiv class\x3d'${baseClass}' data-dojo-attach-event\x3d'onkeydown:_onKeyDown'\x3e\n    \x3cdiv data-dojo-attach-point\x3d'failureMessage' style\x3d'margin-bottom: 20px; width: 300px;'\x3e${lblFailure}\x3c/div\x3e\n    \x3cdiv class\x3d\"buttons\"\x3e\n        \x3cinput type\x3d'button'\n               class\x3d\"primary-button\"\n               label\x3d\"${lblOk}\"\n               data-dojo-type\x3d'anaplan/widgets/Button'\n               data-dojo-attach-point\x3d'okButton'\n               data-dojo-attach-event\x3d'onClick:_onConfirm'/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e",
"url:anaplan/templates/ColumnSettings.html":'\x3cdiv data-dojo-attach-event\x3d"keydown:_onColumnSettingsKeyDown"\x3e\n    \x3cdiv class\x3d"sizeGuideContainer"\x3e\n        \x3cdiv class\x3d"sizeGuide qa-size-guide" data-dojo-attach-point\x3d"sizeGuide" aria-role\x3d"slider" aria-valuemin\x3d"6" aria-valuemax\x3d"800"\x3e\n            \x3cdiv class\x3d"sizePosition qa-size-guide__size-position" data-dojo-attach-point\x3d"sizePosition"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"columnSizeScroller" data-dojo-attach-point\x3d"columnSizeForm" data-dojo-type\x3d"dijit/form/Form"\x3e\n        \x3ctable class\x3d"tableGroup"\x3e\n            \x3ctbody\x3e\n            \x3ctr\x3e\n                \x3cth class\x3d"heading"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"labelWrapText"\x3e${nls.labelWrapText}\x3c/label\x3e\n                \x3c/th\x3e\n                \x3ctd\x3e\n                    \x3cselect data-dojo-attach-point\x3d"selectWrapText" data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\n                        \x3coption value\x3d"${columnHeaderWrapping.NO_WRAP}"\x3e${nls.optionNoWrap}\x3c/option\x3e\n                        \x3coption value\x3d"${columnHeaderWrapping.WRAP_2_LINES}"\x3e${nls.option2Lines}\x3c/option\x3e\n                        \x3coption value\x3d"${columnHeaderWrapping.WRAP_3_LINES}"\x3e${nls.option3Lines}\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cspan class\x3d"pixelsLabel" style\x3d"visibility: hidden"\x3e${nls.labelPixels}\x3c/span\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n        \x3ctable class\x3d"tableGroup"\x3e\n            \x3ctbody\x3e\n            \x3ctr\x3e\n                \x3cth class\x3d"heading"\x3e\n                    \x3clabel data-dojo-attach-point\x3d"labelDefaultColumnSize"\x3e${nls.labelNormal}\x3c/label\x3e\n                \x3c/th\x3e\n                \x3ctd\x3e\n                    \x3cinput data-dojo-attach-point\x3d"textBoxDefaultColumnSize"\n                           data-dojo-type\x3d"dijit/form/NumberTextBox"\n                           data-dojo-props\x3d"\n                               required: true,\n                               pattern: \'^[0-9]*\',\n                               constraints: {\n                                   min: ${minColumnWidth},\n                                   max: ${maxColumnWidth}\n                               },\n                               rangeMessage: \'${nls.valueRange}\'"\x3e\n                    \x3cspan class\x3d"pixelsLabel"\x3e${nls.labelPixels}\x3c/span\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"buttonOk"\n               data-dojo-type\x3d"dijit/form/Button"\n               data-dojo-attach-event\x3d"click: _onButtonOkClick"\n               data-dojo-props\x3d"label: \'${nls.buttonOk}\'"\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonCancel"\n               data-dojo-type\x3d"dijit/form/Button"\n               data-dojo-attach-event\x3d"click: _onButtonCancelClick"\n               data-dojo-props\x3d"label: \'${nls.buttonCancel}\'"\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonResetToDefault"\n               data-dojo-type\x3d"dijit/form/Button"\n               data-dojo-attach-event\x3d"click: _onButtonResetToDefaultClick"\n               data-dojo-props\x3d"label: \'${nls.buttonResetToDefault}\'"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/Process.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"-1"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"processContainer"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"divPleaseWait"\x3e\n        \x3cspan data-dojo-type\x3d"anaplan/widgets/PleaseWait" data-dojo-attach-point\x3d"pleaseWait"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"divParameters"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"divProgress" style\x3d"display: none;"\x3e\n        \x3cspan data-dojo-attach-point\x3d"textCurrentStep"\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" data-dojo-attach-point\x3d"progressBar"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/QuickFilter.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon closeIcon" data-dojo-attach-point\x3d"closeButton" data-dojo-attach-event\x3d"onclick:onClose"\x3e\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon helpIcon" data-dojo-attach-point\x3d"helpButton"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"title" data-dojo-attach-point\x3d"title"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"instructions" data-dojo-attach-point\x3d"instructions"\x3e${instructions}\x3c/div\x3e\n    \x3cdiv class\x3d"filterTab"\x3e\n    \x3cdiv class\x3d"filterConditions"\x3e\n        \x3ctable\x3e\n            \x3ctbody data-dojo-attach-point\x3d"containerNode"\x3e\n            \x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons" data-dojo-attach-point\x3d"buttonsContainer"\x3e\n        \x3cspan data-dojo-attach-point\x3d"busyIndicator" class\x3d"indicator busyIndicator"\x3e\x3c/span\x3e\n        \x3cinput type\x3d"button" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-point\x3d"applyButton" data-dojo-attach-event\x3d"onClick:_onApplyButtonClick" label\x3d"${labelApply}"\x3e\x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/StaticText.html":'\x3cdiv class\x3d"dijitReset dijitInline ${baseClass}" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"valueContainer" data-dojo-attach-point\x3d"valueContainer"\x3e \x3c/div\x3e\n    \x3cdiv class\x3d"inputContainer" data-dojo-attach-point\x3d"inputContainer" contenteditable\x3d"true"\x3e \x3c/div\x3e\n\x3c/div\x3e\n',"url:anaplan/templates/SelectChildrenEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel labelProperty" data-dojo-attach-point\x3d"labelProperty"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"propertiesFilteringSelect" data-dojo-attach-event\x3d"onChange:_onChange" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelFilterProperty"\x3e\x3c/label\x3e\n        \x3cdiv style\x3d"float: right;" data-dojo-attach-point\x3d"filterPropertyDomNode" tabIndex\x3d"2"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ImportDefinitionModuleMapping.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\x3cdiv class\x3d"wrapper"\x3e\n\x3ctable\x3e\n\t\x3ctr data-dojo-attach-point\x3d"fixedContent"\x3e\n\t\t\x3ctd\x3e\n\t\t\t\x3clabel data-dojo-attach-point\x3d"unmappedDimensionsError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\x3clabel data-dojo-attach-point\x3d"noValueColumnError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\x3clabel data-dojo-attach-point\x3d"duplicateColumnsError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n\t\t\t\x3clabel data-dojo-attach-point\x3d"singleHeaderRowSourceError" class\x3d"validationError"\tstyle\x3d"display: none;"\x3e\x3c/label\x3e \x3cbr /\x3e\n\t\t\x3ctable class\x3d"mappingsTable"\x3e\n\t\t\t\x3ctbody data-dojo-attach-point\x3d"dimensionMappings"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3cth data-dojo-attach-point\x3d"sourceLabel" class\x3dsourceHeader\x3e\x3c/th\x3e\n\t\t\t\t\t\x3cth data-dojo-attach-point\x3d"targetLabel" class\x3d"targetHeader"\x3e\x3c/th\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\x3c/table\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd\x3e\n            \x3cdiv class\x3d"mappingSection mappingMappingSection"\x3e\n                \x3cdiv class\x3d"replacedMapping" style\x3d"padding-5px"\x3e\n                    \x3cdiv class\x3d"selectorSpacing"\x3e\n                        \x26nbsp;\n                        \x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n                               data-dojo-attach-point\x3d"clearItemsRadioButton"\n                               data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                               type\x3d"radio" value\x3d"CLEAR_ITEMS" /\x3e\n                        \x3clabel data-dojo-attach-point\x3d"clearItemsRadioButtonLabel"\x3e\x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"selectorSpacing"\x3e\n                        \x26nbsp;\n                        \x3cinput data-dojo-type\x3d"dijit/form/RadioButton"\n                               data-dojo-attach-point\x3d"replaceItemsRadioButton"\n                               data-dojo-attach-event\x3d"onChange:_onRadioButtonChange,onKeyDown:_onRadioButtonChange"\n                               type\x3d"radio" value\x3d"REPLACE_ITEMS" /\x3e\n                        \x3clabel data-dojo-attach-point\x3d"replaceItemsRadioButtonLabel"\x3e\x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"valueSelectionQuestion" style\x3d"visibility: hidden; position: absolute; bottom: 6px;"\x3e\n                    \x3cdiv class\x3d"dataValuesFromLabel" data-dojo-attach-point\x3d"dataValuesFromLabel"\x3e\x3c/div\x3e\n                    \x3cdiv class\x3d"singleColumnValueSelectContainer" data-dojo-attach-point\x3d"singleColumnValueSelectContainer"\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect"\n                            data-dojo-attach-point\x3d"singleColumnValueSelect"\n                            data-dojo-attach-event\x3d"onChange:_onSingleColumnValueSelectChange"\n                            required\x3d"true" autocomplete\x3d"true" hasDownArrow\x3d"true"\n                            searchAttr\x3d"label" /\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\x3cdiv class\x3d"previewPane" data-dojo-attach-point\x3d"previewPane"\n\t\t\t\tdata-dojo-type\x3d"dijit/layout/ContentPane"\x3e\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e\n\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\n\t\t\t\tclass\x3d"dijitOffScreen"\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:anaplan/templates/ButtonStyles.html":'\x3cdiv class\x3d\'${baseClass}\'\x3e\n    \x3cul class\x3d"radiobutton-list"\x3e\n        \x3cli\x3e\n            \x3cinput type\x3d"radio"\n                   id\x3d"${id}-radioPrimary"\n                   name\x3d"styles"\n                   data-dojo-type\x3d"dijit/form/RadioButton"\n                   data-dojo-attach-point\x3d"primaryRadioButton"\n                   data-dojo-attach-event\x3d"onChange:_onPrimaryRadioButtonChange"\n                   tabindex\x3d"0"\x3e\n            \x3cdiv class\x3d"dijitContainer dashboardWidget dashboardWidget-BUTTON dijitLayoutContainer"\x3e\n                \x3cdiv class\x3d"customWidth primary-button dashboardButton"\x3e\n                    \x3cinput type\x3d"button"\n                        data-dojo-type\x3d"dijit/form/Button"\n                        data-dojo-props\x3d"label: \'${labelPrimary}\'"\n                        data-dojo-attach-event\x3d"click:_setPrimaryRadioButton"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            \x3cinput type\x3d"radio"\n                   id\x3d"${id}-radioDefault"\n                   name\x3d"styles"\n                   data-dojo-type\x3d"dijit/form/RadioButton"\n                   data-dojo-attach-point\x3d"defaultRadioButton"\n                   data-dojo-attach-event\x3d"onChange:_onDefaultRadioButtonChange"\n                   tabindex\x3d"0"\x3e\n            \x3cdiv class\x3d"dijitContainer dashboardWidget dashboardWidget-BUTTON dijitLayoutContainer"\x3e\n                \x3cdiv class\x3d"customWidth dashboardButton"\x3e\n                    \x3cinput type\x3d"button"\n                       data-dojo-type\x3d"dijit/form/Button"\n                       data-dojo-props\x3d"label: \'${labelDefault}\'"\n                       data-dojo-attach-event\x3d"click:_setDefaultRadioButton"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            \x3cinput type\x3d"radio"\n                   id\x3d"${id}-radioLink"\n                   name\x3d"styles"\n                   data-dojo-type\x3d"dijit/form/RadioButton"\n                   data-dojo-attach-point\x3d"linkRadioButton"\n                   data-dojo-attach-event\x3d"onChange:_onLinkRadioButtonChange"\n                   tabindex\x3d"0"\x3e\n            \x3cdiv class\x3d"dijitContainer dashboardWidget dashboardWidget-BUTTON dijitLayoutContainer"\x3e\n                \x3cdiv class\x3d"customWidth hyperlink dashboardButton"\x3e\n                    \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonDefault"\n                       data-dojo-type\x3d"dijit/form/Button"\n                       data-dojo-props\x3d"label: \'${labelLink}\'"\n                       data-dojo-attach-event\x3d"click:_setLinkRadioButton"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e',
"url:anaplan/templates/HeightAndWidth.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable\x3e\n        \x3ctbody\x3e\n            \x3ctr class\x3d"heightAndWidth2"\x3e\n                \x3ctd colspan\x3d"7"\x3e\n                    \x3ch3\x3e${labelUnits}\x3c/h3\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"heightAndWidth2"\x3e\n                \x3ctd colspan\x3d"3"\x3e\n                    \x3cinput type\x3d"radio"\n                           id\x3d"${id}-radioUnitsPercentage"\n                           name\x3d"radioUnits"\n                           data-dojo-type\x3d"dijit/form/RadioButton"\n                           data-dojo-attach-point\x3d"radioUnitsPercentage"\n                           data-dojo-attach-event\x3d"onChange:_onRadioUnitsPercentageChange"\x3e\n                    \x3clabel class\x3d"radioLabel" for\x3d"${id}-radioUnitsPercentage"\x3e${labelPercentage}\x3c/label\x3e\n                \x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"3"\x3e\n                    \x3cinput type\x3d"radio"\n                           id\x3d"${id}-radioUnitsPixels"\n                           name\x3d"radioUnits"\n                           data-dojo-type\x3d"dijit/form/RadioButton"\n                           data-dojo-attach-point\x3d"radioUnitsPixels"\n                           data-dojo-attach-event\x3d"onChange:_onRadioUnitsPixelsChange"\x3e\n                    \x3clabel class\x3d"radioLabel" for\x3d"${id}-radioUnitsPixels"\x3e${labelPixels}\x3c/label\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"heightAndWidth2" style\x3d"visibility:hidden"\x3e\n                \x3c!-- workaround to keep row width consistent when toggle units/pixels --\x3e\n                \x3c!-- need to keep total number of columns same as all others and use label which forces width each column --\x3e\n                \x3ctd\x3e\x3clabel\x3e${labelPercentage}\x3c/label\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer" colspan\x3d"3"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3clabel\x3e${labelPercentage}\x3c/label\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer" colspan\x3d"2"\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd colspan\x3d"3" data-dojo-attach-point\x3d"labelHeight"\x3e\x3ch3 data-dojo-attach-point\x3d"headerHeight"\x3e\x3c/h3\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"3" data-dojo-attach-point\x3d"labelWidth"\x3e\x3ch3 data-dojo-attach-point\x3d"headerWidth"\x3e\x3c/h3\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"heightAndWidth2 unitsPixels"\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputPixelHeight" data-dojo-attach-point\x3d"labelPixelHeight"\x3e${labelPixels}\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:1440,places:0}" maxLength\x3d4 id\x3d"${id}-inputPixelHeight"\n                           data-dojo-attach-point\x3d"inputPixelHeight"\n                           data-dojo-attach-event\x3d"onChange:_validate2"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan\x3epx\x3c/span\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputPixelWidth" data-dojo-attach-point\x3d"labelPixelWidth"\x3e${labelPixels}\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:2560,places:0}" maxLength\x3d4 id\x3d"${id}-inputPixelWidth"\n                           data-dojo-attach-point\x3d"inputPixelWidth"\n                           data-dojo-attach-event\x3d"onChange:_validate2"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan\x3epx\x3c/span\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"unitsPercentage"\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputHeight" data-dojo-attach-point\x3d"labelHeight"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:499,places:0}" maxLength\x3d3 id\x3d"${id}-inputHeight"\n                           data-dojo-attach-point\x3d"inputHeight"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsHeight"\x3e\x3c/span\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputWidth" data-dojo-attach-point\x3d"labelWidth"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:499,places:0}" maxLength\x3d3 id\x3d"${id}-inputWidth"\n                           data-dojo-attach-point\x3d"inputWidth"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsWidth"\x3e\x3c/span\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"unitsPercentage"\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputHeightMinimum" data-dojo-attach-point\x3d"labelHeightMinimum"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:1440,places:0}" maxLength\x3d4 id\x3d"${id}-inputHeightMinimum"\n                           data-dojo-attach-point\x3d"inputHeightMinimum"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsHeightMinimum"\x3e\x3c/span\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputWidthMinimum" data-dojo-attach-point\x3d"labelWidthMinimum"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:2560,places:0}" maxLength\x3d4 id\x3d"${id}-inputWidthMinimum"\n                           data-dojo-attach-point\x3d"inputWidthMinimum"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsWidthMinimum"\x3e\x3c/span\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr class\x3d"unitsPercentage"\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputHeightMaximum" data-dojo-attach-point\x3d"labelHeightMaximum"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:1440,places:0}" maxLength\x3d4 id\x3d"${id}-inputHeightMaximum"\n                           data-dojo-attach-point\x3d"inputHeightMaximum"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsHeightMaximum"\x3e\x3c/span\x3e\x3c/td\x3e\n                \x3ctd class\x3d"tableSpacer"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3clabel for\x3d"${id}-inputWidthMaximum" data-dojo-attach-point\x3d"labelWidthMaximum"\x3e\x3c/label\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cinput data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true"\n                           constraints\x3d"{min:-1,max:2560,places:0}" maxLength\x3d4 id\x3d"${id}-inputWidthMaximum"\n                           data-dojo-attach-point\x3d"inputWidthMaximum"\n                           data-dojo-attach-event\x3d"onChange:_validate"\x3e\x3c/td\x3e\n                \x3ctd\x3e\x3cspan data-dojo-attach-point\x3d"unitsWidthMaximum"\x3e\x3c/span\x3e\x3c/td\x3e\n           \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\x3c/div\x3e',
"url:anaplan/templates/dashboard/DesignControlsHeader.html":'\x3cdiv\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon closeIcon" data-dojo-attach-point\x3d"closeButton" data-dojo-attach-event\x3d"onclick:onCloseButtonClick"\x3e\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"anaplanIcon helpIcon" data-dojo-attach-point\x3d"helpButton"\x3e\x3c/a\x3e\n\x3c/div\x3e',"url:anaplan/templates/DeleteBySelectionEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelHierarchy"\x3e\x3c/label\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"selectHierarchy"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelFilterLineItem"\x3e\x3c/label\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"selectFilterLineItem"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3cdiv class\x3d"actionEditorError" data-dojo-attach-point\x3d"divActionError"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/Widgets/InlineSearch.html":'\x3cspan class\x3d"${baseClass}" role\x3d"presentation" data-dojo-attach-event\x3d"onkeydown:_onKeyDown" tabindex\x3d"-1"\x3e\n\t\x3cspan class\x3d"table"\x3e\n        \x3cspan class\x3d"table-row"\x3e\n            \x3cspan class\x3d"table-cell"\x3e\x3cspan class\x3d"icon anaplanEditorIcon anaplanEditorIconSearch" data-dojo-attach-event\x3d"onclick:_onSearchButtonClick"\x3e\x3c/span\x3e\x3c/span\x3e\n    \t\t\x3cspan class\x3d"table-cell"\x3e\x3cinput type\x3d"text" maxlength\x3d"60" placeholder\x3d\'${placeholder}\' data-dojo-attach-point\x3d"tbSearch" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-event\x3d"change:_onSearchChange" data-dojo-props\x3d"intermediateChanges:true,trim:true,disabled:true"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"table-cell"\x3e\x3cspan class\x3d"icon searchBoxClearButtonCell" data-dojo-attach-event\x3d"onclick:_onClearButtonClick" data-dojo-attach-point\x3d"btnClear" style\x3d"visibility:hidden"\x3e\x3c/span\x3e\x3c/span\x3e\n        \x3c/span\x3e\n\t\x3c/span\x3e\n\x3c/span\x3e',
"url:anaplan/templates/SearchBox.html":'\x3cdiv class\x3d"${baseClass}" data-element-id\x3d"searchBox"\x3e\n    \x3cinput data-dojo-attach-point\x3d"textBox"\n           data-dojo-type\x3d"dijit/form/TextBox"\n           data-dojo-attach-event\x3d"keydown:_onTextBoxKeyDown"\n           data-element-id\x3d"textBox"\n           class\x3d"${baseClass}TextBox"\x3e\n    \x3cinput data-dojo-attach-point\x3d"searchButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:_fireOnSearch"\n           data-element-id\x3d"searchButton"\n           type\x3d"button"\n           class\x3d"${baseClass}SearchButton"\x3e\n\x3c/div\x3e',
"url:anaplan/templates/PivotComponentDropArea.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"${baseClass}InsertionPoint" data-dojo-attach-point\x3d"insertionPoint" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}Content" data-dojo-attach-point\x3d"dropNode"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}DropHere" data-dojo-attach-point\x3d"dropHere"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:anaplan/templates/UnmappedDimensionImportOptions.html":'\x3cdiv class\x3d"${baseClass} wrapper" style\x3d"display: none;"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"promptOptionWrapper" style\x3d"display: none;"\x3e\n        \x3clabel data-dojo-attach-point\x3d"promptOptionLabel"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"fixedOptionWrapper" style\x3d"display: none;"\x3e\n        \x3clabel data-dojo-attach-point\x3d"fixedOptionLabel"\x3e\x3c/label\x3e\n        \x3clabel data-dojo-attach-point\x3d"fixedOptionError" class\x3d"validationError" style\x3d"display: none;"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"ignoreOptionWrapper" style\x3d"display: none;"\x3e\n        \x3clabel data-dojo-attach-point\x3d"ignoreOptionLabel"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"unmappedOptionWrapper" style\x3d"display: none;"\x3e\n        \x3clabel data-dojo-attach-point\x3d"unmappedOptionLabel"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/actions/_ButtonPanel.html":'\x3cdiv class\x3d"${baseClass} buttons" data-element-id\x3d"buttonPanel"\x3e\n    \x3cinput data-dojo-attach-point\x3d"okButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onOk"\n           data-element-id\x3d"okButton"\n           class\x3d"primary-button"\n           type\x3d"button"\x3e\n    \x3cinput data-dojo-attach-point\x3d"cancelButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onCancel"\n           data-element-id\x3d"cancelButton"\n           type\x3d"button"\x3e\n\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:anaplan/templates/SelectLevels.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"levelSelectorContainer" data-dojo-attach-point\x3d"levelSelectorContainer"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button"\n               class\x3d"primary-button"\n               data-dojo-type\x3d"dijit/form/Button"\n               data-dojo-attach-point\x3d"buttonOk"\n               data-dojo-attach-event\x3d"click:_submit"\x3e\n        \x3cinput type\x3d"button"\n               data-dojo-type\x3d"dijit/form/Button"\n               data-dojo-attach-point\x3d"buttonCancel"\n               data-dojo-attach-event\x3d"click:onCancel"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/BulkDeleteEntitiesEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel deleteFromLabel" data-dojo-attach-point\x3d"labelHierarchy"\x3e\x3c/label\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"hierarchyFilteringSelect" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelDeletionMode"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"deletionModeFilteringSelect" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/PageSelectorOptions.html":'\x3cdiv class\x3d"${baseClass}" style\x3d"width:auto;"\x3e\n    \x3cdiv class\x3d"showModuleName"\x3e\n        \x3cinput data-dojo-attach-point\x3d"showModuleNameCheckBox" id\x3d"${id}-showModuleName" name\x3d"showModuleName"\n               data-dojo-type\x3d"dijit/form/CheckBox"\x3e\n        \x3c/input\x3e\n        \x3clabel data-dojo-attach-point\x3d"showModuleNameLabel" for\x3d"${id}-showModuleName"\x3e\n        \x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"divPageSelectorArea" class\x3d"divPageSelectorArea" width\x3d"100%"\x3e\n        \x3cdiv class\x3d"synchronisedPagingTitlePage" data-dojo-attach-point\x3d"spanList"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"filterContextArea" class\x3d"filterContextArea"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/SetPropertyAndSynchroniseHierarchyEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelSelectTargetHierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"targetHierarchiesFilteringSelect" data-dojo-attach-event\x3d"onChange:_onTargetHierarchiesChange" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelSelectNewPropertyHierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"newPropertyHierarchyFilteringSelect" tabIndex\x3d"3" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelSelectSource0Hierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"source0HierarchyFilteringSelect" tabIndex\x3d"4" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelSelectSource1Hierarchy"\x3e\n        \x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"source1HierarchyFilteringSelect" tabIndex\x3d"5" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/dashboard/DesignControlsEmpty.html":'\x3cdiv\x3e\n    \x3ch2 data-dojo-attach-point\x3d"heading"\x3eNothing selected\x3c/h2\x3e\n    \x3cp data-dojo-attach-point\x3d"bodyText"\x3eClick on a dashboard element on the right to view and edit its properties.\x3c/p\x3e\n\x3c/div\x3e',"url:anaplan/templates/RestoreToLockedDialog.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"_restoreForm" data-dojo-type\x3d"dijit/form/Form"\x3e\n        \x3cdiv id\x3d"serialNumberSelector"\x3e\n            \x3clabel class\x3d"dijitInline" id\x3d"serialNumberSelectorLabel" data-dojo-attach-point\x3d"_serialNumberSelectorLabel"\x3e\x3c/label\x3e\n            \x3cinput data-dojo-attach-point\x3d"_serialNumberTextBox" class\x3d"dijitInline" required\x3d"true"\n                   data-dojo-type\x3d"dijit/form/NumberTextBox"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"_restoreChoiceContainer"\x3e\n            \x3cbr\x3e\n            \x3cdiv class\x3d"restoreBehaviourContainer"\x3e\n                \x3ch3\x3eRestore Behaviour\x3c/h3\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"restoreBehaviour"\x3e\n                \x3cdiv class\x3d"restoreBehaviourContainer"\x3e\n                    \x3cdiv class\x3d"restoreBehaviourLabelContainer"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"_restoreToChoiceLockedLabel" class\x3d"unselected"\x3e\n                            \x3cinput type\x3d"radio" name\x3d"restoreTo" data-dojo-attach-point\x3d"_restoreToChoiceLocked" data-dojo-type\x3d"dijit/form/RadioButton" hidden value\x3d"locked"/\x3e\n                            \x3cspan data-dojo-attach-point\x3d"_restoreToChoiceLockedIcon" class\x3d"anaplanIcon anaplanIconLockedLARGE qa-icon-locked"\x3e\x3c/span\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"description"\x3e\n                        \x3cstrong\x3eLocked\x3c/strong\x3e\n                        \x3cbr\x3e\n                        \x3cspan\x3eLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\n                            enim ad minimveniam, quis nostrud exercitation ullamco laboris\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"restoreBehaviourContainer"\x3e\n                    \x3cdiv class\x3d"restoreBehaviourLabelContainer"\x3e\n                        \x3clabel data-dojo-attach-point\x3d"_restoreToChoiceEditableLabel" class\x3d"selected"\x3e\n                            \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"_restoreToChoiceEditable" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"restoreTo" hidden checked\x3d"checked" value\x3d"editable" /\x3e\n                            \x3cspan data-dojo-attach-point\x3d"_restoreToChoiceEditableIcon" class\x3d"anaplanIcon anaplanIconStandardLARGE_SELECTED qa-icon-editable"\x3e\x3c/span\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"description"\x3e\n                        \x3cstrong\x3eEditable\x3c/strong\x3e\n                        \x3cbr\x3e\n                        \x3cspan\x3eLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n                            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\n                            enim ad minimveniam, quis nostrud exercitation ullamco laboris\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"footer buttons"\x3e\n            \x3cinput type\x3d"button" class\x3d"primary-button" data-dojo-attach-point\x3d"_serialNumberRestoreButton"\n                   data-dojo-type\x3d"anaplan/widgets/Button"/\x3e\n            \x3cinput type\x3d"button" data-dojo-attach-point\x3d"_cancelButton" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n                   data-dojo-type\x3d"anaplan/widgets/Button"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ManageImportSources/EditUploadedText.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"fixedContent"\x3e\n        \x3cdiv class\x3d"fixed-content-left"\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel for\x3d"${id}_encodingSelect"\n                       class\x3d"label"\n                       data-dojo-attach-point\x3d"encodingLabel"\x3e${lblEncoding}\x3c/label\x3e\n                \x3cselect id\x3d"${id}_encodingSelect"\n                        data-dojo-type\x3d"dijit/form/FilteringSelect"\n                        data-dojo-attach-point\x3d"encodingSelect"\n                        searchAttr\x3d"label"\n                        required\x3d"true"\n                        highlightMatch\x3d"first"\n                        data-dojo-attach-event\x3d"onChange:_onChange"\x3e\n                \x3c/select\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel class\x3d"label"\x3e${lblColumnSeparators}\x3c/label\x3e\n                \x3cul class\x3d"checkbox-list"\x3e\n                    \x3cli\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"tabCheckBox"  data-dojo-attach-event\x3d"onClick:_onChange"/\x3e\n                        \x3clabel class\x3d"checkbox-label"\x3eTab\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"commaCheckBox"  data-dojo-attach-event\x3d"onClick:_onChange"/\x3e\n                        \x3clabel class\x3d"checkbox-label"\x3eComma\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"semicolonCheckBox"  data-dojo-attach-event\x3d"onClick:_onChange"/\x3e\n                        \x3clabel class\x3d"checkbox-label"\x3eSemicolon\x3c/label\x3e\n                    \x3c/li\x3e\n                    \x3cli\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"otherCheckBox"  data-dojo-attach-event\x3d"onClick:_onChange"/\x3e\n                        \x3clabel class\x3d"checkbox-label"\x3eOther: \x3c/label\x3e\n                        \x3cinput class\x3d"other-textbox" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"otherTextBox" data-dojo-attach-event\x3d"onKeyUp:_onOtherTextBoxChange" id\x3d"otherTextBox"/\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\t    \x3cdiv class\x3d"fixed-content-right"\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"textDelimiterLabel"\x3e${lblTextDelimiter}\x3c/label\x3e\n                \x3cselect data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"textDelimiterSelect" required\x3d"true" highlightMatch\x3d"first" data-dojo-attach-event\x3d"onChange:_onChange"\x3e\n                    \x3coption value\x3d"_" selected\x3eNone\x3c/option\x3e\n                    \x3coption value\x3d"\x26quot;"\x3e\x26quot;\x3c/option\x3e\n                    \x3coption value\x3d"\'"\x3e\'\x3c/option\x3e\n                \x3c/select\x3e\n             \x3c/div\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"decimalSeparatorLabel" for\x3d"${id}_decimalSeparatorSelect"\x3e${lblDecimalSeparator}\x3c/label\x3e\n                \x3cselect data-dojo-type\x3d"dijit/form/FilteringSelect"\n                        id\x3d"${id}_decimalSeparatorSelect"\n                        data-dojo-attach-point\x3d"decimalSeparatorSelect"\n                        required\x3d"true" highlightMatch\x3d"first"\n                        data-dojo-attach-event\x3d"onChange:_onChange"\x3e\n                    \x3coption value\x3d"dot" selected\x3eDot\x3c/option\x3e\n                    \x3coption value\x3d"comma"\x3eComma\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"headerRowLabel" for\x3d"${id}_headerRowSpinner"\x3e${lblHeaderRow}\x3c/label\x3e\n                \x3cinput class\x3d"spinner" data-dojo-type\x3d"dijit/form/NumberSpinner"\n                       data-dojo-attach-point\x3d"headerRowSpinner"\n                       intermediateChanges\x3d"true"\n                       id\x3d"${id}_headerRowSpinner"\n                       constraints\x3d"{min:0,fractional:false}"\n                       data-dojo-attach-event\x3d"onChange:_onHeaderRowChange"/\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"firstDataRowLabel" for\x3d"${id}_firstDataRowSpinner"\x3e${lblFirstDataRow}\x3c/label\x3e\n                \x3cinput class\x3d"spinner"\n                       id\x3d"${id}_firstDataRowSpinner"\n                       data-dojo-type\x3d"dijit/form/NumberSpinner"\n                       data-dojo-attach-point\x3d"firstDataRowSpinner"\n                       intermediateChanges\x3d"true"\n                       constraints\x3d"{min:1,fractional:false}"\n                       data-dojo-attach-event\x3d"onChange:_onFirstDataRowChange"/\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"sharingOptionReadOnlyDiv"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"sharingOptionReadOnlyLabel"\x3e\x26nbsp;\x3c/label\x3e\n                \x3cspan\x3e\n                    \x3cinput type\x3d"hidden" disabled/\x3e\n                    \x3clabel data-dojo-attach-point\x3d"sharingOptionReadOnly"\x3e\x26nbsp;\x3c/label\x3e\n                \x3c/span\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"sharingOptionSelectDiv"\x3e\n                \x3clabel class\x3d"label" data-dojo-attach-point\x3d"sharingOptionLabel"\x3e\x26nbsp;\x3c/label\x3e\n                \x3cselect id\x3d"${id}_sharingOptionSelect"\n                        disabled\x3d"true"\n                        data-dojo-type\x3d"dijit/form/FilteringSelect"\n                        data-dojo-attach-point\x3d"sharingOptionSelect"\n                        searchAttr\x3d"label"\n                        required\x3d"true"\n                        highlightMatch\x3d"first"\x3e\n                \x3c/select\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n\t    \x3cdiv class\x3d"buttons"\x3e\n\t        \x3cinput type\x3d"button"\n                   class\x3d"primary-button"\n                   data-dojo-attach-point\x3d"nextButton"\n                   label\x3d"${lblNext}"\n                   data-dojo-attach-event\x3d"onClick:_onNextButtonClick"\n                   data-dojo-type\x3d"anaplan/widgets/Button" style\x3d"display: none;" /\x3e\n\t        \x3cinput type\x3d"button"\n                   class\x3d"primary-button"\n                   data-dojo-attach-point\x3d"saveButton"\n                   label\x3d"${lblSave}"\n                   data-dojo-attach-event\x3d"onClick:_onSaveButtonClick"\n                   data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n\t        \x3cinput type\x3d"button"\n                   data-dojo-attach-point\x3d"cancelButton"\n                   label\x3d"${lblCancel}"\n                   data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n                   data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n\t    \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"previewPane" data-dojo-attach-point\x3d"previewPane" data-dojo-type\x3d"dijit/layout/ContentPane"/\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/DataType/TimeEntityItem.html":'\x3cdiv class\x3d"dataTypeField"\x3e\n    \x3cdiv class\x3d"dataTypeRadioLeft"\x3e\n        \x3cinput  data-dojo-type\x3d"dijit/form/RadioButton"\n                data-dojo-attach-point\x3d"radio"\n                type\x3d"radio"\n                id\x3d"timeScale_${id}"\n                value\x3d"${id}" name\x3d"timeScale"/\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dataTypeRadioLabelRight"\x3e\n        \x3clabel class\x3d"${disabled}" for\x3d"timeScale_${id}"\x3e${label}\x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:anaplan/templates/ManageImportSources/Edit.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"filterBox"\x3e\n        \x3clabel class\x3d"label"\n               for\x3d"${id}_filterTextBox"\n               data-dojo-attach-point\x3d"filterTextBoxLabel"\x3e${lblFilter}\x3c/label\x3e\n        \x3cbr /\x3e\n        \x3cinput type\x3d"textarea"\n               id\x3d"${id}_filterTextBox"\n               class\x3d"filterTextBox"\n               data-dojo-type\x3d"anaplan/widgets/SimpleTextarea"\n               data-dojo-attach-point\x3d"filterTextBox" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"sourceFields"\x3e\n        \x3clabel class\x3d"label" data-dojo-attach-point\x3d"sourceFieldsLabel"\x3e${lblSource}\x3c/label\x3e\n        \x3cbr /\x3e\n        \x3cdiv data-dojo-attach-point\x3d"sourceFieldTreeNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"operators"\x3e\n        \x3clabel class\x3d"label" data-dojo-attach-point\x3d"operatorsLabel"\x3eOperators:\x3c/label\x3e\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"operatorsBox" data-dojo-attach-event\x3d"onclick:_onOperatorClick"\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_AND"\x3eAND\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_OR"\x3eOR\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_NOT"\x3eNOT\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_EQUALS"\x3e\x3d\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_NOT_EQUALS"\x3e!\x3d\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_LESS_THAN"\x3e\x26lt;\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_GREATER_THAN"\x3e\x26gt;\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_LESS_THAN_OR_EQUAL_TO"\x3e\x26lt;\x3d\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_GREATER_THAN_OR_EQUAL_TO"\x3e\x26gt;\x3d\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_LIKE"\x3eLIKE\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_IN"\x3eIN\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_NOT_IN"\x3eNOT IN\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_INCLUDES"\x3eINCLUDES\x3c/div\x3e\n            \x3cdiv class\x3d"operatorButton" id\x3d"Op_EXCLUDES"\x3eEXCLUDES\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblSave}"\n               data-dojo-attach-point\x3d"saveButton"\n               data-dojo-attach-event\x3d"onClick:_onSaveButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblCancel}"\n               data-dojo-attach-point\x3d"cancelButton"\n               data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/Gridlet.html":'\x3cdiv class\x3d"${baseClass} ${themeClass}" waiRole\x3d"presentation" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv style\x3d"position:relative" data-dojo-attach-point\x3d"_outerwrapper"\x3e\n        \x3cdiv class\x3d"${baseClass}ScrollBars" style\x3d"overflow: hidden; font-size: 9px;" data-dojo-attach-event\x3d"scroll:_scrollEventHandler" data-dojo-attach-point\x3d"_node"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_scrollNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv style\x3d"overflow: hidden; position: absolute; left: 0px; top: 0px; display: none;" data-dojo-attach-point\x3d"_wrapper"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_tableDiv" style\x3d"position: absolute; top: 0; right: 0; bottom: 0; left: 0;"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv style\x3d"overflow: hidden; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;" data-dojo-attach-point\x3d"_waitMessage"\x3e\x3cdiv class\x3d"loadingMessage"\x3e\x3cspan class\x3d"loadingMessageLabel"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/Widgets/InfoDialogActionBar.html":'\x3cdiv class\x3d\'infoDialog buttons\' data-dojo-attach-point\x3d"actionBarNode"\x3e\n    \x3cbutton type\x3d"submit" data-dojo-type\x3d\'dijit/form/Button\' data-dojo-attach-point\x3d"actionButton"\x3e\x3c/button\x3e\n\x3c/div\x3e\n',"url:anaplan/templates/Summary.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv\x3e\n        \x3cdiv class\x3d"summaryHelpContainer" role\x3d"presentation"\x3e\n            \x3cspan data-dojo-attach-point\x3d"helpSummary"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"summaryContainer" role\x3d"presentation"\x3e\n            \x3clabel data-dojo-attach-point\x3d"labelSummaryMethod"\x3e\n                Summary\n            \x3c/label\x3e\n            \x3c!-- FF insists on \'onchange\' event as opposed to \'onChange\'  --\x3e\n            \x3cselect class\x3d"qa-summary" data-dojo-attach-point\x3d"selectSummaryMethod" data-dojo-attach-event\x3d"onchange:_onSelectSummaryMethodChange"\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"summaryContainer" role\x3d"presentation"\x3e\n            \x3clabel data-dojo-attach-point\x3d"labelTimeSummaryMethod"\x3e\n                Time Summary\n            \x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"selectTimeSummaryMethod" data-dojo-attach-event\x3d"onchange:_onSelectTimeSummaryMethodChange"\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"summaryContainer" role\x3d"presentation" data-dojo-attach-point\x3d"divRatio"\x3e\n            \x3cspan data-dojo-attach-point\x3d"labelRatio"\x3e\x3c/span\x3e\x3cselect data-dojo-attach-point\x3d"selectNumerator"\x3e\x3c/select\x3e\x3cspan style\x3d"padding-left:5px;padding-right:5px;"\x3e/\x3c/span\x3e\x3cselect data-dojo-attach-point\x3d"selectDenominator"\x3e\x3c/select\x3e\n        \x3c/div\x3e \n    \x3c/div\x3e\n    \x3cdiv class\x3d"summaryOkCancelContainer" role\x3d"presentation"\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"inputOk" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputOkClick"\x3e\n        \x3c/input\x3e\x3cinput data-dojo-attach-point\x3d"inputCancel" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputCancelClick"\x3e\n        \x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/BulkDelete.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"instructions" class\x3d"instructions"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"treeLabel" class\x3d"innerContainer treeLabelContainer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"selectionListLabel" class\x3d"innerContainer selectionListLabelContainer"\x3e\x3c/div\x3e\n    \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\n    \x3cdiv style\x3d"position: relative;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"treeContainer" class\x3d"innerContainer treeContainer"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loading" class\x3d"loadingMessage"\x3e\n                \x3cspan data-dojo-attach-point\x3d"loadingLabel" class\x3d"loadingMessageLabel"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"selectionListContainer" data-dojo-attach-event\x3d"onclick:_onSelectionListContainerClick" class\x3d"innerContainer selectionListContainer"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"buttonPanel" class\x3d"buttonPanel"\x3e\n            \x3cdiv class\x3d"vertical-button-group"\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"deleteAllButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onDeleteAllButtonClick" /\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"deleteAllLeafItemsButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onDeleteAllLeafItemsButtonClick" /\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"deleteDescendantsButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onDeleteDescendantsButtonClick" /\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"keepAllButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onKeepAllButtonClick" /\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv style\x3d"clear: both; height: 10px;"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"buttons" class\x3d"buttons"\x3e\n        \x3cdiv class\x3d"errorIndicator" data-dojo-attach-point\x3d"errorIndicator" style\x3d"display: none"\x3e\n            \x3cspan class\x3d"anaplanEditorIcon anaplanEditorIconInvalid"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"errorIndicatorText" data-dojo-attach-point\x3d"errorIndicatorText"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cinput type\x3d"button" class\x3d"primary-button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onOkButtonClick" disabled /\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ImportPrompt.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"instructions" class\x3d"instructions"\x3e\x3c/div\x3e\n    \x3ctable class\x3d"selectorTable"\x3e\n        \x3ctbody data-dojo-attach-point\x3d"selectorRows"\x3e\x3c/tbody\x3e\n    \x3c/table\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"busyIndicator" class\x3d"busyIndicator"\x3e\x3c/div\x3e\n        \x3cinput type\x3d"button" class\x3d"primary-button" data-dojo-attach-point\x3d"importButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onImportButtonClick" disabled\x3d"true"\x3e\x3c/input\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\x3e\x3c/input\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:anaplan/templates/DashboardEditor.html":'\x3cdiv class\x3d"${baseClass} actionEditorDialog openDashboardAction"\x3e\n\n    \x3ctable\x3e\n        \x3ctr\x3e\n            \x3ctd class\x3d"tableColumn"\x3e\n\n                \x3cdiv class\x3d"actionEditor dashboardEditor propertySelector" data-dojo-attach-point\x3d"propertySelector"\x3e\n\n                    \x3cdiv class\x3d"actionEditorContainer"\x3e\n\n                        \x3cdiv class\x3d"actionEditorLabel"\x3e\n                            \x3c!--\x3cspan class\x3d"actionEditorMandatory"\x3e*\x3c/span\x3e--\x3e\n                            \x3clabel class\x3d"labelDashboard" data-dojo-attach-point\x3d"labelDashboard"\x3e\x3c/label\x3e\n                        \x3c/div\x3e\n\n                        \x3cinput class\x3d"layoutDropDown w5"\n                               data-dojo-type\x3d"dijit.form.FilteringSelect"\n                               data-dojo-attach-point\x3d"dashboardsFilteringSelect"\n                               data-dojo-attach-event\x3d"onChange:_onDashboardsFilteringSelectChange"\n                               tabIndex\x3d"2"\n                               autocomplete\x3d"true"\n                               hasDownArrow\x3d"true"\n                               required\x3d"true"/\x3e\n\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"actionEditorContainer"\x3e\n\n                        \x3cdiv class\x3d"actionEditorLabel"\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelContext"\x3e\x3c/label\x3e\n                        \x3c/div\x3e\n\n                        \x3cinput class\x3d"layoutDropDown"\n                               data-dojo-type\x3d"dijit.form.FilteringSelect"\n                               data-dojo-attach-point\x3d"hierarchiesFilteringSelect"\n                               data-dojo-attach-event\x3d"onChange:_onHierarchiesFilteringSelectChange"\n                               tabIndex\x3d"3"\n                               autocomplete\x3d"true"\n                               hasDownArrow\x3d"true"\n                               required\x3d"false"/\x3e\n\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"actionEditorContainer labelHierachy"\x3e\n\n                        \x3cdiv class\x3d"actionEditorLabel"\x3e\n                            \x3clabel data-dojo-attach-point\x3d"labelHierachy"\x3e\x3c/label\x3e\n                        \x3c/div\x3e\n\n                        \x3cinput class\x3d"layoutDropDown"\n                               data-dojo-type\x3d"dijit.form.FilteringSelect"\n                               data-dojo-attach-point\x3d"hierarchyPropertiesFilteringSelect"\n                               data-dojo-attach-event\x3d"onChange:_onHierarchyPropertiesFilteringSelectChange"\n                               tabIndex\x3d"4"\n                               autocomplete\x3d"true"\n                               hasDownArrow\x3d"true"\n                               required\x3d"false"/\x3e\n\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/td\x3e\n            \x3ctd class\x3d"tableColumn"\x3e\n\n                \x3cdiv class\x3d"actionEditorDashboard w100" data-dojo-attach-point\x3d"dashboardSelector" \x3e\n                    \x3cdiv class\x3d"dashboard-jump-properties"\x3e\n                        \x3cdiv class\x3d"table-header"\x3e\n                            \x3cdiv class\x3d"label-column" data-dojo-attach-point\x3d"labelSelectedListPropertyValue"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"property-column" data-dojo-attach-point\x3d"labelDashboardToOpen"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"properties" data-dojo-attach-point\x3d"properties"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/table\x3e\n\n    \x3cdiv class\x3d"errorMessage" data-dojo-attach-point\x3d"openDashboardAlert"\x3e\n        \x3cspan class\x3d"dijitReset dijitInline dijitIcon anaplanEditorIcon anaplanEditorIconInvalid"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"error-red" data-dojo-attach-point\x3d"openDashboardAlertText"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:anaplan/templates/FastInsert.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"numberedItemCountDiv" style\x3d"display: none;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"numberedItemCountLabel"\x3e\x3c/div\x3e\n        \x3cinput class\x3d"spinner" data-dojo-attach-point\x3d"numberedItemCountInput" data-dojo-type\x3d"dijit/form/NumberSpinner" intermediateChanges\x3d"true" constraints\x3d"{min: 1, max: 1000, fractional: false}" data-dojo-attach-event\x3d"onChange:_onNumberedItemCountChange" value\x3d"1"/\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"itemNamesDiv"\x3e\n        \x3ctextarea data-dojo-attach-point\x3d"itemNamesTextArea" data-dojo-type\x3d"dijit/form/SimpleTextarea" class\x3d"itemNamesTextArea"\x3e\x3c/textarea\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessage" class\x3d"errorMessage" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"options top"\x3e\n        \x3cselect class\x3d"qa-dropdown-position" data-dojo-attach-point\x3d"positionSelect" data-dojo-attach-event\x3d"onchange:_onPositionSelectChange"\x3e\x3c/select\x3e\n        \x3cspan data-dojo-attach-point\x3d"relativeToItemName"\x3e\x3c/span\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"busyIndicator" class\x3d"busyIndicator" style\x3d"visibility: hidden;"\x3e\x3c/div\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button"\n               data-dojo-attach-point\x3d"okButton"\n               data-dojo-attach-event\x3d"onClick:_onOkButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n\n        \x3cinput type\x3d"button"\n               data-dojo-attach-point\x3d"cancelButton"\n               data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/History_Date_Range_Form.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv\x3e\n        \x3cdiv class\x3d"showHistoryDateRangeItem"\x3e\n            \x3clabel data-dojo-attach-point\x3d"cellCellHistoryFromDateLabel" for\x3d"showCellHistoryFromDate" \x3eFrom:\x3c/label\x3e\n            \x3cinput data-dojo-id\x3d"showCellHistoryFromDate" type\x3d"text" id\x3d"showCellHistoryFromDate" name\x3d"showCellHistoryFromDate"\n                   data-dojo-attach-event\x3d"onChange:validateDate"\n                   data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-point\x3d"showCellHistoryFromDate"\n                   onChange\x3d"showCellHistoryToDate.constraints.min \x3d arguments[0];" /\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"showHistoryDateRangeItem"\x3e\n            \x3clabel data-dojo-attach-point\x3d"showCellHistoryToDateLabel" for\x3d"showCellHistoryToDate" \x3eTo:\x3c/label\x3e\n            \x3cinput data-dojo-id\x3d"showCellHistoryToDate" type\x3d"text" id\x3d"showCellHistoryToDate" name\x3d"showCellHistoryToDate"\n                   data-dojo-attach-event\x3d"onChange:validateDate"\n                   data-dojo-type\x3d"dijit/form/DateTextBox"  data-dojo-attach-point\x3d"showCellHistoryToDate"\n                   onChange\x3d"showCellHistoryFromDate.constraints.max \x3d arguments[0];" /\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"buttons" class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button" class\x3d"primary-button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"click:onApplyChanges" /\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"click:onCancel"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:anaplan/templates/ImageOption.html":"\x3cdiv class\x3d'${baseClass}'\x3e\n    \x3ch3 data-dojo-attach-point\x3d'urlHeader'\x3e\x3c/h3\x3e\n    \x3c!--\x3clabel class\x3d'imageOptionLabelInitial' for\x3d'${id}-selectLineItemDropDownButton'\x3e${labelLineItem}\x3c/label\x3e--\x3e\n    \x3cdiv id\x3d'${id}-selectLineItemDropDownButton' data-dojo-attach-point\x3d'selectLineItemDropDownButton' data-dojo-type\x3d'anaplan/widgets/DropDownButton' data-dojo-props\x3d'autoWidth:false'\x3e\n        \x3cdiv data-dojo-attach-point\x3d'selectLineItemTooltipDialog' data-dojo-type\x3d'dijit/TooltipDialog' data-dojo-attach-event\x3d'open:_showLineItemSelector'\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cspan class\x3d'clearWrapper'\x3e\n        \x3ca data-dojo-attach-point\x3d'clearAnchor' data-dojo-attach-event\x3d'click:_onClear' href\x3d'#'\x3e${labelClear}\x3c/a\x3e\n    \x3c/span\x3e\n    \x3cdiv class\x3d'imageOptionMessage' data-dojo-attach-point\x3d'imageOptionMessage'\x3e\x3c/div\x3e\n    \x3cdiv class\x3d'imageOptionMessage'\x3e${imageOptionNote}\x3c/div\x3e\n\x3c/div\x3e",
"url:anaplan/templates/StaticTextOptions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"staticTextStyle"\x3e\n        \x3clabel class\x3d"staticTextStyleLabel" data-dojo-attach-point\x3d"staticTextStyleLabel"\x3e\x3c/label\x3e\n        \x3cinput class\x3d"staticTextStyleSelect" data-dojo-attach-point\x3d"staticTextStyleSelect"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',"url:anaplan/templates/BulkEntityCopyEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel deleteFromLabel" data-dojo-attach-point\x3d"labelHierarchy"\x3e\x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"hierarchyFilteringSelect" data-dojo-attach-event\x3d"onChange:_onChange" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelCopyMode"\x3e\x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"copyModeFilteringSelect" tabIndex\x3d"2" autocomplete\x3d"true" hasDownArrow\x3d"true" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelDashboard"\x3e\x3c/label\x3e\n        \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-attach-point\x3d"dashboardsFilteringSelect" tabIndex\x3d"3" autocomplete\x3d"true" hasDownArrow\x3d"true" required\x3d"false" /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer actionEditorContainerCheckbox"\x3e\n        \x3cinput class\x3d"layoutCheckBox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"checkBoxPromptToShowNewlyCreatedItems" tabindex\x3d"4"/\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelPromptToShowNewlyCreatedItems"\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"actionEditorContainer"\x3e\n        \x3clabel class\x3d"actionEditorLabel" data-dojo-attach-point\x3d"labelFilterProperty"\x3e\x3c/label\x3e\n        \x3cdiv style\x3d"float: right;" data-dojo-attach-point\x3d"filterPropertyDomNode" tabIndex\x3d"2"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:anaplan/templates/SelectItems.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"keydown:_onKeyDown" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"lhs"\x3e\n        \x3cdiv class\x3d"title" data-dojo-attach-point\x3d"titleLhs"\x3e${titleLhs}\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/Toolbar" data-dojo-attach-point\x3d"toolbarLhs"\x3e\n            \x3cspan data-dojo-attach-point\x3d"lhsInlineSearch" data-dojo-type\x3d"anaplan/widgets/InlineSearch" data-dojo-attach-event\x3d"searchmatches:_onLhsSearchMatches,searchclear:_onLhsSearchClear" data-dojo-props\x3d"disabled:true"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"listContainer" data-dojo-attach-point\x3d"lhsContainer"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"lhsSortableList" data-dojo-attach-event\x3d"selectionchanged:_onLhsSortableListSelectionChanged" data-dojo-type\x3d"anaplan/widgets/SortableList" data-dojo-props\x3d"canDrag:false,alwaysUseItemStyle:true"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"rhs"\x3e\n        \x3cdiv class\x3d"title" data-dojo-attach-point\x3d"titleRhs"\x3e${titleRhs}\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/Toolbar" data-dojo-attach-point\x3d"toolbarRhs"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rhsInlineSearch" data-dojo-type\x3d"anaplan/widgets/InlineSearch" data-dojo-attach-event\x3d"searchmatches:_onRhsSearchMatches,searchclear:_onRhsSearchClear" data-dojo-props\x3d"disabled:true"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"reorderButtonGroup" data-dojo-attach-point\x3d"reorderButtonGroup"\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonReorderTop" data-dojo-type\x3d"anaplan/widgets/Button"\n                       data-dojo-attach-event\x3d"onClick:_onReorderTopButtonClick"\n                       data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderTop\',disabled:true,showLabel:false"\x3e\x3c/input\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonReorderUp" data-dojo-type\x3d"anaplan/widgets/Button"\n                       data-dojo-attach-event\x3d"onClick:_onReorderUpButtonClick"\n                       data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderUp\',disabled:true,showLabel:false"\x3e\x3c/input\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonReorderDown" data-dojo-type\x3d"anaplan/widgets/Button"\n                       data-dojo-attach-event\x3d"onClick:_onReorderDownButtonClick"\n                       data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderDown\',disabled:true,showLabel:false"\x3e\x3c/input\x3e\n                \x3cinput type\x3d"button" data-dojo-attach-point\x3d"buttonReorderBottom" data-dojo-type\x3d"anaplan/widgets/Button"\n                       data-dojo-attach-event\x3d"onClick:_onReorderBottomButtonClick"\n                       data-dojo-props\x3d"iconClass:\'anaplanEditorIconReorderBottom\',disabled:true,showLabel:false"\x3e\x3c/input\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"listContainer" data-dojo-attach-point\x3d"rhsContainer"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"rhsSortableList" data-dojo-attach-event\x3d"selectionchanged:_onRhsSortableListSelectionChanged" data-dojo-type\x3d"anaplan/widgets/SortableList" data-dojo-props\x3d"alwaysUseItemStyle:true"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"buttonPanel" class\x3d"buttonPanel"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"verticalButtonGroup" class\x3d"vertical-button-group"\x3e\n            \x3cinput type\x3d"button" label\x3d"${lblMoveAllRight}" data-dojo-props\x3d"iconClass:\'anaplanEditorIcon anaplanEditorIconMoveAllRight\',disabled:true,showLabel:false"\n                   data-dojo-attach-point\x3d"buttonMoveAllRight" data-dojo-type\x3d"anaplan/widgets/Button"\n                   data-dojo-attach-event\x3d"onClick:_onMoveAllRightButtonClick"/\x3e\n            \x3cinput type\x3d"button" label\x3d"${lblMoveSelectedRight}" data-dojo-props\x3d"iconClass:\'anaplanEditorIcon anaplanEditorIconMoveSelectedRight\',disabled:true,showLabel:false"\n                   data-dojo-attach-point\x3d"buttonMoveSelectedRight" data-dojo-type\x3d"anaplan/widgets/Button"\n                   data-dojo-attach-event\x3d"onClick:_onMoveSelectedRightButtonClick"/\x3e\n            \x3cinput type\x3d"button" label\x3d"${lblMoveSelectedLeft}" data-dojo-props\x3d"iconClass:\'anaplanEditorIcon anaplanEditorIconMoveSelectedLeft\',disabled:true,showLabel:false"\n                   data-dojo-attach-point\x3d"buttonMoveSelectedLeft" data-dojo-type\x3d"anaplan/widgets/Button"\n                   data-dojo-attach-event\x3d"onClick:_onMoveSelectedLeftButtonClick"/\x3e\n            \x3cinput type\x3d"button" label\x3d"${lblMoveAllLeft}" data-dojo-props\x3d"iconClass:\'anaplanEditorIcon anaplanEditorIconMoveAllLeft\',disabled:true,showLabel:false"\n                   data-dojo-attach-point\x3d"buttonMoveAllLeft" data-dojo-type\x3d"anaplan/widgets/Button"\n                   data-dojo-attach-event\x3d"onClick:_onMoveAllLeftButtonClick"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"infoMessage" data-dojo-attach-point\x3d"validationMsg" style\x3d"visibility:hidden"\x3e\n        \x3cspan class\x3d"dijitReset dijitInline dijitIcon anaplanEditorIcon anaplanEditorIconInformationMessage"\x3e\x3c/span\x3e\n        \x3cspan class\x3d"validationMsgText" data-dojo-attach-point\x3d"validationMsgText"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons" data-dojo-attach-point\x3d"buttonsContainer"\x3e\n        \x3cspan data-dojo-attach-point\x3d"busyIndicator" class\x3d"indicator busyIndicator"\x3e\x3c/span\x3e\n        \x3cinput type\x3d"button"\n               class\x3d"primary-button"\n               label\x3d"${lblApply}"\n               disabled\x3d"true"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-point\x3d"buttonApply"\n               data-dojo-attach-event\x3d"click:_submit"\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblCancel}"\n               data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-point\x3d"buttonCancel"\n               data-dojo-attach-event\x3d"click:onCancel"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"url:anaplan/templates/MobileGridlet.html":'\x3cdiv class\x3d"${baseClass} ${themeClass}" waiRole\x3d"presentation" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv style\x3d"position:relative" data-dojo-attach-point\x3d"_outerwrapper"\x3e\n        \x3cdiv style\x3d"overflow: hidden; position: absolute; left: 0px; top: 0px; display: none;" data-dojo-attach-point\x3d"_wrapper"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_tableDiv" style\x3d"position: absolute; top: 0; right: 0; bottom: 0; left: 0;"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv style\x3d"overflow: hidden; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;" data-dojo-attach-point\x3d"_waitMessage"\x3e\x3cdiv class\x3d"loadingMessage"\x3e\x3cspan class\x3d"loadingMessageLabel"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"gridScrollLayer" style\x3d"overflow: scroll; -webkit-overflow-scrolling: touch; -webkit-transform:translateZ(0); font-size: 9px;" data-dojo-attach-event\x3d"scroll:_scrollEventHandler" data-dojo-attach-point\x3d"_node"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_scrollNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/InsertActions.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessage" class\x3d"errorMessage" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"numberedItemCountDiv" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"itemNamesDiv" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"options top"\x3e\n        \x3cselect data-dojo-attach-point\x3d"positionSelect" data-dojo-attach-event\x3d"onchange:_onPositionSelectChange"\x3e\x3c/select\x3e\n        \x3cspan data-dojo-attach-point\x3d"relativeToItemName"\x3e\x3c/span\x3e\n\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"actionEditor" class\x3d"actionEditor"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"insertActionsNameContainer" class\x3d"insertActions actionEditorContainer"\x3e\n            \x3cdiv class\x3d"actionEditorLabel"\x3e\n                \x3c!--\x3cspan class\x3d"actionEditorMandatory"\x3e*\x3c/span\x3e--\x3e\n                \x3clabel\x3e${actionEditorLabel}\x3c/label\x3e\n            \x3c/div\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"itemNamesTextArea" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-event\x3d"onKeyPress:_onItemNamesKeyPress" class\x3d"insertActionsInputText" tabIndex\x3d"1" /\x3e\n\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"helpMessage" class\x3d"actionEditorHelpContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"buttons" data-dojo-attach-point\x3d"actionButtons"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"busyIndicator" class\x3d"busyIndicator" style\x3d"visibility: hidden;"\x3e\x3c/div\x3e\n        \x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onOkButtonClick" type\x3d"button"  /\x3e\n        \x3cinput data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button"\n               data-dojo-attach-event\x3d"onClick:_onCancelButtonClick" type\x3d"button"  /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:anaplan/templates/MapChartOptions.html":'\x3cdiv class\x3d"${baseClass} chartOptionsTab"\x3e\r\n    \x3cform class\x3d"${baseClass}"\x3e\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" \x3eData\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"legend formRow"\x3e\r\n            \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"labelLegend"\x3e \x3c/label\x3e\r\n            \x3cinput class\x3d"layoutDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                   data-dojo-attach-event\x3d"onChange:_onChangeHandler" data-dojo-attach-point\x3d"mapType"\r\n                   autocomplete\x3d"true" hasDownArrow\x3d"true" tabIndex\x3d"1" /\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"form-group-heading"\x3e\r\n            \x3cspan class\x3d"form-group-heading-label" \x3eLabels\x3c/span\x3e\r\n            \x3cspan class\x3d"form-group-heading-fill"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"bar"\x3e\r\n            \x3cinput\r\n                    class\x3d"lineItemCheckBox" data-dojo-attach-point\x3d"regionLabelCheckBox" dojoType\x3d"dijit/form/CheckBox"\r\n                    data-dojo-attach-event\x3d"onChange:_onChangeRegionLabels" tabIndex\x3d"2" /\x3e\r\n            \x3clabel class\x3d"legendCheckboxLabel" data-dojo-attach-point\x3d"labelShowRegions"\x3e \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"bar formRow"\x3e\r\n            \x3clabel class\x3d"legendLabel" data-dojo-attach-point\x3d"labelRegions"\x3e \x3c/label\x3e\r\n            \x3cinput class\x3d"lineItemDropDown" data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n                   data-dojo-attach-point\x3d"barLabel" data-dojo-attach-event\x3d"onChange:_onChangeRegionSource"\r\n                   required\x3d"false" autocomplete\x3d"true" hasDownArrow\x3d"true" tabIndex\x3d"3" /\x3e\r\n        \x3c/div\x3e\r\n    \x3c/form\x3e\r\n\x3c/div\x3e',
"url:anaplan/templates/actions/CopyToNumberedList/_PasteResultsButtonPanel.html":'\x3cdiv class\x3d"${baseClass} buttons" data-element-id\x3d"pasteResultsButtonPanel"\x3e\n    \x3cinput class\x3d"primary-button"\n            data-dojo-attach-point\x3d"okButton"\n           data-dojo-type\x3d"anaplan/widgets/Button"\n           data-dojo-attach-event\x3d"click:onOk"\n           data-element-id\x3d"okButton"\n           type\x3d"button"\x3e\n\x3c/div\x3e',"url:anaplan/templates/ManageImportSources/EditSFDCSelection.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"-1"\x3e\n    \x3ctable border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\n        \x3ctbody\x3e\n            \x3ctr\x3e\n                \x3ctd\x3e\n                    \x3clabel class\x3d"label" data-dojo-attach-point\x3d"apiVersionLabel" for\x3d"${id}_apiVersionSpinner"\x3e${lblApiVersion}\x3c/label\x3e\n                \x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cinput id\x3d"${id}_apiVersionSpinner" data-dojo-type\x3d"dijit/form/NumberSpinner" data-dojo-attach-point\x3d"apiVersionSpinner" data-dojo-props\x3d"constraints:{min:17,max:99,places:1},smallDelta:1" maxlength\x3d"4" /\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3ctr\x3e\n                \x3ctd\x3e\n                    \x3clabel class\x3d"label" data-dojo-attach-point\x3d"primaryObjectLabel" for\x3d"${id}_primaryObjectTextBox"\x3e${lblPrimaryObject}\x3c/label\x3e\n                \x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cinput type\x3d"text" id\x3d"${id}_primaryObjectTextBox" class\x3d"primaryObjectTextBox" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"primaryObjectTextBox" /\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\t\x3cdiv class\x3d"relationshipsDiv"\x3e\n        \x3clabel class\x3d"label" for\x3d"${id}_addCustomFieldsCheckBox" data-dojo-attach-point\x3d"relationshipsLabel"\x3e${lblRelationship}\x3c/label\x3e\x3cbr /\x3e\n        \x3cinput type\x3d"text" id\x3d"${id}_relationshipsTextBox"  class\x3d"relationshipsTextBox" data-dojo-type\x3d"anaplan/widgets/SimpleTextarea" data-dojo-attach-point\x3d"relationshipsTextBox" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"fieldsDiv"\x3e\n        \x3clabel class\x3d"label" for\x3d"${id}_addCustomFieldsCheckBox" data-dojo-attach-point\x3d"fieldSelectionLabel"\x3e${lblFieldSelection}\x3c/label\x3e\x3cbr /\x3e\n        \x3cinput type\x3d"text" id\x3d"${id}_fieldSelectionTextBox"  class\x3d"fieldSelectionTextBox" data-dojo-type\x3d"anaplan/widgets/SimpleTextarea" data-dojo-attach-point\x3d"fieldSelectionTextBox" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"addCustomFieldsDiv"\x3e\n        \x3cinput type\x3d"checkbox" id\x3d"${id}_addCustomFieldsCheckBox" class\x3d"addCustomFieldsCheckBox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"addCustomFieldsCheckBox" /\x3e\n        \x3clabel class\x3d"label" for\x3d"${id}_addCustomFieldsCheckBox" data-dojo-attach-point\x3d"addCustomFieldsLabel"\x3e${lblAddCustomFields}\x3c/label\x3e\n\t\x3c/div\x3e\n\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblNext}"\n               data-dojo-attach-point\x3d"nextButton"\n               data-dojo-attach-event\x3d"onClick:_onNextButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n        \x3cinput type\x3d"button"\n               label\x3d"${lblCancel}"\n               data-dojo-attach-point\x3d"cancelButton"\n               data-dojo-attach-event\x3d"onClick:_onCancelButtonClick"\n               data-dojo-type\x3d"anaplan/widgets/Button" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/ColorSelectMenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem colorSelectMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n    \x3ctd data-dojo-attach-point\x3d"containerNode"\x3e\x3c/td\x3e\n\x3c/tr\x3e',"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:anaplan/templates/Widgets/SortableList.html":'\n\x3cdiv class\x3d"${baseClass}" withHandles\x3d"true" class\x3d"container handles"\x3e\n    \x3cul data-dojo-attach-point\x3d"listNode"\x3e\n\n    \x3c/ul\x3e\n\x3c/div\x3e',"url:anaplan/templates/LinkEditor.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n    \x3ctable\x3e\n        \x3ctbody\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3clabel data-dojo-attach-point\x3d"urlTextBoxLabel"\x3e\x3c/label\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cinput type\x3d"text" class\x3d"qa-editor-url" data-dojo-type\x3d"dijit/form/TextBox"\n                       data-dojo-attach-point\x3d"urlTextBox"\n                       data-dojo-attach-event\x3d"onKeyDown: _onUrlTextBoxKeyDown, onChange: _onUrlTextBoxChange"\n                       data-dojo-props\x3d"intermediateChanges: true"/\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3ctr\x3e\n            \x3ctd\x3e\x3clabel data-dojo-attach-point\x3d"labelTextBoxLabel"\x3e\x3c/label\x3e\x3c/td\x3e\n            \x3ctd\x3e\x3cinput type\x3d"text" class\x3d"qa-editor-display-text" data-dojo-type\x3d"dijit/form/TextBox"\n                       data-dojo-attach-point\x3d"labelTextBox"\n                       data-dojo-attach-event\x3d"onKeyDown: _onLabelTextBoxKeyDown, onChange: _onLabelTextBoxChange"\n                       data-dojo-props\x3d"intermediateChanges: true"/\x3e\x3c/td\x3e\n        \x3c/tr\x3e\n        \x3c/tbody\x3e\n    \x3c/table\x3e\n\x3c/div\x3e',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:anaplan/templates/Pivot.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"pivotInstructions" data-dojo-attach-point\x3d"pivotInstructions"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"pivotComponentContainer" data-dojo-attach-point\x3d"pivotComponentContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/PivotComponent.html":'\x3cdiv class\x3d"${baseClass}" tabindex\x3d"-1"\x3e\n    \x3cdiv class\x3d"pagesHeading" data-dojo-attach-point\x3d"pagesHeading"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"pagesBox" data-dojo-type\x3d"anaplan/widgets/PivotComponentDropArea" data-dojo-attach-point\x3d"pagesBox" allowMultiple\x3d"true" allowNesting\x3d"false"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"columnsHeading" data-dojo-attach-point\x3d"columnsHeading"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"columnsBox" data-dojo-type\x3d"anaplan/widgets/PivotComponentDropArea" data-dojo-attach-point\x3d"columnsBox" allowMultiple\x3d"false"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"rowsHeading" data-dojo-attach-point\x3d"rowsHeading"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"rowsBox" data-dojo-type\x3d"anaplan/widgets/PivotComponentDropArea" data-dojo-attach-point\x3d"rowsBox" allowMultiple\x3d"false"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"mockGrid" data-dojo-attach-point\x3d"mockGrid"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"validationMsg" data-dojo-attach-point\x3d"validationMsg" style\x3d"display: none;"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"buttons"\x3e\n        \x3cinput class\x3d"primary-button" type\x3d"button" data-dojo-attach-point\x3d"okButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onOk"/\x3e\n        \x3cinput type\x3d"button" data-dojo-attach-point\x3d"cancelButton" data-dojo-type\x3d"anaplan/widgets/Button" data-dojo-attach-event\x3d"onClick:_onCancel"/\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:anaplan/templates/MultiSelect.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,onkeypress:_onKeyPress" tabindex\x3d"${tabIndex}"\x3e\n    \x3cdiv class\x3d"multiSelectContainer"\x3e\n        \x3cdiv class\x3d"multiSelector" data-dojo-attach-point\x3d"simpleSelector" data-dojo-type\x3d"anaplan/widgets/SimpleSelector"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\t\x3cdiv class\x3d"buttons" role\x3d"presentation"\x3e\n\t\t\x3cinput class\x3d"primary-button" data-dojo-attach-point\x3d"inputOk" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputOkClick"\x3e\x3c/input\x3e\n\t\t\x3cinput data-dojo-attach-point\x3d"inputCancel" data-dojo-type\x3d"anaplan/widgets/Button" type\x3d"button" data-dojo-attach-event\x3d"onClick:_onInputCancelClick"\x3e\x3c/input\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:anaplan/templates/ButtonOptions.html":'\x3cdiv class\x3d\'${baseClass}\'\x3e\n    \x3cul class\x3d"radiobutton-list"\x3e\n        \x3cli\x3e\n            \x3cinput type\x3d"radio"\n                   id\x3d"${id}-radioAuto"\n                   data-dojo-type\x3d"dijit/form/RadioButton"\n                   data-dojo-attach-point\x3d"autoRadioButton"\n                   data-dojo-attach-event\x3d"onChange:_onAutoRadioButtonChange"\n                   tabindex\x3d"0"\x3e\n            \x3clabel class\x3d"radioLabel" for\x3d"${id}-radioAuto" data-dojo-attach-point\x3d"autoLabel"\x3e${labelAuto}\x3c/label\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            \x3cinput type\x3d"radio"\n                   id\x3d"${id}-radioCustom"\n                   data-dojo-type\x3d"dijit/form/RadioButton"\n                   data-dojo-attach-point\x3d"customRadioButton"\n                   data-dojo-attach-event\x3d"onChange:_onCustomRadioButtonChange"\n                   tabindex\x3d"-1"\x3e\n            \x3clabel class\x3d"radioLabel" for\x3d"${id}-radioCustom" data-dojo-attach-point\x3d"customLabel"\x3e${labelCustom}\x3c/label\x3e\n            \x3cinput data-dojo-type\x3d"dijit/form/NumberSpinner" required\x3d"true"\n                   id\x3d"${id}-inputWidth"\n                   data-dojo-attach-point\x3d"inputWidth"\n                   data-dojo-props\x3d"intermediateChanges:true,constraints:{min:${DASHBOARD_MINIMUM_BUTTON_WIDTH},max:${DASHBOARD_MAXIMUM_BUTTON_WIDTH},places:0},rangeMessage:\'${RANGE_MESSAGE}\'",\n                   maxlength\x3d"3"\n                   tabindex\x3d"-1"\x3e\n            \x3cspan data-dojo-attach-point\x3d"unitsWidth"\x3epx\x3c/span\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e',
"*now":function(l){l(['dojo/i18n!*preload*anaplan/nls/main*["ar","am","bg","bn","c","ca","cs","cs-cz","da","de","de-ch","de-de","el","en","en-au","en-ca","en-gb","en-nz","en-ph","en-sg","en-us","en-za","es","es-ar","es-419","es-es","et","et-ee","fa","fi","fi-fi","fil","fr","fr-fr","gu","he","hi","hr","hr-hr","hu","hu-hu","id","it","it-it","ja","ja-jp","kn","ko","lt","lv","ml","mr","ms","nl","nb","nb-no","nl-nl","no","pl","pl-pl","pt-br","pt-pt","ro","ro-ro","ru","ru-ru","sk","sk-sk","sl","sr","sv","sv-se","sw","ta","te","th","tr","tr-tr","uk","vi","zh-cn","zh-tw","ROOT"]'])}}});
define("anaplan/main","anaplan/api/service anaplan/common/KeepAlive anaplan/data/ModelContentCache anaplan/preloader anaplan/utils/ErrorDialog anaplan/utils/FormatHelper anaplan/utils/InfoDialogHelper anaplan/utils/JsHelper anaplan/utils/RedirectHelper anaplan/widgets/Notifier anaplan/yolk/yolkloader dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/Deferred dojo/sniff dojo/topic dojo/i18n!anaplan/nls/main".split(" "),function(l,s,p,q,f,k,n,m,h,e,g,d,a,r,b,t,u,v,z){window.service=
l;return a(null,{constructor:function(a){window.workspaceServerGuid=a.workspaceServerGuid;window.workspaceId=a.selectedWorkspaceId;window.modelId=a.selectedModelId;var b=k.createUUID();window.sessionId=b;this._applicationArgs=a},load:function(){var a=new t;try{b.toggle(document.getElementsByTagName("html")[0],"svg",u("svg"));new e({id:"notifier",positionDirection:"tc-down"});v.subscribe("anaplan/uierror",function(a,b,d,e){f.showErrorReporter(a,b,d,e)});v.subscribe("anaplan/reloadPageDueToExpiredSession",
function(){try{n.showInfoDialog(z.messageSessionExpired,{title:z.titleSessionExpired,sessionTimeout:"sessionTimeout"}).then(function(){window.location.reload(!0)})}catch(a){console.error(a)}});if(this._applicationArgs.isDashboardOnly)return(new g).load(this._applicationArgs).then(a.resolve,a.reject),a.promise;v.subscribe("anaplan/aggregator/redirect",function(a){window.modelId?window.location=a.redirectUrl+"\x26selectedModelId\x3d"+window.modelId:-1===a.redirectUrl.indexOf("takeAction")?window.location=
a.redirectUrl+"\x26takeAction\x3dmodelManagement":window.location=a.redirectUrl});(new q).load(this._applicationArgs).then(r.hitch(this,function(b){b=p.getUserInfo();if(m.isNullOrUndefined(b))throw console.warn("Invalid user?"),"InvalidStateException";window.userId=b.loggedInUserGuid;b=p.getWorkspaceInfo();if(!m.isNullOrUndefined(b)){window.workspaceId=b.workspaceId;window.workspaceName=b.workspaceName;if(!m.isNullOrUndefined(window.modelId)){var e=d.indexOf(b.modelIds,window.modelId);-1<e&&(window.modelName=
b.modelNames[e])}(new s({interval:3E5,workspaceId:b.workspaceId})).init()}require(["anaplan/applicationloader"],r.hitch(this,function(b){(new b(this._applicationArgs)).load().then(function(){a.resolve()},function(b){a.reject(b)})}))}),function(b){a.reject()})}catch(h){console.warn("Require failed?"),a.reject(h)}return a.promise}})});
//# sourceMappingURL=main.js.map